<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2818] Site failing critical site_verify tests - HWI</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2818" method="post">
<div class="page-header">
    <h3><span class="muted">2818</span> / Site failing critical site_verify tests - HWI</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jon Bednasz</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2007-01-10</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GRASE <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2818", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2818#1169488829'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-22T18:00:29+00:00">Jan 22, 2007 06:00 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1169488829">&nbsp;</a></div><pre>It looks like HWI has fixed the issue using the GLOBUS_HOSTNAME
environment variable to get around the NAT issues.  Please try
site verification again.

Steve

--
Steve Gallo
Lead Software Engineer / Database Administrator
smgallo@....
Center for Computational Research
New York State Center of Excellence in Bioinformatics & Life Sciences
University at Buffalo, The State University of New York
701 Ellicott Street, Buffalo, NY 14203
716-881-8960

&#34;Life should not be a journey to the grave with the intention of
arriving safely in a pretty and well preserved body, but rather to
skid in broadside, thoroughly used up, totally worn out, and loudly
proclaiming &#39;WOW! What A Ride!&#39; &#34;</pre></div><div class='update_description'><i onclick="document.location='2818#1168977760'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-16T20:02:40+00:00">Jan 16, 2007 08:02 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1168977760">&nbsp;</a></div><pre>From&#58; 	  bacon@....
Subject&#58; 	Re&#58; Gateway machine behind NAT firewall
Date&#58; 	January 13, 2007 11&#58;21&#58;49 AM EST
To&#58; 	  smgallo@....
Cc&#58; 	  hs@...., OSG-OPERATIONS@...., jbednasz@....

Check out the PDF at <a href='http&#58;//www.globus.org/toolkit/security/firewalls/' target='_blank' rel='nofollow'>http&#58;//www.globus.org/toolkit/security/firewalls/</a> - it should
help you understand how GLOBUS_HOSTNAME works with the NAT.  You&#39;ll want two things
to be true&#58;

1)  The GLOBUS_HOSTNAME on the gatekeeper is set to the NAT&#39;s hostname
2)  The certificate for the gatekeeper gives the NAT&#39;s hostname.

This is so that when the client does the reverse-IP lookup on where it is connecting
(the nat), it gets the same hostname as is being presented by the gatekeeper.
Section 5.3 has the couple of steps to follow, including the setup of ephemeral port
ranges via GLOBUS_TCP_PORT_RANGE.

Charles

On Jan 13, 2007, at 6&#58;54 AM, Steven M. Gallo wrote&#58;

Hi Horst,

We&#39;re able to reach the gatekeeper, the site is using port forwarding.
The problem seems to be that the gatekeeper gives it&#39;s non-routable
address to the client and the client tries to connect to that IP
address, which of course doesn&#39;t work.  If we could somehow tell it to
give our it&#39;s FQHN instead of the IP address then DNS would resolve
correctly and the firewall would forward the ports.

Steve

Horst Severini wrote&#58;
Hi Steve,
<div id='show_1249076641' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1249076641'>I don&#39;t think you&#39;ll be able to get that to work.
Unless you do some elaborate NAT forwarding on the NAT router.
As far as I know, GLOBUS_HOSTNAME can only be used if &#96;hostname&#96;
gives a different FQHN than DNS knows about -- but that doesn&#39;t help
if the gatekeeper isn&#39;t even reachable because it&#39;s behind a NAT.
Others correct me if I&#39;m wrong.
Cheers,
Horst
</div><script type='text/javascript'>
        $('#show_1249076641').click(function() {
            $('#detail_1249076641').slideDown("normal");
            $('#show_1249076641').hide();
            $('#hide_1249076641').show();
        });
        $('#hide_1249076641').click(function() {
            $('#detail_1249076641').slideUp();
            $('#hide_1249076641').hide();
            $('#show_1249076641').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2818#1168637161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-12T21:26:01+00:00">Jan 12, 2007 09:26 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1168637161">&nbsp;</a></div><pre>From&#58; 	  smgallo@....
Subject&#58; 	Gateway machine behind NAT firewall
Date&#58; 	January 12, 2007 4&#58;14&#58;41 PM EST
To&#58; 	  OSG-OPERATIONS@....
Cc&#58; 	  jbednasz@....

Hello,

We have a site that has their gatekeeper behind a NAT firewall.
Their incoming GSIFTP is failing because the initiating host is
receiving the NAT address and, obviously, can&#39;t connect to that
address.  I remember reading something about the GLOBUS_HOSTNAME
environment variable, can this be used to correct the problem or are
there other things that need to be done to get a gatekeeper working
behind NAT?

Thanks,
Steve</pre></div><div class='update_description'><i onclick="document.location='2818#1168634955'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-12T20:49:15+00:00">Jan 12, 2007 08:49 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1168634955">&nbsp;</a></div><pre>No, sorry I don&#39;t know much about NAT. This should go out to the osg-
operations for discussion. Maybe we will find someone who can answer
this question.

Rob

On Jan 12, 2007, at 3&#58;27 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1168633631'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-12T20:27:11+00:00">Jan 12, 2007 08:27 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1168633631">&nbsp;</a></div><pre>Rob,

Do you know the answer to Steve&#39;s question regarding gatekeepers that are behind a NAT?

Tim

Well, here&#39;s an update.

Apparently the HWI gatekeeper is behind a NAT firewall (news to us) and is
failing the site verify on gsiftp.  I remember something about a
GLOBUS_HOSTNAME environment variable that could be set, or will a
gatekeeper not work on NAT?

Steve</pre></div><div class='update_description'><i onclick="document.location='2818#1168621999'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-12T17:13:19+00:00">Jan 12, 2007 05:13 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1168621999">&nbsp;</a></div><pre>Well, here&#39;s an update.

Apparently the HWI gatekeeper is behind a NAT firewall (news to us) and is
failing the site verify on gsiftp.  I remember something about a
GLOBUS_HOSTNAME environment variable that could be set, or will a
gatekeeper not work on NAT?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1168454596'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-10T18:43:16+00:00">Jan 10, 2007 06:43 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1168454596">&nbsp;</a></div><pre>Hi -

We&#39;re (Jon) working on this, site verify is failing on gsiftp.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1167931878'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-04T17:31:18+00:00">Jan 4, 2007 05:31 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1167931878">&nbsp;</a></div><pre>The only files missing the environment were the
$VDT_LOCATION/setup.{sh,csh} files, which I&#39;ve asked Steve Potter to
add to his configuration.  The other files looked correct.  Will
let you know once he&#39;s made the change.

FYI - I believe that none of our other sites including u2-grid have
this line in the setup file, only the other 3.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1167931615'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-04T17:26:55+00:00">Jan 4, 2007 05:26 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1167931615">&nbsp;</a></div><pre>GRASE,

Running a globus-job-submit we see that you&#39;re using a non-standard port, which is fine, just be
sure to configure your port range accordingly.

mlmonitor@grid01 .globus $ globus-job-submit idun.hwi.buffalo.edu /bin/sleep 600
<a href='https&#58;//idun.hwi.buffalo.edu&#58;16506/3228/1167928661/' target='_blank' rel='nofollow'>https&#58;//idun.hwi.buffalo.edu&#58;16506/3228/1167928661/</a>

Using globus-job-submit is how we determined the issue to be with the TCP port range
configuration. We suspect that the four files we mentioned may be configured to use the standard
port range, causing issues.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
web&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a>
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></pre></div><div class='update_description'><i onclick="document.location='2818#1167930237'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-01-04T17:03:57+00:00">Jan 4, 2007 05:03 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1167930237">&nbsp;</a></div><pre>Steve,

Let&#39;s be sure that the Globus TCP port range is configured correctly in the following locations. The
entries should look like this&#58; GLOBUS_TCP_PORT_RANGE=40000,41000 but using the ports you&#39;ve
designated.

$VDT_LOCATION/setup.sh
$VDT_LOCATION/globus/etc/globus-job-manager.conf
/etc/xinetd.d/globus-gatekeeper
/etc/xinetd.d/globus-gsiftp

Please let us know if you have any questions.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
web&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a>
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></pre></div><div class='update_description'><i onclick="document.location='2818#1167322272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-28T16:11:12+00:00">Dec 28, 2006 04:11 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1167322272">&nbsp;</a></div><pre>Rob,

I&#39;m really stuck here. Leigh was assisting in the troubleshooting, but with her departure I wondered if
you could review the ticket and perhaps provide some suggestions on how to proceed?

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='2818#1166728395'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-21T19:13:15+00:00">Dec 21, 2006 07:13 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1166728395">&nbsp;</a></div><pre>Hi Leigh,

Steve Potter was able to &#34;su - mis&#34; and create files.  We also changed
my mapping in the gridmapfile and I was able to run commands from
u2-grid as the mis user on idun without incident.

Log files are being created in the mis user&#39;s home directory, and are
showing that the error is

GLOBUS_GRAM_JOB_MANAGER_STATE_EARLY_FAILED

I&#39;ve attached 4 of the mis log files from Steve.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1166710687'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-21T14:18:07+00:00">Dec 21, 2006 02:18 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1166710687">&nbsp;</a></div><pre>GRASE Support,

The error 74 is related to Globus access to the file system on the remote host.
The access is usually related to the user account (mis) or permissions for
the user account home directory.

globus-job-run !$ /bin/echo hello
globus-job-run idun.hwi.buffalo.edu /bin/echo hello
GRAM Job submission failed because the job manager failed to open stderr (error code 74)

I would suggest that the site admin use &#34;su&#34; to the mis user and see if files can be
created.

Thanks
leigh</pre></div><div class='update_description'><i onclick="document.location='2818#1166198368'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-15T15:59:28+00:00">Dec 15, 2006 03:59 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1166198368">&nbsp;</a></div><pre>We had a problem with out ticket system yesterday that may have prevented you from receiving
the following detailed update, so we are resending. Sorry for the inconvenience. - OSG Grid
Operations

The error 74 is related to Globus access to the file system on the remote host.
The access is usually related to the user account (mis) or permissions for
the user account home directory.

globus-job-run !$ /bin/echo hello
globus-job-run idun.hwi.buffalo.edu /bin/echo hello
GRAM Job submission failed because the job manager failed to open stderr (error code 74)

I would suggest that the site admin use &#34;su&#34; to the mis user and see if files can be
created.

Thanks
leigh</pre></div><div class='update_description'><i onclick="document.location='2818#1166112728'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-14T16:12:08+00:00">Dec 14, 2006 04:12 PM UTC</time> by <b>leighg</b><a class="anchor" name="1166112728">&nbsp;</a></div><pre>The error 74 is related to Globus access to the file system on the remote host.
The access is usually related to the user account (mis) or permissions for
the user account home directory.

globus-job-run !$ /bin/echo hello
globus-job-run idun.hwi.buffalo.edu /bin/echo hello
GRAM Job submission failed because the job manager failed to open stderr (error code 74)

I would suggest that the site admin use &#34;su&#34; to the mis user and see if files can be
created.

Thanks
leigh</pre></div><div class='update_description'><i onclick="document.location='2818#1165954314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-12T20:11:54+00:00">Dec 12, 2006 08:11 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1165954314">&nbsp;</a></div><pre>Leigh,

Perhaps you can help me diagnose this one. From the information I&#39;ve read the error code 74 is
often related to a hostname issue, which I don&#39;t feel is the case here, or a firewall blocking the
incoming connection. Steve sees MIS jobs from GridCat in his logs, and it is firing up the job
manager. Yet when I execute globus-job-run the jobs fail. Steve sent us some logs, which you have
to download from the ticket within Footprints.

osggridcat@grid01 .globus $ globus-job-submit idun.hwi.buffalo.edu /bin/date
<a href='https&#58;//idun.hwi.buffalo.edu&#58;15534/19846/1165953495/' target='_blank' rel='nofollow'>https&#58;//idun.hwi.buffalo.edu&#58;15534/19846/1165953495/</a>

osggridcat@grid01 .globus $ globus-job-submit idun.hwi.buffalo.edu /bin/echo Hello Worldhttps&#58;//
idun.hwi.buffalo.edu&#58;15535/19883/1165953507/

osggridcat@grid01 .globus $ globus-job-run idun.hwi.buffalo.edu /bin/echo Hello WorldGRAM Job
submission failed because the job manager failed to open stderr (error code 74)

osggridcat@grid01 .globus $ date
Tue Dec 12 19&#58;59&#58;14 GMT 2006

Steve,

I found this on a LISTSERV archive. Could you follow through with this on your end?

Try starting up a globus-gass-server manually on your client machine, then
try to do a globus-url-copy on the servers that are having trouble. If
this fails, see if you can even telnet to your globus-gass-server from the
remote server. If the globus-url-copy does work, then try doing a job
request with globusrun and sending the output through your manual
globus-gass-server.

Tim

Hi,

<div id='show_630908520' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_630908520'>I&#39;ve attached 3 of the gram jobmanager logs from the mis jobs and
also snipped a portion of the globus-gatekeeper log. Things seem
to be running OK from the gatekeeper standpoint and I have no problem
running jobs.

Steve

TIME&#58; Tue Dec 12 11&#58;34&#58;02 2006
PID&#58; 9278 -- Notice&#58; 6&#58; /opt/grid/globus/sbin/globus-gatekeeper pid=9278
starting at Tue Dec 12 11&#58;34&#58;02 2006

TIME&#58; Tue Dec 12 11&#58;34&#58;02 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/grid/globus/var/accounting.log)
TIME&#58; Tue Dec 12 11&#58;34&#58;02 2006
PID&#58; 9278 -- Notice&#58; 6&#58; Got connection 129.79.4.64 at Tue Dec 12 11&#58;34&#58;02
2006

TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Authenticated globus user&#58;
/DC=org/DC=doegrids/OU=People/CN=Leigh Grundhoefer (GridCat) 693100
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GRID_SECURITY_HTTP_BODY_FD=7
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Requested service&#58; jobmanager
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Authorized as local user&#58; mis
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Authorized as local uid&#58; 512
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; and local gid&#58; 512
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; executing /opt/grid/globus/libexec/globus-job-manager
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GATEKEEPER_JM_ID
2006-12-12.11&#58;34&#58;03.0000009278.0000000000 for
/DC=org/DC=doegrids/OU=People/CN=Leigh Grundhoefer (GridCat) 693100 on
129.79.4.64
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GRID_SECURITY_CONTEXT_FD=10
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; Child 9301 started
</div><script type='text/javascript'>
        $('#show_630908520').click(function() {
            $('#detail_630908520').slideDown("normal");
            $('#show_630908520').hide();
            $('#hide_630908520').show();
        });
        $('#hide_630908520').click(function() {
            $('#detail_630908520').slideUp();
            $('#hide_630908520').hide();
            $('#show_630908520').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2818#1165941975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-12T16:46:15+00:00">Dec 12, 2006 04:46 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1165941975">&nbsp;</a></div><pre>Hi,

I&#39;ve attached 3 of the gram jobmanager logs from the mis jobs and
also snipped a portion of the globus-gatekeeper log.  Things seem
to be running OK from the gatekeeper standpoint and I have no problem
running jobs.

Steve

TIME&#58; Tue Dec 12 11&#58;34&#58;02 2006
PID&#58; 9278 -- Notice&#58; 6&#58; /opt/grid/globus/sbin/globus-gatekeeper pid=9278
starting at Tue Dec 12 11&#58;34&#58;02 2006

TIME&#58; Tue Dec 12 11&#58;34&#58;02 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/grid/globus/var/accounting.log)
TIME&#58; Tue Dec 12 11&#58;34&#58;02 2006
PID&#58; 9278 -- Notice&#58; 6&#58; Got connection 129.79.4.64 at Tue Dec 12 11&#58;34&#58;02
2006

TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Authenticated globus user&#58;
/DC=org/DC=doegrids/OU=People/CN=Leigh Grundhoefer (GridCat) 693100
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GRID_SECURITY_HTTP_BODY_FD=7
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Requested service&#58; jobmanager
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Authorized as local user&#58; mis
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58; Authorized as local uid&#58; 512
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 5&#58;           and local gid&#58; 512
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; executing /opt/grid/globus/libexec/globus-job-manager
<div id='show_910310428' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_910310428'>TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GATEKEEPER_JM_ID
2006-12-12.11&#58;34&#58;03.0000009278.0000000000 for
/DC=org/DC=doegrids/OU=People/CN=Leigh Grundhoefer (GridCat) 693100 on
129.79.4.64
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; GRID_SECURITY_CONTEXT_FD=10
TIME&#58; Tue Dec 12 11&#58;34&#58;03 2006
PID&#58; 9278 -- Notice&#58; 0&#58; Child 9301 started

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_910310428').click(function() {
            $('#detail_910310428').slideDown("normal");
            $('#show_910310428').hide();
            $('#hide_910310428').show();
        });
        $('#hide_910310428').click(function() {
            $('#detail_910310428').slideUp();
            $('#hide_910310428').hide();
            $('#show_910310428').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2818#1165856397'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-11T16:59:57+00:00">Dec 11, 2006 04:59 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1165856397">&nbsp;</a></div><pre>Steve,

Do you have any detail on those MIS jobs to share? I would be interested in seeing that. Could you tell
us what DN are the jobs running under? I ran Hello World using the GridCat and GridScan (VORS) DNs
and both fail with error code 74.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
web&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a>
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></pre></div><div class='update_description'><i onclick="document.location='2818#1165591033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-08T15:17:13+00:00">Dec 8, 2006 03:17 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1165591033">&nbsp;</a></div><pre>Hi - HWI said they have fixed their firewall.  Please try again, we saw
that MIS has jobs running on the machine.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1165333159'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-05T15:39:19+00:00">Dec 5, 2006 03:39 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1165333159">&nbsp;</a></div><pre>Hmmmm... I&#39;ll bet it&#39;s still a firewall issue, they tend to button
things down pretty tight over there&#58;

(smgallo@u2-grid)var &#58;&#62;globus-job-run idun.hwi.buffalo.edu /bin/echo Hello
World
Hello World

Let me check with him again and resent the port list.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1165332835'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-05T15:33:55+00:00">Dec 5, 2006 03:33 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1165332835">&nbsp;</a></div><pre>We&#39;re getting closer. &#58;)

mlmonitor@grid01 .globus $ globus-job-run idun.hwi.buffalo.edu /bin/echo Hello World
GRAM Job submission failed because the job manager failed to open stderr (error code 74)

--Tim</pre></div><div class='update_description'><i onclick="document.location='2818#1165331004'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-05T15:03:24+00:00">Dec 5, 2006 03:03 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1165331004">&nbsp;</a></div><pre>This is from Steve Potter @ HWI, try gridcat verification again.

Steve

<font color='#7F7E6F'>&#62; We have had a firewall change.  I see this morning that GridCat did connect.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 12/4/06 4&#58;40 PM, &#34;Steve Gallo&#34; &#60;smgallo@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; &#62;</font>
<font color='#7F7E6F'>&#62;&#62; &#62; Hi Steve,</font>
<font color='#7F7E6F'>&#62;&#62; &#62;</font>
<font color='#7F7E6F'>&#62;&#62; &#62; The Grid Operations Center (GOC) can&#39;t reach the HWI grid host</font>
<font color='#7F7E6F'>&#62;&#62; &#62; idun.hwi.buffalo.edu for it&#39;s daily verifications.  Is the host</font>
<font color='#7F7E6F'>&#62;&#62; &#62; up?  Or firewalled?  If so, see the following URL for ports that</font>
<font color='#7F7E6F'>&#62;&#62; &#62; need to be opened.  If you want a specific host list I can get</font>
<font color='#7F7E6F'>&#62;&#62; &#62; that from the GOC.</font>
<font color='#7F7E6F'>&#62;&#62; &#62;</font>
<font color='#7F7E6F'>&#62;&#62; &#62; <a href='http&#58;//osg.ivdgl.org/twiki/bin/view/ReleaseDocumentation/CEInstallGuide#Firewa' target='_blank' rel='nofollow'>http&#58;//osg.ivdgl.org/twiki/bin/view/ReleaseDocumentation/CEInstallGuide#Firewa</a></font>
<font color='#7F7E6F'>&#62;&#62; &#62; lls</font>
<font color='#7F7E6F'>&#62;&#62; &#62;</font>
<font color='#7F7E6F'>&#62;&#62; &#62; Steve</font>

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2818#1164988432'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-01T15:53:52+00:00">Dec 1, 2006 03:53 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1164988432">&nbsp;</a></div><pre>Grase,

The HWI Resource is failing a critical site_verify test&#58; host reachable. The last
successful test ran Thu Nov 30 14&#58;56&#58;07 2006 GMT. Could you investigate this failure
please?

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
web&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a>
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2818">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
