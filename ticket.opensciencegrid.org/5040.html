<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5040] CIT_CMS_T2 reSS probe failure</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5040" method="post">
<div class="page-header">
    <h3><span class="muted">5040</span> / CIT_CMS_T2 reSS probe failure</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Michael Thomas</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">followup if necessary</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-06-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG-GOC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">ReSS <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">USCMS <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5040", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5040?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5040?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20CIT_CMS_T2%20reSS%20probe%20failure%20ISSUE%3D5040%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5040#1212006848'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-28T20:34:08+00:00">May 28, 2008 08:34 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1212006848">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62;&#62; It appears that the probes run at a rate of ~1 probe every 15 minutes,</font>
<font color='#7F7E6F'>&#62;&#62; with updates to the rsv html page occurring just as often.  Does that</font>
<font color='#7F7E6F'>&#62;&#62; sound correct?</font>
<font color='#7F7E6F'>&#62;&#62;</font>
Hi Mike,

Each probe&#39;s time interval is listed in the metrics.conf file for that
particular host. For example,
$VDT_LOCATION/osg-rsv/config/foo.bar.edu_metrics.conf. If you never
edited these by hand (which is usually the case), then&#58;
* In RSV v1&#58;
-- If you copied a sample metrics config file, then they run at preset
sample time intervals shown in sample_metrics.conf
-- Otherwise, all the metrics are configured by the RSV configuration
script to run every 2 hours

* In RSV v2&#58;
-- All probes are programmed to provide a time interval. You can type
./probe-script -l -m all to get details.

Sorry it was a little confusing in RSV v1 but we&#39;re trying to improve ATDT.

Regarding the HTML page -- anytime there&#39;s a new probe output, the HTML
consumer picks up that change within a minute or two.

Let me know if this answers your question(s).

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='5040#1212003249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-28T19:34:09+00:00">May 28, 2008 07:34 PM UTC</time> by <b>Gabriele Garzoglio</b><a class="anchor" name="1212003249">&nbsp;</a></div><pre>Hi Mike,
mhmm... when you say hang, you mean that the condor_status command gives
you the usual error that cannot reach the collector, right?

Have you tried connecting to the collector port directly, with something
like

telnet 131.225.110.152 9618

Also, before executing the condor_status command

$condor_status -pool osg-ress-1.fnal.gov -const &#34;GlueSiteName==&#92;&#34;CIT_CMS_T2&#92;&#34;&#34;

can you try double checking the binding with

$ condor_config_val network_interface

I don&#39;t know the rsv probe frequency, but I&#39;m cc&#39;ing Arvind who can help
us with this question.

Gabriele

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1212000009'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-28T18:40:09+00:00">May 28, 2008 06:40 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1212000009">&nbsp;</a></div><pre>Hi Gabriele,

It shouldn&#39;t matter if it&#39;s in the global or local condor config file
for the condor-devel package, since the local file simply inherits from
the global one and adds a few extra settings.  But just for fun, I moved
the setting to the local condor config and restarted condor-devel.

In any case, I verified that the condor-devel processes are all
listening on the public network interface.  Even with this
configuration, the condor_status command continues to hang when trying
to contact osg-ress-1.fnal.gov.

It appears that the probes run at a rate of ~1 probe every 15 minutes,
with updates to the rsv html page occurring just as often.  Does that
sound correct?

--Mike

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211999289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-28T18:28:09+00:00">May 28, 2008 06:28 PM UTC</time> by <b>garzogli@....</b><a class="anchor" name="1211999289">&nbsp;</a></div><pre>Hi Mike,
have you set the NETWORK_INTERFACE parameter in the _local_ condor
config for the CE ? My understanding is that the rsv probes run there,
so that should be the right way... sorry that I wasn&#39;t more clear. I
wonder if your startdds are getting that parameter in their
configuration and fail to bind to the network. I&#39;m not sure if this is
the cause of your error, though&#58; sorry if I can&#39;t be of more help with
the condor batch system.

Let me know how it goes
Gabriele

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211993529'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-28T16:52:09+00:00">May 28, 2008 04:52 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1211993529">&nbsp;</a></div><pre>I also see the following error in some of the probe log files&#58;

(from ...org.osg.globus.gridftp-simple.log)

001 (045.000.000) 05/28 09&#58;08&#58;00 Job executing on host&#58;
&#60;198.32.44.169&#58;59320&#62;
...
021 (045.000.000) 05/28 09&#58;08&#58;00 Error from starter on
&#60;198.32.44.169&#58;59320&#62;&#58;
ProcD has failed

--Mike

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211993169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-28T16:46:09+00:00">May 28, 2008 04:46 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1211993169">&nbsp;</a></div><pre>Hi Gabriele,

Due to some repeating errors in the condor-devel log files, I restarted
condor-devel again this morning.  Only two of the probes have run in the
past half-hour.  The rest dump errors like the following into the condor
logs.  Any idea what this &#39;exit STATUS 107&#39; is for the condor_starter?

5/28 09&#58;26&#58;08 ******************************************************
5/28 09&#58;26&#58;08 Using config source&#58; /osg/0.8.0/condor-devel/etc/condor_config
5/28 09&#58;26&#58;08 Using local config sources&#58;
5/28 09&#58;26&#58;08    /osg/0.8.0/condor-devel/local.cithep169/condor_config.local
5/28 09&#58;26&#58;08 DaemonCore&#58; Command Socket at &#60;198.32.44.169&#58;52454&#62;
5/28 09&#58;26&#58;08 ERROR&#58; Unable to find collector info in configuration file!!!
5/28 09&#58;26&#58;08 Starter running a job under a schedd listening at
&#60;198.32.44.169&#58;59234&#62;
5/28 09&#58;26&#58;08 Done setting resource limits
5/28 09&#58;26&#58;08 Starter running a local job with no shadow
5/28 09&#58;26&#58;08 Reading job ClassAd from &#34;STDIN&#34;
5/28 09&#58;26&#58;08 Found ClassAd data in &#34;STDIN&#34;
5/28 09&#58;26&#58;08 setting the orig job name in starter
5/28 09&#58;26&#58;08 setting the orig job iwd in starter
5/28 09&#58;26&#58;08 Job 44.0 deferred for 292 seconds
5/28 09&#58;27&#58;00 Starting a LOCAL universe job with ID&#58; 51.0
5/28 09&#58;27&#58;00 IWD&#58; /
5/28 09&#58;27&#58;00 Output file&#58;
/osg/0.8.0/osg-rsv/logs/probes/cit-gatekeeper.ultralight.org__ping-host-probe@....
5/28 09&#58;27&#58;00 Error file&#58;
/osg/0.8.0/osg-rsv/logs/probes/cit-gatekeeper.ultralight.org__ping-host-probe@....
5/28 09&#58;27&#58;00 About to exec
/osg/0.8.0/osg-rsv/bin/probes/probe_wrapper.pl
/osg/0.8.0/osg-rsv/bin/probes/ping-host-probe --pingtimeout 4
--pingcount 2 -m org.osg.general.ping-host --verbose --ggs --gsl
/osg/0.8.0/osg-rsv/output/gratia --python-loc /usr/bin/python --uri
cit-gatekeeper.ultralight.org --proxy /tmp/x509up_u500
5/28 09&#58;27&#58;00 Create_Process succeeded, pid=29809
<div id='show_1793788702' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1793788702'>5/28 09&#58;27&#58;00 Process exited, pid=29809, status=1
5/28 09&#58;27&#58;00 ZKM&#58; setting default map to (null)
5/28 09&#58;27&#58;00 All jobs have exited... starter exiting
5/28 09&#58;27&#58;00 **** condor_starter (condor_STARTER) EXITING WITH STATUS 107
5/28 09&#58;31&#58;00 Starting a LOCAL universe job with ID&#58; 44.0
5/28 09&#58;31&#58;00 IWD&#58; /
5/28 09&#58;31&#58;00 Output file&#58;
/osg/0.8.0/osg-rsv/logs/probes/cit-gatekeeper.ultralight.org__gram-authentication-probe@....
5/28 09&#58;31&#58;00 Error file&#58;
/osg/0.8.0/osg-rsv/logs/probes/cit-gatekeeper.ultralight.org__gram-authentication-probe@....
5/28 09&#58;31&#58;00 About to exec
/osg/0.8.0/osg-rsv/bin/probes/probe_wrapper.pl
/osg/0.8.0/osg-rsv/bin/probes/gram-authentication-probe -m
org.osg.globus.gram-authentication --verbose --ggs --gsl
/osg/0.8.0/osg-rsv/output/gratia --python-loc /usr/bin/python --uri
cit-gatekeeper.ultralight.org --proxy /tmp/x509up_u500
5/28 09&#58;31&#58;00 Create_Process succeeded, pid=11917
5/28 09&#58;31&#58;01 Process exited, pid=11917, status=0
5/28 09&#58;31&#58;01 ZKM&#58; setting default map to (null)
5/28 09&#58;31&#58;01 All jobs have exited... starter exiting
5/28 09&#58;31&#58;01 **** condor_starter (condor_STARTER) EXITING WITH STATUS 107

--Mike

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1793788702').click(function() {
            $('#detail_1793788702').slideDown("normal");
            $('#show_1793788702').hide();
            $('#hide_1793788702').show();
        });
        $('#hide_1793788702').click(function() {
            $('#detail_1793788702').slideUp();
            $('#hide_1793788702').hide();
            $('#show_1793788702').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5040#1211927528'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-27T22:32:08+00:00">May 27, 2008 10:32 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1211927528">&nbsp;</a></div><pre>Hi Gabriele,

Yes, the gatekeeper does have multiple interfaces.  I followed your
suggestion and added &#39;NETWORK_INTERFACE=198.32.44.169&#39; to
$VDT_LOCATION/condor-devel/etc/condor_config, and restarted the
condor-devel and osg-rsv services.

I&#39;ll post and update after the probe runs again.

--Mike

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211924648'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-27T21:44:08+00:00">May 27, 2008 09:44 PM UTC</time> by <b>Gabriele Garzoglio</b><a class="anchor" name="1211924648">&nbsp;</a></div><pre>Very well. The problem is probably related to the condor command hanging.

Do you have multiple network interfaces on your CE? Often, condor
commands bind to the internal interface and cannot find the ress
collector here at fnal. To fix the problem, add this line to the
$CONDOR_CONFIG used by RSV&#58;

NETWORK_INTERFACE     = &#60;your CE public IP interface&#62;
e.g.
NETWORK_INTERFACE     = 131.225.110.65

Let me know if this helped.
Cheers
Gabriele

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211923748'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-27T21:29:08+00:00">May 27, 2008 09:29 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1211923748">&nbsp;</a></div><pre>Minor correction&#58;  The condor command hangs, and eventually fails with&#58;

$ condor_status -pool osg-ress-1.fnal.gov -const
&#34;GlueSiteName==&#92;&#34;CIT_CMS_T2&#92;&#34;&#34;
CEDAR&#58;6001&#58;Failed to connect to &#60;131.225.110.152&#58;9618&#62;
Error&#58; Couldn&#39;t contact the condor_collector on &#60;131.225.110.152&#58;9618&#62;.

Extra Info&#58; the condor_collector is a process that runs on the central
manager of your Condor pool and collects the status of all the machines and
jobs in the Condor pool. The condor_collector might not be running, it might
be refusing to communicate with you, there might be a network problem, or
there may be some other problem. Check with your system administrator to fix
this problem.

If you are the system administrator, check that the condor_collector is
running on &#60;131.225.110.152&#58;9618&#62;, check the HOSTALLOW configuration in your
condor_config, and check the MasterLog and CollectorLog files in your log
directory for possible clues as to why the condor_collector is not
responding. Also see the Troubleshooting section of the manual.

--Mike

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211923569'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-27T21:26:09+00:00">May 27, 2008 09:26 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1211923569">&nbsp;</a></div><pre>Hi Gabriele,

The script is there&#58;

# ls -l
/osg/0.8.0/osg-rsv/bin/probes/worker-scripts/classad-valid-probe-worker.sh
-rwxr-xr-x  1 root root 2953 Oct 24  2007
/osg/0.8.0/osg-rsv/bin/probes/worker-scripts/classad-valid-probe-worker.sh

The condor command hangs.  I have never been able to run this condor
command from my gatekeeper or any worker node successfully.

--Mike

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5040#1211922668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-27T21:11:08+00:00">May 27, 2008 09:11 PM UTC</time> by <b>Gabriele Garzoglio</b><a class="anchor" name="1211922668">&nbsp;</a></div><pre>I&#39;ve tried to run my copy of the classad-valid-probe-worker.sh command
and I see your site there with validity true&#58;

...
GlueSiteName=CIT_CMS_T2
GlueCEInfoContactString=cit-gatekeeper.ultralight.org&#58;2119/jobmanager-condor
Name=cit-gatekeeper.ultralight.org&#58;2119/jobmanager-condor-DOSAR.-105608573
isClassadValidAreCrtiticalAttributesPresent=1
isClassadValidAreImportantAttributesPresent=1
isClassadValidAreStateSlotsAndCPUNonNegative=1
isClassadValidAreTotalSlotsAndCPUPositive=1
isClassadValidIsCEHostNetAvailable=1
isClassadValid=1
GlueSiteName=CIT_CMS_T2
GlueCEInfoContactString=cit-gatekeeper.ultralight.org&#58;2119/jobmanager-condor
Name=cit-gatekeeper.ultralight.org&#58;2119/jobmanager-condor-DOSAR.-105608575
isClassadValidAreCrtiticalAttributesPresent=1
isClassadValidAreImportantAttributesPresent=1
isClassadValidAreStateSlotsAndCPUNonNegative=1
isClassadValidAreTotalSlotsAndCPUPositive=1
isClassadValidIsCEHostNetAvailable=1
isClassadValid=1
GlueSiteName=CIT_CMS_T2
......

Have you checked if the rsv probe is in fact there?

/osg/0.8.0/osg-rsv/bin/probes/worker-scripts/classad-valid-probe-worker.sh

Do you see your site in ress from that CE with something like
<font color='#7F7E6F'>&#62; &#60;setup your VDT environment&#62;</font>
<font color='#7F7E6F'>&#62; condor_status -pool osg-ress-1.fnal.gov -const</font>
&#34;GlueSiteName==&#92;&#34;CIT_CMS_T2&#92;&#34;&#34;
I wonder if it is a misconfiguration of your local condor commands (e.g.
commands bind to a local interface, instead of the global one).
<div id='show_503342943' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_503342943'>
Let me know
Gabriele

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_503342943').click(function() {
            $('#detail_503342943').slideDown("normal");
            $('#show_503342943').hide();
            $('#hide_503342943').show();
        });
        $('#hide_503342943').click(function() {
            $('#detail_503342943').slideUp();
            $('#hide_503342943').hide();
            $('#show_503342943').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5040#1211920868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-05-27T20:41:08+00:00">May 27, 2008 08:41 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1211920868">&nbsp;</a></div><pre>Queues = Grid

Submitter Name&#58; Michael Thomas

Application System&#58; thomas@....

Your Resource/Service Name&#58;
CIT_CMS_T2

Your VO Support Center&#58;
uscms

Your Phone Number&#58;
626.395.4016

Description of Problem&#58;
The org.osg.general.classad-valid probe fails with the status below.  I can see the host listed in <a href='https&#58;//osg-ress-1.fnal.gov&#58;8443/ReSS/ReSS-prd-ClassadValidity.html' target='_blank' rel='nofollow'>https&#58;//osg-ress-1.fnal.gov&#58;8443/ReSS/ReSS-prd-ClassadValidity.html</a>, and the script listed in the error message exists and is mode 0755, so I don&#39;t know why this probe would be failing.

metricName&#58; org.osg.general.classad-valid
metricType&#58; status
timestamp&#58; 2008-05-27T11&#58;46&#58;00Z
metricStatus&#58; CRITICAL
serviceType&#58; OSG-CE-General
serviceURI&#58; cit-gatekeeper.ultralight.org
gatheredAt&#58; cithep169.ultralight.org
summaryData&#58; CRITICAL
detailsData&#58; ERROR&#58; Cannot find CE host cit-gatekeeper.ultralight.org in ReSS collector
osg-ress-1.fnal.gov OR no isClassadValid Attributes are present
OR Worker script&#58; /osg/0.8.0/osg-rsv/bin/probes/worker-scripts/classad-valid-probe-worker.sh not found
.. Setting this Metric to ERROR;
Type /osg/0.8.0/osg-rsv/bin/probes/classad-valid-probe --help for more information..
EOT</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5040">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 5040});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
