<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4479] LIGO work-flow problem at STAR_BNL</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4479" method="post">
<div class="page-header">
    <h3><span class="muted">4479</span> / LIGO work-flow problem at STAR_BNL</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Britta Daudert</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">close once britta&#39;s quest is answered</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-02-13</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">STAR <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Troubleshooting <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/4479", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4479?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4479?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20LIGO%20work-flow%20problem%20at%20STAR_BNL%20ISSUE%3D4479%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4479#1201887488'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-01T17:38:08+00:00">Feb 1, 2008 05:38 PM UTC</time> by <b>Wayne Betts</b><a class="anchor" name="1201887488">&nbsp;</a></div><pre>The changes at STAR-BNL were&#58;

1.  Upgrade the gatekeeper&#39;s condor to 7.0.0.   The condor upgrade was
not specifically chosen to address the LIGO workflow problem, but there
was a convergence of problems noted at about the same time, and the
condor upgrade was specifically expected to help with one particular
problem by adding support for condor-cron.  Any other improvements were
going to be gravy.  In that gravy there turned out to be a fix for a
problem using condor_submit that I think started happening after
upgrading the gatekeeper and clients to OSG 0.8.0 (which occurred around
the start of the year).  I don&#39;t know precisely what was going wrong,
but it might have been the same problem as the LIGO workflow was
experiencing.

2.  Add &#39;local&#39; universe support.  This too was done specifically for a
problem other than the LIGO workflow.  I doubt this helped the LIGO
workflow, but I note it for the record just in case.

Even shots in the dark hit the target sometimes...

-Wayne

Anand Padmanabhan wrote&#58;
<font color='#7F7E6F'>&#62; That&#39;s Great!</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Wayne, Just for future reference, do we know the precise problem with</font>
<font color='#7F7E6F'>&#62; Condor 6.8.4 that was causing LIGO job to fail and was fixed by the</font>
<font color='#7F7E6F'>&#62; upgrade to Condor 7.0.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1201885328'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-01T17:02:08+00:00">Feb 1, 2008 05:02 PM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1201885328">&nbsp;</a></div><pre>Hi all,
I would like to know what the administrative changes other than the
condor upgrade were that were made at STAR_BNL.
This is for record keeping and further troubel shooting at other sites.
Thank you.
Britta

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1201881301'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-01T15:55:01+00:00">Feb 1, 2008 03:55 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1201881301">&nbsp;</a></div><pre>customer reports issue has been resolved.
closing
--tom</pre></div><div class='update_description'><i onclick="document.location='4479#1201881188'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-01T15:53:08+00:00">Feb 1, 2008 03:53 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1201881188">&nbsp;</a></div><pre>That&#39;s Great!

Wayne, Just for future reference, do we know the precise problem with
Condor 6.8.4 that was causing LIGO job to fail and was fixed by the
upgrade to Condor 7.0.

Thanks
Anand
Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1201879928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-01T15:32:08+00:00">Feb 1, 2008 03:32 PM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1201879928">&nbsp;</a></div><pre>Hi all,
I ran two workflows and both completed successfully.
Please close this ticket and thatnk you all for your help.
Britta

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1201811888'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-31T20:38:08+00:00">Jan 31, 2008 08:38 PM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1201811888">&nbsp;</a></div><pre>yes, it is looking good so far. I will know more tonight/tomorrow.
Thnk you for your help.
Britta

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1201811167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-31T20:26:07+00:00">Jan 31, 2008 08:26 PM UTC</time> by <b>Wayne Betts</b><a class="anchor" name="1201811167">&nbsp;</a></div><pre>Britta et al.,

I see a new set of jobs was submitted, and things look good from this end.

The executable has been changed to use the correct path -- Was/Is there
some faulty source of information about the STAR-BNL site published or
advertised somewhere, or was it a mistaken choice of variable for the
executable&#39;s path?

Here are a couple snapshots of things&#58;

[root@stargrid02 OSG]# netstat -p |grep ligo
tcp        0      0 stargrid02.rcf.bnl.go&#58;20004
osg-itb-se.ligo.calte&#58;50003 TIME_WAIT   -
tcp        0      0 stargrid02.rcf.bnl.go&#58;20004
osg-itb-se.ligo.calte&#58;50002 TIME_WAIT   -
tcp        0      0 stargrid02.rcf.bnl.go&#58;20005
osg-itb-se.ligo.calte&#58;50005 TIME_WAIT   -
tcp        0      0 stargrid02.rcf.bnl.go&#58;20005
osg-itb-se.ligo.calte&#58;50006 TIME_WAIT   -
tcp        0      0 stargrid02.rcf.bnl.go&#58;48982
osg-itb-se.ligo.calte&#58;52143 ESTABLISHED 13991/globus-job-ma
tcp        0    265 stargrid02.rcf.bnl.go&#58;49081
osg-itb-se.ligo.calte&#58;39300 ESTABLISHED 16816/globus-job-ma
tcp        1      0 stargrid0&#58;globus-gatekeeper
osg-itb-se.ligo.calte&#58;50004 CLOSE_WAIT  16816/globus-job-ma

So it looks like connections are being made successfully.

[root@stargrid02 OSG]# cq grid8425

-- Submitter&#58; stargrid02.rcf.bnl.gov &#58; &#60;130.199.6.168&#58;21906&#62; &#58;
stargrid02.rcf.bnl.gov
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
143027.0   grid8425        1/31 14&#58;11   0+00&#58;00&#58;00 I  0   0.1  kickstart
<div id='show_1588450908' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1588450908'>-n ligo&#58;
143045.0   grid8425        1/31 15&#58;05   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143046.0   grid8425        1/31 15&#58;06   0+00&#58;00&#58;53 R  0   0.1  kickstart
-n ligo&#58;
143047.0   grid8425        1/31 15&#58;06   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143048.0   grid8425        1/31 15&#58;08   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143049.0   grid8425        1/31 15&#58;08   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143050.0   grid8425        1/31 15&#58;10   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143051.0   grid8425        1/31 15&#58;11   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143052.0   grid8425        1/31 15&#58;12   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143053.0   grid8425        1/31 15&#58;13   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;
143054.0   grid8425        1/31 15&#58;13   0+00&#58;00&#58;00 I  0   0.1  kickstart
-n ligo&#58;

Individual jobs are running, and I&#39;ve noticed some disappearing from the
queue over time, presumably having finished (not held, at least).

This seems like progess...

-Wayne

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1588450908').click(function() {
            $('#detail_1588450908').slideDown("normal");
            $('#show_1588450908').hide();
            $('#hide_1588450908').show();
        });
        $('#hide_1588450908').click(function() {
            $('#detail_1588450908').slideUp();
            $('#hide_1588450908').hide();
            $('#show_1588450908').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4479#1201798027'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-31T16:47:07+00:00">Jan 31, 2008 04:47 PM UTC</time> by <b>Wayne Betts</b><a class="anchor" name="1201798027">&nbsp;</a></div><pre>Superficially, the reason seems obvious this time...  Here are a few
bits from condor for one of the held jobs&#58;

Cmd = &#34;/opt/OSG-0.8.0/pegasus/bin/kickstart&#34;
HoldReason = &#34;Error from starter on vm1@....&#58; Failed to
execute &#39;/opt/OSG-0.8.0/pegasus/bin/kickstart&#39; with arguments -n
ligo&#58;&#58;lalapps_tmpltbank&#58;1.0 -N 9bb5d7f87cd2f1e33dcd7d1ade9e40da -R
STAR_BNL
/star/data08/OSG/DATA/bdaudert/pegasus/inspiral/run0001/ligo-lalapps_tmpltbank-1.0
--grid-spacing Hexagonal --dynamic-range-exponent 69.0 --minimal-match
0.97 --high-pass-order 8 --strain-high-pass-order 8 --maximum-mass 35.0
--gps-end-time 816417024 --calibrated-data real_8 --channel-name
H2&#58;LSC-STRAIN --space Tau0Tau3 --number-of-segments 15
--enable-high-pass 30.0 --debug-level 33 --gps-start-time 816414976
--glob-frame-data --high-pass-attenuation 0.1 --segment-length 1048576
--low-frequency-cutoff 40.0 --pad-data 8 --sample-rate 4096
--high-frequency-cutoff 2048.0 --resample-filter ldas
--strain-high-pass-atten 0.1 --strain-high-pass-freq 30.0
--max-total-mass 35.0 --approximant TaylorF2 --frame-type H2_RDS_C03_L2
--write-compress --minimum-mass 15.0 --order twoPN --spectrum-type
median&#58; No such file or directory&#34;
HoldReasonCode = 6
HoldReasonSubCode = 2

The executable (/opt/OSG-0.8.0/pegasus/bin/kickstart) does not exist on
the worker nodes.  &#34;/opt/OSG-0.8.0&#34; is the VDT_LOCATION on the
gatekeeper ($GRID3).  On the worker nodes, the executable should be
/afs/rhic.bnl.gov/star/Grid/OSG/WNC/pegasus/bin/kickstart instead.

Is the workflow generating the path to the executable, and if so,
shouldn&#39;t it be using the $OSG_GRID value?  According to VORS, OSG_GRID
is correctly advertised as /afs/rhic.bnl.gov/star/Grid/OSG/WNC.   Or
have I got the definitions of the variables wrong?

Ideas?
<div id='show_762888122' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_762888122'>
-Wayne

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_762888122').click(function() {
            $('#detail_762888122').slideDown("normal");
            $('#show_762888122').hide();
            $('#hide_762888122').show();
        });
        $('#hide_762888122').click(function() {
            $('#detail_762888122').slideUp();
            $('#hide_762888122').hide();
            $('#show_762888122').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4479#1201795148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-31T15:59:08+00:00">Jan 31, 2008 03:59 PM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1201795148">&nbsp;</a></div><pre>Hi all,
I submitted a LIGO work-flow at STAR_BNL yesterday at 1&#58;45pm. Things are
still not running normal&#58;
The first 7 (fork) jobs ran fine but when I check this morning non of
the scheduled (in general short) tmpltbank jobs were done. .out and .err
for these jobs are empty. condor_q tells me they are running, my
work-flow log looks normal and the only thing I could find in the
gridmanager log concerning STAR_BNL is this&#58;&#58;

Successfully started grid_monitor for stargrid02.rcf.bnl.gov&#58;2119
1/30 19&#58;43&#58;14 [9258] (6664.0) doEvaluateState called&#58; gmState
GM_JOBMANAGER_ASLEEP, globusState 1
1/30 19&#58;43&#58;14 [9258] (6664.0) doEvaluateState called&#58; gmState
GM_JOBMANAGER_ASLEEP, globusState 2
1/30 20&#58;32&#58;14 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/30 21&#58;33&#58;44 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/30 22&#58;35&#58;14 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/30 23&#58;35&#58;44 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 00&#58;37&#58;14 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 01&#58;37&#58;44 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 02&#58;38&#58;14 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 03&#58;38&#58;44 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 04&#58;39&#58;14 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 05&#58;39&#58;44 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119
1/31 06&#58;41&#58;14 [9258] Successfully started grid_monitor for
<div id='show_1038519722' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1038519722'>stargrid02.rcf.bnl.gov&#58;2119
1/31 07&#58;42&#58;44 [9258] Successfully started grid_monitor for
stargrid02.rcf.bnl.gov&#58;2119

Thank you.
Britta
Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1038519722').click(function() {
            $('#detail_1038519722').slideDown("normal");
            $('#show_1038519722').hide();
            $('#hide_1038519722').show();
        });
        $('#hide_1038519722').click(function() {
            $('#detail_1038519722').slideUp();
            $('#hide_1038519722').hide();
            $('#show_1038519722').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4479#1201728368'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-30T21:26:08+00:00">Jan 30, 2008 09:26 PM UTC</time> by <b>Wayne Betts</b><a class="anchor" name="1201728368">&nbsp;</a></div><pre>Condor has been upgraded to 7.0 (from 6.8.4) on the STAR-BNL gatekeeper
and some configuration changes were made as well.  It has fixed at least
one problem that I was able to duplicate with condor-g submissions of my
own.

I suggest that Britta try submitting again to STAR-BNL and see if there
is any improvement.

-Wayne

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1201622887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-29T16:08:07+00:00">Jan 29, 2008 04:08 PM UTC</time> by <b>Wayne Betts</b><a class="anchor" name="1201622887">&nbsp;</a></div><pre>The worker nodes at STAR-BNL are able to use globus-url-copy as
expected.  I tested this by submitting a script with globus-job-run that
uses g-u-c to transfer a file into from an offsite location and then out
of BNL again.

I tried looking in the log files in Britta&#39;s mapped account, but don&#39;t
see anything relevant.  The gatekeeper logs are a bit overwhelming, but
nothing jumped out at me from around the time period of her last
submissions.

I did however find that there is a problem with job submissions my
client node too.  The same basic jobs submitted via globus-job-run work
fine but get held when submitted with condor_submit.  I can&#39;t be sure if
this is directly related to Britta&#39;s problems, but it sure makes things
seem pretty squirrelly.

In response to these issues, we are going to upgrade our gatekeeper&#39;s
condor from version 6.8.4 to version 7.0.0, at which point we will dive
in to troubleshooting if the problems persists.  This has been delayed
by a couple of unusual factors, but should be done within a day.

After the condor upgrade, I&#39;ll suggest a submission of a LIGO workflow
and we&#39;ll try to dig up what we can from the logs and such at that time, ok?

-Wayne

Anand Padmanabhan wrote&#58;
<font color='#7F7E6F'>&#62; Wayne,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Did the tests you planned to carryout last week, to test gridftp</font>
<font color='#7F7E6F'>&#62; originating from WNs at STAR_BNAL, succeed? Were you also able to get</font>
<font color='#7F7E6F'>&#62; any information from log files as to why ligo&#39;s jobs may be failing</font>
<font color='#7F7E6F'>&#62; file transfer.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Suchandra,</font>
<div id='show_955145300' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_955145300'><font color='#7F7E6F'>&#62; Did you receive information from Pegasus team regarding the problem</font>
<font color='#7F7E6F'>&#62; you were having at UC_ITB and how exactly the &#39;pegasus&#58;&#58;transfer&#39; is</font>
<font color='#7F7E6F'>&#62; being invoked.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_955145300').click(function() {
            $('#detail_955145300').slideDown("normal");
            $('#show_955145300').hide();
            $('#hide_955145300').show();
        });
        $('#hide_955145300').click(function() {
            $('#detail_955145300').slideUp();
            $('#hide_955145300').hide();
            $('#show_955145300').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4479#1201546569'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-28T18:56:09+00:00">Jan 28, 2008 06:56 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1201546569">&nbsp;</a></div><pre>Wayne,

Did the tests you planned to carryout last week, to test gridftp
originating from WNs at STAR_BNAL, succeed? Were you also able to get
any information from log files as to why ligo&#39;s jobs may be failing file
transfer.

Suchandra,
Did you receive information from Pegasus team regarding the problem you
were having at UC_ITB and how exactly the &#39;pegasus&#58;&#58;transfer&#39; is being
invoked.

Thanks
Anand
Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1200365167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-15T02:46:07+00:00">Jan 15, 2008 02:46 AM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1200365167">&nbsp;</a></div><pre>Hi all,
just did some testing today&#58;
I am using condor_G. Pegasus is generating all my submit files. Pegasus
queries VORS for site information.
The workflow starts out fine now with the first two jobs completing
successfully.
But it&#39;s been stuck at job3, the data transfer, for hours now.
This is what I see in the dagman.out&#58;

1/14 18&#58;25&#58;45 Pending DAG nodes&#58;
1/14 18&#58;25&#58;45   Node rc_tx_STAR_BNL_0, Condor ID 594, status
STATUS_SUBMITTED

My workflow log say the job is being executed normal.

.out, .err  of the transfer job are empty.

I am attaching the .sub as well as the gridmanager log.
Thank you.
Britta

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1200351668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-14T23:01:08+00:00">Jan 14, 2008 11:01 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1200351668">&nbsp;</a></div><pre>Hi Britta,

Could you expand on the problem with information like the logs (see
wayne earlier request below). For e.g How were the jobs submitted? if
you are using Condor-G to submit your jobs what is being recorded in the
grid-monitor.log regarding these jobs.

Thanks,
Anand

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4479#1200004769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-10T22:39:29+00:00">Jan 10, 2008 10:39 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1200004769">&nbsp;</a></div><pre>From&#58; 	  wbetts@....
Subject&#58; 	Re&#58; Wrt LIGO work-flow encountering problem at select sites
Date&#58; 	January 10, 2008 2&#58;44&#58;19 PM EST
To&#58; 	  rana@....
Cc&#58; 	  goc@...., OSG-TROUBLESHOOTING@....,
kent@...., bdaudert@...., sthapa@...., osg-int@....

Regarding STAR-BNL, I&#39;m the relevant contact person, but I don&#39;t have any good idea where to start
troubleshooting.

Can I get some detail about how jobs are being submitted?  If there is any particular log or source of information
I can provide, let me know.

-Wayne</pre></div><div class='update_description'><i onclick="document.location='4479#1200004744'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-10T22:39:04+00:00">Jan 10, 2008 10:39 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1200004744">&nbsp;</a></div><pre>STAR Support Center,

Please see the below problem request from LIGO regarding work-flow issues at STAR_BNL.
Can you please contact the admins at STAR_BNL?  Thanks.

regards,
Tom

=====================
From&#58; 	  rana@....
Subject&#58; 	Wrt LIGO work-flow encountering problem at select sites
Date&#58; 	January 9, 2008 6&#58;58&#58;44 PM EST
To&#58; 	  goc@...., OSG-TROUBLESHOOTING@....
Cc&#58; 	  kent@...., bdaudert@...., sthapa@...., rana@...., osg-
int@....

Dear GOC and Troubleshooting Groups, can you please help us with
resolving this problem. -- Thanks, User Group and LIGO team.

___________________________________________________________________

Problem summary -- LIGO work-flow encountering problem at select
sites. Failure at a subset of sites (OSG 0.8.0&#58; 2 of 7 sites,
previously ITB 0.7&#58; 1 of 5 sites). Based on our previous experience,
with ITB 0.7, our assumption was that problem may be related to PBS.
However, the 2/7 production sites that now fail have Condor and LSF.
Notably, 5/7 sites that succeed have Condor.

Problem description (from Britta Daudert) --

I am currently testing some LIGO work-flows on sites that have
upgraded to OSG 0.8.0. I think I have encountered the same problem
that I have seen at UC_ITB when testing ITB 0.7.0 at, at least, two
OSG production sites&#58; STAR_BNL and TTU_ANTAEUS. The workflow gets
stuck at the first job for a long time, then fails with DAGman error 0
<div id='show_1531535579' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1531535579'>and PS error -1002. The .out and .err for the failed job are empty. I
just recently discovered that PS error -1002 means that the job was
removed externally (by something other than DAGman).

The same work-flow succeeded at following OSG 0.8.0 sites&#58;
BNL_ATLAS_2, GLOW, OSG_LIGO_MIT, FERMIGRID, CIT_CMS_T2. All are Condor
sites.
___________________________________________________________________
</div><script type='text/javascript'>
        $('#show_1531535579').click(function() {
            $('#detail_1531535579').slideDown("normal");
            $('#show_1531535579').hide();
            $('#hide_1531535579').show();
        });
        $('#hide_1531535579').click(function() {
            $('#detail_1531535579').slideUp();
            $('#hide_1531535579').hide();
            $('#show_1531535579').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4479">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 4479});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
