<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[8558] Test Ticket following GOC 5/11 release</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=8558" method="post">
<div class="page-header">
    <h3><span class="muted">8558</span> / Test Ticket following GOC 5/11 release</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Soichi Hayashi</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-05-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=58149">58149</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=16302">16302</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=8558", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/8558?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/8558?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Test%20Ticket%20following%20GOC%205%2F11%20release%20ISSUE%3D8558%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='8558#1279033868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-13T15:11:08+00:00">Jul 13, 2010 03:11 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1279033868">&nbsp;</a></div><pre>Updating test ticket for 7/13 release. Please ignore this.</pre></div><div class='update_description'><i onclick="document.location='8558#1273759385'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-13T14:03:05+00:00">May 13, 2010 02:03 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273759385">&nbsp;</a></div><pre>The initial test went successful. Please see RT ticket #16326. We probably need to do more testing on various combination of new / old status changes.</pre></div><div class='update_description'><i onclick="document.location='8558#1273758028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-13T13:40:28+00:00">May 13, 2010 01:40 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273758028">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; The issue we have now is that the correspondence triggers an email that is sent to the admins, and when the metadata is set after the correspondence</font>

I think this is good enough reason to push the re-ordering of metadata / correspondence update as you suggest.

I have re-ordered metadata / comment update, and added the logic so that if the status is going to become &#34;resolved&#34;, it will use &#34;Action&#58; comment&#34; instead of &#34;Action&#58; correspondence&#34;. I originally said I will do this check against *current* status, but then realized that since we are re-ordering the order of the metadata / comment, the new status will be the current status by the time it tries to update the comment.

I have released the update to tx-itb and I will create a test ticket shortly on our ITB instance.</pre></div><div class='update_description'><i onclick="document.location='8558#1273616057'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T22:14:17+00:00">May 11, 2010 10:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1273616057">&nbsp;</a></div><pre>On Tue May 11 16&#58;18&#58;29 2010, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; &#62; One option would be to check the RT status before applying the</font>
<font color='#7F7E6F'>&#62; &#62; update, and if it is resolved, change the correspondence type to</font>
<font color='#7F7E6F'>&#62; &#62; comment instead, which will avoid the automatic status change.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Just to make it clear... if current RT status is &#34;resolved&#34;, I should</font>
<font color='#7F7E6F'>&#62; *always* add update using &#34;Action&#58; comment&#34; in order to avoid automatic</font>
<font color='#7F7E6F'>&#62; status change, correct? Would this work if GOC-TX is trying to re-open</font>
<font color='#7F7E6F'>&#62; already &#34;resolved&#34; RT ticket?</font>

This is correct, a comment does not trigger the automatic state change to open.
The default should always be correspond and comment should only be used for the
case where you want a resolved ticket to remain resolved, to avoid the
automatic set status to open.

<font color='#7F7E6F'>&#62; By the way, this approach seems like we are reversing the mechanism</font>
<font color='#7F7E6F'>&#62; that we have place where if current RT ticket status is &#34;new&#34;, and if</font>
<font color='#7F7E6F'>&#62; GOC-TX is trying to reset it to &#34;open&#34;, keep the RT ticket to &#34;new&#34;.</font>
<font color='#7F7E6F'>&#62; With this change, it looks like GOC-TX will cause RT to transition</font>
<font color='#7F7E6F'>&#62; status from new to open when GOC-TX update the ticket.</font>

I am not suggesting to change anything that deals with new or open status
tickets, only resolved tickets. Remember, the reason that you check and reset
the state back to resolved is to keep all the ticket systems in synch with the
same state. If a synched ticket needs to be reopened, we decided that it should
be done manually by an admin at one of the support centers.

<font color='#7F7E6F'>&#62; Also, I am not very comfortable doing this, since this could</font>
<font color='#7F7E6F'>&#62; potentially creates a can of worms that I haven&#39;t through of. GOC-TX&#39;s</font>
<font color='#7F7E6F'>&#62; algorithm relies heavily on the fact that various metadata to be</font>
<font color='#7F7E6F'>&#62; synchronized and if this is to break, it could cascade into some weird</font>
<font color='#7F7E6F'>&#62; run-away type situation..</font>

I don&#39;t follow, of course the metadata should remain synched, only the order or
exactly how it should be synched might need to be tweaked.
<div id='show_1229441001' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1229441001'>
<font color='#7F7E6F'>&#62; Also, is it really a big issue that you don&#39;t see metadata above</font>
<font color='#7F7E6F'>&#62; correspondence?</font>

The issue we have now is that the correspondence triggers an email that is sent
to the admins, and when the metadata is set after the correspondence, the email
that was previously sent is missing the relevant metadata.

This is not a big problem, just a suggested future improvement.

~Jason
-- by smithj4 at Tue May 11 22&#58;14&#58;05 UTC 2010
</div><script type='text/javascript'>
        $('#show_1229441001').click(function() {
            $('#detail_1229441001').slideDown("normal");
            $('#show_1229441001').hide();
            $('#hide_1229441001').show();
        });
        $('#hide_1229441001').click(function() {
            $('#detail_1229441001').slideUp();
            $('#hide_1229441001').hide();
            $('#show_1229441001').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='8558#1273609048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T20:17:28+00:00">May 11, 2010 08:17 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273609048">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; One option would be to check the RT status before applying the update, and if it is resolved, change the correspondence type to comment instead, which will avoid the automatic status change.</font>

Just to make it clear... if current RT status is &#34;resolved&#34;, I should *always* add update using &#34;Action&#58; comment&#34; in order to avoid automatic status change, correct? Would this work if GOC-TX is trying to re-open already &#34;resolved&#34; RT ticket?

By the way, this approach seems like we are reversing the mechanism that we have place where if current RT ticket status is &#34;new&#34;, and if GOC-TX is trying to reset it to &#34;open&#34;, keep the RT ticket to &#34;new&#34;. With this change, it looks like GOC-TX will cause RT to transition status from new to open when GOC-TX update the ticket.

Also, I am not very comfortable doing this, since this could potentially creates a can of worms that I haven&#39;t through of. GOC-TX&#39;s algorithm relies heavily on the fact that various metadata to be synchronized and if this is to break, it could cascade into some weird run-away type situation..

Also, is it really a big issue that you don&#39;t see metadata above correspondence?</pre></div><div class='update_description'><i onclick="document.location='8558#1273591452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T15:24:12+00:00">May 11, 2010 03:24 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1273591452">&nbsp;</a></div><pre>On Tue May 11 10&#58;29&#58;19 2010, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; I have to insert correspondence, then update metadata because BNL RT</font>
<font color='#7F7E6F'>&#62; sometimes try to change status, etc.. when I insert correspondence, and</font>
<font color='#7F7E6F'>&#62; in order to make it consistent with the metadata from the source</font>
<font color='#7F7E6F'>&#62; ticket, I have to *override* BNL RT metadata by updating metadata AFTER</font>
<font color='#7F7E6F'>&#62; I insert correspondence.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; If you can somehow not run auto-status change type code when GOC-TX</font>
<font color='#7F7E6F'>&#62; insert correspondence, then I think I can switch the order.</font>
<font color='#7F7E6F'>&#62; -- by Soichi Hayashi at Tue May 11 14&#58;28&#58;20 UTC 2010</font>

Hi Soichi,

The only automatic status change that happens in RT is that any correspondence
sets the status to open if not already. This accomplishes two things,
automatically opens new tickets in RT after the first reply and automatically
reopens resolved tickets in case the user replies to the ticket. The first one
I don&#39;t think you notice since you map both RT new & open to FP engineering,
right? The second one you want to keep resolved status synched, only to be
reopened manually I assume.

One option would be to check the RT status before applying the update, and if
it is resolved, change the correspondence type to comment instead, which will
avoid the automatic status change. Another possibility, would you be able to
separate status from all other metadata and do things in this order&#58; metadata
synch, then add correspondence and finally status synch? If not now, then maybe
in a future update?

~Jason
-- by smithj4 at Tue May 11 15&#58;24&#58;05 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8558#1273588160'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T14:29:20+00:00">May 11, 2010 02:29 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273588160">&nbsp;</a></div><pre>Dropping CC.</pre></div><div class='update_description'><i onclick="document.location='8558#1273588100'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T14:28:20+00:00">May 11, 2010 02:28 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273588100">&nbsp;</a></div><pre>I have to insert correspondence, then update metadata because BNL RT sometimes try to change status, etc.. when I insert correspondence, and in order to make it consistent with the metadata from the source ticket, I have to *override* BNL RT metadata by updating metadata AFTER I insert correspondence.

If you can somehow not run auto-status change type code when GOC-TX insert correspondence, then I think I can switch the order.</pre></div><div class='update_description'><i onclick="document.location='8558#1273587503'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T14:18:23+00:00">May 11, 2010 02:18 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1273587503">&nbsp;</a></div><pre>On Tue May 11 10&#58;02&#58;14 2010, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; update check 2</font>
<font color='#7F7E6F'>&#62; -- by Soichi Hayashi at Tue May 11 14&#58;01&#58;15 UTC 2010</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; update from GGUS (this should cause metadata propagation all the way to</font>
<font color='#7F7E6F'>&#62; BNL)</font>
<font color='#7F7E6F'>&#62; -- by Soichi Hayashi at Tue May 11 14&#58;00&#58;46 UTC 2010</font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Tue May 11 14&#58;01&#58;37 UTC 2010</font>

Hi Soichi,

Looks like it worked this time. Would it be possible for you to change the
order that things are done in your code? Right now it looks like the
correspondence is inserted into the ticket first, then the metadata is added to
the RT CF values. The reverse order would be preferable on the RT side if
possible.

~Jason
-- by smithj4 at Tue May 11 14&#58;18&#58;15 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8558#1273586497'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T14:01:37+00:00">May 11, 2010 02:01 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1273586497">&nbsp;</a></div><pre>update check 2
-- by Soichi Hayashi at Tue May 11 14&#58;01&#58;15 UTC 2010

update from GGUS (this should cause metadata propagation all the way to BNL)
-- by Soichi Hayashi at Tue May 11 14&#58;00&#58;46 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8558#1273586230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T13:57:10+00:00">May 11, 2010 01:57 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273586230">&nbsp;</a></div><pre>update check 1</pre></div><div class='update_description'><i onclick="document.location='8558#1273585821'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T13:50:21+00:00">May 11, 2010 01:50 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1273585821">&nbsp;</a></div><pre>There is a DB connection issue that I am trying to sort out.. Stay tuned..

2010-05-11 13&#58;47&#58;59,645 WARN main@8392 edu.iu.grid.tx.accessor.FPMetadataAccessor - Failed to set metadata
java.sql.SQLException&#58; Connection is read-only. Queries leading to data modification are not allowed
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;1055)
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;956)
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;926)
at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java&#58;1266)
at edu.iu.grid.tx.accessor.FPMetadataAccessor.setMetadata(FPMetadataAccessor.java&#58;44)
at edu.iu.grid.tx.accessor.FPWebAPIAccessor.update(FPWebAPIAccessor.java&#58;70)
at edu.iu.grid.tx.TicketExchanger.processUpdate(TicketExchanger.java&#58;169)
at edu.iu.grid.tx.TicketExchanger.run(TicketExchanger.java&#58;84)
at edu.iu.grid.tx.Main.run(Main.java&#58;109)
at edu.iu.grid.tx.Main.main(Main.java&#58;64)</pre></div><div class='update_description'><i onclick="document.location='8558#1273585678'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T13:47:58+00:00">May 11, 2010 01:47 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1273585678">&nbsp;</a></div><pre>On Tue May 11 09&#58;44&#58;26 2010, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; This is a test ticket</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=58149' target='_blank' rel='nofollow'>https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=58149</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='8558#1273585424' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=8558#1273585424</a></font>

Hi Soichi,

GGUS Ticket CF did not get set, also no Resource Group Name, only the OSG GOC
Ticket CF was set.

~Jason
-- by smithj4 at Tue May 11 13&#58;47&#58;48 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8558#1273585424'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-05-11T13:43:44+00:00">May 11, 2010 01:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1273585424">&nbsp;</a></div><pre>This is a test ticket

[Ticket Origin]
<a href='https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=58149' target='_blank' rel='nofollow'>https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=58149</a></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F8558">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 8558});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
