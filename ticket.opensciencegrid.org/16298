<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[16298] OSG osg-ce-condor Bug Inquiry</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=16298" method="post">
<div class="page-header">
    <h3><span class="muted">16298</span> / OSG osg-ce-condor Bug Inquiry</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Mat to debug</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-08-22</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/16298", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/16298?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/16298?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%20osg-ce-condor%20Bug%20Inquiry%20ISSUE%3D16298%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='16298#1377028089'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-20T19:48:09+00:00">Aug 20, 2013 07:48 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1377028089">&nbsp;</a></div><pre>No, the ticket can be closed.  But, it was a bug, and as far as I knew
had not been dealt with.

I think it would be a good idea to announce the existence of this bug to
the osg mailing lists, in case someone else has encountered the issue
and is scratching their head in the same way I did.

So, go ahead and close it, as you are aware of it, and will fix it in
this future release.

bob

On 8/20/2013 3&#58;21 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='16298#1377026476'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-20T19:21:16+00:00">Aug 20, 2013 07:21 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1377026476">&nbsp;</a></div><pre>Bob,
The reason you see the 2.0.4 libraries owned by gums is because it was built against jglobus-2.0.4. This will actually be fixed when osg-3.1.23 is released, where we have it built against jglobus-2.0.5 (<a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1145?jql=text' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1145?jql=text</a>~maven).
Since you have a workaround, do you mind if we close this ticket?
- Brian</pre></div><div class='update_description'><i onclick="document.location='16298#1377021851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-20T18:04:11+00:00">Aug 20, 2013 06:04 PM UTC</time><a class="anchor" name="1377021851">&nbsp;</a></div><pre>Adding osg-profile outputs from two gatekeepers via web page.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bob Ball 81</pre></div><div class='update_description'><i onclick="document.location='16298#1377018551'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-20T17:09:11+00:00">Aug 20, 2013 05:09 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1377018551">&nbsp;</a></div><pre>Trying attachment again.  cc&#39;ing you directly with them, too.  If that
fails, I&#39;ll go to the web form.

bob

On 8/20/2013 10&#58;51 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='16298#1377010281'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-20T14:51:21+00:00">Aug 20, 2013 02:51 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1377010281">&nbsp;</a></div><pre>Bob,
I&#39;m not seeing your osg-system-profile output. If you tried to attach it via e-mail, maybe try to attach it using the web form instead.
- Brian</pre></div><div class='update_description'><i onclick="document.location='16298#1376855468'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-18T19:51:08+00:00">Aug 18, 2013 07:51 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1376855468">&nbsp;</a></div><pre>I sent them, but my copy back did not include them.  Please let me know
if I should resend.

As noted, I was away on vacation last week.

bob

On 8/16/2013 3&#58;30 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='16298#1376851869'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-18T18:51:09+00:00">Aug 18, 2013 06:51 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1376851869">&nbsp;</a></div><pre>Sorry, I was on vacation.  Two outputs attached.

[root@gate02 ~]# osg-version
OSG 3.1.20

[root@gate04 ~]# osg-version
OSG 3.1.18

bob

On 8/13/2013 11&#58;36 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='16298#1376681451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-16T19:30:51+00:00">Aug 16, 2013 07:30 PM UTC</time> by <b>echism</b><a class="anchor" name="1376681451">&nbsp;</a></div><pre>Hi Bob,

This ticket is still waiting on your osg-system-profile

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='16298#1376408204'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-13T15:36:44+00:00">Aug 13, 2013 03:36 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1376408204">&nbsp;</a></div><pre>Can you send your osg-system-profiler output for one or both of the hosts?</pre></div><div class='update_description'><i onclick="document.location='16298#1375718452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-05T16:00:52+00:00">Aug 5, 2013 04:00 PM UTC</time> by <b>echism</b><a class="anchor" name="1375718452">&nbsp;</a></div><pre>I&#39;m sending this inquiry to the software team.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='16298#1375504187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-03T04:29:47+00:00">Aug 3, 2013 04:29 AM UTC</time> by <b>amymjenk</b><a class="anchor" name="1375504187">&nbsp;</a></div><pre>From&#58; Bob Ball &#60;ball@....&#62;
To&#58; OSG Operations Center &#60;goc@....&#62;
cc&#58; Bob Ball &#60;ball@....&#62;
Subject&#58; Apparent osg-ce-condor rpm bug causing gums-host to abort
Date-Sent&#58; Friday, August 02, 2013 11&#58;33 PM -0400

This problem exists for both OSG 3.1.18 (gate04) and OSG 3.1.20 (gate02)

[root@gate02 ~]# gums-host mapUser -g
<a href='https&#58;//linat02.grid.umich.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort' target='_blank' rel='nofollow'>https&#58;//linat02.grid.umich.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort</a>
&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bob Ball&#34;
Command terminated unexpectedly&#58; java.lang.NoClassDefFoundError&#58;
org/globus/gsi/gssapi/auth/NoAuthorization

Examination of /usr/lib/gums shows 5 unresolved soft links&#58;

lrwxrwxrwx 1 root root      41 Jul  2 19&#58;20 [jglobus]gridftp-2.0.4.jar -&#62;
/usr/share/java/jglobus/gridftp-2.0.4.jar
lrwxrwxrwx 1 root root      37 Jul  2 19&#58;20 [jglobus]gss-2.0.4.jar -&#62;
/usr/share/java/jglobus/gss-2.0.4.jar
lrwxrwxrwx 1 root root      36 Jul  2 19&#58;20 [jglobus]io-2.0.4.jar -&#62;
/usr/share/java/jglobus/io-2.0.4.jar
lrwxrwxrwx 1 root root      38 Jul  2 19&#58;20 [jglobus]jsse-2.0.4.jar -&#62;
/usr/share/java/jglobus/jsse-2.0.4.jar
lrwxrwxrwx 1 root root      45 Jul  2 19&#58;20 [jglobus]ssl-proxies-2.0.4.jar -&#62;
/usr/share/java/jglobus/ssl-proxies-2.0.4.jar

In fact, /usr/share/java/jglobus exists, but with each of these having version 2.0.5.
Creating such links by hand results in the success of the command above.  On
gate04.aglt2.org

1041  cd /usr/lib/gums
1042  ln -s /usr/share/jglobus/gridftp-2.0.5.jar [jglobus]gridftp-2.0.5.jar
1043  ln -s /usr/share/java/jglobus/gss-2.0.5.jar [jglobus]gss-2.0.5.jar
1044  ln -s /usr/share/java/jglobus/io-2.0.5.jar [jglobus]io-2.0.5.jar
<div id='show_28156472' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_28156472'>1045  ln -s /usr/share/java/jglobus/jsse-2.0.5.jar [jglobus]jsse-2.0.5.jar
1046  ln -s /usr/share/java/jglobus/ssl-proxies-2.0.5.jar
[jglobus]ssl-proxies-2.0.5.jar

[root@gate04 gums]# gums-host mapUser -g
<a href='https&#58;//linat02.grid.umich.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort' target='_blank' rel='nofollow'>https&#58;//linat02.grid.umich.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort</a>
&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bob Ball 81&#34;
usatlas3

[root@gate02 ~]# rpm -qf /usr/lib/gums/[jglobus]gridftp-2.0.4.jar
gums-1.3.18.009-15.2.osg.el6.noarch
[root@gate02 ~]# rpm -qf /usr/share/java/jglobus/gridftp-2.0.5.jar
jglobus-2.0.5-3.osg.el6.noarch

So, it appears that package jglobus  2.0.5 is too  new for package gums 1.3.18.009...
Have I mis-interpreted the situation?  Or is this a real bug?

bob
</div><script type='text/javascript'>
        $('#show_28156472').click(function() {
            $('#detail_28156472').slideDown("normal");
            $('#show_28156472').hide();
            $('#hide_28156472').show();
        });
        $('#hide_28156472').click(function() {
            $('#detail_28156472').slideUp();
            $('#hide_28156472').hide();
            $('#show_28156472').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F16298">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 16298});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
