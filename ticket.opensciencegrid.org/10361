<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[10361] Improvement request for OSG Directory permission probe</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10361" method="post">
<div class="page-header">
    <h3><span class="muted">10361</span> / Improvement request for OSG Directory permission probe</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Soichi Hayashi</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-09-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=10361", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/10361?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/10361?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Improvement%20request%20for%20OSG%20Directory%20permission%20probe%20ISSUE%3D10361%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10361#1312388558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-03T16:22:38+00:00">Aug 3, 2011 04:22 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1312388558">&nbsp;</a></div><pre>Scot, thank you for fixing this issue. Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='10361#1312384355'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-03T15:12:35+00:00">Aug 3, 2011 03:12 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1312384355">&nbsp;</a></div><pre>Hi Soichi,
Yes, this fix went into the latest release of RSV.  Shall we close
this ticket since you have confirmed the change?

Thanks,
scot

On Mon, Aug 1, 2011 at 3&#58;16 PM, via RT &#60;vdt-support@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; Setting NAD to 9/1.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have noticed that on this ITB site</font>
<font color='#7F7E6F'>&#62;&#62; <a href='http&#58;//tinyurl.com/3rehllu' target='_blank' rel='nofollow'>http&#58;//tinyurl.com/3rehllu</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I now see nicely delimited output.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Soichi</font>
<font color='#7F7E6F'>&#62; ��-- by Soichi Hayashi at Mon Aug 01 20&#58;15&#58;27 UTC 2011</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --</font>
<font color='#7F7E6F'>&#62; View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=9130&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=9130&#62</a>;</font>
<font color='#7F7E6F'>&#62; VDT Support&#58; vdt-support@....</font>
<font color='#7F7E6F'>&#62;</font>
-- by kronenfe at Wed Aug 03 15&#58;12&#58;14 UTC 2011

GOCTX Source&#58; VDT Ticket&#58; Queue=vdt-support ID=9130</pre></div><div class='update_description'><i onclick="document.location='10361#1312229727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-01T20:15:27+00:00">Aug 1, 2011 08:15 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1312229727">&nbsp;</a></div><pre>Setting NAD to 9/1.

I have noticed that on this ITB site
<font color='#7F7E6F'>&#62; <a href='http&#58;//tinyurl.com/3rehllu' target='_blank' rel='nofollow'>http&#58;//tinyurl.com/3rehllu</a></font>

I now see nicely delimited output.

Cheers,
Soichi</pre></div><div class='update_description'><i onclick="document.location='10361#1308579123'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-20T14:12:03+00:00">Jun 20, 2011 02:12 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1308579123">&nbsp;</a></div><pre>Setting NAD to 8/1. Is there a good date that I should revisit this ticket and test if the newline characters are no longer removed for *most* of OSG sites?</pre></div><div class='update_description'><i onclick="document.location='10361#1306961939'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-01T20:58:59+00:00">Jun 1, 2011 08:58 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1306961939">&nbsp;</a></div><pre>The newlines are lost when sending records to Gratia.

This is fixed now.  It will be released in the next update to RSV.  It
won&#39;t go in the upcoming OSG 1.2.20 release because that is already in
ITB testing.

Thanks,
scot

On Mon, May 16, 2011 at 1&#58;42 PM, via RT &#60;vdt-support@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; Extending NAD to 5/31 - hoping Scot can take look at this issue by then.</font>
<font color='#7F7E6F'>&#62; ��-- by Soichi Hayashi at Mon May 16 18&#58;41&#58;54 UTC 2011</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --</font>
<font color='#7F7E6F'>&#62; View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=9130&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=9130&#62</a>;</font>
<font color='#7F7E6F'>&#62; VDT Support&#58; vdt-support@....</font>
<font color='#7F7E6F'>&#62;</font>
-- by kronenfe at Wed Jun 01 20&#58;58&#58;42 UTC 2011

GOCTX Source&#58; VDT Ticket&#58; Queue=vdt-support ID=9130</pre></div><div class='update_description'><i onclick="document.location='10361#1305571314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-16T18:41:54+00:00">May 16, 2011 06:41 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1305571314">&nbsp;</a></div><pre>Extending NAD to 5/31 - hoping Scot can take look at this issue by then.</pre></div><div class='update_description'><i onclick="document.location='10361#1305047878'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-10T17:17:58+00:00">May 10, 2011 05:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1305047878">&nbsp;</a></div><pre>On Thu May 05 17&#58;24&#58;08 2011, GOC wrote&#58;
<font color='#7F7E6F'>&#62; Re-opening this ticket..</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Mine shows fine.  Where are you copy/pasting from?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The data stored in Gratia DB contains no newline characters. I believe</font>
<font color='#7F7E6F'>&#62; something bad is happening during local RSV and GOC&#39;s RSV Gratia</font>
<font color='#7F7E6F'>&#62; collector..</font>

Hi Soichi,
I&#39;ll be traveling for vacation for 2 weeks - and I&#39;ll look into the
missing newlines when I return.  If you have any more information in the
meantime please add it to this ticket.

Thanks,
scot
-- by kronenfe at Tue May 10 17&#58;17&#58;48 UTC 2011</pre></div><div class='update_description'><i onclick="document.location='10361#1304634225'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-05T22:23:45+00:00">May 5, 2011 10:23 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1304634225">&nbsp;</a></div><pre>Re-opening this ticket..

<font color='#7F7E6F'>&#62; Mine shows fine.  Where are you copy/pasting from?</font>

The data stored in Gratia DB contains no newline characters. I believe something bad is happening during local RSV and GOC&#39;s RSV Gratia collector..

mysql&#62; select * from MetricRecord where dbid = 43675275;
+----------+------------------------------------------------+--------------+---------------------+-------------+----------------+----------------+----------+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+-----------------+--------+---------------+
| dbid     | MetricName                                     | MetricStatus | Timestamp           | ServiceType | ServiceUri     | GatheredAt     | HostName | SummaryData | DetailsData                                                                                                                                                                                                                                                     | MetricType | PerformanceData | VoName | SamUploadFlag |
+----------+------------------------------------------------+--------------+---------------------+-------------+----------------+----------------+----------+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+-----------------+--------+---------------+
| 43675275 | org.osg.general.osg-directories-CE-permissions | OK           | 2011-05-05 22&#58;19&#58;15 | OSG-CE      | ce.grid.iu.edu | ce.grid.iu.edu | NULL     | OK          | The OSG_DATA directory (/opt/osg-data) has correct permissions.Found&#58; 7755Required&#58; 77[75] (this is a regular expression)The OSG_APP directory (/opt/osg-app) has correct permissions.Found&#58; 0755Required&#58; 7[75][75] (this is a regular expression)The OSG_LOCA | status     | NULL            | NULL   |          NULL |
+----------+------------------------------------------------+--------------+---------------------+-------------+----------------+----------------+----------+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+-----------------+--------+---------------+
1 row in set (0.00 sec)

Cheers,
Soichi</pre></div><div class='update_description'><i onclick="document.location='10361#1304624600'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-05T19:43:20+00:00">May 5, 2011 07:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1304624600">&nbsp;</a></div><pre>Hi Soichi,
Thanks for the feedback.

<font color='#7F7E6F'>&#62; 1) Only display message if something is wrong. If all is good, just</font>
say &#34;No issues found&#34;.

Disagree.  I like the verbosity for multiple reasons.

People don&#39;t need to look at the detailsData if the probe status is OK.
If they want to look anyways, it gives them information.

<font color='#7F7E6F'>&#62; 2) Add space between each sentences.</font>

Mine shows fine.  Where are you copy/pasting from?  Here&#39;s how mine looks&#58;

Non-required directory is not set or non-existent (OSG_DATA=/tmp/ce/data)

The OSG_APP directory (/tmp/ce/app) has correct permissions.
Found&#58; 0755
Required&#58; 7[75][75] (this is a regular expression)

The OSG_LOCATION directory (/opt/itb) has correct permissions.
Found&#58; 0755
Required&#58; 7[75]5 (this is a regular expression)

<font color='#7F7E6F'>&#62; 3) Show more clear message about how to fix it (What has regular</font>
expression got to do with this?)

Yes, this is not the best of error messages.  The old probe used to say
something like this&#58;

Required&#58; 0775 0755 1775 1755 2775 2755 3775 3755 ...

It was pretty illegible.  It&#39;s also really ugly to write it out in words.

<div id='show_1353032364' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1353032364'>Ideally I would write code that compared what was different and
calculated what an admin needs to do (like you suggested).  But that
takes a lot of code and I don&#39;t have enough time for something that
would be used so rarely.  People see this error message once when they
start up, then they fix the permissions and never see it again.

4) User don&#39;t care how many warnings are there.. (Remove &#34;Found 1
WARNINGs&#34;, etc..)

Given that I disagree with #1, I also disagree with this.  When showing
&#34;good&#34; lines, it makes it easier to see how many problems need to be
addressed.
-- by kronenfe at Thu May 05 19&#58;43&#58;07 UTC 2011
</div><script type='text/javascript'>
        $('#show_1353032364').click(function() {
            $('#detail_1353032364').slideDown("normal");
            $('#show_1353032364').hide();
            $('#hide_1353032364').show();
        });
        $('#hide_1353032364').click(function() {
            $('#detail_1353032364').slideUp();
            $('#hide_1353032364').hide();
            $('#show_1353032364').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10361#1304622223'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-05T19:03:43+00:00">May 5, 2011 07:03 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1304622223">&nbsp;</a></div><pre>Hi Soichi,

I&#39;ve asked Scot to take a look at this. This looks low priority, but it also seems relatively
straightforward. What do you think, Scot?

-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

On Thu May 05 10&#58;14&#58;08 2011, GOC wrote&#58;
<font color='#7F7E6F'>&#62; Currently, OSG directory permission probe reports something like this</font>
<font color='#7F7E6F'>&#62; (exact formatting I see on the screen)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Found 1 WARNINGs.The OSG_DATA directory (/opt/osg-data) has INCORRECT</font>
<font color='#7F7E6F'>&#62; permissions.Found&#58; 0755Required&#58; 77[75] (this is a regular</font>
<font color='#7F7E6F'>&#62; expression)The OSG_APP directory (/opt/osg-app) has correct</font>
<font color='#7F7E6F'>&#62; permissions.Found&#58; 0755Required&#58; 7[75][75] (this is a regular</font>
<font color='#7F7E6F'>&#62; expression)The OSG_LOCATION directory (/opt/osg-ce) has correct</font>
<font color='#7F7E6F'>&#62; permissions.Found&#58; 0755Required&#58; 7[75]5 (this is a regular expression)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Instead, this should display message like following</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Directory permission on OSG_DATA (/opt/osg-data) is incorrect. Run</font>
<font color='#7F7E6F'>&#62; &#34;chmod 7755 /opt/osg-data&#34; to fix it.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; My points here are..</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) Only display message if something is wrong. If all is good, just say</font>
<font color='#7F7E6F'>&#62; &#34;No issues found&#34;.</font>
<font color='#7F7E6F'>&#62; 2) Add space between each sentences.</font>
<font color='#7F7E6F'>&#62; 3) Show more clear message about how to fix it (What has regular</font>
<font color='#7F7E6F'>&#62; expression got to do with this?)</font>
<font color='#7F7E6F'>&#62; 4) User don&#39;t care how many warnings are there.. (Remove &#34;Found 1</font>
<font color='#7F7E6F'>&#62; WARNINGs&#34;, etc..)</font>
<div id='show_444247062' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_444247062'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks!!</font>
<font color='#7F7E6F'>&#62; Soichi</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [META Information]</font>
<font color='#7F7E6F'>&#62; Assignment Reason&#58; possible assignees at this hour (7)&#58; adeximo.</font>
<font color='#7F7E6F'>&#62; adeximo has the least amount of tickets.</font>
<font color='#7F7E6F'>&#62; adeximo has 23 tickets.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ticket.grid.iu.edu/goc/viewer?id=10361#1304608433' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=10361#1304608433</a></font>

-- by roy at Thu May 05 19&#58;03&#58;37 UTC 2011
</div><script type='text/javascript'>
        $('#show_444247062').click(function() {
            $('#detail_444247062').slideDown("normal");
            $('#show_444247062').hide();
            $('#hide_444247062').show();
        });
        $('#hide_444247062').click(function() {
            $('#detail_444247062').slideUp();
            $('#hide_444247062').hide();
            $('#show_444247062').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10361#1304608433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-05T15:13:53+00:00">May 5, 2011 03:13 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1304608433">&nbsp;</a></div><pre>Currently, OSG directory permission probe reports something like this (exact formatting I see on the screen)

<font color='#7F7E6F'>&#62; Found 1 WARNINGs.The OSG_DATA directory (/opt/osg-data) has INCORRECT permissions.Found&#58; 0755Required&#58; 77[75] (this is a regular expression)The OSG_APP directory (/opt/osg-app) has correct permissions.Found&#58; 0755Required&#58; 7[75][75] (this is a regular expression)The OSG_LOCATION directory (/opt/osg-ce) has correct permissions.Found&#58; 0755Required&#58; 7[75]5 (this is a regular expression)</font>

Instead, this should display message like following

<font color='#7F7E6F'>&#62; Directory permission on OSG_DATA (/opt/osg-data) is incorrect. Run &#34;chmod 7755 /opt/osg-data&#34; to fix it.</font>

My points here are..

1) Only display message if something is wrong. If all is good, just say &#34;No issues found&#34;.
2) Add space between each sentences.
3) Show more clear message about how to fix it (What has regular expression got to do with this?)
4) User don&#39;t care how many warnings are there.. (Remove &#34;Found 1 WARNINGs&#34;, etc..)

Thanks!!
Soichi</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10361">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 10361});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
