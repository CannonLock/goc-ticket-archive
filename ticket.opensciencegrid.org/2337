<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2337] Site failing critical site_verify tests - TTU-ANTAEUS</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2337" method="post">
<div class="page-header">
    <h3><span class="muted">2337</span> / Site failing critical site_verify tests - TTU-ANTAEUS</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alan Sill</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">1970-01-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2337", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2337?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2337?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Site%20failing%20critical%20site_verify%20tests%20-%20TTU-ANTAEUS%20ISSUE%3D2337%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2337#1155075672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-08T22:21:12+00:00">Aug 8, 2006 10:21 PM UTC</time> by <b>Alan Sill</b><a class="anchor" name="1155075672">&nbsp;</a></div><pre>Update&#58; beyond the deliberate marking as unavailable until we get the
batch job sandboxing worked out (rumors have it that the LCG folks
are working on wrappering jobs in PBS alogn the lines of what we
want), I found that the mis account had its ownerships set improperly
since the date that you mentioned.  I have corrected this for the mis
account.

Further information from a manual site-verify is contained below.

Thanks,
Alan

[alansill@testwulf alansill]$ /usr/local/grid_OSG-0.3.7/verify/
site_verify.pl -host antaeus.hpcc.ttu.edu
========================================================================
=======
Info&#58; Site verification initiated at Tue Aug  8 22&#58;06&#58;51 2006 GMT.
========================================================================
=======
------------------------------------------------------------------------
-------
---------- Begin antaeus.hpcc.ttu.edu at Tue Aug  8 22&#58;06&#58;51 2006 GMT
---------
------------------------------------------------------------------------
-------
Checking prerequisites needed for testing&#58; PASS
Checking for a valid proxy for alansill@....&#58; PASS
Checking if remote host is reachable&#58; PASS
Checking for a running gatekeeper&#58; YES; port 2119
Checking authentication&#58; PASS
Checking &#39;Hello, World&#39; application&#58; PASS
Checking remote host uptime&#58; PASS
17&#58;06&#58;53 up 13 days,  8&#58;43,  7 users,  load average&#58; 0.74, 0.63,
0.54
Checking remote Internet network services list&#58; PASS
<div id='show_1813948028' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1813948028'>Checking remote Internet servers database configuration&#58; PASS
Checking for GLOBUS_LOCATION&#58; /usr/local/grid_OSG-0.4.1/globus
Checking expiration date of remote host certificate&#58; Jun 16 15&#58;09&#58;04
2007 GMT
Checking for gatekeeper configuration file&#58; YES
/usr/local/grid_OSG-0.4.1/globus/etc/globus-gatekeeper.conf
Checking for a running gsiftp server&#58; YES; port 2811
Checking gsiftp (local client, local host -&#62; remote host)&#58; PASS
Checking gsiftp (local client, remote host -&#62; local host)&#58; PASS
Checking that no differences exist between gsiftp&#39;d files&#58; PASS
Checking users in grid-mapfile, if none must be using Prima&#58;
alice,cdf,chaffin,cmssoft,des,endyne,fermilab,fmri,gadu,geant4,glow,gras
e,gridex,grow,ivdgl,ligo,mariachi,mis,nanohub,osg,osgedu,sam,samgrid,sds
s,star,tigre,usatlas1,uscms01
Checking for remote globus-sh-tools-vars.sh&#58; YES
Checking configured grid services&#58; PASS
jobmanager,jobmanager-fork,jobmanager-mis,jobmanager-pbs
Checking scheduler types associated with remote jobmanagers&#58; PASS
jobmanager is of type fork
jobmanager-fork is of type fork
jobmanager-mis is of type mis
jobmanager-pbs is of type pbs
Checking for paths to binaries of remote schedulers&#58; PASS
Path to mis binaries is /usr/local/grid_OSG-0.4.1/MIS-CI/bin
Path to pbs binaries is /usr/pbs/bin
Checking remote scheduler status&#58; PASS
pbs &#58; 0 jobs running, 0 jobs idle/pending
Checking for a running MDS service&#58; YES; port 2135
Checking for configured Generic Information Provider service&#58; YES;
GLUE attributes present.  Detailed validation information at http&#58;//
grow.its.uiowa.edu/osg-gip/
Checking if Globus is deployed from the VDT&#58; YES; version 1.3.10b
Checking for OSG osg-attributes.conf&#58; YES
Checking for OSG grid3-user-vo-map.txt&#58; YES
ivdgl users&#58; ivdgl
i2u2 users&#58; i2u2
geant4 users&#58; geant4
grow users&#58; grow
osgedu users&#58; osgedu
nanohub users&#58; nanohub
gridex users&#58; gridex
fmri users&#58; fmri
cdf users&#58; cdf
osg users&#58; osg
usatlas users&#58; usatlas1
mariachi users&#58; mariachi
star users&#58; star
dosar users&#58; dosar
uscms users&#58; uscms01
grase users&#58; grase
ligo users&#58; ligo
glow users&#58; glow
fermilab users&#58; fermilab
dzero users&#58; sam,samgrid
mis users&#58; mis
des users&#58; des
sdss users&#58; sdss
gadu users&#58; gadu
Checking for OSG site name&#58; TTU-ANTAEUS
Checking for OSG $GRID3 definition&#58; /usr/local/grid_OSG-0.4.1
Checking for OSG $APP definition&#58; /mnt/lustre/share/grid-app
Checking for OSG $DATA definition&#58; /mnt/lustre/share/grid-data
Checking for OSG $TMP definition&#58; /mnt/lustre/share/grid-data
Checking for OSG $WNTMP definition&#58; /state/partition1
Checking for OSG $APP existence&#58; FAIL
Checking for OSG $DATA existence&#58; FAIL
Checking for OSG $TMP existence&#58; FAIL
Checking for OSG $APP writability&#58; FAIL
Checking for OSG $DATA writability&#58; FAIL
Checking for OSG $TMP writability&#58; FAIL
Checking for OSG $APP available space&#58; UNTESTED
Checking for OSG $DATA available space&#58; UNTESTED
Checking for OSG $TMP available space&#58; UNTESTED
Checking for OSG additional site-specific variable definitions&#58; UNTESTED
Checking for OSG execution jobmanager(s)&#58; antaeus.hpcc.ttu.edu/
jobmanager-pbs
Checking for OSG utility jobmanager(s)&#58; antaeus.hpcc.ttu.edu/jobmanager
Checking for OSG sponsoring VO&#58; cms&#58;100
Checking for OSG policy expression&#58; NONE
Checking for OSG setup.sh&#58; YES
Checking for OSG $Monalisa_HOME definition&#58; /usr/local/grid_OSG-0.4.1/
MonaLisa
Checking for MonALISA configuration&#58; PASS
key ml_env vars&#58;
FARM_NAME = TTU-ANTAEUS
FARM_HOME = /usr/local/grid_OSG-0.4.1/MonaLisa/Service/VDTFarm
FARM_CONF_FILE = /usr/local/grid_OSG-0.4.1/MonaLisa/Service/
VDTFarm/vdtFarm.conf
SHOULD_UPDATE = false
URL_LIST_UPDATE = <a href='http&#58;//monalisa.cacr.caltech.edu/' target='_blank' rel='nofollow'>http&#58;//monalisa.cacr.caltech.edu/</a>
FARM_ML,<a href='http&#58;//monalisa.cern.ch/MONALISA/FARM_ML' target='_blank' rel='nofollow'>http&#58;//monalisa.cern.ch/MONALISA/FARM_ML</a>
key ml_properties vars&#58;
lia.Monitor.group = OSG
lia.Monitor.useIPaddress = undef
MonaLisa.ContactEmail = Alan.Sill@....
Checking for a running MonALISA&#58; PASS
MonALISA is ALIVE (pid 5485)
MonALISA_Version = 1.4.12-200603031824
MonALISA_VDate = 2006-03-03
VoModulesDir = VoModules-v0.20
tcpServer_Port = 9002
storeType = epgsqldb
Checking for a running GANGLIA gmond daemon&#58; PASS (pid 1375 ...)
/usr/sbin/gmond
name &#34;Antaeus&#34;
owner &#34;TTU HPCC&#34;
trusted_hosts 129.118.104.6
url &#34;<a href='http&#58;//www.hpcc.ttu.edu/&#34' target='_blank' rel='nofollow'>http&#58;//www.hpcc.ttu.edu/&#34</a>;
Checking for a running GANGLIA gmetad daemon&#58; PASS (pid 1480 ...)
/usr/sbin/gmetad
------------------------------------------------------------------------
-------
----------- End antaeus.hpcc.ttu.edu at Tue Aug  8 22&#58;07&#58;28 2006 GMT
----------
------------------------------------------------------------------------
-------
========================================================================
=======
Info&#58; Site verification completed at Tue Aug  8 22&#58;07&#58;28 2006 GMT.

On Aug 8, 2006, at 4&#58;48 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1813948028').click(function() {
            $('#detail_1813948028').slideDown("normal");
            $('#show_1813948028').hide();
            $('#hide_1813948028').show();
        });
        $('#hide_1813948028').click(function() {
            $('#detail_1813948028').slideUp();
            $('#hide_1813948028').hide();
            $('#show_1813948028').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2337#1155073695'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-08T21:48:15+00:00">Aug 8, 2006 09:48 PM UTC</time> by <b>Alan Sill</b><a class="anchor" name="1155073695">&nbsp;</a></div><pre>Hi,

Our Antaeus site has been purposely marked unavailable by us (see the
grey circle in GridCat) until we can achieve satisfactory resolution
of per-batch-job sandboxing for OSG jobs.

Please see the separate ticket on the above point.

Thanks,
Alan

On Aug 8, 2006, at 2&#58;21 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2337#1155064887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-08T19:21:27+00:00">Aug 8, 2006 07:21 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1155064887">&nbsp;</a></div><pre>Alan,

The TTU-ANTAEUS Resource is failing a critical site_verify test&#58; Hello World. It has been failing since
Wednesday, August 2. Could you look into this please?

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2337">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2337});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
