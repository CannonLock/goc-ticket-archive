<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[11172] ATLAS VO Specific Issue</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=11172" method="post">
<div class="page-header">
    <h3><span class="muted">11172</span> / ATLAS VO Specific Issue</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Paul T. Keener</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/vo</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Paul T. Keener</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-11-14</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=21011">21011</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/11172", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='11172#1321373100'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-15T16:05:00+00:00">Nov 15, 2011 04:05 PM UTC</time><a class="anchor" name="1321373100">&nbsp;</a></div><pre>As I indicated, the immediate problem has been resolved, and at the moment restarting bestman does not produce errors.  I remain, however, convinced there is a problem with bestman or configuration that will resurface if nothing is done.  Given everything, perhaps it is best to simply note this as a &#34;seen/unresolved&#34; issue, it case it comes up again, and close this ticket.

-- by Paul T. Keener</pre></div><div class='update_description'><i onclick="document.location='11172#1320676091'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-07T14:28:11+00:00">Nov 7, 2011 02:28 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1320676091">&nbsp;</a></div><pre>Paul,

Are you still experiencing problems with the grid certificates for your bestman install on srm.hep.upenn.edu?  If not, may we
close out this ticket?

Thanks,

-Alain</pre></div><div class='update_description'><i onclick="document.location='11172#1319721168'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-27T13:12:48+00:00">Oct 27, 2011 01:12 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1319721168">&nbsp;</a></div><pre>Hi Paul,

It&#39;s hard to say what the cause was without more information, especially since
the error was transient and self-healing, possibly credentials or other data
that was cached and refreshed. I hope an expert at BNL or OSG can lend a hand.

Thanks,
~John
-- by jd at Thu Oct 27 13&#58;12&#58;41 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=GridServices ID=21011</pre></div><div class='update_description'><i onclick="document.location='11172#1319468917'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-24T15:08:37+00:00">Oct 24, 2011 03:08 PM UTC</time><a class="anchor" name="1319468917">&nbsp;</a></div><pre>Both of the old tickets have the same root error as this one&#58; &#34;Authentication failed&#34;, &#34;Bad sequence size&#34;, &#34;Defective credential&#34;.  I must admit, that it is surmize on my part that it is a certificate problem, due to the proxity of the change in certificate, althought that it is not the only time it occurs.  I have the error level set to &#34;DEBUG&#34;.  Is there any way to capture more information as to what may be happening?  The fix seems to be to repeatedly restart bestman, but I cannot prove causality there either.  If there is a plan in place to gather more information, I can probably provoke the error.

The quote &#34;We are discussing this with developers.&#34; came from Tanya Levshina at OSG.  I was not privy to that discussion and I never saw an update.  I have added Tanya to the Cc for this ticket.

-- by Paul T. Keener</pre></div><div class='update_description'><i onclick="document.location='11172#1319467139'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-24T14:38:59+00:00">Oct 24, 2011 02:38 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1319467139">&nbsp;</a></div><pre>Hi Paul,

On Oct 24, 2011, at 10&#58;36 AM, OSG GOC TX via RT wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; True to form, this instance of the problem has resolved itself.  How do</font>
<font color='#7F7E6F'>&#62; we prevent it from happening at all in the future?</font>

You indicate that the problem seems to be related to grid certificates, but in
the two OSG tickets to which you refer (#s 9474 and 10942), there is no such
indication, only a reference to this problem previously and a brief internal
discussion between you and someone else&#58;

<font color='#7F7E6F'>&#62; Problem (1) seems to have gone away (on its own?).</font>
We are discussing this with developers. They have seen something similar before.

If possible, can you elaborate on what was discussed, and with which developers?
As you mention, the problem later &#34;resolved itself&#34; in that case as well, so
it&#39;s difficult for us to say exactly what it was.

Thanks,
~John

-- by jd at Mon Oct 24 14&#58;38&#58;51 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=GridServices ID=21011</pre></div><div class='update_description'><i onclick="document.location='11172#1319466951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-24T14:35:51+00:00">Oct 24, 2011 02:35 PM UTC</time><a class="anchor" name="1319466951">&nbsp;</a></div><pre>True to form, this instance of the problem has resolved itself.  How do we prevent it from happening at all in the future?

-- by Paul T. Keener</pre></div><div class='update_description'><i onclick="document.location='11172#1319466231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-24T14:23:51+00:00">Oct 24, 2011 02:23 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1319466231">&nbsp;</a></div><pre>[by Paul T. Keener]

I frequently have problems with the grid certificates for my bestman install on srm.hep.upenn.edu.  I sometimes see these issues when I restart bestman, but I always see them when I install a new certificate.  There are at least two old OSG tickets relating to this (9474 and 10942).  In both cases the problem eventually went away on it own, but clearly it would be preferable to not have the errors in the first place.

What I see are the following errors coming from bestman, during a transfer attempt&#58;

- Error processing request&#58; Authentication failed [Root error message&#58; Defective credential detected [Root error message&#58;  [Root error message&#58; Bad sequence size&#58; 6]]]
org.globus.common.ChainedIOException&#58; Authentication failed [Root error message&#58; Defective credential detected [Root error message&#58;  [Root error message&#58; Bad sequence size&#58; 6]]].  Root exception is
GSSException&#58; Defective credential detected [Root error message&#58;  [Root error message&#58; Bad sequence size&#58; 6]].  Root exception is
org.globus.gsi.proxy.ProxyPathValidatorException&#58;  [Root error message&#58; Bad sequence size&#58; 6].  Root exception is
java.lang.IllegalArgumentException&#58; Bad sequence size&#58; 6
at org.bouncycastle.asn1.x509.TBSCertList$CRLEntry.&#60;init&#62;(Unknown Source)
at org.bouncycastle.asn1.x509.TBSCertList.getRevokedCertificates(Unknown Source)
at org.bouncycastle.asn1.x509.CertificateList.getRevokedCertificates(Unknown Source)
at org.bouncycastle.jce.provider.X509CRLObject.isRevoked(Unknown Source)
at org.globus.gsi.proxy.ProxyPathValidator.checkCRL(ProxyPathValidator.java&#58;831)
at org.globus.gsi.proxy.ProxyPathValidator.validate(ProxyPathValidator.java&#58;474)
at org.globus.gsi.gssapi.GlobusGSSContextImpl$GSSProxyPathValidator.validate(GlobusGSSContextImpl.java&#58;665)
at org.globus.gsi.gssapi.GlobusGSSContextImpl.verifyChain(GlobusGSSContextImpl.java&#58;701)
at org.globus.gsi.gssapi.GlobusGSSContextImpl.acceptSecContext(GlobusGSSContextImpl.java&#58;298)
at org.globus.gsi.gssapi.net.GssSocket.authenticateServer(GssSocket.java&#58;119)
at org.globus.gsi.gssapi.net.GssSocket.startHandshake(GssSocket.java&#58;137)
at org.globus.gsi.gssapi.net.GssSocket.getOutputStream(GssSocket.java&#58;155)
at org.globus.ogsa.server.GSIServiceThread.process(GSIServiceThread.java&#58;101)
at org.globus.ogsa.server.ServiceThread.run(ServiceThread.java&#58;185)

Can we figure out what is causing these errors and prevent them from occuring?</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F11172">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
