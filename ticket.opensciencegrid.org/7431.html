<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[7431] Resource Specific Issue on Vanderbilt</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=7431" method="post">
<div class="page-header">
    <h3><span class="muted">7431</span> / Resource Specific Issue on Vanderbilt</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Kevin Buterbaugh</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-01-07</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/7431", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7431?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7431?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Resource%20Specific%20Issue%20on%20Vanderbilt%20ISSUE%3D7431%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='7431#1265729892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-09T15:38:12+00:00">Feb 9, 2010 03:38 PM UTC</time> by <b>USATLAS</b><a class="anchor" name="1265729892">&nbsp;</a></div><pre>Subject&#58; Resolved&#58; Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71

Ticket ID&#58; [rt.racf.bnl.gov #13975]
Requestors&#58; osg@....
Queue&#58; GridServices
Owner&#58; John R. Hover
Status&#58; resolved
Priority&#58; None
Transaction&#58; Status changed from &#39;open&#39; to &#39;resolved&#39; by jhover
Subject&#58; Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71
OSG GOC Ticket&#58; ISSUE=7431 PROJ=71

------------------------------------------------------------------------------

Please DO NOT reply with thank you messages.

According to our records, your request has been resolved and this
ticket has has been closed.  If you are satisfied with the resolution
of your request, then please DO NOT reply to this message, as doing
so will automatically re-open the ticket.

If you have any further questions or comments, or you would like to
re-open this ticket, then simply reply to this email.

Thank you,
RT-RACF@....</pre></div><div class='update_description'><i onclick="document.location='7431#1265729888'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-09T15:38:08+00:00">Feb 9, 2010 03:38 PM UTC</time> by <b>USATLAS</b><a class="anchor" name="1265729888">&nbsp;</a></div><pre>Ticket ID&#58; [rt.racf.bnl.gov #13975]
Requestors&#58; osg@....
Queue&#58; GridServices
Owner&#58; John R. Hover
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by jhover
Subject&#58; Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71
OSG GOC Ticket&#58; ISSUE=7431 PROJ=71

------------------------------------------------------------------------------

Reading back over the ticket, I don&#39;t see how BNL is involved, since Vanderbilt
isn&#39;t an ATLAS Tier 3, and the problem involves srm-ping.

Please re-open if we&#39;re missing something.

Cheers,

--john</pre></div><div class='update_description'><i onclick="document.location='7431#1263232574'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-11T17:56:14+00:00">Jan 11, 2010 05:56 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1263232574">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='7431#1262901848'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-07T22:04:08+00:00">Jan 7, 2010 10:04 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1262901848">&nbsp;</a></div><pre>Hi All,

Brian and I just got on a Skype chat and worked this out.  The root cause of the problem was that since we use BeStMan, I need to set the following variable in the RSV section of my config.ini file&#58;

srm_webservice_path = srm/v2/server

Since the OSG 1.2.4 upgrade fixed my local status page and I&#39;m now 100% green, this ticket may be closed!  Thanks, all...

Kevin

On Dec 31, 2009, at 9&#58;30 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1262800809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-06T18:00:09+00:00">Jan 6, 2010 06:00 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1262800809">&nbsp;</a></div><pre>Hi All,

I upgraded my CE and therefore my RSV probes to OSG 1.2.4 yesterday and everything is looking good with my local status page.  However, while I am green on the srmping probe thanks to the help I received previously, I&#39;m still red on the srmcp probe&#58;

metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2010-01-06 11&#58;28&#58;00 CST
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; se1.accre.vanderbilt.edu&#58;6288
gatheredAt&#58; vampire.accre.vanderbilt.edu
summaryData&#58; CRITICAL
detailsData&#58; ERROR&#58; Cannot copy file&#58; file&#58;////opt/osg/osg-rsv/bin/probes/storage-probe-test-file to
<a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2?SFN=/rsvtestdir/1262798880-storage-probe-test-file-remote.5942' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2?SFN=/rsvtestdir/1262798880-storage-probe-test-file-remote.5942</a> using SRM protocol 2 ... Bailing
now.
Actual error message was&#58; SRMClientV2 &#58; srmPrepareToPut&#58; try # 0 failed with error
SRMClientV2 &#58;
Wed Jan 06 11&#58;28&#58;04 CST 2010&#58;
srm client error&#58;
java.lang.Exception&#58;  stopped
EOT

The steps I took to fix the srmping probe are evidently not applicable, as the Fermi srmcp command doesn&#39;t support the &#34;-srm-webservice-path&#34; option.  Can anyone assist me with what I need to do to fix / configure correctly the srmcp probe?  Thanks...

Kevin

On Dec 31, 2009, at 9&#58;30 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1262273453'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-31T15:30:53+00:00">Dec 31, 2009 03:30 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1262273453">&nbsp;</a></div><pre>Changing NAD and awaiting a reply from Brian.</pre></div><div class='update_description'><i onclick="document.location='7431#1261663527'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-24T14:05:27+00:00">Dec 24, 2009 02:05 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1261663527">&nbsp;</a></div><pre>Changing NAD and awaiting a reply from Brian.</pre></div><div class='update_description'><i onclick="document.location='7431#1261577108'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-23T14:05:08+00:00">Dec 23, 2009 02:05 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261577108">&nbsp;</a></div><pre>Hi Brian,

I&#39;m assuming you want this run as &#34;rsvuser&#34; ... unfortunately, I get a Perl error&#58;

[rsvuser@vampire ~]$ /opt/osg/osg-rsv/bin/probes/srm-ping-probe -m org.osg.srm.srmping --verbose --print-local-time --srm-destination-dir /rsvtestdir --ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python --uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details --verbose
Can&#39;t locate RSVProbeBase.pm in @INC (@INC contains&#58; /opt/osg/perl/lib/5.8.0/x86_64-linux-thread-multi /opt/osg/perl/lib/5.8.0 /opt/osg/perl/lib/5.8.0/x86_64-linux-thread-multi /opt/osg/perl/lib/site_perl/5.8.0/x86_64-linux-thread-multi /opt/osg/perl/lib/site_perl/5.8.0 /opt/osg/perl/lib/site_perl/5.8.0/x86_64-linux-thread-multi /opt/osg/vdt/lib /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.8.7/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.8.6/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl/5.8.7 /usr/lib/perl5/site_perl/5.8.6 /usr/lib/perl5/site_perl/5.8.5 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.8.7/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.8.6/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl/5.8.7 /usr/lib/perl5/vendor_perl/5.8.6 /usr/lib/perl5/vendor_perl/5.8.5 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at /opt/osg/osg-rsv/bin/probes/srm-ping-probe line 19.
BEGIN failed--compilation aborted at /opt/osg/osg-rsv/bin/probes/srm-ping-probe line 19.
[rsvuser@vampire ~]$

Thanks...

Kevin

On Dec 22, 2009, at 7&#58;32 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261531930'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-23T01:32:10+00:00">Dec 23, 2009 01:32 AM UTC</time> by <b>bbockelm</b><a class="anchor" name="1261531930">&nbsp;</a></div><pre>Hey Kevin,

What happens if you run the following command by hand&#58;

/opt/osg/osg-rsv/bin/probes/srm-ping-probe -m org.osg.srm.srmping --verbose --print-local-time --srm-destination-dir /rsvtestdir
--ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python --uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details --verbose
Giving me the complete output would be useful.  Next I&#39;ll have you run srm-ping by hand if that provides insufficient data.

Brian

On Dec 22, 2009, at 12&#58;02 PM, Alex Sim wrote&#58;

<font color='#7F7E6F'>&#62; Hi Kevin,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Let&#39;s include Brian on this. He might know.</font>
<font color='#7F7E6F'>&#62; Brian, any idea on this matter?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- Alex</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 12/22/09 6&#58;53 AM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261505107'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-22T18:05:07+00:00">Dec 22, 2009 06:05 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261505107">&nbsp;</a></div><pre>Hi Kevin,

Let&#39;s include Brian on this. He might know.
Brian, any idea on this matter?

-- Alex

On 12/22/09 6&#58;53 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261493588'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-22T14:53:08+00:00">Dec 22, 2009 02:53 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261493588">&nbsp;</a></div><pre>Hi Alex,

OK ... I can see via MyOSG that srm-ping is now working, so evidently the changes we made yesterday did in fact fix this.  However, the changes also apparently &#34;broke&#34; my local RSV status page&#58;  <a href='https&#58;//vampire.accre.vanderbilt.edu&#58;8443/rsv/.' target='_blank' rel='nofollow'>https&#58;//vampire.accre.vanderbilt.edu&#58;8443/rsv/.</a>

I say apparently because that page was working before the changes and doesn&#39;t since the changes.  I tried bouncing just osg-rsv, and then even did a full &#34;vdt-control --off; vdt-control --on&#34; this morning.  It&#39;s still broken.  I realize this part probably isn&#39;t your area of expertise, but I would appreciate it if someone could look into what&#39;s going on with my local page.  Thanks...

Kevin

On Dec 21, 2009, at 4&#58;23 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261434189'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T22:23:09+00:00">Dec 21, 2009 10:23 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261434189">&nbsp;</a></div><pre>Kevin,

He&#39;s right. this IU link shows that your ping worked (24 minutes ago
now), and they have all the right options.

then execute&#58; /opt/osg/osg-rsv/bin/probes/srm-ping-probe
--srm-webservice-path srm/v2/server --srm-protocol-version 2 -m
org.osg.srm.srmping --verbose --srm-destination-dir /rsvtestdir
--srm-webservice-path srm/v2/server --ggs --gsl
/opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python --uri
se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details

-- Alex

On 12/21/09 2&#58;08 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261433827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T22:17:07+00:00">Dec 21, 2009 10:17 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261433827">&nbsp;</a></div><pre>Hi Andrew,

No problem ... so what I&#39;m seeing now is that my local RSV page is hosed up, but the MyOSG RSV page says I&#39;m OK.  There&#39;s obviously something strange going on there.  Thanks for your help...

Kevin

On Dec 21, 2009, at 4&#58;08 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261433287'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T22:08:07+00:00">Dec 21, 2009 10:08 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1261433287">&nbsp;</a></div><pre>I do not understand why you see this message where in fact  your srmping
(fnal based) DOES report correct status to gratia data base.
<a href='http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&start_type=7daysago&start_date=03%2F13%2F2009&end_type=now&end_date=03%2F20%2F2009&all_resources=on&gridtype=on&gridtype_1=on' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&start_type=7daysago&start_date=03%2F13%2F2009&end_type=now&end_date=03%2F20%2F2009&all_resources=on&gridtype=on&gridtype_1=on</a>

Look under Vanderbilt_SE
se1.accre.vanderbilt.edu

Last updated 7 minutes ago. I do not understand the architecture of rsv
monitoring to answer the question why it claims records have not been
sent. Perhabs we are dealing with some stale information that needs to
cleaned up.  Give me few days to get back to you on this.

Andrew

On Mon, 2009-12-21 at 21&#58;59 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261432747'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T21:59:07+00:00">Dec 21, 2009 09:59 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261432747">&nbsp;</a></div><pre>Hi Alex,

OK, so it seems like we&#39;ve taken a step backwards today, since not only did what I changed not get the options passed in correctly, I now also do not see my normal expected output on my RSV page.  I realize that neither of those are your fault, but I do need some input from someone who might know why this made things worse and not better.  Thanks!

Kevin

On Dec 21, 2009, at 2&#58;41 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261428068'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T20:41:08+00:00">Dec 21, 2009 08:41 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261428068">&nbsp;</a></div><pre>Kevin,

it doesn&#39;t seem that your new options are effective in the RSVprove...

- Then execute&#58; /opt/osg/osg-rsv/bin/probes/srm-ping-probe -m
org.osg.srm.srmping --verbose --print-local-time --srm-destination-dir
/rsvtestdir
--ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python
--uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details

and srmcp uses the wrong URL
<a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2?SFN=/rsvtestdir/1261373288-storage-probe-test-file-remote.16186' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2?SFN=/rsvtestdir/1261373288-storage-probe-test-file-remote.16186</a>
using SRM protocol 2 ... Bailing now.

-- Alex

On 12/21/09 12&#58;23 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261426989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T20:23:09+00:00">Dec 21, 2009 08:23 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261426989">&nbsp;</a></div><pre>Hi Andrew,

Take a look at my RSV page&#58;  <a href='https&#58;//vampire.accre.vanderbilt.edu&#58;8443/rsv/' target='_blank' rel='nofollow'>https&#58;//vampire.accre.vanderbilt.edu&#58;8443/rsv/</a>

I&#39;ve never seen that output before...

Kevin

On Dec 21, 2009, at 2&#58;17 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261426627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T20:17:07+00:00">Dec 21, 2009 08:17 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1261426627">&nbsp;</a></div><pre>It looks like srmping gratia record was sent. From
<a href='http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&start_type=7daysago&start_date=03%2F13%2F2009&end_type=now&end_date=03%2F20%2F2009&all_resources=on&gridtype=on&gridtype_1=on' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&start_type=7daysago&start_date=03%2F13%2F2009&end_type=now&end_date=03%2F20%2F2009&all_resources=on&gridtype=on&gridtype_1=on</a>

&#34;SRM server running on se1.accre.vanderbilt.edu is alive and responding
to the srmping command.
Got this from srm-ping command&#58; Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory&#34;

Congrats !

Andrew

On Mon, 2009-12-21 at 20&#58;08 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261426087'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T20:08:07+00:00">Dec 21, 2009 08:08 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261426087">&nbsp;</a></div><pre>Hi Andrew,

Sorry, it&#39;s not there&#58;

/opt/osg/osg-rsv/output/gratia
root@vampire# ls -ltr
total 4
-rw-r--r-- 1 rsvuser osgusers 748 Dec 21 14&#58;03 1261425720-vampire.accre.vanderbilt.edu-org.osg.batch.jobmanager-default-status.20874.py
/opt/osg/osg-rsv/output/gratia
root@vampire# cat 1261425720-vampire.accre.vanderbilt.edu-org.osg.batch.jobmanager-default-status.20874.py
#! /usr/bin/python

import Gratia
import Metric

if __name__ == &#39;__main__&#39;&#58;
Gratia.Initialize(&#34;/opt/osg/gratia/probe/metric/ProbeConfig&#34;)
r = Metric.MetricRecord()
r.MetricName(&#34;org.osg.batch.jobmanager-default-status&#34;)
r.MetricType(&#34;status&#34;)
r.MetricStatus(&#34;OK&#34;)
r.Timestamp(&#34;2009-12-21T20&#58;02&#58;00Z&#34;) # Or could enter it as seconds since epoch
r.ServiceType(&#34;OSG-CE&#34;)
r.ServiceUri(&#34;vampire.accre.vanderbilt.edu&#34;)
r.GatheredAt(&#34;vampire.accre.vanderbilt.edu&#34;)
r.SummaryData(&#34;OK&#34;)
r.DetailsData(&#34;Job submission to &#92;&#34;vampire.accre.vanderbilt.edu/jobmanager&#92;&#34; succeeded and job status when last checked was a valid one (&#92;&#34;ACTIVE&#92;&#34;); &#34;)

print Gratia.Send(r)
/opt/osg/osg-rsv/output/gratia
root@vampire#

On Dec 21, 2009, at 2&#58;02 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261425727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T20:02:07+00:00">Dec 21, 2009 08:02 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1261425727">&nbsp;</a></div><pre>There may be problem with gratia configuration. Meanwhile, can you sent
us content of this file
&#39;/opt/osg/osg-rsv/output/gratia/1261417478-se1.accre.vanderbilt.edu-org.osg.srm.srmping.25917.py&#39;

? If it&#39;s still there .

Andrew

On Mon, 2009-12-21 at 19&#58;47 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; &#39;/opt/osg/osg-rsv/output/gratia/1261417478-se1.accre.vanderbilt.edu-org.osg.srm.srmping.25917.py&#39;</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261424827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T19:47:07+00:00">Dec 21, 2009 07:47 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261424827">&nbsp;</a></div><pre>Hi Andrew,

I had forgotten to rerun configure_osg_rsv ... I did that, restarted osg-rsv again, and nowI have no output on my RSV web page ... only a warning that &#34;There are 105 Gratia records that could not be sent. Inspect the log file at $VDT_LOCATION/osg-rsv/logs/consumers/gratia-script-consumer.output&#34;.  So I look in that file and all I see is&#58;

12-21-2009 13&#58;40&#58;14 - Beginning execution, found 27 files
12-21-2009 13&#58;40&#58;14 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417466-se1.accre.vanderbilt.edu-org.osg.srm.srmcp-readwrite.24786.py&#39;
12-21-2009 13&#58;40&#58;15 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417472-vampire.accre.vanderbilt.edu-org.osg.general.osg-directories-CE-permissions.24934.py&#39;
12-21-2009 13&#58;40&#58;15 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417473-vampire.accre.vanderbilt.edu-org.osg.certificates.crl-expiry.25130.py&#39;
12-21-2009 13&#58;40&#58;15 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417474-vampire.accre.vanderbilt.edu-org.osg.general.ping-host.25300.py&#39;
12-21-2009 13&#58;40&#58;16 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417475-vampire.accre.vanderbilt.edu-org.osg.general.vo-supported.25564.py&#39;
12-21-2009 13&#58;40&#58;16 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417475-vampire.accre.vanderbilt.edu-org.osg.globus.gridftp-simple.25496.py&#39;
12-21-2009 13&#58;40&#58;16 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417476-vampire.accre.vanderbilt.edu-org.osg.batch.jobmanager-default-status.25661.py&#39;
12-21-2009 13&#58;40&#58;17 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417476-vampire.accre.vanderbilt.edu-org.osg.certificates.cacert-expiry.25633.py&#39;
12-21-2009 13&#58;40&#58;17 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417476-vampire.accre.vanderbilt.edu-org.osg.globus.gram-authentication.25852.py&#39;
12-21-2009 13&#58;40&#58;17 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417477-vampire.accre.vanderbilt.edu-org.osg.batch.jobmanagers-available.25994.py&#39;
12-21-2009 13&#58;40&#58;17 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417477-vampire.accre.vanderbilt.edu-org.osg.general.osg-version.25779.py&#39;
12-21-2009 13&#58;40&#58;18 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417478-se1.accre.vanderbilt.edu-org.osg.srm.srmping.25917.py&#39;
12-21-2009 13&#58;40&#58;18 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261417478-vampire.accre.vanderbilt.edu-org.osg.general.vdt-version.25891.py&#39;
12-21-2009 13&#58;40&#58;18 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424130-se1.accre.vanderbilt.edu-org.osg.srm.srmcp-readwrite.11414.py&#39;
12-21-2009 13&#58;40&#58;18 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424131-se1.accre.vanderbilt.edu-org.osg.srm.srmping.11514.py&#39;
12-21-2009 13&#58;40&#58;19 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424131-vampire.accre.vanderbilt.edu-org.osg.certificates.cacert-expiry.11537.py&#39;
12-21-2009 13&#58;40&#58;19 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424134-vampire.accre.vanderbilt.edu-org.osg.certificates.crl-expiry.11801.py&#39;
12-21-2009 13&#58;40&#58;19 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424135-vampire.accre.vanderbilt.edu-org.osg.globus.gram-authentication.11954.py&#39;
12-21-2009 13&#58;40&#58;20 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424136-vampire.accre.vanderbilt.edu-org.osg.globus.gridftp-simple.12057.py&#39;
12-21-2009 13&#58;40&#58;20 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424140-vampire.accre.vanderbilt.edu-org.osg.batch.jobmanagers-available.12616.py&#39;
12-21-2009 13&#58;40&#58;20 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424141-vampire.accre.vanderbilt.edu-org.osg.batch.jobmanager-default-status.12663.py&#39;
12-21-2009 13&#58;40&#58;20 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424141-vampire.accre.vanderbilt.edu-org.osg.general.osg-directories-CE-permissions.12638.py&#39;
12-21-2009 13&#58;40&#58;21 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424141-vampire.accre.vanderbilt.edu-org.osg.general.osg-version.12759.py&#39;
12-21-2009 13&#58;40&#58;21 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424144-vampire.accre.vanderbilt.edu-org.osg.general.ping-host.13201.py&#39;
12-21-2009 13&#58;40&#58;21 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424144-vampire.accre.vanderbilt.edu-org.osg.general.vdt-version.13237.py&#39;
12-21-2009 13&#58;40&#58;21 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424144-vampire.accre.vanderbilt.edu-org.osg.general.vo-supported.13226.py&#39;
12-21-2009 13&#58;40&#58;22 - Executing script &#39;/opt/osg/osg-rsv/output/gratia/1261424221-vampire.accre.vanderbilt.edu-org.osg.general.osg-directories-CE-permissions.20280.py&#39;
12-21-2009 13&#58;40&#58;22 - Finished execution

Any ideas?  Thanks...
<div id='show_195404584' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_195404584'>
Kevin

On Dec 21, 2009, at 11&#58;38 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_195404584').click(function() {
            $('#detail_195404584').slideDown("normal");
            $('#show_195404584').hide();
            $('#hide_195404584').show();
        });
        $('#hide_195404584').click(function() {
            $('#detail_195404584').slideUp();
            $('#hide_195404584').hide();
            $('#show_195404584').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1261417267'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T17:41:07+00:00">Dec 21, 2009 05:41 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261417267">&nbsp;</a></div><pre>Is there any way that we can see what exact command the RSV probe ran?

-- Alex

On 12/21/09 9&#58;38 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261417088'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T17:38:08+00:00">Dec 21, 2009 05:38 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1261417088">&nbsp;</a></div><pre>Did you do
&#34;Run configure_osg_rsv or configure-osg as you would normally do, and
restart osg-rsv (vdt-control --off osg-rsv; vdt-control --on osg-rsv).&#34;

Andrew

On Mon, 2009-12-21 at 17&#58;29 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261416547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-21T17:29:07+00:00">Dec 21, 2009 05:29 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261416547">&nbsp;</a></div><pre>Hi Alex,

The probe did not have all the right options, so I followed the instructions at&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to</a>

to add them.  Specifically, my /opt/osg/osg-rsv/specs/global-specs/srm-ping-probe@.... now contains the following&#58;

--srm-webservice-path srm/v2/server --srm-protocol-version 2

I then forced the probes to run by hand, but it did not change anything as far as the probe output is concerned.  Have I set things up incorrectly?  Thanks for your help...

Kevin

On Dec 18, 2009, at 6&#58;11 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261181467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-19T00:11:07+00:00">Dec 19, 2009 12:11 AM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261181467">&nbsp;</a></div><pre>Hi Kevin,

ok, we&#39;re almost there.
Your first command got the right output&#58;

srmping -2 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a> -x509_user_proxy=/tmp/rsvproxy -webservice_path=srm/v2/server -debug=true

Now, please check the rsv probe and see if the probe has all the right options.

cheers,

-- Alex

On 12/18/09 3&#58;59 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261180747'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:59:07+00:00">Dec 18, 2009 11:59 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261180747">&nbsp;</a></div><pre>Hi Alex,

The command below works, but notice what happens with the 2nd test&#58;

[rsvuser@vampire ~]$ srmping -2 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a> -x509_user_proxy=/tmp/rsvproxy -webservice_path=srm/v2/server -debug=true
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=srm/v2/server
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
<div id='show_2115783063' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2115783063'>copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Dec 18 17&#58;55&#58;03 CST 2009&#58; In SRMClient ExpectedName&#58; host
Fri Dec 18 17&#58;55&#58;03 CST 2009&#58; SRMClient(https,srm/v2/server,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV2 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server
Fri Dec 18 17&#58;55&#58;05 CST 2009&#58; received response
VersionInfo &#58; v2.2
backend_type&#58;BeStMan
backend_version&#58;2.2.1.2.i7
backend_build_date&#58;2009-07-10T20&#58;54&#58;16.000Z
gsiftpTxfServers[0]&#58;<a href='gsiftp&#58;//se1.accre.vanderbilt.edu' target='_blank' rel='nofollow'>gsiftp&#58;//se1.accre.vanderbilt.edu</a>
GatewayMode&#58;Enabled
clientDN&#58;/DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
gumsIDMapped&#58;rsvuser

[rsvuser@vampire ~]$

[rsvuser@vampire ~]$ srmping -2 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a> -x509_user_proxy=/tmp/rsvproxy -debug=true
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=null
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Dec 18 17&#58;56&#58;25 CST 2009&#58; In SRMClient ExpectedName&#58; host
Fri Dec 18 17&#58;56&#58;25 CST 2009&#58; SRMClient(https,srm/managerv2,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV2 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58;
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; sleeping for 10000 milliseconds before retrying
SRMClientV2 &#58; srmPing&#58; try # 1 failed with error
SRMClientV2 &#58;
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; sleeping for 20000 milliseconds before retrying

On Dec 18, 2009, at 5&#58;53 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2115783063').click(function() {
            $('#detail_2115783063').slideDown("normal");
            $('#show_2115783063').hide();
            $('#hide_2115783063').show();
        });
        $('#hide_2115783063').click(function() {
            $('#detail_2115783063').slideUp();
            $('#hide_2115783063').hide();
            $('#show_2115783063').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1261180387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:53:07+00:00">Dec 18, 2009 11:53 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261180387">&nbsp;</a></div><pre>Hi Kevin,

first command didn&#39;t seem worked. Please try the following as it includes -2.
thanks

srmping
-2
<a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-x509_user_proxy=/tmp/rsvproxy
-webservice_path=srm/v2/server
-debug=true

-- Alex

On 12/18/09 3&#58;29 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261180207'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:50:07+00:00">Dec 18, 2009 11:50 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261180207">&nbsp;</a></div><pre>Hi Kevin,

have &#34;-2&#34; in the command option and try again.
it didn&#39;t get the correct output.

thanks

-- Alex

On 12/18/09 3&#58;29 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261179487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:38:07+00:00">Dec 18, 2009 11:38 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261179487">&nbsp;</a></div><pre>Hi Andrew,

We don&#39;t have dCache installed here (we use BeStMan instead) ... sorry.

Kevin

On Dec 18, 2009, at 5&#58;20 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261178947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:29:07+00:00">Dec 18, 2009 11:29 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261178947">&nbsp;</a></div><pre>Hi Alex,

Both seem to work...

Kevin

[rsvuser@vampire ~]$ srmping <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a> -x509_user_proxy=/tmp/rsvproxy -debug=true
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=null
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
<div id='show_452454026' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_452454026'>save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=1
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Dec 18 17&#58;24&#58;07 CST 2009&#58; In SRMClient ExpectedName&#58; host
Fri Dec 18 17&#58;24&#58;07 CST 2009&#58; SRMClient(https,srm/managerv1,true)
SRMClientV1 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV1 &#58; SRMClientV1 calling org.globus.axis.util.Util.registerTransport()
SRMClientV1 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv1
Fri Dec 18 17&#58;24&#58;08 CST 2009&#58; connected to server, obtaining proxy
Fri Dec 18 17&#58;24&#58;08 CST 2009&#58; got proxy of type class org.dcache.srm.client.SRMClientV1
Fri Dec 18 17&#58;24&#58;08 CST 2009&#58;  srm ping returned = true
[rsvuser@vampire ~]$ srmping <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a> -x509_user_proxy=/tmp/rsvproxy -webservice_path=srm/v2/server -debug=true
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=srm/v2/server
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=1
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Dec 18 17&#58;24&#58;49 CST 2009&#58; In SRMClient ExpectedName&#58; host
Fri Dec 18 17&#58;24&#58;49 CST 2009&#58; SRMClient(https,srm/v2/server,true)
SRMClientV1 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV1 &#58; SRMClientV1 calling org.globus.axis.util.Util.registerTransport()
SRMClientV1 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server
Fri Dec 18 17&#58;24&#58;50 CST 2009&#58; connected to server, obtaining proxy
Fri Dec 18 17&#58;24&#58;50 CST 2009&#58; got proxy of type class org.dcache.srm.client.SRMClientV1
Fri Dec 18 17&#58;24&#58;50 CST 2009&#58;  srm ping returned = true
[rsvuser@vampire ~]$
On Dec 18, 2009, at 5&#58;14 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_452454026').click(function() {
            $('#detail_452454026').slideDown("normal");
            $('#show_452454026').hide();
            $('#hide_452454026').show();
        });
        $('#hide_452454026').click(function() {
            $('#detail_452454026').slideUp();
            $('#hide_452454026').hide();
            $('#show_452454026').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1261178406'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:20:06+00:00">Dec 18, 2009 11:20 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1261178406">&nbsp;</a></div><pre>Hi Kevin,

Can you try pinging the server (using your dCache srmclient ) ?
/opt/d-cache/srm/bin/srmping -retry_num=0 -debug -2
-x509_user_proxy=/tmp/x509up_u1343 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server

This command works for me (using my personal proxy cert)

Also , there was chance srm-webservice-path option has not been picked
up. If manual ping works, can you please set the option to srm/v2/server
and report the failure debug ?

Cheers,
Andrew

On Fri, 2009-12-18 at 23&#58;05 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261178046'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:14:06+00:00">Dec 18, 2009 11:14 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1261178046">&nbsp;</a></div><pre>Hi Kevin,

as rsvuser from the command-line, can you try

srmping
<a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a>
-x509_user_proxy=/tmp/rsvproxy
-debug=true

or

srmping
<a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-x509_user_proxy=/tmp/rsvproxy
-webservice_path=srm/v2/server
-debug=true

and see how it goes?

regards,

-- Alex

On 12/18/09 3&#58;05 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1261177507'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-18T23:05:07+00:00">Dec 18, 2009 11:05 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1261177507">&nbsp;</a></div><pre>Hi Alex,

Sorry for the delay in getting back with you ... it&#39;s been one of those weeks, unfortunately.  Anyway, yes, srm-ping as rsvuser from the command line works&#58;

[rsvuser@vampire ~]$ srm-ping <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a> -proxyfile /tmp/rsvproxy
srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server

SRM-PING&#58; Fri Dec 18 17&#58;01&#58;24 CST 2009  Calling SrmPing Request...
versionInfo=v2.2

Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.1.2.i7
backend_build_date=2009-07-10T20&#58;54&#58;16.000Z
gsiftpTxfServers[0]=<a href='gsiftp&#58;//se1.accre.vanderbilt.edu' target='_blank' rel='nofollow'>gsiftp&#58;//se1.accre.vanderbilt.edu</a>
GatewayMode=Enabled
clientDN=/DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
gumsIDMapped=rsvuser
[rsvuser@vampire ~]$

But fails in the RSV probe&#58;

metricName&#58; org.osg.srm.srmping
metricType&#58; status
timestamp&#58; 2009-12-18 16&#58;53&#58;00 CST
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; se1.accre.vanderbilt.edu&#58;6288
gatheredAt&#58; vampire.accre.vanderbilt.edu
summaryData&#58; CRITICAL
<div id='show_797633817' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_797633817'>detailsData&#58; SRM server running on se1.accre.vanderbilt.edu is not responding to the srmping command. The error message printed by srmping was&#58;
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webs
... Truncated ...
For more details,  as &#39;&#39; user&#58;
- First source /opt/osg/setup.sh
- Then execute&#58; /opt/osg/osg-rsv/bin/probes/srm-ping-probe -m org.osg.srm.srmping --verbose --print-local-time --srm-destination-dir /rsvtestdir
--ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python --uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details
If the --verbose switch was passed to this execution, this file might have more information
$VDT_LOCATION/osg-rsv/logs/probes/se1.accre.vanderbilt.edu__srm-ping-probe&#92;@org.osg.srm.srmping.err.
EOT

Please let me know if there&#39;s any other information I can provide to try to help debug this.  Thanks...

Kevin

On Dec 15, 2009, at 2&#58;08 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_797633817').click(function() {
            $('#detail_797633817').slideDown("normal");
            $('#show_797633817').hide();
            $('#hide_797633817').show();
        });
        $('#hide_797633817').click(function() {
            $('#detail_797633817').slideUp();
            $('#hide_797633817').hide();
            $('#show_797633817').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1261066382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-17T16:13:02+00:00">Dec 17, 2009 04:13 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1261066382">&nbsp;</a></div><pre>Changing NAD and awaiting updates.</pre></div><div class='update_description'><i onclick="document.location='7431#1260907694'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-15T20:08:14+00:00">Dec 15, 2009 08:08 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1260907694">&nbsp;</a></div><pre>Hi Kevin,

Let&#39;s go back a little.
srmping by itself works, but when it&#39;s within RSV probe, it fails. is
that the problem?
Can you send us what command with options that RSV probe uses?

thanks

-- Alex

On 12/15/09 11&#58;53 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1260906787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-15T19:53:07+00:00">Dec 15, 2009 07:53 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1260906787">&nbsp;</a></div><pre>Hi Andrew,

That was already done long ago and didn&#39;t make a difference.  Sorry...

Kevin

On Dec 14, 2009, at 1&#58;41 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1260819668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-14T19:41:08+00:00">Dec 14, 2009 07:41 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1260819668">&nbsp;</a></div><pre>Kevin,

Please set
--srm-webservice-path argument of the rsv probe to srm/v2/server

Let us know.

Andrew

On Mon, 2009-12-14 at 13&#58;37 -0600, Andrew Baranovski wrote&#58;
<font color='#7F7E6F'>&#62; Thanks! I think you&#39;ve just answered all questions at once.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; dCache (and fermi client) use srm/managerv2 address</font>
<font color='#7F7E6F'>&#62; LBL server ( and I assume client) used srm/v2/server address</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I tried</font>
<font color='#7F7E6F'>&#62;  /usr/local/opt/d-cache/srm/bin/srmping -retry_num=0 -debug -2</font>
<font color='#7F7E6F'>&#62; -x509_user_proxy=/tmp/x509up_u1343 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a></font>
<font color='#7F7E6F'>&#62; -webservice_path=srm/v2/server</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; And got &#58;</font>
<font color='#7F7E6F'>&#62; SRMClientV2 &#58; user credentials</font>
<font color='#7F7E6F'>&#62; are&#58; /DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Andrii</font>
<font color='#7F7E6F'>&#62; Baranovski/CN=UID&#58;abaranov</font>
<font color='#7F7E6F'>&#62; SRMClientV2 &#58; connecting to srm at</font>
<font color='#7F7E6F'>&#62; httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</font>
<font color='#7F7E6F'>&#62; SRMClientV2 &#58; srmPing , contacting service</font>
<font color='#7F7E6F'>&#62; httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</font>
<font color='#7F7E6F'>&#62; Mon Dec 14 13&#58;36&#58;03 CST 2009&#58; received response</font>
<font color='#7F7E6F'>&#62; VersionInfo &#58; v2.2</font>
<font color='#7F7E6F'>&#62; backend_type&#58;BeStMan</font>
<font color='#7F7E6F'>&#62; backend_version&#58;2.2.1.2.i7</font>
<font color='#7F7E6F'>&#62; backend_build_date&#58;2009-07-10T20&#58;54&#58;16.000Z</font>
<font color='#7F7E6F'>&#62; gsiftpTxfServers[0]&#58;<a href='gsiftp&#58;//se1.accre.vanderbilt.edu' target='_blank' rel='nofollow'>gsiftp&#58;//se1.accre.vanderbilt.edu</a></font>
<font color='#7F7E6F'>&#62; GatewayMode&#58;Enabled</font>
<div id='show_1739677155' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1739677155'><font color='#7F7E6F'>&#62; clientDN&#58;/DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Andrii</font>
<font color='#7F7E6F'>&#62; Baranovski/CN=UID&#58;abaranov</font>
<font color='#7F7E6F'>&#62; gumsIDMapped&#58;samgrid</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Which is correct.</font>
<font color='#7F7E6F'>&#62; It would be very nice to have LBL server report no such resource</font>
<font color='#7F7E6F'>&#62; registered or similar error. People generally do not assume &#34;web&#34; part</font>
<font color='#7F7E6F'>&#62; of the srm  server address.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Andrew</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Fri, 2009-12-11 at 21&#58;38 +0000, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1739677155').click(function() {
            $('#detail_1739677155').slideDown("normal");
            $('#show_1739677155').hide();
            $('#hide_1739677155').show();
        });
        $('#hide_1739677155').click(function() {
            $('#detail_1739677155').slideUp();
            $('#hide_1739677155').hide();
            $('#show_1739677155').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1260819488'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-14T19:38:08+00:00">Dec 14, 2009 07:38 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1260819488">&nbsp;</a></div><pre>Thanks! I think you&#39;ve just answered all questions at once.

dCache (and fermi client) use srm/managerv2 address
LBL server ( and I assume client) used srm/v2/server address

I tried
/usr/local/opt/d-cache/srm/bin/srmping -retry_num=0 -debug -2
-x509_user_proxy=/tmp/x509up_u1343 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server

And got &#58;
SRMClientV2 &#58; user credentials
are&#58; /DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Andrii
Baranovski/CN=UID&#58;abaranov
SRMClientV2 &#58; connecting to srm at
httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server
SRMClientV2 &#58; srmPing , contacting service
httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server
Mon Dec 14 13&#58;36&#58;03 CST 2009&#58; received response
VersionInfo &#58; v2.2
backend_type&#58;BeStMan
backend_version&#58;2.2.1.2.i7
backend_build_date&#58;2009-07-10T20&#58;54&#58;16.000Z
gsiftpTxfServers[0]&#58;<a href='gsiftp&#58;//se1.accre.vanderbilt.edu' target='_blank' rel='nofollow'>gsiftp&#58;//se1.accre.vanderbilt.edu</a>
GatewayMode&#58;Enabled
clientDN&#58;/DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Andrii
Baranovski/CN=UID&#58;abaranov
gumsIDMapped&#58;samgrid

Which is correct.
It would be very nice to have LBL server report no such resource
registered or similar error. People generally do not assume &#34;web&#34; part
of the srm  server address.

Andrew
<div id='show_1065449732' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1065449732'>
On Fri, 2009-12-11 at 21&#58;38 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1065449732').click(function() {
            $('#detail_1065449732').slideDown("normal");
            $('#show_1065449732').hide();
            $('#hide_1065449732').show();
        });
        $('#hide_1065449732').click(function() {
            $('#detail_1065449732').slideUp();
            $('#hide_1065449732').hide();
            $('#show_1065449732').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1260818948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-14T19:29:08+00:00">Dec 14, 2009 07:29 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1260818948">&nbsp;</a></div><pre>what&#39;s your end point?  my connection to Vanderbilt works.
I thought this was resolved as some other sites already uses the
same/similar thing for the probe.

% ./etest/bestman/bin/srm-ping
<a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a>
srm-ping   2.2.1.3.7   Wed Dec  2 08&#58;37&#58;30 PST 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl
httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server

SRM-PING&#58; Mon Dec 14 11&#58;24&#58;46 PST 2009  Calling SrmPing Request...
versionInfo=v2.2

Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.1.2.i7
backend_build_date=2009-07-10T20&#58;54&#58;16.000Z
gsiftpTxfServers[0]=<a href='gsiftp&#58;//se1.accre.vanderbilt.edu' target='_blank' rel='nofollow'>gsiftp&#58;//se1.accre.vanderbilt.edu</a>
GatewayMode=Enabled
clientDN=/DC=org/DC=doegrids/OU=People/CN=Alexander Sim 546622
gumsIDMapped=star

-- Alex

On 12/14/09 11&#58;15 AM, Andrew Baranovski wrote&#58;
<font color='#7F7E6F'>&#62; BestMan server responds with InternalServer error for srmping and srmcp</font>
<font color='#7F7E6F'>&#62; requests. I don&#39;t think the client origin (fnal,lbl) makes any</font>
<font color='#7F7E6F'>&#62; difference at this point. In both cases, valid SOAP requests have been</font>
<font color='#7F7E6F'>&#62; sent.</font>
<font color='#7F7E6F'>&#62; &#62;From this point, there are 3 possible routes for resolution&#58;</font>
<font color='#7F7E6F'>&#62; a) Check that srm server support srm v2_2 specification</font>
<div id='show_731343487' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_731343487'><font color='#7F7E6F'>&#62; b) Check that rsv probe proxy certificate is valid and acceptable by SRM</font>
<font color='#7F7E6F'>&#62; server.</font>
<font color='#7F7E6F'>&#62; c) Contact Alex Sim for clarification to why SRM server does not supply</font>
<font color='#7F7E6F'>&#62; information on the cause of failure or ultimately the possible reason</font>
<font color='#7F7E6F'>&#62; for the failure.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Andrew</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,014 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - POST /srm/managerv2 HTTP/1.0</font>
<font color='#7F7E6F'>&#62; Content-Type&#58; text/xml; charset=utf-8</font>
<font color='#7F7E6F'>&#62; Accept&#58; application/soap+xml, application/dime, multipart/related,</font>
<font color='#7F7E6F'>&#62; text/*</font>
<font color='#7F7E6F'>&#62; User-Agent&#58; Axis/1.3</font>
<font color='#7F7E6F'>&#62; Host&#58; se1.accre.vanderbilt.edu&#58;6288</font>
<font color='#7F7E6F'>&#62; Cache-Control&#58; no-cache</font>
<font color='#7F7E6F'>&#62; Pragma&#58; no-cache</font>
<font color='#7F7E6F'>&#62; SOAPAction&#58; &#34;&#34;</font>
<font color='#7F7E6F'>&#62; Content-Length&#58; 550</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#60;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&#62;&#60;soapenv&#58;Envelope</font>
<font color='#7F7E6F'>&#62; xmlns&#58;soapenv=&#34;<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/&#34' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/&#34</a>;</font>
<font color='#7F7E6F'>&#62; xmlns&#58;xsd=&#34;<a href='http&#58;//www.w3.or' target='_blank' rel='nofollow'>http&#58;//www.w3.or</a></font>
<font color='#7F7E6F'>&#62; g/2001/XMLSchema&#34; xmlns&#58;xsi=&#34;<a href='http&#58;//www.w3.org/2001/XMLSchema-instance&#34' target='_blank' rel='nofollow'>http&#58;//www.w3.org/2001/XMLSchema-instance&#34</a>;&#62;</font>
<font color='#7F7E6F'>&#62;  &#60;soapenv&#58;Body&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;ns1&#58;srmPing</font>
<font color='#7F7E6F'>&#62; soapenv&#58;encodingStyle=&#34;<a href='http&#58;//schemas.xmlsoap.org/soap/encoding/&#34' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/encoding/&#34</a>;</font>
<font color='#7F7E6F'>&#62; xmlns&#58;ns1=&#34;<a href='http&#58;//srm.lbl.gov/StorageResourceManager&#34' target='_blank' rel='nofollow'>http&#58;//srm.lbl.gov/StorageResourceManager&#34</a>;&#62;</font>
<font color='#7F7E6F'>&#62;    &#60;srmPingRequest xsi&#58;type=&#34;ns1&#58;srmPingRequest&#34;&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;authorizationID xsi&#58;type=&#34;xsd&#58;string&#34; xsi&#58;nil=&#34;true&#34;/&#62;</font>
<font color='#7F7E6F'>&#62;    &#60;/srmPingRequest&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;/ns1&#58;srmPing&#62;</font>
<font color='#7F7E6F'>&#62;  &#60;/soapenv&#58;Body&#62;</font>
<font color='#7F7E6F'>&#62; &#60;/soapenv&#58;Envelope&#62;</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,161 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - HTTP/1.0 500 Internal server</font>
<font color='#7F7E6F'>&#62; error</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,161 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - HTTP/1.0 500 Internal server</font>
<font color='#7F7E6F'>&#62; error</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,162 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - Content-Type text/xml;</font>
<font color='#7F7E6F'>&#62; charset=utf-8</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,162 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - Content-Type text/xml;</font>
<font color='#7F7E6F'>&#62; charset=utf-8</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,162 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - Content-Length 2841</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,162 [main] DEBUG</font>
<font color='#7F7E6F'>&#62; org.apache.axis.transport.http.HTTPSender - Content-Length 2841</font>
<font color='#7F7E6F'>&#62; 2009-12-14 13&#58;09&#58;04,163 [main] DEBUG org.apache.axis.SOAPPart - Enter&#58;</font>
<font color='#7F7E6F'>&#62; SOAPPart ctor(FORM_INPUTSTREAM)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Fri, 2009-12-11 at 15&#58;36 -0600, Andrew Baranovski wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ll be reviewing the code for this probe next week. Sorry , it took a</font>
<font color='#7F7E6F'>&#62;&#62; while. This is the new development activity for the group and it got</font>
<font color='#7F7E6F'>&#62;&#62; stuck behind other pending projects.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Andrew</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; On Fri, 2009-12-11 at 20&#58;21 +0000, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_731343487').click(function() {
            $('#detail_731343487').slideDown("normal");
            $('#show_731343487').hide();
            $('#hide_731343487').show();
        });
        $('#hide_731343487').click(function() {
            $('#detail_731343487').slideUp();
            $('#hide_731343487').hide();
            $('#show_731343487').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1260818227'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-14T19:17:07+00:00">Dec 14, 2009 07:17 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1260818227">&nbsp;</a></div><pre>BestMan server responds with InternalServer error for srmping and srmcp
requests. I don&#39;t think the client origin (fnal,lbl) makes any
difference at this point. In both cases, valid SOAP requests have been
sent.
From this point, there are 3 possible routes for resolution&#58;
a) Check that srm server support srm v2_2 specification
b) Check that rsv probe proxy certificate is valid and acceptable by SRM
server.
c) Contact Alex Sim for clarification to why SRM server does not supply
information on the cause of failure or ultimately the possible reason
for the failure.

Andrew

2009-12-14 13&#58;09&#58;04,014 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - POST /srm/managerv2 HTTP/1.0
Content-Type&#58; text/xml; charset=utf-8
Accept&#58; application/soap+xml, application/dime, multipart/related,
text/*
User-Agent&#58; Axis/1.3
Host&#58; se1.accre.vanderbilt.edu&#58;6288
Cache-Control&#58; no-cache
Pragma&#58; no-cache
SOAPAction&#58; &#34;&#34;
Content-Length&#58; 550

&#60;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&#62;&#60;soapenv&#58;Envelope
xmlns&#58;soapenv=&#34;<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/&#34' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/&#34</a>;
xmlns&#58;xsd=&#34;<a href='http&#58;//www.w3.or' target='_blank' rel='nofollow'>http&#58;//www.w3.or</a>
g/2001/XMLSchema&#34; xmlns&#58;xsi=&#34;<a href='http&#58;//www.w3.org/2001/XMLSchema-instance&#34' target='_blank' rel='nofollow'>http&#58;//www.w3.org/2001/XMLSchema-instance&#34</a>;&#62;
&#60;soapenv&#58;Body&#62;
&#60;ns1&#58;srmPing
soapenv&#58;encodingStyle=&#34;<a href='http&#58;//schemas.xmlsoap.org/soap/encoding/&#34' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/encoding/&#34</a>;
xmlns&#58;ns1=&#34;<a href='http&#58;//srm.lbl.gov/StorageResourceManager&#34' target='_blank' rel='nofollow'>http&#58;//srm.lbl.gov/StorageResourceManager&#34</a>;&#62;
&#60;srmPingRequest xsi&#58;type=&#34;ns1&#58;srmPingRequest&#34;&#62;
<div id='show_250834673' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_250834673'>&#60;authorizationID xsi&#58;type=&#34;xsd&#58;string&#34; xsi&#58;nil=&#34;true&#34;/&#62;
&#60;/srmPingRequest&#62;
&#60;/ns1&#58;srmPing&#62;
&#60;/soapenv&#58;Body&#62;
&#60;/soapenv&#58;Envelope&#62;
2009-12-14 13&#58;09&#58;04,161 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - HTTP/1.0 500 Internal server
error
2009-12-14 13&#58;09&#58;04,161 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - HTTP/1.0 500 Internal server
error
2009-12-14 13&#58;09&#58;04,162 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - Content-Type text/xml;
charset=utf-8
2009-12-14 13&#58;09&#58;04,162 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - Content-Type text/xml;
charset=utf-8
2009-12-14 13&#58;09&#58;04,162 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - Content-Length 2841
2009-12-14 13&#58;09&#58;04,162 [main] DEBUG
org.apache.axis.transport.http.HTTPSender - Content-Length 2841
2009-12-14 13&#58;09&#58;04,163 [main] DEBUG org.apache.axis.SOAPPart - Enter&#58;
SOAPPart ctor(FORM_INPUTSTREAM)

On Fri, 2009-12-11 at 15&#58;36 -0600, Andrew Baranovski wrote&#58;
<font color='#7F7E6F'>&#62; I&#39;ll be reviewing the code for this probe next week. Sorry , it took a</font>
<font color='#7F7E6F'>&#62; while. This is the new development activity for the group and it got</font>
<font color='#7F7E6F'>&#62; stuck behind other pending projects.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Andrew</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Fri, 2009-12-11 at 20&#58;21 +0000, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_250834673').click(function() {
            $('#detail_250834673').slideDown("normal");
            $('#show_250834673').hide();
            $('#hide_250834673').show();
        });
        $('#hide_250834673').click(function() {
            $('#detail_250834673').slideUp();
            $('#hide_250834673').hide();
            $('#show_250834673').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1260567487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-11T21:38:07+00:00">Dec 11, 2009 09:38 PM UTC</time> by <b>Andrew Baranovski</b><a class="anchor" name="1260567487">&nbsp;</a></div><pre>I&#39;ll be reviewing the code for this probe next week. Sorry , it took a
while. This is the new development activity for the group and it got
stuck behind other pending projects.

Andrew

On Fri, 2009-12-11 at 20&#58;21 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1260562869'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-11T20:21:09+00:00">Dec 11, 2009 08:21 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1260562869">&nbsp;</a></div><pre>Removing Malina from the ticket per her request via IM.</pre></div><div class='update_description'><i onclick="document.location='7431#1260557047'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-11T18:44:07+00:00">Dec 11, 2009 06:44 PM UTC</time> by <b>USATLAS</b><a class="anchor" name="1260557047">&nbsp;</a></div><pre>Ticket ID&#58; [rt.racf.bnl.gov #13975]
Requestors&#58; osg@....
Queue&#58; GridServices
Owner&#58; Nobody in particular
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by jhover
Subject&#58; Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71

------------------------------------------------------------------------------

Hi all,

Why is this ticket in the BNL RT? It looks like it has something to do
with an srm-ping RSV probe--something that as far as I know no one here
is involved in.

I mistakenly thought it was some sort of ATLAS Tier 3 problem, but this
was incorrect.

--john

On 12/11/2009 11&#58;27 AM, osg@.... via RT wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;    *Ticket URL&#58;*  <a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=13975' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=13975</a></font>
<font color='#7F7E6F'>&#62;    *Requestors&#58;*  osg@....</font>
<font color='#7F7E6F'>&#62;           *Ccs&#58;*  (None)</font>
<font color='#7F7E6F'>&#62;         *Queue&#58;*  GridServices</font>
<font color='#7F7E6F'>&#62;         *Owner&#58;*  Nobody in particular</font>
<font color='#7F7E6F'>&#62;        *Status&#58;*  open</font>
<font color='#7F7E6F'>&#62;      *Priority&#58;*  /None/</font>
<font color='#7F7E6F'>&#62;   *Transaction&#58;*  Correspondence added by osg@....</font>
<font color='#7F7E6F'>&#62;       *Subject&#58;*  Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_1858073564' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1858073564'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ------------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1858073564').click(function() {
            $('#detail_1858073564').slideDown("normal");
            $('#show_1858073564').hide();
            $('#hide_1858073564').show();
        });
        $('#hide_1858073564').click(function() {
            $('#detail_1858073564').slideUp();
            $('#hide_1858073564').hide();
            $('#show_1858073564').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1260548767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-11T16:26:07+00:00">Dec 11, 2009 04:26 PM UTC</time> by <b>USATLAS</b><a class="anchor" name="1260548767">&nbsp;</a></div><pre>Ticket ID&#58; [rt.racf.bnl.gov #13975]
Requestors&#58; osg@....
Queue&#58; GridServices
Owner&#58; Nobody in particular
Status&#58; open
Priority&#58; None
Transaction&#58; Queue changed from USAtlasTier3 to GridServices by benjamin@....
Subject&#58; Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71

------------------------------------------------------------------------------

Ticket #13975 has been moved from the USAtlasTier3 queue to the GridServices
queue by Doug Benjamin.</pre></div><div class='update_description'><i onclick="document.location='7431#1260473859'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-10T19:37:39+00:00">Dec 10, 2009 07:37 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1260473859">&nbsp;</a></div><pre>Changing NAD to 1 week from today and awaiting update from Neha.

Kyle</pre></div><div class='update_description'><i onclick="document.location='7431#1260459808'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-10T15:43:28+00:00">Dec 10, 2009 03:43 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1260459808">&nbsp;</a></div><pre>Changing destination to Other</pre></div><div class='update_description'><i onclick="document.location='7431#1260200468'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-07T15:41:08+00:00">Dec 7, 2009 03:41 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1260200468">&nbsp;</a></div><pre>I apologize that this is taking so long. I don&#39;t see Andrew on his
desk right now. I will get back to you hopefully today with an update.

-Neha
On Dec 3, 2009, at 11&#58;13 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1259860747'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-03T17:19:07+00:00">Dec 3, 2009 05:19 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1259860747">&nbsp;</a></div><pre>Kyle,

No, none on either of the 2 tickets I have open...

Kevin
On Dec 3, 2009, at 11&#58;13 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1259860403'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-12-03T17:13:23+00:00">Dec 3, 2009 05:13 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1259860403">&nbsp;</a></div><pre>Is there any progress with this ticket?  Has any communication taken place outside of this ticket, Kevin?

Kyle</pre></div><div class='update_description'><i onclick="document.location='7431#1259074927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-24T15:02:07+00:00">Nov 24, 2009 03:02 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1259074927">&nbsp;</a></div><pre>Ahh...I understand, Neha.  If there are any other updates on this issue, please let me know.

Kyle</pre></div><div class='update_description'><i onclick="document.location='7431#1258582005'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-18T22:06:45+00:00">Nov 18, 2009 10:06 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1258582005">&nbsp;</a></div><pre>I had cc&#39;d him separately.
-Neha</pre></div><div class='update_description'><i onclick="document.location='7431#1258469093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-17T14:44:53+00:00">Nov 17, 2009 02:44 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1258469093">&nbsp;</a></div><pre>Neha,

I looked and he wasn&#39;t CC&#39;d so I&#39;ve locked him into the CC list now.</pre></div><div class='update_description'><i onclick="document.location='7431#1258044966'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-12T16:56:06+00:00">Nov 12, 2009 04:56 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1258044966">&nbsp;</a></div><pre>Hi Kevin
We had discussed during the OSG Storage meeting yesterday that the RSV
storage probes development has been taken over by Andrew - abaranov@....
(of OSG Storage group)
I have CC&#39;d him.
-Neha
On Nov 11, 2009, at 2&#58;41 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1257972067'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-11T20:41:07+00:00">Nov 11, 2009 08:41 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1257972067">&nbsp;</a></div><pre>Hi Kyle,

Well, I think the deafening silence (yet again) from those who are supposed to be looking into this says it all.  Quite frankly, I gave up hope a long time ago that this would be fixed, so it&#39;s just fine with me if you want to close this ticket as &#34;never going to be resolved.&#34;  I&#39;ve got a hack and every time a new version of RSV comes out I&#39;ll just re-hack it.  Thanks...

Kevin

On Nov 10, 2009, at 10&#58;05 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1257912306'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-11T04:05:06+00:00">Nov 11, 2009 04:05 AM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1257912306">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='7431#1257340649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-04T13:17:29+00:00">Nov 4, 2009 01:17 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1257340649">&nbsp;</a></div><pre>Neha,

The probe is expected to work with both SRM clients (Fermi or LBNL) but per discussion on this ticket, that is not going to be possible without modifying the probe to use different syntax, parameters, etc. I requested on Sep 29, 2009 03&#58;09 PM (see updated dated with/around that timestamp) that storage team take up this task. You can do that or you can write a set of 2 separate probes based on the existing probes (that work fine with the FNAL client) that use the LBNL client.

-ag

Ticket-meta&#58; Removing rsv-ops; rsv-dev includes all the folks in rsv-ops.</pre></div><div class='update_description'><i onclick="document.location='7431#1257277627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-03T19:47:07+00:00">Nov 3, 2009 07:47 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1257277627">&nbsp;</a></div><pre>Hi Arvind

I am not sure what it is that you are expecting from storage group.
Can you please clarify?
Thanks
-Neha

On Nov 3, 2009, at 9&#58;47 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1257263226'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-03T15:47:06+00:00">Nov 3, 2009 03:47 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1257263226">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Assigning RSV-Ops in hopes of getting an update.</font>
<font color='#7F7E6F'>&#62;</font>

Kyle,

rsv-ops is a smaller subset of people - Scot K of VDT and myself, and
possibly Soichi. They are not going to be able to give you an answer.
This is in the storage group&#39;s court [as Kevin pointed out last week],
and we have heard nothing from them for several weeks.

-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1257262892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-03T15:41:32+00:00">Nov 3, 2009 03:41 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1257262892">&nbsp;</a></div><pre>Assigning RSV-Ops in hopes of getting an update.</pre></div><div class='update_description'><i onclick="document.location='7431#1256650687'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-27T13:38:07+00:00">Oct 27, 2009 01:38 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1256650687">&nbsp;</a></div><pre>Hi Kyle,

No, there have been no updates since Arvind requested that the probe
be fixed a month ago...

Kevin

On Oct 27, 2009, at 6&#58;31 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1256643094'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-27T11:31:34+00:00">Oct 27, 2009 11:31 AM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1256643094">&nbsp;</a></div><pre>Have there been any updates on this?  I&#39;ve been out of town and am just getting back to this ticket.

Kyle</pre></div><div class='update_description'><i onclick="document.location='7431#1255442924'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-13T14:08:44+00:00">Oct 13, 2009 02:08 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1255442924">&nbsp;</a></div><pre>Moving NAD out two weeks.  Will look again then.</pre></div><div class='update_description'><i onclick="document.location='7431#1255373167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-12T18:46:07+00:00">Oct 12, 2009 06:46 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1255373167">&nbsp;</a></div><pre>Kyle,

I&#39;m just waiting on someone to fix the probes so that they work with
either client.  Thanks...

Kevin

On Oct 6, 2009, at 8&#58;28 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1254835683'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-06T13:28:03+00:00">Oct 6, 2009 01:28 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1254835683">&nbsp;</a></div><pre>Are there any further updates on this issue?</pre></div><div class='update_description'><i onclick="document.location='7431#1254252011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T19:20:11+00:00">Sep 29, 2009 07:20 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1254252011">&nbsp;</a></div><pre>when using client type or location with &#34;lbnl&#34;, you cannot use the
options that you have used with FNAL clients. The resulting command line
of srm-copy is invalid.

-- Alex

On 9/29/09 12&#58;09 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1254251349'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T19:09:09+00:00">Sep 29, 2009 07:09 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1254251349">&nbsp;</a></div><pre>Neha,

Thank you. I will commit the updated code into trunk, and ultimately the update will make its way through VTB/ITB testing and then to production status. Note that using the new command line parameter does not work as-is.

Before I get into the details&#58;

-- At this point, I am unable to further debug this issue. Like I said in my previous mail, I request you (Neha) and other storage experts to take ownership of the probe, and fix it as necessary. RSV-dev team would be glad to allow commit access to the trunk per <a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/RsvRepoAccess' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/RsvRepoAccess</a>

-- Kyle, I am removing myself off the ticket. rsv-dev is still CCed as are Malina, Neha, and Alex Sim.

Now back to the error - I notice&#58;

1) Kevin is right that both the SRM ping and cp probes work against his SE while using the Fermi client as long as the --srm-webservice-path parameter is passed.

2) The probes fail if I use --srm-client-type &quot;lbnl&quot; --srm-client-loc &quot;/path...&quot;

See error message below -- it looks like a syntax error that Malina et al suspected would occur.

2009-09-29 19&#58;03&#58;07 UTC [agopu@wuncler&#58;~/dev/rsv/trunk/osg-rsv/bin/probes]$ ./srmcp-srm-probe -x /tmp/goc_rsv.proxy --verbose --no-trim-details -u se1.accre.vanderbilt.edu&#58;6288   --srm-webservice-path srm/v2/server --srm-destination-dir /rsvtestdir --srm-client-type &quot;lbnl&quot; --srm-client-loc /usr/local/test/srm-client-lbnl
VERBOSE
Timestamp&#58; [2009-09-29T19&#58;03&#58;37Z] gatheredAt&#58; [wuncler.uits.indiana.edu]
serviceURI&#58; [se1.accre.vanderbilt.edu&#58;6288]     ServiceType&#58; [OSG-SRM]
Hostname&#58; [se1.accre.vanderbilt.edu] Port&#58; [6288]  localprobe?&#58;[]

VERBOSE &#58;&#58;Run_Command ()         CMD&#58; [ /usr/local/rsv/globus/bin/grid-proxy-info -timeleft 2&gt;&amp;1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [606956] and CMD EXIT&#58; [0] VERBOSE &#58;&#58;Run_Command ()  CMD did not time out after 300 seconds!
VERBOSE Run() Setup_Srmcp_Metric&#58;
srmServiceType&#58; srm     srmPortNumber&#58;6288
srmcpTestfileUri&#58; file&#58;////usr/local/rsv/osg-rsv/bin/probes/storage-probe-test-file
srmcpRemoteTestfileUri&#58; <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server?SFN=/rsvtestdir/1254251017-storage-probe-test-file-remote.12995' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server?SFN=/rsvtestdir/1254251017-storage-probe-test-file-remote.12995</a>
srmcpBackTestfileUri&#58; file&#58;////tmp//1254251017-storage-probe-test-file-copy.12995
VERBOSE &#58;&#58;Run_Command ()         CMD&#58; [/usr/local/test/srm-client-lbnl/bin/srm-copy -srm_protocol_version=2  file&#58;////usr/local/rsv/osg-rsv/bin/probes/storage-probe-test-file <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server?SFN=/rsvtestdir/1254251017-storage-probe-test-file-remote.12995' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server?SFN=/rsvtestdir/1254251017-storage-probe-test-file-remote.12995</a> 2&gt;&amp;1]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [srm-copy   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
<div id='show_478291012' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_478291012'>SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

Usage &#58;
srm-copy &lt;sourceUrl&gt; &lt;targetUrl&gt; [command line options]
or srm-copy [command line options] -f &lt;file&gt;

Thanks,
-ag
</div><script type='text/javascript'>
        $('#show_478291012').click(function() {
            $('#detail_478291012').slideDown("normal");
            $('#show_478291012').hide();
            $('#hide_478291012').show();
        });
        $('#hide_478291012').click(function() {
            $('#detail_478291012').slideUp();
            $('#hide_478291012').hide();
            $('#show_478291012').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1254246972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T17:56:12+00:00">Sep 29, 2009 05:56 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1254246972">&nbsp;</a></div><pre>Hi Arvind
I have confirmed that the command names in the code snippet you sent
below are correct.

-Neha
On Sep 29, 2009, at 12&#58;40 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1254246043'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T17:40:43+00:00">Sep 29, 2009 05:40 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1254246043">&nbsp;</a></div><pre>Neha, et al.,

First, I request you to take ownership of the SRM-ping and SRM-cp probes within RSV. The GOC does not have human power or expertise to continue maintaining them. Thanks.

For this round - I have updated the probe (in the trunk) to use different names if an additional parameter is specified&#58;

Here is the code snippet - please confirm the command names are appropriate (I checked the bin/ directory in the client install but would rather have you the storage experts confirm).

NOTE&#58; I immediately noticed that srmcp is actually srm-copy in the LBNL client; and srm-advisory-delete and gridftplist do not exist in the LBNL client.

if ($o{&#39;srmClientType&#39;} eq &quot;lbnl&quot;) {
$o{&#39;srmClientDir&#39;}       = $o{&#39;VDT_LOCATION_LOCAL&#39;}.&quot;/srm-client-lbnl/&quot;
if (!defined($o{&#39;srmClientDir&#39;}));
$o{&#39;srmpingCmd&#39;}      =
&quot;$o{&#39;srmClientDir&#39;}/bin/srm-ping&quot;;
$o{&#39;srmlsCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srm-ls&quot;;
$o{&#39;srmgriftpcopyCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/gridftplist&quot;;
$o{&#39;srmcpCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srm-copy&quot;;
$o{&#39;srmrmCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srm-rm&quot;;
$o{&#39;srmadvisorydeleteCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srm-advisory-delete&quot;;
} else   {
$o{&#39;srmClientDir&#39;}       = $o{&#39;VDT_LOCATION_LOCAL&#39;}.&quot;/srm-client-fermi/&quot;
if (!defined($o{&#39;srmClientDir&#39;}));
$o{&#39;srmpingCmd&#39;}      =
&quot;$o{&#39;srmClientDir&#39;}/bin/srmping&quot;;
$o{&#39;srmlsCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srmls&quot;;
$o{&#39;srmgriftpcopyCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/gridftplist&quot;;
$o{&#39;srmcpCmd&#39;}         =
<div id='show_2113176814' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2113176814'>&quot;$o{&#39;srmClientDir&#39;}/bin/srmcp&quot;;
$o{&#39;srmrmCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srmrm&quot;;
$o{&#39;srmadvisorydeleteCmd&#39;}         =
&quot;$o{&#39;srmClientDir&#39;}/bin/srm-advisory-delete&quot;;
}

Please confirm. I will assume all the command names are accurate if I hear nothing back from you.

Kevin, apologies for delay, I have had a lot things to attend to recently. Once this change is confirmed to be appropriate we will send it to VTB/ITB testing before releasing a new RSV version.

-ag
</div><script type='text/javascript'>
        $('#show_2113176814').click(function() {
            $('#detail_2113176814').slideDown("normal");
            $('#show_2113176814').hide();
            $('#hide_2113176814').show();
        });
        $('#hide_2113176814').click(function() {
            $('#detail_2113176814').slideUp();
            $('#hide_2113176814').hide();
            $('#show_2113176814').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1254234913'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T14:35:13+00:00">Sep 29, 2009 02:35 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1254234913">&nbsp;</a></div><pre>Hi all,

So I decided that just for grins and giggles I would revert back to
the Fermi srmping client ... and it worked!  Nothing else has been
changed.  So I guess the Fermi client just has to be &#34;in the
mood&#34; (for lack of a better way of describing it).

So we can hold off on a patch, but can we also leave this ticket open
for a couple of more days to see whether the Fermi client decides to
work reliably or not?  Thanks...

--
Kevin L. Buterbaugh - Vanderbilt University
Advanced Computing Center for Research and Education
www.accre.vanderbilt.edu - (615)343-0288 - klb@....</pre></div><div class='update_description'><i onclick="document.location='7431#1254233652'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T14:14:12+00:00">Sep 29, 2009 02:14 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1254233652">&nbsp;</a></div><pre>Hi All,

Any update on this issue?  Thanks...

Kevin

On Sep 21, 2009, at 7&#58;58 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1253820547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-24T19:29:07+00:00">Sep 24, 2009 07:29 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1253820547">&nbsp;</a></div><pre>Updating NAD.</pre></div><div class='update_description'><i onclick="document.location='7431#1253537967'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-21T12:59:27+00:00">Sep 21, 2009 12:59 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1253537967">&nbsp;</a></div><pre>Alex/Neha,

Given both the clients are designed to do the same tasks (ping an SRM, copy a file, etc.) it is odd they use different executable names. In the future, please consider having uniformity between the two versions of the clients so folks designing tools that use the clients do not have to lose an arm and a leg to make things work. Thanks.

-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1253537882'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-21T12:58:02+00:00">Sep 21, 2009 12:58 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1253537882">&nbsp;</a></div><pre>Hi Kevin,

I will try my best to send you a patch later this week - I am trying to hit a paper deadline today (if I can!).

-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1253306655'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-18T20:44:15+00:00">Sep 18, 2009 08:44 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1253306655">&nbsp;</a></div><pre>people have done this successfully.
posting on osg-storage might help.

-- Alex

On 9/18/09 9&#58;51 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1253302871'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-18T19:41:11+00:00">Sep 18, 2009 07:41 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1253302871">&nbsp;</a></div><pre>Hi Neha,

I&#39;ve been able to successfully run both srm-ping and srmping as
rsvuser manually without the patch ... it&#39;s just that neither are
working as part of the RSV srm-ping-probe.  If you have any ideas why,
I&#39;d appreciate hearing them.  Thank you!

Kevin

[rsvuser@vampire ~]$ srm-ping <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a>
-proxyfile /tmp/rsvproxy
srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server

SRM-PING&#58; Fri Sep 18 14&#58;34&#58;54 CDT 2009  Calling SrmPing Request...
versionInfo=v2.2

Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.1.2.i7
backend_build_date=2009-07-10T20&#58;54&#58;16.000Z
gsiftpTxfServers[0]=<a href='gsiftp&#58;//se1.accre.vanderbilt.edu' target='_blank' rel='nofollow'>gsiftp&#58;//se1.accre.vanderbilt.edu</a>
GatewayMode=Enabled
clientDN=/DC=org/DC=doegrids/OU=Services/CN=rsv/
vampire.accre.vanderbilt.edu
gumsIDMapped=rsvuser
[rsvuser@vampire ~]$ srmping -debug -x509_user_proxy /tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a>
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
<div id='show_1781458421' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1781458421'>default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=null
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=1
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Sep 18 14&#58;36&#58;06 CDT 2009&#58; In SRMClient ExpectedName&#58; host
Fri Sep 18 14&#58;36&#58;06 CDT 2009&#58; SRMClient(https,srm/managerv1,true)
SRMClientV1 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/
CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV1 &#58; SRMClientV1 calling
org.globus.axis.util.Util.registerTransport()
SRMClientV1 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv1
Fri Sep 18 14&#58;36&#58;07 CDT 2009&#58; connected to server, obtaining proxy
Fri Sep 18 14&#58;36&#58;07 CDT 2009&#58; got proxy of type class
org.dcache.srm.client.SRMClientV1
Fri Sep 18 14&#58;36&#58;07 CDT 2009&#58;  srm ping returned = true
[rsvuser@vampire ~]$

On Sep 18, 2009, at 2&#58;02 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1781458421').click(function() {
            $('#detail_1781458421').slideDown("normal");
            $('#show_1781458421').hide();
            $('#hide_1781458421').show();
        });
        $('#hide_1781458421').click(function() {
            $('#detail_1781458421').slideUp();
            $('#hide_1781458421').hide();
            $('#show_1781458421').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1253300533'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-18T19:02:13+00:00">Sep 18, 2009 07:02 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1253300533">&nbsp;</a></div><pre>Kevin

Though most of the utilities in fermi srmclient and lbnl srm client
have different names and different parameter names/ordering,
srm-ping does not require any argument except the SURL when run
against a Bestman based SE

for example , once you have the patch  try below command -

srm-ping <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a>

Arvind - in general, names of lbnl clients are of form srm-$command
and names of fermiclients are of form srm$command, its not just
srmping/srm-ping

-Neha

On Sep 18, 2009, at 1&#58;44 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1253299452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-18T18:44:12+00:00">Sep 18, 2009 06:44 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1253299452">&nbsp;</a></div><pre>Hi Arvind,

I concur with Malina that there will still be a problem with ordering
of parameters.  All the Fermi / LBNL client commands are named
differently and take different options in different orders, BTW.

In any event, I would like the patch ... we&#39;re running&#58;

Condor Cron For OSG-RSV 7.2.4                            OK
OSG Resource and Service Validation (RSV) 3.0.1-rc-2     UPDATE
AVAILABLE [3.0.3]

Thanks, Arvind!

Kevin

On Sep 18, 2009, at 11&#58;51 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1253292693'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-18T16:51:33+00:00">Sep 18, 2009 04:51 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1253292693">&nbsp;</a></div><pre>Hi Kevin,

I apologize for not getting back to you on this. Initially I was not on the ticket till Kyle added me back into it, and ever since I have been super busy.

I am adding two SE experts Alex and Neha, and Malina Kirn @ UMD who also graciously offered to help if she could, to this ticket. SE experts&#58; the problem is that Kevin is trying to force the RSV srm-ping-probe to use the LBNL ping binary but the probe by default uses the executable name &quot;srmping&quot;. He tried symlinking but that did not work since this is all Java, and I am guessing the classname needs to be the same as the executable.

Kevin, it&#39;s astounding that the srmping executable is named differently in the two clients! I wish the two clients had more uniformity.  Malina warns me that even if we get past the problem of calling the right binary, there may be problems with ordering of parameters, etc.

Re&#58; the SRM&#39;s probe&#39;s call, I can provide you a patch to the probe to see if that helps. Let me know if you would like that. Also, please let me know what version of RSV you are running (vdt-version --list | grep RSV)

Thanks,
-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1253222413'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-17T21:20:13+00:00">Sep 17, 2009 09:20 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1253222413">&nbsp;</a></div><pre>Hi Arvind / Kyle,

Any update on this issue?  Here&#39;s the error I get without the symlink
to srm-ping from srmping&#58;

metricName&#58; org.osg.srm.srmping
metricType&#58; status
timestamp&#58; 2009-09-17T21&#58;13&#58;02Z
metricStatus&#58; UNKNOWN
serviceType&#58; OSG-SRM
serviceURI&#58; se1.accre.vanderbilt.edu&#58;6288
gatheredAt&#58; vampire.accre.vanderbilt.edu
summaryData&#58; UNKNOWN
detailsData&#58; SRM server running on se1.accre.vanderbilt.edu returned
unknown exit code upon runnnig [/opt/osg/srm-client-lbnl//bin/srmping
-retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server 2&#62;&1 ]. The message printed
by srmping was&#58;
EOT

And here&#39;s the error when I do have it in place&#58;

metricName&#58; org.osg.srm.srmping
metricType&#58; status
timestamp&#58; 2009-09-17T20&#58;53&#58;00Z
metricStatus&#58; UNKNOWN
serviceType&#58; OSG-SRM
serviceURI&#58; se1.accre.vanderbilt.edu&#58;6288
gatheredAt&#58; vampire.accre.vanderbilt.edu
summaryData&#58; UNKNOWN
detailsData&#58; SRM server running on se1.accre.vanderbilt.edu returned
unknown exit code upon runnnig [/opt/osg/srm-client-lbnl//bin/srmping
-retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server 2&#62;&1 ]. The message printed
by srmping was&#58;
<div id='show_1247805404' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1247805404'>srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at http&#58;//datagrid.
... Truncated ...
For more details,  as &#39;&#39; user&#58;
- First source /opt/osg/setup.sh
- Then execute&#58; /opt/osg/osg-rsv/bin/probes/srm-ping-probe --srm-
client-loc /opt/osg/srm-client-lbnl/ -m org.osg.srm.srmping --verbose
--srm-destination-dir /rsvtestdir --srm-webservice-path srm/v2/server
--ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/
python --uri
se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details
If the --verbose switch was passed to this execution, this file might
have more information
$VDT_LOCATION/osg-rsv/logs/probes/se1.accre.vanderbilt.edu__srm-ping-
probe&#92;@org.osg.srm.srmping.err.
EOT

Thanks...

Kevin

On Sep 15, 2009, at 12&#58;35 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1247805404').click(function() {
            $('#detail_1247805404').slideDown("normal");
            $('#show_1247805404').hide();
            $('#hide_1247805404').show();
        });
        $('#hide_1247805404').click(function() {
            $('#detail_1247805404').slideUp();
            $('#hide_1247805404').hide();
            $('#show_1247805404').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1253046380'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-15T20:26:20+00:00">Sep 15, 2009 08:26 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1253046380">&nbsp;</a></div><pre>Arvind,

I know you&#39;ve been busy with other stuff, so in the meantime I decided
to try creating a symlink from /opt/osg/srm-client-lbnl/bin/srmping to
the actual srm-ping command.  That didn&#39;t help - now I get a syntax
error in my logs&#58;

root@vampire# cat osg-rsv/logs/probes/se1.accre.vanderbilt.edu__srm-
ping-probe&#92;@org.osg.srm.srmping.err
VERBOSE
Timestamp&#58; [2009-09-15T20&#58;13&#58;01Z] gatheredAt&#58; [vampire.accre.vanderbilt.edu
]
serviceURI&#58; [se1.accre.vanderbilt.edu&#58;6288]	 ServiceType&#58; [OSG-SRM]
Hostname&#58; [se1.accre.vanderbilt.edu] Port&#58; [6288]  localprobe?&#58;[]

VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [ /opt/osg/globus/bin/grid-proxy-info -
timeleft 2&#62;&1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [74820] and CMD EXIT&#58; [0] VERBOSE &#58;&#58;Run_Command ()  CMD did
not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [/opt/osg/srm-client-lbnl//bin/srmping
-retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server 2&#62;&1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

###########################################
SRM_HOME is /opt/osg/srm-client-lbnl
JAVA_HOME is /opt/osg/jdk1.5
Usage &#58;
srm-ping [command line options] -serviceurl &#60;service_url&#62;
or srm-ping &#60;service_url&#62; [command line options]
<div id='show_994706630' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_994706630'>command line options will override the options from conf file

-conf              &#60;path&#62;
-serviceurl        &#60;full wsdl service url&#62;
example srm&#58;//host&#58;port/wsdlpath
-authid             (user authorization id used in SRM)
-delegation         &#60;true|false&#62; forces delegation if true, forces no
delegation if false, else do delegation if
necessary.
-proxyfile         &#60;path to proxyfile&#62;
default&#58;from user default proxy location
-usercert          &#60;path to usercert&#62;
-userkey           &#60;path to userkey&#62;
-quiet             default&#58;false
suppress output in the console.
this option prints the output to the logfile
-connectiontimeout   &#60;integer in seconds&#62; (number of seconds to
wait for soap connection before timeout)
default&#58;1800
-log               &#60;path to logfile&#62;default&#58;./srmclient-event-date-
random.log
-debug             default&#58;false
-help              show this message.] and CMD EXIT&#58; [93]
VERBOSE &#58;&#58;Run_Command ()  CMD did not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () generateGratiaScript defined, so creating
Gratia record (Python script)
VERBOSE &#58;&#58;Run_Command () Going to write python script /opt/osg/osg-rsv/
output/gratia/1253045581-se1.accre.vanderbilt.edu-org.osg.srm.srmping.
6013.py to upload  Gratia record with following content&#58;
#! /usr/bin/python

import Gratia
import Metric

if __name__ == &#39;__main__&#39;&#58;
Gratia.Initialize(&#34;/opt/osg/gratia/probe/metric/ProbeConfig&#34;)
r = Metric.MetricRecord()
r.MetricName(&#34;org.osg.srm.srmping&#34;)
r.MetricType(&#34;status&#34;)
r.MetricStatus(&#34;UNKNOWN&#34;)
r.Timestamp(&#34;2009-09-15T20&#58;13&#58;01Z&#34;) # Or could enter it as
seconds since epoch
r.ServiceType(&#34;OSG-SRM&#34;)
r.ServiceUri(&#34;se1.accre.vanderbilt.edu&#58;6288&#34;)
r.GatheredAt(&#34;vampire.accre.vanderbilt.edu&#34;)
r.SummaryData(&#34;UNKNOWN&#34;)
r.DetailsData(&#34;SRM server running on se1.accre.vanderbilt.edu
returned unknown exit code upon runnnig [/opt/osg/srm-client-lbnl//bin/
srmping -retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server 2&#62;&1 ]. The message printed by
srmping was&#58; &#92;n srm-ping 2.2.1.2.i7.p3 Fri Jul 10 15&#58;56&#58;18 PDT
2009&#92;nSRM-Clients and BeStMan Copyright(c) 2007-2009,&#92;nLawrence
Berkeley National Laboratory. All rights reserved.&#92;nSupport at SRM@....
and documents at http&#58;//datagrid.&#92;n... Truncated ...&#92;nFor more
details, as &#92;&#39;&#92;&#39; user&#58;&#92;n - First source /opt/osg/setup.sh&#92;n - Then
execute&#58; /opt/osg/osg-rsv/bin/probes/srm-ping-probe --srm-client-loc /
opt/osg/srm-client-lbnl/ -m org.osg.srm.srmping --verbose --srm-
destination-dir /rsvtestdir --srm-webservice-path srm/v2/server --ggs
--gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python --
uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-
details&#92;nIf the --verbose switch was passed to this execution, this
file might have more information&#92;n &#92;$VDT_LOCATION/osg-rsv/logs/probes/
se1.accre.vanderbilt.edu__srm-ping-probe&#92;@org.osg.srm.srmping.err.&#34;)

print Gratia.Send(r)

Interestingly enough, I&#39;m green on the srm-copy probe.  Any ideas?
Thanks...

Kevin

On Sep 15, 2009, at 12&#58;35 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_994706630').click(function() {
            $('#detail_994706630').slideDown("normal");
            $('#show_994706630').hide();
            $('#hide_994706630').show();
        });
        $('#hide_994706630').click(function() {
            $('#detail_994706630').slideUp();
            $('#hide_994706630').hide();
            $('#show_994706630').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1253036101'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-15T17:35:01+00:00">Sep 15, 2009 05:35 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1253036101">&nbsp;</a></div><pre>Adding arvind as a CC</pre></div><div class='update_description'><i onclick="document.location='7431#1252684512'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-11T15:55:12+00:00">Sep 11, 2009 03:55 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1252684512">&nbsp;</a></div><pre>Hi Arvind,

More information for you on this issue ... here&#39;s the latest srm-ping-
probe error log.  It looks like even though it&#39;s trying to use the
LBNL client it&#39;s still trying to use &#34;srmping&#34; instead of &#34;srm-ping&#34;.
Now I know I could create a symlink, but I&#39;d rather see the problem
get fixed.  Thanks!

Kevin

root@vampire# cat se1.accre.vanderbilt.edu__srm-ping-probe@....
VERBOSE
Timestamp&#58; [2009-09-11T15&#58;33&#58;01Z] gatheredAt&#58; [vampire.accre.vanderbilt.edu
]
serviceURI&#58; [se1.accre.vanderbilt.edu&#58;6288]	 ServiceType&#58; [OSG-SRM]
Hostname&#58; [se1.accre.vanderbilt.edu] Port&#58; [6288]  localprobe?&#58;[]

VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [ /opt/osg/globus/bin/grid-proxy-info -
timeleft 2&#62;&1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [86013] and CMD EXIT&#58; [0] VERBOSE &#58;&#58;Run_Command ()  CMD did
not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [/opt/osg/srm-client-lbnl//bin/srmping
-retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server 2&#62;&1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [] and CMD EXIT&#58; [72057594037927935] VERBOSE &#58;&#58;Run_Command
()  CMD did not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () generateGratiaScript defined, so creating
Gratia record (Python script)
VERBOSE &#58;&#58;Run_Command () Going to write python script /opt/osg/osg-rsv/
output/gratia/1252683181-se1.accre.vanderbilt.edu-org.osg.srm.srmping.
2247.py to upload  Gratia record with following content&#58;
#! /usr/bin/python

<div id='show_503038791' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_503038791'>import Gratia
import Metric

if __name__ == &#39;__main__&#39;&#58;
Gratia.Initialize(&#34;/opt/osg/gratia/probe/metric/ProbeConfig&#34;)
r = Metric.MetricRecord()
r.MetricName(&#34;org.osg.srm.srmping&#34;)
r.MetricType(&#34;status&#34;)
r.MetricStatus(&#34;UNKNOWN&#34;)
r.Timestamp(&#34;2009-09-11T15&#58;33&#58;01Z&#34;) # Or could enter it as
seconds since epoch
r.ServiceType(&#34;OSG-SRM&#34;)
r.ServiceUri(&#34;se1.accre.vanderbilt.edu&#58;6288&#34;)
r.GatheredAt(&#34;vampire.accre.vanderbilt.edu&#34;)
r.SummaryData(&#34;UNKNOWN&#34;)
r.DetailsData(&#34;SRM server running on se1.accre.vanderbilt.edu
returned unknown exit code upon runnnig [/opt/osg/srm-client-lbnl//bin/
srmping -retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/v2/server 2&#62;&1 ]. The message printed by
srmping was&#58;&#34;)

print Gratia.Send(r)

On Sep 10, 2009, at 3&#58;37 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_503038791').click(function() {
            $('#detail_503038791').slideDown("normal");
            $('#show_503038791').hide();
            $('#hide_503038791').show();
        });
        $('#hide_503038791').click(function() {
            $('#detail_503038791').slideUp();
            $('#hide_503038791').hide();
            $('#show_503038791').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1252615032'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-10T20:37:12+00:00">Sep 10, 2009 08:37 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1252615032">&nbsp;</a></div><pre>Hi Arvind,

No problem ... I had several other things come up which I had to deal
with anyway.  So I tried this out and it still doesn&#39;t appear to be
working for me.  A minor note of correction on the Twiki page ... you
have to &#34;cd ${VDT_LOCATION}/osg-rsv/bin/probes&#34; before running &#34;./srm-
ping-probe -m all -l&#34;.  BTW, could the probes be modified so that it&#39;s
not necessary to cd to the probe directory to run them?  That caused
me some confusion as well.

Anyway, here&#39;s the relevant portions of what I did&#58;

root@vampire# mkdir -p ${VDT_LOCATION}/osg-rsv/specs/global-specs
root@vampire# echo -n &#34; --srm-client-loc &#60;/opt/osg/srm-client-lbnl/&#62; &#34;
<font color='#7F7E6F'>&#62;&#62; ${VDT_LOCATION}/osg-rsv/specs/global-specs/srm-ping-</font>
probe@....
root@vampire# $VDT_LOCATION/osg-rsv/setup/configure_osg_rsv --user
rsvuser --init --server y --ce-probes --ce-uri vampire.accre.vanderbilt.edu
--srm-probes --srm-uri se1.accre.vanderbilt.edu&#58;6288 --srm-dir /
rsvtestdir --srm-webservice-path &#34;srm/v2/server&#34; --gridftp-probes --
gratia --grid-type OSG --consumers --verbose --setup-for-apache --
proxy /tmp/rsvproxy
INFO&#58; Attempting to install latest RSV package from release repository.
INFO&#58; Attempting to install RSV consumers.
INFO&#58; Attempting to install RSV probes on appropriate URI(s).
INFO&#58; Creating .sub files for RSV probes of type OSG-Local-Monitor
for URI&#58; vampire.accre.vanderbilt.edu (host&#58; vampire.accre.vanderbilt.edu
)
INFO&#58; Re-using metrics config file for vampire.accre.vanderbilt.edu
/opt/osg/osg-rsv/config/vampire.accre.vanderbilt.edu_metrics.conf
Existing settings like on/off and metric intervals will be re-used.
Any new metrics found in probe set will be added with their default
settings.

INFO&#58; Creating .sub files for RSV probes of type OSG-CE
<div id='show_616209922' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_616209922'>for URI&#58; vampire.accre.vanderbilt.edu (host&#58; vampire.accre.vanderbilt.edu
)
INFO&#58; Re-using metrics config file for vampire.accre.vanderbilt.edu
/opt/osg/osg-rsv/config/vampire.accre.vanderbilt.edu_metrics.conf
Existing settings like on/off and metric intervals will be re-used.
Any new metrics found in probe set will be added with their default
settings.

INFO&#58; Creating .sub files for RSV probes of type OSG-GridFTP
for URI&#58; vampire.accre.vanderbilt.edu (host&#58; vampire.accre.vanderbilt.edu
)
INFO&#58; Re-using metrics config file for vampire.accre.vanderbilt.edu
/opt/osg/osg-rsv/config/vampire.accre.vanderbilt.edu_metrics.conf
Existing settings like on/off and metric intervals will be re-used.
Any new metrics found in probe set will be added with their default
settings.

INFO&#58; Creating .sub files for RSV probes of type OSG-SRM
for URI&#58; se1.accre.vanderbilt.edu&#58;6288 (host&#58;
se1.accre.vanderbilt.edu)
INFO&#58; Re-using metrics config file for se1.accre.vanderbilt.edu
/opt/osg/osg-rsv/config/se1.accre.vanderbilt.edu_metrics.conf
Existing settings like on/off and metric intervals will be re-used.
Any new metrics found in probe set will be added with their default
settings.

INFO&#58; Attempting to configure RSV-Gratia var/rsv/ directories and
ProbeConfig file for RSV
Attempting to find out which RSV-Gratia collector to use...
... Will configure RSV to upload to following collector
[rsv.grid.iu.edu&#58;8880]
INFO&#58; Attempting to configure Apache to serve local RSV probe output
Apache appears to have RSV output directory options already.
Apache is configured for use with the current RSV installation
already.
Apache setup properly to serve results from current RSV installation.
Restart Apache for changes to take effect.
Enabling the Apache service using vdt-control ...
Pages can be viewed at https&#58;//HOSTNAME&#58;8443/rsv
/opt/osg
root@vampire# vdt-control --off osg-rsv; vdt-control --on osg-
rsvdisabling init service osg-rsv... okenabling init service osg-
rsv... ok/opt/osg
root@vampire# su - rsvuser
[rsvuser@vampire ~]$ cd /opt/osg
[rsvuser@vampire osg]$ . setup.sh
[rsvuser@vampire osg]$ ${VDT_LOCATION}/osg-rsv/bin/misc/run-rsv-probe-
by-hand.sh &#92;*Using VDT_LOCATION&#58; /opt/osg  to run metric&#58; *Using
condor-cron submission file&#58; se1.accre.vanderbilt.edu__srmcp-srm-probe@....
; Will create /tmp/se1.accre.vanderbilt.edu__srmcp-srm-
probe@....
Submitting /tmp/se1.accre.vanderbilt.edu__srmcp-srm-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 540.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; se1.accre.vanderbilt.edu__srm-ping-probe@....
; Will create /tmp/se1.accre.vanderbilt.edu__srm-ping-probe@....
Submitting /tmp/se1.accre.vanderbilt.edu__srm-ping-probe@....
into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 541.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__cacert-verify-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__cacert-verify-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__cacert-verify-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 542.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 543.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 544.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__certificate-expiry-local-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 545.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__crl-
freshness-probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__crl-freshness-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__crl-freshness-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 546.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__gram-
authentication-probe@.... ; Will
create /tmp/vampire.accre.vanderbilt.edu__gram-authentication-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__gram-authentication-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 547.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__gridftp-simple-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__gridftp-simple-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__gridftp-simple-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 548.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__jobmanagers-available-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__jobmanagers-available-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__jobmanagers-available-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 549.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58;
vampire.accre.vanderbilt.edu__jobmanagers-status-
probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__jobmanagers-status-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__jobmanagers-status-
probe@.... into
Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 550.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__osg-
directories-permissions-ce-probe@....-directories-CE-
permissions.sub ; Will create /tmp/vampire.accre.vanderbilt.edu__osg-
directories-permissions-ce-probe@....-directories-CE-
permissions.sub.25603.sub
Submitting /tmp/vampire.accre.vanderbilt.edu__osg-directories-
permissions-ce-probe@....-directories-CE-
permissions.sub.25603.sub into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 551.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__osg-version-probe@....
; Will create /tmp/vampire.accre.vanderbilt.edu__osg-version-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__osg-version-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 552.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__ping-host-probe@....
; Will create /tmp/vampire.accre.vanderbilt.edu__ping-host-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__ping-host-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 553.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__vdt-version-probe@....
; Will create /tmp/vampire.accre.vanderbilt.edu__vdt-version-
probe@....
Submitting /tmp/vampire.accre.vanderbilt.edu__vdt-version-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 554.
All done! Above metrics should be updated shortly by this manual
execution
Using condor-cron submission file&#58; vampire.accre.vanderbilt.edu__vo-
supported-probe@.... ; Will create /tmp/
vampire.accre.vanderbilt.edu__vo-supported-probe@....-
supported.sub.25603.sub
Submitting /tmp/vampire.accre.vanderbilt.edu__vo-supported-
probe@.... into Condor-Cron
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 555.
All done! Above metrics should be updated shortly by this manual
execution

However, my srm-ping-probe hasn&#39;t updated and when I try to run it by
hand I get the following error&#58;

[rsvuser@vampire osg]$ cd osg-rsv/bin/probes
[rsvuser@vampire probes]$ /opt/osg/osg-rsv/bin/probes/srm-ping-probe -
m org.osg.srm.srmping --verbose --print-local-time --srm-destination-
dir /rsvtestdir --ggs --gsl /opt/osg/osg-rsv/output/gratia --python-
loc /usr/bin/python --uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/
rsvproxy --no-trim-details
VERBOSE
Timestamp&#58; [2009-09-10T20&#58;17&#58;15Z] gatheredAt&#58; [vampire.accre.vanderbilt.edu
]
serviceURI&#58; [se1.accre.vanderbilt.edu&#58;6288]	 ServiceType&#58; [OSG-SRM]
Hostname&#58; [se1.accre.vanderbilt.edu] Port&#58; [6288]  localprobe?&#58;[]

VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [ /opt/osg/globus/bin/grid-proxy-info -
timeleft 2&#62;&1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [86014] and CMD EXIT&#58; [0] VERBOSE &#58;&#58;Run_Command ()  CMD did
not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [/opt/osg/srm-client-fermi//bin/
srmping -retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a>
-webservice_path=srm/managerv2 2&#62;&1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=srm/managerv2
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=0
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Thu Sep 10 15&#58;17&#58;16 CDT 2009&#58; In SRMClient ExpectedName&#58; host
Thu Sep 10 15&#58;17&#58;16 CDT 2009&#58; SRMClient(https,srm/managerv2,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/
CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV2 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58;
Exception in thread &#34;main&#34; AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}
Server.generalException
faultSubcode&#58;
faultString&#58;
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{}faultData&#58;null
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}
exceptionName&#58;org.gridforum.ogsi.InvalidHandleFaultType
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}stackTrace&#58;AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}
Server.generalException
faultSubcode&#58;
faultString&#58;
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}exceptionName&#58;
org.gridforum.ogsi.InvalidHandleFaultType

at sun.reflect.GeneratedConstructorAccessor61.newInstance(Unknown
Source)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance
(DelegatingConstructorAccessorImpl.java&#58;27)
at java.lang.reflect.Constructor.newInstance(Constructor.java&#58;513)
at java.lang.Class.newInstance0(Class.java&#58;355)
at java.lang.Class.newInstance(Class.java&#58;308)
at org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;122)
at org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;161)
at org.globus.ogsa.impl.core.handle.HandleHelper.getInstanceIndex
(HandleHelper.java&#58;142)
at org.globus.ogsa.impl.core.handle.HandleHelper.getParentID
(HandleHelper.java&#58;98)
at org.globus.ogsa.handlers.ServiceLoaderHandler.invoke
(ServiceLoaderHandler.java&#58;27)
at org.apache.axis.strategies.InvocationStrategy.visit
(InvocationStrategy.java&#58;71)
at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java&#58;150)
at org.apache.axis.SimpleChain.invoke(SimpleChain.java&#58;120)
at org.apache.axis.server.AxisServer.invoke(AxisServer.java&#58;287)
at org.globus.ogsa.server.ServiceThread.doPost(ServiceThread.java&#58;438)
at org.globus.ogsa.server.ServiceThread.process(ServiceThread.java&#58;287)
at org.globus.ogsa.server.GSIServiceThread.process
(GSIServiceThread.java&#58;174)
at org.globus.ogsa.server.ServiceThread.run(ServiceThread.java&#58;185)

at org.apache.axis.message.SOAPFaultBuilder.createFault
(SOAPFaultBuilder.java&#58;222)
at org.apache.axis.message.SOAPFaultBuilder.endElement
(SOAPFaultBuilder.java&#58;129)
at org.apache.axis.encoding.DeserializationContext.endElement
(DeserializationContext.java&#58;1087)
at
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement
(AbstractSAXParser.java&#58;633)
at
com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanEndElement
(XMLNSDocumentScannerImpl.java&#58;719)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl
$FragmentContentDispatcher.dispatch
(XMLDocumentFragmentScannerImpl.java&#58;1685)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument
(XMLDocumentFragmentScannerImpl.java&#58;368)
at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse
(XML11Configuration.java&#58;834)
at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse
(XML11Configuration.java&#58;764)
at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse
(XMLParser.java&#58;148)
at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse
(AbstractSAXParser.java&#58;1242)
at javax.xml.parsers.SAXParser.parse(SAXParser.java&#58;375)
at org.apache.axis.encoding.DeserializationContext.parse
(DeserializationContext.java&#58;227)
at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java&#58;696)
at org.apache.axis.Message.getSOAPEnvelope(Message.java&#58;435)
at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke
(MustUnderstandChecker.java&#58;62)
at org.apache.axis.client.AxisClient.invoke(AxisClient.java&#58;206)
at org.apache.axis.client.Call.invokeEngine(Call.java&#58;2784)
at org.apache.axis.client.Call.invoke(Call.java&#58;2767)
at org.apache.axis.client.Call.invoke(Call.java&#58;2443)
at org.apache.axis.client.Call.invoke(Call.java&#58;2366)
at org.apache.axis.client.Call.invoke(Call.java&#58;1812)
at org.dcache.srm.v2_2.SrmSoapBindingStub.srmPing
(SrmSoapBindingStub.java&#58;2740)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java&#58;39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java&#58;25)
at java.lang.reflect.Method.invoke(Method.java&#58;592)
at org.dcache.srm.client.SRMClientV2.handleClientCall
(SRMClientV2.java&#58;178)
at org.dcache.srm.client.SRMClientV2.srmPing(SRMClientV2.java&#58;279)
at gov.fnal.srm.util.SRMPingClientV2.start(SRMPingClientV2.java&#58;118)
at gov.fnal.srm.util.SRMDispatcher.work(SRMDispatcher.java&#58;817)
at gov.fnal.srm.util.SRMDispatcher.main(SRMDispatcher.java&#58;368)] and
CMD EXIT&#58; [1] VERBOSE &#58;&#58;Run_Command ()  CMD did not time out after 300
seconds!
VERBOSE &#58;&#58;Run_Command () generateGratiaScript defined, so creating
Gratia record (Python script)
VERBOSE &#58;&#58;Run_Command () Going to write python script /opt/osg/osg-rsv/
output/gratia/1252613835-se1.accre.vanderbilt.edu-org.osg.srm.srmping.
3490.py to upload  Gratia record with following content&#58;
#! /usr/bin/python

import Gratia
import Metric

if __name__ == &#39;__main__&#39;&#58;
Gratia.Initialize(&#34;/opt/osg/gratia/probe/metric/ProbeConfig&#34;)
r = Metric.MetricRecord()
r.MetricName(&#34;org.osg.srm.srmping&#34;)
r.MetricType(&#34;status&#34;)
r.MetricStatus(&#34;CRITICAL&#34;)
r.Timestamp(&#34;2009-09-10T20&#58;17&#58;15Z&#34;) # Or could enter it as
seconds since epoch
r.ServiceType(&#34;OSG-SRM&#34;)
r.ServiceUri(&#34;se1.accre.vanderbilt.edu&#58;6288&#34;)
r.GatheredAt(&#34;vampire.accre.vanderbilt.edu&#34;)
r.SummaryData(&#34;CRITICAL&#34;)
r.DetailsData(&#34;SRM server running on se1.accre.vanderbilt.edu
is not responding to the srmping command. The error message printed by
srmping was&#58; &#92;n Storage Resource Manager (SRM) Client version
2.1.2&#92;nCopyright (c) 2002-2008 Fermi National Accelerator Laboratory&#92;n
&#92;nSRM Configuration&#58;&#92;n default_port=8443&#92;n debug=true&#92;n srmcphome=/opt/
osg/srm-client-fermi&#92;n urlcopy=/opt/osg/srm-client-fermi/sbin/url-
copy.sh&#92;n gsiftpclient=globus-url-copy&#92;n help=false&#92;n h=false&#92;n
gsissl=true&#92;n mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map&#92;n
webservice_path=srm/managerv2&#92;n webservice_protocol=https&#92;n
use_proxy=true&#92;n x509_user_proxy=/tmp/rsvproxy&#92;n x509_user_cert=&#92;n
x509_user_key=&#92;n x509_user_trusted_certificates=/opt/osg/globus/
TRUSTED_CA&#92;n globus_tcp_port_range=null&#92;n gss_expected_name=null&#92;n
protocols=gsiftp,dcap,http&#92;n pushmode=false&#92;n buffer_size=131072&#92;n
tcp_buffer_size=0&#92;n streams_num=1&#92;n conf=/opt/osg/srm-client-fermi/etc/
config-2.xml&#92;n save_conf=null&#92;n do_remove=false&#92;n copy=false&#92;n
bringOnline=false&#92;n ping=true&#92;n reserveSpace=false&#92;n
array_of_client_networks=null&#92;n retention_policy=null&#92;n space_desc=null
&#92;n access_latency=null&#92;n access_pattern=null&#92;n connection_type=null&#92;n
desired_size=null&#92;n guaranteed_size=null&#92;n lifetime=null&#92;n
releaseSpace=false&#92;n space_token=null&#92;n force=false&#92;n
getSpaceMetaData=false&#92;n space_tokens=null&#92;n copyjobfile=null&#92;n
wsdl_url=null&#92;n use_urlcopy_script=false&#92;n getFileMetaData=false&#92;n
ls=false&#92;n getSpaceTokens=false&#92;n rm=false&#92;n rmdir=false&#92;n mv=false&#92;n
mkdir=false&#92;n getPermissions=false&#92;n checkPermissions=false&#92;n
setPermissions=false&#92;n getRequestSummary=false&#92;n getRequestTokens=false
&#92;n abortFiles=false&#92;n releaseFiles=false&#92;n request_desc=null&#92;n
type=null&#92;n owner=null&#92;n group=null&#92;n other=null&#92;n request_tokens=null
&#92;n request_token=null&#92;n file_lifetime=null&#92;n pin_lifetime=null&#92;n
extendFileLifetime=false&#92;n advisoryDelete=false&#92;n
getRequestStatus=false&#92;n request_id=0&#92;n getStorageElementInfo=false&#92;n
retry_timeout=10000&#92;n retry_num=0&#92;n connect_to_wsdl=false&#92;n
delegate=true&#92;n full_delegation=true&#92;n version=false&#92;n report=null&#92;n
server_mode=passive&#92;n storagetype=null&#92;n stage=false&#92;n l=false&#92;n
recursive=false&#92;n offset=0&#92;n count=null&#92;n srm_protocol_version=2&#92;n
request_lifetime=86400&#92;n priority=0&#92;n overwrite_mode=null&#92;n
send_cksm=true&#92;n cksm_type=null&#92;n cksm_value=null&#92;n abortRequest=false
&#92;nThu Sep 10 15&#58;17&#58;16 CDT 2009&#58; In SRMClient ExpectedName&#58; host&#92;nThu
Sep 10 15&#58;17&#58;16 CDT 2009&#58; SRMClient(https,srm/managerv2,true)
&#92;nSRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/
CN=rsv/vampire.accre.vanderbilt.edu&#92;nSRMClientV2 &#58; connecting to srm
at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2&#92;nSRMClientV2 &#58;
srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2&#92;nSRMClientV2
&#58; srmPing&#58; try # 0 failed with error&#92;nSRMClientV2 &#58; &#92;nException in
thread &#92;&#34;main&#92;&#34; AxisFault&#92;n faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/</a>
soap/envelope/}Server.generalException&#92;n faultSubcode&#58; &#92;n faultString&#58;
&#92;n faultActor&#58; &#92;n faultNode&#58; &#92;n faultDetail&#58; &#92;n {}faultData&#58;null&#92;n
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}
exceptionName&#58;org.gridforum.ogsi.InvalidHandleFaultType&#92;n {http&#58;//
xml.apache.org/axis/}stackTrace&#58;AxisFault&#92;n faultCode&#58; {http&#58;//
schemas.xmlsoap.org/soap/envelope/}Server.generalException&#92;n
faultSubcode&#58; &#92;n faultString&#58; &#92;n faultActor&#58; &#92;n faultNode&#58; &#92;n
faultDetail&#58; &#92;n {<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}exceptionName&#58;
org.gridforum.ogsi.InvalidHandleFaultType&#92;n&#92;n&#92;n at
sun.reflect.GeneratedConstructorAccessor61.newInstance(Unknown Source)
&#92;n at sun.reflect.DelegatingConstructorAccessorImpl.newInstance
(DelegatingConstructorAccessorImpl.java&#58;27)&#92;n at
java.lang.reflect.Constructor.newInstance(Constructor.java&#58;513)&#92;n at
java.lang.Class.newInstance0(Class.java&#58;355)&#92;n at
java.lang.Class.newInstance(Class.java&#58;308)&#92;n at
org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;122)&#92;n at
org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;161)&#92;n at
org.globus.ogsa.impl.core.handle.HandleHelper.getInstanceIndex
(HandleHelper.java&#58;142)&#92;n at
org.globus.ogsa.impl.core.handle.HandleHelper.getParentID
(HandleHelper.java&#58;98)&#92;n at
org.globus.ogsa.handlers.ServiceLoaderHandler.invoke
(ServiceLoaderHandler.java&#58;27)&#92;n at
org.apache.axis.strategies.InvocationStrategy.visit
(InvocationStrategy.java&#58;71)&#92;n at
org.apache.axis.SimpleChain.doVisiting(SimpleChain.java&#58;150)&#92;n at
org.apache.axis.SimpleChain.invoke(SimpleChain.java&#58;120)&#92;n at
org.apache.axis.server.AxisServer.invoke(AxisServer.java&#58;287)&#92;n at
org.globus.ogsa.server.ServiceThread.doPost(ServiceThread.java&#58;438)&#92;n
at org.globus.ogsa.server.ServiceThread.process(ServiceThread.java&#58;
287)&#92;n at org.globus.ogsa.server.GSIServiceThread.process
(GSIServiceThread.java&#58;174)&#92;n at
org.globus.ogsa.server.ServiceThread.run(ServiceThread.java&#58;185)&#92;n&#92;n&#92;n
&#92;n at org.apache.axis.message.SOAPFaultBuilder.createFault
(SOAPFaultBuilder.java&#58;222)&#92;n at
org.apache.axis.message.SOAPFaultBuilder.endElement
(SOAPFaultBuilder.java&#58;129)&#92;n at
org.apache.axis.encoding.DeserializationContext.endElement
(DeserializationContext.java&#58;1087)&#92;n at
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement
(AbstractSAXParser.java&#58;633)&#92;n at
com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanEndElement
(XMLNSDocumentScannerImpl.java&#58;719)&#92;n at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl
$FragmentContentDispatcher.dispatch
(XMLDocumentFragmentScannerImpl.java&#58;1685)&#92;n at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument
(XMLDocumentFragmentScannerImpl.java&#58;368)&#92;n at
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse
(XML11Configuration.java&#58;834)&#92;n at
com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse
(XML11Configuration.java&#58;764)&#92;n at
com.sun.org.apache.xerces.internal.parsers.XMLParser.parse
(XMLParser.java&#58;148)&#92;n at
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse
(AbstractSAXParser.java&#58;1242)&#92;n at javax.xml.parsers.SAXParser.parse
(SAXParser.java&#58;375)&#92;n at
org.apache.axis.encoding.DeserializationContext.parse
(DeserializationContext.java&#58;227)&#92;n at
org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java&#58;696)&#92;n at
org.apache.axis.Message.getSOAPEnvelope(Message.java&#58;435)&#92;n at
org.apache.axis.handlers.soap.MustUnderstandChecker.invoke
(MustUnderstandChecker.java&#58;62)&#92;n at
org.apache.axis.client.AxisClient.invoke(AxisClient.java&#58;206)&#92;n at
org.apache.axis.client.Call.invokeEngine(Call.java&#58;2784)&#92;n at
org.apache.axis.client.Call.invoke(Call.java&#58;2767)&#92;n at
org.apache.axis.client.Call.invoke(Call.java&#58;2443)&#92;n at
org.apache.axis.client.Call.invoke(Call.java&#58;2366)&#92;n at
org.apache.axis.client.Call.invoke(Call.java&#58;1812)&#92;n at
org.dcache.srm.v2_2.SrmSoapBindingStub.srmPing(SrmSoapBindingStub.java&#58;
2740)&#92;n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#92;n at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java&#58;39)&#92;n at
sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java&#58;25)&#92;n at
java.lang.reflect.Method.invoke(Method.java&#58;592)&#92;n at
org.dcache.srm.client.SRMClientV2.handleClientCall(SRMClientV2.java&#58;
178)&#92;n at org.dcache.srm.client.SRMClientV2.srmPing(SRMClientV2.java&#58;
279)&#92;n at gov.fnal.srm.util.SRMPingClientV2.start(SRMPingClientV2.java&#58;
118)&#92;n at gov.fnal.srm.util.SRMDispatcher.work(SRMDispatcher.java&#58;
817)&#92;n at gov.fnal.srm.util.SRMDispatcher.main(SRMDispatcher.java&#58;368)&#34;)

print Gratia.Send(r)

metricName&#58; org.osg.srm.srmping
metricType&#58; status
timestamp&#58; 2009-09-10 15&#58;17&#58;15 CDT
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; se1.accre.vanderbilt.edu&#58;6288
gatheredAt&#58; vampire.accre.vanderbilt.edu
summaryData&#58; CRITICAL
detailsData&#58; SRM server running on se1.accre.vanderbilt.edu is not
responding to the srmping command. The error message printed by
srmping was&#58;
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=srm/managerv2
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=0
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Thu Sep 10 15&#58;17&#58;16 CDT 2009&#58; In SRMClient ExpectedName&#58; host
Thu Sep 10 15&#58;17&#58;16 CDT 2009&#58; SRMClient(https,srm/managerv2,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/
CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV2 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58;
Exception in thread &#34;main&#34; AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}
Server.generalException
faultSubcode&#58;
faultString&#58;
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{}faultData&#58;null
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}
exceptionName&#58;org.gridforum.ogsi.InvalidHandleFaultType
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}stackTrace&#58;AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}
Server.generalException
faultSubcode&#58;
faultString&#58;
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}exceptionName&#58;
org.gridforum.ogsi.InvalidHandleFaultType

at sun.reflect.GeneratedConstructorAccessor61.newInstance(Unknown
Source)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance
(DelegatingConstructorAccessorImpl.java&#58;27)
at java.lang.reflect.Constructor.newInstance(Constructor.java&#58;513)
at java.lang.Class.newInstance0(Class.java&#58;355)
at java.lang.Class.newInstance(Class.java&#58;308)
at org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;122)
at org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;161)
at org.globus.ogsa.impl.core.handle.HandleHelper.getInstanceIndex
(HandleHelper.java&#58;142)
at org.globus.ogsa.impl.core.handle.HandleHelper.getParentID
(HandleHelper.java&#58;98)
at org.globus.ogsa.handlers.ServiceLoaderHandler.invoke
(ServiceLoaderHandler.java&#58;27)
at org.apache.axis.strategies.InvocationStrategy.visit
(InvocationStrategy.java&#58;71)
at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java&#58;150)
at org.apache.axis.SimpleChain.invoke(SimpleChain.java&#58;120)
at org.apache.axis.server.AxisServer.invoke(AxisServer.java&#58;287)
at org.globus.ogsa.server.ServiceThread.doPost(ServiceThread.java&#58;438)
at org.globus.ogsa.server.ServiceThread.process(ServiceThread.java&#58;287)
at org.globus.ogsa.server.GSIServiceThread.process
(GSIServiceThread.java&#58;174)
at org.globus.ogsa.server.ServiceThread.run(ServiceThread.java&#58;185)

at org.apache.axis.message.SOAPFaultBuilder.createFault
(SOAPFaultBuilder.java&#58;222)
at org.apache.axis.message.SOAPFaultBuilder.endElement
(SOAPFaultBuilder.java&#58;129)
at org.apache.axis.encoding.DeserializationContext.endElement
(DeserializationContext.java&#58;1087)
at
com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement
(AbstractSAXParser.java&#58;633)
at
com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanEndElement
(XMLNSDocumentScannerImpl.java&#58;719)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl
$FragmentContentDispatcher.dispatch
(XMLDocumentFragmentScannerImpl.java&#58;1685)
at
com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument
(XMLDocumentFragmentScannerImpl.java&#58;368)
at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse
(XML11Configuration.java&#58;834)
at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse
(XML11Configuration.java&#58;764)
at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse
(XMLParser.java&#58;148)
at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse
(AbstractSAXParser.java&#58;1242)
at javax.xml.parsers.SAXParser.parse(SAXParser.java&#58;375)
at org.apache.axis.encoding.DeserializationContext.parse
(DeserializationContext.java&#58;227)
at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java&#58;696)
at org.apache.axis.Message.getSOAPEnvelope(Message.java&#58;435)
at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke
(MustUnderstandChecker.java&#58;62)
at org.apache.axis.client.AxisClient.invoke(AxisClient.java&#58;206)
at org.apache.axis.client.Call.invokeEngine(Call.java&#58;2784)
at org.apache.axis.client.Call.invoke(Call.java&#58;2767)
at org.apache.axis.client.Call.invoke(Call.java&#58;2443)
at org.apache.axis.client.Call.invoke(Call.java&#58;2366)
at org.apache.axis.client.Call.invoke(Call.java&#58;1812)
at org.dcache.srm.v2_2.SrmSoapBindingStub.srmPing
(SrmSoapBindingStub.java&#58;2740)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java&#58;39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java&#58;25)
at java.lang.reflect.Method.invoke(Method.java&#58;592)
at org.dcache.srm.client.SRMClientV2.handleClientCall
(SRMClientV2.java&#58;178)
at org.dcache.srm.client.SRMClientV2.srmPing(SRMClientV2.java&#58;279)
at gov.fnal.srm.util.SRMPingClientV2.start(SRMPingClientV2.java&#58;118)
at gov.fnal.srm.util.SRMDispatcher.work(SRMDispatcher.java&#58;817)
at gov.fnal.srm.util.SRMDispatcher.main(SRMDispatcher.java&#58;368)
EOT

It looks to still be using the Fermi srmping command.  I tried redoing
these steps with the only difference being the following&#58;

echo -n &#34; --srm-client-loc /opt/osg/srm-client-lbnl/ &#34; &#62;&#62; $
{VDT_LOCATION}/osg-rsv/specs/global-specs/srm-ping-
probe@....

However, that gave the same result as before.  Thanks for your help,
Arvind...

Kevin

On Sep 10, 2009, at 12&#58;39 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_616209922').click(function() {
            $('#detail_616209922').slideDown("normal");
            $('#show_616209922').hide();
            $('#hide_616209922').show();
        });
        $('#hide_616209922').click(function() {
            $('#detail_616209922').slideUp();
            $('#hide_616209922').hide();
            $('#show_616209922').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7431#1252604378'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-10T17:39:38+00:00">Sep 10, 2009 05:39 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1252604378">&nbsp;</a></div><pre>Kevin,

I apologize for initially adding documentation for a different step in the link I sent you. I have fixed that now.

Same link (with proper content) <a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to</a>

Good luck,
-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1252602956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-10T17:15:56+00:00">Sep 10, 2009 05:15 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1252602956">&nbsp;</a></div><pre>&gt; <a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to</a>

Kevin,

Sorry that is not the right link, I will send you another ink shortly.

-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1252597640'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-10T15:47:20+00:00">Sep 10, 2009 03:47 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1252597640">&nbsp;</a></div><pre>Kevin,

Have you tried looking at RSV probe options? I ask because you would have got an answer even before you sent the ticket!

Try
cd $VDT_LOCATION/osg-rsv/bin/probes
./srm-ping-probe --help

There is already an option to specify the client to use (with the default being the Fermi client).

The exact way to use such an option was not documented properly but I just updated the AdvancedRSVConfiguration document to show the steps. As noted in the document&#58; &quot;These steps are fairly complex but our hope is that a tool named rsv-control will soon allow admins to do tasks like this using a simpler interface--stay tuned. &quot;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to</a>

Using the above two steps, you should be able to make your RSV client use a non-default SRM client.

Also, please try to use this <a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/RSV' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/RSV</a> as your first line of defense for RSV related issues.

-ag</pre></div><div class='update_description'><i onclick="document.location='7431#1252530252'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-09T21:04:12+00:00">Sep 9, 2009 09:04 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1252530252">&nbsp;</a></div><pre>Hi Kyle,

Has the reassignment happened?  If so, any ETA on when I might hear
something on this ticket?  Thank you!

Kevin

On Sep 8, 2009, at 12&#58;16 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1252430168'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-08T17:16:08+00:00">Sep 8, 2009 05:16 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1252430168">&nbsp;</a></div><pre>You know Kevin, that&#39;s a good question. &#58;)  I saw LBNL and just thought...BNL!  I obviously hadn&#39;t had my morning coffee yet.  I&#39;ll remove ATLAS and get this to the appropriate person. &#58;)

Sorry about that.</pre></div><div class='update_description'><i onclick="document.location='7431#1252417932'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-08T13:52:12+00:00">Sep 8, 2009 01:52 PM UTC</time> by <b>Kevin Buterbaugh</b><a class="anchor" name="1252417932">&nbsp;</a></div><pre>Hi Kyle,

Um, OK ... may I ask why BNL?  This is ultimately an issue with an RSV
probe failing.  Thanks...

Kevin

On Sep 8, 2009, at 8&#58;46 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7431#1252417751'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-08T13:49:11+00:00">Sep 8, 2009 01:49 PM UTC</time> by <b>USATLAS</b><a class="anchor" name="1252417751">&nbsp;</a></div><pre>Greetings,

This message has been automatically generated in response to the
creation of a trouble ticket you submitted regarding&#58;

Open Science Grid&#58; Resource Specific Issue on Vanderbilt  ISSUE=7431 PROJ=71

A summary of your ticket, which has been assigned a request ID of
[rt-racf.bnl.gov #13975], appears below.

To modify your ticket or add followups, simply reply to this email
message.  Please do not change the subject of this e-mail when
replying or you might generate a new ticket.

Thank you,
RT-RACF@....

-------------------------------------------------------------------------

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='7431#1252417574'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-08T13:46:14+00:00">Sep 8, 2009 01:46 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1252417574">&nbsp;</a></div><pre>Kevin, I am sending this to BNL.  Hopefully they will have some answers.</pre></div><div class='update_description'><i onclick="document.location='7431#1252096776'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-04T20:39:36+00:00">Sep 4, 2009 08:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1252096776">&nbsp;</a></div><pre>Here&#39;s my most recent e-mail to osg-sites, which describes the issue pretty well.  What I&#39;d like to know is if there&#39;s a way to tell the srm ping probe to use the LBNL client tools (which actually work) instead of the Fermi client tools (which rarely do work).  Thanks...

Kevin

Hi All,

A little more information on this issue ... the problem appears to be with the Fermi client srmping command and protocol version 2.  The LBNL client srm-ping command works (as usual).  Even the Fermi srmping works with protocol version 1.  However, when I try it with protocol version 2 I get a very similar error message to what is included in the log below&#58;

buterbkl@vampire&#58; srmping -debug -2 <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/v2/server</a>
Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=null
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/x509up_u29670
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
<div id='show_416146836' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_416146836'>streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Sep 04 15&#58;21&#58;18 CDT 2009&#58; In SRMClient ExpectedName&#58; host
Fri Sep 04 15&#58;21&#58;18 CDT 2009&#58; SRMClient(https,srm/managerv2,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=People/CN=Kevin L. Buterbaugh 181849
SRMClientV2 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58;
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; sleeping for 10000 milliseconds before retrying
SRMClientV2 &#58; srmPing&#58; try # 1 failed with error
SRMClientV2 &#58;
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; sleeping for 20000 milliseconds before retrying

Anybody have any idea how to work around this?  Can the RSV probes be configured to only use the LBNL client commands and never the Fermi ones???  Thanks...

Kevin

On Sep 4, 2009, at 3&#58;05 PM, Kevin L. Buterbaugh wrote&#58;

Hi Sarah,

Here&#39;s the probe error log ... I hope you (or someone else on the list) can decipher what it&#39;s trying to tell me more quickly than I can!  Thanks...

Kevin

[rsvuser@vampire probes]$ cat se1.accre.vanderbilt.edu__srm-ping-probe@....
VERBOSE
Timestamp&#58; [2009-09-04T19&#58;53&#58;04Z] gatheredAt&#58; [vampire.accre.vanderbilt.edu]
serviceURI&#58; [se1.accre.vanderbilt.edu&#58;6288]	 ServiceType&#58; [OSG-SRM]
Hostname&#58; [se1.accre.vanderbilt.edu] Port&#58; [6288]  localprobe?&#58;[]

VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [ /opt/osg/globus/bin/grid-proxy-info -timeleft 2&gt;&amp;1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [76019] and CMD EXIT&#58; [0] VERBOSE &#58;&#58;Run_Command ()  CMD did not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () 	 CMD&#58; [/opt/osg/srm-client-fermi//bin/srmping -retry_num=0 -debug -2 -x509_user_proxy=/tmp/rsvproxy <a href='srm&#58;//se1.accre.vanderbilt.edu&#58;6288' target='_blank' rel='nofollow'>srm&#58;//se1.accre.vanderbilt.edu&#58;6288</a> -webservice_path=srm/managerv2 2&gt;&amp;1 ]
VERBOSE &#58;&#58;Run_Command ()
CMD OUT&#58; [Storage Resource Manager (SRM) Client version 2.1.2
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=/opt/osg/srm-client-fermi
urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh
gsiftpclient=globus-url-copy
help=false
h=false
gsissl=true
mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map
webservice_path=srm/managerv2
webservice_protocol=https
use_proxy=true
x509_user_proxy=/tmp/rsvproxy
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/opt/osg/srm-client-fermi/etc/config-2.xml
save_conf=null
do_remove=false
copy=false
bringOnline=false
ping=true
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
getStorageElementInfo=false
retry_timeout=10000
retry_num=0
connect_to_wsdl=false
delegate=true
full_delegation=true
version=false
report=null
server_mode=passive
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
Fri Sep 04 14&#58;53&#58;16 CDT 2009&#58; In SRMClient ExpectedName&#58; host
Fri Sep 04 14&#58;53&#58;17 CDT 2009&#58; SRMClient(https,srm/managerv2,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/vampire.accre.vanderbilt.edu
SRMClientV2 &#58; connecting to srm at httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//se1.accre.vanderbilt.edu&#58;6288/srm/managerv2
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58;
Exception in thread &quot;main&quot; AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}Server.generalException
faultSubcode&#58;
faultString&#58;
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{}faultData&#58;null
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}exceptionName&#58;org.gridforum.ogsi.InvalidHandleFaultType
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}stackTrace&#58;AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}Server.generalException
faultSubcode&#58;
faultString&#58;
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}exceptionName&#58; org.gridforum.ogsi.InvalidHandleFaultType

at sun.reflect.GeneratedConstructorAccessor61.newInstance(Unknown Source)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java&#58;27)
at java.lang.reflect.Constructor.newInstance(Constructor.java&#58;513)
at java.lang.Class.newInstance0(Class.java&#58;355)
at java.lang.Class.newInstance(Class.java&#58;308)
at org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;122)
at org.globus.ogsa.utils.FaultHelper.makeFault(FaultHelper.java&#58;161)
at org.globus.ogsa.impl.core.handle.HandleHelper.getInstanceIndex(HandleHelper.java&#58;142)
at org.globus.ogsa.impl.core.handle.HandleHelper.getParentID(HandleHelper.java&#58;98)
at org.globus.ogsa.handlers.ServiceLoaderHandler.invoke(ServiceLoaderHandler.java&#58;27)
at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java&#58;71)
at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java&#58;150)
at org.apache.axis.SimpleChain.invoke(SimpleChain.java&#58;120)
at org.apache.axis.server.AxisServer.invoke(AxisServer.java&#58;287)
at org.globus.ogsa.server.ServiceThread.doPost(ServiceThread.java&#58;438)
at org.globus.ogsa.server.ServiceThread.process(ServiceThread.java&#58;287)
at org.globus.ogsa.server.GSIServiceThread.process(GSIServiceThread.java&#58;174)
at org.globus.ogsa.server.ServiceThread.run(ServiceThread.java&#58;185)

at org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java&#58;222)
at org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java&#58;129)
at org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java&#58;1087)
at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java&#58;633)
at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanEndElement(XMLNSDocumentScannerImpl.java&#58;719)
at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java&#58;1685)
at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java&#58;368)
at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java&#58;834)
at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java&#58;764)
at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java&#58;148)
at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java&#58;1242)
at javax.xml.parsers.SAXParser.parse(SAXParser.java&#58;375)
at org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java&#58;227)
at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java&#58;696)
at org.apache.axis.Message.getSOAPEnvelope(Message.java&#58;435)
at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java&#58;62)
at org.apache.axis.client.AxisClient.invoke(AxisClient.java&#58;206)
at org.apache.axis.client.Call.invokeEngine(Call.java&#58;2784)
at org.apache.axis.client.Call.invoke(Call.java&#58;2767)
at org.apache.axis.client.Call.invoke(Call.java&#58;2443)
at org.apache.axis.client.Call.invoke(Call.java&#58;2366)
at org.apache.axis.client.Call.invoke(Call.java&#58;1812)
at org.dcache.srm.v2_2.SrmSoapBindingStub.srmPing(SrmSoapBindingStub.java&#58;2740)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;25)
at java.lang.reflect.Method.invoke(Method.java&#58;592)
at org.dcache.srm.client.SRMClientV2.handleClientCall(SRMClientV2.java&#58;178)
at org.dcache.srm.client.SRMClientV2.srmPing(SRMClientV2.java&#58;279)
at gov.fnal.srm.util.SRMPingClientV2.start(SRMPingClientV2.java&#58;118)
at gov.fnal.srm.util.SRMDispatcher.work(SRMDispatcher.java&#58;817)
at gov.fnal.srm.util.SRMDispatcher.main(SRMDispatcher.java&#58;368)] and CMD EXIT&#58; [1] VERBOSE &#58;&#58;Run_Command ()  CMD did not time out after 300 seconds!
VERBOSE &#58;&#58;Run_Command () generateGratiaScript defined, so creating Gratia record (Python script)
VERBOSE &#58;&#58;Run_Command () Going to write python script /opt/osg/osg-rsv/output/gratia/1252093984-se1.accre.vanderbilt.edu-org.osg.srm.srmping.8746.py to upload  Gratia record with following content&#58;
#! /usr/bin/python

import Gratia
import Metric

if __name__ == &#39;__main__&#39;&#58;
Gratia.Initialize(&quot;/opt/osg/gratia/probe/metric/ProbeConfig&quot;)
r = Metric.MetricRecord()
r.MetricName(&quot;org.osg.srm.srmping&quot;)
r.MetricType(&quot;status&quot;)
r.MetricStatus(&quot;CRITICAL&quot;)
r.Timestamp(&quot;2009-09-04T19&#58;53&#58;04Z&quot;) # Or could enter it as seconds since epoch
r.ServiceType(&quot;OSG-SRM&quot;)
r.ServiceUri(&quot;se1.accre.vanderbilt.edu&#58;6288&quot;)
r.GatheredAt(&quot;vampire.accre.vanderbilt.edu&quot;)
r.SummaryData(&quot;CRITICAL&quot;)
r.DetailsData(&quot;SRM server running on se1.accre.vanderbilt.edu is not responding to the srmping command. The error message printed by srmping was&#58; &#92;n Storage Resource Manager (SRM) Client version 2.1.2&#92;nCopyright (c) 2002-2008 Fermi National Accelerator Laboratory&#92;n&#92;nSRM Configuration&#58;&#92;n default_port=8443&#92;n debug=true&#92;n srmcphome=/opt/osg/srm-client-fermi&#92;n urlcopy=/opt/osg/srm-client-fermi/sbin/url-copy.sh&#92;n gsiftpclient=globus-url-copy&#92;n help=false&#92;n h=false&#92;n gsissl=true&#92;n mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map&#92;n webs&#92;n... Truncated ...&#92;nFor more details, as &#92;&#39;&#92;&#39; user&#58;&#92;n - First source /opt/osg/setup.sh&#92;n - Then execute&#58; /opt/osg/osg-rsv/bin/probes/srm-ping-probe -m org.osg.srm.srmping --verbose --print-local-time --srm-destination-dir /rsvtestdir --ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc /usr/bin/python --uri se1.accre.vanderbilt.edu&#58;6288 --proxy /tmp/rsvproxy --no-trim-details&#92;nIf the --verbose switch was passed to this execution, this file might have more information&#92;n &#92;$VDT_LOCATION/osg-rsv/logs/probes/se1.accre.vanderbilt.edu__srm-ping-probe&#92;@org.osg.srm.srmping.err.&quot;)

print Gratia.Send(r)

[rsvuser@vampire probes]$
On Sep 4, 2009, at 12&#58;22 PM, Sarah Williams wrote&#58;

-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

Sorry Kevin, I&#39;m looking at your RSV page now and I see that the RSV
probe output tells you to do this!  And the error output is truncated
fairly short. What if a probe throws error that clears up before I can
get to it?  Is the full error recorded in the log somewhere? Maybe
$VDT_LOCATION/osg-rsv/logs/probes/se1.accre.vanderbilt.edu__srm-ping-probe&#92;@org.osg.srm.srmping.err

Sarah Williams wrote&#58;
Hi Kevin,

You have to set PERL5LIB first. ex.
export PERL5LIB=/opt/osg/osg-rsv/bin/probes;

However, I don&#39;t think running RSV probes this way from the command line
is supported.
Instead, you can use this util&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/ForceRunConfiguredRsvProbes' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/ForceRunConfiguredRsvProbes</a>

--Sarah

Kevin L. Buterbaugh wrote&#58;
All,

We started having a problem with our srm-ping-probe failing.  This
morning I upgraded all our grid servers to OSG 1.2.1 in the hopes that
that might magically fix things, but it didn&#39;t.

If I run the probe manually as &quot;rsvuser&quot; here&#39;s the error&#58;

[rsvuser@vampire ~]$ /opt/osg/osg-rsv/bin/probes/srm-ping-probe -m
org.osg.srm.srmping --verbose --print-local-time --srm-destination-dir
/rsvtestdir --ggs --gsl /opt/osg/osg-rsv/output/gratia --python-loc
/usr/bin/python --uri se1.accre.vanderbilt.edu&#58;6288 --proxy
/tmp/rsvproxy --no-trim-details
Can&#39;t locate RSVProbeBase.pm in @INC (@INC contains&#58;
/opt/osg/perl/lib/5.8.0/x86_64-linux-thread-multi
/opt/osg/perl/lib/5.8.0
/opt/osg/perl/lib/5.8.0/x86_64-linux-thread-multi
/opt/osg/perl/lib/site_perl/5.8.0/x86_64-linux-thread-multi
/opt/osg/perl/lib/site_perl/5.8.0
/opt/osg/perl/lib/site_perl/5.8.0/x86_64-linux-thread-multi
/opt/osg/vdt/lib
/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi
/usr/lib64/perl5/site_perl/5.8.7/x86_64-linux-thread-multi
/usr/lib64/perl5/site_perl/5.8.6/x86_64-linux-thread-multi
/usr/lib64/perl5/site_perl/5.8.5/x86_64-linux-thread-multi
/usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl/5.8.7
/usr/lib/perl5/site_perl/5.8.6 /usr/lib/perl5/site_perl/5.8.5
/usr/lib/perl5/site_perl
/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi
/usr/lib64/perl5/vendor_perl/5.8.7/x86_64-linux-thread-multi
/usr/lib64/perl5/vendor_perl/5.8.6/x86_64-linux-thread-multi
/usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi
/usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl/5.8.7
/usr/lib/perl5/vendor_perl/5.8.6 /usr/lib/perl5/vendor_perl/5.8.5
/usr/lib/perl5/vendor_perl
/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .)
at /opt/osg/osg-rsv/bin/probes/srm-ping-probe line 19.
BEGIN failed--compilation aborted at
/opt/osg/osg-rsv/bin/probes/srm-ping-probe line 19.
[rsvuser@vampire ~]$

The probe exists in /opt/osg/osg-rsv/bin/probes, so why isn&#39;t the probe
including that directory in the @INC path?  Thanks in advance for advice...

[META Information for OSG ITB Support Staff]
Resource on which user is having this issue&#58; Vanderbilt(137)
Selecting CMS(FP name&#58; USCMS) for Destination VO since it has the highest resource ownership.
Primary Admin for Vanderbilt is Kevin Buterbaugh and has been CC&#39;d.
</div><script type='text/javascript'>
        $('#show_416146836').click(function() {
            $('#detail_416146836').slideDown("normal");
            $('#show_416146836').hide();
            $('#hide_416146836').show();
        });
        $('#hide_416146836').click(function() {
            $('#detail_416146836').slideUp();
            $('#hide_416146836').hide();
            $('#show_416146836').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F7431">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 7431});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
