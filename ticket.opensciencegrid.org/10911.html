<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[10911] DOEGrids CA Certificate Request</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10911" method="post">
<div class="page-header">
    <h3><span class="muted">10911</span> / DOEGrids CA Certificate Request</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Justin Ross</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/custom</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Justin Ross</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for updates</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-09-19</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/10911", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/10911?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/10911?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20DOEGrids%20CA%20Certificate%20Request%20ISSUE%3D10911%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10911#1315935910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-13T17:45:10+00:00">Sep 13, 2011 05:45 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1315935910">&nbsp;</a></div><pre>Yes I am good with certificates.  I never could get the scripts to work.  I had to get it manually from the web.  But it works.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1315935398'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-13T17:36:38+00:00">Sep 13, 2011 05:36 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1315935398">&nbsp;</a></div><pre>Greetings Justin,

What&#39;s the status on your end?  Can we go ahead and close out this ticket?

Thanks,

-Alain</pre></div><div class='update_description'><i onclick="document.location='10911#1314735307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T20:15:07+00:00">Aug 30, 2011 08:15 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314735307">&nbsp;</a></div><pre>Here they are.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314731348'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T19:09:08+00:00">Aug 30, 2011 07:09 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1314731348">&nbsp;</a></div><pre>Could you also tar the cert-request, cert-retrieve scripts and send it
to me. I want to see if it is any different from the version I have. I
apparently have the same version numbers as you but am unable to
reproduce the problem even after multiple tries.

Thanks
Anand
On 08/30/2011 01&#58;57 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10911#1314730627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T18:57:07+00:00">Aug 30, 2011 06:57 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314730627">&nbsp;</a></div><pre>Here it is.</pre></div><div class='update_description'><i onclick="document.location='10911#1314729727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T18:42:07+00:00">Aug 30, 2011 06:42 PM UTC</time> by <b>marco@....</b><a class="anchor" name="1314729727">&nbsp;</a></div><pre>Now that we know it was a problem with that host/installation I&#39;d like to
see if I can understand what is different.

Could you run vtd-system-profiler and send me the output?
<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/HelpProcedure#Information_Required_to_Help_You' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/HelpProcedure#Information_Required_to_Help_You</a>

Thank you,
Marco

On Tue, 30 Aug 2011, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10911#1314728827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T18:27:07+00:00">Aug 30, 2011 06:27 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314728827">&nbsp;</a></div><pre>I was using the cert-request and cert-retrieve scripts.  The cert-request script seems to work just fine.

Every time I would use the cert-retrieve script for just this one host it would corrupt the data and put it in usercert.pem and userkey.pem, all other hosts put them in hostcert.pem and hostkey.pem.

I finally just clicked on the link in the email and copy and pasted the cert into a file.

That finally worked.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314728154'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T18:15:54+00:00">Aug 30, 2011 06:15 PM UTC</time><a class="anchor" name="1314728154">&nbsp;</a></div><pre>Justin,
I&#39;d like to understand if possible how did you solved the problem and what caused the problem. Could you summarize the ticket?
If I understood correctly downloading the certificates with the scripts kept giving you corrupted files and downloading them with a browser or curl form a link (provided in the email?) gave you the right files.
Is this correct?
Thank you,
Marco

-- by Marco Mambelli</pre></div><div class='update_description'><i onclick="document.location='10911#1314726487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T17:48:07+00:00">Aug 30, 2011 05:48 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314726487">&nbsp;</a></div><pre>I clicked on the link in the email with the cert.  I downloaded it that way and now the cert is in place and works.  I guess I am good to go and this can be closed for now.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314725589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T17:33:09+00:00">Aug 30, 2011 05:33 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314725589">&nbsp;</a></div><pre>Is there another way to retrieve the cert?  This is going on a month of downtime now.</pre></div><div class='update_description'><i onclick="document.location='10911#1314725587'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-30T17:33:07+00:00">Aug 30, 2011 05:33 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314725587">&nbsp;</a></div><pre>Yes they key was in the same directory.  The usercert.pem looks like a normal cert to me...

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314654307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T21:45:07+00:00">Aug 29, 2011 09:45 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1314654307">&nbsp;</a></div><pre>That is strange. I am using the exact same version of certLib and I am
unable to reproduce the problem (of course I am retrieving a different
certificate I created but that is irrelevant). See the output below

cert-retrieve --serialnum 59805 --keyfile 6834key.pem --dir /tmp/
checking CertLib version, V2-7,  This is the latest version, released 18
May 2009.
using CA doegrids
Using URL
<a href='https&#58;//pki1.doegrids.org/displayBySerial?op=displayBySerial&serialNumber=59805' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org/displayBySerial?op=displayBySerial&serialNumber=59805</a>
Checking that the certificate and 6834key.pem match
writing RSA key
/tmp//hostcert.pem and /tmp//hostkey.pem now contain your new credential

Just to cover our bases the 30660key.pem is also in the same directory
right. The &#39;unable to load certificate&#39; indicates to me that the
30660key.pem could not be loaded. Please make sure it is there and
readable.

Is there any content in the usercert.pem file created, could you do an
ls -la on it and/or cat it to see if it  is indeed a non empty
certificate content. Do the same with the key (ofcourse dont sent out
the output from cating the key over email).

Thanks
Anand
On 08/29/2011 04&#58;15 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10911#1314652507'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T21:15:07+00:00">Aug 29, 2011 09:15 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314652507">&nbsp;</a></div><pre>I am still having the same problem.

[root@smuosgse cert-scripts]# cert-retrieve --serialnum 59806 --keyfile 30660key.pem --dir /tmp/certs
checking CertLib version, V2-7,  This is the latest version, released 18 May 2009.
using CA doegrids
Using URL <a href='https&#58;//pki1.doegrids.org/displayBySerial?op=displayBySerial&serialNumber=59806' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org/displayBySerial?op=displayBySerial&serialNumber=59806</a>
unable to load certificate
Checking that the certificate and 30660key.pem match
unable to load certificate
writing RSA key
/tmp/certs/usercert.pem and /tmp/certs/userkey.pem now contain your new credential

As you can see it is putting it in usercert.pem and userkey.pem.

[root@smuosgse certs]# openssl x509 -text -noout -in usercert.pem -subject
unable to load certificate

Openssl doesn&#39;t know what to do with it if I try to look at it.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314651968'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T21:06:08+00:00">Aug 29, 2011 09:06 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314651968">&nbsp;</a></div><pre>Great thanks,

I will try it.</pre></div><div class='update_description'><i onclick="document.location='10911#1314651787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T21:03:07+00:00">Aug 29, 2011 09:03 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1314651787">&nbsp;</a></div><pre>OK. I just went ahead and approved your request.

Anand

On 08/29/2011 03&#58;51 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10911#1314651067'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T20:51:07+00:00">Aug 29, 2011 08:51 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314651067">&nbsp;</a></div><pre>The request has been sent in.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314650707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T20:45:07+00:00">Aug 29, 2011 08:45 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1314650707">&nbsp;</a></div><pre>Could you please try cert-request command as follows&#58;

%cert-request -ou s -dir . -host smuosgse.hpc.smu.edu

Note the -host instead of -label.

Once the RA agant has approved your request you can run the
cert-retrieve command like below

cert-retrieve --serialnum *your_cert_SN* --keyfile
Path_to_private_key_generated_by_cert_request --dir output_dir

I just tested the whole workflow on one of systems here without any
issue. If you still have problems could you please specify what step  is
failing along with the error message you get.

Anand

On 08/29/2011 03&#58;12 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10911#1314648726'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T20:12:06+00:00">Aug 29, 2011 08:12 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314648726">&nbsp;</a></div><pre>I would love to get this resolved.  We are dead in the water, we can&#39;t get data.

I have made sure that the request dir is the same as the retrieve dir.

Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314648452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T20:07:32+00:00">Aug 29, 2011 08:07 PM UTC</time> by <b>Robert Gardner</b><a class="anchor" name="1314648452">&nbsp;</a></div><pre>Adding Chander and Marco in cc&#39; to the ticket, as this seems to me to be an OSG User/Sites/Tier3 support/Security issue.

Justin - I gave you the suggestion of making certain the request dir == retrieve dir.  If that isn&#39;t it, there must be something else goofy going on.

At any rate, we need to get this resolved as this problem has been showing up on the ATLAS site problems dashboard for a month.

- Rob</pre></div><div class='update_description'><i onclick="document.location='10911#1314218707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-24T20:45:07+00:00">Aug 24, 2011 08:45 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1314218707">&nbsp;</a></div><pre>This is copied from my original email.

The problem is I can&#39;t get the host cert for my SE.  All I want is a host cert.  I have gotten certs for all of my other machines using the exact same command, but this one just won&#39;t work.

I am requesting a host certificate for my SE.  When I request it I use the command&#58; cert-request -ou s -dir . -label smuosgse.hpc.smu.edu.  Same command I used for the gums server and the CE.  I have not had any problems with the gums server or the CE, actually it was for two CEs.

For the SE when I run the cert-retrieve command it always ends up being placed in ~/.globus/usercert.pem and userkey.pem and openssl just says it can&#39;t open the cert.  Every other cert ended up as hostcert.pem and hostkey.pem.  I have actually tried this request from two different machines, I figured that possibly the cert-request or cert-retrieve scripts were corrupted on the one host.  But I get the exact same behavior on both systems when I request the cert for smuosgse.hpc.smu.edu.

The last request was request is attached below.  Am I doing something wrong?  I am stumped.

Thanks,
Justin</pre></div><div class='update_description'><i onclick="document.location='10911#1314217269'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-24T20:21:09+00:00">Aug 24, 2011 08:21 PM UTC</time> by <b>apadmana@....</b><a class="anchor" name="1314217269">&nbsp;</a></div><pre>No worries! Just wanted to make  sure I did not drop the ball on this one.

Anand

On 08/24/2011 03&#58;17 PM, David Saltzberg wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;   I received your email to follow the other instructions, but I have</font>
<font color='#7F7E6F'>&#62; not had a chance yet to try it.  I will try it.  I, like many others,</font>
<font color='#7F7E6F'>&#62; have a lot going on so we can&#39;t dedicate full time to these things.</font>
<font color='#7F7E6F'>&#62;    David</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Wed, Aug 24, 2011 at 12&#58;25 PM, Anand Padmanabhan</font>
<font color='#7F7E6F'>&#62; &#60;apadmana@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Rob, David,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I don&#39;t know if this problem was ever resolved. If not could you explain</font>
<font color='#7F7E6F'>&#62;&#62; to me what exactly the current problem is. Are you not able to download</font>
<font color='#7F7E6F'>&#62;&#62; the signed certificate that was issued. Or is this more of a comment of</font>
<font color='#7F7E6F'>&#62;&#62; how the documentation needs to improve?</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; If you have to retrieve the signed certificate you have to go to the</font>
<font color='#7F7E6F'>&#62;&#62; link provided</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892</a></font>
<font color='#7F7E6F'>&#62;&#62; from the same machine and browser and click import certificate. If you</font>
<font color='#7F7E6F'>&#62;&#62; have the corresponding private key the browser then the import will be</font>
<font color='#7F7E6F'>&#62;&#62; successful. Let me know if this is done and I can point you to</font>
<font color='#7F7E6F'>&#62;&#62; instructions on how to export the certificates from the browser.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks</font>
<font color='#7F7E6F'>&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62; On 08/22/2011 06&#58;24 PM, Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Maybe this does not help, but could you look at the instructions</font>
<font color='#7F7E6F'>&#62;&#62;&#62; provided by OSG security team and see if it makes your process of</font>
<font color='#7F7E6F'>&#62;&#62;&#62; getting and renewing the certificate easier/clearer.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<div id='show_1366521671' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1366521671'><font color='#7F7E6F'>&#62;&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/CertificateGet' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/CertificateGet</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Thanks</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62;&#62; On 08/22/2011 04&#58;23 PM, David Saltzberg wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I clicked on the link below where it says &#34;Please follow this URL&#34;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; below.  (The original request for a certificate I did by following the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; directions here&#58;  <a href='http&#58;//www.doegrids.org/pages/cert-request.html' target='_blank' rel='nofollow'>http&#58;//www.doegrids.org/pages/cert-request.html</a>)</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; This is a certificate for a Firefox browser running under windows. I</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; think I recall I could not use it with Google Chrome.  But  at this</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; point I forgot which browser I used to make the request.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; David</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; ---------- Forwarded message ----------</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; From&#58;  &#60;DOEGrids-CA-1@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Date&#58; Fri, Jul 1, 2011 at 9&#58;32 AM</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Subject&#58; DOEGrids CA Certificate Request</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; To&#58; saltzberg@....</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Your Personal certificate request has been processed successfully.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; SubjectDN= CN=David Saltzberg 671839,OU=People,DC=doegrids,DC=org</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; IssuerDN= CN=DOEGrids CA 1,OU=Certificate Authorities,DC=DOEGrids,DC=org</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; notAfter= Jun 30, 2012 9&#58;32&#58;19 AM</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; notBefore= Jul 1, 2011 9&#58;32&#58;19 AM</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Serial Number= 0xe224</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; To get your certificate, please follow this URL&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; <a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; And then click the &#39;Import your certificate&#39; button at the bottom of this page.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; [Note&#58; Some browsers import successfully without indicating this to you.]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Attention&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; You need to be running-</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; the same browser,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; on the same machine,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; logged in as the same user,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; as you were when you made the certificate request.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; After importing your certificate, export your certificate and the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; private key for Grid use.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Kindly follow the instructions on</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; <a href='http&#58;//www.doegrids.org/pages/cert-request.html#Globus' target='_blank' rel='nofollow'>http&#58;//www.doegrids.org/pages/cert-request.html#Globus</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Please contact your RA if there is any problem.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; IMPORTANT - PLEASE READ AND KEEP FOR REFERENCE</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Your Responsibilities</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Please notify the CA and your RA of any changes that affect your contact</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; email address, your name, or your eligibility for this certificate.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Please take reasonable precautions to prevent any loss, disclosure or</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; unauthorized use of the private key associated with your certificate,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; including&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;  For Person Certificates</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;    * Selecting a pass phrase of at minimum 8 characters.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;    * Protecting the pass phrase from others.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;    * Always using the pass phrase to encrypt the stored private key.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;    * Never sharing the private key with others.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;  For Service Certificates</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;    * Storing them encrypted whenever possible.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;    * They may be kept unencrypted on the host that they represent.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Please notify the CA immediately of any security incidents impacting</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; your certificate.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
</div><script type='text/javascript'>
        $('#show_1366521671').click(function() {
            $('#detail_1366521671').slideDown("normal");
            $('#show_1366521671').hide();
            $('#hide_1366521671').show();
        });
        $('#hide_1366521671').click(function() {
            $('#detail_1366521671').slideUp();
            $('#hide_1366521671').hide();
            $('#show_1366521671').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10911#1314217267'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-24T20:21:07+00:00">Aug 24, 2011 08:21 PM UTC</time> by <b>saltzberg@....</b><a class="anchor" name="1314217267">&nbsp;</a></div><pre>Hi,
I received your email to follow the other instructions, but I have
not had a chance yet to try it.  I will try it.  I, like many others,
have a lot going on so we can&#39;t dedicate full time to these things.
David

On Wed, Aug 24, 2011 at 12&#58;25 PM, Anand Padmanabhan
&#60;apadmana@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; Hi Rob, David,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I don&#39;t know if this problem was ever resolved. If not could you explain</font>
<font color='#7F7E6F'>&#62; to me what exactly the current problem is. Are you not able to download</font>
<font color='#7F7E6F'>&#62; the signed certificate that was issued. Or is this more of a comment of</font>
<font color='#7F7E6F'>&#62; how the documentation needs to improve?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; If you have to retrieve the signed certificate you have to go to the</font>
<font color='#7F7E6F'>&#62; link provided</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892</a></font>
<font color='#7F7E6F'>&#62; from the same machine and browser and click import certificate. If you</font>
<font color='#7F7E6F'>&#62; have the corresponding private key the browser then the import will be</font>
<font color='#7F7E6F'>&#62; successful. Let me know if this is done and I can point you to</font>
<font color='#7F7E6F'>&#62; instructions on how to export the certificates from the browser.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62; On 08/22/2011 06&#58;24 PM, Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Maybe this does not help, but could you look at the instructions</font>
<font color='#7F7E6F'>&#62;&#62; provided by OSG security team and see if it makes your process of</font>
<font color='#7F7E6F'>&#62;&#62; getting and renewing the certificate easier/clearer.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/CertificateGet' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/CertificateGet</a></font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks</font>
<font color='#7F7E6F'>&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62; On 08/22/2011 04&#58;23 PM, David Saltzberg wrote&#58;</font>
<div id='show_1905187067' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1905187067'><font color='#7F7E6F'>&#62;&#62;&#62; I clicked on the link below where it says &#34;Please follow this URL&#34;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; below.  (The original request for a certificate I did by following the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; directions here&#58;  <a href='http&#58;//www.doegrids.org/pages/cert-request.html' target='_blank' rel='nofollow'>http&#58;//www.doegrids.org/pages/cert-request.html</a>)</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; This is a certificate for a Firefox browser running under windows. I</font>
<font color='#7F7E6F'>&#62;&#62;&#62; think I recall I could not use it with Google Chrome.  But  at this</font>
<font color='#7F7E6F'>&#62;&#62;&#62; point I forgot which browser I used to make the request.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; David</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; ---------- Forwarded message ----------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; From&#58;  &#60;DOEGrids-CA-1@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Date&#58; Fri, Jul 1, 2011 at 9&#58;32 AM</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Subject&#58; DOEGrids CA Certificate Request</font>
<font color='#7F7E6F'>&#62;&#62;&#62; To&#58; saltzberg@....</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Your Personal certificate request has been processed successfully.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; SubjectDN= CN=David Saltzberg 671839,OU=People,DC=doegrids,DC=org</font>
<font color='#7F7E6F'>&#62;&#62;&#62; IssuerDN= CN=DOEGrids CA 1,OU=Certificate Authorities,DC=DOEGrids,DC=org</font>
<font color='#7F7E6F'>&#62;&#62;&#62; notAfter= Jun 30, 2012 9&#58;32&#58;19 AM</font>
<font color='#7F7E6F'>&#62;&#62;&#62; notBefore= Jul 1, 2011 9&#58;32&#58;19 AM</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Serial Number= 0xe224</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; To get your certificate, please follow this URL&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; <a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62; And then click the &#39;Import your certificate&#39; button at the bottom of this page.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Note&#58; Some browsers import successfully without indicating this to you.]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Attention&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; You need to be running-</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the same browser,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; on the same machine,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; logged in as the same user,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; as you were when you made the certificate request.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; After importing your certificate, export your certificate and the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; private key for Grid use.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Kindly follow the instructions on</font>
<font color='#7F7E6F'>&#62;&#62;&#62; <a href='http&#58;//www.doegrids.org/pages/cert-request.html#Globus' target='_blank' rel='nofollow'>http&#58;//www.doegrids.org/pages/cert-request.html#Globus</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Please contact your RA if there is any problem.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; IMPORTANT - PLEASE READ AND KEEP FOR REFERENCE</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Your Responsibilities</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Please notify the CA and your RA of any changes that affect your contact</font>
<font color='#7F7E6F'>&#62;&#62;&#62; email address, your name, or your eligibility for this certificate.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Please take reasonable precautions to prevent any loss, disclosure or</font>
<font color='#7F7E6F'>&#62;&#62;&#62; unauthorized use of the private key associated with your certificate,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; including&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;  For Person Certificates</font>
<font color='#7F7E6F'>&#62;&#62;&#62;    * Selecting a pass phrase of at minimum 8 characters.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;    * Protecting the pass phrase from others.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;    * Always using the pass phrase to encrypt the stored private key.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;    * Never sharing the private key with others.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;  For Service Certificates</font>
<font color='#7F7E6F'>&#62;&#62;&#62;    * Storing them encrypted whenever possible.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;    * They may be kept unencrypted on the host that they represent.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Please notify the CA immediately of any security incidents impacting</font>
<font color='#7F7E6F'>&#62;&#62;&#62; your certificate.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --</font>
<font color='#7F7E6F'>&#62; Anand Padmanabhan, PhD</font>
<font color='#7F7E6F'>&#62; Research Scientist</font>
<font color='#7F7E6F'>&#62; CyberInfrastructure and Geospatial Information Laboratory (CIGI)</font>
<font color='#7F7E6F'>&#62; and</font>
<font color='#7F7E6F'>&#62; National Center for Supercomputing Applications (NCSA)</font>
<font color='#7F7E6F'>&#62; University of Illinois at Urbana-Champaign</font>
<font color='#7F7E6F'>&#62; Telephone&#58; (217) 244-9315</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//cigi.uiuc.edu' target='_blank' rel='nofollow'>http&#58;//cigi.uiuc.edu</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1905187067').click(function() {
            $('#detail_1905187067').slideDown("normal");
            $('#show_1905187067').hide();
            $('#hide_1905187067').show();
        });
        $('#hide_1905187067').click(function() {
            $('#detail_1905187067').slideUp();
            $('#hide_1905187067').hide();
            $('#show_1905187067').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10911#1314214027'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-24T19:27:07+00:00">Aug 24, 2011 07:27 PM UTC</time> by <b>apadmana@....</b><a class="anchor" name="1314214027">&nbsp;</a></div><pre>Hi Rob, David,

I don&#39;t know if this problem was ever resolved. If not could you explain
to me what exactly the current problem is. Are you not able to download
the signed certificate that was issued. Or is this more of a comment of
how the documentation needs to improve?

If you have to retrieve the signed certificate you have to go to the
link provided
<a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892</a>
from the same machine and browser and click import certificate. If you
have the corresponding private key the browser then the import will be
successful. Let me know if this is done and I can point you to
instructions on how to export the certificates from the browser.

Thanks
Anand
On 08/22/2011 06&#58;24 PM, Anand Padmanabhan wrote&#58;
<font color='#7F7E6F'>&#62; Maybe this does not help, but could you look at the instructions</font>
<font color='#7F7E6F'>&#62; provided by OSG security team and see if it makes your process of</font>
<font color='#7F7E6F'>&#62; getting and renewing the certificate easier/clearer.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/CertificateGet' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/CertificateGet</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62; On 08/22/2011 04&#58;23 PM, David Saltzberg wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; I clicked on the link below where it says &#34;Please follow this URL&#34;</font>
<font color='#7F7E6F'>&#62;&#62; below.  (The original request for a certificate I did by following the</font>
<font color='#7F7E6F'>&#62;&#62; directions here&#58;  <a href='http&#58;//www.doegrids.org/pages/cert-request.html' target='_blank' rel='nofollow'>http&#58;//www.doegrids.org/pages/cert-request.html</a>)</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; This is a certificate for a Firefox browser running under windows. I</font>
<font color='#7F7E6F'>&#62;&#62; think I recall I could not use it with Google Chrome.  But  at this</font>
<font color='#7F7E6F'>&#62;&#62; point I forgot which browser I used to make the request.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<div id='show_82444582' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_82444582'><font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; David</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ---------- Forwarded message ----------</font>
<font color='#7F7E6F'>&#62;&#62; From&#58;  &#60;DOEGrids-CA-1@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Date&#58; Fri, Jul 1, 2011 at 9&#58;32 AM</font>
<font color='#7F7E6F'>&#62;&#62; Subject&#58; DOEGrids CA Certificate Request</font>
<font color='#7F7E6F'>&#62;&#62; To&#58; saltzberg@....</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Your Personal certificate request has been processed successfully.</font>
<font color='#7F7E6F'>&#62;&#62; SubjectDN= CN=David Saltzberg 671839,OU=People,DC=doegrids,DC=org</font>
<font color='#7F7E6F'>&#62;&#62; IssuerDN= CN=DOEGrids CA 1,OU=Certificate Authorities,DC=DOEGrids,DC=org</font>
<font color='#7F7E6F'>&#62;&#62; notAfter= Jun 30, 2012 9&#58;32&#58;19 AM</font>
<font color='#7F7E6F'>&#62;&#62; notBefore= Jul 1, 2011 9&#58;32&#58;19 AM</font>
<font color='#7F7E6F'>&#62;&#62; Serial Number= 0xe224</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; To get your certificate, please follow this URL&#58;</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialNumber=57892</a></font>
<font color='#7F7E6F'>&#62;&#62; And then click the &#39;Import your certificate&#39; button at the bottom of this page.</font>
<font color='#7F7E6F'>&#62;&#62; [Note&#58; Some browsers import successfully without indicating this to you.]</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Attention&#58;</font>
<font color='#7F7E6F'>&#62;&#62; You need to be running-</font>
<font color='#7F7E6F'>&#62;&#62; the same browser,</font>
<font color='#7F7E6F'>&#62;&#62; on the same machine,</font>
<font color='#7F7E6F'>&#62;&#62; logged in as the same user,</font>
<font color='#7F7E6F'>&#62;&#62; as you were when you made the certificate request.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; After importing your certificate, export your certificate and the</font>
<font color='#7F7E6F'>&#62;&#62; private key for Grid use.</font>
<font color='#7F7E6F'>&#62;&#62; Kindly follow the instructions on</font>
<font color='#7F7E6F'>&#62;&#62; <a href='http&#58;//www.doegrids.org/pages/cert-request.html#Globus' target='_blank' rel='nofollow'>http&#58;//www.doegrids.org/pages/cert-request.html#Globus</a></font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Please contact your RA if there is any problem.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; IMPORTANT - PLEASE READ AND KEEP FOR REFERENCE</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Your Responsibilities</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Please notify the CA and your RA of any changes that affect your contact</font>
<font color='#7F7E6F'>&#62;&#62; email address, your name, or your eligibility for this certificate.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Please take reasonable precautions to prevent any loss, disclosure or</font>
<font color='#7F7E6F'>&#62;&#62; unauthorized use of the private key associated with your certificate,</font>
<font color='#7F7E6F'>&#62;&#62; including&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;  For Person Certificates</font>
<font color='#7F7E6F'>&#62;&#62;    * Selecting a pass phrase of at minimum 8 characters.</font>
<font color='#7F7E6F'>&#62;&#62;    * Protecting the pass phrase from others.</font>
<font color='#7F7E6F'>&#62;&#62;    * Always using the pass phrase to encrypt the stored private key.</font>
<font color='#7F7E6F'>&#62;&#62;    * Never sharing the private key with others.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;  For Service Certificates</font>
<font color='#7F7E6F'>&#62;&#62;    * Storing them encrypted whenever possible.</font>
<font color='#7F7E6F'>&#62;&#62;    * They may be kept unencrypted on the host that they represent.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Please notify the CA immediately of any security incidents impacting</font>
<font color='#7F7E6F'>&#62;&#62; your certificate.</font>

--
Anand Padmanabhan, PhD
Research Scientist
CyberInfrastructure and Geospatial Information Laboratory (CIGI)
and
National Center for Supercomputing Applications (NCSA)
University of Illinois at Urbana-Champaign
Telephone&#58; (217) 244-9315
<a href='http&#58;//cigi.uiuc.edu' target='_blank' rel='nofollow'>http&#58;//cigi.uiuc.edu</a>
</div><script type='text/javascript'>
        $('#show_82444582').click(function() {
            $('#detail_82444582').slideDown("normal");
            $('#show_82444582').hide();
            $('#hide_82444582').show();
        });
        $('#hide_82444582').click(function() {
            $('#detail_82444582').slideUp();
            $('#hide_82444582').hide();
            $('#show_82444582').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10911#1314212938'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-24T19:08:58+00:00">Aug 24, 2011 07:08 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1314212938">&nbsp;</a></div><pre>From&#58; Mine Altunay &#60;maltunay@....&#62;
Date&#58; August 24, 2011 12&#58;44&#58;38 PM EDT
To&#58; OSG GOC Mail &#60;goc@....&#62;
Cc&#58; Douglas Olson &#60;dlolson@....&#62;
Subject&#58; {Disarmed} Re&#58; Fwd&#58; DOEGrids CA Certificate Request

Hello Alain,
Let&#39;s open a GOC ticket and assign Anand Padmanabhan and yourself to the ticket. Anand can help you with cert scripts.
Mine
On 8/24/11 11&#58;31 AM, OSG GOC Mail wrote&#58;
Mine,

Can either you or maybe Doug address the issue in this thread?  I&#39;m not too familiar with the scripting aspect
of certificate requests.

Thanks,

-Alain Deximo

Begin forwarded message&#58;

From&#58; &#34;Ross, Justin&#34; &#60;ross@....&#62;
Date&#58; August 24, 2011 12&#58;10&#58;08 PM EDT
To&#58; Grid Operations Center &#60;goc@....&#62;, John Hover &#60;jhover@....&#62;
Cc&#58; &#34;Ernst, Michael&#34; &#60;mernst@....&#62;, &#34;osg-ra@....&#34; &#60;osg-ra@....&#62;
Subject&#58; RE&#58; DOEGrids CA Certificate Request

That is for a service cert.  I am requesting a host cert.

Justin

From&#58; Grid Operations Center [mailto&#58;goc@....]
Sent&#58; Wednesday, August 24, 2011 11&#58;06 AM
To&#58; John Hover
Cc&#58; Ross, Justin; Ernst, Michael; osg-ra@....
<div id='show_1521867504' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1521867504'>Subject&#58; Re&#58; DOEGrids CA Certificate Request

Justin,

You are missing the host and service flags.

See an example here&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates#Request_a_Service_Certificate' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates#Request_a_Service_Certificate</a>

Thank you,
Elizabeth

On Aug 24, 2011, at 11&#58;55 AM, John Hover wrote&#58;

Hi Justin,

Sorry I missed your message earlier. I&#39;ve CCed the osg-ra address mentioned as the current maintainers of the OSG cert scripts. Hopefully they can comment as well. Ultimately, they may need to address any bugs involved here.

For my part&#58;

First, are you definitely running as root in every case? I&#39;ve seen several scripts that change their behavior based on UID.

Second, try explicitly using &#39;--dir /etc/grid-security/&#39; for the initial request. Even though you are using &#39;-ou s&#39;, maybe that logic is faulty. And use &#39;--debug&#39; and store the output.

Third, try explicity using --dir and --prefix switches to cert-retrieve. Again, maybe the logic is somehow faulty. And again, try --debug and store the output for later study.

Fourth, if you are sure you have the right private key, you can always cut-and-paste the &#34;Base 64 encoded certificate&#34; to the desired filename (hostcert.pem). Then make sure cert and key are both owned and readable only by user root (not group or other readable).

But as you say, if it really is only the hostname  that is different between the requests that work and the ones that don&#39;t, there must be some error in the processing happening at DOEgrids. Is the hpc.smu.edu domain identical between all the hosts you&#39;ve made requests for?

Cheers,

--john

On 08/18/2011 11&#58;47 AM, Ross, Justin wrote&#58;

John,

Hello.

I am requesting a host certificate for my SE.  When I request it I
use the command&#58; cert-request -ou s -dir . -label
smuosgse.hpc.smu.edu.  Same command I used for the gums server and
the CE.  I have not had any problems with the gums server or the CE,
actually it was for two CEs.

For the SE when I run the cert-retrieve command it always ends up
being placed in ~/.globus/usercert.pem and userkey.pem and openssl
just says it can&#39;t open the cert.  Every other cert ended up as
hostcert.pem and hostkey.pem.  I have actually tried this request
from two different machines, I figured that possibly the cert-request
or cert-retrieve scripts were corrupted on the one host.  But I get
the exact same behavior on both systems when I request the cert for
smuosgse.hpc.smu.edu.

The last request was request is attached below.  Am I doing something
wrong?  I am stumped.

Thanks, Justin

-----Original Message----- From&#58; Ernst, Michael
[mailto&#58;mernst@....] Sent&#58; Thursday, August 18, 2011 10&#58;40 AM To&#58;
Ross, Justin; Hover, John Subject&#58; RE&#58; DOEGrids CA Certificate
Request

Justin, John is not doing certs but I&#39;m sure he can assist you.

-- Michael

-----Original Message----- From&#58; Ross, Justin [mailto&#58;ross@....]
Sent&#58; Thursday, August 18, 2011 11&#58;36 AM To&#58; Ernst, Michael Subject&#58;
FW&#58; DOEGrids CA Certificate Request

Michael,

Can you point me to the person who is doing the certs.  I am really
at a loss for this certificate.  I have requested it a few times and
it continually comes back as a user cert not a host cert.  It is also
always corrupt.  I have tried from multiple machines to request this
cert.  I am sure I am doing something wrong, but I am just spinning
my wheels currently.

Thanks for any help.

Justin

-----Original Message----- From&#58; DOEGrids-CA-1@....
[mailto&#58;DOEGrids-CA-1@....] Sent&#58; Thursday, August 18, 2011
8&#58;49 AM To&#58; Ross, Justin Subject&#58; DOEGrids CA Certificate Request

Your Service/Host certificate request has been processed
successfully. SubjectDN=
CN=smuosgse.hpc.smu.edu,OU=Services,DC=doegrids,DC=org notAfter= Aug
17, 2012 6&#58;48&#58;55 AM notBefore= Aug 18, 2011 6&#58;48&#58;55 AM Serial Number=
0xe8ab

Complete details can be found here&#58;
MailScanner has detected a possible fraud attempt from &#34;pki1.doegrids.org&#58;443&#34; claiming to be <a href='https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialN' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org&#58;443/displayBySerial?op=displayBySerial&serialN</a>

umber=59563

Your certificate requested using the script interface, request id&#58;
75956, has been approved and is available for download.  To retrieve
your certificate, execute the command below using the same working
directory from which the request was made.

# cert-retrieve -serialnum 59563

If you requested the certificate with optional parameters specifying
labelling or a non-standard directory for storing your certificate
see the cert-retrieve and cert-request man pages for additional
explanation. # cert-retrieve -help # cert-request -help

--
John Hover
Group Leader | Grid Group/Experiment Services
RHIC/ATLAS Computing Facility | Brookhaven National Laboratory
jhover@.... | 631-344-5828 | <a href='http&#58;//www.racf.bnl.gov/Members/jhover' target='_blank' rel='nofollow'>http&#58;//www.racf.bnl.gov/Members/jhover</a>
</div><script type='text/javascript'>
        $('#show_1521867504').click(function() {
            $('#detail_1521867504').slideDown("normal");
            $('#show_1521867504').hide();
            $('#hide_1521867504').show();
        });
        $('#hide_1521867504').click(function() {
            $('#detail_1521867504').slideUp();
            $('#hide_1521867504').hide();
            $('#show_1521867504').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10911">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
