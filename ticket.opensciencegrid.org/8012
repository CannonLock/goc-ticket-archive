<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[8012] Deploy Debian CA distribution and allow LIGO testing</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=8012" method="post">
<div class="page-header">
    <h3><span class="muted">8012</span> / Deploy Debian CA distribution and allow LIGO testing</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Doug Olson</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Assess ticket/determine next action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-02-15</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/8012", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/8012?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/8012?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Deploy%20Debian%20CA%20distribution%20and%20allow%20LIGO%20testing%20ISSUE%3D8012%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='8012#1266335410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-16T15:50:10+00:00">Feb 16, 2010 03:50 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1266335410">&nbsp;</a></div><pre>Just an update. I tested the instruction and package from
software.grid.iu.edu and communicated the changes to the instruction
offline to Arvind. I believe we should be ready to announce the Debian repo.

Thanks
Anand
On 02/16/2010 09&#58;13 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1266334254'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-16T15:30:54+00:00">Feb 16, 2010 03:30 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1266334254">&nbsp;</a></div><pre>Anand has confirmed the Debian instructions on software.grid.iu.edu home page are accurate. (He suggested a minor change which we immediately put in place). I am closing this ticket. If Rob or Chander want to re-open it they can request that.

Thanks again to Anand, Dave, Tim C, Scott for all their help with figuring out the deployment steps, and/or testing!

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1266333207'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-16T15:13:27+00:00">Feb 16, 2010 03:13 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1266333207">&nbsp;</a></div><pre>After I sent my previous note <a href='8012.html#1266324690' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=8012#1266324690</a>

... I found out Doug had requested GOC to install CA dist 1.12 via <a href='8126.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=8126</a>

This has been done, and E/Rob are working towards notifying the community.

IMPORTANT&#58; Doug/Anand, please confirm the Debian instructions on <a href='http&#58;//software.grid.iu.edu/' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/</a> are appropriate before we announce the Debian repo as an available service.

Once I get the confirmation, I will close out this ticket.

-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1266324690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-16T12:51:30+00:00">Feb 16, 2010 12:51 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1266324690">&nbsp;</a></div><pre>Hi Doug/Rob,

1) Should we go ahead and deploy the Debian repo on the production software cache?
2) Should we go ahead and deploy 1.11 on the production software cache?

Thanks,
-ag

PS&#58; Thanks for testing, Scott! We will proceed with further action based on Doug and Rob&#39;s decision.</pre></div><div class='update_description'><i onclick="document.location='8012#1266300848'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-16T06:14:08+00:00">Feb 16, 2010 06:14 AM UTC</time> by <b>scott koranda</b><a class="anchor" name="1266300848">&nbsp;</a></div><pre>Hi,

After adding the ITB cache and doing &#39;apt-get update&#39; I then
did &#39;apt-get install osg-ca-certs&#39; and everything worked
perfectly.

Thanks,

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1266263947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-15T19:59:07+00:00">Feb 15, 2010 07:59 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1266263947">&nbsp;</a></div><pre>Scott,

I believe you need to use the ITB cache for the tests

deb <a href='http&#58;//software-itb.grid.iu.edu/apt' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt</a> stable main

Thanks
Anand

On 02/15/2010 01&#58;47 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1266263227'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-15T19:47:07+00:00">Feb 15, 2010 07:47 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1266263227">&nbsp;</a></div><pre>Hi,

Sorry, I am still having trouble&#58;

skoranda@garlic&#58;~$ sudo apt-key add ./osg-goc-gpg-pubkey.asc
OK
skoranda@garlic&#58;~$ sudo apt-get install osg-ca-certs
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages were automatically installed and are no
longer required&#58;
libgnome-bluetooth7 obexd-client obex-data-server
mobile-broadband-provider-info gnome-bluetooth libopenobex1
Use &#39;apt-get autoremove&#39; to remove them.
The following NEW packages will be installed&#58;
osg-ca-certs
0 upgraded, 1 newly installed, 0 to remove and 8 not upgraded.
Need to get 127kB of archives.
After this operation, 0B of additional disk space will be
used.
WARNING&#58; The following packages cannot be authenticated!
osg-ca-certs
Install these packages without verification [y/N]?

This is what I have in my sources&#58;

deb <a href='http&#58;//software.grid.iu.edu/apt' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/apt</a> stable main

And of course I did &#39;apt-get update&#39; first.

Any ideas?

Scott

<div id='show_1828540849' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1828540849'><font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1828540849').click(function() {
            $('#detail_1828540849').slideDown("normal");
            $('#show_1828540849').hide();
            $('#hide_1828540849').show();
        });
        $('#hide_1828540849').click(function() {
            $('#detail_1828540849').slideUp();
            $('#hide_1828540849').hide();
            $('#show_1828540849').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='8012#1266262079'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-15T19:27:59+00:00">Feb 15, 2010 07:27 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1266262079">&nbsp;</a></div><pre>I am really sorry Scott, this was my oversight. The file is there now. Please try again. --ag</pre></div><div class='update_description'><i onclick="document.location='8012#1266261787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-15T19:23:07+00:00">Feb 15, 2010 07:23 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1266261787">&nbsp;</a></div><pre>Hi,

I cannot get the GPG key&#58;

skoranda@garlic&#58;~$ wget <a href='http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc</a>
--2010-02-15 13&#58;22&#58;11-- <a href='http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc</a>
Resolving software-itb.grid.iu.edu... 129.79.14.173
Connecting to software-itb.grid.iu.edu|129.79.14.173|&#58;80...
connected.
HTTP request sent, awaiting response... 404 Not Found
2010-02-15 13&#58;22&#58;11 ERROR 404&#58; Not Found.

What is the correct URL for the key?

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1266020770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-13T00:26:10+00:00">Feb 13, 2010 12:26 AM UTC</time> by <b>scott koranda</b><a class="anchor" name="1266020770">&nbsp;</a></div><pre>Hi,

I am on vacation this week. I will do some testing next week.

Thanks,

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1266005558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-12T20:12:38+00:00">Feb 12, 2010 08:12 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1266005558">&nbsp;</a></div><pre>Scott,

Have you had a chance to test the updated Debian repo per <a href='8012.html#1265912704' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=8012#1265912704</a> ?

-ag

Ticket-meta -- adding Tim to ticket.</pre></div><div class='update_description'><i onclick="document.location='8012#1265912767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-11T18:26:07+00:00">Feb 11, 2010 06:26 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1265912767">&nbsp;</a></div><pre>Hi Arvind,

I tested the apt repository it works as expected. As for your questions
here is what my thought

Yes the middle column is the filesize. In short the Release file you are
currently generating appears correct.

a. b. As long as the sites know where to get the key from it should be
fine. I think putting the public key on well known servers like MIT
server will make it easier for the sites to find it.

c.We already tested and it seems to need uncompressed packages file.

I think it is ready for testing by Scot now.

Thanks
Anand
On 02/11/2010 09&#58;27 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1265912704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-11T18:25:04+00:00">Feb 11, 2010 06:25 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265912704">&nbsp;</a></div><pre>Scott,

Anand confirmed via IM that things seem to work. Can you please verify now?

You can get the GPG key here&#58;
<a href='http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc</a>

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1265902029'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-11T15:27:09+00:00">Feb 11, 2010 03:27 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265902029">&nbsp;</a></div><pre>Hi Anand,

I&#39;ve deployed the Release file with the new format, and gpg-signed it using a new GPG key I generated for the GOC. I assume you had file size as the middle column value in those generated lines in the Release file. For example,
8874b7332ccacba8d8a2052414d0085e 302 main/binary-amd64/Packages.gz

Presumably, you had a space at the beginning of the line, the MD5sum, the filesize in bytes, and the file name including relative path -- please confirm!

You can get the GPG key here&#58;
<a href='http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/osg-goc-gpg-pubkey.asc</a>

Other Questions&#58;

a) Is the above location a good place for the GOC GPG key? Should I perhaps place it at a location such as <a href='http&#58;//software-itb.grid.iu.edu/misc/osg-goc-gpg-pubkey.asc' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/misc/osg-goc-gpg-pubkey.asc</a> ?

b) Presumably you&#39;d want me to upload the public key to the MIT server? Let me know

c) I noticed in your test debian directory the Packages.gz file was also present in unpacked form, is this necessary? I&#39;ve placed both gziped and decompressed files but will remove the decompressed one if you confirm it is not necessary

Let me know how this goes, and perhaps we can get Scott to test at that point.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1265818987'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-10T16:23:07+00:00">Feb 10, 2010 04:23 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1265818987">&nbsp;</a></div><pre>Hi Arvind,

Here are the changes that GOC will have to make in your process

1. Create the Release file following a different format (look at the
release file in <a href='http&#58;//software-itb.grid.iu.edu/apt/dists/stable/Release' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/dists/stable/Release</a>
for example). This should be quite straight forward.

2. Place the Release file in the head directory. (This will be
/usr/local/software-cache/debian-repo/dists/stable on the ITB apt
repository machine)

3. Sign the Release file with the GOC&#39;s pgp key. The command you use
will look like.
gpg --default-key=GOC_PGP_KEY -abs -o Release.gpg Release
You should place the Release.gog in the same dir as the Release file.
(e.g. <a href='http&#58;//software-itb.grid.iu.edu/apt/dists/stable/Release.gpg' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/dists/stable/Release.gpg</a>)

Let me know if you have questions.

Thanks
Anand
On 02/09/2010 07&#58;03 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1265720593'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-09T13:03:13+00:00">Feb 9, 2010 01:03 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265720593">&nbsp;</a></div><pre>Anand,

Please let us know what steps need to be added, and we could do that within a day or two.

-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1265666887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-08T22:08:07+00:00">Feb 8, 2010 10:08 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1265666887">&nbsp;</a></div><pre>Just wanted to update this ticked. With Dave&#39;s help we have figured out
the changes we need to do in order to accomplish the signing. I have
manually signed the Releases file in the ITB apt repository and it
appears to work without any problems. It would be great if Doug/Arvind
or someone else to could independently verify.

We need to work with Arvind and GOC to incorporate these steps in the
automation process.

Thanks
Anand

On 02/08/2010 09&#58;25 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1265642710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-08T15:25:10+00:00">Feb 8, 2010 03:25 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265642710">&nbsp;</a></div><pre>Doug/Anand,

Please let us know when this is all set.

-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1265391072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-05T17:31:12+00:00">Feb 5, 2010 05:31 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265391072">&nbsp;</a></div><pre>Anand is still testing this, and making changes to make it work with the help of Dave Dykstra (of FNAL). We will check back on Monday to see where we are.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1265133548'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-02T17:59:08+00:00">Feb 2, 2010 05:59 PM UTC</time> by <b>CIGI</b><a class="anchor" name="1265133548">&nbsp;</a></div><pre>Arvind, Doug,

I concur, I also saw the same warning.

The same is true if i try to get the vdt-ca-certificates package from
the VDT repository (deb <a href='http&#58;//vdt.cs.wisc.edu/debian/apt/' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/debian/apt/</a> cacerts main).

I don&#39;t have a clue as to what the problem might be, I will try to
investigate further, but it would be great if we can bring in a Debian
expert into the discussion. Do you guys have any thoughts or ideas.

Thanks
Anand
On 02/02/2010 11&#58;47 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1265132828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-02T17:47:08+00:00">Feb 2, 2010 05:47 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1265132828">&nbsp;</a></div><pre>Hi,

I still get the authentication warning, even after adding the
key&#58;

ginger&#58;~# apt-key add osg-security-pubkey.asc
OK
ginger&#58;~# apt-get install osg-ca-certs
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages were automatically installed and are no
longer required&#58;
libnet-daemon-perl libdbi-perl libdbd-mysql-perl
libplrpc-perl monit mysql-server-5.0
mysql-client-5.0
Use &#39;apt-get autoremove&#39; to remove them.
The following NEW packages will be installed&#58;
osg-ca-certs
0 upgraded, 1 newly installed, 0 to remove and 29 not
upgraded.
Need to get 128kB of archives.
After this operation, 0B of additional disk space will
be used.
WARNING&#58; The following packages cannot be authenticated!
osg-ca-certs

I did an &#39;apt-get update&#39; just to be sure, but it did not
help.

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1265119223'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-02T14:00:23+00:00">Feb 2, 2010 02:00 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265119223">&nbsp;</a></div><pre>Scott,

Please test against the following repo (different from the production one you tested against last week)&#58;

<a href='http&#58;//software-itb.grid.iu.edu/apt/' target='_blank' rel='nofollow'>http&#58;//software-itb.grid.iu.edu/apt/</a>

This contains the new .deb file provided by Doug yesterday.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1265049487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T18:38:07+00:00">Feb 1, 2010 06:38 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1265049487">&nbsp;</a></div><pre>Repeating what I said on the phone, I prefer that the apt repository
delivery can be tested before announcing the new CA package.
After getting a positive test of the apt repo I will send the usual
new CA package notice to the GOC for release of the CA distribution 1.11.
Thanks.
Doug

On 2/1/2010 5&#58;31 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1265031102'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T13:31:42+00:00">Feb 1, 2010 01:31 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1265031102">&nbsp;</a></div><pre>Doug,

Should we release CADIST 1.11 and announce it? Our installation methods are scripted, so I&#39;d prefer not to install just the 1.11 Debian package using manual hackery/

<font color='#7F7E6F'>&#62; apt repo page</font>

I already have it ready but did not deploy it till our testing was complete, and we are ready to announce its availability.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1264810446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-30T00:14:06+00:00">Jan 30, 2010 12:14 AM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1264810446">&nbsp;</a></div><pre>So I made it as a whole new release of the CA package, 1.11,
signed with the new PGP key.
We will need an apt repo information page like the one for
yum at <a href='http&#58;//yum.grid.iu.edu/' target='_blank' rel='nofollow'>http&#58;//yum.grid.iu.edu/</a>
Thanks,
Doug

On 1/29/2010 12&#58;11 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1264795869'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T20:11:09+00:00">Jan 29, 2010 08:11 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1264795869">&nbsp;</a></div><pre>Hi,

Thanks. I downloaded the key and added it.

Doug, when the deb package is properly signed and in place in
the repository let me know and I am happy to test it again.

Cheers,

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1264795327'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T20:02:07+00:00">Jan 29, 2010 08:02 PM UTC</time> by <b>Anand Padmanabhan</b><a class="anchor" name="1264795327">&nbsp;</a></div><pre>Hi Scot, Arvind,

I think there are a couple of things we need to consider to start with.

1. Is the security teams key recognized by apt. You can import the ket
by downloading the public key from
<a href='https&#58;//twiki.grid.iu.edu/twiki/pub/Security/SecurityTeamMembers/osg-security-pubkey.asc' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/pub/Security/SecurityTeamMembers/osg-security-pubkey.asc</a>
and running
% sudo apt-key add &#60;file_name&#62;

2. The security teams PGP was changed yesterday, so the key used to sign
the package is no longer valid. Doug could you please generate a new deb
package and sign it with our new key and Arvind can publish the new
files instead.

We will have to dig deeper if these steps do not fix the problem.

Thanks
Anand
On 01/29/2010 12&#58;19 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1264789197'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T18:19:57+00:00">Jan 29, 2010 06:19 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1264789197">&nbsp;</a></div><pre>Adding Anand to ticket. We are told that the deb package is already signed by the security team so perhaps some thing did not get done right but I will let them confirm that.

Anand/Doug, can you respond to Scott?

-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1264789027'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T18:17:07+00:00">Jan 29, 2010 06:17 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1264789027">&nbsp;</a></div><pre>Hi,

I added this line to my repo list&#58;

deb <a href='http&#58;//software.grid.iu.edu/apt' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/apt</a> stable main

Then I did

apt-get update
apt-get install osg-ca-certs

Everything worked fine.

The only issue is that your repository packages are not
signed, and so a user sees this&#58;

WARNING&#58; The following packages cannot be authenticated!
osg-ca-certs
Install these packages without verification [y/N]? y

So the next step is to get yourself setup for signing the
Debian package, and then make the public key available for
download.

Users would only install/download that key once. After that
they then &#34;trust&#34; packages signed by your repository key.

(or maybe you did sign the package, but I don&#39;t have the key
yet...)

Cheers,

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1264788846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T18:14:06+00:00">Jan 29, 2010 06:14 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1264788846">&nbsp;</a></div><pre>Hi,

I will...but you need a better ticket system...

Scott

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1264788501'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T18:08:21+00:00">Jan 29, 2010 06:08 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1264788501">&nbsp;</a></div><pre>Scott,

it appears as though you responded to this ticket&#39;s email but did not heed the warning to reply above a certain point (or you could remove it )

&#34;When replying, type your text above this line.?&#34;

... either way we got a blank response, can you please resend your response?

-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1264788307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T18:05:07+00:00">Jan 29, 2010 06:05 PM UTC</time> by <b>scott koranda</b><a class="anchor" name="1264788307">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8012#1264784568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T17:02:48+00:00">Jan 29, 2010 05:02 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1264784568">&nbsp;</a></div><pre>Hi Scott Koranda,

The debian repo at the GOC is ready for you to test. Please add <a href='http&#58;//software.grid.iu.edu/apt/' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/apt/</a> to your repo list. (In our tests, this amounted to adding a line &#34;deb <a href='http&#58;//software.grid.iu.edu/apt/' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/apt/</a> stable main&#34; to /etc/apt/sources.list). The package name is osg-ca-certs.

If you don&#39;t mind, please acknowledge the receipt of this ticket email so we know you are on the case, and then when you have time, please test the repository by trying to get the OSG CA certs package. Once you report this works, we will announce the availability of the Debian repository to the rest of the OSG. Thanks!

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1264784377'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T16:59:37+00:00">Jan 29, 2010 04:59 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1264784377">&nbsp;</a></div><pre>Created internal JIRA ticket SOFT-2 for GOC&#39;s own purposes.

Copying and pasting content here; most of this is&#58;

-- Summarization of a long email thread

1) We are using a (very slightly modified version of the) script written by Anand of security team that builds the required tools for making a Debian package on a RHEL machine. The original script lives in <a href='http&#58;//osg-svn.rtinfo.indiana.edu/cadist/trunk/CA-Certificates-Base/' target='_blank' rel='nofollow'>http&#58;//osg-svn.rtinfo.indiana.edu/cadist/trunk/CA-Certificates-Base/</a> and is called &#34;build-debian-tools&#34;. We will offer to check in the modified version (to the security team).

-- [Relevant only to GOC]&#58; the GOC modified version was used to build the debian-tools package (with some additional prerequisites&#58; g++, ncurses-devel installed on the VM), and then this whole built package has been added to the software-cache install script.
-- The package has been retroactively deployed on software1 and software2, following our testing on software-itb.

2) We have modified the software-cache install script to additionally pull the .deb file that the security team will place in the SVN releases directory, and to build a debian repo based on that file
-- Retroactively deployed on software1 and software2, following our testing on software-itb.; and CA dist 1.10 re-released

3) Unrelated&#58; The install and install-latest-cache scripts have also been modified to sync contents of the caches between the two mirror servers -- see <a href='http&#58;//jira.grid.iu.edu/browse/SOFT-1' target='_blank' rel='nofollow'>http&#58;//jira.grid.iu.edu/browse/SOFT-1</a>
-- Retroactively deployed on software1 and software2, following our testing on software-itb.; and tested again when OSG 1.2.6 was released - works fine.

4) Apache config modified to respond to <a href='http&#58;//software.grid.iu.edu/yum' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/yum</a> and <a href='http&#58;//software.grid.iu.edu/apt' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/apt</a>
-- Retroactively deployed on software1 and software2, following our testing on software-itb.;

NOTE&#58; The OSG security team is using a modified version of a script written by Tim Cartwright of VDT to generate the .deb file based on their existing CA package&#39;s contents. This lives here&#58; <a href='http&#58;//osg-svn.rtinfo.indiana.edu/cadist/trunk/CA-Certificates-Base/make-deb' target='_blank' rel='nofollow'>http&#58;//osg-svn.rtinfo.indiana.edu/cadist/trunk/CA-Certificates-Base/make-deb</a></pre></div><div class='update_description'><i onclick="document.location='8012#1264780791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-29T15:59:51+00:00">Jan 29, 2010 03:59 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1264780791">&nbsp;</a></div><pre>Adding Chander to ticket (and modifying ticket subject to be more accurate).

I will copy some relevant snippets from a very long email thread discussing this later this afternoon, around when I hope Scott K will be able to test against a GOC Debian repo.

-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1264706626'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-28T19:23:46+00:00">Jan 28, 2010 07:23 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1264706626">&nbsp;</a></div><pre>We&#39;ve are at the stage of doing some internal testing within OSG. This should be available shortly for Scott to start testing.</pre></div><div class='update_description'><i onclick="document.location='8012#1264516889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-26T14:41:29+00:00">Jan 26, 2010 02:41 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1264516889">&nbsp;</a></div><pre>Scott [cc&#39;ed on ticket],

We are hoping to setup the APT repo at the GOC this week. Stay tuned.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='8012#1264441459'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-25T17:44:19+00:00">Jan 25, 2010 05:44 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1264441459">&nbsp;</a></div><pre>-------- Original Message --------
Subject&#58; 	Re&#58; [Fwd&#58; test Debian CA package file?]
Date&#58; 	Mon, 25 Jan 2010 09&#58;42&#58;55 -0800
From&#58; 	Doug Olson &#60;DLOlson@....&#62;
To&#58; 	Scott Koranda &#60;skoranda@....&#62;
CC&#58; 	DLOlson@....
References&#58; 	&#60;4B5A117E.9030201@....&#62; &#60;20100122210029.GE19113@....&#62; &#60;4B5A383C.1000800@....&#62; &#60;20100125002435.GD5527@....&#62;

Thanks Scott.  The GOC is setting up the apt
repository.  We&#39;ll let you know when that is ready to test.
Doug</pre></div><div class='update_description'><i onclick="document.location='8012#1264441251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-25T17:40:51+00:00">Jan 25, 2010 05:40 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1264441251">&nbsp;</a></div><pre>Note from Scott Koranda on the debian package file, it works.

-------- Original Message --------
Subject&#58; 	Re&#58; [Fwd&#58; test Debian CA package file?]
Date&#58; 	Sun, 24 Jan 2010 18&#58;24&#58;35 -0600
From&#58; 	Scott Koranda &#60;skoranda@....&#62;
To&#58; 	Doug Olson &#60;DLOlson@....&#62;
References&#58; 	&#60;4B5A117E.9030201@....&#62; &#60;20100122210029.GE19113@....&#62; &#60;4B5A383C.1000800@....&#62;

Hi Doug,

The .deb package installed just fine for me on both Debian
Lenny and Debian Squeeze.

Cheers,

Scott</pre></div><div class='update_description'><i onclick="document.location='8012#1264207178'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-23T00:39:38+00:00">Jan 23, 2010 12:39 AM UTC</time> by <b>Justin Carlton</b><a class="anchor" name="1264207178">&nbsp;</a></div><pre>From&#58; Doug Olson &#60;dlolson@....&#62;
To&#58; OSG GOC &#60;goc@....&#62;
cc&#58; dlolson@....,
&#34;osg-security-team@....&#34; &#60;osg-security-team@....&#62;
Subject&#58; test Debian CA package
Date-Sent&#58; Friday, January 22, 2010 4&#58;03 PM -0800

I checked into svn the test Debian CA package file&#58;
cadist/release/osg-ca-certs-1.10.deb-0.deb

Can someone copy it to <a href='http&#58;//software.grid.iu.edu/pacman/cadist/' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/cadist/</a>
so other people can test it, until you set up the apt repository?
Thanks,
Doug</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F8012">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 8012});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
