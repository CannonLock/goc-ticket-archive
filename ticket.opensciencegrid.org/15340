<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[15340] [sr #137340] T2_US_Caltech squid upgrade</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=15340" method="post">
<div class="page-header">
    <h3><span class="muted">15340</span> / [sr #137340] T2_US_Caltech squid upgrade</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">noreply [Luis</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">noreply [Luis Emiro Linares Garcia]</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier2</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">watch savannah</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-07-04</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS Tier 2 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=94404">94404</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=15340", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/15340?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/15340?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20%5Bsr%20%23137340%5D%20T2_US_Caltech%20squid%20upgrade%20ISSUE%3D15340%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='15340#1373932803'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-16T00:00:03+00:00">Jul 16, 2013 12:00 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1373932803">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by SYSTEM at Mon Jul 15 23&#58;59&#58;07 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1372688188'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-01T14:16:28+00:00">Jul 1, 2013 02:16 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1372688188">&nbsp;</a></div><pre>Hi Samir,

Yes, let&#39;s close this ticket.

Best,
Luis

-- by Luis Emiro Linares Garcia at Mon Jul 01 14&#58;15&#58;47 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1372687105'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-01T13:58:25+00:00">Jul 1, 2013 01:58 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1372687105">&nbsp;</a></div><pre>Not sure if I updated Savannah only. All this is done, can we close the ticket?

-- by samir.cury.siqueira at Mon Jul 01 13&#58;57&#58;28 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1372342467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T14:14:27+00:00">Jun 27, 2013 02:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1372342467">&nbsp;</a></div><pre>Hi Samir,

I have been able to test successfully both cithep250 and cit-se. The T3 squid, t3-remote.ultralight.org&#58;3401, is still pending.

Thanks,
Luis

-- by Luis Emiro Linares Garcia at Thu Jun 27 14&#58;13&#58;31 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1372340241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T13:37:21+00:00">Jun 27, 2013 01:37 PM UTC</time><a class="anchor" name="1372340241">&nbsp;</a></div><pre>Hi Luis,

Ok, we can proceed to full migration now, I redeployed the second production server and everything is back to what it was previously since the commit &#58;

commit e3e7d42710bfb957afbf1dce26a656b028c1a5ad
Author&#58; Samir Cury &#60;samir@....&#62;
Date&#58;   Thu Jun 27 15&#58;30&#58;11 2013 +0200

reverting to production frontier servers

Which will take a few hours to take effect though -- GIT -&#62; CVMFS (1h) + CVMFS -&#62;  Site (1~2h)

You can test the second server with the name cithep250.ultralight.org or cit-se.ultralight.org. I can&#39;t test the monitoring port with your command, as it seems something from the frontier toolkit.

Good news is that I already see 1 server being monitored at &#58;
<a href='http&#58;//wlcg-squid-monitor.cern.ch/snmpstats/indexcms.html' target='_blank' rel='nofollow'>http&#58;//wlcg-squid-monitor.cern.ch/snmpstats/indexcms.html</a>

Hopefully the second soon.

If this is related to the T2 squid and all is done, please close the ticket. I will follow up the T3 upgrade now, in the Savannah ticket.

Cheers,
Samir

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=samir/CN=695732/CN=Samir Cury Siqueira</pre></div><div class='update_description'><i onclick="document.location='15340#1372338435'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T13:07:15+00:00">Jun 27, 2013 01:07 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1372338435">&nbsp;</a></div><pre>To show a bit of polling output from wlg-squid-monitor&#58;

$ squidsnmpwalk cithep196.ultralight.org&#58;3401
SQUID-MIB&#58;&#58;cacheSysVMsize.0 = INTEGER&#58; 56120
SQUID-MIB&#58;&#58;cacheSysStorage.0 = INTEGER&#58; 401532
SQUID-MIB&#58;&#58;cacheUptime.0 = Timeticks&#58; (8233414) 22&#58;52&#58;14.14
SQUID-MIB&#58;&#58;cacheAdmin.0 = STRING&#58; squid
SQUID-MIB&#58;&#58;cacheSoftware.0 = STRING&#58; squid
SQUID-MIB&#58;&#58;cacheVersionId.0 = STRING&#58; &#34;frontier-squid-2.7.STABLE9-16.1.osg.el6&#34;
... and it goes on.

Cheers,
Luis

-- by Luis Emiro Linares Garcia at Thu Jun 27 13&#58;06&#58;38 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1372338377'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T13:06:17+00:00">Jun 27, 2013 01:06 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1372338377">&nbsp;</a></div><pre>Hi Samir,
The wlcg-squid-monitor machines can poll cithep196 fine.

The change in the monitoring is not automatic. I&#39;ll proceed to add your squid to the monitor once I see it listed in the site-local-config.xml, as that is what puts it in production. Currently your site-local-config is,
&#60;frontier-connect&#62;
&#60;load balance=&#34;proxies&#34;/&#62;
&#60;proxy url=&#34;http&#58;//10.3.10.36&#58;3128&#34;/&#62;
&#60;server url=&#34;<a href='http&#58;//cmsfrontier.cern.ch&#58;8000/FrontierInt&#34' target='_blank' rel='nofollow'>http&#58;//cmsfrontier.cern.ch&#58;8000/FrontierInt&#34</a>;/&#62;
&#60;server url=&#34;<a href='http&#58;//cmsfrontier1.cern.ch&#58;8000/FrontierInt&#34' target='_blank' rel='nofollow'>http&#58;//cmsfrontier1.cern.ch&#58;8000/FrontierInt&#34</a>;/&#62;
&#60;server url=&#34;<a href='http&#58;//cmsfrontier2.cern.ch&#58;8000/FrontierInt&#34' target='_blank' rel='nofollow'>http&#58;//cmsfrontier2.cern.ch&#58;8000/FrontierInt&#34</a>;/&#62;
&#60;server url=&#34;<a href='http&#58;//cmsfrontier3.cern.ch&#58;8000/FrontierInt&#34' target='_blank' rel='nofollow'>http&#58;//cmsfrontier3.cern.ch&#58;8000/FrontierInt&#34</a>;/&#62;
&#60;/frontier-connect&#62;
Is that a DNS? It doesn&#39;t seem to match cithep196.

Cheers,
Luis

-- by Luis Emiro Linares Garcia at Thu Jun 27 13&#58;05&#58;22 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1372337856'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T12:57:36+00:00">Jun 27, 2013 12:57 PM UTC</time><a class="anchor" name="1372337856">&nbsp;</a></div><pre>Hi Luis,

cithep196.ultralight.org is redeployed with the latest version and working. UDP port 3104 should be accessible for monitoring, however I can&#39;t think of a way to test it. Could you test it and report back?

I&#39;m guessing that you don&#39;t need a site-local-config.xml change for that. Let me know.

Thanks,
Samir

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=samir/CN=695732/CN=Samir Cury Siqueira</pre></div><div class='update_description'><i onclick="document.location='15340#1372335567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T12:19:27+00:00">Jun 27, 2013 12:19 PM UTC</time><a class="anchor" name="1372335567">&nbsp;</a></div><pre>Hi Luis,

I&#39;m not sure if the change in the monitoring is automatic or not. I&#39;m using the temporary server (cithep196) for 2h now (changed site-local-config) and I don&#39;t see any change in the monitoring.

If the update is manual please wait me to migrate the production servers so we can point to them.

Cheers,
Samir

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=samir/CN=695732/CN=Samir Cury Siqueira</pre></div><div class='update_description'><i onclick="document.location='15340#1372259509'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-26T15:11:49+00:00">Jun 26, 2013 03:11 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1372259509">&nbsp;</a></div><pre>Hi Samir,

I can confirm the WLCG squid monitoring machines can poll cithep196 correctly. Now, we currently we have registered two T2 squids&#58; cithep249 and cit-squid. I see that your site-local-config is pointing to them, so I would say please go ahead and complete the upgrade and change site-local-config accordingly, and then we will update the monitoring info.

Thanks,
Luis

-- by Luis Emiro Linares Garcia at Wed Jun 26 15&#58;11&#58;11 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1371801125'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-21T07:52:05+00:00">Jun 21, 2013 07:52 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1371801125">&nbsp;</a></div><pre>Hi Samir,

The oldfrontier.cern.ch service will be decommissioned on June 30th. I encourage you to perform the upgrade next week so we can be sure your squids respond to the wlcg-squid-monitor.cern.ch service.

Thanks,
Luis

-- by Luis Emiro Linares Garcia at Fri Jun 21 07&#58;51&#58;36 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1371730781'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-20T12:19:41+00:00">Jun 20, 2013 12:19 PM UTC</time><a class="anchor" name="1371730781">&nbsp;</a></div><pre>Hi Luis,

What is the exact decommissioning date? I had to work on some unexpected emergencies that compromise the site availability, but fortunately we&#39;re close to start working on that. My plan is to execute the upgrade next week.

Thanks,
Samir

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=samir/CN=695732/CN=Samir Cury Siqueira</pre></div><div class='update_description'><i onclick="document.location='15340#1371650167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-19T13:56:07+00:00">Jun 19, 2013 01:56 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1371650167">&nbsp;</a></div><pre>Hi Samir,

Your squids are responding to the oldfrontier.cern.ch service, which will be decomissioned at the end of this month. Once this happens, we won&#39;t have any record of your squid&#39;s health, and this is not acceptable. Now in the middle of June, if I don&#39;t remember bad, is your scheduled time to perform the upgrade, so I ask you to please proceed as soon as you get the chance.

Best regards,
Luis

-- by Luis Emiro Linares Garcia at Mon Jun 17 11&#58;34&#58;03 UTC 2013

Dear Luis,
Can you please reply to update#2 of this ticket?
Thanks.
GGUS ticket monitoring
Changed CC to luis.linares@....

-- by Guenter Grein at Mon Jun 17 11&#58;16&#58;49 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1371650151'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-19T13:55:51+00:00">Jun 19, 2013 01:55 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1371650151">&nbsp;</a></div><pre>Touching this ticket to sync it.</pre></div><div class='update_description'><i onclick="document.location='15340#1371214048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-14T12:47:28+00:00">Jun 14, 2013 12:47 PM UTC</time> by <b>echism</b><a class="anchor" name="1371214048">&nbsp;</a></div><pre>still on hold</pre></div><div class='update_description'><i onclick="document.location='15340#1370440822'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-05T14:00:22+00:00">Jun 5, 2013 02:00 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1370440822">&nbsp;</a></div><pre>Hi Luis,

Sorry, I was searching your reply in Savannah, not here.

So, AFAIK the consequences of not upgrading is to be missing in the monitoring for now. However, we are going through other upgrades/activities that actually affect the site&#39;s functionality. Plus, frontier has the SAM test to tell us whether it works or not (fetching conditions).

To me this is enough for now (know if it works or not) and unless there&#39;s a strong reason (functionality consequences) we will keep the priority as it is. Please let me know if there&#39;s any.

Cheers,
Samir

-- by samir.cury.siqueira at Wed Jun 05 13&#58;59&#58;18 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1369835600'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-29T13:53:20+00:00">May 29, 2013 01:53 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1369835600">&nbsp;</a></div><pre>Hi Samir,

The old squid monitoring service at frontier.cern.ch will be taken down on 4th of June. Hence, we won&#39;t have an assessment of your squids after that date if you don&#39;t do the upgrade before.

To encourage you, bear in mind the upgrade isn&#39;t disruptive (just stop, install, start), and it should be fairly straightforward with the latest RPM, as important bug fixes have been made along the way up to the current release.

Kind regards,
Luis

-- by Luis Emiro Linares Garcia at Wed May 29 13&#58;52&#58;35 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a></pre></div><div class='update_description'><i onclick="document.location='15340#1369834879'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-29T13:41:19+00:00">May 29, 2013 01:41 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1369834879">&nbsp;</a></div><pre>This is an automated notification sent by LCG Savannah.
It relates to&#58;
support #137340, project CMS Computing Infrastructure  Support

==============================================================================
LATEST MODIFICATIONS of support #137340&#58;
==============================================================================

Update of sr #137340 (project cmscompinfrasup)&#58;

Use GGUS&#58;                      No =&#62; Yes

_______________________________________________________

Follow-up Comment #1&#58;

Dear admins,

Can you please comment on your plans for performing the squid upgrade?

Kind regards,
Luis

==============================================================================
OVERVIEW of support #137340&#58;
==============================================================================

URL&#58;
&#60;<a href='http&#58;//savannah.cern.ch/support/?137340&#62' target='_blank' rel='nofollow'>http&#58;//savannah.cern.ch/support/?137340&#62</a>;

Summary&#58; T2_US_Caltech squid upgrade
Project&#58; CMS Computing Infrastructure  Support
Submitted by&#58; llinares
Submitted on&#58; 2013-05-06 14&#58;12
Category&#58; Facilities
<div id='show_1855654280' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1855654280'>Priority&#58; 5 - Normal
Severity&#58; 3 - Normal
Status&#58; None
Privacy&#58; Public
Assigned to&#58; cmscompinfrasup-t2uscaltech
Originator Email&#58;
Open/Closed&#58; Open
Discussion Lock&#58; Any
GGUS ticket url&#58;
Use GGUS&#58; Yes
Site&#58; T2_US_Caltech

_______________________________________________________

Dear admins,

In accordance with the WLCG mandate for squid monitoring, all WLCG squids
must be upgraded before the end of May, as the old monitoring machines have
been replaced. Hence, we want to remind you of the need to upgrade your squid
installation The latest frontier-squid rpm which is available at [1]. If you
prefer, a traditional frontier-squid tarball is also available
on a link from that page.  If you have not used our squid package and want to
use your own squid, at the very least, you need something like [2] in your
squid.conf.

In addition, whatever squid package you use, you should
open incoming firewall(s) and iptables to allow UDP requests
to port 3401 from 128.142.0.0/16 and 188.185.0.0/17.

At any time, you can check if your squid is listed as OK in this list [3],
which is updated every 5 minutes.

Kind regards,
Luis

[1] <a href='https&#58;//twiki.cern.ch/twiki/bin/view/Frontier/InstallSquid' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/Frontier/InstallSquid</a>
[2] squid.conf/customize.sh setting&#58;
acl HOST_MONITOR src 127.0.0.1/32 128.142.0.0/16 188.185.0.0/17
[3] <a href='http&#58;//wlcg-squid-monitor.cern.ch/squid_monitors.txt' target='_blank' rel='nofollow'>http&#58;//wlcg-squid-monitor.cern.ch/squid_monitors.txt</a>

_______________________________________________________

Follow-up Comments&#58;

-------------------------------------------------------
Date&#58; 2013-05-29 15&#58;40              By&#58; Luis Emiro Linares Garcia &#60;llinares&#62;
Dear admins,

Can you please comment on your plans for performing the squid upgrade?

Kind regards,
Luis

_______________________________________________________

Carbon-Copy List&#58;

CC Address                          | Comment
------------------------------------+-----------------------------
10071                               | -SUB-

==============================================================================

This item URL is&#58;
&#60;<a href='http&#58;//savannah.cern.ch/support/?137340&#62' target='_blank' rel='nofollow'>http&#58;//savannah.cern.ch/support/?137340&#62</a>;

_______________________________________________
Message sent via/by LCG Savannah
<a href='http&#58;//savannah.cern.ch/' target='_blank' rel='nofollow'>http&#58;//savannah.cern.ch/</a>

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=94404</a>

[Ticket History]
Problem also registered in the savannah ticket under &#39;Related issue&#39;. The responsibility to solve it is entirely transfered in this ticketSubject&#58; [sr #137340] T2_US_Caltech squid upgrade
Ticket Type&#58; SAVANNAH
CC&#58;
-- by Savannah-by-mail at Wed May 29 13&#58;40&#58;42 UTC 2013
</div><script type='text/javascript'>
        $('#show_1855654280').click(function() {
            $('#detail_1855654280').slideDown("normal");
            $('#show_1855654280').hide();
            $('#hide_1855654280').show();
        });
        $('#hide_1855654280').click(function() {
            $('#detail_1855654280').slideUp();
            $('#hide_1855654280').hide();
            $('#show_1855654280').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F15340">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 15340});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
