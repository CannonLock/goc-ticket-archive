<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[16420] Sandhills potential black hole</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=16420" method="post">
<div class="page-header">
    <h3><span class="muted">16420</span> / Sandhills potential black hole</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alexander Georges</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Sandhills</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">HCC</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Alexander Georges</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">CSC</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-08-27</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=16420", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/16420?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/16420?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Sandhills%20potential%20black%20hole%20ISSUE%3D16420%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='16420#1377806033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-29T19:53:53+00:00">Aug 29, 2013 07:53 PM UTC</time><a class="anchor" name="1377806033">&nbsp;</a></div><pre>Hi John,

So I am still occasionally seeing the issue, but the more I look into this, the more I think this is an issue with Condor.  I&#39;m going to close the ticket and contact the condor developers.  Thanks for looking into this even though it may have been a false alarm!

-Alex

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=algeorge/CN=742179/CN=Alexander Georges</pre></div><div class='update_description'><i onclick="document.location='16420#1377286628'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-23T19:37:08+00:00">Aug 23, 2013 07:37 PM UTC</time><a class="anchor" name="1377286628">&nbsp;</a></div><pre>Hi John,

Thanks for looking into this.  Depending on when you fixed this, it may be too early to tell if this resolved the problem.  I will point out though, that checking the logs today I do see more empty glidein logs.  Below is an interesting example.  It doesn&#39;t execute then terminate quickly like I was seeing previously, but it still does write out empty logs.  Anyways, this will be something I check on Monday and let you know if I still see some issues.

GridJobId&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs <a href='https&#58;//sandhills-ce1.unl.edu&#58;40616/16361860061607232711/8554158212098782856/' target='_blank' rel='nofollow'>https&#58;//sandhills-ce1.unl.edu&#58;40616/16361860061607232711/8554158212098782856/</a>

08/19 12&#58;01&#58;32 Job submitted from host&#58; &#60;169.228.38.36&#58;53979&#62;
08/19 12&#58;01&#58;44 Job submitted to Globus
08/19 12&#58;01&#58;44 Job submitted to grid resource
08/19 13&#58;00&#58;49 Job executing on host&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs
08/22 00&#58;25&#58;33 Detected Down Globus Resource
08/22 00&#58;25&#58;33 Detected Down Grid Resource
08/22 00&#58;30&#58;33 Globus Resource Back Up
08/22 00&#58;30&#58;33 Grid Resource Back Up
08/22 00&#58;35&#58;44 Detected Down Globus Resource
08/22 00&#58;35&#58;44 Detected Down Grid Resource
08/22 00&#58;40&#58;45 Globus Resource Back Up
08/22 00&#58;40&#58;45 Grid Resource Back Up
08/23 04&#58;20&#58;35 Job terminated.

-Alex

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=algeorge/CN=742179/CN=Alexander Georges</pre></div><div class='update_description'><i onclick="document.location='16420#1377284257'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-23T18:57:37+00:00">Aug 23, 2013 06:57 PM UTC</time><a class="anchor" name="1377284257">&nbsp;</a></div><pre>Hi Alex,

I looked through our logs and did find signs of LDAP connection issues for a number of worker nodes. This would have caused immediate job failures. I believe the underlying problem (SSL certificate mismatch) has been resolved earlier this week. If you&#39;re seeing more job failures, send the timestamps and I&#39;ll be happy to continue looking.

Regards,
John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Thiltges 819</pre></div><div class='update_description'><i onclick="document.location='16420#1376590819'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-15T18:20:19+00:00">Aug 15, 2013 06:20 PM UTC</time><a class="anchor" name="1376590819">&nbsp;</a></div><pre>Hi John,

I am again unfortunately seeing the black hole nature I pointed to.  As recently as today I see&#58;

08/15 07&#58;55&#58;12 Job submitted from host&#58; &#60;169.228.38.36&#58;53979&#62;
08/15 07&#58;55&#58;28 Job submitted to Globus
08/15 07&#58;55&#58;28 Job submitted to grid resource
08/15 07&#58;56&#58;24 Job executing on host&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs
08/15 07&#58;56&#58;28 Job terminated.

Is there any more information I can provide you with that would be helpful?

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='16420#1376431563'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-13T22:06:03+00:00">Aug 13, 2013 10:06 PM UTC</time><a class="anchor" name="1376431563">&nbsp;</a></div><pre>Hi John,

Looking at the logs for glideins terminating today, I see some very interesting results&#58; Several glideins that were submitted and began running over the weekend have been terminating and exhibiting &#34;unhealthy&#34; characteristics - empty logs, and lots of noise in the condor activity logs (grid resource down, grid resource back up, etc). For the most part, they don&#39;t look like they&#39;ve been through a black hole situation, since their runtime is one or two days. I also see lots of glideins that were submitted just today, and have completed successfully today with normal, healthy characteristics.

My appraisal of the situation is&#58; I think your patch may have fixed the black hole condition, if one existed. Glideins submitted after your patch are looking normal, but glideins submitted before the patch are still struggling. I propose we let the older glideins simply run their course and terminate, and we&#39;ll check back in a day or two. Hopefully by then we&#39;ll see nothing but healthy glideins, and if that&#39;s not the case, we can reevaluate.

Regards,
Daniel Klein
UCSD Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dklein/CN=747387/CN=Daniel Klein</pre></div><div class='update_description'><i onclick="document.location='16420#1376417335'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-13T18:08:55+00:00">Aug 13, 2013 06:08 PM UTC</time><a class="anchor" name="1376417335">&nbsp;</a></div><pre>I made a small patch last night (Aug 12, 6pm CDT) that may have fixed the issue with submit errors. The problem is reported in <a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1162' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1162</a>

Let me know if things are looking better for Sandhills.

-John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Thiltges 819</pre></div><div class='update_description'><i onclick="document.location='16420#1376346868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-12T22:34:28+00:00">Aug 12, 2013 10:34 PM UTC</time><a class="anchor" name="1376346868">&nbsp;</a></div><pre>Hi Alex,

This cluster is running SLURM and there may still be some rough edges on the grid interface. The cluster is configured with a limit of 1000 jobs in queue per user account and it looks like we&#39;re bumping into that limit. I suspect SLURM isn&#39;t returning the error in the same way as PBS. I&#39;ll check into it and update the ticket.

Regards,
John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Thiltges 819</pre></div><div class='update_description'><i onclick="document.location='16420#1376335991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-12T19:33:11+00:00">Aug 12, 2013 07:33 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1376335991">&nbsp;</a></div><pre>Hi,

I am seeing an issue at the site where glideins start to execute then are terminated a few seconds later.  This may be due to a black hole node.  It also seems like this may be due to an issue with the CE.  Below is some log information on two different glideins than ran on behalf of OSGXSEDE.  I&#39;ve included the glidein GridJobId&#39;s, the proxy osgxsede is using, and the CE glideins are being submitted to.  Can you please look into this at your convenience?

GridJobId&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs <a href='https&#58;//sandhills-ce1.unl.edu&#58;40616/16361988679134681901/8554158212098782856/' target='_blank' rel='nofollow'>https&#58;//sandhills-ce1.unl.edu&#58;40616/16361988679134681901/8554158212098782856/</a>
08/12 10&#58;34&#58;36 Job submitted from host&#58; &#60;169.228.38.36&#58;53979&#62;
08/12 10&#58;39&#58;45 Job submitted to Globus
08/12 10&#58;39&#58;45 Job submitted to grid resource
08/12 10&#58;41&#58;54 Job executing on host&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs
08/12 10&#58;41&#58;58 Job terminated.

GridJobId&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs <a href='https&#58;//sandhills-ce1.unl.edu&#58;40616/16362027157479194341/8554158212098782856/' target='_blank' rel='nofollow'>https&#58;//sandhills-ce1.unl.edu&#58;40616/16362027157479194341/8554158212098782856/</a>
08/12 00&#58;46&#58;56 Job executing on host&#58; gt5 sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs
08/12 08&#58;40&#58;55 Detected Down Globus Resource
08/12 08&#58;40&#58;55 Detected Down Grid Resource
08/12 08&#58;45&#58;41 The job&#39;s remote status is unknown
08/12 08&#58;46&#58;03 Globus Resource Back Up
08/12 08&#58;46&#58;03 Grid Resource Back Up
08/12 08&#58;46&#58;08 The job&#39;s remote status is known again
08/12 10&#58;55&#58;35 Job terminated.

subject   &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=xsede-pilot/osg-xsede.grid.iu.edu/CN=proxy
issuer    &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=xsede-pilot/osg-xsede.grid.iu.edu
identity  &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=xsede-pilot/osg-xsede.grid.iu.edu
type      &#58; proxy
strength  &#58; 1024 bits
path      &#58; /var/gfactory/clientproxies/user_feosgxsede/glidein_v2_0/entry_SBGRID_US_Nebraska_sh-ce1/x509_SBGRID_US_Nebraska_sh.minus,ce1@v2_0@SDSC@....s,xsede.minus,grid.minus,iu.minus,edu_OSG_gWMSFrontend.dot,main_0_889480.proxy
timeleft  &#58; 92&#58;19&#58;59
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO osg extension information ===
VO        &#58; osg
subject   &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=xsede-pilot/osg-xsede.grid.iu.edu
issuer    &#58; /DC=org/DC=doegrids/OU=Services/CN=host/voms.opensciencegrid.org
attribute &#58; /osg/Role=NULL/Capability=NULL
timeleft  &#58; 20&#58;19&#58;59
<div id='show_973089341' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_973089341'>uri       &#58; voms.opensciencegrid.org&#58;15027

gatekeeper=&#34;sandhills-ce1.unl.edu&#58;2119/jobmanager-pbs&#34;
rsl=&#34;(maxMemory=2000)&#34;

Thank you,
Alex Georges
UCSD Glidein Factory Operations

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073

</div><script type='text/javascript'>
        $('#show_973089341').click(function() {
            $('#detail_973089341').slideDown("normal");
            $('#show_973089341').hide();
            $('#hide_973089341').show();
        });
        $('#hide_973089341').click(function() {
            $('#detail_973089341').slideUp();
            $('#hide_973089341').hide();
            $('#show_973089341').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F16420">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 16420});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
