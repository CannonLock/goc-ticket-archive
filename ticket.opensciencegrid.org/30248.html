<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30248] NWICG_NDCMS - OSG glideins failing node validation due to missing worker node packages</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30248" method="post">
<div class="page-header">
    <h3><span class="muted">30248</span> / NWICG_NDCMS - OSG glideins failing node validation due to missing worker node packages</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Marty Kandes</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">NWICG_NDCMS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Marty Kandes</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">NWICG</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-07-15</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">NWICG <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30248", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30248?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30248?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20NWICG_NDCMS%20-%20OSG%20glideins%20failing%20node%20validation%20due%20to%20missing%20worker%20node%20packages%20ISSUE%3D30248%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30248#1468451642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-13T23:14:02+00:00">Jul 13, 2016 11:14 PM UTC</time><a class="anchor" name="1468451642">&nbsp;</a></div><pre>Serguei,

Glidein performance and usage looks normal. I think we&#39;re all set here. Thanks again for your help. Closing ticket.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1468245267'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-11T13:54:27+00:00">Jul 11, 2016 01:54 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1468245267">&nbsp;</a></div><pre>Marty/Serguei,

Is everything looking good? Can we close this ticket?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30248#1467907111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T15:58:31+00:00">Jul 7, 2016 03:58 PM UTC</time><a class="anchor" name="1467907111">&nbsp;</a></div><pre>Serguei,

Good. Again, let&#39;s give it a few days. I would expect we might see a drop-off in usage at these lower memory limits. But if everything continues to look good, we&#39;ll close out this ticket then.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1467902202'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T14:36:42+00:00">Jul 7, 2016 02:36 PM UTC</time><a class="anchor" name="1467902202">&nbsp;</a></div><pre>Thanks Marty,

The compute hosts look much better now.

-Serguei

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=sfedorov/CN=729766/CN=Serguei Fedorov</pre></div><div class='update_description'><i onclick="document.location='30248#1467845546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-06T22:52:26+00:00">Jul 6, 2016 10:52 PM UTC</time><a class="anchor" name="1467845546">&nbsp;</a></div><pre>Serguei,

I&#39;ve set the submit attribute +maxMemory = 1024 MBs. This is what you should now see all new glideins requesting upon submission to your HTCondor-CE. This value should also be forwarded into the submission script into your local batch system if everything is working correctly.

I&#39;ve also lowered GLIDEIN_MaxMemMBs from the factory default of 2500 to 1536. This is the available per memory core advertised back to the VO frontends for the purposes of matching users jobs to site resources. We always usually keep a small gap between +maxMemory and GLIDEIN_MaxMemMBs to help keep resource utilization on the high-side.

I think having these more explicit limits in place should help with your previous issue over the resources being overused. Let&#39;s monitor progress here for a few more days and then see where we are after that. If we see to much of a drop-off in the number of user jobs run at the site, we may want to consider a multicore gldiein configuration, which would allow for some more flexibility.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1467842519'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-06T22:01:59+00:00">Jul 6, 2016 10:01 PM UTC</time><a class="anchor" name="1467842519">&nbsp;</a></div><pre>Marty,

We have 12GB for 12 cores.  Could you make for us explicit 1GB per core ?

Thanks

-Serguei

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=sfedorov/CN=729766/CN=Serguei Fedorov</pre></div><div class='update_description'><i onclick="document.location='30248#1467842186'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-06T21:56:26+00:00">Jul 6, 2016 09:56 PM UTC</time><a class="anchor" name="1467842186">&nbsp;</a></div><pre>P.S. On the glidein side, we could explicitly set a memory request to your HTCondor-CE. Right now, it looks like we don&#39;t have one. I&#39;m not sure if this will help. Maybe it would help you set limits around glideins submitted to your batch system? Implicitly, it looks like we&#39;re assuming 2 GB per core. Would you like me to make this explicit upon glidein submission?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1467841644'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-06T21:47:24+00:00">Jul 6, 2016 09:47 PM UTC</time><a class="anchor" name="1467841644">&nbsp;</a></div><pre>Serguei,

It sounds like there isn&#39;t much else we can do unless you&#39;re able to track down some information about these possible rogue user jobs. Are you still seeing the problem of these resource hungry OSG jobs consistently?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1467325690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T22:28:10+00:00">Jun 30, 2016 10:28 PM UTC</time><a class="anchor" name="1467325690">&nbsp;</a></div><pre>Yes, our jobs have request_memory set, and we monitor the users to make sure they behave. However, unless you use cgroups there is nothing in HTCondor that prevents codes from going over. If you have pstree output or something like that, I should be able to track it down.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='30248#1467320303'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T20:58:23+00:00">Jun 30, 2016 08:58 PM UTC</time><a class="anchor" name="1467320303">&nbsp;</a></div><pre>Mats,

Do OSG users have to include a request_memory requirement in their job description files? It sounds like these problematic user jobs at Notre Dame might be taking more resources than the site limits allow. Not sure why they would be overly affecting Notre Dame in particular though.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1467312518'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T18:48:38+00:00">Jun 30, 2016 06:48 PM UTC</time><a class="anchor" name="1467312518">&nbsp;</a></div><pre>In general by making disk full and sometime  their processes start intensively consume swap.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=sfedorov/CN=729766/CN=Serguei Fedorov</pre></div><div class='update_description'><i onclick="document.location='30248#1467309855'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T18:04:15+00:00">Jun 30, 2016 06:04 PM UTC</time><a class="anchor" name="1467309855">&nbsp;</a></div><pre>Serguei,

Were you able to determine how the OSG glideins crashed these systems?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1467230094'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T19:54:54+00:00">Jun 29, 2016 07:54 PM UTC</time><a class="anchor" name="1467230094">&nbsp;</a></div><pre>Hi Marty,

The last couple of days I realized that some of hosts crashed by VO OSG running tasks on them, so I had to restart them.
So if  that could be related. As for now I see d6copt318, d6copt342, d6copt360 lost /cvmfs mountpoint due to OSG tasks running on them.
I will restart those hosts.

The other hosts should work without problems.

-Serguei

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=sfedorov/CN=729766/CN=Serguei Fedorov</pre></div><div class='update_description'><i onclick="document.location='30248#1467227522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T19:12:02+00:00">Jun 29, 2016 07:12 PM UTC</time><a class="anchor" name="1467227522">&nbsp;</a></div><pre>Hi Serguei,

Unfortunately, we&#39;ve continued to see intermittent issues [1] [2] [3] [4] that are likely related to your previous problem with /cvmfs not being properly mounted on your worker nodes. Over the past 3 days, these issues (collectively) were observed on these worker nodes [5] at one point or another.

Marty Kandes
UCSD Glidein Factory Operations

[1]

osgvo-node-validation.g56dTi&#58; OK
Signature OK for client&#58;osgvo-node-validation.g56dTi.
=== Validation error in /var/condor/execute/dir_3737856/glide_kv3tz3/client/osgvo-node-validation ===
Wed Jun 29 13&#58;53&#58;07 EDT 2016 Error running &#39;/var/condor/execute/dir_3737856/glide_kv3tz3/client/osgvo-node-validation&#39;
The test script did not produce an XML file. No further information available.

[2]

Executing /var/condor/execute/dir_3737856/glide_kv3tz3/client/osgvo-node-validation
INFO&#58;    This is an OSG-FLOCK node validation script.
INFO&#58;    In case of problems, contact Mats Rynge (rynge@....)
INFO&#58;    Checking disk space - 1 GB free is required
INFO&#58;       ...  13 GB space available
INFO&#58;    Checking the environment...
INFO&#58;       checking PATH (/cvmfs/cms.cern.ch/common&#58;/cvmfs/cms.cern.ch/bin&#58;/opt/condor/RedHat6/sbin&#58;/opt/condor/RedHat6/bin&#58;/usr/lib64/qt-3.3/bin&#58;/usr/kerberos/sbin&#58;/usr/kerberos/bin&#58;/bin&#58;/usr/bin&#58;/sbin&#58;/usr/sbin&#58;/usr/local/sbin)
INFO&#58;       checking access to /usr/bin/
INFO&#58;       checking for globus-url-copy
FATAL ERROR&#58; globus-url-copy not found - this usually means that the wn package is not installed
=== Glidein ending Wed Jun 29 14&#58;13&#58;06 EDT 2016 (1467223986) with code 1 after 1203 ===

[3]

06/29/16 14&#58;16&#58;32 (pid&#58;3080638) Condor GSI authentication failure
GSS Major Status&#58; Authentication Failed
GSS Minor Status Error Chain&#58;
globus_gss_assist&#58; Error during context initialization
<div id='show_1045785794' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1045785794'>globus_gsi_callback_module&#58; Could not verify credential
globus_gsi_callback_module&#58; Could not verify credential
globus_gsi_callback_module&#58; Invalid CRL&#58; The available CRL has expired

06/29/16 14&#58;16&#58;32 (pid&#58;3080638) SECMAN&#58; required authentication with collector glidein2.chtc.wisc.edu&#58;9639 failed, so aborting command CCB_REGISTER.
06/29/16 14&#58;16&#58;32 (pid&#58;3080638) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5004&#58;Failed to authenticate.  Globus is reporting error (655360&#58;12)
06/29/16 14&#58;16&#58;32 (pid&#58;3080638) CCBListener&#58; connection to CCB server glidein2.chtc.wisc.edu&#58;9639 failed; will try to reconnect in 60 seconds.

[4]

IFFE_script.g6ofbP.sh&#58; OK
Signature OK for client&#58;IFFE_script.g6ofbP.sh.
Tue Jun 28 20&#58;20&#58;09 EDT 2016 ERROR&#58; Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate
=== Validation error in /var/condor/execute/dir_3256717/glide_xw1sMn/client/IFFE_script.sh ===
Tue Jun 28 20&#58;40&#58;43 EDT 2016 Error running &#39;/var/condor/execute/dir_3256717/glide_xw1sMn/client/IFFE_script.sh&#39;
Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate

[5]

d6copt299.crc.nd.edu
d6copt302.crc.nd.edu
d6copt311.crc.nd.edu
d6copt314.crc.nd.edu
d6copt318.crc.nd.edu
d6copt321.crc.nd.edu
d6copt328.crc.nd.edu
d6copt329.crc.nd.edu
d6copt342.crc.nd.edu
d6copt344.crc.nd.edu
d6copt350.crc.nd.edu
d6copt355.crc.nd.edu
d6copt360.crc.nd.edu

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1045785794').click(function() {
            $('#detail_1045785794').slideDown("normal");
            $('#show_1045785794').hide();
            $('#hide_1045785794').show();
        });
        $('#hide_1045785794').click(function() {
            $('#detail_1045785794').slideUp();
            $('#hide_1045785794').hide();
            $('#show_1045785794').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30248#1467212713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T15:05:13+00:00">Jun 29, 2016 03:05 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1467212713">&nbsp;</a></div><pre>Hi Serguei and Marty,

How is testing going?

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='30248#1466096475'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-16T17:01:15+00:00">Jun 16, 2016 05:01 PM UTC</time><a class="anchor" name="1466096475">&nbsp;</a></div><pre>Serguei,

Thanks for remounting those systems. Overall glidein performance looks like it has improved markedly overnight from what I&#39;m starting to see as we get the latest logs back. We&#39;ll check back in on them again next week after some more statistics have built up. If everything still looks good, we&#39;ll close out this ticket then.

Thanks again for your assistance.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1466019376'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T19:36:16+00:00">Jun 15, 2016 07:36 PM UTC</time><a class="anchor" name="1466019376">&nbsp;</a></div><pre>Marty,

For that purposes we also use cvmfs

[root@d6copt353 ~]# env|grep X
X509_CERT_DIR=/cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.3/3.3.13/el6-x86_64/etc/grid-security/certificates
X509_VOMS_DIR=/cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.3/3.3.13/el6-x86_64/etc/grid-security/vomsdir

service autofs restart did not help.

The cvmfs/oasis.opensciencegrid.org/mis/   repository was unmounted, since I restarted those compute hosts, the repository is available again.

-Serguei

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=sfedorov/CN=729766/CN=Serguei Fedorov</pre></div><div class='update_description'><i onclick="document.location='30248#1466018185'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T19:16:25+00:00">Jun 15, 2016 07:16 PM UTC</time><a class="anchor" name="1466018185">&nbsp;</a></div><pre>Serguei,

In the meantime, can you also check that your CRLs are up-to-date? We&#39;re also seeing some expiration-related authentication failures [1] on some machines [2].

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

06/15/16 11&#58;00&#58;11 (pid&#58;1314120) Condor GSI authentication failure
GSS Major Status&#58; Authentication Failed
GSS Minor Status Error Chain&#58;
globus_gss_assist&#58; Error during context initialization
globus_gsi_callback_module&#58; Could not verify credential
globus_gsi_callback_module&#58; Could not verify credential
globus_gsi_callback_module&#58; Invalid CRL&#58; The available CRL has expired

[2]

d6copt350.crc.nd.edu
d6copt353.crc.nd.edu

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1466017758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T19:09:18+00:00">Jun 15, 2016 07:09 PM UTC</time><a class="anchor" name="1466017758">&nbsp;</a></div><pre>Mats,

Could this simply be an overly cautious validation script gone awry?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30248#1465593105'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T21:11:45+00:00">Jun 10, 2016 09:11 PM UTC</time><a class="anchor" name="1465593105">&nbsp;</a></div><pre>Hello

We do NOT install osg-wn-client on the compute hosts, and never had it installed.
We use  cvmfs centralized location for the tools. So each host has reference to cvmfs.
I have checked one of the hosts which you listed d6copt299.

sfedorov@d6copt299 ~]$ where globus-url-copy
/cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.3/3.3.12/el6-x86_64/usr/bin/globus-url-copy

[sfedorov@d6copt299 ~]$ df -k
Filesystem              1K-blocks         Used    Available Use% Mounted on
/dev/sda1                88526072     36531288     47491184  44% /
tmpfs                     6097464          136      6097328   1% /dev/shm
/dev/sda2                29421436        46232     27874020   1% /opt
/dev/sda3                29421436     21585860      6334392  78% /var
fuse_dfs             746129129472 342480519168 403648610304  46% /hadoop
ndcms.crccluster.crc.nd.edu&#58;/home
1401459040    492907168    836213600  38% /home
ndcms.crccluster.crc.nd.edu&#58;/store
78061355008  33241577696  44819777312  43% /store
AFS                    2147483647            0   2147483647   0% /afs
panfs&#58;//pas16-001.crc.nd.edu/
682537185792 245829237824 436707947968  37% /scratch365
panfs&#58;//panasas001.crc.nd.edu/
118786955312  53134772896  65652182416  45% /scratch30
cvmfs2                   20480000     20272933       207068  99% /cvmfs/oasis.opensciencegrid.org
cvmfs2                   20480000     20272933       207068  99% /cvmfs/cms.cern.ch
cvmfs2                   20480000     20272933       207068  99% /cvmfs/stash.osgstorage.org
cvmfs2                   20480000     20272933       207068  99% /cvmfs/icecube.opensciencegrid.org
cvmfs2                   20480000     20272933       207068  99% /cvmfs/atlas.cern.ch
cvmfs2                   20480000     20272933       207068  99% /cvmfs/ams.cern.ch

-Serguei

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=sfedorov/CN=729766/CN=Serguei Fedorov</pre></div><div class='update_description'><i onclick="document.location='30248#1465590592'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T20:29:52+00:00">Jun 10, 2016 08:29 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465590592">&nbsp;</a></div><pre>Hi Notre Dame admins,

We&#39;re observing a non-insignificant fraction of OSG glideins fail validation [1] on some of your worker nodes behind the gatekeeper [2]. It appears like some of your worker nodes may not have the osg-wn-client package installed [3]. Can you check on this when you get a chance? Here is a subset of the worker nodes [4] you can start with where we&#39;ve observed the issue.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

osgvo-node-validation.g56dTi&#58; OK
Signature OK for client&#58;osgvo-node-validation.g56dTi.
=== Validation error in /var/condor/execute/dir_2090506/glide_4RTCO4/client/osgvo-node-validation ===
Thu Jun 9 09&#58;28&#58;22 EDT 2016 Error running &#39;/var/condor/execute/dir_2090506/glide_4RTCO4/client/osgvo-node-validation&#39;
The test script did not produce an XML file. No further information available.

[2]

deepthought.crc.nd.edu

[3]

INFO&#58;    Checking the environment...
INFO&#58;       checking PATH (/cvmfs/cms.cern.ch/common&#58;/cvmfs/cms.cern.ch/bin&#58;/opt/condor/RedHat6/sbin&#58;/opt/condor/RedHat6/bin&#58;/usr/lib64/qt-3.3/bin&#58;/usr/kerberos/sbin&#58;/usr/kerberos/bin&#58;/bin&#58;/usr/bin&#58;/sbin&#58;/usr/sbin&#58;/usr/local/sbin)
INFO&#58;       checking access to /usr/bin/
INFO&#58;       checking for globus-url-copy
FATAL ERROR&#58; globus-url-copy not found - this usually means that the wn package is not installed
=== Glidein ending Thu Jun  9 00&#58;35&#58;05 EDT 2016 (1465446905) with code 1 after 1203 ===

[4]

d6copt299.crc.nd.edu
d6copt302.crc.nd.edu
d6copt305.crc.nd.edu
<div id='show_1653174425' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1653174425'>d6copt306.crc.nd.edu
d6copt308.crc.nd.edu
d6copt317.crc.nd.edu
d6copt326.crc.nd.edu
d6copt329.crc.nd.edu
d6copt333.crc.nd.edu
d6copt347.crc.nd.edu
d6copt352.crc.nd.edu
d6copt353.crc.nd.edu

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049

</div><script type='text/javascript'>
        $('#show_1653174425').click(function() {
            $('#detail_1653174425').slideDown("normal");
            $('#show_1653174425').hide();
            $('#hide_1653174425').show();
        });
        $('#hide_1653174425').click(function() {
            $('#detail_1653174425').slideUp();
            $('#hide_1653174425').hide();
            $('#show_1653174425').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30248">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
