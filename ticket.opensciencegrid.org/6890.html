<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[6890] yum.grid.iu.edu Blocking ICMP from nocmon | IU FP Ticket #20 | IM704151</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6890" method="post">
<div class="page-header">
    <h3><span class="muted">6890</span> / yum.grid.iu.edu Blocking ICMP from nocmon | IU FP Ticket #20 | IM704151</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Grant McNaught</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-06-02</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Thomas Lee <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/6890", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/6890?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/6890?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20yum.grid.iu.edu%20Blocking%20ICMP%20from%20nocmon%20%7C%20IU%20FP%20Ticket%20%2320%20%7C%20IM704151%20ISSUE%3D6890%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6890#1243878313'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-01T17:45:13+00:00">Jun 1, 2009 05:45 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1243878313">&nbsp;</a></div><pre>Tom submitted firewall request... Closing..

Tom, Let me know if you don&#39;t hear anything from them soon and I&#39;ll talk to the
supervisor here and see if there is anything we can do to get hold of them..

Thanks,
Christopher</pre></div><div class='update_description'><i onclick="document.location='6890#1243692553'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-30T14:09:13+00:00">May 30, 2009 02:09 PM UTC</time> by <b>echism</b><a class="anchor" name="1243692553">&nbsp;</a></div><pre>Tom,

Since you might not be seeing the other ticket&#58; CNI seems to think that it&#39;s an institutional firewall problem. That&#39;s what the link is about.

E</pre></div><div class='update_description'><i onclick="document.location='6890#1243628024'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T20:13:44+00:00">May 29, 2009 08:13 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1243628024">&nbsp;</a></div><pre>This is the link for the request form per jwdiu...
<a href='https&#58;//teldis.noc.iu.edu/teld/requests/' target='_blank' rel='nofollow'>https&#58;//teldis.noc.iu.edu/teld/requests/</a></pre></div><div class='update_description'><i onclick="document.location='6890#1243627719'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T20:08:39+00:00">May 29, 2009 08:08 PM UTC</time> by <b>Nizar Louly</b><a class="anchor" name="1243627719">&nbsp;</a></div><pre>from IU FP #20</pre></div><div class='update_description'><i onclick="document.location='6890#1243624948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T19:22:28+00:00">May 29, 2009 07:22 PM UTC</time> by <b>Nizar Louly</b><a class="anchor" name="1243624948">&nbsp;</a></div><pre>created ticket</pre></div><div class='update_description'><i onclick="document.location='6890#1243624331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T19:12:11+00:00">May 29, 2009 07:12 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1243624331">&nbsp;</a></div><pre>Tom Lee reports... &#34;I would like to know what&#39;s behind all of this, so maybe they
should.  I mean, it&#39;s not horribly urgent, because the inability to ping doesn&#39;t make
a huge difference in this case, but if the network is somehow treating riley
differently from huey, I&#39;d like to know why ... it might interfere with something
else in the future.&#34;</pre></div><div class='update_description'><i onclick="document.location='6890#1243620047'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T18:00:47+00:00">May 29, 2009 06:00 PM UTC</time> by <b>Nizar Louly</b><a class="anchor" name="1243620047">&nbsp;</a></div><pre>switch and port info from net disco&#58;

134.68.201.49 00&#58;1a&#58;a0&#58;1e&#58;9c&#58;4b 10.68.220.2 C2
134.68.201.46 00&#58;1a&#58;a0&#58;1e&#58;6e&#58;9b 10.68.220.2 C1

We can have CNI Layer 3 look into this and see what they can find out on the firewalls</pre></div><div class='update_description'><i onclick="document.location='6890#1243531988'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T17:33:08+00:00">May 28, 2009 05:33 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1243531988">&nbsp;</a></div><pre>First of all, with the (netfilter) firewall on riley (134.68.201.49) completely turned off (i.e. all rules deleted, all policies set to ACCEPT), I can ping riley from huey (134.68.201.46) but not from anywhere in Bloomington.  I have no access to any other machines at IUPUI to test with.  But at any rate, this is exactly the same behavior that I observe with riley&#39;s firewall turned on.  I&#39;m not too surprised about that, because when this trouble started I changed the firewall rules to permit all ICMP packets from anywhere.  I am unable to see what on riley might be responsible for this problem and must conclude that it&#39;s something in a switch or router external to riley.  I would pursue this except that I don&#39;t know whom to contact about the network topology.  What could be different between machines with addresses 134.68.201.46 and 134.68.201.49?  Are they somehow plugged into different VLANs?

Then there&#39;s the other question&#58; does it matter?  I&#39;m not sure.  If the machine or its network adapter goes down, the ssh and http tests will detect that.  If ssh or http goes down, the respective probes for those services will detect that, whereas the ping probe wouldn&#39;t necessarily be affected.  No critical services depend on being able to ping riley, to my knowledge.</pre></div><div class='update_description'><i onclick="document.location='6890#1243358364'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-26T17:19:24+00:00">May 26, 2009 05:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1243358364">&nbsp;</a></div><pre>Tom,

Are we going to continue to pursue this or should we let it go?

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6890#1242854151'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-20T21:15:51+00:00">May 20, 2009 09:15 PM UTC</time> by <b>gmcnaugh</b><a class="anchor" name="1242854151">&nbsp;</a></div><pre>pinging from the switch that riley is connected to provides interesting results&#58;
IT-MR-P13-FW-1&#62; ping 134.68.201.49
Target did not respond.

whereas huey&#58;
IT-MR-P13-FW-1&#62; ping 134.68.201.46
134.68.201.46 is alive, time = 1 ms

Thats pretty interesting. I don&#39;t know if you turned back on your firewalling,

I&#39;d like to get this working for the sake of completeness of monitoring, however if it is not an issue to you we can
always table this and examine it later as an academic exercise.

Let me know however you&#39;d like to go and I&#39;ll assist in any way I can.</pre></div><div class='update_description'><i onclick="document.location='6890#1242852732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-20T20:52:12+00:00">May 20, 2009 08:52 PM UTC</time> by <b>echism</b><a class="anchor" name="1242852732">&nbsp;</a></div><pre>2009-05-20 20&#58;49&#58;36 UTC [echism@huey&#58;~]$ ping riley.uits.iupui.edu
PING riley.uits.iupui.edu (134.68.201.49) 56(84) bytes of data.
64 bytes from riley.uits.iupui.edu (134.68.201.49)&#58; icmp_seq=1 ttl=64
time=1.80 ms
64 bytes from riley.uits.iupui.edu (134.68.201.49)&#58; icmp_seq=2 ttl=64
time=0.097 ms
64 bytes from riley.uits.iupui.edu (134.68.201.49)&#58; icmp_seq=3 ttl=64
time=0.100 ms
64 bytes from riley.uits.iupui.edu (134.68.201.49)&#58; icmp_seq=4 ttl=64
time=0.097 ms
64 bytes from riley.uits.iupui.edu (134.68.201.49)&#58; icmp_seq=5 ttl=64
time=0.100 ms

--- riley.uits.iupui.edu ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4001ms
rtt min/avg/max/mdev = 0.097/0.439/1.804/0.682 ms

On May 20, 2009, at 3&#58;38 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6890#1242848315'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-20T19:38:35+00:00">May 20, 2009 07:38 PM UTC</time> by <b>gmcnaugh</b><a class="anchor" name="1242848315">&nbsp;</a></div><pre>I don&#39;t know your topology well enough to infer the next step in this process, however I might try pinging riley from
another device on the same switch, then the switch, then the gateway. I can&#39;t ping riley from cr.ictc , but I don&#39;t
know what the next step in your topology is.</pre></div><div class='update_description'><i onclick="document.location='6890#1242847607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-20T19:26:47+00:00">May 20, 2009 07:26 PM UTC</time> by <b>echism</b><a class="anchor" name="1242847607">&nbsp;</a></div><pre>Grant,

Did you receive the last update? We&#39;re waiting to hear what to do next. Please advise.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6890#1242747761'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-19T15:42:41+00:00">May 19, 2009 03:42 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1242747761">&nbsp;</a></div><pre>This is becoming stranger and stranger.  The institutional firewall rules (which do not block pings as far as I know in any case) that apply to huey.uits.iupui.edu and to riley.uits.iupui.edu are exactly the same.  Yet I can ping huey from my laptop, but not riley (and again, no dropped packets appear in the firewall log).

Pings are not disabled in the kernel&#58;

[root@riley&#58;~]# cat /proc/sys/net/ipv4/icmp_echo_ignore_all
0

It doesn&#39;t look as if the problem is on riley, yet it doesn&#39;t seem to be in the main institutional firewall either.  Is there another layer of firewalling that I am unaware of?</pre></div><div class='update_description'><i onclick="document.location='6890#1242745644'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-19T15:07:24+00:00">May 19, 2009 03:07 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1242745644">&nbsp;</a></div><pre>The &#34;anomaly&#34; I reported in my last update (ICMP packets from riley appearing in riley&#39;s firewall log, despite there being no blocking or logging of any outgoing packets) turns out to be a result of my reading the log entries wrong -- these ICMP destination-unreachable packets are indeed incoming, but since they are related to outgoing packets, iptables logs information about those outgoing packets on the same line, which confused my eyes.

I have changed the rule to allow all ICMP packets from anywhere.  It should go into effect shortly (within 5 minutes).  If nocmon still can&#39;t ping riley, there is something else wrong somewhere.</pre></div><div class='update_description'><i onclick="document.location='6890#1242744022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-19T14:40:22+00:00">May 19, 2009 02:40 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1242744022">&nbsp;</a></div><pre>Tom - it has been like this as long as I can remember. Like I said on IM, I recall Elizabeth did some debugging a few months back, and inferred that there was a problem with an IUPUI switch? I am not sure, she could chime in.

-ag

PS&#58; I have re-assigned this ticket to Tom; CCed myself.</pre></div><div class='update_description'><i onclick="document.location='6890#1242743799'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-19T14:36:39+00:00">May 19, 2009 02:36 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1242743799">&nbsp;</a></div><pre>I&#39;ve got a global firewall rule that all the OSG GOC servers use, allowing TCP port 22 (SSH) packets and ICMP echo-request (ping) packets from nocmon, and it&#39;s been like that for a long time.  How long has this problem existed?

Is nocmon sending ICMP packets of types other than echo-request?  Should the rule be less specific?  Or are these echo-request packets that are somehow being blocked, in which case they&#39;re probably being blocked before they get to riley?  There are no blocked packets from nocmon in the firewall logs on riley.

There is an anomaly in the firewall logs on riley, though, and that is, ICMP type 3 packets (destination-unreachable) being sent *by* riley are being dropped, which makes no sense, because there is no logging or dropping on outgoing packets in the firewall configuration.  I have never before seen outgoing packets that somehow managed to traverse the INPUT chain.  I&#39;m not sure this has anything to do with the ticket, though.</pre></div><div class='update_description'><i onclick="document.location='6890#1242681113'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-18T21:11:53+00:00">May 18, 2009 09:11 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1242681113">&nbsp;</a></div><pre>Hello,

As I was browsing through nocmon nagios, I noticed that the host check for
yum.grid.iu.edu (riley) reports as down, however the service checks (HTTP, SSH) both
report as OK.  A little troubleshooting shows that somewhere along the path ICMP is
being blocked.

Here&#39;s a traceroute that uses TCP SYN/ACK&#58;
tcptraceroute yum.grid.iu.edu
traceroute to yum.grid.iu.edu (134.68.201.49), 30 hops max, 40 byte packets
1  149.165.129.2 (149.165.129.2)  0.255 ms  0.280 ms  0.321 ms
2  tge-1-2.9.br.ul.net.uits.iu.edu (149.165.254.230)  0.407 ms  0.508 ms  0.603 ms
3  tge-1-4.912.cr.ictc.net.uits.iu.edu (149.166.5.6)  7.377 ms  7.457 ms  7.531 ms
4  riley.uits.iupui.edu (134.68.201.49)  4.979 ms  4.976 ms  4.969 ms

and here&#39;s an ICMP Traceroute&#58;
traceroute to yum.grid.iu.edu (134.68.201.49), 30 hops max, 40 byte packets
1  149.165.129.2 (149.165.129.2)  0.265 ms  0.287 ms  0.321 ms
2  tge-1-2.9.br.ul.net.uits.iu.edu (149.165.254.230)  0.485 ms  0.547 ms  0.655 ms
3  tge-1-4.912.cr.ictc.net.uits.iu.edu (149.166.5.6)  58.820 ms  58.911 ms  58.987 ms
4  * * *
5  * * *
6  * * *
7  * * *
8  * * *

Could you allow ICMP from nocmon.grnoc.iu.edu (149.165.129.24) ?

Thank You,

Grant McNaught</pre></div><div class='update_description'><i onclick="document.location='6890#0'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="1970-01-01T00:00:00+00:00">Jan 1, 1970 12:00 AM UTC</time> by <b>Nizar Louly&#58;</b><a class="anchor" name="0">&nbsp;</a></div><pre>Per Jamed, this is due to the firewall, there needs to be a request to let traffic
from Yum in and Tom was notified to submit such request via a form (Chris P relayed
this to him), i&#39;ll cose the Falcon ticket now per James&#39; request</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6890">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
