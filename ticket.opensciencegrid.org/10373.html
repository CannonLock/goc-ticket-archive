<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[10373] Squid Issue on UCSDT2</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10373" method="post">
<div class="page-header">
    <h3><span class="muted">10373</span> / Squid Issue on UCSDT2</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Robert Engel</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCSDT2</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/resource</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Robert Engel</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-05-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">USCMS <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/10373", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/10373?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/10373?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Squid%20Issue%20on%20UCSDT2%20ISSUE%3D10373%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10373#1305562867'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-16T16:21:07+00:00">May 16, 2011 04:21 PM UTC</time> by <b>GRATIA</b><a class="anchor" name="1305562867">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolved by GOC
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='10373#1305562670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-16T16:17:50+00:00">May 16, 2011 04:17 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1305562670">&nbsp;</a></div><pre>Closing this ticket based on Terrence&#39;s update.</pre></div><div class='update_description'><i onclick="document.location='10373#1305322374'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-13T21:32:54+00:00">May 13, 2011 09:32 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1305322374">&nbsp;</a></div><pre>The SRM was down, it should now respond. Please close the ticket.</pre></div><div class='update_description'><i onclick="document.location='10373#1305318247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-13T20:24:07+00:00">May 13, 2011 08:24 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1305318247">&nbsp;</a></div><pre>I think the issue has been resolved. However, the SE associated with the
resource hangs&#58;

[robert@osg-ldg scripts]$ srm-ping
<a href='srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server?SFN=/hadoop/ligo/rengel/tasks' target='_blank' rel='nofollow'>srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server?SFN=/hadoop/ligo/rengel/tasks</a>
srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl
httpg&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server

SRM-PING&#58; Fri May 13 13&#58;20&#58;28 PDT 2011  Calling SrmPing Request...

and so I don&#39;t get to my log files that could tell me more.

Robert

On 5/13/11 11&#58;10 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1305310219'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-13T18:10:19+00:00">May 13, 2011 06:10 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1305310219">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='10373#1304974268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-09T20:51:08+00:00">May 9, 2011 08:51 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1304974268">&nbsp;</a></div><pre>Terrence,

with and without the proxy, the http 1.1 requests do not get through
your network. This is the first time I observe this particular problem
on the OSG. We run the same code on 32 other resources, with and without
squid, with no issues.

Robert

On 5/9/11 1&#58;42 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304973727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-09T20:42:07+00:00">May 9, 2011 08:42 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304973727">&nbsp;</a></div><pre>That would be best I think if you can adjust it on the client side. It seems
there is some mismatch going on. The squid guys in CMS seem to feel it is a
client issue so it is probably best to address it there.

Again though there is no firewall on egress from UCSD to the Net so I do not
know why you are getting blocked with your client or I would say just not use
the proxy since POST do not benefit.

Terrence

On Monday, May 09, 2011 01&#58;33&#58;00 pm you wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304973188'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-09T20:33:08+00:00">May 9, 2011 08:33 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1304973188">&nbsp;</a></div><pre>Hi Terrence,

by default the boinc client uses http 1.1. If I force the client to
use http 1.0 instead, everything works just fine. So something within
the UCSD network doesn&#39;t support or block http 1.1. The ticket can be
closed unless you want to keep it open to follow up on the issue.

Thanks,
Robert

On 5/9/11 12&#58;51 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304970667'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-09T19:51:07+00:00">May 9, 2011 07:51 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304970667">&nbsp;</a></div><pre>This is what I get when telneting to www.phys.uwm.edu on port 80

It does not seem blocked, I ran it from a couple more nodes in the cluster. As
a rule we do not do egress filtering and there is also no NAT in place at
UCSD.

Terrence

[1246] cuser2@cabinet-6-6-1 /state/data/condor_local/log$  telnet
www.phys.uwm.edu 80
Trying 129.89.57.86...
Connected to www.phys.uwm.edu (129.89.57.86).
Escape character is &#39;^]&#39;.
^]
telnet&#62; quit
Connection closed.
[1246] cuser2@cabinet-6-6-1 /state/data/condor_local/log$

On Monday, May 09, 2011 12&#58;33&#58;00 pm Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304969588'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-09T19:33:08+00:00">May 9, 2011 07:33 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1304969588">&nbsp;</a></div><pre>Hi Terrence,

I am using the squid proxy, because outbound traffic to
*.phys.uwm.edu&#58;80 seems to be blocked. If you could open the firewall
for that domain, I could get rid of the squid proxy entirely.

Thanks,
Robert

On 5/9/11 10&#58;18 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304961487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-09T17:18:07+00:00">May 9, 2011 05:18 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304961487">&nbsp;</a></div><pre>Well I have had some emails go back and forth with some squid experts in CMS
and they are saying it is possibly a client issue or an issue with regards to
the request.

Are you using a http client local to us, or are you using a client that you
bring into the site?

Terrence

P.S. The request appeared to be a POST which is not cached anyway, is there a
reason you are using the proxy or is it just because some sites require it to
send http remotely?

On Friday, May 06, 2011 04&#58;09&#58;00 pm you wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304740809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-07T04:00:09+00:00">May 7, 2011 04:00 AM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304740809">&nbsp;</a></div><pre>I got a response from Barry regarding the error. It seems it may be from
an option my squid was compiled with. However he brought up an
interesting point.

Pragma&#58; no-cache
which means the squid won&#39;t cache anything.  So why use it? Also, this appears to be a POST, which is simply something we never do in Frontier, so I have no experience with it.

I will have a look on monday to see if I can disable the feature.

Terrence

On 5/6/2011 4&#58;09 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304723346'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T23:09:06+00:00">May 6, 2011 11:09 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1304723346">&nbsp;</a></div><pre>I don&#39;t know if there is another Squid proxy involved. However, I
successfully use the squid proxy provided on LIGO_UWM_NEMO and STAR-BNL
for applications running on these resources.

Robert

On 5/6/11 3&#58;48 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304722446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T22:54:06+00:00">May 6, 2011 10:54 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304722446">&nbsp;</a></div><pre>I just sent an email to Barry to see if he has any insights as to why
the below error.

Terrence

On 5/6/2011 3&#58;48 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304722087'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T22:48:07+00:00">May 6, 2011 10:48 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304722087">&nbsp;</a></div><pre>I checked our version of Squid and it checks out with the required
version. The squid is also running as the store.log file is filling up
with what look like valid requests.

I have a question, does the link that you are trying to get to sit
behind its own squid proxy?

Terrence

On 5/6/2011 3&#58;39 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304721547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T22:39:07+00:00">May 6, 2011 10:39 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1304721547">&nbsp;</a></div><pre>That was on cabinet-4-4-20.t2.ucsd.edu, but actually it happens on all
the worker nodes where my test jobs are running.

Robert

On 5/6/11 3&#58;21 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304720467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T22:21:07+00:00">May 6, 2011 10:21 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1304720467">&nbsp;</a></div><pre>This appears to be a version mismatch with the proxy. I do not suppose
you know what worker node you were on when  you got this error?

Terrence

On 5/6/2011 12&#58;45 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10373#1304710751'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T19:39:11+00:00">May 6, 2011 07:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1304710751">&nbsp;</a></div><pre>[by Robert Engel]

Hello,

when using the squid proxy as specified in the job environment, I get an ERR_INVALID_REQ error in my logs&#58;

06-May-2011 12&#58;32&#58;14 [Einstein@Home] Sending scheduler request&#58; Project initialization.
06-May-2011 12&#58;32&#58;14 [Einstein@Home] Requesting new tasks
06-May-2011 12&#58;32&#58;14 [---] [http_debug] HTTP_OP&#58;&#58;init_post()&#58; <a href='http&#58;//einstein.phys.uwm.edu/EinsteinAtHome_cgi/cgi' target='_blank' rel='nofollow'>http&#58;//einstein.phys.uwm.edu/EinsteinAtHome_cgi/cgi</a>
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Info&#58;  About to connect() to proxy proxy-1.t2.ucsd.edu port 3128 (#0)
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Info&#58;    Trying 169.228.130.63...
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Info&#58;  Connected to proxy-1.t2.ucsd.edu (169.228.130.63) port 3128 (#0)
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; POST <a href='http&#58;//einstein.phys.uwm.edu/EinsteinAtHome_cgi/cgi' target='_blank' rel='nofollow'>http&#58;//einstein.phys.uwm.edu/EinsteinAtHome_cgi/cgi</a> HTTP/1.1
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; User-Agent&#58; BOINC client (x86_64-pc-linux-gnu 6.10.58)
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Host&#58; einstein.phys.uwm.edu
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Pragma&#58; no-cache
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Accept&#58; */*
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Accept-Encoding&#58; deflate, gzip
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Proxy-Connection&#58; Keep-Alive
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Content-Type&#58; application/x-www-form-urlencoded
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Content-Length&#58; 4387
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58; Expect&#58; 100-continue
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Sent header to server&#58;
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Info&#58;  HTTP 1.0, assume close after body
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; HTTP/1.0 417 Expectation failed
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; Server&#58; squid/2.7.STABLE7
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; Date&#58; Fri, 06 May 2011 19&#58;32&#58;15 GMT
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; Content-Type&#58; text/html
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; Content-Length&#58; 1475
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; X-Squid-Error&#58; ERR_INVALID_REQ 0
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; X-Cache&#58; MISS from proxy-1.t2.ucsd.edu
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; X-Cache-Lookup&#58; NONE from proxy-1.t2.ucsd.edu&#58;3128
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; Via&#58; 1.0 proxy-1.t2.ucsd.edu&#58;3128 (squid/2.7.STABLE7)
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58; Connection&#58; close
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Received header from server&#58;
<div id='show_399469846' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_399469846'>06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Info&#58;  Expire cleared
06-May-2011 12&#58;32&#58;15 [---] [http_debug] [ID#1] Info&#58;  Closing connection #0

Do you know what could trigger this error?

Thanks,
Robert

</div><script type='text/javascript'>
        $('#show_399469846').click(function() {
            $('#detail_399469846').slideDown("normal");
            $('#show_399469846').hide();
            $('#hide_399469846').show();
        });
        $('#hide_399469846').click(function() {
            $('#detail_399469846').slideUp();
            $('#hide_399469846').hide();
            $('#show_399469846').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10373">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 10373});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
