<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2773] Sites that do not authenticate GADU and request for higher priority and more slots</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2773" method="post">
<div class="page-header">
    <h3><span class="muted">2773</span> / Sites that do not authenticate GADU and request for higher priority and more slots</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Sulakhe Dinanath</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">1970-01-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2773", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2773?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2773?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Sites%20that%20do%20not%20authenticate%20GADU%20and%20request%20for%20higher%20priority%20and%20more%20slots%20ISSUE%3D2773%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2773#1165262895'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-12-04T20:08:15+00:00">Dec 4, 2006 08:08 PM UTC</time> by <b>leighg</b><a class="anchor" name="1165262895">&nbsp;</a></div><pre>Please review the table&#58;

<a href='http&#58;//vors-dev2.grid.iu.edu/vo-support-tab.html' target='_blank' rel='nofollow'>http&#58;//vors-dev2.grid.iu.edu/vo-support-tab.html</a></pre></div><div class='update_description'><i onclick="document.location='2773#1164210043'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-11-22T15:40:43+00:00">Nov 22, 2006 03:40 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1164210043">&nbsp;</a></div><pre>From&#58; 	  ruth@....
Subject&#58; 	Re&#58; Sites that don&#39;t authenticate GADU
Date&#58; 	November 22, 2006 10&#58;34&#58;16 AM EST
To&#58; 	  goc@...., jlauret@....
Cc&#58; 	  greenc@...., sulakhe@....

Jerome

I apologise if the policy is posted somewhere and I missed it. We are wondering whether the STAR
sites are able to support the GADU application which is trying for a production run as we speak. The
application has been cleaned up to be less NFS intensive -- thought of course we cannot guarantee
that there are no problems left.

Chris Green tests each site when GADU is allowed access; Dina tests the application itself; before a
run is started.

I think there is a typo here. 3450 seems to be a fax machine and Jeromes  number is x 2450 at
BNL

thank you -- we will appreciate this help

Ruth</pre></div><div class='update_description'><i onclick="document.location='2773#1164209464'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-11-22T15:31:04+00:00">Nov 22, 2006 03:31 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1164209464">&nbsp;</a></div><pre>From&#58; 	  smgallo@....
Subject&#58; 	Re&#58; Sites that don&#39;t authenticate GADU
Date&#58; 	November 22, 2006 10&#58;15&#58;23 AM EST
To&#58; 	  ruth@....
Cc&#58; 	  goc@...., greenc@...., sulakhe@....,
jbednasz@....

Hi Ruth,

Jon and I are having a discussion with the folks at the GOC about
presenting sites using a different color or shape.  The NYSGrid
sites list only GRASE and MIS in the monitoring configuration files,
and VORS shows that only those VOs have local username mappings but
still shows the dot on the map as green.

It&#39;s possible that early next year some of the NYSGrid sites may
be able to offer some cycles.  I&#39;ll check with Russ on that.

Enjoy the holiday,
Steve

From&#58; 	  goc@....
Subject&#58; 	Re&#58; [Fwd&#58; Re&#58; sites should be green or gray?]
Date&#58; 	November 22, 2006 10&#58;26&#58;06 AM EST
To&#58; 	  smgallo@....
Cc&#58; 	  jbednasz@...., leighg@...., rquick@....

We can mark sites as &#34;MAIN&#34; on VORS. You can&#39;t do anything on your end to set that. However,
GridCat will pick up a gray dot if you set the site status bit to zero. Let us know if you want sites
on VORS marked for maintenance.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a>
<div id='show_1505225435' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1505225435'>
On Nov 22, 2006, at 10&#58;12 AM, Steve Gallo wrote&#58;

Hi,

I don&#39;t see this functionality in VORS.  If I drill down to a site
I can see that only MIS and GRASE are listed under &#34;VO to Local User
Name Mapping&#34; but the site still shows green on the map, the same as
in gridcat.

Steve
</div><script type='text/javascript'>
        $('#show_1505225435').click(function() {
            $('#detail_1505225435').slideDown("normal");
            $('#show_1505225435').hide();
            $('#hide_1505225435').show();
        });
        $('#hide_1505225435').click(function() {
            $('#detail_1505225435').slideUp();
            $('#hide_1505225435').hide();
            $('#show_1505225435').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2773#1164203991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-11-22T13:59:51+00:00">Nov 22, 2006 01:59 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1164203991">&nbsp;</a></div><pre>From&#58; 	  ruth@....
Subject&#58; 	Re&#58; Sites that don&#39;t authenticate GADU
Date&#58; 	November 22, 2006 8&#58;40&#58;42 AM EST
To&#58; 	  goc@...., smgallo@....
Cc&#58; 	  greenc@...., sulakhe@....

Hello Steve

as we talked at SC. It would be good if you could regrade these sites to &#34;Grey&#34; if you are not ready
to receive VO jobs from the OSG and are only in test mode. As I said, it is confusing to those
trying to get jobs through if they see useful sites but can&#39;t get access...

Do you know when these sites might be able to offer GADU some opportunistic cycles?

And  I wish you a good Thanksgiving

thanks

Ruth

------
GRASE-ALBANY-NYS
GRASE-BINGHAMTON
GRASE-NYU-BENCH
GRASE-RIT-GCLUSTER
GRASE-SU-CLUSTER04</pre></div><div class='update_description'><i onclick="document.location='2773#1164195498'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-11-22T11:38:18+00:00">Nov 22, 2006 11:38 AM UTC</time> by <b>Joseph Brown</b><a class="anchor" name="1164195498">&nbsp;</a></div><pre>From&#58; Ruth Pordes &#60;ruth@....&#62;
To&#58; OSG Grid Operations Center &#60;goc@....&#62;,
Dinanath Sulakhe &#60;sulakhe@....&#62;
cc&#58; Chris Green &#60;greenc@....&#62;
Subject&#58; Re&#58; Sites that don&#39;t authenticate GADU
Date-Sent&#58; Wednesday, November 22, 2006 5&#58;26 AM -0600

Dina and Operations

I have another question. For the sites that do authenticate I have  seen you request
many more batch slots than you get.  Do we know why  that is and is there a way of
asking for higher priority/more slots ?

thank you

Ruth

On Nov 21, 2006, at 12&#58;30 PM, Dinanath Sulakhe wrote&#58;

<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GADU is still not authenticating at the following 22 OSG sites,</font>
<font color='#7F7E6F'>&#62; which add up to over 10K CPUs. I was wondering if we can get these</font>
<font color='#7F7E6F'>&#62; sites for opportunistic use? Together they have thousands of free</font>
<font color='#7F7E6F'>&#62; CPUs.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; BU_ATLAS_Tier2</font>
<font color='#7F7E6F'>&#62; GRASE-ALBANY-NYS</font>
<font color='#7F7E6F'>&#62; GRASE-BINGHAMTON</font>
<font color='#7F7E6F'>&#62; GRASE-NYU-BENCH</font>
<font color='#7F7E6F'>&#62; GRASE-RIT-GCLUSTER</font>
<font color='#7F7E6F'>&#62; GRASE-SU-CLUSTER04</font>
<font color='#7F7E6F'>&#62; LTU_OSG</font>
<font color='#7F7E6F'>&#62; Lehigh_coral</font>
<font color='#7F7E6F'>&#62; NERSC-PDSF</font>
<div id='show_443592869' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_443592869'><font color='#7F7E6F'>&#62; OUHEP_OSG</font>
<font color='#7F7E6F'>&#62; OU_OCHEP_SWT2</font>
<font color='#7F7E6F'>&#62; PROD_SLAC</font>
<font color='#7F7E6F'>&#62; Purdue-Lear</font>
<font color='#7F7E6F'>&#62; Rice</font>
<font color='#7F7E6F'>&#62; STAR-Bham</font>
<font color='#7F7E6F'>&#62; STAR-SAO_PAULO</font>
<font color='#7F7E6F'>&#62; STAR-WSU</font>
<font color='#7F7E6F'>&#62; TACC</font>
<font color='#7F7E6F'>&#62; TTU-ANTAEUS</font>
<font color='#7F7E6F'>&#62; UFlorida-PG</font>
<font color='#7F7E6F'>&#62; UIC_PHYSICS</font>
<font color='#7F7E6F'>&#62; UVA-sunfire</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; -Dina</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -----------------------------------------</font>
<font color='#7F7E6F'>&#62; Dinanath Sulakhe</font>
<font color='#7F7E6F'>&#62; Mathematics and Computer Science Division,</font>
<font color='#7F7E6F'>&#62; Argonne National Laboratory</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Ph&#58; (630)-252-7856   Fax&#58; (630)-252-5986</font>
</div><script type='text/javascript'>
        $('#show_443592869').click(function() {
            $('#detail_443592869').slideDown("normal");
            $('#show_443592869').hide();
            $('#hide_443592869').show();
        });
        $('#hide_443592869').click(function() {
            $('#detail_443592869').slideUp();
            $('#hide_443592869').hide();
            $('#show_443592869').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2773">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2773});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
