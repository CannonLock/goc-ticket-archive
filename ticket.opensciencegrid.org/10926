<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[10926] Current OSG TWiki configuration crashes Safari and causes Firefox to fail</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10926" method="post">
<div class="page-header">
    <h3><span class="muted">10926</span> / Current OSG TWiki configuration crashes Safari and causes Firefox to fail</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Tim Cartwright</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/other</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Tim Cartwright</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-09-19</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=10926", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/10926?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/10926?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Current%20OSG%20TWiki%20configuration%20crashes%20Safari%20and%20causes%20Firefox%20to%20fail%20ISSUE%3D10926%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10926#1316462222'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-19T19:57:02+00:00">Sep 19, 2011 07:57 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1316462222">&nbsp;</a></div><pre>Alain,

Safari 5.1 is known to cause issues with TWiki&#39;s x509 authentication system due too bug & designed feature of Safari. Please see <a href='https&#58;//twiki.grid.iu.edu/bin/view/TWiki/WebHome' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/TWiki/WebHome</a> for more detail.

I am closing this ticket for now.

Thanks,
Soichi</pre></div><div class='update_description'><i onclick="document.location='10926#1316106187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-15T17:03:07+00:00">Sep 15, 2011 05:03 PM UTC</time> by <b>VDT</b><a class="anchor" name="1316106187">&nbsp;</a></div><pre>On Sep 15, 2011, at 9&#58;25 AM, Tim Cartwright wrote&#58;
<font color='#7F7E6F'>&#62; So, to recap&#58; If Mac OS X users are reporting authentication problems</font>
<font color='#7F7E6F'>&#62; (including crashes) with older versions of Safari, it is a good idea to</font>
<font color='#7F7E6F'>&#62; check all relevant CA certificates in Keychain Access; however, Safari</font>
<font color='#7F7E6F'>&#62; 5.1 remains a lost cause.</font>

I can confirm that this isn&#39;t just &#34;Tim&#39;s wacky setup&#34;&#58; on my laptop, Safari 5.1 also crashes when going to the Twiki.

-alain</pre></div><div class='update_description'><i onclick="document.location='10926#1316096827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-15T14:27:07+00:00">Sep 15, 2011 02:27 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1316096827">&nbsp;</a></div><pre>Yesterday, Soichi and I spent some time digging into this problem, and
eventually found a solution.  In a nutshell, I had some old/stale CA
certificates that, once refreshed, allowed authentication to proceed.

Mac OS X has a central keychain, where a variety of security devices are
stored safely; the end-user tool to view and modify the keychain is the
&#34;Keychain Access&#34; application.  Most Mac OS X-aware software uses the
keychain to store and retrieve credentials, X.509 certificates, and CA
certificates.  In particular, the Safari web browser uses the system
keychain.  However, Firefox does NOT use the system keychain, instead
supplying its own store of security devices (under Preferences &#62;
Advanced &#62; Encryption &#62; View Certificates).

On one of my machines (an older Mac OS X 10.5 &#34;Leopard&#34; machine), the
system keychain had two ESNet CA certificates, one of which had expired.
Removing the bad CA certificate (and, just to be sure, refreshing both
the ESNet and DOEGrids CA certificates from doegrids.org) restored the
correct authentication behavior in Safari (version 5.0.6).  Because
Firefox has a separate keychain, fixing the system keychain did not fix
Firefox.  So, in Firefox (version 3.6.19), I removed and refreshed both
CA certificates in its keychain, and then functionality was restored.

Essentially, I went through the same process on my Mac OS X 10.6 &#34;Snow
Leopard&#34; machine, and restored some functionality.  However, the known
issue with Safari (version 5.1) crashing still exists; Firefox (version
6.0.2) now works fine.

So, to recap&#58; If Mac OS X users are reporting authentication problems
(including crashes) with older versions of Safari, it is a good idea to
check all relevant CA certificates in Keychain Access; however, Safari
5.1 remains a lost cause.

For problems with Firefox, Keychain Access does not help, but instead
users should check Firefox&#39;s own CA certificate store.

<div id='show_1929339170' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1929339170'>In either case, it is easy to reload the CA certificates from the web.

Final results&#58;

Mac OS X 10.5.8
- Safari 5.0.6 can view iu.edu pages, can&#39;t edit the TWiki (never could)
- Firefox 3.6.19 works fully

Mac OS X 10.6.8
- Safari 5.1 crashes attempting to load any iu.edu pages
- Firefox 6.0.2 works fully
- Chrome 13.0.782.220 works fully (always did)

MANY thanks to Soichi for his debugging help yesterday!!!

This ticket can be closed.

-- Tim

On 14 Sep 2011, at 13&#58;57, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1929339170').click(function() {
            $('#detail_1929339170').slideDown("normal");
            $('#show_1929339170').hide();
            $('#hide_1929339170').show();
        });
        $('#hide_1929339170').click(function() {
            $('#detail_1929339170').slideUp();
            $('#hide_1929339170').hide();
            $('#show_1929339170').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10926#1316026626'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-14T18:57:06+00:00">Sep 14, 2011 06:57 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1316026626">&nbsp;</a></div><pre>Soichi&#58; I tried to access the URL below with Firefox 3.6.19 (old
machine!) at about 1&#58;50 p.m. CDT. From my perspective, it resulted in
the same behavior as with the other IU https sites -- I was asked to
pick a certificate and then enter the passphrase, then I got the error
message&#58;

An error occurred during a connection to soichi.grid.iu.edu.

SSL peer rejected your certificate as expired.

(Error code&#58; ssl_error_expired_cert_alert)

-- Tim

On 14 Sep 2011, at 12&#58;05, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1316019943'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-14T17:05:43+00:00">Sep 14, 2011 05:05 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1316019943">&nbsp;</a></div><pre>I checked OIM, but grep &#34;Cartwright&#34; didn&#39;t yield any results on tomcat nor apache logs.

Can access following page with the certificate that you are providing?
<font color='#7F7E6F'>&#62; <a href='https&#58;//soichi.grid.iu.edu/test/test.php' target='_blank' rel='nofollow'>https&#58;//soichi.grid.iu.edu/test/test.php</a></font>

Thanks!
Soichi</pre></div><div class='update_description'><i onclick="document.location='10926#1316018170'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-14T16:36:10+00:00">Sep 14, 2011 04:36 PM UTC</time> by <b>echism</b><a class="anchor" name="1316018170">&nbsp;</a></div><pre>Tim,

I CC&#39;d Soichi on this to answer that question. Soichi, do we have any kind of log of the serial numbers on the certificates that try to connect to our services?

Thanks,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10926#1315517947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-08T21:39:07+00:00">Sep 8, 2011 09:39 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1315517947">&nbsp;</a></div><pre>OK, so I give up on Safari.

However, I just updated to Firefox 6.0.2, and get the same failure (expired cert) from the TWiki, OIM, and MyOSG.

I can view my certificate both from Firefox (during authentication) and from Keychain Access, and (a) I have only one X.509 certificate, and (b) it clearly is NOT expired (roughly, Mar 2011 to Mar 2012).  And yet the message says, &#34;SSL peer rejected your certificate as expired.&#34;

Can you see any of my connection attempts on your side?  There should have been a few to each site today (2011 September 8), ~4&#58;30 p.m. CDT.

-- Tim

On Sep 8, 2011, at 14&#58;47, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1315511263'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-08T19:47:43+00:00">Sep 8, 2011 07:47 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1315511263">&nbsp;</a></div><pre>Chrome does use Webkit, but not the same version safari does, as far as I know.  It was that move to Safari 5.1 that caused crashes.  Beforehand Safari had a whole other host of problems because of the way it handles certificates in general.

FF worked for me as of today with version 6.0.2 on the TWiki.  I authenticated, edited, and saved.

You can use OIM or MyOSG (<a href='https&#58;//oim.grid.iu.edu/' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/</a> or <a href='https&#58;//myosg.grid.iu.edu/' target='_blank' rel='nofollow'>https&#58;//myosg.grid.iu.edu/</a> ) to authenticate and do some testing.  They both use slightly different authentication methods than the TWiki does.

So, as far as what changed, Safari updated and has bugs.  Firefox also grabbed itself some separate, but equally annoying bugs, but they seem to have been fixed with the current version of FF.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10926#1315492751'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-08T14:39:11+00:00">Sep 8, 2011 02:39 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1315492751">&nbsp;</a></div><pre>Yes, of course.  By &#34;TWiki crashes Safari&#34;, I meant that as a shortcut for &#34;something about the TWiki certificate configuration, my certificate, and Safari&#39;s handling thereof causes Safari to crash&#34;.

But, interestingly, Chrome works and I seem to recall that Chrome uses WebKit.

Also, Firefox does NOT use WebKit and fails to authenticate with the OSG TWiki host.

What&#39;s more, as I keep trying to say, SOMETHING changed.  I used to use Safari to view TWiki pages (perhaps, as you say, the recent upgrade to Safari caused the change there), and I used to use Firefox to view and edit TWiki pages (I forget my update history there).

I do not know of any other sites that request my X.509 certificate to test against, or I would.  Do you (all) know of any?

-- Tim

On Sep 8, 2011, at 09&#58;14, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1315491293'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-08T14:14:53+00:00">Sep 8, 2011 02:14 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1315491293">&nbsp;</a></div><pre>Tim,

To say that the problem is with the TWiki is fairly far-fetched.  It&#39;s not that the OSG TWiki crashes Safari...it&#39;s that any certificate authentication seems to crash Safari...at least in the testing experience I&#39;ve done.  There&#39;s a known bug in WebKit for this.  The Safari 5.1 update used the new version of Webkit that exhibits this behavior.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10926#1315490418'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-08T14:00:18+00:00">Sep 8, 2011 02:00 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1315490418">&nbsp;</a></div><pre>Safari *has* had problems in the past, but only recently has the OSG TWiki started crashing it.

Firefox still exhibits the same problem on TWO separate machines with different versions of Mac OS X.

-- Tim

On Sep 7, 2011, at 12&#58;14, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1315415639'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-07T17:13:59+00:00">Sep 7, 2011 05:13 PM UTC</time> by <b>echism</b><a class="anchor" name="1315415639">&nbsp;</a></div><pre>Tim,

We have a known issue with safari that we&#39;ve been unable to resolve. Is firefox still exhibiting the behavior you described?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10926#1314646566'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-29T19:36:06+00:00">Aug 29, 2011 07:36 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1314646566">&nbsp;</a></div><pre>Strangely, Chrome (13.0.782.215) works. Still, I would like a resolution to this issue, if possible. Safari used to work fine (with the same, still valid cert).

On Aug 26, 2011, at 11&#58;39, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1314376749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-26T16:39:09+00:00">Aug 26, 2011 04:39 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1314376749">&nbsp;</a></div><pre>And FWIW, clicking on the URL below (&#34;For complete ticket details...&#34;) caused the same problems.  So apparently this is not unique to the TWiki.  Nor is it unique to me -- Alain Roy reported similar problems to me.

-- Tim

On Aug 26, 2011, at 11&#58;11, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1314376747'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-26T16:39:07+00:00">Aug 26, 2011 04:39 PM UTC</time> by <b>cat@....</b><a class="anchor" name="1314376747">&nbsp;</a></div><pre>Please read my message carefully&#58; Firefox reports information about the certificate that it is presenting, and the certificate contains the valid dates copied and pasted into the original email.

Also note that this behavior is new, and my machine configuration has not changed since the TWiki worked fine.

-- Tim

On Aug 26, 2011, at 11&#58;11, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10926#1314375105'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-26T16:11:45+00:00">Aug 26, 2011 04:11 PM UTC</time> by <b>echism</b><a class="anchor" name="1314375105">&nbsp;</a></div><pre>Tim,

Is it possible that you have more than one cert in firefox and it is using an older one instead of your current cert?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10926#1314374932'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-26T16:08:52+00:00">Aug 26, 2011 04:08 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1314374932">&nbsp;</a></div><pre>[by Tim Cartwright]

If I access the OSG TWiki from Safari (version 5.1 on Mac OS X 10.6.8), Safari crashes.  If I access the TWiki from Firefox (version 5.0.1), it prompts for a certificate (as usual) and then the certificate passphrase (as usual), and then fails to load the page with&#58;

Secure Connection Failed
An error occurred during a connection to twiki.grid.iu.edu.
SSL peer rejected your certificate as expired.
(Error code&#58; ssl_error_expired_cert_alert)

Note that Firefox itself reports my certificate validity period as follows&#58;

Valid from 2011-03-02 11&#58;23&#58;49 to 2012-03-01 11&#58;23&#58;49

-- Tim</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10926">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 10926});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
