<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[21136] My test CE stopped running job</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=21136" method="post">
<div class="page-header">
    <h3><span class="muted">21136</span> / My test CE stopped running job</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Soichi Hayashi</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Soichi Hayashi</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Track in HTCondor gittrac</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-08-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/21136", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/21136?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/21136?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20My%20test%20CE%20stopped%20running%20job%20ISSUE%3D21136%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='21136#1407799404'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-11T23:23:24+00:00">Aug 11, 2014 11:23 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1407799404">&nbsp;</a></div><pre>Sorry for the delays. I finally got enough spare cycles to debug this.

I believe I&#39;ve replicated the original issue. From Globus&#39;s point of view, everything went smoothly -- by the time the job gets to the worker node, it&#39;s in HTCondor&#39;s hands. HTCondor reports the problem via the StarterLog on the execute node, but it does not get relayed back to the CE or the user. I&#39;ve opened up a ticket on the HTCondor bug tracker, and will close this one. The URL is&#58; <a href='https&#58;//htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=4529' target='_blank' rel='nofollow'>https&#58;//htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=4529</a>

-Mat</pre></div><div class='update_description'><i onclick="document.location='21136#1407776897'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-11T17:08:17+00:00">Aug 11, 2014 05:08 PM UTC</time><a class="anchor" name="1407776897">&nbsp;</a></div><pre>Hi Mat,

Do you mind if we close this and we trade this for a Jira ticket, which might be a better place to discuss and track how to design a solution to address this in the long term?

Cheers,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='21136#1407256361'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-05T16:32:41+00:00">Aug 5, 2014 04:32 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1407256361">&nbsp;</a></div><pre>Hello Mat,

Do you have any new information on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='21136#1406150739'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-07-23T21:25:39+00:00">Jul 23, 2014 09:25 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1406150739">&nbsp;</a></div><pre>Hi Mat,

Checking in to see if I can assist with this ticket.

Thanks,
Vince</pre></div><div class='update_description'><i onclick="document.location='21136#1405460717'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-07-15T21:45:17+00:00">Jul 15, 2014 09:45 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1405460717">&nbsp;</a></div><pre>I have not had time to work on this.
-Mat</pre></div><div class='update_description'><i onclick="document.location='21136#1405459790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-07-15T21:29:50+00:00">Jul 15, 2014 09:29 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1405459790">&nbsp;</a></div><pre>Hi Mat,

Just pinging for an update since we are past the NAD.

Carl</pre></div><div class='update_description'><i onclick="document.location='21136#1404763113'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-07-07T19:58:33+00:00">Jul 7, 2014 07:58 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1404763113">&nbsp;</a></div><pre>Afternoon, Mat.

Anything I can do to assist with this ticket?

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='21136#1403722208'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-25T18:50:08+00:00">Jun 25, 2014 06:50 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1403722208">&nbsp;</a></div><pre>I&#39;d like to keep this open until I can make sure the issue is general enough for me to capture it in a JIRA ticket.
-Mat</pre></div><div class='update_description'><i onclick="document.location='21136#1403716780'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-25T17:19:40+00:00">Jun 25, 2014 05:19 PM UTC</time><a class="anchor" name="1403716780">&nbsp;</a></div><pre>Hi Mat,

Are you openning a Jira ticket for it? Or do you want to keep this open?

Edgar
OSG Software Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='21136#1403707431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-25T14:43:51+00:00">Jun 25, 2014 02:43 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1403707431">&nbsp;</a></div><pre>Right. I&#39;m not looking at how the CE could detect which users exist on the worker nodes. I&#39;m looking into why Globus didn&#39;t give Soichi a better error message when it couldn&#39;t map to a user.</pre></div><div class='update_description'><i onclick="document.location='21136#1403550685'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-23T19:11:25+00:00">Jun 23, 2014 07:11 PM UTC</time><a class="anchor" name="1403550685">&nbsp;</a></div><pre>Hi Mat,

Just speaking in theory. The CE only knows how to submit to the head node (batch) system. Theoretically it is impossible for it to know the local user names installed in all the worker nodes. So I don&#39;t see anyway any software on the CE could have detect those worker nodes missing the mapped names.

IMHO, this looks more like some system management system can do like puppet. Even if the site is using GUMS, and you could querry GUMS for all the local mapping, there is no way you could be sure they exist in all the worker nodes.

Let me know id you plan on opening a Jira ticket and discussing this. But right now I don&#39;t see how this is possible at the CE level.

Edgar Fajardo
OSG Software

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='21136#1403023893'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-17T16:51:33+00:00">Jun 17, 2014 04:51 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1403023893">&nbsp;</a></div><pre>Hi Mat, any updates on this?

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='21136#1402327585'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-09T15:26:25+00:00">Jun 9, 2014 03:26 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1402327585">&nbsp;</a></div><pre>Well, we can&#39;t really put a check in osg-configure because osg-configure doesn&#39;t have a list of all your worker nodes.

Unless I&#39;m missing something, it&#39;s not that the same user has to exist on the CE as on the WNs, but the user that your proxy gets mapped to has to exist on the WNs. I would&#39;ve expected Globus to give a better error message for mapping to a nonexistant user though...

I&#39;ll experiment with this.

-Mat</pre></div><div class='update_description'><i onclick="document.location='21136#1402323210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-09T14:13:30+00:00">Jun 9, 2014 02:13 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1402323210">&nbsp;</a></div><pre>Sending this ticket to Mat Selmeci, who owns osg-configure now. We will look into it soon!

(Mat, once you have looked at the issue, please update this ticket with either a JIRA ticket URL or whatever other plans we have.)</pre></div><div class='update_description'><i onclick="document.location='21136#1401387167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-29T18:12:47+00:00">May 29, 2014 06:12 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1401387167">&nbsp;</a></div><pre>(Sending this to Software Team)

Software Team,

Is it possible for osg-configure or maybe even htcondor to alert user that certain user that exists on CE doesn&#39;t exist under any WN? Or maybe update htcondor to report that none of the slots matches the job because there are no WN with requested user name?</pre></div><div class='update_description'><i onclick="document.location='21136#1400776381'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-22T16:33:01+00:00">May 22, 2014 04:33 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1400776381">&nbsp;</a></div><pre>I&#39;ve looked around again, and noticed that user&#58;osg didn&#39;t exist on wn1/2/3 althought it existed on ce itself. I&#39;ve added user&#58;osg on wn1/2/3 and restarted condor on wn/ce and gatekeeper on ce. After that, I started to be able to submit jobs under osg user!

2014-05-22 15&#58;59&#58;53 UTC [hayashis@soichi6]$ globus-job-run ce.grid.iu.edu/jobmanager-condor /usr/bin/whoami
osg

So, my immediate problem is solved. I&#39;d like to point out however, that, currently nothing will prompt you that user account is missing in any of the common log files. This problem would have been found and fixed much sooner if condor output some warning message somewhere, and I&#39;d like to have input from our software team on this.</pre></div><div class='update_description'><i onclick="document.location='21136#1400599362'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-20T15:22:42+00:00">May 20, 2014 03:22 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1400599362">&nbsp;</a></div><pre>Ah.. Yes I can submit job successfully under mis VO. And I am seeing the same &#34;error&#34; message under gram_mis.log which means &#34;Unable to lock file, perhaps another job manager is running&#34; is just a red-herring.

So.. where should I look next? I don&#39;t see anything interesting posted in the condor log. What could cause a job under certain VO to queue but not get executed?</pre></div><div class='update_description'><i onclick="document.location='21136#1400527246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-19T19:20:46+00:00">May 19, 2014 07:20 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1400527246">&nbsp;</a></div><pre>Soichi,

I see this when I run the job from Soichi6&#58;

[kagross@soichi6&#58;~]$ globus-job-run ce.grid.iu.edu/jobmanager-condor /bin/hostname
wn3.grid.iu.edu

-- Submitter&#58; ce.grid.iu.edu &#58; &#60;129.79.53.31&#58;47593&#62; &#58; ce.grid.iu.edu
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
1356.0   osg             5/17 19&#58;53   0+05&#58;44&#58;24 I  0   0.0  whoami
1374.0   osg             5/17 20&#58;35   0+06&#58;01&#58;08 I  0   0.0  hostname
1380.0   osg             5/18 02&#58;43   0+02&#58;21&#58;28 I  0   0.0  hostname
1383.0   mis             5/19 19&#58;18   0+00&#58;00&#58;00 I  0   0.0  hostname

4 jobs; 0 completed, 0 removed, 4 idle, 0 running, 0 held, 0 suspended

And then once the result is returned&#58;

-- Submitter&#58; ce.grid.iu.edu &#58; &#60;129.79.53.31&#58;47593&#62; &#58; ce.grid.iu.edu
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
1356.0   osg             5/17 19&#58;53   0+05&#58;44&#58;31 R  0   0.0  whoami
1374.0   osg             5/17 20&#58;35   0+06&#58;01&#58;15 R  0   0.0  hostname
1380.0   osg             5/18 02&#58;43   0+02&#58;21&#58;35 R  0   0.0  hostname

3 jobs; 0 completed, 0 removed, 0 idle, 3 running, 0 held, 0 suspended

Could it be something with the OSG VO?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='21136#1400359960'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-17T20:52:40+00:00">May 17, 2014 08:52 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1400359960">&nbsp;</a></div><pre>I have a test CE (ce.grid.iu.edu) running OSG version 3.2.9. It stopped running job couple of month ago, and I need a help troubleshooting it.

The gatekeeper itself seems to work fine.
2014-05-17 20&#58;50&#58;15 UTC [hayashis@soichi6]$ globus-job-run ce.grid.iu.edu /bin/hostname
ce.grid.iu.edu

But when I submit a test job on this CE, it never returns.
<font color='#7F7E6F'>&#62; globus-job-run ce.grid.iu.edu/jobmanager-condor /bin/hostname</font>

The job is queued in CE&#39;s but it remains IDLE.

2014-05-17 20&#58;50&#58;53 UTC [root@ce&#58;/var/log/globus]# condor_q
-- Submitter&#58; ce.grid.iu.edu &#58; &#60;129.79.53.31&#58;47593&#62; &#58; ce.grid.iu.edu
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
1379.0   osg             5/17 20&#58;50   0+00&#58;00&#58;00 R  0   0.0  hostname

On CE&#58;/var/log/globus/gram_osg.log, I am seeing following message when I run above command

<font color='#7F7E6F'>&#62; ts=2014-05-17T20&#58;45&#58;38.628046Z id=15589 event=gram.startup_lock.end level=DEBUG status=-124 path=&#34;/var/lib/globus/gram_job_state/osg/ce/condor.4e162ba9.lock&#34; msg=&#34;Unable to lock file, perhaps another job manager is running&#34; errno=11 reason=&#34;Resource temporarily unavailable&#34;</font>

I don&#39;t know if this message means anything, but I saw a similar error message reported on this ticket &#62; <a href='https&#58;//ticket.grid.iu.edu/17461' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/17461</a> I wonder if it&#39;s related. Removing the lock file doesn&#39;t help, and I&#39;ve done yum update / osg-configure, and rebooted both CE/WNs but that didn&#39;t help.

I&#39;d like to have some assistance troubleshooting this issue.

Thanks!
Soichi</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F21136">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
