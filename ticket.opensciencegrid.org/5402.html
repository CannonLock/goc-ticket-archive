<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5402] dCache - srmping srmcp failure against BestMan SE</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5402" method="post">
<div class="page-header">
    <h3><span class="muted">5402</span> / dCache - srmping srmcp failure against BestMan SE</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Neha SHARMA</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Neha to update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-10-02</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5402", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5402#1222442665'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-26T15:24:25+00:00">Sep 26, 2008 03:24 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1222442665">&nbsp;</a></div><pre>user should add -access_latency=ONLINE -retention_policy=REPLICA for srmGet and -storagetype=volatile for
srmPut</pre></div><div class='update_description'><i onclick="document.location='5402#1222367947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-25T18:39:07+00:00">Sep 25, 2008 06:39 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1222367947">&nbsp;</a></div><pre>Has there been any update to this ticket?</pre></div><div class='update_description'><i onclick="document.location='5402#1221074724'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-10T19:25:24+00:00">Sep 10, 2008 07:25 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1221074724">&nbsp;</a></div><pre>Hi Alexan

Do you understand how to give read/write access on your SE to a user? If Yes, please add my DN, so that I can
reproduce the problem.
If No, Alex, can you help Alexan set my DN up?

Its &#34;/DC=org/DC=doegrids/OU=People/CN=Neha Sharma 95626&#34;

Thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='5402#1220644115'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-05T19:48:35+00:00">Sep 5, 2008 07:48 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1220644115">&nbsp;</a></div><pre>Updating NAD</pre></div><div class='update_description'><i onclick="document.location='5402#1220372034'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-02T16:13:54+00:00">Sep 2, 2008 04:13 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1220372034">&nbsp;</a></div><pre>Alexan,

Have you tried the following command with lbnl srm-ping  (..../srm-ping
<a href='srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server</a>) ?

are you running GUMS that connects to SRM or by itself for testing?

-- Alex
asim at lbl dot gov

On 8/20/08 11&#58;46 AM, Neha Sharma wrote&#58;
I am asking for you to allow me to have readwrite access on your SE
for my testing purposes.
How do you authorize users? or even yourself?

CCing Alex - may be he can point to setting up authorization for
BestMan based SEs

-Neha
On Aug 20, 2008, at 1&#58;08 PM, Alexan Mardigian wrote&#58;

Hi,

I&#39;m not sure what it is you&#39;re asking me to do.  How do I go about that?

-Alexan

Neha Sharma wrote&#58;
Hi

My DN is &#58; /DC=org/DC=doegrids/OU=People/CN=Neha Sharma 95626

Could you give me read/write access under some test location, so I
can test this out?

<div id='show_1280310224' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1280310224'>-Neha
On Aug 20, 2008, at 11&#58;47 AM, Alexan Mardigian wrote&#58;

Hello Neha,

Sorry I did not get back to you in a prompt manner.  I have tried
changing the port number and everything described below.  I did all
the steps mentioned below to change the ports.  However, nothing is
happening.  Is there some script I need to run or something else I
that I over looking?

-Alexan Mardigian

Neha Sharma wrote&#58;
Hi

Has there been any update on this?
This is second reminder. If I do not get a response by end of day
today, I will close this ticket for now.
(If this issue is still unresolved, I can reopen it again, but I
need some response from you)

Thanks
-Neha

On 8/27/2008 10&#58;27 AM, Alexan Mardigian pondered&#58;
Dear Arvind,

Please forgive me for not contacting you sooner.  I have been out of
the office due to sickness and I have been trying to contact my
supervisor, Ian Stokes-Rees.  I have been trying to get a hold of him
to ask him how our SE has been set up.  However, I have not been able
to reach him.  I still have not been able to resolve this issue,
because I am not sure how the SE is set up.  He will be back in the
office next week.

Once again, I am sorry for any inconvenience I may have caused you (or
anyone else).
Sincerely,
Alexan Mardigian
</div><script type='text/javascript'>
        $('#show_1280310224').click(function() {
            $('#detail_1280310224').slideDown("normal");
            $('#show_1280310224').hide();
            $('#hide_1280310224').show();
        });
        $('#hide_1280310224').click(function() {
            $('#detail_1280310224').slideUp();
            $('#hide_1280310224').hide();
            $('#show_1280310224').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5402#1220027590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-29T16:33:10+00:00">Aug 29, 2008 04:33 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1220027590">&nbsp;</a></div><pre>Changing NAD to the 5th and seeing if there are any updates</pre></div><div class='update_description'><i onclick="document.location='5402#1219432105'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-22T19:08:25+00:00">Aug 22, 2008 07:08 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1219432105">&nbsp;</a></div><pre>Changing NAD to the 29th and seeing if there are any updates</pre></div><div class='update_description'><i onclick="document.location='5402#1218828673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-15T19:31:13+00:00">Aug 15, 2008 07:31 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1218828673">&nbsp;</a></div><pre>Changing NAD to the 22nd</pre></div><div class='update_description'><i onclick="document.location='5402#1218727124'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-14T15:18:44+00:00">Aug 14, 2008 03:18 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1218727124">&nbsp;</a></div><pre>Very good points...
I agree on both... check the certificate type that server is running, and check the port.
And see if you can run lbnl srm-ping  (..../srm-ping <a href='srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server</a>) to see if it&#39;s
not a proxy or authN issue..

-- Alex
asim at lbl dot gov

On 8/11/08 10&#58;33 AM, Malina Kirn wrote&#58;
I agree, this looks like a port conflict issue.  BeStMan runs on 8443
by default, but some OSG services also try to run on 8443.  Are you
running both your CE and SE on the same host?  If this is the case,
you&#39;re going to need to change the ports the CE services run on.

I&#39;ve CC&#39;ed the LBNL srm folks, in case they&#39;ve seen this error before
and know what it might be.

Malina

Instructions to change CE ports are here&#58;

<a href='http&#58;//hep-t3.physics.umd.edu/HowToForAdmins.html#osgOnce' target='_blank' rel='nofollow'>http&#58;//hep-t3.physics.umd.edu/HowToForAdmins.html#osgOnce</a>

And the relevant details are&#58;

srm is hard coded in many places (some which we do not control) to be
on port 8443. Change the port that CEmon listens on by replacing 8443
in /share/apps/osg/tomcat/v5/conf/server.xml with 7443. We must do
this since our HN is both our CE and SE. The line&#58;
&#60;Connector port=&#34;8893&#34;
enableLookups=&#34;false&#34; redirectPort=&#34;8443&#34; debug=&#34;0&#34;
protocol=&#34;AJP/1.3&#34; /&#62;
should become&#58;
&#60;Connector port=&#34;8893&#34;
enableLookups=&#34;false&#34; redirectPort=&#34;7443&#34; debug=&#34;0&#34;
<div id='show_595648896' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_595648896'>protocol=&#34;AJP/1.3&#34; /&#62;
Similarly, change the ports that Apache listens on by replacing 8080
in /share/apps/osg/apache/conf/httpd.conf with 6060. The line&#58;
Listen 8080
should become&#58;
Listen 6060
And edit the file /share/apps/osg/apache/conf/extra/httpd-ssl.conf to
change port 8443 to port 7443. The lines&#58;
Listen 8443
RewriteRule (.*) https&#58;//%{SERVER_NAME}&#58;8443$1
should become&#58;
Listen 7443
RewriteRule (.*) https&#58;//%{SERVER_NAME}&#58;7443$1

On Mon, Aug 11, 2008 at 1&#58;07 PM, Alan Sill &#60;Alan.Sill@....&#62; wrote&#58;

Two things to check&#58;

(1) Is your remote SRMv2 service at abitibi.sbgrid.org running on the port
you specified, and with host certificates?  If the port is correct, the next
thing to check is the certificate.  Note theat the Fermi client can be told
what sort of certificate to expect by using a command qualifier.  See this
note from the BeStMan administrative guide&#58;

&#39;Note that some of FNAL SRM clients have a default GSS type to support in a
request call. By default it is fixed to &#34;host&#34;. Many of SRM deployment use
other service type certificates such as &#34;http&#34; or &#34;srm&#34;. In such cases, FNAL
SRM clients need &#39;-gss_expected_name=srm&#34; or &#34;-gss_expected_name=http&#34; as an
option.&#39;

(2) If all of the above are OK, have you checked that in the context in
which it runs, the rsv user has a valid proxy?

Hope this helps somewhat,
Alan

Mon Aug 11 11&#58;23&#58;25 EDT 2008&#58; In SRMClient ExpectedName&#58; host
Mon Aug 11 11&#58;23&#58;25 EDT 2008&#58; SRMClient(https,srm/v2/server,true)
SRMClientV2 &#58; user credentials are&#58;
/DC=org/DC=doegrids/OU=People/CN=Ian Stokes-Rees 411174
SRMClientV2 &#58; connecting to srm at
httpg&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server
SRMClientV2 &#58; srmPing , contacting service
httpg&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
org.globus.common.ChainedIOException&#58; Authentication failed
[Caused by&#58; Failure unspecified at GSS-API level [Caused by&#58;
java.io.EOFException]]

...

When I run the next command, /opt/osg-1.0/srm-client-fermi//bin/srmcp
-srm_protocol_version=2
file&#58;////opt/osg-1.0/osg-rsv/bin/probes/storage-probe-test-file <a href='srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server?SFN=/se/data/shared/test/foobar.out' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server?SFN=/se/data/shared/test/foobar.out</a>
I get the following output&#58;

srm client error&#58;
[JGLOBUS-5] Proxy file () not found.

...

Alan Sill, Ph.D
TIGRE Senior Scientist, High Performance Computing Center
Adjunct Professor of Physics
TTU

====================================================================
&#58;  Alan Sill, Texas Tech University  Office&#58; Admin 233, MS 4-1167  &#58;
&#58;  e-mail&#58; Alan.Sill@....   ph. 806-742-4350  fax 806-742-4358  &#58;
====================================================================
Alex/Neha/OSG-Storage group, please help Alexan in resolving the SRM issues outlined below.

Thanks!

Alexan, I am not an SRM expert, so I&#39;ve copied some people who might know ... including Malina Kirn who did
some really good trouble-shooting with her SRM instance.

Cheers,
Arvind

Hi Arvind,

I ran both commands and I got errors on both of them.  I&#39;m not sure where to start when it comes to fixing
these errors.
when I run&#58; /opt/osg-1.0/srm-client-fermi//bin/srmping -retry_num=0 -debug -2 -
x509_user_proxy=/tmp/x509up_u9469 <a href='srm&#58;//abitibi.sbgrid.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443</a> -webservice_path=srm/v2/server  I get
the  following output&#58;

*Storage Resource Manager (SRM) Client version 2.0.9
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

SRM Configuration&#58;
debug=true
gsissl=true
help=false
pushmode=false
userproxy=true
buffer_size=131072
tcp_buffer_size=0
streams_num=1
config_file=/opt/osg-1.0/srm-client-fermi/etc/config-2.xml
glue_mapfile=/opt/osg-1.0/srm-client-fermi/conf/SRMServerV1.map
webservice_path=srm/v2/server
webservice_protocol=https
gsiftpclinet=globus-url-copy
protocols_list=http,gsiftp
save_config_file=null
srmcphome=/opt/osg-1.0/srm-client-fermi
urlcopy=sbin/urlcopy.sh
x509_user_cert=
x509_user_key=
x509_user_proxy=/tmp/x509up_u9469
x509_user_trusted_certificates=/opt/osg-1.0/globus/TRUSTED_CA
globus_tcp_port_range=null
gss_expected_name=null
storagetype=permanent
retry_num=0
retry_timeout=10000
wsdl_url=null
use_urlcopy_script=false
connect_to_wsdl=false
delegate=true
full_delegation=true
server_mode=passive
srm_protocol_version=2
request_lifetime=86400
access latency=null
overwrite mode=null
priority=0
Mon Aug 11 11&#58;23&#58;25 EDT 2008&#58; In SRMClient ExpectedName&#58; host
Mon Aug 11 11&#58;23&#58;25 EDT 2008&#58; SRMClient(https,srm/v2/server,true)
SRMClientV2 &#58; user credentials are&#58; /DC=org/DC=doegrids/OU=People/CN=Ian Stokes-Rees 411174
SRMClientV2 &#58; connecting to srm at httpg&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server
SRMClientV2 &#58; srmPing , contacting service httpg&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
org.globus.common.ChainedIOException&#58; Authentication failed [Caused by&#58; Failure unspecified at GSS-API
level [Caused by&#58; java.io.EOFException]]
Exception in thread &#34;main&#34; AxisFault
faultCode&#58; {<a href='http&#58;//schemas.xmlsoap.org/soap/envelope/' target='_blank' rel='nofollow'>http&#58;//schemas.xmlsoap.org/soap/envelope/</a>}Server.userException
faultSubcode&#58;
faultString&#58; org.globus.common.ChainedIOException&#58; Authentication failed [Caused by&#58; Failure unspecified at
GSS-API level [Caused by&#58; java.io.EOFException]]
faultActor&#58;
faultNode&#58;
faultDetail&#58;
{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}stackTrace&#58;Authentication failed. Caused by Failure unspecified at GSS-API
level. Caused by java.io.EOFException
at org.bouncycastle.asn1.DERInputStream.readObject(Unknown Source)
at
org.globus.gsi.bc.BouncyCastleCertProcessingFactory.createCertificate(BouncyCastleCertProcessingFactory.java&#58;
170)
at
org.globus.gsi.bc.BouncyCastleCertProcessingFactory.createCertificate(BouncyCastleCertProcessingFactory.java&#58;
98)
at org.globus.gsi.gssapi.GlobusGSSContextImpl.initSecContext(GlobusGSSContextImpl.java&#58;577)
at org.globus.gsi.gssapi.net.GssSocket.authenticateClient(GssSocket.java&#58;107)
at org.globus.gsi.gssapi.net.GssSocket.startHandshake(GssSocket.java&#58;145)
at org.globus.gsi.gssapi.net.GssSocket.getOutputStream(GssSocket.java&#58;166)
at org.apache.axis.transport.http.HTTPSender.writeToSocket(HTTPSender.java&#58;440)
at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java&#58;138)
at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java&#58;32)
at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java&#58;118)
at org.apache.axis.SimpleChain.invoke(SimpleChain.java&#58;83)
at org.apache.axis.client.AxisClient.invoke(AxisClient.java&#58;165)
at org.apache.axis.client.Call.invokeEngine(Call.java&#58;2784)
at org.apache.axis.client.Call.invoke(Call.java&#58;2767)
at org.apache.axis.client.Call.invoke(Call.java&#58;2443)
at org.apache.axis.client.Call.invoke(Call.java&#58;2366)
at org.apache.axis.client.Call.invoke(Call.java&#58;1812)
at org.dcache.srm.v2_2.SrmSoapBindingStub.srmPing(SrmSoapBindingStub.java&#58;2740)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;25)
at java.lang.reflect.Method.invoke(Method.java&#58;597)
at org.dcache.srm.client.SRMClientV2.handleClientCall(SRMClientV2.java&#58;179)
at org.dcache.srm.client.SRMClientV2.srmPing(SRMClientV2.java&#58;280)
at gov.fnal.srm.util.SRMPingClientV2.start(SRMPingClientV2.java&#58;118)
at gov.fnal.srm.util.SRMDispatcher.work(SRMDispatcher.java&#58;795)
at gov.fnal.srm.util.SRMDispatcher.main(SRMDispatcher.java&#58;374)

{<a href='http&#58;//xml.apache.org/axis/' target='_blank' rel='nofollow'>http&#58;//xml.apache.org/axis/</a>}hostname&#58;abitibi.sbgrid.org

org.globus.common.ChainedIOException&#58; Authentication failed [Caused by&#58; Failure unspecified at GSS-API level
[Caused by&#58; java.io.EOFException]]
at org.apache.axis.AxisFault.makeFault(AxisFault.java&#58;101)
at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java&#58;154)
at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java&#58;32)
at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java&#58;118)
at org.apache.axis.SimpleChain.invoke(SimpleChain.java&#58;83)
at org.apache.axis.client.AxisClient.invoke(AxisClient.java&#58;165)
at org.apache.axis.client.Call.invokeEngine(Call.java&#58;2784)
at org.apache.axis.client.Call.invoke(Call.java&#58;2767)
at org.apache.axis.client.Call.invoke(Call.java&#58;2443)
at org.apache.axis.client.Call.invoke(Call.java&#58;2366)
at org.apache.axis.client.Call.invoke(Call.java&#58;1812)
at org.dcache.srm.v2_2.SrmSoapBindingStub.srmPing(SrmSoapBindingStub.java&#58;2740)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;25)
at java.lang.reflect.Method.invoke(Method.java&#58;597)
at org.dcache.srm.client.SRMClientV2.handleClientCall(SRMClientV2.java&#58;179)
at org.dcache.srm.client.SRMClientV2.srmPing(SRMClientV2.java&#58;280)
at gov.fnal.srm.util.SRMPingClientV2.start(SRMPingClientV2.java&#58;118)
at gov.fnal.srm.util.SRMDispatcher.work(SRMDispatcher.java&#58;795)
at gov.fnal.srm.util.SRMDispatcher.main(SRMDispatcher.java&#58;374)
Caused by&#58; org.globus.common.ChainedIOException&#58; Authentication failed [Caused by&#58; Failure unspecified at
GSS-API level [Caused by&#58; java.io.EOFException]]
at org.globus.gsi.gssapi.net.GssSocket.startHandshake(GssSocket.java&#58;150)
at org.globus.gsi.gssapi.net.GssSocket.getOutputStream(GssSocket.java&#58;16*

When I run the next command, /opt/osg-1.0/srm-client-fermi//bin/srmcp -srm_protocol_version=2
file&#58;////opt/osg-1.0/osg-rsv/bin/probes/storage-probe-test-file <a href='srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server?SFN=/se/data/shared/test/foobar.out' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server?SFN=/se/data/shared/test/foobar.out</a>      I get the following output&#58;

srm client error&#58;
[JGLOBUS-5] Proxy file () not found.

I&#39;m sure it&#39;s because it&#39;s dependent on the previous command.

I am not clear as to what could be allowing these errors to occur.

Cheers,
Alexan

Arvind Gopu wrote&#58;
Hi Ian,

See inline ...

We have 3 problematic RSV tests.  Two SRM tests don&#39;t seem to be running at all, and our CE _APP and _DATA
directories are failing the permissions test.

How do we get the SRM probes running?

I see the following in the probe output, which tells me this could be a firewall issue.
detailsData&#58; Command [/opt/osg-1.0/srm-client-fermi//bin/srmping -retry_num=0 -debug -2 -
x509_user_proxy=/tmp/x509up_u9469
<a href='srm&#58;//abitibi.sbgrid.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443</a> -webservice_path=srm/v2/server 2&#62;&amp;1 ] timed out after 300 seconds in
OSG_RSV_Probe_Base&#58;&#58;Srm_Ping_Host
()-&#62;Run_Command(); bailing now ...
EOT
Are you able to do the following, as the RSV Unix user??

.  /opt/osg-1.0/setup.sh

/opt/osg-1.0/srm-client-fermi//bin/srmping -retry_num=0 -debug -2 -x509_user_proxy=/tmp/x509up_u9469
<a href='srm&#58;//abitibi.sbgrid.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443</a> -webservice_path=srm/v2/server

/opt/osg-1.0/srm-client-fermi//bin/srmcp -srm_protocol_version=2 file&#58;////opt/osg-1.0/osg-
rsv/bin/probes/storage-probe-test-file <a href='srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server?SFN=/se/data/shared/test/foobar.out' target='_blank' rel='nofollow'>srm&#58;//abitibi.sbgrid.org&#58;8443/srm/v2/server?SFN=/se/data/shared/test/foobar.out</a>

Let me know.
</div><script type='text/javascript'>
        $('#show_595648896').click(function() {
            $('#detail_595648896').slideDown("normal");
            $('#show_595648896').hide();
            $('#hide_595648896').show();
        });
        $('#hide_595648896').click(function() {
            $('#detail_595648896').slideUp();
            $('#hide_595648896').hide();
            $('#show_595648896').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5402">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
