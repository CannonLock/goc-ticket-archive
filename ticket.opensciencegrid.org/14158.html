<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[14158] GUMS java error</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=14158" method="post">
<div class="page-header">
    <h3><span class="muted">14158</span> / GUMS java error</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jordan Robertson</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">FLTECH-SE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jordan Robertson</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier3</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-06-17</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Suchandra Thapa <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/14158", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/14158?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/14158?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20GUMS%20java%20error%20ISSUE%3D14158%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='14158#1371652871'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-19T14:41:11+00:00">Jun 19, 2013 02:41 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1371652871">&nbsp;</a></div><pre>As per response from Jordan, closing this ticket
-Neha</pre></div><div class='update_description'><i onclick="document.location='14158#1371528912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-18T04:15:12+00:00">Jun 18, 2013 04:15 AM UTC</time><a class="anchor" name="1371528912">&nbsp;</a></div><pre>So sorry, I&#39;ve been juggling a lot lately, but it appears a recent tomcat5 update through yum has been pushed.  After running the update, GUMS works quite well.  My config file appears to be a bit faulty, but I can tweak that in my own time.  As such, I believe this ticket can be closed.  The rpm that fixed the issue was&#58;

Name        &#58; tomcat5                      Relocations&#58; (not relocatable)
Version     &#58; 5.5.23                            Vendor&#58; CentOS
Release     &#58; 0jpp.40.el5_9                 Build Date&#58; Tue 28 May 2013 01&#58;51&#58;36 PM EDT
Install Date&#58; Tue 18 Jun 2013 12&#58;11&#58;44 AM EDT      Build Host&#58; builder10.centos.org
Group       &#58; Networking/Daemons            Source RPM&#58; tomcat5-5.5.23-0jpp.40.el5_9.src.rpm
Size        &#58; 962258                           License&#58; Apache Software License
Signature   &#58; DSA/SHA1, Tue 28 May 2013 02&#58;47&#58;42 PM EDT, Key ID a8a447dce8562897
URL         &#58; <a href='http&#58;//tomcat.apache.org/' target='_blank' rel='nofollow'>http&#58;//tomcat.apache.org/</a>
Summary     &#58; Apache Servlet/JSP Engine, RI for Servlet 2.4/JSP 2.0 API
Description &#58;

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1371325593'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-15T19:46:33+00:00">Jun 15, 2013 07:46 PM UTC</time><a class="anchor" name="1371325593">&nbsp;</a></div><pre>I do not believe anyone has resolved that issue, no.  Is there any possibility that a developer for the tomcat or GUMS rpms could be consulted at this point?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1371232971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-14T18:02:51+00:00">Jun 14, 2013 06:02 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1371232971">&nbsp;</a></div><pre>Hi Rob,

The thread on the mailing list appears to have trailed off.  Was there a resolution for the issue?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1370528291'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-06T14:18:11+00:00">Jun 6, 2013 02:18 PM UTC</time><a class="anchor" name="1370528291">&nbsp;</a></div><pre>Hi Suchandra and others,
You should be able to see an archive of the T3 OSG discussions here&#58;
<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A1=ind1305e&L=hn-cms-osg-tier3' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A1=ind1305e&L=hn-cms-osg-tier3</a>
-rob snihur

by /DC=org/DC=doegrids/OU=People/CN=Robert Snihur 365033</pre></div><div class='update_description'><i onclick="document.location='14158#1370479503'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-06T00:45:03+00:00">Jun 6, 2013 12:45 AM UTC</time><a class="anchor" name="1370479503">&nbsp;</a></div><pre>I am still receiving an error with jsp, regardless of having removed geronimo packages and then doing a fresh install of java, tomcat5, and gums.  Although the error is slightly different than when geronimo was present, the error message from our catalina.out is&#58;

&#34;636 [main] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/gums] - StandardWrapper.Throwable
java.lang.NoClassDefFoundError&#58; javax/servlet/jsp/JspFactory&#34;

This error produced in our catalina.out whenever I attempt to navigate to our gums web GUI.  The page itself is simply an http 500 tomcat error.

Concerning the other thread, they are still having issues getting tomcat itself to start, so we would be considered a bit ahead of them.  I will simply keep an eye on their discussions in case they happen upon a solution that is applicable to our situation.  It isn&#39;t an open ticket, Ms. Tonjes was using the OSG Discussions email list.

-Jordan

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1370375913'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-04T19:58:33+00:00">Jun 4, 2013 07:58 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1370375913">&nbsp;</a></div><pre>I&#39;m not quite sure what&#39;s wrong at this point.  Do you have a link to the T3 discussions you mentioned?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1369939099'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-30T18:38:19+00:00">May 30, 2013 06:38 PM UTC</time><a class="anchor" name="1369939099">&nbsp;</a></div><pre>Unfortunately, as of now I still do not have a fix for this.  My time has been split recently though, I haven&#39;t been able to take a solid crack at it.

However, it appears I&#39;m not the only one with tomcat issues.  I&#39;ve noticed from the OSG T3 discussions that Marguerite Tonjes has been having similar tomcat issues at her site, during her upgrade from pacman to OSG 3.1.x.  Perhaps if a fix is found on her end, we may be able to apply it to my tier&#39;s case, or vice-versa.

-Jordan

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1369161426'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-21T18:37:06+00:00">May 21, 2013 06:37 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1369161426">&nbsp;</a></div><pre>Jordan or Neha,

Do you have any information on this. I tried looking up the error message for possible solutions but I didn&#39;t get anywhere.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='14158#1368486820'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-13T23:13:40+00:00">May 13, 2013 11:13 PM UTC</time><a class="anchor" name="1368486820">&nbsp;</a></div><pre>We have finally gotten our SE back online.  As such, I ran a fresh install of java, then tomcat5, then osg-gums.  After the required configuration steps, I started up tomcat5, and received an error.  This error appears to be slightly different now, but still concerns jsp.  Our gums log looks clean, so from our catalina.out&#58;

&#34;636 [main] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/gums] - StandardWrapper.Throwable
java.lang.NoClassDefFoundError&#58; javax/servlet/jsp/JspFactory&#34;

The only jsp rpm we have is the latest tomcat one (all geronimo packages concerning this were removed).  Any ideas?  I&#39;m about to dig through the libs by hand and make sure everything exists at least.

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1367443886'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T21:31:26+00:00">May 1, 2013 09:31 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1367443886">&nbsp;</a></div><pre>No worries. Just want to make sure we provide support to you as fast as possible. Will wait for your update.
Good Luck!
-Neha</pre></div><div class='update_description'><i onclick="document.location='14158#1367426495'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T16:41:35+00:00">May 1, 2013 04:41 PM UTC</time><a class="anchor" name="1367426495">&nbsp;</a></div><pre>Sorry for the lengthy delay, unfortunately we have not been able to yet.  Long story short, our ethernet card MAC addressess flipped during a network outage issue, so our DHCP service is down.  Our SE will be unable to talk to the outside world until we get that back up and running, so yum updates and the like are still unavailable to us.  I will post on this ticket the moment I am able to get fresh, geronimo-free versions of java and tomcat on our SE.  Thank you for bearing with us.

-Jordan

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1367426251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T16:37:31+00:00">May 1, 2013 04:37 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1367426251">&nbsp;</a></div><pre>Hi Jordan
Were you able to clean up geronimo packages?
Please update.
Thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='14158#1365295403'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-07T00:43:23+00:00">Apr 7, 2013 12:43 AM UTC</time><a class="anchor" name="1365295403">&nbsp;</a></div><pre>So sorry, we&#39;re undergoing a bit of a network complication, so our SE is not currently talking with the outside world.  However, a local session showed that the geronimo packages were installed in 2009, from an old jpackage repo we had lingering.  I have not seen any documentation mention it, so I&#39;m going to assume it&#39;s no longer being used, and will remove it as soon as we get our SE back up and running.

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1364832084'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-01T16:01:24+00:00">Apr 1, 2013 04:01 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1364832084">&nbsp;</a></div><pre>Geronimo is the apache j2ee server. The rpms are probably interfering with tomcat and gums.  Could you try removing those rpms?  Do you know how the rpms were installed?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1364659301'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-30T16:01:41+00:00">Mar 30, 2013 04:01 PM UTC</time><a class="anchor" name="1364659301">&nbsp;</a></div><pre>That is correct, a fresh install on our CE did not work either.

We are currently running the same jsp rpm as you stated below, however, two other jsp rpms popped up during the search&#58; geronimo-jsp-2.0-api-1.2-13.jpp5, and geronimo-jsp-2.1-api-1.2-13.jpp5.  These look pretty old, and I have never heard of nor worked with geronimo before (nor are they in our archived documentation), so they seem removable.  Is it possible they have been interfering with the install?

I have attached both our tomcat5.conf from our /etc/tomcat5/ directory, as well at our tomcat5 from /etc/sysconfig/.

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1364588467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-29T20:21:07+00:00">Mar 29, 2013 08:21 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1364588467">&nbsp;</a></div><pre>When you say that neither solution resolved the issue do you mean that a fresh install on your CE also didn&#39;t work?  I think jsp might be the issue itself.  Can you send me your tomcat configuration files? Also which jsp rpm do you have?  You should have tomcat5-jsp-2.0-api-5.5.23-0jpp.31.el5_8 or a close version.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1364366230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T06:37:10+00:00">Mar 27, 2013 06:37 AM UTC</time><a class="anchor" name="1364366230">&nbsp;</a></div><pre>I apologize for not getting back sooner.  Unfortunately, neither solution resolved the issue.

However, our log4j was not running properly beforehand.  After getting that up and digging through tomcat.log, these two errors popped up (which hadn&#39;t been present in catalina.out)&#58;

WARN main org.apache.catalina.startup.DigesterFactory - Could not get url for /javax/servlet/resources/jsp_2_0.xsd
WARN main org.apache.catalina.startup.DigesterFactory - Could not get url for /javax/servlet/resources/web-jsptaglibrary_2_0.xsd

Seeing as our error concerns jsp, can I assume this is the issue itself?  Also, any ideas on a fix for this?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363971070'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-22T16:51:10+00:00">Mar 22, 2013 04:51 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363971070">&nbsp;</a></div><pre>An alternative would be to remove all of the java rpms on your present gums server and see if there are any configuration files left over and remove them.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1363896765'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T20:12:45+00:00">Mar 21, 2013 08:12 PM UTC</time><a class="anchor" name="1363896765">&nbsp;</a></div><pre>My tomcat5 file is essentially identical, so it must not be that.  There are no old tomcat5 rpms left over, so if it is an rpm is has to be something I am unaware of.  I am attempting to set up our GUMS on our SE, but our only other machine is our CE, which is running our RSV probes.  Our CE also used to run our GUMS server (why, I do not know), so I may end up having the same exact issue.  At this point it&#39;s worth trying anyway, I will keep you updated.

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363876371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T14:32:51+00:00">Mar 21, 2013 02:32 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363876371">&nbsp;</a></div><pre>All of the Java settings are done in /etc/sysconfig/tomcat5.  I&#39;ve uploaded the tomcat5 file from my GUMS server.  There may still be tomcat5 or other rpms left over that are causing the issue you&#39;re seeing.  Can you try a test install on another machine to do a comparison?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1363833064'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T02:31:04+00:00">Mar 21, 2013 02:31 AM UTC</time><a class="anchor" name="1363833064">&nbsp;</a></div><pre>Unfortunately, installing the jdk rpms from OSG did not help.  I also have found no .rpmnew files in tomcat5&#39;s /etc, /usr/share, or /var/lib directories, those were the only three I could think of that might contain something.

Just for a sanity check&#58; does your JAVA_HOME variable path lead to your latest install in /usr/java?  Or should that be pointed elsewhere?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363802781'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-20T18:06:21+00:00">Mar 20, 2013 06:06 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363802781">&nbsp;</a></div><pre>Hi,

The version of java you isn&#39;t too recent.  However, you might want to install the jdk rpms from OSG.  But I&#39;m not sure if that&#39;ll fix the issue.  If you&#39;re still getting an error about gums not being found, it sounds like there&#39;s still some rpms left around that are confusing the issue.  The problem may be in the configuration files left from the older tomcat packages, I&#39;d check to see if you have .rpmnew files for tomcat5 installed by the OSG rpms.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1363797780'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-20T16:43:00+00:00">Mar 20, 2013 04:43 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1363797780">&nbsp;</a></div><pre>Assigning this to Suchandra
-Neha (OSG Software Team)</pre></div><div class='update_description'><i onclick="document.location='14158#1363489210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-17T03:00:10+00:00">Mar 17, 2013 03:00 AM UTC</time><a class="anchor" name="1363489210">&nbsp;</a></div><pre>So sorry, previous admins did much &#34;experimentation&#34; with repos and left very little documentation.  That apache-tomcat package was ancient, and shouldn&#39;t even be on our system anymore.  All other tomcat-related packages are the same version, 5.5.27.

The only repos I have now are the our OS (CentOS), epel, and osg repos (complete with yum-priorities), and have been installing everything new from them.  When I run into the error from GUMS, it seems to be using our latest tomcat version as well (5.5.27).

Taking a wild stab here; we are pulling our java version from CentOS, is it possible we have a version conflict?  They give us java-opensdk 1.6.0 as the latest, is that too new for tomcat perhaps?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363376048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-15T19:34:08+00:00">Mar 15, 2013 07:34 PM UTC</time> by <b>USCMS_Tier3</b><a class="anchor" name="1363376048">&nbsp;</a></div><pre>I am offline until Tuesday March 19 and will reply then.</pre></div><div class='update_description'><i onclick="document.location='14158#1363375889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-15T19:31:29+00:00">Mar 15, 2013 07:31 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363375889">&nbsp;</a></div><pre>Hi,

I think you&#39;re getting different verions of the tomcat packages and therefore they aren&#39;t looking at the same places for configuration files.  Here&#39;s the tomcat rpm that I&#39;m using&#58;

sthapa@itb-gums ~]$ rpm -qi tomcat5-5.5.23-0jpp.31.el5_8
Name        &#58; tomcat5                      Relocations&#58; (not relocatable)
Version     &#58; 5.5.23                            Vendor&#58; Scientific Linux
Release     &#58; 0jpp.31.el5_8                 Build Date&#58; Wed 11 Apr 2012 02&#58;16&#58;52 PM CDT
Install Date&#58; Thu 30 Aug 2012 12&#58;19&#58;26 PM CDT      Build Host&#58; norob.fnal.gov
Group       &#58; Networking/Daemons            Source RPM&#58; tomcat5-5.5.23-0jpp.31.el5_8.src.rpm
Size        &#58; 881015                           License&#58; Apache Software License
Signature   &#58; DSA/SHA1, Wed 11 Apr 2012 03&#58;10&#58;46 PM CDT, Key ID b0b4183f192a7d7d
URL         &#58; <a href='http&#58;//tomcat.apache.org/' target='_blank' rel='nofollow'>http&#58;//tomcat.apache.org/</a>
Summary     &#58; Apache Servlet/JSP Engine, RI for Servlet 2.4/JSP 2.0 API
Description &#58;

And the other related rpms include&#58;
[sthapa@itb-gums ~]$ rpm -qa | grep tomcat
tomcat5-jasper-5.5.23-0jpp.31.el5_8
tomcat5-server-lib-5.5.23-0jpp.31.el5_8
emi-trustmanager-tomcat-3.0.0-3
tomcat5-common-lib-5.5.23-0jpp.31.el5_8
tomcat5-5.5.23-0jpp.31.el5_8
tomcat5-servlet-2.4-api-5.5.23-0jpp.31.el5_

I noticed that you&#39;re installing the rpms using ROCKS.  Do you have the tomcat rpms and files from the EPEL and osg repos instead of somewhere else?  If you&#39;re using yum to do an install, is the yum priorities plugin installed and enabled?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1363294416'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-14T20:53:36+00:00">Mar 14, 2013 08:53 PM UTC</time><a class="anchor" name="1363294416">&nbsp;</a></div><pre>Here&#39;s for our tomcat5&#58;

Name        &#58; tomcat5                      Relocations&#58; (not relocatable)
Version     &#58; 5.5.27                            Vendor&#58; JPackage Project
Release     &#58; 7.jpp5                        Build Date&#58; Thu 11 Dec 2008 02&#58;25&#58;53 PM EST
Install Date&#58; Thu 28 Feb 2013 02&#58;38&#58;02 AM EST      Build Host&#58; flat.netmindz.net
Group       &#58; Networking/Daemons            Source RPM&#58; tomcat5-5.5.27-7.jpp5.src.rpm
Size        &#58; 482513                           License&#58; ASL 2.0
Signature   &#58; DSA/SHA1, Thu 11 Dec 2008 02&#58;27&#58;41 PM EST, Key ID 5c6cfff7c431416d
Packager    &#58; David Walluck &#60;david@....&#62;
URL         &#58; <a href='http&#58;//tomcat.apache.org' target='_blank' rel='nofollow'>http&#58;//tomcat.apache.org</a>
Summary     &#58; Apache Servlet/JSP Engine, RI for Servlet 2.4/JSP 2.0 API
Description &#58;

and for apache-tomcat&#58;

Name        &#58; apache-tomcat                Relocations&#58; (not relocatable)
Version     &#58; 5.x                               Vendor&#58; Rocks Clusters
Release     &#58; 0                             Build Date&#58; Tue 29 Apr 2008 02&#58;41&#58;37 PM EDT
Install Date&#58; Fri 28 Aug 2009 10&#58;29&#58;15 AM EDT      Build Host&#58; kong.rocksclusters.org
Group       &#58; System Environment/Base       Source RPM&#58; apache-tomcat-5.x-0.src.rpm
Size        &#58; 65904422                         License&#58; University of California
Signature   &#58; (none)
Summary     &#58; apache-tomcat
Description &#58;
apache-tomcat

Most others appeared to be branches off of the main tomcat5, are there any others I should include?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363275992'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-14T15:46:32+00:00">Mar 14, 2013 03:46 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363275992">&nbsp;</a></div><pre>Hi,

Could you run rpm -qi on the tomcat rpms you have and return the results?  It looks like you have tomcat installed from a non-standard repository and that might be causing the problem since tomcat is installed in /opt instead of the standard locations.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1363227537'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-14T02:18:57+00:00">Mar 14, 2013 02:18 AM UTC</time><a class="anchor" name="1363227537">&nbsp;</a></div><pre>Hello, I am attaching the resulting osg-profile.txt here.  It&#39;s a big one, not sure on average profile sizes, but this is +8000 lines.

Concerning an rpm verify, the output was S.5....T c /etc/gums/gums.config.  S and T are expected as we had to add a large number of accounts etc. to gums.config from the copy we used with OSG 1.2.31.  Unsure on the significance of the MD5 checksum.

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363207858'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-13T20:50:58+00:00">Mar 13, 2013 08:50 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363207858">&nbsp;</a></div><pre>Hi,

Could you do a few things&#58;
1. restart tomcat
2. install osg-system-profiler (yum install osg-system-profiler), run osg-system-profiler, and then upload the txt file that the osg-system-profiler produced
3. Finally run rpm --verify gums-service and see if it indicates that there are problems

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14158#1363104597'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-12T16:09:57+00:00">Mar 12, 2013 04:09 PM UTC</time><a class="anchor" name="1363104597">&nbsp;</a></div><pre>Correct on the OSG version, we are on 3.1.x currently.

gums-service-admin.log appears to have not updated whatsoever after a restart, the last time it was written to was 4 days ago.

trustmanager.log contains a few errors (WARN&#39;s) concerning CRLs, followed by 3 INFO&#39;s concerning valid certificate paths (rsv, etc.)

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='14158#1363098148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-12T14:22:28+00:00">Mar 12, 2013 02:22 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1363098148">&nbsp;</a></div><pre>Hi,

Just to verify, you&#39;re using OSG 3.1.x right?  Could you look at /var/log/tomcat5/gums-service-admin.log and /var/log/tomcat5/trustmanager.log and see if there are any errors in those files after you restart gums.

Suchandra Thapa
OSG Software Team</pre></div><div class='update_description'><i onclick="document.location='14158#1362876394'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-10T00:46:34+00:00">Mar 10, 2013 12:46 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1362876394">&nbsp;</a></div><pre>We recently made the switch over from OSG 1.2.31 (pacman installation) to OSG 3.1.x, complete with the latest yum osg-gums package.  However, although our front page of GUMS is live, any attempt to navigate (e.g. to User Groups, etc.) results in a HTTP 500 error.  Further digging into catalina.out produces the following errors at the time of navigation&#58;

An error occurred at line&#58; 15 in the jsp file&#58; /error.jsp
gums cannot be resolved
12&#58; &#60;body&#62;
13&#58; &#60;%@include file=&#34;topNav.jspf&#34;%&#62;
14&#58; &#60;div id=&#34;title&#34;&#62;
15&#58; &#60;h1&#62;&#60;span&#62;GUMS &#60;%=gums.getVersion()%&#62;&#60;/span&#62;&#60;/h1&#62;
16&#58; &#60;h3&#62;&#60;span&#62;GRID User Management System&#60;/h3&#62;
17&#58; &#60;h2&#62;&#60;span&#62;Error&#60;/span&#62;&#60;/h2&#62;
18&#58; &#60;/div&#62;

An error occurred at line&#58; 5 in the jsp file&#58; /bottomNav.jspf
gums cannot be resolved
2&#58; &#60;div id=&#34;tail&#34;&#62;
3&#58; &#60;p&#62;&#60;b&#62;(c) 2004-11 Brookhaven National Laboratory &#60;/b&#62;- send suggestions
4&#58; and comments to &#60;a href=&#34;mailto&#58;gums-users-l@....&#34;&#62;gums-users-l@....&#60;/a&#62;&#60;br&#62;
5&#58; &#60;i&#62;You are signed in as &#60;%=gums.getCurrentDn()%&#62;&#60;/i&#62;&#60;/p&#62;
6&#58; &#60;/div&#62;
7&#58; &#60;/body&#62;
8&#58; &#60;/html&#62;

Unfortunately, my knowledge of tomcat5 and java communications is minimal, and I cannot seem to find an appropriate fix for this.  Any help would be greatly appreciated.

-Jordan Robertson

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F14158">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 14158});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
