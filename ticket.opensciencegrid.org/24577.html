<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[24577] Enable Receiving Jobs from OSG</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=24577" method="post">
<div class="page-header">
    <h3><span class="muted">24577</span> / Enable Receiving Jobs from OSG</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Stephen Fralich</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Stephen Fralich</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-06-08</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Edgar Fajardo <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/24577", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/24577?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/24577?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Enable%20Receiving%20Jobs%20from%20OSG%20ISSUE%3D24577%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='24577#1433179141'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-01T17:19:01+00:00">Jun 1, 2015 05:19 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1433179141">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='24577#1433175598'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-01T16:19:58+00:00">Jun 1, 2015 04:19 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1433175598">&nbsp;</a></div><pre>We&#39;re receiving jobs from both these VOs, so you can go ahead and
close the request.

On Mon, Jun 1, 2015 at 7&#58;54 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1433170469'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-01T14:54:29+00:00">Jun 1, 2015 02:54 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1433170469">&nbsp;</a></div><pre>Is this working as intended at this point?  Does this ticket need any further action?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1432072513'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-19T21:55:13+00:00">May 19, 2015 09:55 PM UTC</time><a class="anchor" name="1432072513">&nbsp;</a></div><pre>I&#39;ve also gone ahead and configured the entry to limit glideins to 4 hour max wall time as requested [1].

Marty Kandes
UCSD Glidein Factory Operations

[1]

&#34;Our cluster is a condo cluster and we allow users to use other groups&#39;
allocations via a preemptable queue. We don&#39;t want our own internal
preemptees waiting too long to start and we don&#39;t want to add more
complexity to our scheduler policy to allow our internal preemptees
preempt OSG jobs.

Great to see everything coming together. Thanks a lot to everyone,

Stephen

On Tue, May 19, 2015 at 2&#58;18 PM, Jeffrey Dost &#60;jdost@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; Ah ok,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Sorry we&#39;re talking about different walltimes here. I was referring to the</font>
<font color='#7F7E6F'>&#62; max lifetime of the pilot itself.  Ok, it sounds like we also need to</font>
<font color='#7F7E6F'>&#62; increase the limit from the rsl (in the factory configuration) so your site</font>
<font color='#7F7E6F'>&#62; lets us run longer than 1 hour.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It would be beneficial to set it to something at least 24 hrs, but we can</font>
<font color='#7F7E6F'>&#62; set it to 4.  It makes the glidein system less efficient due to excessive</font>
<font color='#7F7E6F'>&#62; pilot turnover if we set it too low.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Jeff</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 5/19/15 2&#58;08 PM, Stephen Fralich wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Great news about the xcount option. I&#39;ll keep an eye on the jobs and</font>
<div id='show_1134475835' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1134475835'><font color='#7F7E6F'>&#62;&#62; make the setting change on our end once the jobs start coming through</font>
<font color='#7F7E6F'>&#62;&#62; the new way.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The jobs are coming through with no walltime setting, so the scheduler</font>
<font color='#7F7E6F'>&#62;&#62; is defaulting to 1 hour and canceling the jobs after 1 hour. Without a</font>
<font color='#7F7E6F'>&#62;&#62; scheduler policy change (which we want to avoid), the longest max</font>
<font color='#7F7E6F'>&#62;&#62; walltime we&#39;d want to use is 4 hours. Should that still allow us to</font>
<font color='#7F7E6F'>&#62;&#62; receive a reasonable number of jobs? Does the setting just not matter</font>
<font color='#7F7E6F'>&#62;&#62; because users don&#39;t pay attention? We&#39;d rather not take jobs that will</font>
<font color='#7F7E6F'>&#62;&#62; never be able to finish on our system.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Stephen</font>
<font color='#7F7E6F'>&#62;&#62;&#34;</font>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1134475835').click(function() {
            $('#detail_1134475835').slideDown("normal");
            $('#show_1134475835').hide();
            $('#hide_1134475835').show();
        });
        $('#hide_1134475835').click(function() {
            $('#detail_1134475835').slideUp();
            $('#hide_1134475835').hide();
            $('#show_1134475835').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='24577#1432070150'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-19T21:15:50+00:00">May 19, 2015 09:15 PM UTC</time><a class="anchor" name="1432070150">&nbsp;</a></div><pre>Hi all,

I&#39;ve gone ahead and removed the xcount=8 attribute in the rsl from both the GOC and SDSC factories as requested [1]. I&#39;ve also changed the supported VO from OSGVO to OSGVO_MULTICORE as requested by Mats [2]. Both factories have been reconfigured and restarted with these changes.

Marty Kandes
UCSD Glidein Factory Operations.

[1]

&#34;Hi all,

I&#39;m adding our factory support list
osg-gfactory-support@..... Stephen, if I understand
correctly, the ppn=8 you are seeing must be coming from the globus rsl
we had set before letting glideins auto-detect the number of cores&#58;
(xcount=8)

This should have been removed along with the &#34;auto&#34; change, sorry about
that.  Factory ops, can you please remove this from the rsl from the
production factories?

And to answer a previous question of Bo&#39;s, it looks like Brendan set the
max walltime to 24 hours&#58;
84600

This can be increased if preferred, but keep in mind however we have no
control over the length of the actual user jobs.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

On 5/19/15 1&#58;19 PM, Miron Livny &#60;miron@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_180544280' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_180544280'><font color='#7F7E6F'>&#62; On 5/19/2015 3&#58;08 PM, Stephen Fralich wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Sorry if this is the wrong audience, but we&#39;ve been working with Miron</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This is the right audience!</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; on getting Glidein jobs to use all the cores on our nodes, rather than</font>
<font color='#7F7E6F'>&#62;&#62; just 8 cores. It looks like this happened. A big thank you to Miron</font>
<font color='#7F7E6F'>&#62;&#62; and all of you for making that happen.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Excellent! This is what I was told. Namely, that the glidein does a</font>
<font color='#7F7E6F'>&#62; &#34;self discovery&#34; to detect how many cores the node it landed on can</font>
<font color='#7F7E6F'>&#62; offer.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; We have one more request, if it&#39;s possible. Could you make the jobs</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Keep these requests coming!</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; destined for our cluster just request nodes=1 rather than</font>
<font color='#7F7E6F'>&#62;&#62; nodes=1&#58;ppn=8? We can add on a flag to make our accounting correct if</font>
<font color='#7F7E6F'>&#62;&#62; it&#39;s just nodes=1. We have a lot of internal processes already built</font>
<font color='#7F7E6F'>&#62;&#62; around using our internal data, so it would make life easier for us.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Will let the operators of the glidein factory deal with this request</font>
<font color='#7F7E6F'>&#62; and wait for their response.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks for all your help so far,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thank you!!!!! I am sorry it took us that long to reach this point</font>
<font color='#7F7E6F'>&#62; where researchers throughout the US can benefit from your willingness</font>
<font color='#7F7E6F'>&#62; to share the power of Hyak.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Miron</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Stephen</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; On Tue, May 19, 2015 at 10&#58;11 AM, Stephen Fralich &#60;sjf4@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Over the weekend we were way down. Maybe the same happens with OSG</font>
<font color='#7F7E6F'>&#62;&#62;&#62; workloads though too.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I&#39;ve attached two graphs&#58; hyak_cores_used.png & hyak_osg_jobs.png</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; On osg_jobs, you can see on 5/16 & 5/17 that all the OSG jobs we had</font>
<font color='#7F7E6F'>&#62;&#62;&#62; were running (hyak.moab.q.osg.a) and none were queued</font>
<font color='#7F7E6F'>&#62;&#62;&#62; (hyak.moab.q.osg.e). And on core_used, you can see that there were</font>
<font color='#7F7E6F'>&#62;&#62;&#62; plenty of cores available. It doesn&#39;t seem like the jobs are being</font>
<font color='#7F7E6F'>&#62;&#62;&#62; created to setup the glidein requests in sufficient quantity.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Are all glidein jobs less than an hour? All the jobs being created in</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the scheduler are an hour. We could accept tasks up to 4 hours long.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Stephen</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; On Tue, May 19, 2015 at 9&#58;53 AM, Bo Jayatilaka &#60;boj@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Hi Stephen,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; In theory there should be no change that you have to make but if</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; issues come up (particularly in terms of authentication), we can</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; file a ticket to get your assistance on it.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Regarding running jobs, I see a few periods going over 1k from our</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; perspective but none approaching 2k&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; <a href='http&#58;//osg-flock.grid.iu.edu/monitoring/condor/sites/Hyak_7day.png' target='_blank' rel='nofollow'>http&#58;//osg-flock.grid.iu.edu/monitoring/condor/sites/Hyak_7day.png</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; How long are the idle periods that you refer to lasting? I don&#39;t</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; see anything in the factory monitoring end that indicates a limit</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; there. Jeff and Brendan can comment if I&#39;m wrong.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Bo</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; On May 19, 2015, at 11&#58;41 AM, Stephen Fralich &#60;sjf4@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; That&#39;s fine with me. Do I have to make any changes? We seem to max</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; out</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; at about 750 or 800 cores in use by OSG Glidein jobs regardless of</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; number of cores we have available. Is that a setting on your side?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Sometimes we have stretches where we have over 2000 cores free and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; we&#39;d rather fill them, than they stay idle. Thanks,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Stephen</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; On Tue, May 19, 2015 at 8&#58;24 AM, Bo Jayatilaka &#60;boj@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Hi Stephen,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; I see that OSG VO jobs are successfully running at Washington!</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Would you be ok with the factory also submitting opportunistic</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; jobs to Washington from the GLOW and Fermilab VOs?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; thanks,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Bo</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; ----</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Bodhitha Jayatilaka, Fermilab Scientific Computing Division</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; @FNAL&#58; WH8NE 803, t&#58; 630-840-5110</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; @MIT&#58; 24-418, t&#58; 617-252-1588</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; boj@.... [<a href='http&#58;//www-cdf.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//www-cdf.fnal.gov/</a>~boj]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; ----</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Bodhitha Jayatilaka, Fermilab Scientific Computing Division</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; @FNAL&#58; WH8NE 803, t&#58; 630-840-5110</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; @MIT&#58; 24-418, t&#58; 617-252-1588</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; boj@.... [<a href='http&#58;//www-cdf.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//www-cdf.fnal.gov/</a>~boj]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>

_______________________________________________
Osg-gfactory-support mailing list
Osg-gfactory-support@....
<a href='https&#58;//physics-mail.ucsd.edu/mailman/listinfo/osg-gfactory-support&#34' target='_blank' rel='nofollow'>https&#58;//physics-mail.ucsd.edu/mailman/listinfo/osg-gfactory-support&#34</a>;

[2]

&#34;Factory ops,

Can you change the supported VOs for the Hyak resource from OSGVO to OSGVO_MULTICORE ?

Thanks,

--
Mats Rynge
USC/ISI - Pegasus Team &#60;<a href='http&#58;//pegasus.isi.edu&#62' target='_blank' rel='nofollow'>http&#58;//pegasus.isi.edu&#62</a>;
_______________________________________________
Osg-gfactory-support mailing list
Osg-gfactory-support@....
<a href='https&#58;//physics-mail.ucsd.edu/mailman/listinfo/osg-gfactory-support&#34' target='_blank' rel='nofollow'>https&#58;//physics-mail.ucsd.edu/mailman/listinfo/osg-gfactory-support&#34</a>;

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_180544280').click(function() {
            $('#detail_180544280').slideDown("normal");
            $('#show_180544280').hide();
            $('#hide_180544280').show();
        });
        $('#hide_180544280').click(function() {
            $('#detail_180544280').slideUp();
            $('#hide_180544280').hide();
            $('#show_180544280').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='24577#1431128666'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-08T23:44:26+00:00">May 8, 2015 11:44 PM UTC</time><a class="anchor" name="1431128666">&nbsp;</a></div><pre>I&#39;ve gone ahead and updated the Hyak entry on the factories with the following changes&#58;
- Added (xcount=8) to the rsl string
- Added GLIDEIN_CPUs = 8
- Added GLIDEIN_MaxMemMBs = 16000

Hopefully this should allow multicore user jobs to run without issue now.

In regards to the 8 vs 12 vs 16 core issue, the only solution we could come up with would be to provide different queues for each set of worker nodes with those core counts. Unfortunately you just seem to have quite the unique site setup, as I can&#39;t think of any other sites with scheduling per-node and mixed core counts in the worker nodes.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1431126024'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-08T23:00:24+00:00">May 8, 2015 11:00 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1431126024">&nbsp;</a></div><pre>On the NAT issue, I allowed the subnets for all the hosts you sent and
that seems to be working well. We&#39;re logging dropped packets, so I can
see if we&#39;re missing any addresses as time goes on.

On the multi-core entry, let&#39;s just go with the same entry as most
sites as a start since that&#39;s what users expect to have.

On Mon, May 4, 2015 at 4&#58;15 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430789138'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T01:25:38+00:00">May 5, 2015 01:25 AM UTC</time><a class="anchor" name="1430789138">&nbsp;</a></div><pre>It is pretty difficult to get the firewall config correct for glideins like this. Even if we did manage to get all the HTCondor ports down, there is still a chance that users will try to do data staging out of band. If you want to try it, the collector is running on&#58;

osg-flock.grid.iu.edu

And the schedd&#39;s are&#58;

login01.osgconnect.net
login02.osgconnect.net
duke-login.osgconnect.net
login.ci-connect.uchicago.edu
login.umich.ci-connect.net
login.cms.ci-connect.net
submit1.bioinformatics.vt.edu
gw68.quarry.iu.teragrid.org
iplant-condor.tacc.utexas.edu
workflow.isi.edu

You probably have to open up all ports for these hosts. In theory, we should be able to limit it down to certain ranges, but it is not tested.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='24577#1430783292'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T23:48:12+00:00">May 4, 2015 11:48 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430783292">&nbsp;</a></div><pre>We have 3 different core counts (8, 12, 16). There can be only 1
setting? If so, we&#39;ll probably just use our 12 and 16 core nodes or
just maybe the 16 core nodes. We&#39;ll have to discuss it. Thanks.

On Mon, May 4, 2015 at 4&#58;15 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430781302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T23:15:02+00:00">May 4, 2015 11:15 PM UTC</time><a class="anchor" name="1430781302">&nbsp;</a></div><pre>If the scheduling is per node, then there&#39;s no way to make multiple single core glideins run on one node for each core. However, I can instead specify that Hyak should be a multicore entry, which would result in a single glidein landing on each worker node, but that glidein would run multicore user jobs and (hopefully) fill up the node. If that sounds good to you, then I need to know how many cores there are per worker node, along with how much RAM there is per worker node that can be dedicated to the glidein. On most sites it tends to be 8 cores and 16GB.

If we switch the site to multicore, we&#39;ll also need to let the VO admins know that submissions to your site need to be multicore or use partitionable slots instead. It looks like Edgar added Mats Rynge to this ticket as well, so he should be able to take care of that I believe.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1430774969'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T21:29:29+00:00">May 4, 2015 09:29 PM UTC</time><a class="anchor" name="1430774969">&nbsp;</a></div><pre>Well basically you need the OSG E Collector ports and OSG schedd ports. Mats can provide those, since I don&#39;t know neither the schedd names neither the ports.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='24577#1430774309'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T21:18:29+00:00">May 4, 2015 09:18 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430774309">&nbsp;</a></div><pre>Ok, two questions following up on that&#58;

Can you provide us with a list of net blocks (or addresses) to which
the worker nodes must have access?

A small set of our nodes do have Internet access and these are running
glidein jobs. They are however only running one glidein job per node.
The scheduling on our cluster is per node, not per core. Can we tell
the client to run a glidein job for each core on the node?

Thanks.

On Mon, May 4, 2015 at 10&#58;57 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430762273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T17:57:53+00:00">May 4, 2015 05:57 PM UTC</time><a class="anchor" name="1430762273">&nbsp;</a></div><pre>Hi Brendan,

YOu are right. At least two ports from the wn with outbound connectivity are needed.

From the wn to the scheduler(s) and one from the wn to the collector(s).

Cheers,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='24577#1430762001'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T17:53:21+00:00">May 4, 2015 05:53 PM UTC</time><a class="anchor" name="1430762001">&nbsp;</a></div><pre>I just spoke with Jeff about this, and unfortunately it sounds like worker nodes actually do have to have some sort of network access because the glidein -&#62; collector communication is done using a direct TCP connection rather than using HTTP. So, I hate to say it considering you don&#39;t want to do it, but it sounds like the only way we could get glideins running on Hyak would be to implement some sort of NAT.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1430430848'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-30T21:54:08+00:00">Apr 30, 2015 09:54 PM UTC</time><a class="anchor" name="1430430848">&nbsp;</a></div><pre>Jeff, Edgar,

Since neither Stephen or myself are very familiar with condor, can you provide us with some guidance here?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1430430015'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-30T21:40:15+00:00">Apr 30, 2015 09:40 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430430015">&nbsp;</a></div><pre>Both those help requests you refer to, the end-users are using NAT on
their clusters in order for their nodes to access the Internet. We do
not have NAT set up and prefer not to set it up. The only way the
nodes have to access the Internet is through the squid proxy bundled
with OSG. I&#39;ve verfied with tcpdump that the nodes are actually trying
to connect to osg-flock.grid.iu.edu, not our local server running the
OSG stack&#58;

13&#58;02&#58;41.813947 IP n0410.41947 &#62; osg-flock.grid.iu.edu.9799&#58; Flags
[S], seq 737212820, win 14600, options [mss 1460,sackOK,TS val
1262052076 ecr 0,nop,wscale 9], length 0

The config files for the temporary condor installation on the nodes
seem to confirm this&#58;
condor_config&#58;COLLECTOR_HOST = $(HEAD_NODE)
condor_config&#58;GLIDEIN_COLLECTOR_NAME = &#34;$(HEAD_NODE)&#34;
condor_config&#58;HEAD_NODE=osg-flock.grid.iu.edu&#58;9845

I have Condor installed on our OSG server, but only for the purposes
of runnning RSV. It&#39;s unclear to me from the OSG documentation that
Condor can be configured as a proxy to allow the nodes to receive jobs
that way or if somehow it can use the squid proxy. I know nearly
nothing about condor. I also don&#39;t want to clobber the work I&#39;ve done
getting Globus working right with our local scheduler (PBS). I&#39;d
appreciate any guidance about how to proceed.

On Thu, Apr 30, 2015 at 12&#58;22 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430421765'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-30T19:22:45+00:00">Apr 30, 2015 07:22 PM UTC</time><a class="anchor" name="1430421765">&nbsp;</a></div><pre>Hi Stephen,

I can confirm the TCP connection errors [1]. Historically, this seems to usually be caused by a location network issue, e.g. switch loop [2], NAT [3]. But yes, I don&#39;t believe the worker nodes themselves need outbound access [4]. Maybe it&#39;s something with the GUMS config?

Marty Kandes
UCSD Glidein Factory Operations

[1]

04/30/15 10&#58;53&#58;53 (pid&#58;27109) State change&#58; RunBenchmarks is TRUE
04/30/15 10&#58;53&#58;53 (pid&#58;27109) Changing activity&#58; Idle -&#62; Benchmarking
04/30/15 10&#58;53&#58;53 (pid&#58;27109) BenchMgr&#58;StartBenchmarks()
04/30/15 10&#58;54&#58;18 (pid&#58;27109) attempt to connect to &#60;129.79.53.179&#58;9865&#62; failed&#58; timed out after 20 seconds.
04/30/15 10&#58;54&#58;18 (pid&#58;27109) ERROR&#58; SECMAN&#58;2003&#58;TCP connection to collector osg-flock.grid.iu.edu&#58;9865 failed.
04/30/15 10&#58;54&#58;18 (pid&#58;27109) Failed to start non-blocking update to &#60;129.79.53.179&#58;9865&#62;.
04/30/15 10&#58;54&#58;22 (pid&#58;27109) State change&#58; benchmarks completed
04/30/15 10&#58;54&#58;22 (pid&#58;27109) Changing activity&#58; Benchmarking -&#62; Idle
04/30/15 10&#58;54&#58;47 (pid&#58;27109) attempt to connect to &#60;129.79.53.179&#58;9865&#62; failed&#58; timed out after 20 seconds.
04/30/15 10&#58;54&#58;47 (pid&#58;27109) ERROR&#58; SECMAN&#58;2003&#58;TCP connection to collector osg-flock.grid.iu.edu&#58;9865 failed.
04/30/15 10&#58;54&#58;47 (pid&#58;27109) Failed to start non-blocking update to &#60;129.79.53.179&#58;9865&#62;.
04/30/15 10&#58;55&#58;56 (pid&#58;27109) attempt to connect to &#60;129.79.53.179&#58;9865&#62; failed&#58; Connection timed out (connect errno = 110).  Will keep trying for 300 total seconds (237 to go).
04/30/15 10&#58;59&#58;54 (pid&#58;27109) attempt to connect to &#60;129.79.53.179&#58;9865&#62; failed&#58; Connection timed out (connect errno = 110).
04/30/15 10&#58;59&#58;54 (pid&#58;27109) ERROR&#58; SECMAN&#58;2003&#58;TCP connection to collector osg-flock.grid.iu.edu&#58;9865 failed.
04/30/15 10&#58;59&#58;54 (pid&#58;27109) CCBListener&#58; connection to CCB server osg-flock.grid.iu.edu&#58;9865 failed; will try to reconnect in 60 seconds.
04/30/15 11&#58;00&#58;05 (pid&#58;27109) attempt to connect to &#60;129.79.53.179&#58;9865&#62; failed&#58; timed out after 20 seconds.
04/30/15 11&#58;00&#58;05 (pid&#58;27109) ERROR&#58; SECMAN&#58;2003&#58;TCP connection to collector osg-flock.grid.iu.edu&#58;9865 failed.
04/30/15 11&#58;00&#58;05 (pid&#58;27109) Failed to start non-blocking update to &#60;129.79.53.179&#58;9865&#62;.
04/30/15 11&#58;01&#58;57 (pid&#58;27109) attempt to connect to &#60;129.79.53.179&#58;9865&#62; failed&#58; Connection timed out (connect errno = 110).  Will keep trying for 300 total seconds (237
to go).

...

[2]

<a href='22018.html' target='_blank' rel='nofollow'>http&#58;//ticket.grid.iu.edu/22018?sort=up&</a>
<div id='show_683961773' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_683961773'>
[3]

<a href='13111.html' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/13111?expandall=true&</a>

[4]

<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/FirewallInformation#GRAM_Compute_Element_Services_an' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/FirewallInformation#GRAM_Compute_Element_Services_an</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_683961773').click(function() {
            $('#detail_683961773').slideDown("normal");
            $('#show_683961773').hide();
            $('#hide_683961773').show();
        });
        $('#hide_683961773').click(function() {
            $('#detail_683961773').slideUp();
            $('#hide_683961773').hide();
            $('#show_683961773').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='24577#1430412687'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-30T16:51:27+00:00">Apr 30, 2015 04:51 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430412687">&nbsp;</a></div><pre>Seems like it&#39;s unaware that the nodes don&#39;t have access to the
Internet. I thought that was set properly a number of e-mails ago.

04/30/15 09&#58;46&#58;44 (pid&#58;2894) attempt to connect to
&#60;129.79.53.179&#58;9747&#62; failed&#58; timed out after 20 seconds.
04/30/15 09&#58;46&#58;44 (pid&#58;2894) ERROR&#58; SECMAN&#58;2003&#58;TCP connection to
collector osg-flock.grid.iu.edu&#58;9747 failed.
04/30/15 09&#58;46&#58;44 (pid&#58;2894) Failed to start non-blocking update to
&#60;129.79.53.179&#58;9747&#62;.

On Thu, Apr 30, 2015 at 8&#58;39 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430344927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T22:02:07+00:00">Apr 29, 2015 10:02 PM UTC</time><a class="anchor" name="1430344927">&nbsp;</a></div><pre>Hi Stephen,

It looks like GLIDEIN_REQUIRED_OS was accidentally excluded from the attributes list for your entry on the factory. I&#39;ve gone ahead and added it with a value of rhel6, so hopefully that should take care of the test_os failures. I&#39;ll check back in later to see if glideins are running without issue now.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1430340142'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T20:42:22+00:00">Apr 29, 2015 08:42 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430340142">&nbsp;</a></div><pre>No, we don&#39;t have that filesystem. Whatever it&#39;s checking for, we
don&#39;t offer. The check shouldn&#39;t produce errors, but I don&#39;t think
it&#39;s causing problems.

test_os.sh is generic, it takes an argument for which OS to check for.
It receives its argument from the glidein_config (GLIDEIN_REQUIRED_OS
rhel5). I&#39;ve attached a glidein_config from one of the jobs that just
started.

On Wed, Apr 29, 2015 at 12&#58;48 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430336888'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T19:48:08+00:00">Apr 29, 2015 07:48 PM UTC</time><a class="anchor" name="1430336888">&nbsp;</a></div><pre>Stephen

So can you manually reach

/cvmfs/oasis.opensciencegrid.org/osg/projects/phenix/snowball/phnxsw/bin/set_grid_env.sh

from worker nodes on-site? I can reach it from UCSD. But according to the log files, it appears the glideins aren&#39;t passing the test. i.e., osgvo-node-advertise says it can&#39;t find this file.

Also are you able to see inside test_os.sh? Maybe it&#39;s still asking for rhel5 for some reason.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1430333835'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T18:57:15+00:00">Apr 29, 2015 06:57 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430333835">&nbsp;</a></div><pre>There&#39;s a test in osgvo-node-advertise (below) that should check for
the existence of PHSWDIR before trying to source files there. This
would eliminate those errors.

##################
# PHSW (Matt Snowball)

info &#34;Checking for PHSW availability...&#34;

PHSW_RESULT=&#34;True&#34;
PHSWDIR=/cvmfs/oasis.opensciencegrid.org/osg/projects/phenix/snowball/phnxsw

if ! (source $PHSWDIR/bin/set_grid_env.sh && grid-proxy-init -version
&& voms-proxy-init -version) 1&#62;&2 ; then
PHSW_RESULT=&#34;False&#34;
fi

(source $PHSWDIR/bin/set_grid_env.sh && globus-url-copy -version) 1&#62;&2
RC=$?
if [ &#34;x$RC&#34; != &#34;x0&#34; -a &#34;x$RC&#34; != &#34;x1&#34; ]; then
PHSW_RESULT=&#34;False&#34;
fi

if ! (source $PHSWDIR/bin/set_grid_env.sh && root.exe -l -b -q) 1&#62;&2 ; then
PHSW_RESULT=&#34;False&#34;
fi

advertise HAS_PHSW &#34;$PHSW_RESULT&#34; &#34;C&#34;

On Wed, Apr 29, 2015 at 11&#58;05 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430330727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T18:05:27+00:00">Apr 29, 2015 06:05 PM UTC</time><a class="anchor" name="1430330727">&nbsp;</a></div><pre>Hi Stephen,

Yes, I&#39;d expect you&#39;d still get some rhel5 jobs from SDSC factory, where I didn&#39;t make any changes yesterday. It looks like the change on the GOC factory, specifically requesting rhel6 did fix our log problem somehow. We&#39;re now seeing the OS validation errors explicitly [1]. However, I&#39;m a bit more suspicious about this set of lines in the log file, which precedes the OS validation error [2]. It looks like the worker nodes are not able to find this set_grid_env.sh script in the /cvmfs mount. Can you investigate this when you get the chance? I&#39;ll go ahead and update the SDSC factory to explicitly ask for rhel6 jobs as well. If you continue to see requests for rhel5, maybe it has something to do with this set_grid_env.sh script.

Marty Kandes
UCSD Glidein Factory Operations

[1]

test_os.f2amKi.sh&#58; OK
Signature OK for main&#58;test_os.f2amKi.sh.
=== Validation error in /tmp/glide_UvzqHO/main/test_os.sh ===
Tue Apr 28 16&#58;36&#58;12 PDT 2015 Error running &#39;/tmp/glide_UvzqHO/main/test_os.sh&#39;
The test script did not produce an XML file. No further information available.

[2]

/tmp/glide_esI1g5/client/osgvo-node-advertise&#58; line 362&#58; /cvmfs/oasis.opensciencegrid.org/osg/projects/phenix/snowball/phnxsw/bin/set_grid_env.sh&#58; No such file or directory
/tmp/glide_esI1g5/client/osgvo-node-advertise&#58; line 366&#58; /cvmfs/oasis.opensciencegrid.org/osg/projects/phenix/snowball/phnxsw/bin/set_grid_env.sh&#58; No such file or directory
/tmp/glide_esI1g5/client/osgvo-node-advertise&#58; line 372&#58; /cvmfs/oasis.opensciencegrid.org/osg/projects/phenix/snowball/phnxsw/bin/set_grid_env.sh&#58; No such file or directory

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1430319792'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T15:03:12+00:00">Apr 29, 2015 03:03 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430319792">&nbsp;</a></div><pre>We&#39;re still getting rhel5 jobs. You should have started getting the
results back yesterday late in the day. The scheduler event generator
wasn&#39;t working correctly before, but as best as I can tell it is now.

On Tue, Apr 28, 2015 at 4&#58;37 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430264251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T23:37:31+00:00">Apr 28, 2015 11:37 PM UTC</time><a class="anchor" name="1430264251">&nbsp;</a></div><pre>Stephen,

I&#39;ve gone ahead and modified the entry for Hyak on the GOC factory to explicitly ask / check for rhel6. In addition, I&#39;ve cleared out the glideins that were pending to make sure we have ones with this new OS attribute set to rhel6 attempt to run.

I agree. It&#39;s a bit odd we&#39;re not seeing this OS validation error from the factory-end. We usually do see this quite regularly in the logs that are returned to us. Unfortunately, we&#39;re not getting any logs back at the moment ...

Anyhow, let&#39;s see if fixing the OS attribute does the trick. I&#39;ll check back again later this evening and update the SDSC factory as well if this seems to resolve the problem.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1430263278'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T23:21:18+00:00">Apr 28, 2015 11:21 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430263278">&nbsp;</a></div><pre>They&#39;re running and failing. They seem to be failing because they&#39;re
checking to make sure the OS is rhel5 and it&#39;s rhel6. I have the OS set to
rhel6 in OSG information service. It&#39;s concerning you&#39;re not getting the
results of these runs. What could be the cause?
On Apr 28, 2015 4&#58;15 PM, &#34;Open Science Grid FootPrints&#34; &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430262853'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T23:14:13+00:00">Apr 28, 2015 11:14 PM UTC</time><a class="anchor" name="1430262853">&nbsp;</a></div><pre>Stephen,

The GOC factory is now back online. I had another look at this briefly. I don&#39;t see any underlying problems at this point. All we see from the factory-end is that the glideins are in a pending state, which usually means they are sitting in the local batch queue waiting for their turn to run. Is that what you&#39;re seeing locally?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1430247251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T18:54:11+00:00">Apr 28, 2015 06:54 PM UTC</time><a class="anchor" name="1430247251">&nbsp;</a></div><pre>Hi Stephen,

The GOC factory (glidein.grid.iu.edu) is currently down for regular maintenance.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1430244749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T18:12:29+00:00">Apr 28, 2015 06:12 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1430244749">&nbsp;</a></div><pre>There are some jobs trying to run now, but I noticed all the jobs that
are trying to run are failing to connect to glidein.grid.iu.edu. I&#39;m
also unable to connect to this host from my workstation and it is
directly connected to the Internet.

[sjf4@redoubt ~]$ wget
--user-agent=wget/glidein/OSG_US_Hyak_osg/schedd_glideins1@..../2217170.2/osg-flock-grid-iu-edu_OSG_gWMSFrontend.main
<a href='http&#58;//glidein.grid.iu.edu/factory/stage/condor_vars.f2amKi.lst' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/stage/condor_vars.f2amKi.lst</a>
--2015-04-28 11&#58;05&#58;34--
<a href='http&#58;//glidein.grid.iu.edu/factory/stage/condor_vars.f2amKi.lst' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/stage/condor_vars.f2amKi.lst</a>
Resolving glidein.grid.iu.edu (glidein.grid.iu.edu)... 129.79.53.27
Connecting to glidein.grid.iu.edu
(glidein.grid.iu.edu)|129.79.53.27|&#58;80... failed&#58; Connection timed
out.
Retrying.

--2015-04-28 11&#58;07&#58;43--  (try&#58; 2)
<a href='http&#58;//glidein.grid.iu.edu/factory/stage/condor_vars.f2amKi.lst' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/stage/condor_vars.f2amKi.lst</a>
Connecting to glidein.grid.iu.edu (glidein.grid.iu.edu)|129.79.53.27|&#58;80...

...and so on...

On Tue, Apr 28, 2015 at 12&#58;02 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1430204565'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T07:02:45+00:00">Apr 28, 2015 07:02 AM UTC</time><a class="anchor" name="1430204565">&nbsp;</a></div><pre>Still not seeing much OSG activity in general right now, so we&#39;ll have to get back to you later.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1430166686'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-27T20:31:26+00:00">Apr 27, 2015 08:31 PM UTC</time><a class="anchor" name="1430166686">&nbsp;</a></div><pre>I have added the entry to the production factories but I haven&#39;t seen any glideins attempt to run on Hyak, either. However, this may not be a site issue- I just checked on other sites that run OSG jobs, and none of them have any going, either. There might be something going on with the OSG frontend (or just maybe a general lull in submission) right now. I&#39;ll check back in later and see if anything has changed.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1430163195'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-27T19:33:15+00:00">Apr 27, 2015 07:33 PM UTC</time> by <b>reschke@....</b><a class="anchor" name="1430163195">&nbsp;</a></div><pre>Hi,

Just checking in — still not seeing OSG jobs run on Hyak.

- C

--
Chance Reschke
Director, Research Computing, UW-IT
University of Washington
reschke@....&#60;mailto&#58;reschke@....&#62;
(206) 369-9612

On Apr 27, 2015, at 7&#58;16 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='24577#1429893127'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-24T16:32:07+00:00">Apr 24, 2015 04:32 PM UTC</time><a class="anchor" name="1429893127">&nbsp;</a></div><pre>Unfortunately I&#39;m still waiting on the user proxies being renewed on our test frontend. If they&#39;re not renewed by the end of my shift today, I&#39;ll go ahead and move the Hyak entry over to one of the production factories and do some throttled live testing instead.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1429891380'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-24T16:03:00+00:00">Apr 24, 2015 04:03 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1429891380">&nbsp;</a></div><pre>Brendan,

Has any progress been made on the test frontend?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1429546474'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-20T16:14:34+00:00">Apr 20, 2015 04:14 PM UTC</time><a class="anchor" name="1429546474">&nbsp;</a></div><pre>The production factories will normally follow any registered downtimes by marking the corresponding factory entry as down until the downtime completes. However, I don&#39;t believe our ITB factory is currently setup to do this, which is why it was still trying to submit to your site even while it was in maintenance. Once we move it to the production factories, submission should halt with any future registered downtimes.

I was originally going to post an update on how test submissions are going, but it looks like there&#39;s a problem with my user proxy on our test frontend so I&#39;ll have to get back to you later with how glideins are doing once I get it fixed.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1429541617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-20T14:53:37+00:00">Apr 20, 2015 02:53 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1429541617">&nbsp;</a></div><pre>Hi Steven,

For availability accounting purposes you can register your downtime here if you like&#58;  <a href='https&#58;//oim.grid.iu.edu/oim/resourcedowntime' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/resourcedowntime</a>
This will prevent you from showing up on the Graita non reporting list.  You can do this in advance of maintenance/downtime or after.

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='24577#1429301355'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-17T20:09:15+00:00">Apr 17, 2015 08:09 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1429301355">&nbsp;</a></div><pre>Hyak was back in normal operation about 7&#58;00am today. The downtime
section of OIM is the right way to provide downtime information? It
didn&#39;t seem to have any effect on whether your jobs would start or
not.</pre></div><div class='update_description'><i onclick="document.location='24577#1429217608'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-16T20:53:28+00:00">Apr 16, 2015 08:53 PM UTC</time><a class="anchor" name="1429217608">&nbsp;</a></div><pre>Chance,

Thanks for keeping us up-to-date on the maintenance. Brendan will be on shift for Factory Ops again tomorrow. He should be able to pick up on coordinating the testing with you again then if all goes well. Of course, please let us know if you have to extend the maintenance window again.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24577#1429215266'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-16T20:14:26+00:00">Apr 16, 2015 08:14 PM UTC</time> by <b>reschke@....</b><a class="anchor" name="1429215266">&nbsp;</a></div><pre>Hyak maintenance has been extended again.

Let’s just assume you can start running OSG jobs again at noon tomorrow.

- C

On Apr 16, 2015, at 10&#58;05 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='24577#1429203938'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-16T17:05:38+00:00">Apr 16, 2015 05:05 PM UTC</time> by <b>reschke@....</b><a class="anchor" name="1429203938">&nbsp;</a></div><pre>Hi,

Hyak maintenance has been extended until noon today.

Thanks for working through the various issues.

We’re really looking forward to seeing OSG jobs start to run on Hyak!

- C

On Apr 15, 2015, at 8&#58;04 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='24577#1429153439'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-16T03:03:59+00:00">Apr 16, 2015 03:03 AM UTC</time><a class="anchor" name="1429153439">&nbsp;</a></div><pre>The requests are originating on the worker node I believe. I think I&#39;ve found the problem, however- I forgot to set the proxy_url value when I created the entry for your site, so it defaulted to &#34;None&#34;. I&#39;ve set it to &#34;OSG&#34; instead, which means it&#39;ll use whatever you have set on your end for the proxy. Since it looks like the maintenance has finished, I&#39;ll send some more test jobs at the site and see if that fixed it.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1429030699'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-14T16:58:19+00:00">Apr 14, 2015 04:58 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1429030699">&nbsp;</a></div><pre>None of the nodes have access to the Internet. Is that where the
request are originating? I have that set in GIP I believe. There&#39;s an
HTTP proxy and that&#39;s getting passed into the job script I saw.

On an unrelated matter, today and part of tomorrow is scheduled
maintenance. I&#39;ll let you know when we&#39;re done.

On Mon, Apr 13, 2015 at 8&#58;49 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1428983368'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-14T03:49:28+00:00">Apr 14, 2015 03:49 AM UTC</time><a class="anchor" name="1428983368">&nbsp;</a></div><pre>I just took a look at the glideins for the test jobs, and it looks like they&#39;re all failing validation due to being unable to fetch files from the factory [1]. Is there any sort of firewalls in place that could be blocking file requests?

Brendan Dennis
UCSD Glidein Factory Operations

[1]
------- =================== ---------------
Setting X509_USER_PROXY  to canonical path /home/osgmis/.globus/osgmis/.globus/job/globus1/16433971365052636906.15762837195100037049/x509_user_proxy
Mon Apr 13 16&#58;09&#58;32 PDT 2015 Failed to load file &#39;description.f1n2NO.cfg&#39; from &#39;<a href='http&#58;//glidein-itb.grid.iu.edu/factory/stage&#39' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/stage&#39</a>;.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1428983290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-14T03:48:10+00:00">Apr 14, 2015 03:48 AM UTC</time> by <b>reschke@....</b><a class="anchor" name="1428983290">&nbsp;</a></div><pre>Hi,

This seems like a pretty big step in the right direction.  We can see your jobs running — really looking forward to hearing how things look from your end.  We haven’t had a ton of spare cycles to volunteer lately, but we’d like to contribute whatever we have!

- C

--
Chance Reschke
Director, Research Computing, UW-IT
University of Washington
reschke@....&#60;mailto&#58;reschke@....&#62;
(206) 369-9612

On Apr 13, 2015, at 3&#58;54 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='24577#1428941243'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-13T16:07:23+00:00">Apr 13, 2015 04:07 PM UTC</time><a class="anchor" name="1428941243">&nbsp;</a></div><pre>Hi Stephen,

I&#39;ve created a factory entry for your site and added it to our GOC ITB testing factory. I&#39;ve also submitted a few test jobs that should get some glideins running on your site, and I&#39;ll check back in later to let you know how they look from my end.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24577#1428699683'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-10T21:01:23+00:00">Apr 10, 2015 09:01 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1428699683">&nbsp;</a></div><pre>Did you run them through PBS or managed fork?

On Fri, Apr 10, 2015 at 1&#58;47 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1428698840'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-10T20:47:20+00:00">Apr 10, 2015 08:47 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428698840">&nbsp;</a></div><pre>Chance,

I ran over 2000 jobs there earlier.  You haven&#39;t seen any jobs coming in at all?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1428686845'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-10T17:27:25+00:00">Apr 10, 2015 05:27 PM UTC</time> by <b>reschke@....</b><a class="anchor" name="1428686845">&nbsp;</a></div><pre>Hi,

Great news!

So far I’m not seeing any OSG work execute.  We’ll keep an eye on things.  Hopefully Glidein jobs will start to execute here.  If not, or if we still have idle capacity during our slack moments (fewer and fewer of these), are there other things we can do to encourage OSG users to execute here?

Thanks,

Chance

--
Chance Reschke
Director, Research Computing, UW-IT
University of Washington
reschke@....&#60;mailto&#58;reschke@....&#62;
(206) 369-9612

On Apr 10, 2015, at 7&#58;10 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='24577#1428675012'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-10T14:10:12+00:00">Apr 10, 2015 02:10 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428675012">&nbsp;</a></div><pre>Ok!  With that information I have successfully used Condor to submit and run a job on your resource. So things are working, and from what I can see you are publishing your availability to various places.

I&#39;ve added the glidein factory operations and I&#39;d like to see if they could work with you to get some glidein jobs coming to your resource.</pre></div><div class='update_description'><i onclick="document.location='24577#1428615550'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-09T21:39:10+00:00">Apr 9, 2015 09:39 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1428615550">&nbsp;</a></div><pre>We use Moab/Torque (aka PBS) for the cluster. I have condor running on
the CE for the purposes of supporting managed fork only.

On Thu, Apr 9, 2015 at 1&#58;37 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1428611840'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-09T20:37:20+00:00">Apr 9, 2015 08:37 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428611840">&nbsp;</a></div><pre>Another question...

Is any instance of Condor running at all on your resource?

I get this&#58;

$ condor_ce_trace osg.hyak.washington.edu
Testing HTCondor-CE collector connectivity.
- Failed ping of collector on &#60;198.48.92.21&#58;9619&#62;.

Which generally means that Condor isn&#39;t running on the CE.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1428611160'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-09T20:26:00+00:00">Apr 9, 2015 08:26 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428611160">&nbsp;</a></div><pre>Stephen,

Are you running HTCondorCE?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1428602048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-09T17:54:08+00:00">Apr 9, 2015 05:54 PM UTC</time><a class="anchor" name="1428602048">&nbsp;</a></div><pre>They (Chander, Marco, etc) suggested we just join the OSG VO and accept jobs from OSG to start out. I know other VOs have different requirements, so I think they wanted to keep things simple. We&#39;d just like to fill out our excess capacity (generally 1K - 2K cores) some times a lot more though during slack times (primarily holidays). We&#39;re open to suggestions and documentation pointers.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='24577#1428588571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-09T14:09:31+00:00">Apr 9, 2015 02:09 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428588571">&nbsp;</a></div><pre>Do you only want to receive jobs from the OSG VO?  Or would you want other VOs to be able to run as well?  We can get you hooked up with the glidein factory so that your cluster can be targeted for jobs that way as well.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1428511454'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-08T16:44:14+00:00">Apr 8, 2015 04:44 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1428511454">&nbsp;</a></div><pre>So there aren&#39;t enough jobs for us to receive any? I&#39;m just trying to
establish if there&#39;s anything left that I have to do to ensure we can
receive jobs from Open Science Grid.

On Mon, Apr 6, 2015 at 12&#58;56 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1428350159'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-06T19:55:59+00:00">Apr 6, 2015 07:55 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428350159">&nbsp;</a></div><pre>I joined the OSG VO this morning.

I was just able to run a job on your resource.

$ globus-job-run osg.hyak.washington.edu /bin/hostname
globus1.hyak.washington.edu

So, that being said, members of the OSG VO are able to run jobs on your machine without us actually changing anything here at the GOC.</pre></div><div class='update_description'><i onclick="document.location='24577#1428069866'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-03T14:04:26+00:00">Apr 3, 2015 02:04 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1428069866">&nbsp;</a></div><pre>Ok, when you&#39;re using GUMS, the gridmap file doesn&#39;t get used.  Is my DN in GUMS?</pre></div><div class='update_description'><i onclick="document.location='24577#1428062710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-03T12:05:10+00:00">Apr 3, 2015 12:05 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1428062710">&nbsp;</a></div><pre>Yes, we&#39;re using GUMS. I&#39;ll look into it when I get back to the office
Wednesday and follow up then.

On Thu, Apr 2, 2015 at 8&#58;25 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1427988302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-02T15:25:02+00:00">Apr 2, 2015 03:25 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1427988302">&nbsp;</a></div><pre>I have a few more questions.

First, are you using GUMS?  After looking more closely at your error message, that seems to be one that we get with GUMS.

Second, can you enable the MIS VO to run on your resource?  With only the OSG VO allowed to run on your resource, Vince and I can&#39;t really do much to troubleshoot, since our VO will be denied.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1427977017'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-02T12:16:57+00:00">Apr 2, 2015 12:16 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1427977017">&nbsp;</a></div><pre>Stephen,

Vince and I are both MIS.  MIS is the VO for the central operations of OSG.  So that means that if you have both of us listed as MIS users in the gridmap file, then there&#39;s another issue at play.  First let&#39;s change us back to MIS and I&#39;ll try a few more things once you&#39;ve done that.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='24577#1427894840'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-01T13:27:20+00:00">Apr 1, 2015 01:27 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1427894840">&nbsp;</a></div><pre>I went back and read all your comments. I changed&#58;
&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Vince Neal 2324&#34; mis
to&#58;
&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Vince Neal
2324&#34; osgosg

in /etc/grid-security/grid-mapfile where osgosg is the UNIX user on
our system for the osg group. I&#39;ve done this for Kyle as well. Let me
know if that&#39;s what you wanted.</pre></div><div class='update_description'><i onclick="document.location='24577#1427821231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-31T17:00:31+00:00">Mar 31, 2015 05:00 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1427821231">&nbsp;</a></div><pre>Thanks for the reply, I&#39;ve been out on vacation and I&#39;m at a
conference this week, so I&#39;m not as available as what&#39;s typical.

TIME&#58; Tue Mar 31 07&#58;47&#58;49 2015
PID&#58; 23743 -- Notice&#58; 5&#58; Authenticated globus user&#58;
/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Vince Neal
2324
TIME&#58; Tue Mar 31 07&#58;47&#58;49 2015
PID&#58; 23743 -- Notice&#58; 0&#58; GATEKEEPER_JM_ID
2015-03-31.07&#58;47&#58;49.0000025165.0000000698 for
/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Vince Neal
2324 on &#58;&#58;ffff&#58;129.79.53.190
Failure&#58; globus_gss_assist_gridmap() failed authorization.
globus_gss_assist&#58; Error invoking callout
globus_callout_module&#58; The callout returned an error
an unknown error occurred
TIME&#58; Tue Mar 31 07&#58;47&#58;49 2015
PID&#58; 23743 -- Failure&#58; globus_gss_assist_gridmap() failed
authorization. globus_gss_assist&#58; Error invoking callout
globus_callout_module&#58; The callout returned an error
an unknown error occurred

It looks like you both are in the &#39;mis&#39; organization rather than the
&#39;osg&#39; organization. I don&#39;t have that organization mapped to any
userid. Is it ok if I map the &#39;mis&#39; organization to the same UNIX user
as the osg organization? Thanks,

Stephen

On Tue, Mar 31, 2015 at 7&#58;48 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1427813314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-31T14:48:34+00:00">Mar 31, 2015 02:48 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1427813314">&nbsp;</a></div><pre>Hi Stephen,

Have you had an opportunity to enable my DN for purposes of testing?

globusrun -a -r osg.hyak.washington.edu

GRAM Authentication test failure&#58; authentication with the remote server failed

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='24577#1427478971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-27T17:56:11+00:00">Mar 27, 2015 05:56 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1427478971">&nbsp;</a></div><pre>Hi Stephen,

Kyle and I have been looking at your CE and I would like you to check your globus log located here&#58;  /var/log/globus-gatekeeper
to see if you can find any &#34;Gridmap lookup failure&#58; Could not map&#34;

Also, would you mind temporarily adding the following to your grid-mapfile for the purpose of testing?
/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kyle Gross 79
and
/dc=com/dc=digicert-grid/o=open science grid/ou=people/cn=Vince Neal 2324

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='24577#1427406614'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-26T21:50:14+00:00">Mar 26, 2015 09:50 PM UTC</time> by <b>sjf4@....</b><a class="anchor" name="1427406614">&nbsp;</a></div><pre>Any ideas on this? Everything looks fine in RSV and BDII information
viewer. The weekly gratia reports include the test jobs I&#39;ve run. I
don&#39;t know what else to check. My organization is University of
Washington and the CE is called Hyak_CE (only one). Thanks.

On Thu, Mar 19, 2015 at 4&#58;57 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24577#1426809452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-19T23:57:32+00:00">Mar 19, 2015 11:57 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1426809452">&nbsp;</a></div><pre>I have everything set up I believe. I&#39;ve run through the steps in the Validating your CE document and it all works. I believe I&#39;m ready to have my CE starting receiving jobs from OSG. How do I enable that? Thanks.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F24577">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 24577});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
