<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[14789] globus-job-run not working as expected</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=14789" method="post">
<div class="page-header">
    <h3><span class="muted">14789</span> / globus-job-run not working as expected</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Joseph Rinkovsky</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Joseph Rinkovsky</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">waiting for user response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-05-06</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Suchandra Thapa <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/14789", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='14789#1370377542'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-04T20:25:42+00:00">Jun 4, 2013 08:25 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1370377542">&nbsp;</a></div><pre>Closing ticket per last response.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1370376016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-04T20:00:16+00:00">Jun 4, 2013 08:00 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1370376016">&nbsp;</a></div><pre>The ticket can be resolved.

On 6/4/13 3&#58;57 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1370375850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-04T19:57:30+00:00">Jun 4, 2013 07:57 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1370375850">&nbsp;</a></div><pre>Great to hear.  Is the issue resolved and can the ticket be closed or is there something else we need to do?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1370279172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-03T17:06:12+00:00">Jun 3, 2013 05:06 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1370279172">&nbsp;</a></div><pre>Turns out the SEG was not running do to a missing symlink in

/etc/globus/scheduler-event-generator for pbs

I am receiving my output as expected now.

On 6/3/13 12&#58;50 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1370278233'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-03T16:50:33+00:00">Jun 3, 2013 04:50 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1370278233">&nbsp;</a></div><pre>Hi,

If you look at the SEG log in /var/lib/globus/globus-seg-pbs, do you records that indicate that the SEG has seen the job as completing?  The records should look like&#58;

001;1370031513;job_id;8;0

The field after the job id should be 8 for completed jobs.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1368727697'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-16T18:08:17+00:00">May 16, 2013 06:08 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1368727697">&nbsp;</a></div><pre>I was able to get SEG going and have made a bit more progress.

I am seeing the stdout in
/N/u/csiu0/Quarry/.globus/csiu0/.globus/job/m3/ tree but it still isn&#39;t
showing up on the screen. It just sits there until I use ctrl-c to make
it stop. Any ideas where I should look to troubleshoot this?

On 5/7/13 3&#58;29 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367954990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T19:29:50+00:00">May 7, 2013 07:29 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1367954990">&nbsp;</a></div><pre>Just as a hint, with the SEG, you should probably export it using NFS from your PBS server to your CE.  Although I think rsync may work, there&#39;s a bunch of gotchas that exist due to the way the SEG monitors the log files so exporting it using a shared filesystem (NFS, Lustre, etc) is the best way to do this.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1367603287'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-03T17:48:07+00:00">May 3, 2013 05:48 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1367603287">&nbsp;</a></div><pre>Ok. That makes sense. I will look at SEG. It might not be until after
next week though since I will be at the Cray User Group meeting all week.

On 5/3/13 1&#58;43 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367602996'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-03T17:43:16+00:00">May 3, 2013 05:43 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1367602996">&nbsp;</a></div><pre>Hi,

You&#39;ll need to enable the SEG in order to scale your CE to production levels since the polling method will overload your gatekeeper once you go past about 100 active jobslots.   I think the problem may be in how the polling method is working and if that&#39;s the case, it may not be worth expending the effort to get that working if you will immediately switch to a different code path that may have other issues.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1367436851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T19:34:11+00:00">May 1, 2013 07:34 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1367436851">&nbsp;</a></div><pre>I do NOT have SEG enabled. I wasn&#39;t sure if I needed it or not. This is
my first experience with the OSG stack.

Currently log files are not being shipped to the CE. My goal was to get
jobs running first and then worry about accounting.

On 5/1/13 3&#58;30 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367436658'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T19:30:58+00:00">May 1, 2013 07:30 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1367436658">&nbsp;</a></div><pre>Okay, that makes sense.  Do you have the SEG enabled on the gatekeeper?  If so, how are you shipping the the PBS log files to the CE?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1367435410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T19:10:10+00:00">May 1, 2013 07:10 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1367435410">&nbsp;</a></div><pre>The copy failure in the original message I sent you are from the pbs_mom
logs on a worker node. The job runs but when pbs_mom goes to write the
output the file(and directory) that are specified in the torque job are
not there and it fails. Does this make sense?

On 5/1/13 3&#58;04 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367435041'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T19:04:01+00:00">May 1, 2013 07:04 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1367435041">&nbsp;</a></div><pre>Yes, the globus-gatekeeper needs to run as root so that it can create processes running as the appropriate user.   Having the CE and the torque server on different machines is fine.  I think the issue is how the home directories are mounted if the globus gatekeeper can&#39;t access them to stage stdout/stderr out when the job is complete.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='14789#1367433610'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T18:40:10+00:00">May 1, 2013 06:40 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1367433610">&nbsp;</a></div><pre>It looks like globus-gatekeeper is running as root. Is this typical? Is
there another globus process I should be looking for. Also worth noting
is that the CE and torque are on different servers.

On 5/1/13 2&#58;34 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367433250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T18:34:10+00:00">May 1, 2013 06:34 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1367433250">&nbsp;</a></div><pre>This is a new installation. I will test and let you know

On 5/1/13 2&#58;29 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367432956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T18:29:16+00:00">May 1, 2013 06:29 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1367432956">&nbsp;</a></div><pre>Yes, globus should be creating those directories.  Globus copies the stdout and stderr from the torque directories into the user home directories and so that they can be staged out. To test it I&#39;d try to su  to the user that globus is running as and try copying a dummy file and seeing if it works or the error message that is generated.

Did the CE work previously?

Suchandra Thapa</pre></div><div class='update_description'><i onclick="document.location='14789#1367425327'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T16:22:07+00:00">May 1, 2013 04:22 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1367425327">&nbsp;</a></div><pre>The home directory IS available on the CE. Is there anything special
that needs to be done with permissions and/or groups? The home
directories are current set such that ONLY the owner can access them.

Is it correct that globus should be creating the
globus/csiu0/.globus/job/m3/16290057153518491561.11629147888826716332/stdout
directories?

Where can i look to see if/why this is failing?

We are using torque on the worker nodes(if this is not already obvious).

Thanks for your help.

--Joe

On 5/1/13 12&#58;15 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14789#1367424904'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T16:15:04+00:00">May 1, 2013 04:15 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1367424904">&nbsp;</a></div><pre>Hi,

Looking at the logs, there&#39;s it looks like the copy instructions failed&#58;

Apr 24 10&#58;10&#58;45 b0158 pbs_mom&#58; LOG_ERROR&#58;&#58;req_cpyfile, Unable to copy file /var/spool/torque/spool/698223.qm2.OU to /N/u/csiu0/Quarry/.globus/csiu0/.globus/job/m3/16290057153518491561.11629147888826716332/stdout
Apr 24 10&#58;10&#58;49 b0158 pbs_mom&#58; LOG_ERROR&#58;&#58;sys_copy, command &#39;/bin/cp -rp /var/spool/torque/spool/698223.qm2.ER /N/u/csiu0/Quarry/.globus/csiu0/.globus/job/m3/16290057153518491561.11629147888826716332/stderr&#39; failed with status=1, giving up after 4 attempts

Is globus using the correct command and is the home directory for the grid user accessible on your CE?

Suchandra Thapa
OSG Software Team</pre></div><div class='update_description'><i onclick="document.location='14789#1367253238'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-29T16:33:58+00:00">Apr 29, 2013 04:33 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1367253238">&nbsp;</a></div><pre>Software Team/Suchandra,

Have you had a chance to look at this issue for Joe yet?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='14789#1366814131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-24T14:35:31+00:00">Apr 24, 2013 02:35 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1366814131">&nbsp;</a></div><pre>The following is the output of my session. As you can see globus-job-run is not returning the expected output. globus-job-submit seems to work correctly as seen in the example.

I am attaching the logs from the compute node that the job runs on and also the osg-profile.txt

From what I can see it appears that the directory structure that the torque job expects is not being created and it fails when torque tries to copy the output there. I have dug around a bit but I can&#39;t find anything that points to the root cause of the problem.

[jrinkovs@m3 ~]$ voms-proxy-info
subject   &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Joseph C Rinkovsky 945/CN=proxy
issuer    &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Joseph C Rinkovsky 945
identity  &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Joseph C Rinkovsky 945
type      &#58; proxy
strength  &#58; 1024 bits
path      &#58; /tmp/x509up_u4609
timeleft  &#58; 11&#58;59&#58;36
[jrinkovs@m3 ~]$ globus-job-run m3.quarry.teragrid.iu.edu /bin/hostname
m3.quarry.teragrid.iu.edu
[jrinkovs@m3 ~]$ globus-job-run m3.quarry.teragrid.iu.edu/jobmanager /bin/hostname
m3.quarry.teragrid.iu.edu
[jrinkovs@m3 ~]$ globus-job-run m3.quarry.teragrid.iu.edu/jobmanager-pbs /bin/hostname
[jrinkovs@m3 ~]$ echo $?
0
[jrinkovs@m3 ~]$ globus-job-submit m3.quarry.teragrid.iu.edu/jobmanager-pbs /bin/hostname
<a href='https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/' target='_blank' rel='nofollow'>https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/</a>
[jrinkovs@m3 ~]$ globus-job-get-output <a href='https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/' target='_blank' rel='nofollow'>https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/</a>
[jrinkovs@m3 ~]$ globus-job-status <a href='https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/' target='_blank' rel='nofollow'>https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/</a>
DONE
[jrinkovs@m3 ~]$ globus-job-get-output <a href='https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/' target='_blank' rel='nofollow'>https&#58;//m3.quarry.teragrid.iu.edu&#58;46477/16290057152817433526/11629147888826716332/</a>
q0158

by Joseph Rinkovsky (guest)</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F14789">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
