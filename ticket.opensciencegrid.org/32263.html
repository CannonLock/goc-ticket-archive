<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[32263] Glidein Jobs Not Picking Up Work</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=32263" method="post">
<div class="page-header">
    <h3><span class="muted">32263</span> / Glidein Jobs Not Picking Up Work</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Stephen Fralich</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Hyak_CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">OSG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Stephen Fralich</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">UW-IT</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-04-17</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">UW-IT <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/32263", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/32263?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/32263?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Glidein%20Jobs%20Not%20Picking%20Up%20Work%20ISSUE%3D32263%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='32263#1493929349'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T20:22:29+00:00">May 4, 2017 08:22 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1493929349">&nbsp;</a></div><pre>As a follow-up&#58;
the issue has been solved in GlideinWMS, ticket <a href='https&#58;//cdcvs.fnal.gov/redmine/issues/16151' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/issues/16151</a> and <a href='https&#58;//cdcvs.fnal.gov/redmine/issues/16147' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/issues/16147</a>
Will be in GWMS 3.2.19, a RC will be available in 1-2 weeks and the release is scheduled in 3 weeks.
Marco</pre></div><div class='update_description'><i onclick="document.location='32263#1492610441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-19T14:00:41+00:00">Apr 19, 2017 02:00 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1492610441">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.
Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='32263#1492554336'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-18T22:25:36+00:00">Apr 18, 2017 10:25 PM UTC</time><a class="anchor" name="1492554336">&nbsp;</a></div><pre>I think we&#39;re set.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1492108864'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-13T18:41:04+00:00">Apr 13, 2017 06:41 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1492108864">&nbsp;</a></div><pre>Thanks Jeff.

Stephen, may we assist with anything else?

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='32263#1492104056'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-13T17:20:56+00:00">Apr 13, 2017 05:20 PM UTC</time><a class="anchor" name="1492104056">&nbsp;</a></div><pre>HI,

I&#39;m still in communication with the glideinWMS developers to understand how to move forward. However I implemented a patch in the factory to revert to 3.2.14 behavior on one of our factories, so at least we are back to full utilization of whole node pilots at Hyak.

Unless Stephen has anything else to add I think this can be closed, the larger problem is not a Hyak problem.

Thanks,
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1492095276'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-13T14:54:36+00:00">Apr 13, 2017 02:54 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1492095276">&nbsp;</a></div><pre>Morning Jeff,

Any luck with your investigation?

Thank you,</pre></div><div class='update_description'><i onclick="document.location='32263#1491927149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-11T16:12:29+00:00">Apr 11, 2017 04:12 PM UTC</time><a class="anchor" name="1491927149">&nbsp;</a></div><pre>Sorry, spoke too soon &#58;( GLIDIEIN_CPUS = &#34;node&#34; is causing our frontends to stop requesting at Hyak.

The investigation continues.. I&#39;ll reply when we know more.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491869065'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-11T00:04:25+00:00">Apr 11, 2017 12:04 AM UTC</time><a class="anchor" name="1491869065">&nbsp;</a></div><pre>In the meantime, I&#39;ve tested and confirmed we can use GLIDIEIN_CPUS = &#34;node&#34; at Hyak.

Marco suggested this previously, it forces the pilot to determine core count from the hardware, and since Hyak is again configured to give us a full node, I think this is at least resolved for Hyak.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491868634'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T23:57:14+00:00">Apr 10, 2017 11:57 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1491868634">&nbsp;</a></div><pre>I opened a GWMS ticket to enhance CPUs detection and will be in 3.2.19, probably a month form now (available sooner via patch)&#58;
<a href='https&#58;//cdcvs.fnal.gov/redmine/issues/16147' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/issues/16147</a>

The suggestion is to use the bigger number between&#58;
PBS_NUM_PPN
the occurences of the host in PBS_NODEFILE
and PBS_NP if PBS_NUM_NODES=1</pre></div><div class='update_description'><i onclick="document.location='32263#1491861022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T21:50:22+00:00">Apr 10, 2017 09:50 PM UTC</time><a class="anchor" name="1491861022">&nbsp;</a></div><pre>Thanks Stephan.

You are correct that pre-glideinWMS 3.2.16 this is how it worked.  We&#39;re trying to be smarter though and configure the condor pilot to only use &#34;what the batch system gives us&#34; because we have some cases where we request a subset of cores on a node at a site, and should only use that number rather than all of the cores on the node, since other jobs probably have claimed those.

In your case it&#39;s much simpler since you give us a whole node, but we need the code to be smart enough to handle all the use cases.

Sorry for the hassle, we&#39;re discussing some options out of band now, perhaps PBS_NODEFILE is the solution.

Thanks,
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491860263'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T21:37:43+00:00">Apr 10, 2017 09:37 PM UTC</time><a class="anchor" name="1491860263">&nbsp;</a></div><pre>ALLPROCS is a feature of Moab (scheduler). How it sets things in Torque (aka PBS, resource manager) is out of our control. Moab is a closed source product and we&#39;re running a version they EOL&#39;ed a year go. Long term plan is to switch to Slurm. The new cluster we just rolled out Friday uses Slurm.

It was my understanding that the Condor instance itself running on the node automatically detected the number of CPUs (from looking at the hardware) and fetched the right number of tasks from the Condor collector based on that. Maybe this is incorrect or you want to go some other direction. PBS_NP or the file at the location in PBS_NODEFILE is the way to go. PBS_NODEFILE has definitely been in existence for the longest.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1491856861'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T20:41:01+00:00">Apr 10, 2017 08:41 PM UTC</time><a class="anchor" name="1491856861">&nbsp;</a></div><pre>Hi Stephan,

I think we found the issue, but we don&#39;t really understand it.

From Marco (gwms developer) in a conversation out of band [1] it looks like when you set the ALLPROCS flag, the pbs environment variables in our jobs don&#39;t completely advertise what we&#39;d expect.  Do you happen to know what happens under the hood when you set ALLPROCS?  Is that a policy you made up or is that a built in functionality of PBS?  If it&#39;s the former, can you possibly change how it sets these env vars from your end so that both PBS_NP and PBS_NUM_PPN give the full core count of the node?  If it&#39;s the latter and out of your control, I think Marco&#39;s suggestion sounds reasonable, but we&#39;ll need to patch the factory code again to get this working.

What do you think?

Thanks,
Jeff

[1]
&#34;Jeff,
I was explained that PBS_NP is the number of cores across all nodes used by the job (# of processors) and PBS_NUM_PPN is the cores on this node (# of processors per node), so I’m looking the second (PBS_NUM_PPN) but here I see&#58;
PBS_NP=12
PBS_NUM_NODES=1
PBS_NUM_PPN=1

Which makes little sense to me (i.e. I can use 12 processors across 1 nodes and on this node I can use 1).
Maybe I misunderstood the meaning
I could change it to use the bigger of the 2 if the node is one. Multi-node jobs are only on HPC facilities (NERSC, …).
Suggestions?

Thanks,
Marco&#34;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491842892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T16:48:12+00:00">Apr 10, 2017 04:48 PM UTC</time><a class="anchor" name="1491842892">&nbsp;</a></div><pre>I&#39;ve reinstated the ALLPROCS flag.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1491842177'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T16:36:17+00:00">Apr 10, 2017 04:36 PM UTC</time><a class="anchor" name="1491842177">&nbsp;</a></div><pre>Hi Stephan,

Based on Marco&#39;s findings, I think the glideins are now doing the right thing, but something has changed from your side and we no longer get a whole node by default when we remove xcount from the pilot classad.

I suspect the change you made is at the following comment&#58;
<a href='32263.html#1485452825' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/32263#1485452825</a>

Can you please change it back so that when we use the osg queue without xcount, we get a full node?  I&#39;m putting the entries in downtime in the factory until you make the change.

Thanks!
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491608803'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-07T23:46:43+00:00">Apr 7, 2017 11:46 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1491608803">&nbsp;</a></div><pre>A correction and an update.
Correction&#58; Nodes report to have 12 cores on 2 cpus (not 8 cores as I said before - was a mistake).

Update&#58; I tried also a submission asking for 4 cores (+xcount = 4) and I received 4 cores&#58;
{code}
PBS_NP=4
PBS_NUM_PPN=4
{code}

And the script (same used in glideins) detected 4 cores.
Cheers,
Marco</pre></div><div class='update_description'><i onclick="document.location='32263#1491606414'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-07T23:06:54+00:00">Apr 7, 2017 11:06 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1491606414">&nbsp;</a></div><pre>Hi Jeff, Stephen,
I did some test submissions using the settings in the factory&#58;
&#60;pre&#62;
grid_resource = condor globus1.hyak.washington.edu globus1.hyak.washington.edu&#58;9619
+queue = osg
&#60;/pre&#62;

I do see that the nodes have 8 cores (form /proc/cpu) but the job is assigned only one core, in the environment of my test job (same as glidein) I see&#58;
&#60;pre&#62;
PBS_NP=1
PBS_NUM_PPN=1
&#60;/pre&#62;

For what I know those 2 variables (specifically the last one on the node) should tell me the cores I can use&#58;
* PBS_NUM_PPN	Number of procs per node allocated to the job
* PBS_NP	Number of execution slots (cores) for the job

Did I miss some parameter in the job submission?
Is the job getting only one core?
Did I misunderstood the meaning of those variables?

Please help suggesting what to fix or how to check the cores available for the job.
Thank you,
Marco</pre></div><div class='update_description'><i onclick="document.location='32263#1491502646'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-06T18:17:26+00:00">Apr 6, 2017 06:17 PM UTC</time><a class="anchor" name="1491502646">&nbsp;</a></div><pre>Hi Stephan,

Sorry for the bad news, but it looks like this still isn&#39;t working as before. It&#39;s possible the configuration semantics have changed however, so I&#39;ve contacted the glideinWMS developers to understand what&#39;s going on.

In the meantime, I put back in our fixed 8 core pilot kludge.

I&#39;ll report back when I have more.

Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491431363'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-05T22:29:23+00:00">Apr 5, 2017 10:29 PM UTC</time><a class="anchor" name="1491431363">&nbsp;</a></div><pre>Hi Stephan,

I went ahead and reverted the Hyak entry to do the whole node requesting, with dynamic cpu and memory requesting.

Let&#39;s keep this open until we confirm everything is fixed.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32263#1491413564'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-05T17:32:44+00:00">Apr 5, 2017 05:32 PM UTC</time><a class="anchor" name="1491413564">&nbsp;</a></div><pre>If the automatic setting of cores and memory is fixed, we&#39;d prefer to switch back.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1491413139'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-05T17:25:39+00:00">Apr 5, 2017 05:25 PM UTC</time><a class="anchor" name="1491413139">&nbsp;</a></div><pre>Stephen,

would you like to go back to whole node scheduling with GLIDEIN_CPUs = auto and GLIDEIN_MaxMemMBs = 0 or are you happy with current settings of 8 cores and MaxMemMBs of 6hrs?

Thanks,
Marian
(gWMS Factory Ops)

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32263#1486664288'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-09T18:18:08+00:00">Feb 9, 2017 06:18 PM UTC</time><a class="anchor" name="1486664288">&nbsp;</a></div><pre>Stephen,

It looks like they did revert the GLIDEIN_CPUs setting in glideinWMS 3.2.17 [1]. So we can probably begin testing a GLIDEN_CPUs = auto entry configuration again on the GOC-ITB factory when you&#39;re ready.

Marty Kandes
UCSD Glidein Factory Operations

[1]

<a href='http&#58;//glideinwms.fnal.gov/doc.prd/history.html' target='_blank' rel='nofollow'>http&#58;//glideinwms.fnal.gov/doc.prd/history.html</a>

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1486508341'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-07T22:59:01+00:00">Feb 7, 2017 10:59 PM UTC</time><a class="anchor" name="1486508341">&nbsp;</a></div><pre>Hi Vince,

we just deployed 3.2.17 on our ITB today.

-Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32263#1486506649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-07T22:30:49+00:00">Feb 7, 2017 10:30 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1486506649">&nbsp;</a></div><pre>Hi Marty,

Has glideinWMS 3.2.17 testing started?  Please advise.

Thank you,</pre></div><div class='update_description'><i onclick="document.location='32263#1485475277'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-27T00:01:17+00:00">Jan 27, 2017 12:01 AM UTC</time><a class="anchor" name="1485475277">&nbsp;</a></div><pre>Stephan,

Cool. Thanks. I can confirm we&#39;re seeing 8-core glideins submitted to Hyak successfully run many users jobs across multiple VOs. Let&#39;s leave this ticket open until we circle back around to test glideinWMS 3.2.17 inconjuction with you. In the meantime, please let us know if you come across any other issues on your side.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1485452825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-26T17:47:05+00:00">Jan 26, 2017 05:47 PM UTC</time><a class="anchor" name="1485452825">&nbsp;</a></div><pre>ppn=8 and flags=ALLPROCS are incompatible. You can only use ppn=1 with ALLPROCS. I&#39;ve commented out the adding of ALLPROCS and now the jobs are running.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1485388230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-25T23:50:30+00:00">Jan 25, 2017 11:50 PM UTC</time><a class="anchor" name="1485388230">&nbsp;</a></div><pre>Stephen,

I contacted the glideinWMS developers. Basically, the GLIDEIN_CPUS = auto setting we were using in conjunction with your whole node scheduling at Hyak is simply broken in glideinWMS 3.2.16. They anticipate releasing glideinWMS 3.2.17 sometime next week. It&#39;ll then probably take us a few weeks to completely roll it out from testing to production. So we&#39;ll be stuck with the current configuration with explicitly setting the number of cores per glidein --- which is currently 8 --- for the time being. Once we have glideinWMS 3.2.17 in testing we can work with you to see if all the fixes expected are working correctly before pushing it into production.

Note, it does not look like we&#39;ve had any glideins run at Hyak successfully since we moved to the explicit multicore setup. It could simply be they&#39;re waiting in the queue much longer than Atlas jobs. Most glideins had been idling for a few days from what I saw. Just to be safe, I refreshed the idle glideins with a new batch. Can you make sure that you see these glideins move from the HTCondor-CE to the local batch queue? And, of course, check if there appear to be any scheduling issues on your side. I&#39;ll try to keep an eye on things from our end as well to make sure we at least get some glideins running again while we wait for glideinWMS 3.2.17.

Marty Kandes
UCSD Glidein Factory Operations

P.S. I also decided to explicitly set the requested memory to 20 GB per 8-core glidein instead of keeping it in auto-detection too. This should keep user jobs safely below your 3 GB per core limit.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1485382170'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-25T22:09:30+00:00">Jan 25, 2017 10:09 PM UTC</time><a class="anchor" name="1485382170">&nbsp;</a></div><pre>The only jobs we have right now are from atlas. I don&#39;t believe they come from any of the usual OSG glidein factories. I&#39;ve been out sick, so I&#39;ve not been seeing what&#39;s happening day to day.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1485380095'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-25T21:34:55+00:00">Jan 25, 2017 09:34 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1485380095">&nbsp;</a></div><pre>Good afternoon,

Checking in to see how the test jobs are progressing.  Please let me know if I can assist.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='32263#1484870226'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T23:57:06+00:00">Jan 19, 2017 11:57 PM UTC</time><a class="anchor" name="1484870226">&nbsp;</a></div><pre>3GB per core is safe. Max time on our jobs is 4 hours. Maybe they set it in the factory as 3 just to be sure they have some margin for error.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1484870058'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T23:54:18+00:00">Jan 19, 2017 11:54 PM UTC</time><a class="anchor" name="1484870058">&nbsp;</a></div><pre>Stephen,

Okay, I&#39;ve got everything setup to temporarily submit 8-core glideins while we figure this out. Hopefully you&#39;ll see a fresh batch starting up soon.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1484867859'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T23:17:39+00:00">Jan 19, 2017 11:17 PM UTC</time><a class="anchor" name="1484867859">&nbsp;</a></div><pre>Also, Stephen, it seems we still have low walltime set for glideins to 13800 (3hrs). Just double-checking if this is still the case or shall we increase it?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32263#1484867514'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T23:11:54+00:00">Jan 19, 2017 11:11 PM UTC</time><a class="anchor" name="1484867514">&nbsp;</a></div><pre>Stephen&#58;

how much is memory per core on these 8 core machines?

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32263#1484866477'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T22:54:37+00:00">Jan 19, 2017 10:54 PM UTC</time><a class="anchor" name="1484866477">&nbsp;</a></div><pre>The OSG jobs mostly run on 8 core nodes, so you can set it to that in the mean time.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1484850742'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T18:32:22+00:00">Jan 19, 2017 06:32 PM UTC</time><a class="anchor" name="1484850742">&nbsp;</a></div><pre>Stephen,

If this last attempt to restart the automated discovery of CPUS per node does not work, we&#39;ll probably have to go to glideinWMS developers for a temporary patch that fixes their default change. In that case, I&#39;d probably recommend that we set an explicit fixed number of CPUS as a temporary measure while we wait for the patch (or some other suggestion). What is the number of CPUs on the largest set of nodes in the cluster? This is probably what we&#39;d want to use.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1484847692'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-19T17:41:32+00:00">Jan 19, 2017 05:41 PM UTC</time><a class="anchor" name="1484847692">&nbsp;</a></div><pre>Marian,

Can you try GLIDEIN_CPUS = 0 today?

Marty Kandes
UCSD Glidein Factory Operations.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1484761315'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-18T17:41:55+00:00">Jan 18, 2017 05:41 PM UTC</time><a class="anchor" name="1484761315">&nbsp;</a></div><pre>Yes, we still are using the same osg queue where there&#39;s one job per node that&#39;s expected to use all the CPUs in the assigned node.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611</pre></div><div class='update_description'><i onclick="document.location='32263#1484707791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-18T02:49:51+00:00">Jan 18, 2017 02:49 AM UTC</time><a class="anchor" name="1484707791">&nbsp;</a></div><pre>Stephen,

If so, I suspect this is a problem on our end. We upgraded the SDSC and GOC glidein factories to glideinWMS 3.2.16 on December 7th and 13th, respectively. After each upgrade, glideins at Hyak drop off pretty quickly. See here [1] [2].

In this update, glideinWMS changed the default of GLIDEIN_CPUs = 1 to GLIDEIN_CPUS = auto. We already had the &#39;auto&#39; setting in the Hyak entry configuration prior to this update, which is how we were auto detecting how many CPUS were available on the whole nodes you scheduled for us in the cluster. However, this new glideinWMS default caused havoc for other sites around the world, who were not expecting it. We had to perform a quick fix and override this default back to GLIDEIN_CPUS = 1 in the global factory configuration. My guess is for some reason now that we globally set GLIDEIN_CPUS = 1, gldieinWMS is not respecting the local GLIDEIN_CPUS = auto in Hyak&#39;s configuration.

We should have our weekly factory operations conference call tomorrow morning. I&#39;ll discuss it with the group, see what they think, and then continue investigating tomorrow. I&#39;ll let you know when I know more.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

<a href='http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryStatus.html?entry=OSG_US_Hyak_osg&frontend=total&infoGroup=running&elements=StatusRunning' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryStatus.html?entry=OSG_US_Hyak_osg&frontend=total&infoGroup=running&elements=StatusRunning</a>,ClientGlideRunning,ClientGlideIdle,&rra=4&window_min=1477428834557.2354&window_max=1484668800000&timezone=-8

[2]

<a href='http&#58;//glidein.grid.iu.edu/factory/monitor/factoryStatus.html?entry=OSG_US_Hyak_osg&frontend=total&infoGroup=running&elements=StatusRunning' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/monitor/factoryStatus.html?entry=OSG_US_Hyak_osg&frontend=total&infoGroup=running&elements=StatusRunning</a>,ClientGlideRunning,ClientGlideIdle,&rra=4&window_min=1480484616742.1594&window_max=1484668800000&timezone=-8

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1484706072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-18T02:21:12+00:00">Jan 18, 2017 02:21 AM UTC</time><a class="anchor" name="1484706072">&nbsp;</a></div><pre>Stephen,

Do you still have the &#34;osg&#34; queue in your cluster schedule jobs by whole nodes? i.e., you&#39;re reserving us whole nodes, but we&#39;re only using 1 cpu per node?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32263#1484347289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-13T22:41:29+00:00">Jan 13, 2017 10:41 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1484347289">&nbsp;</a></div><pre>In reference to ticket 24577, assigning to Glidein ops to review.</pre></div><div class='update_description'><i onclick="document.location='32263#1484340250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-13T20:44:10+00:00">Jan 13, 2017 08:44 PM UTC</time> by <b>UW-IT</b><a class="anchor" name="1484340250">&nbsp;</a></div><pre>I believe request 24577 is the request where we discussed the setup I
referenced in my last e-mail/.

On Fri, Jan 13, 2017 at 12&#58;38 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32263#1484339892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-13T20:38:12+00:00">Jan 13, 2017 08:38 PM UTC</time> by <b>UW-IT</b><a class="anchor" name="1484339892">&nbsp;</a></div><pre>01/13/17 11&#58;32&#58;49 (pid&#58;1738) Allocating auto shares for slot type 1&#58;
Cpus&#58; 1.000000, Memory&#58; auto, Swap&#58; auto, Disk&#58; auto
slot type 1&#58; Cpus&#58; 1.000000, Memory&#58; 32214, Swap&#58; 100.00%, Disk&#58; 100.00%

The four hour wallclock is specific to our site. We also had a special
configuration where the condor instance would request a number of
tasks equivalent to the number of CPUs in the host. This has been
lost. Can someone please fix it? Thanks,

Stephen

On Mon, Jan 9, 2017 at 7&#58;32 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32263#1483975932'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-09T15:32:12+00:00">Jan 9, 2017 03:32 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1483975932">&nbsp;</a></div><pre>I&#39;m guessing but MaxWallClock is only 240, 1440 is more typical. I don&#39;t know if this is the issue but increasing this might get you more matches.
Also, there is this&#58;
Invalid address&#58; &#58;9619
In your output below, looks like a configuration issue.</pre></div><div class='update_description'><i onclick="document.location='32263#1483640157'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-05T18:15:57+00:00">Jan 5, 2017 06:15 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1483640157">&nbsp;</a></div><pre>Since we had a maintenance window back in mid-December, we haven&#39;t been getting any Glidein tasks. Jobs are submitted to our scheduling system and run, but they never or rarely pickup any tasks. I looked at the logs in /tmp and everything seems to be fine there (below example). If you have any suggestions or something just got flipped on your end, let me know. Thanks,

Stephen

01/05/17 10&#58;12&#58;12 (pid&#58;14432) ******************************************************
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** condor_startd (CONDOR_STARTD) STARTING UP
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** /tmp/glide_mjQVFZ/main/condor/sbin/condor_startd
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** SubsystemInfo&#58; name=STARTD type=STARTD(7) class=DAEMON(1)
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** Configuration&#58; subsystem&#58;STARTD local&#58;&#60;NONE&#62; class&#58;DAEMON
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** $CondorVersion&#58; 8.4.6 Apr 20 2016 BuildID&#58; 364106 $
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** $CondorPlatform&#58; x86_64_RedHat6 $
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** PID = 14432
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ** Log last touched time unavailable (No such file or directory)
01/05/17 10&#58;12&#58;12 (pid&#58;14432) ******************************************************
01/05/17 10&#58;12&#58;12 (pid&#58;14432) Using config source&#58; /tmp/glide_mjQVFZ/condor_config
01/05/17 10&#58;12&#58;12 (pid&#58;14432) config Macros = 323, Sorted = 323, StringBytes = 20905, TablesBytes = 11668
01/05/17 10&#58;12&#58;12 (pid&#58;14432) CLASSAD_CACHING is ENABLED
01/05/17 10&#58;12&#58;12 (pid&#58;14432) Daemon Log is logging&#58; D_ALWAYS D_ERROR D_JOB
01/05/17 10&#58;12&#58;12 (pid&#58;14432) Daemoncore&#58; Listening at &#60;0.0.0.0&#58;55889&#62; on TCP (ReliSock).
01/05/17 10&#58;12&#58;12 (pid&#58;14432) DaemonCore&#58; command socket at &#60;10.2.10.110&#58;55889?addrs=10.2.10.110-55889&noUDP&#62;
01/05/17 10&#58;12&#58;12 (pid&#58;14432) DaemonCore&#58; private command socket at &#60;10.2.10.110&#58;55889?addrs=10.2.10.110-55889&#62;
01/05/17 10&#58;12&#58;12 (pid&#58;14432) Invalid address&#58; &#58;9619
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CCBListener&#58; registered with CCB server osg-flock.grid.iu.edu&#58;9757 as ccbid 129.79.53.179&#58;9757?addrs=129.79.53.179-9757#1633380
01/05/17 10&#58;12&#58;13 (pid&#58;14432) my_popenv failed
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Failed to run hibernation plugin &#39;/tmp/glide_mjQVFZ/main/condor/libexec/condor_power_state ad&#39;
01/05/17 10&#58;12&#58;13 (pid&#58;14432) VM-gahp server reported an internal error
01/05/17 10&#58;12&#58;13 (pid&#58;14432) VM universe will be tested to check if it is available
01/05/17 10&#58;12&#58;13 (pid&#58;14432) History file rotation is enabled.
01/05/17 10&#58;12&#58;13 (pid&#58;14432)   Maximum history file size is&#58; 20971520 bytes
01/05/17 10&#58;12&#58;13 (pid&#58;14432)   Number of rotated history files is&#58; 2
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Allocating auto shares for slot type 1&#58; Cpus&#58; 1.000000, Memory&#58; auto, Swap&#58; auto, Disk&#58; auto
slot type 1&#58; Cpus&#58; 1.000000, Memory&#58; 24148, Swap&#58; 100.00%, Disk&#58; 100.00%
01/05/17 10&#58;12&#58;13 (pid&#58;14432) New machine resource of type 1 allocated
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Setting up slot pairings
01/05/17 10&#58;12&#58;13 (pid&#58;14432) passwd_cache&#58;&#58;cache_uid()&#58; getpwnam(&#34;condor&#34;) failed&#58; user not found
<div id='show_1943903640' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1943903640'>01/05/17 10&#58;12&#58;13 (pid&#58;14432) passwd_cache&#58;&#58;cache_uid()&#58; getpwnam(&#34;condor&#34;) failed&#58; user not found
01/05/17 10&#58;12&#58;13 (pid&#58;14432) my_popenv failed
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Adding &#39;GLIDEIN_PS_1&#39; to the Supplimental ClassAd list
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJobList&#58; Adding job &#39;GLIDEIN_PS_1&#39;
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Adding &#39;GLIDEIN_PS_2&#39; to the Supplimental ClassAd list
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJobList&#58; Adding job &#39;GLIDEIN_PS_2&#39;
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Adding &#39;GLIDEIN_PS_3&#39; to the Supplimental ClassAd list
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJobList&#58; Adding job &#39;GLIDEIN_PS_3&#39;
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJob&#58; Initializing job &#39;GLIDEIN_PS_1&#39; (/tmp/glide_mjQVFZ/main/script_wrapper.sh)
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJob&#58; Initializing job &#39;GLIDEIN_PS_2&#39; (/tmp/glide_mjQVFZ/main/script_wrapper.sh)
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJob&#58; Initializing job &#39;GLIDEIN_PS_3&#39; (/tmp/glide_mjQVFZ/main/script_wrapper.sh)
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Adding &#39;mips&#39; to the Supplimental ClassAd list
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJobList&#58; Adding job &#39;mips&#39;
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Adding &#39;kflops&#39; to the Supplimental ClassAd list
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJobList&#58; Adding job &#39;kflops&#39;
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJob&#58; Initializing job &#39;mips&#39; (/tmp/glide_mjQVFZ/main/condor/libexec/condor_mips)
01/05/17 10&#58;12&#58;13 (pid&#58;14432) CronJob&#58; Initializing job &#39;kflops&#39; (/tmp/glide_mjQVFZ/main/condor/libexec/condor_kflops)
01/05/17 10&#58;12&#58;13 (pid&#58;14432) State change&#58; IS_OWNER is false
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Changing state&#58; Owner -&#62; Unclaimed
01/05/17 10&#58;12&#58;13 (pid&#58;14432) State change&#58; RunBenchmarks is TRUE
01/05/17 10&#58;12&#58;13 (pid&#58;14432) Changing activity&#58; Idle -&#62; Benchmarking
01/05/17 10&#58;12&#58;13 (pid&#58;14432) BenchMgr&#58;StartBenchmarks()
01/05/17 10&#58;12&#58;35 (pid&#58;14432) State change&#58; benchmarks completed
01/05/17 10&#58;12&#58;35 (pid&#58;14432) Changing activity&#58; Benchmarking -&#62; Idle

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Stephen Fralich 2611

</div><script type='text/javascript'>
        $('#show_1943903640').click(function() {
            $('#detail_1943903640').slideDown("normal");
            $('#show_1943903640').hide();
            $('#hide_1943903640').show();
        });
        $('#hide_1943903640').click(function() {
            $('#detail_1943903640').slideUp();
            $('#hide_1943903640').hide();
            $('#show_1943903640').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F32263">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
