<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9840] Resource Specific Issue on Clemson-Palmetto</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9840" method="post">
<div class="page-header">
    <h3><span class="muted">9840</span> / Resource Specific Issue on Clemson-Palmetto</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Ian MacNeill</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Clemson-Palmetto</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/resource</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Ian MacNeill</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for a reply</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-03-07</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Engagement <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9840", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9840#1299030484'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-02T01:48:04+00:00">Mar 2, 2011 01:48 AM UTC</time><a class="anchor" name="1299030484">&nbsp;</a></div><pre>Yes, things look good. Thanks for your help in all of this.

Ian

-- by Ian MacNeill</pre></div><div class='update_description'><i onclick="document.location='9840#1299030129'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-02T01:42:09+00:00">Mar 2, 2011 01:42 AM UTC</time><a class="anchor" name="1299030129">&nbsp;</a></div><pre>At this point those nodes look okay. Are you continuing to see nodes that are problematic?

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1298666542'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-25T20:42:22+00:00">Feb 25, 2011 08:42 PM UTC</time><a class="anchor" name="1298666542">&nbsp;</a></div><pre>Hi everyone,
Everything seems to be running smoothly with one small exception.
We still see the error on a few of the nodes which may be that they haven&#39;t been taken out of the worker node pool like in the below response
HCC&#58;
8 Running on node0052
20 Running on node1357
SBGrid&#58;
2 Running on node1357
1 Running on node1405
1 Running on node1430

Ian

-- by Ian MacNeill</pre></div><div class='update_description'><i onclick="document.location='9840#1298425087'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-23T01:38:07+00:00">Feb 23, 2011 01:38 AM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1298425087">&nbsp;</a></div><pre>Hi Ian & Michael,

At one time, we installed our VO applications using pacman.  Not the best experience, but it worked.  Anyways...

I deleted the $OSG_GRID/hcc directory.  We no longer run any applications from that directory, and our glidein startup script will detect it missing and correctly advertise.

Ian, you should be able to restart resubmissions.

-Derek

On Feb 22, 2011, at 7&#58;05 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9840#1298423117'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-23T01:05:17+00:00">Feb 23, 2011 01:05 AM UTC</time><a class="anchor" name="1298423117">&nbsp;</a></div><pre>Thanks Michael,
Given your response, I think this goes beyond what we can do at the factory. I&#39;m bringing Derek in on cc to see what HCC can do.

Ian

-- by Ian MacNeill</pre></div><div class='update_description'><i onclick="document.location='9840#1298422566'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-23T00:56:06+00:00">Feb 23, 2011 12:56 AM UTC</time> by <b>mtmoore@....</b><a class="anchor" name="1298422566">&nbsp;</a></div><pre>Hi Ian,

The node1378 issue is an artifact of the move that started this whole
problem. It&#39;s fixed now. We take nodes out of our local scheduler (PBS)
when something breaks(NFS mount is missing) but many times they don&#39;t
get taken out of our worker node pool/Condor.

As for the second issue, it looks like the hcc specific directory has
some hard-coded (or auto-generated) things pointing to /projsmall/.
Looking a little more it appears to do it&#39;s own install with VDT. So,
maybe HCC could remove and re-install the stuff in that directory as
though this were a new site it was running on?

I can move the current directory /common1/osg/app/hcc/ to
/common1/osg/app/hcc.old and you can do a re-install and copy anything
you need over if that&#39;s necessary. Let me know.

Michael

On Wed, Feb 23, 2011 at 12&#58;37&#58;00AM +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9840#1298421467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-23T00:37:47+00:00">Feb 23, 2011 12:37 AM UTC</time><a class="anchor" name="1298421467">&nbsp;</a></div><pre>Hi Michael,
Thanks again for your ongoing help.

I&#39;ll give you the good news first. SBGrid jobs, which I don&#39;t believe were part of the original ticket so long ago, but also submit to your site, seem to be working almost entirely.
Node node1378 is having an issue, while all of the other nodes it runs on are fine.
The error for this node is
Tue Feb 22 18&#58;57&#58;26 EST 2011 GLOBUS_PATH not defined and /common1/osg/grid/globus/etc/globus-user-env.sh does not exist.
Hopefully there&#39;s something easy to do to make this node like the others.

The bad news is that 100% of the HCC glideins are still failing today (only 9 so far). This is on a number of different nodes, so it doesn&#39;t look like it&#39;s node specific.
The error is
/common1/osg/app/hcc/setup.sh&#58; line 44&#58; /projsmall/osg/app/hcc/vdt/etc/vdt-man-setup.sh&#58; No such file or directory
=== Validation error in /opt/condor/local.node1425/execute/dir_16249/glide_n16443/client_group_main/startd.sh ===
Tue Feb 22 19&#58;01&#58;38 EST 2011 Error running &#39;/opt/condor/local.node1425/execute/dir_16249/glide_n16443/client_group_main/startd.sh&#39;

This unfortunately matches one of the errors I started the ticket with (although it may be a good sign that we don&#39;t see all of the errors we were seeing at the start of this ticket).

Ian

-- by Ian MacNeill</pre></div><div class='update_description'><i onclick="document.location='9840#1298159960'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-19T23:59:20+00:00">Feb 19, 2011 11:59 PM UTC</time><a class="anchor" name="1298159960">&nbsp;</a></div><pre>Hi Ian,

Can you try again when you have a chance? I changed the CA location to a shared location that is rsyncing from the CE&#39;s CA directory. Let me know how it goes.

Thanks!

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1298068867'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-18T22:41:07+00:00">Feb 18, 2011 10:41 PM UTC</time> by <b>mtmoore@....</b><a class="anchor" name="1298068867">&nbsp;</a></div><pre>Hi Ian,

Not a problem, it looks like we have made some progress. In fact, it
looks like the job is getting farther and making it to an execute node
(node1511 in this case) but ther certificates aren&#39;t there. Let me try
and figure out how the certificates were previously configured in the
last WN install and change the new WN install to be the same.

Michael

On Fri, Feb 18, 2011 at 10&#58;10&#58;00PM +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9840#1298067019'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-18T22:10:19+00:00">Feb 18, 2011 10:10 PM UTC</time><a class="anchor" name="1298067019">&nbsp;</a></div><pre>Hi Michael,
I&#39;m sorry to be the bearer of bad news. I re-enabled the site and checked the output logs. I&#39;m not sure if the original problem has been solved yet because since the reinstall, it now can&#39;t locate the grid certs and it looks like this script comes before setup.sh.

Could not find grid-certificates!
Looked in&#58;
$X509_CERT_DIR
/etc/grid-security/certificates/
=== Validation error in /opt/condor/local.node1511/execute/dir_19830/glide_V19884/main/setup_x509.sh ===
Fri Feb 18 16&#58;35&#58;07 EST 2011 Error running &#39;/opt/condor/local.node1511/execute/dir_19830/glide_V19884/main/setup_x509.sh&#39;

Ian

-- by Ian MacNeill</pre></div><div class='update_description'><i onclick="document.location='9840#1297974297'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-17T20:24:57+00:00">Feb 17, 2011 08:24 PM UTC</time><a class="anchor" name="1297974297">&nbsp;</a></div><pre>Hi Ian,

I have re-installed wn-client in $OSG_GRID (/common1/osg/grid), moving the old to /common1/osg/grid.old. Can you try re-enabling glide-ins and see how things go? Sorry for the delay in getting our site back in order.

Michael

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1297898766'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-16T23:26:06+00:00">Feb 16, 2011 11:26 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1297898766">&nbsp;</a></div><pre>Hi Michael,
I tried to find a sysadmin here to give me some wisdom on this issue
but I couldn&#39;t.  So I ran a quick test.  I installed the wn-client
into /tmp/ce/wn-old.  Then I moved it to /tmp/ce/wn-tmp.  Of course
sourcing the setup.sh in this new directory gives me some errors
because the paths aren&#39;t valid.

[kronenfe@vdt-itb wn-tmp]$ . setup.sh
bash&#58; /tmp/ce/wn-old/vdt/etc/vdt-man-setup.sh&#58; No such file or directory
bash&#58; /tmp/ce/wn-old/vdt/etc/vdt-local-setup.sh&#58; No such file or directory
bash&#58; /tmp/ce/wn-old/vdt/etc/vdt-env-setup.sh&#58; No such file or directory
bash&#58; /tmp/ce/wn-old/perl/perl-setup.sh&#58; No such file or directory
bash&#58; /tmp/ce/wn-old/globus/etc/globus-user-env.sh&#58; No such file or directory
bash&#58; /tmp/ce/wn-old/vdt/etc/vdt-globus-options.sh&#58; No such file or directory

But then I made a symlink in /tmp/ce

[kronenfe@vdt-itb ce]$ ll
lrwxrwxrwx  1 root root      6 Feb 16 17&#58;18 wn-old -&#62; wn-tmp

And everything seems to work fine now when I source setup.sh.

[kronenfe@vdt-itb ~]$ cd /tmp/ce/wn-tmp/
[kronenfe@vdt-itb wn-tmp]$ . setup.sh
[kronenfe@vdt-itb wn-tmp]$ which java
/tmp/ce/wn-old/jdk1.6/bin/java
[kronenfe@vdt-itb wn-tmp]$ java -version
java version &#34;1.6.0_20&#34;
Java(TM) SE Runtime Environment (build 1.6.0_20-b02)
Java HotSpot(TM) 64-Bit Server VM (build 16.3-b01, mixed mode)
[kronenfe@vdt-itb wn-tmp]$

If this works for you it is certainly going to be your least effort
solution.  Let me know how it goes.

<div id='show_1695581916' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1695581916'>-scot
</div><script type='text/javascript'>
        $('#show_1695581916').click(function() {
            $('#detail_1695581916').slideDown("normal");
            $('#show_1695581916').hide();
            $('#hide_1695581916').show();
        });
        $('#hide_1695581916').click(function() {
            $('#detail_1695581916').slideUp();
            $('#hide_1695581916').hide();
            $('#show_1695581916').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9840#1297809825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T22:43:45+00:00">Feb 15, 2011 10:43 PM UTC</time><a class="anchor" name="1297809825">&nbsp;</a></div><pre>Hi Scott,

The change that lead to this situation was taking the NFS mount at /projsmall with OSG_ variables&#58;
OSG_GRID=/projsmall/osg/grid
OSG_APP=/projsmall/osg/app
OSG_DATA=/projsmall/osg/data

and re-mounting the /projsmall filesystem as /common1, leading to&#58;
OSG_GRID=/common1/osg/grid
OSG_APP=/common1/osg/app
OSG_DATA=/common1/osg/data

It is an issue for users that try to source setup.sh in $OSG_GRID. I don&#39;t know how common that practice is for OSG jobs. The actual errors are contained in the original update in this ticket.

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1297808589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T22:23:09+00:00">Feb 15, 2011 10:23 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1297808589">&nbsp;</a></div><pre>Oops, the below is a question for Michael - I addressed it to the wrong person.

On Tue, Feb 15, 2011 at 4&#58;18 PM, Scot Kronenfeld &#60;kronenfe@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; Hi Ian,</font>
<font color='#7F7E6F'>&#62; Unfortunately with Pacman there is no way to install older versions of</font>
<font color='#7F7E6F'>&#62; the wn-client.  Also, relocating a VDT installation (which is what</font>
<font color='#7F7E6F'>&#62; Suchandra is talking about) is uncharted territory.  It&#39;s probably</font>
<font color='#7F7E6F'>&#62; do-able for the wn-client which has no services running but we don&#39;t</font>
<font color='#7F7E6F'>&#62; have an easy recipe and we might miss things the first time around.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; What about playing symlink or NFS games to make it appear at the new</font>
<font color='#7F7E6F'>&#62; location but remain installed at the old location (or installed at the</font>
<font color='#7F7E6F'>&#62; old location but accessible via the old location)?  What are the exact</font>
<font color='#7F7E6F'>&#62; problems you are seeing?  Obviously your setup.sh file isn&#39;t valid but</font>
<font color='#7F7E6F'>&#62; what users or services is that an issue for?  (I&#39;m not saying its not</font>
<font color='#7F7E6F'>&#62; a problem, just asking so I understand what situations the fix has to</font>
<font color='#7F7E6F'>&#62; cover).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -scot</font></pre></div><div class='update_description'><i onclick="document.location='9840#1297808587'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T22:23:07+00:00">Feb 15, 2011 10:23 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1297808587">&nbsp;</a></div><pre>Hi Ian,
Unfortunately with Pacman there is no way to install older versions of
the wn-client.  Also, relocating a VDT installation (which is what
Suchandra is talking about) is uncharted territory.  It&#39;s probably
do-able for the wn-client which has no services running but we don&#39;t
have an easy recipe and we might miss things the first time around.

What about playing symlink or NFS games to make it appear at the new
location but remain installed at the old location (or installed at the
old location but accessible via the old location)?  What are the exact
problems you are seeing?  Obviously your setup.sh file isn&#39;t valid but
what users or services is that an issue for?  (I&#39;m not saying its not
a problem, just asking so I understand what situations the fix has to
cover).

-scot

On Tue, Feb 15, 2011 at 3&#58;33 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9840#1297805615'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T21:33:35+00:00">Feb 15, 2011 09:33 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1297805615">&nbsp;</a></div><pre>There really isn&#39;t a way to reinstall the WN client if you don&#39;t want the current version.  I&#39;ve added Scot since he can probably help with finding/changing the references.  I&#39;ll get back to you soon in regards to the places where things will need to be changed.</pre></div><div class='update_description'><i onclick="document.location='9840#1297796589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T19:03:09+00:00">Feb 15, 2011 07:03 PM UTC</time><a class="anchor" name="1297796589">&nbsp;</a></div><pre>What is the best way to re-install the WN? I&#39;m not that familiar with pacman and I believe upgrading to 1.2.17 is to be avoided. Thanks, sorry for my lack of familiarity.

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1297793422'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T18:10:22+00:00">Feb 15, 2011 06:10 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1297793422">&nbsp;</a></div><pre>Hi Michael,

I think given how easily the WN client can be installed, it&#39;s probably less effort to reinstall it.  You might be able to get it back in sync by changing the values in setup.sh but I&#39;d be worried that something else in the system might have those values and cause subtle errors.  However if reinstalling isn&#39;t an option or isn&#39;t desirable because you want to remain on the version of the osg wn client that you have, I can try to find the places where you&#39;ll need to change these values.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='9840#1297260392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-09T14:06:32+00:00">Feb 9, 2011 02:06 PM UTC</time><a class="anchor" name="1297260392">&nbsp;</a></div><pre>Hi Suchandra,

Yes, those files do have the correct values. The location of the OSG CE installation was not changed. The value of the other OSG_DATA/GRID/APP where changed (data stayed, mount moved). There is a setup.sh file is $OSG_GRID that seems to have been generated at some point (about 2 years ago). That file has the previous values of OSG_* storage areas. Should I reinstall the OSG-WN-client package or is there a way to get it back in sync with the OSG CE configuration?

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1297200905'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-08T21:35:05+00:00">Feb 8, 2011 09:35 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1297200905">&nbsp;</a></div><pre>The OSG_GRID/OSG_DATA/OSG_APP directories aren&#39;t in setup.sh.  They are setup and obtained from $VDT_LOCATION/osg/etc/osg-attributes.conf or $VDT_LOCATION/osg/etc/osg-job-environment.conf .  However, if you&#39;ve updated the config.ini file and then rerun configure-osg, these files should have been updated.  Could you check these two files and see if they&#39;re set correctly.

However, if you&#39;ve moved the location of the OSG CE installation, that may be causing the problem.  Unfortunately, there&#39;s no way to easily move an OSG installation from one directory to another because the install path is hardcoded in a few locations by pacman.  There&#39;s currently no way to change the hardcoded locations so in this instance, you&#39;ll need to do a fresh installation of the CE software.</pre></div><div class='update_description'><i onclick="document.location='9840#1297177843'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-08T15:10:43+00:00">Feb 8, 2011 03:10 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1297177843">&nbsp;</a></div><pre>Michael,

I&#39;m pretty sure that the setup.sh is generated during installation by various scripts in the VDT packages, along with the configure-osg.py configuration script. However, the OSG_GRID / OSG_DATA / OSG_APP directories should all be in the configure-osg.py. I have limited knowledge of the configuration script, so I&#39;m going to add Suchandra to this ticket, in hopes that he can assist you.

Rob</pre></div><div class='update_description'><i onclick="document.location='9840#1297176090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-08T14:41:30+00:00">Feb 8, 2011 02:41 PM UTC</time><a class="anchor" name="1297176090">&nbsp;</a></div><pre>I do need assistance.

I&#39;m not clear where the OSG_GRID/setup.sh file was generated from so I don&#39;t know how to update it after we changed our OSG_* storage locations in the OSG configuration file. Thanks!

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1297175795'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-08T14:36:35+00:00">Feb 8, 2011 02:36 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1297175795">&nbsp;</a></div><pre>Ian,

Has your issue been resolved or do you require additional assistance?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9840#1295984817'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-25T19:46:57+00:00">Jan 25, 2011 07:46 PM UTC</time><a class="anchor" name="1295984817">&nbsp;</a></div><pre>There have been two major changes at our site, that I hoped were accounted for, since late December.

1) The IP address of our CE changed. DNS and now firewall rules have been updated to account of this change.
2) The OSG_GRID / OSG_DATA / OSG_APP locations changes from /projsmall/osg/ to /common1/osg. All data is still there, just the mount point of the filesystem changed. What I believe are the appropriate paths were updated in the osg configuration and osg-configure was ran and services restarted. Based on what you&#39;re seeing there is more to the process.

Previous to today firewall issues were causing jobs to no longer run. That has been fixed and this appears to be fallout from the second change. Where does the script in /common1/osg/grid/setup.sh get generated from? It appears the value of PAC_ANCHOR is incorrect. I will look around and try to find a procedure for what changes are required if OSG_* locations are changed.

-- by Michael Moore</pre></div><div class='update_description'><i onclick="document.location='9840#1295983488'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-25T19:24:48+00:00">Jan 25, 2011 07:24 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1295983488">&nbsp;</a></div><pre>[by Ian MacNeill]

Hi,
The VO HCC tried submitting jobs starting on the 24th. Since then 100% of glideins have failed during validation.

We submit the glideins with the following information&#58;
gatekeeper=&#34;osg-gw.clemson.edu&#58;2119/jobmanager-condor&#34;
gridtype=&#34;gt2&#34;

It looks to us like there is serious error in your vdt installation. We see the following errors on all jobs across a wide number of, if not all, nodes.

/common1/osg/grid/setup.sh&#58; line 47&#58; /projsmall/osg/grid/vdt/etc/vdt-man-setup.sh&#58; No such file or directory
/common1/osg/grid/setup.sh&#58; line 48&#58; /projsmall/osg/grid/vdt/etc/vdt-local-setup.sh&#58; No such file or directory
/common1/osg/grid/setup.sh&#58; line 101&#58; /projsmall/osg/grid/perl/perl-setup.sh&#58; No such file or directory
/common1/osg/grid/setup.sh&#58; line 180&#58; /projsmall/osg/grid/globus/etc/globus-user-env.sh&#58; No such file or directory
/common1/osg/grid/setup.sh&#58; line 254&#58; /projsmall/osg/grid/vdt/etc/vdt-globus-options.sh&#58; No such file or directory
Mon Jan 24 16&#58;31&#58;12 EST 2011 GLOBUS_PATH not defined and /projsmall/osg/grid/globus/etc/globus-user-env.sh does not exist.

Could you please look into this? The last time we saw jobs run for HCC at Clemson was late Dec, I believe. Has your setup changed since then?

In the mean time we&#39;re going to stop glideinWMS jobs being submitted.

Thank you for the help,

Ian
OSG Glidein Factory Support</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9840">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
