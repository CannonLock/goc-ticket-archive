<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[8963] BNL BDII Issue</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=8963" method="post">
<div class="page-header">
    <h3><span class="muted">8963</span> / BNL BDII Issue</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Rob Quick</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-07-26</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Thomas Lee <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=8963", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/8963?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/8963?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20BNL%20BDII%20Issue%20ISSUE%3D8963%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='8963#1281108342'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-06T15:25:42+00:00">Aug 6, 2010 03:25 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1281108342">&nbsp;</a></div><pre>Closing this ticket. Please see <a href='https&#58;//ticket.grid.iu.edu/goc/viewer?id=9044' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=9044</a> for more details.</pre></div><div class='update_description'><i onclick="document.location='8963#1281102104'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-06T13:41:44+00:00">Aug 6, 2010 01:41 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1281102104">&nbsp;</a></div><pre>Actually, this isn&#39;t ATLAS/CMS specific issue.. All of our top level BDII resources are reporting old timestamps. We are receiving new data from ATLAS/CMS resource as far as GOC BDII goes, so there is something wrong at GOC or at CERN. Investigating..</pre></div><div class='update_description'><i onclick="document.location='8963#1281101125'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-06T13:25:25+00:00">Aug 6, 2010 01:25 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1281101125">&nbsp;</a></div><pre>This issue is reoccurring again. For the last 4 hours, we are receiving following error message.

<font color='#7F7E6F'>&#62; Fri 08/06/10 12&#58;30&#58;03 &#58; BNL-ATLAS WLCG Top  Level BDII Status is failing</font>
<font color='#7F7E6F'>&#62;       lcg-bdii.cern.ch -- Test failed on ldap&#58;//128.142.198.43&#58;2170 &#58;&#58; Error-found RG with dated timestampFri Aug 06 06&#58;38&#58;55 UTC 2010</font>
<font color='#7F7E6F'>&#62;       lcg-bdii.cern.ch -- Test failed on ldap&#58;//128.142.198.41&#58;2170 &#58;&#58; Error-found RG with dated timestampFri Aug 06 06&#58;38&#58;55 UTC 2010</font>
<font color='#7F7E6F'>&#62; Fri 08/06/10 12&#58;30&#58;03 &#58; USCMS-FNAL-WC1 WLCG Top Level BDII Status is failing</font>
<font color='#7F7E6F'>&#62;       lcg-bdii.cern.ch -- Test failed on ldap&#58;//128.142.198.43&#58;2170 &#58;&#58; Error-found RG with dated timestampFri Aug 06 06&#58;27&#58;07 UTC 2010</font>
<font color='#7F7E6F'>&#62;       lcg-bdii.cern.ch -- Test failed on ldap&#58;//128.142.198.41&#58;2170 &#58;&#58; Error-found RG with dated timestampFri Aug 06 06&#58;38&#58;17 UTC 2010</font>

Re-opening this ticket.</pre></div><div class='update_description'><i onclick="document.location='8963#1280233966'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-27T12:32:46+00:00">Jul 27, 2010 12:32 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1280233966">&nbsp;</a></div><pre>Since Xin identified and corrected the Tomcat issue, and we haven&#39;t seen any alarms since Saturday I&#39;m closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='8963#1280233743'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-27T12:29:03+00:00">Jul 27, 2010 12:29 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1280233743">&nbsp;</a></div><pre>From Xin&#58;

Hello,

There was a outofmemory crash of tomcat on July 24th on gridgk01,

[root@gridgk01 OSG]# zcat tomcat/v55/logs/catalina.out.4.gz
Exception in thread &#34;subscription-https___osg-ress-1_fnal_gov_8443_ig_services_CEInfoCollector-OSG_CE-OLD_CLASSAD&#34; java.lang.OutOfMemoryError&#58; Java heap space

usually this caused BDII info disappear and will be caught by our nagios probe, but this time it behaved differently, the nagios alert wasn&#39;t triggered till July 25th, after the wrong timestamp alert was raised at GOC.

I just restart tomcat, and the timestamp info looks ok on BNL_ATLAS_1.

Cheers,
Xin</pre></div><div class='update_description'><i onclick="document.location='8963#1280172318'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-26T19:25:18+00:00">Jul 26, 2010 07:25 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1280172318">&nbsp;</a></div><pre>Another note on this issue, the alerts stopped suddenly on Saturday, July 24 at 4&#58;30PM EDT. Did anything happen on the BNL cluster at that time that may have cleared up this issue?

Rob</pre></div><div class='update_description'><i onclick="document.location='8963#1279990245'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-24T16:50:45+00:00">Jul 24, 2010 04:50 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1279990245">&nbsp;</a></div><pre>(Added Tom)

Several issues going on here..

First of all, this is not a false alarm.. Both lcg-bdii.cern.ch and sam-bdii.cern.ch contains outdated(?) data for BNL-ATLAS.

$ ldapsearch -xLLL -h 128.142.198.41&#58;2170 -b mds-vo-name=BNL-ATLAS,mds-vo-name=local,o=grid &#39;(GlueLocationLocalID=TIMESTAMP)&#39; GlueLocationPath

dn&#58; GlueLocationLocalID=TIMESTAMP,GlueSubClusterUniqueID=BNL-Subcluster-3-BNL-
ATLAS,GlueClusterUniqueID=BNL-ATLAS-Condor,Mds-Vo-name=BNL-ATLAS,Mds-Vo-name=
local,o=grid
GlueLocationPath&#58; Fri Jul 23 19&#58;46&#58;03 UTC 2010

And this is because gridgk01.racf.bnl.gov(?) is sending data to is.grid with old timestamp (Jul 23). We are receiving new data and processing it just fine, but the timestamp contained in the data (GlueLocationPath) is old. So there is something wrong at BNL, I believe.

Xin, can you take a look?

Secondly, the reason why it looks &#34;normal&#34; on MyOSG is because you happened to hit myosg2 and not myosg1. The WLCG status XML on myosg2 is outdated and the reason for that is because cron is malfunctioning (same issue that I&#39;ve been complaining since 15th outage). The /etc/cron.d/top-level-wlcg-bdii-monitor is ignored by crond and the script is not being executed. That&#39;s why you see &#34;Thu Jul 15 17&#58;53&#58;09 UTC 2010&#34; on the timestamp (outdated) but status says OK - the status XML hasn&#39;t been updated since Jul 15!

All I have to do to fix this is to touch the cron tab, but I promised to Tom last week that if I catch this behavior in action I will let Tom look at it - so that he can look into what&#39;s going on.

Tom, can you take a look?

Soichi</pre></div><div class='update_description'><i onclick="document.location='8963#1279928387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-23T23:39:47+00:00">Jul 23, 2010 11:39 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1279928387">&nbsp;</a></div><pre>And things look normal again on MyOSG. Keeping this open to see if we can determine the issue, setting to Monday when we can try to determine why we saw this alarm.

ldap&#58;//128.142.205.144&#58;2170
Thu Jul 15 17&#58;53&#58;09 UTC 2010
ldap&#58;//128.142.198.43&#58;2170
Thu Jul 15 17&#58;53&#58;09 UTC 2010
ldap&#58;//128.142.198.41&#58;2170
Thu Jul 15 17&#58;53&#58;09 UTC 2010
ldap&#58;//128.142.198.40&#58;2170
Thu Jul 15 17&#58;53&#58;09 UTC 2010
ldap&#58;//128.142.142.161&#58;2170
Thu Jul 15 18&#58;04&#58;52 UTC 2010
ldap&#58;//128.142.142.159&#58;2170
Thu Jul 15 17&#58;53&#58;09 UTC 2010
ldap&#58;//128.142.180.49&#58;2170
Thu Jul 15 17&#58;53&#58;09 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8963#1279927437'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-23T23:23:57+00:00">Jul 23, 2010 11:23 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1279927437">&nbsp;</a></div><pre>is.grid.iu.edu is also reporting current times&#58;

BNL_ATLAS_1  	gridgk01.racf.bnl.gov   OSG  	00&#58;00&#58;04  	00&#58;02&#58;04  	00&#58;00&#58;55
BNL_ATLAS_2 	gridgk02.racf.bnl.gov 	OSG 	00&#58;00&#58;04 	00&#58;02&#58;03 	00&#58;01&#58;07
BNL_ATLAS_3 	gridgk03.racf.bnl.gov 	OSG 	00&#58;00&#58;03 	00&#58;02&#58;03 	00&#58;02&#58;35
BNL_ATLAS_4 	gridgk04.racf.bnl.gov 	OSG 	00&#58;00&#58;03 	00&#58;02&#58;03 	00&#58;01&#58;06
BNL_ATLAS_5 	gridgk05.racf.bnl.gov 	OSG 	00&#58;00&#58;03 	00&#58;02&#58;03 	00&#58;01&#58;50</pre></div><div class='update_description'><i onclick="document.location='8963#1279927260'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-23T23:21:00+00:00">Jul 23, 2010 11:21 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1279927260">&nbsp;</a></div><pre>Repeating to clarify, both the LCG-BDII and SAM-BDII are acting normally, and the monitoring is mis-behaving.

See&#58; <a href='http&#58;//tinyurl.com/3558r7r.' target='_blank' rel='nofollow'>http&#58;//tinyurl.com/3558r7r.</a></pre></div><div class='update_description'><i onclick="document.location='8963#1279927172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-23T23:19:32+00:00">Jul 23, 2010 11:19 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1279927172">&nbsp;</a></div><pre>Same with sam-bdii.cern.ch. I&#39;m calling this a non-emergency and a failure at the monitoring level. Soichi and Scott please investigate when you return on Monday.</pre></div><div class='update_description'><i onclick="document.location='8963#1279927011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-23T23:16:51+00:00">Jul 23, 2010 11:16 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1279927011">&nbsp;</a></div><pre>This seems to be OK when I directly go to the CERN Top Level BDII...

robert-quicks-macbook-pro&#58;~ rquick$ ldapsearch -h lcg-bdii.cern.ch -p 2170 -x -b mds-vo-name=BNL-ATLAS,mds-vo-name=local,o=grid

...
# numResponses&#58; 2758
# numEntries&#58; 2757</pre></div><div class='update_description'><i onclick="document.location='8963#1279926696'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-23T23:11:36+00:00">Jul 23, 2010 11:11 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1279926696">&nbsp;</a></div><pre>BDII tests to the top level CERN BDII are failing. Beginning to troubleshoot.

ldap&#58;//128.142.198.43&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010
ldap&#58;//128.142.198.41&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010
ldap&#58;//128.142.198.40&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010
ldap&#58;//128.142.142.161&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010
ldap&#58;//128.142.205.144&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010
ldap&#58;//128.142.142.159&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010
ldap&#58;//128.142.180.49&#58;2170
Error-found RG with dated timestampFri Jul 23 19&#58;46&#58;03 UTC 2010</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F8963">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 8963});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
