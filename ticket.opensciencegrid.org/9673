<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9673] BDII Issue with GlueCESEBindSEUniqueID</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9673" method="post">
<div class="page-header">
    <h3><span class="muted">9673</span> / BDII Issue with GlueCESEBindSEUniqueID</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Steven Lee</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/bdii</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Steven Lee</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-03-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">GIP Support <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=9673", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9673?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9673?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20BDII%20Issue%20with%20GlueCESEBindSEUniqueID%20ISSUE%3D9673%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9673#1299248154'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-04T14:15:54+00:00">Mar 4, 2011 02:15 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1299248154">&nbsp;</a></div><pre>Thanks. Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='9673#1299202868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-04T01:41:08+00:00">Mar 4, 2011 01:41 AM UTC</time> by <b>Lee Steven</b><a class="anchor" name="1299202868">&nbsp;</a></div><pre>Yes.  The problem has not resurfaced so far.  Thank you.

On Mar 3, 2011, at 2&#58;10 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1299179472'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-03T19:11:12+00:00">Mar 3, 2011 07:11 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1299179472">&nbsp;</a></div><pre>Does anybody have any update on this ticket?

Steven,

I am setting NAD to be 3/1. Please let us know if this issue reoccurs.
-- by Soichi Hayashi at Fri Feb 04 17&#58;13&#58;57 UTC 2011
-- by GOC at Fri Feb 04 17&#58;14&#58;23 UTC 2011</pre></div><div class='update_description'><i onclick="document.location='9673#1299179441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-03T19:10:41+00:00">Mar 3, 2011 07:10 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1299179441">&nbsp;</a></div><pre>Can we close this ticket?</pre></div><div class='update_description'><i onclick="document.location='9673#1296839637'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-04T17:13:57+00:00">Feb 4, 2011 05:13 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1296839637">&nbsp;</a></div><pre>Does anybody have any update on this ticket?

Steven,

I am setting NAD to be 3/1. Please let us know if this issue reoccurs.</pre></div><div class='update_description'><i onclick="document.location='9673#1295897547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-24T19:32:27+00:00">Jan 24, 2011 07:32 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1295897547">&nbsp;</a></div><pre>(Extending NAD to 2/1/2010)</pre></div><div class='update_description'><i onclick="document.location='9673#1295896807'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-24T19:20:07+00:00">Jan 24, 2011 07:20 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1295896807">&nbsp;</a></div><pre>1) Tomcat auto restarts because all services appear to be working.

<a href='http&#58;//is.grid.iu.edu/cgi-bin/status.cgi' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/cgi-bin/status.cgi</a>

shows CEMon reporting, but just missing the GlueCESEBindSEUniqueID information.

2) I receive problem reports from our local CMS users because their software cannot find our SE if GlueCESEBindSEUniqueID is missing.  Then I checked <a href='http&#58;//is.grid.iu.edu/cgi-bin/status.cgi' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/cgi-bin/status.cgi</a> with my web  browser to confirm the cause of the problem.  I am very sure it was not old or cached information.

3) I am not sure.  I will check this next time when the problem surfaces again.

Steven Lee
shl1@....
Cornell Center for Advanced Computing

On Jan 19, 2011, at 5&#58;54 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1295477647'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-19T22:54:07+00:00">Jan 19, 2011 10:54 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1295477647">&nbsp;</a></div><pre>Hi Steven,

I looked at the logs and doesn&#39;t look like any issue with cemon
reporting. In worst case scenario, because of several places where info
could be cached, it could take upto 30-40 mins for the info to be
propagated once the problem is fixed.

Few more questions to better understand what could be going wrong -

1. In one of your responses you mention ...

&#34;The problem is that almost every time I reboot the CE, the
GlueCESEBindSEUniqueID entry goes away until I restart the OSG stack.&#34;

It seems like the problem occurs when you reboot the CE machine and does
not go away until OSG stack is restarted. That could mean, tomcat is not
auto restarting when the CE is rebooted. Is this what could be
happening?

2. Also, how are you checking if the info is propagating to BDII? If it
is through browser, the link usually shows how old the info is. Maybe it
is bit old or maybe browser cache?

3. After the SE problem is fixed and before restarting tomcat in OSG
stack, do you see the info for the se from the gip providers being
updated? This is available in gip/var/tmp

--
Thanks & Regards
+==========================================================
| Parag Mhashilkar
| Fermi National Accelerator Laboratory, MS 120
| Wilson & Kirk Road, Batavia, IL - 60510.
|----------------------------------------------------------
| Phone&#58; +1 (630) 840-6530 Fax&#58; +1 (630) 840-2783
<div id='show_1716496557' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1716496557'>|----------------------------------------------------------
| Trying to be productive in&#58;
| Wilson Hall, 867E (Nov 17, 2010 - To date)
| Wilson Hall, 863E (Apr 24, 2007 - Nov 16, 2010)
| Wilson Hall, 856E (Mar 21, 2005 - Apr 23, 2007)
+==========================================================

On Wed, 2011-01-19 at 20&#58;27 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1716496557').click(function() {
            $('#detail_1716496557').slideDown("normal");
            $('#show_1716496557').hide();
            $('#hide_1716496557').show();
        });
        $('#hide_1716496557').click(function() {
            $('#detail_1716496557').slideUp();
            $('#hide_1716496557').hide();
            $('#show_1716496557').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9673#1295468832'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-19T20:27:12+00:00">Jan 19, 2011 08:27 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1295468832">&nbsp;</a></div><pre>[root@nys1 ~]# vdt-version

You have installed a subset of VDT version 2.0.0p15&#58;

Software                                                 Status
--------                                                 ------
Apache HTTPD 2.2.13                                      UPDATE AVAILABLE [2.2.16]
Bandwidth Test Controller 1.3                            OK
vdt-ca-manage 1.1                                        UPDATE AVAILABLE [1.3]
vdt-update-certs 2.5                                     UPDATE AVAILABLE [2.6]
gLite CEMon Server 1.10.1.0                              UPDATE AVAILABLE [1.12.1-14]
CA Certificates 1.16 (includes IGTF 1.37 CAs)            -
Condor Cron For OSG-RSV 7.2.5                            OK
dccp (dCache client) 1.8.0-4                             OK
EDG Make Gridmap 3.0.0                                   OK
Fetch CRL 2.6.6                                          UPDATE AVAILABLE [2.8.5]
Generic Information Provider 1.1.8                       UPDATE AVAILABLE [1.1.12]
Globus Toolkit, pre web-services, client 4.0.8           OK
Globus Toolkit, pre web-services, server 4.0.8           OK
Globus Toolkit, web-services, client 4.0.8               OK
Globus Toolkit, web-services, server 4.0.8               OK
GLUE Schema 1.3                                          OK
GPT 3.2-4.0.8p1                                          OK
Gratia Metric Probe 1.06.15h-1                           UPDATE AVAILABLE [1.06.16b-1]
Gratia PBS Probe 1.06.15h-1                              UPDATE AVAILABLE [1.06.16b-1]
Gratia Reporting 1.06.14                                 UPDATE AVAILABLE [1.06.17]
Gratia Services 1.06.14                                  UPDATE AVAILABLE [1.06.17]
Grid User Management System (GUMS) Client 1.3.17         OK
Grid User Management System (GUMS) Service 1.3.17        OK
Java 5 SDK 1.5.0_22                                      -
Logrotate 3.7                                            OK
MonALISA 1.8.6                                           OK
MyProxy Client 4.7                                       UPDATE AVAILABLE [5.2]
MySQL 5.0.88                                             UPDATE AVAILABLE [5.0.91]
MySQL Connector/J 5.0.8                                  OK
<div id='show_413043180' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_413043180'>Network Diagnostic Tool 3.5.0                            OK
Network Path and Application Diagnosis Client 1.5.5      OK
OSG RSV Infrastructure 3.2.1                             UPDATE AVAILABLE [3.2.3]
OSG RSV Probes 3.2.1                                     UPDATE AVAILABLE [3.2.3]
OSG Site Web Page Generator 1.3                          OK
One-Way Active Measurement Protocol (One-Way Ping) 3.1   OK
Pegaus Worker Package 2.3.0                              UPDATE AVAILABLE [2.4.1]
PPDG Cert Scripts 2.7                                    OK
PRIMA Authorization Module 0.8.4                         UPDATE AVAILABLE [0.8.8]
PRIMA Authorization Module For GT4 Web Services 0.1.2    OK
pyOpenSSL module 0.9                                     OK
SRM Fermi Client 1.9.5-3                                 UPDATE AVAILABLE [1.9.5-16]
SRM Berkeley Client 2.2.1.3.6                            UPDATE AVAILABLE [2.2.1.3.16]
Subversion 1.6.2                                         OK
Syslog-ng 2.0.10                                         OK
Apache Tomcat 5.5.28                                     OK
UberFTP 2.4                                              UPDATE AVAILABLE [2.6]
Verify GIP output for CEMon 1.5.1                        OK
VOMS Client 1.8.8-2p1                                    OK
Wget 1.12                                                OK

Steven Lee
shl1@....
Cornell Center for Advanced Computing

On Jan 19, 2011, at 3&#58;03 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_413043180').click(function() {
            $('#detail_413043180').slideDown("normal");
            $('#show_413043180').hide();
            $('#hide_413043180').show();
        });
        $('#hide_413043180').click(function() {
            $('#detail_413043180').slideUp();
            $('#hide_413043180').hide();
            $('#show_413043180').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9673#1295467387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-19T20:03:07+00:00">Jan 19, 2011 08:03 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1295467387">&nbsp;</a></div><pre>Hi Steven,

I got the logs and looking at them. Can you also send me the output of
vdt-version command

--
Thanks & Regards
+==========================================================
| Parag Mhashilkar
| Fermi National Accelerator Laboratory, MS 120
| Wilson & Kirk Road, Batavia, IL - 60510.
|----------------------------------------------------------
| Phone&#58; +1 (630) 840-6530 Fax&#58; +1 (630) 840-2783
|----------------------------------------------------------
| Trying to be productive in&#58;
| Wilson Hall, 867E (Nov 17, 2010 - To date)
| Wilson Hall, 863E (Apr 24, 2007 - Nov 16, 2010)
| Wilson Hall, 856E (Mar 21, 2005 - Apr 23, 2007)
+==========================================================

On Wed, 2011-01-19 at 19&#58;06 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1295463967'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-19T19:06:07+00:00">Jan 19, 2011 07:06 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1295463967">&nbsp;</a></div><pre>How about this?

<a href='https&#58;//docs.google.com/leaf?id=0B5zK8EQCFbo1MzFlMTJkMTgtNDMzYi00YjNkLWE4NjgtMmYxYjMzOGNlYzli&sort=name&layout=list&num=50' target='_blank' rel='nofollow'>https&#58;//docs.google.com/leaf?id=0B5zK8EQCFbo1MzFlMTJkMTgtNDMzYi00YjNkLWE4NjgtMmYxYjMzOGNlYzli&sort=name&layout=list&num=50</a>

<a href='https&#58;//docs.google.com/leaf?id=0B5zK8EQCFbo1ZTEyYTViMTUtZWI4NS00NmY4LTlmOTMtMmI2ZGEwZGY0YzM5&sort=name&layout=list&num=50' target='_blank' rel='nofollow'>https&#58;//docs.google.com/leaf?id=0B5zK8EQCFbo1ZTEyYTViMTUtZWI4NS00NmY4LTlmOTMtMmI2ZGEwZGY0YzM5&sort=name&layout=list&num=50</a>

Steven Lee
shl1@....
Cornell Center for Advanced Computing

On Jan 19, 2011, at 1&#58;59 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1295463588'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-19T18:59:48+00:00">Jan 19, 2011 06:59 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1295463588">&nbsp;</a></div><pre>Steven,

Attachment doesn&#39;t work on GOC Ticket. Can you host the file somewhere else and post a URL?</pre></div><div class='update_description'><i onclick="document.location='9673#1295462708'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-19T18:45:08+00:00">Jan 19, 2011 06:45 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1295462708">&nbsp;</a></div><pre>Hi,

Can you acknowledge that you&#39;ve received the attached logs successfully?

Steven Lee
shl1@....
Cornell Center for Advanced Computing

On Jan 14, 2011, at 1&#58;00 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1295033406'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-14T19:30:06+00:00">Jan 14, 2011 07:30 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1295033406">&nbsp;</a></div><pre>Hi,

Here are the logs you requested covering the latest episode.  The problem was reported by one of our users at 9&#58;45 AM on Jan 10.  I restarted the OSG stack on the CE at around 10&#58;30 AM.

Steven Lee
shl1@....
Cornell Center for Advanced Computing</pre></div><div class='update_description'><i onclick="document.location='9673#1295028009'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-14T18:00:09+00:00">Jan 14, 2011 06:00 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1295028009">&nbsp;</a></div><pre>Hi Steve,

I will need some info from you first.

What version of OSG/VDT are you running (?) If you can send me the
output of vdt-version that would help.

Also can you please upload or mail me directly cemon and tomcat logs
during the time you noticed problems? I am interested in following logs
- $VDT_LOCATION/tomcat/v*/logs/catalina.out*
- $VDT_LOCATION/glite/var/log/*

Also, how long did you wait before restarting OSG Stack. i.e once
GlueCESEBindSEUniqueID goes away from rebooting CE.

--
Thanks & Regards
+==========================================================
| Parag Mhashilkar
| Fermi National Accelerator Laboratory, MS 120
| Wilson & Kirk Road, Batavia, IL - 60510.
|----------------------------------------------------------
| Phone&#58; +1 (630) 840-6530 Fax&#58; +1 (630) 840-2783
|----------------------------------------------------------
| Trying to be productive in&#58;
| Wilson Hall, 867E (Nov 17, 2010 - To date)
| Wilson Hall, 863E (Apr 24, 2007 - Nov 16, 2010)
| Wilson Hall, 856E (Mar 21, 2005 - Apr 23, 2007)
+==========================================================

On Thu, 2011-01-13 at 22&#58;09 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1294956565'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-13T22:09:25+00:00">Jan 13, 2011 10:09 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1294956565">&nbsp;</a></div><pre>Hi Steve,

I think this is a matter for the CEMon experts.  I&#39;ll ask Parag to touch base with you.

- B</pre></div><div class='update_description'><i onclick="document.location='9673#1294948446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-13T19:54:06+00:00">Jan 13, 2011 07:54 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1294948446">&nbsp;</a></div><pre>The problem is that almost every time I reboot the CE, the GlueCESEBindSEUniqueID entry goes away until I restart the OSG stack.  Is there anyway to make this more reliable?

Steven Lee
shl1@....
Cornell Center for Advanced Computing

On Jan 13, 2011, at 2&#58;49 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1294948144'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-13T19:49:04+00:00">Jan 13, 2011 07:49 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1294948144">&nbsp;</a></div><pre>Maybe you can do something like

$ ldapsearch -xLLL -h is.grid.iu.edu&#58;2170 -b mds-vo-name=nysgrid_cornell_nys1,mds-vo-name=local,o=grid  | grep GlueCESEBindGroupCEUniqueID
dn&#58; GlueCESEBindGroupCEUniqueID=nys1.cac.cornell.edu&#58;2119/jobmanager-pbs-defau
GlueCESEBindGroupCEUniqueID&#58; nys1.cac.cornell.edu&#58;2119/jobmanager-pbs-default
dn&#58; GlueCESEBindSEUniqueID=osg-se.cac.cornell.edu,GlueCESEBindGroupCEUniqueID=</pre></div><div class='update_description'><i onclick="document.location='9673#1294947008'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-13T19:30:08+00:00">Jan 13, 2011 07:30 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1294947008">&nbsp;</a></div><pre>Hi,

Where do I look to see if CEMon publishes the GlueCESEBindSEUniqueID information correctly?

Steven Lee
shl1@....
Cornell Center for Advanced Computing

On Jan 11, 2011, at 10&#58;41 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9673#1294760538'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-11T15:42:18+00:00">Jan 11, 2011 03:42 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1294760538">&nbsp;</a></div><pre>I just checked, it looks like Cornell is publishing OK right now.  Do things look ok to you?

- B</pre></div><div class='update_description'><i onclick="document.location='9673#1294760464'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-11T15:41:04+00:00">Jan 11, 2011 03:41 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1294760464">&nbsp;</a></div><pre>Hi Steven,

If a BeStMan srm-ping fails, we don&#39;t publish the SE information for that invocation.  The GIP runs every 10 minutes, so if it&#39;s truly transient, things should come back quickly.  I&#39;d argue this is probably the right behavior -- if srm-ping isn&#39;t even succeeding, user jobs probably don&#39;t have a chance of communicating with your storage element.  We could implement a fallback publication mechanism for BeStMan if you think this is the wrong approach.

As far as restarting the OSG stack on your CE -- it looked like CEMon, which takes the information from the GIP and publishes it upstream, had gotten stuck and your restart fixed it.  I&#39;ll have a look at Cornell to see if it needs another kick (and to get CEMon experts involved if need be.)

- B</pre></div><div class='update_description'><i onclick="document.location='9673#1294754587'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-11T14:03:07+00:00">Jan 11, 2011 02:03 PM UTC</time> by <b>Steven Lee</b><a class="anchor" name="1294754587">&nbsp;</a></div><pre>Hi,

We had some trouble with our SE in the past couple of weeks due to heavy use.  I can ping it now&#58;

---
-sh-3.2$ source osg-client/setup.sh
-sh-3.2$ voms-proxy-init
Enter GRID pass phrase&#58;
Your identity&#58; /DC=org/DC=doegrids/OU=People/CN=Steven Lee 211868
Creating proxy ........................................ Done
Your proxy is valid until Tue Jan 11 20&#58;52&#58;06 2011
-sh-3.2$ srm-ping <a href='srm&#58;//osg-se.cac.cornell.edu&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//osg-se.cac.cornell.edu&#58;8443/srm/v2/server</a>
srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//osg-se.cac.cornell.edu&#58;8443/srm/v2/server

SRM-PING&#58; Tue Jan 11 08&#58;52&#58;56 EST 2011  Calling SrmPing Request...
versionInfo=v2.2

Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.1.2.i7
backend_build_date=2009-07-10T19&#58;54&#58;16.000Z
gsiftpTxfServers[0]=<a href='gsiftp&#58;//osg-se.cac.cornell.edu' target='_blank' rel='nofollow'>gsiftp&#58;//osg-se.cac.cornell.edu</a>
GatewayMode=Enabled
clientDN=/DC=org/DC=doegrids/OU=People/CN=Steven Lee 211868
gumsIDMapped=nysgrid
---

If we experience temporary trouble with the SE, does GlueCESEBindSEUniqueID entry get removed automatically?  If it does, does it recover automatically?  (It has not recovered automatically for us so far)

I am asking because this problem just got worse in the past couple of days.  We had a UPS maintenance which required us to power of the SE for a few hours on Saturday.  Even after the SE got powered back on, GlueCESEBindSEUniqueID was missing.  I corrected the problem by restarting the OSG stack on our CE.  The problem re-appeared yesterday afternoon, without the CE or SE experienced any glitches!
<div id='show_967569450' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_967569450'>
It is becoming an issue with our CMS users.  They said their software doesn&#39;t work unless this entry is there. Please help.

Steven Lee
shl1@....
Cornell Center for Advanced Computing
</div><script type='text/javascript'>
        $('#show_967569450').click(function() {
            $('#detail_967569450').slideDown("normal");
            $('#show_967569450').hide();
            $('#hide_967569450').show();
        });
        $('#hide_967569450').click(function() {
            $('#detail_967569450').slideUp();
            $('#hide_967569450').hide();
            $('#show_967569450').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9673#1294175906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-04T21:18:26+00:00">Jan 4, 2011 09:18 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1294175906">&nbsp;</a></div><pre>Hi Steven,

I see this in your gip.log (in gip/var/logs/gip.log)
ValueError&#58; srm-ping failed.

I&#39;m sorry we don&#39;t have more debugging information about why srmping failed (we improved logging for external commands in GIP 1.1.11, but you&#39;re at 1.1.8).

Can you try the following as root (or user daemon)&#58;

grid-proxy-init -valid 00&#58;05 -cert /etc/grid-security/http/httpcert.pem -key /etc/grid-security/http/httpkey.pem -out /tmp/srmpingproxy
srm-ping osg-se.cac.cornell.edu -proxyfile /tmp/srmpingproxy</pre></div><div class='update_description'><i onclick="document.location='9673#1294174958'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-04T21:02:38+00:00">Jan 4, 2011 09:02 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1294174958">&nbsp;</a></div><pre>(Assigning GIP support)

GIP Support, can you assist us with the issue Steven Lee has reported?</pre></div><div class='update_description'><i onclick="document.location='9673#1294174301'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-04T20:51:41+00:00">Jan 4, 2011 08:51 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1294174301">&nbsp;</a></div><pre>On Jan 4, 2011, at 8&#58;15 AM, via RT wrote&#58;
<font color='#7F7E6F'>&#62; I am the admin for nys1.cac.cornell.edu.  I have a problem with BDII</font>
<font color='#7F7E6F'>&#62; reporting.  When the machine is rebooted, GlueCESEBindSEUniqueID will</font>
<font color='#7F7E6F'>&#62; be missing from our BDII data. I can fix this problem by simply</font>
<font color='#7F7E6F'>&#62; restarting the OSG stack.  This is preventing our CMS software from</font>
<font color='#7F7E6F'>&#62; working correctly with our SE after an unexpected reboot (e.g. power</font>
<font color='#7F7E6F'>&#62; outage).  Can you help me identify the cause and fix?  Thanks.</font>

Hi Steven,

Your request just got assigned to the VDT team. First, I&#39;d like to apologize for the problem!

I&#39;m not an expert in the BDII reporting. I can bring in an expert, but let me first ask--are you still having this problem?

I quickly inspected the code in question, and it looks knowing GlueCESEBindSEUniqueID will require the GIP (which collects this data) to query the underlying batch system to discover the queues. If your batch system wasn&#39;t quite up, the GlueCESEBindSEUniqueID might be empty. However, I would think that this situation would be self correcting within about 5 minutes, since the GIP runs repeatedly. Do you wait long enough to be sure that it&#39;s not self-correcting? (It&#39;s possible there is some caching going on that I&#39;m not familiar with.)

What underlying batch system are you using?

If we don&#39;t get to the bottom of this quickly, I&#39;ll bring in the GIP folk to help understand the situation.

Thanks,
-alain
-- by roy at Tue Jan 04 20&#58;36&#58;34 UTC 2011

Actually, I just talked to Burt Holzman, who is part of the GIP team. He recommends that the GOC re-assign this ticket away from the VDT and to the GIP team. Scott or Soichi, can you handle that?

I&#39;m perfectly willing to help, but it will be faster and more efficient to ask the GIP for help.

Thanks!
-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>
-- by roy at Tue Jan 04 20&#58;51&#58;35 UTC 2011</pre></div><div class='update_description'><i onclick="document.location='9673#1294173400'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-04T20:36:40+00:00">Jan 4, 2011 08:36 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1294173400">&nbsp;</a></div><pre>On Jan 4, 2011, at 8&#58;15 AM, via RT wrote&#58;
<font color='#7F7E6F'>&#62; I am the admin for nys1.cac.cornell.edu.  I have a problem with BDII</font>
<font color='#7F7E6F'>&#62; reporting.  When the machine is rebooted, GlueCESEBindSEUniqueID will</font>
<font color='#7F7E6F'>&#62; be missing from our BDII data. I can fix this problem by simply</font>
<font color='#7F7E6F'>&#62; restarting the OSG stack.  This is preventing our CMS software from</font>
<font color='#7F7E6F'>&#62; working correctly with our SE after an unexpected reboot (e.g. power</font>
<font color='#7F7E6F'>&#62; outage).  Can you help me identify the cause and fix?  Thanks.</font>

Hi Steven,

Your request just got assigned to the VDT team. First, I&#39;d like to apologize for the problem!

I&#39;m not an expert in the BDII reporting. I can bring in an expert, but let me first ask--are you still having this problem?

I quickly inspected the code in question, and it looks knowing GlueCESEBindSEUniqueID will require the GIP (which collects this data) to query the underlying batch system to discover the queues. If your batch system wasn&#39;t quite up, the GlueCESEBindSEUniqueID might be empty. However, I would think that this situation would be self correcting within about 5 minutes, since the GIP runs repeatedly. Do you wait long enough to be sure that it&#39;s not self-correcting? (It&#39;s possible there is some caching going on that I&#39;m not familiar with.)

What underlying batch system are you using?

If we don&#39;t get to the bottom of this quickly, I&#39;ll bring in the GIP folk to help understand the situation.

Thanks,
-alain
-- by roy at Tue Jan 04 20&#58;36&#58;34 UTC 2011</pre></div><div class='update_description'><i onclick="document.location='9673#1294150487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-04T14:14:47+00:00">Jan 4, 2011 02:14 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1294150487">&nbsp;</a></div><pre>VDT Team,

Can you assist us with this issue?

Thanks,
Soichi</pre></div><div class='update_description'><i onclick="document.location='9673#1292427092'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-15T15:31:32+00:00">Dec 15, 2010 03:31 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1292427092">&nbsp;</a></div><pre>Hello,
Perhaps I missed something but after a hard crash and reboot, don&#39;t you need to restart the stack anyway? Or does it require two restarts?
Scott Teige</pre></div><div class='update_description'><i onclick="document.location='9673#1291645025'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-06T14:17:05+00:00">Dec 6, 2010 02:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1291645025">&nbsp;</a></div><pre>[by Steven Lee]

Hi,

I am the admin for nys1.cac.cornell.edu.  I have a problem with BDII reporting.  When the machine is rebooted, GlueCESEBindSEUniqueID will be missing from our BDII data. I can fix this problem by simply restarting the OSG stack.  This is preventing our CMS software from working correctly with our SE after an unexpected reboot (e.g. power outage).  Can you help me identify the cause and fix?  Thanks.

Steven</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9673">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 9673});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
