<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4060] PBS queue advertizement for the world</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4060" method="post">
<div class="page-header">
    <h3><span class="muted">4060</span> / PBS queue advertizement for the world</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Craig Prescott</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2007-09-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/4060", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4060?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4060?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20PBS%20queue%20advertizement%20for%20the%20world%20ISSUE%3D4060%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4060#1189705807'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-13T17:50:07+00:00">Sep 13, 2007 05:50 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1189705807">&nbsp;</a></div><pre>One question comes to mind.  It&#39;s my understanding that PBS routing queues
generally do not
have the information in the pbs server logs that the various monitoring
and accounting utilities are looking for.  I.e. if you set
up your OSG head node with a routing queue which then forwards
all the jobs to another server on which the execution queues sit,
then you will get no information on user/system cpu time for each
of the forwarded jobs, as far as I know.  Has anyone made
this work?  I thought about doing this but decided against it
once I saw what the logs of a routing queue looked like.

Steve Timm

On Thu, 13 Sep 2007, William Law wrote&#58;

<font color='#7F7E6F'>&#62; Hi Craig and Anand,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I am glad to help with this if you need it.  It sounds like Anand&#39;s</font>
<font color='#7F7E6F'>&#62; temporary solution is the way to go for the moment.  I will try to figure</font>
<font color='#7F7E6F'>&#62; out the best way to handle this in the future.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Will</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 9/12/07, Anand Padmanabhan &#60;anand-padmanabhan-1@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Craig,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; GOC&#58; I want our routing queue (submit) to be advertised, not</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; our execution queue (batchq). Bockjoo&#39;s and others&#39; jobs will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; be held if they submit straight to batchq because we have added</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; the from_route_only flag to the Torque server. Can you help?</font>
<font color='#7F7E6F'>&#62;&#62; The GIP publishes the information belonging to just the execution</font>
<font color='#7F7E6F'>&#62;&#62; queues, because long ago a decision was made to do so. I don&#39;t remember</font>
<font color='#7F7E6F'>&#62;&#62; the details now, but that is where the things stand.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I have emailed William Law, he is in charge of the GIP code now. I know</font>
<div id='show_553903491' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_553903491'><font color='#7F7E6F'>&#62;&#62; that different sites have different requirements here, e.g. some don&#39;t</font>
<font color='#7F7E6F'>&#62;&#62; have a routing queue at all and some sites allow only use of routing</font>
<font color='#7F7E6F'>&#62;&#62; queue. I am not sure if there is a way for GIP to know what is the</font>
<font color='#7F7E6F'>&#62;&#62; intent of the site admin. May be this is as simple as if there is a</font>
<font color='#7F7E6F'>&#62;&#62; routing queue then use it, but I would leave it to Will to decide how he</font>
<font color='#7F7E6F'>&#62;&#62; wishes to address this. Will, let me know if you have any questions.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The best way I see for just as a temporary work around, is to edit</font>
<font color='#7F7E6F'>&#62;&#62; configure_gip script at the site. Line 787 (from VDT 1.8.0 f) of</font>
<font color='#7F7E6F'>&#62;&#62; configure_gip is currently</font>
<font color='#7F7E6F'>&#62;&#62; ...</font>
<font color='#7F7E6F'>&#62;&#62; if($queue_type eq &#34;Execution&#34;){</font>
<font color='#7F7E6F'>&#62;&#62; ...</font>
<font color='#7F7E6F'>&#62;&#62; If you update it to</font>
<font color='#7F7E6F'>&#62;&#62; if($queue_type eq &#34;Route&#34;){</font>
<font color='#7F7E6F'>&#62;&#62;                     ^^^^^</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; -Q -f&#34;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Just as a side note, the add-attributes.conf provides you ways of adding</font>
<font color='#7F7E6F'>&#62;&#62; new DNs, and alter-attributes.conf a way of modifying existing DNs, but</font>
<font color='#7F7E6F'>&#62;&#62; currently there is no way to remove a DN being advertised.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Let me know if you have questions.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
------------------------------------------------------------------
Steven C. Timm, Ph.D  (630) 840-8525
timm@....  <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~timm/
Fermilab Computing Division, Scientific Computing Facilities,
Grid Facilities Department, FermiGrid Services Group, Assistant Group Leader.
</div><script type='text/javascript'>
        $('#show_553903491').click(function() {
            $('#detail_553903491').slideDown("normal");
            $('#show_553903491').hide();
            $('#hide_553903491').show();
        });
        $('#hide_553903491').click(function() {
            $('#detail_553903491').slideUp();
            $('#hide_553903491').hide();
            $('#show_553903491').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4060#1189704908'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-13T17:35:08+00:00">Sep 13, 2007 05:35 PM UTC</time> by <b>William Law</b><a class="anchor" name="1189704908">&nbsp;</a></div><pre>Hi Craig and Anand,

I am glad to help with this if you need it.  It sounds like Anand&#39;s
temporary solution is the way to go for the moment.  I will try to figure
out the best way to handle this in the future.

Will

On 9/12/07, Anand Padmanabhan &#60;anand-padmanabhan-1@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi Craig,</font>
<font color='#7F7E6F'>&#62; &#62;&#62;&#62;&#62;&#62; GOC&#58; I want our routing queue (submit) to be advertised, not</font>
<font color='#7F7E6F'>&#62; &#62;&#62;&#62;&#62;&#62; our execution queue (batchq). Bockjoo&#39;s and others&#39; jobs will</font>
<font color='#7F7E6F'>&#62; &#62;&#62;&#62;&#62;&#62; be held if they submit straight to batchq because we have added</font>
<font color='#7F7E6F'>&#62; &#62;&#62;&#62;&#62;&#62; the from_route_only flag to the Torque server. Can you help?</font>
<font color='#7F7E6F'>&#62; The GIP publishes the information belonging to just the execution</font>
<font color='#7F7E6F'>&#62; queues, because long ago a decision was made to do so. I don&#39;t remember</font>
<font color='#7F7E6F'>&#62; the details now, but that is where the things stand.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have emailed William Law, he is in charge of the GIP code now. I know</font>
<font color='#7F7E6F'>&#62; that different sites have different requirements here, e.g. some don&#39;t</font>
<font color='#7F7E6F'>&#62; have a routing queue at all and some sites allow only use of routing</font>
<font color='#7F7E6F'>&#62; queue. I am not sure if there is a way for GIP to know what is the</font>
<font color='#7F7E6F'>&#62; intent of the site admin. May be this is as simple as if there is a</font>
<font color='#7F7E6F'>&#62; routing queue then use it, but I would leave it to Will to decide how he</font>
<font color='#7F7E6F'>&#62; wishes to address this. Will, let me know if you have any questions.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The best way I see for just as a temporary work around, is to edit</font>
<font color='#7F7E6F'>&#62; configure_gip script at the site. Line 787 (from VDT 1.8.0 f) of</font>
<font color='#7F7E6F'>&#62; configure_gip is currently</font>
<font color='#7F7E6F'>&#62; ...</font>
<font color='#7F7E6F'>&#62; if($queue_type eq &#34;Execution&#34;){</font>
<font color='#7F7E6F'>&#62; ...</font>
<font color='#7F7E6F'>&#62; If you update it to</font>
<font color='#7F7E6F'>&#62; if($queue_type eq &#34;Route&#34;){</font>
<div id='show_227182003' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_227182003'><font color='#7F7E6F'>&#62;                     ^^^^^</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This piece of code is checking for the &#34;queue_type = &#34; line from &#34;qstat</font>
<font color='#7F7E6F'>&#62; -Q -f&#34;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Just as a side note, the add-attributes.conf provides you ways of adding</font>
<font color='#7F7E6F'>&#62; new DNs, and alter-attributes.conf a way of modifying existing DNs, but</font>
<font color='#7F7E6F'>&#62; currently there is no way to remove a DN being advertised.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Let me know if you have questions.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_227182003').click(function() {
            $('#detail_227182003').slideDown("normal");
            $('#show_227182003').hide();
            $('#hide_227182003').show();
        });
        $('#hide_227182003').click(function() {
            $('#detail_227182003').slideUp();
            $('#hide_227182003').hide();
            $('#show_227182003').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4060#1189622288'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-12T18:38:08+00:00">Sep 12, 2007 06:38 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1189622288">&nbsp;</a></div><pre>GIP part looks ok now and now I can submit to the queue
Bockjoo
Craig Prescott wrote&#58;

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks, Anand!  I&#39;ve done as you suggest and now the</font>
<font color='#7F7E6F'>&#62; static ldif files from the GIP have the desired</font>
<font color='#7F7E6F'>&#62; queue in them, and don&#39;t have the &#34;undesired&#34; queue.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Bockjoo, could you give the UF HPC resource another</font>
<font color='#7F7E6F'>&#62; look this afternoon and let us know if it works for</font>
<font color='#7F7E6F'>&#62; you?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; FWIW, I think it might be nice if configure_gip asked</font>
<font color='#7F7E6F'>&#62; which queue you want to advertise whenever it sees there</font>
<font color='#7F7E6F'>&#62; is more than one queue - might be a small can of worms,</font>
<font color='#7F7E6F'>&#62; though.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; A lower-hanging fruit - execution queues that have the</font>
<font color='#7F7E6F'>&#62; from_route_only flag set to true should never be advertised.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Craig</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4060#1189621276'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-12T18:21:16+00:00">Sep 12, 2007 06:21 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1189621276">&nbsp;</a></div><pre>Looks like this has been solved. I am closing this ticket, I will reopen if Bockjoo&#39;s
tests have any issues.

Rob</pre></div><div class='update_description'><i onclick="document.location='4060#1189619047'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-12T17:44:07+00:00">Sep 12, 2007 05:44 PM UTC</time> by <b>Craig Prescott</b><a class="anchor" name="1189619047">&nbsp;</a></div><pre>Thanks, Anand!  I&#39;ve done as you suggest and now the
static ldif files from the GIP have the desired
queue in them, and don&#39;t have the &#34;undesired&#34; queue.

Bockjoo, could you give the UF HPC resource another
look this afternoon and let us know if it works for
you?

FWIW, I think it might be nice if configure_gip asked
which queue you want to advertise whenever it sees there
is more than one queue - might be a small can of worms,
though.

A lower-hanging fruit - execution queues that have the
from_route_only flag set to true should never be advertised.

Thanks,
Craig

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4060#1189610948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-12T15:29:08+00:00">Sep 12, 2007 03:29 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1189610948">&nbsp;</a></div><pre>Hi Craig,
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; GOC&#58; I want our routing queue (submit) to be advertised, not</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; our execution queue (batchq). Bockjoo&#39;s and others&#39; jobs will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; be held if they submit straight to batchq because we have added</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; the from_route_only flag to the Torque server. Can you help?</font>
The GIP publishes the information belonging to just the execution
queues, because long ago a decision was made to do so. I don&#39;t remember
the details now, but that is where the things stand.

I have emailed William Law, he is in charge of the GIP code now. I know
that different sites have different requirements here, e.g. some don&#39;t
have a routing queue at all and some sites allow only use of routing
queue. I am not sure if there is a way for GIP to know what is the
intent of the site admin. May be this is as simple as if there is a
routing queue then use it, but I would leave it to Will to decide how he
wishes to address this. Will, let me know if you have any questions.

The best way I see for just as a temporary work around, is to edit
configure_gip script at the site. Line 787 (from VDT 1.8.0 f) of
configure_gip is currently
...
if($queue_type eq &#34;Execution&#34;){
...
If you update it to
if($queue_type eq &#34;Route&#34;){
^^^^^

This piece of code is checking for the &#34;queue_type = &#34; line from &#34;qstat
-Q -f&#34;

Just as a side note, the add-attributes.conf provides you ways of adding
new DNs, and alter-attributes.conf a way of modifying existing DNs, but
currently there is no way to remove a DN being advertised.

Let me know if you have questions.
<div id='show_970288799' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_970288799'>
Thanks,
Anand
</div><script type='text/javascript'>
        $('#show_970288799').click(function() {
            $('#detail_970288799').slideDown("normal");
            $('#show_970288799').hide();
            $('#hide_970288799').show();
        });
        $('#hide_970288799').click(function() {
            $('#detail_970288799').slideUp();
            $('#hide_970288799').hide();
            $('#show_970288799').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4060#1189608068'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-12T14:41:08+00:00">Sep 12, 2007 02:41 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1189608068">&nbsp;</a></div><pre>It still shows batchq.
Bockjoo
Craig Prescott wrote&#58;

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; My sed line missed one instance of &#39;batchq&#39; in alter-attributes.conf</font>
<font color='#7F7E6F'>&#62; (GlueCEName).  I&#39;ve just set this to &#39;submit&#39;, as well.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Craig</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4060#1189604829'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-12T13:47:09+00:00">Sep 12, 2007 01:47 PM UTC</time> by <b>Craig Prescott</b><a class="anchor" name="1189604829">&nbsp;</a></div><pre>My sed line missed one instance of &#39;batchq&#39; in alter-attributes.conf
(GlueCEName).  I&#39;ve just set this to &#39;submit&#39;, as well.

Cheers,
Craig

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4060#1189526887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-11T16:08:07+00:00">Sep 11, 2007 04:08 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1189526887">&nbsp;</a></div><pre>It looks like my blind suggestion took effect only on
GlueForeignKey&#58; GlueCEUniqueID=iogw1.hpc.ufl.edu&#58;2119/jobmanager-pbs-submit
The main parameter still shows
GlueCESEBindCEUniqueID&#58; iogw1.hpc.ufl.edu&#58;2119/jobmanager-pbs-batchq
Please take the case and help Craig.
Thanks,
Bockjoo

Arvind Gopu wrote&#58;

<font color='#7F7E6F'>&#62;Shaowen,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;It has come to my attention that there&#39;s another GOC ticket on this issue</font>
<font color='#7F7E6F'>&#62;(which was probably created by mistake). And Craig has attempted the step</font>
<font color='#7F7E6F'>&#62;Bockjoo suggested to him. See copy and paste below. You and the trouble</font>
<font color='#7F7E6F'>&#62;shooters might hold off working on this issue till Bockjoo confirms if</font>
<font color='#7F7E6F'>&#62;the issue is resolved.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;Cheers,</font>
<font color='#7F7E6F'>&#62;Arvind</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;--- Copy and paste of latest correspondence from Craig ---</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;Ok, I did this&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;[root@submit ~]# OSG_LOCATION=/grid/osg/osg-ce-0.6;</font>
<font color='#7F7E6F'>&#62;list=&#39;osg-info-static-ce.ldif osg-info-static-cesebind.ldif</font>
<font color='#7F7E6F'>&#62;osg-info-static-cluster.ldif&#39;; for i in $list; do echo $i; cat</font>
<font color='#7F7E6F'>&#62;$OSG_LOCATION/lcg/var/gip/ldif/$i | sed -e</font>
<font color='#7F7E6F'>&#62;&#34;s%jobmanager-pbs-batchq%jobmanager-pbs-submit%g&#34; &#62;&#62;</font>
<font color='#7F7E6F'>&#62;$OSG_LOCATION/lcg/etc/alter-attributes.conf; done</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;The resulting alter-attributes.conf looks reasonable to me. I had never</font>
<font color='#7F7E6F'>&#62;heard of alter-attributes.conf before, so I hope it works.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_241557717' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_241557717'><font color='#7F7E6F'>&#62;I guess we&#39;ll know at the top of the hour if this has the desired effect.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;Cheers,</font>
<font color='#7F7E6F'>&#62;Craig</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;--- End copy and paste ---</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;On 2007-09-11 10&#58;28 (-0500), Wang, Shaowen had pondered&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62;FYI.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;-Shaowen</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;-----Original Message-----</font>
<font color='#7F7E6F'>&#62;&#62;From&#58; Open Science Grid FootPrints</font>
<font color='#7F7E6F'>&#62;&#62;[mailto&#58;osg@....]</font>
<font color='#7F7E6F'>&#62;&#62;Sent&#58; Tuesday, September 11, 2007 10&#58;02 AM</font>
<font color='#7F7E6F'>&#62;&#62;To&#58; Wang, Shaowen</font>
<font color='#7F7E6F'>&#62;&#62;Subject&#58; Open Science Grid&#58; Re&#58; pbs queue advertizement for the world</font>
<font color='#7F7E6F'>&#62;&#62;(fwd) ISSUE=4062 PROJ=71</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;[Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_241557717').click(function() {
            $('#detail_241557717').slideDown("normal");
            $('#show_241557717').hide();
            $('#hide_241557717').show();
        });
        $('#hide_241557717').click(function() {
            $('#detail_241557717').slideUp();
            $('#hide_241557717').hide();
            $('#show_241557717').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4060#1189526169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-11T15:56:09+00:00">Sep 11, 2007 03:56 PM UTC</time> by <b>Shaowen Wang</b><a class="anchor" name="1189526169">&nbsp;</a></div><pre>Arvind,

Will do. Thanks for your note!

-Shaowen

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; From&#58; Arvind Gopu [mailto&#58;agopu@....]</font>
<font color='#7F7E6F'>&#62; Sent&#58; Tuesday, September 11, 2007 10&#58;59 AM</font>
<font color='#7F7E6F'>&#62; To&#58; Wang, Shaowen</font>
<font color='#7F7E6F'>&#62; Cc&#58; Bockjoo Kim; OSG-TROUBLESHOOTING@....; osg@tick-</font>
<font color='#7F7E6F'>&#62; indy.globalnoc.iu.edu</font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; PBS queue advertizement for the world ISSUE=4060 PROJ=71</font>
{Was
<font color='#7F7E6F'>&#62; Re&#58; PBS queue ... ISSUE=4062 PROJ=71}</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Shaowen,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It has come to my attention that there&#39;s another GOC ticket on this</font>
issue
<font color='#7F7E6F'>&#62; (which was probably created by mistake). And Craig has attempted the</font>
step
<font color='#7F7E6F'>&#62; Bockjoo suggested to him. See copy and paste below. You and the</font>
trouble
<font color='#7F7E6F'>&#62; shooters might hold off working on this issue till Bockjoo confirms if</font>
<font color='#7F7E6F'>&#62; the issue is resolved.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Arvind</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --- Copy and paste of latest correspondence from Craig ---</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Ok, I did this&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [root@submit ~]# OSG_LOCATION=/grid/osg/osg-ce-0.6;</font>
<div id='show_835686379' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_835686379'><font color='#7F7E6F'>&#62; list=&#39;osg-info-static-ce.ldif osg-info-static-cesebind.ldif</font>
<font color='#7F7E6F'>&#62; osg-info-static-cluster.ldif&#39;; for i in $list; do echo $i; cat</font>
<font color='#7F7E6F'>&#62; $OSG_LOCATION/lcg/var/gip/ldif/$i | sed -e</font>
<font color='#7F7E6F'>&#62; &#34;s%jobmanager-pbs-batchq%jobmanager-pbs-submit%g&#34; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; $OSG_LOCATION/lcg/etc/alter-attributes.conf; done</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The resulting alter-attributes.conf looks reasonable to me. I had</font>
never
<font color='#7F7E6F'>&#62; heard of alter-attributes.conf before, so I hope it works.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I guess we&#39;ll know at the top of the hour if this has the desired</font>
effect.
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Craig</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --- End copy and paste ---</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 2007-09-11 10&#58;28 (-0500), Wang, Shaowen had pondered&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; FYI.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; -Shaowen</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; -----Original Message-----</font>
<font color='#7F7E6F'>&#62; &#62; From&#58; Open Science Grid FootPrints</font>
<font color='#7F7E6F'>&#62; &#62; [mailto&#58;osg@....]</font>
<font color='#7F7E6F'>&#62; &#62; Sent&#58; Tuesday, September 11, 2007 10&#58;02 AM</font>
<font color='#7F7E6F'>&#62; &#62; To&#58; Wang, Shaowen</font>
<font color='#7F7E6F'>&#62; &#62; Subject&#58; Open Science Grid&#58; Re&#58; pbs queue advertizement for the</font>
world
<font color='#7F7E6F'>&#62; &#62; (fwd) ISSUE=4062 PROJ=71</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_835686379').click(function() {
            $('#detail_835686379').slideDown("normal");
            $('#show_835686379').hide();
            $('#hide_835686379').show();
        });
        $('#hide_835686379').click(function() {
            $('#detail_835686379').slideUp();
            $('#hide_835686379').hide();
            $('#show_835686379').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4060#1189525987'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-11T15:53:07+00:00">Sep 11, 2007 03:53 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1189525987">&nbsp;</a></div><pre>Shaowen,

It has come to my attention that there&#39;s another GOC ticket on this issue
(which was probably created by mistake). And Craig has attempted the step
Bockjoo suggested to him. See copy and paste below. You and the trouble
shooters might hold off working on this issue till Bockjoo confirms if
the issue is resolved.

Cheers,
Arvind

--- Copy and paste of latest correspondence from Craig ---

Ok, I did this&#58;

[root@submit ~]# OSG_LOCATION=/grid/osg/osg-ce-0.6;
list=&#39;osg-info-static-ce.ldif osg-info-static-cesebind.ldif
osg-info-static-cluster.ldif&#39;; for i in $list; do echo $i; cat
$OSG_LOCATION/lcg/var/gip/ldif/$i | sed -e
&#34;s%jobmanager-pbs-batchq%jobmanager-pbs-submit%g&#34; &#62;&#62;
$OSG_LOCATION/lcg/etc/alter-attributes.conf; done

The resulting alter-attributes.conf looks reasonable to me. I had never
heard of alter-attributes.conf before, so I hope it works.

I guess we&#39;ll know at the top of the hour if this has the desired effect.

Cheers,
Craig

--- End copy and paste ---

On 2007-09-11 10&#58;28 (-0500), Wang, Shaowen had pondered&#58;

<font color='#7F7E6F'>&#62; FYI.</font>
<div id='show_2035002056' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2035002056'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -Shaowen</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -----Original Message-----</font>
<font color='#7F7E6F'>&#62; From&#58; Open Science Grid FootPrints</font>
<font color='#7F7E6F'>&#62; [mailto&#58;osg@....]</font>
<font color='#7F7E6F'>&#62; Sent&#58; Tuesday, September 11, 2007 10&#58;02 AM</font>
<font color='#7F7E6F'>&#62; To&#58; Wang, Shaowen</font>
<font color='#7F7E6F'>&#62; Subject&#58; Open Science Grid&#58; Re&#58; pbs queue advertizement for the world</font>
<font color='#7F7E6F'>&#62; (fwd) ISSUE=4062 PROJ=71</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2035002056').click(function() {
            $('#detail_2035002056').slideDown("normal");
            $('#show_2035002056').hide();
            $('#hide_2035002056').show();
        });
        $('#hide_2035002056').click(function() {
            $('#detail_2035002056').slideUp();
            $('#hide_2035002056').hide();
            $('#show_2035002056').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4060#1189520768'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-11T14:26:08+00:00">Sep 11, 2007 02:26 PM UTC</time> by <b>Craig Prescott</b><a class="anchor" name="1189520768">&nbsp;</a></div><pre>Ok, I did this&#58;

[root@submit ~]# OSG_LOCATION=/grid/osg/osg-ce-0.6; list=&#39;osg-info-static-ce.ldif osg-info-static-cesebind.ldif osg-info-static-cluster.ldif&#39;; for i in $list; do echo $i; cat
$OSG_LOCATION/lcg/var/gip/ldif/$i | sed -e &#34;s%jobmanager-pbs-batchq%jobmanager-pbs-submit%g&#34; &#62;&#62; $OSG_LOCATION/lcg/etc/alter-attributes.conf; done

The resulting alter-attributes.conf looks reasonable to me.  I had never heard
of alter-attributes.conf before, so I hope it works.

I guess we&#39;ll know at the top of the hour if this has the desired effect.

Cheers,
Craig

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4060#1189457431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-10T20:50:31+00:00">Sep 10, 2007 08:50 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1189457431">&nbsp;</a></div><pre>Hi Bockjoo;

Ok, I&#39;d *like* to do this, but I don&#39;t know how to do it
and make it stick.  I am cc&#58;ing the GOC, who I hope can help.

I tried to point the advertisement to jobmanager-pbs-submit
(this is what we really desire) a while back by editing a
whole ton of files in our OSG installation (a global replace
of jobmanager-pbs-batchq with jobmanager-pbs-submit).  Within
a few days, batchq was being advertised again.  I don&#39;t know
how or why it changed.

GOC&#58; I want our routing queue (submit) to be advertised, not
our execution queue (batchq).  Bockjoo&#39;s and others&#39; jobs will
be held if they submit straight to batchq because we have added
the from_route_only flag to the Torque server.  Can you help?

Thanks,
Craig

Bockjoo Kim wrote&#58;
Hi Guys,
Could you advertize this&#58;
GlueCESEBindGroupCEUniqueID=iogw1.hpc.ufl.edu&#58;2119/jobmanager-pbs-batchq
properly?
If I submit jobs to this queue, my job gets held (See below).
Thanks,
Bockjoo
GridResource = &#34;gt2 iogw1.hpc.ufl.edu&#58;2119/jobmanager-pbs-batchq&#34;
GlobusResubmit = FALSE
GlobusStatus = 32
NumGlobusSubmits = 0
WantClaiming = FALSE
GlobusRSL = &#34;(maxWalltime=1440)(jobType=single)&#34;
x509userproxysubject = &#34;/DC=org/DC=doegrids/OU=People/CN=Bockjoo Kim 740786&#34;
<div id='show_1258061143' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1258061143'>x509userproxy = &#34;/state/partition1/coldhead/.cmssoft/cmsuser.proxy&#34;
GlobalJobId = &#34;dev01.ihepa.ufl.edu#1189451144#62.0&#34;
ProcId = 0
JobStatus = 5
EnteredCurrentStatus = 1189451154
HoldReason = &#34;Globus error 93&#58; the gatekeeper failed to find the requested service&#34;
</div><script type='text/javascript'>
        $('#show_1258061143').click(function() {
            $('#detail_1258061143').slideDown("normal");
            $('#show_1258061143').hide();
            $('#hide_1258061143').show();
        });
        $('#hide_1258061143').click(function() {
            $('#detail_1258061143').slideUp();
            $('#hide_1258061143').hide();
            $('#show_1258061143').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4060">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 4060});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
