<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[13074] rapid turnaround jobs for production testing</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=13074" method="post">
<div class="page-header">
    <h3><span class="muted">13074</span> / rapid turnaround jobs for production testing</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Richard T. Jones</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Richard T. Jones</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Ping Richard for status</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-01-14</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/13074", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13074?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13074?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20rapid%20turnaround%20jobs%20for%20production%20testing%20ISSUE%3D13074%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='13074#1357936209'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-11T20:30:09+00:00">Jan 11, 2013 08:30 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1357936209">&nbsp;</a></div><pre>Alain,

Yes, thank you.  You can close this ticket.

-Richard J.

On 1/11/2013 1&#58;17 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13074#1357928238'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-11T18:17:18+00:00">Jan 11, 2013 06:17 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1357928238">&nbsp;</a></div><pre>Richard,

Have all of your concerns been addressed?  If so, may close out this ticket?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='13074#1356015914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-20T15:05:14+00:00">Dec 20, 2012 03:05 PM UTC</time><a class="anchor" name="1356015914">&nbsp;</a></div><pre>Hi Richard,

I also was going to suggest something along the lines of what Igor said.  You could force this group to request 1 test pilot, and at most 1 pilot, at each site.  This way, you can limit how much CPU is &#34;under-utilized&#34;.

Back when OSG was starting 5 years ago, 1 core &#34;wasted&#34; per VO per site would have actually added up to a noticeable amount of resources.  Now, it&#39;s significantly less than 1% - well within the noise!  Arguably, providing a decent way to do debugging is a great way to improve overall CPU efficiency (for both the site and the VO), especially if it prevents you from throwing away results from production runs due to bugs!

Brian

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='13074#1356014575'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-20T14:42:55+00:00">Dec 20, 2012 02:42 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1356014575">&nbsp;</a></div><pre>Personally, I think this is a great use of resources.

The CPUs are not there to make record number of FLOPS;
they are there to make you productive.

If using them at 1% duty cycle is what it takes to get you your result the fastest, so be it!

My 2c for the group,
Igor</pre></div><div class='update_description'><i onclick="document.location='13074#1355955850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T22:24:10+00:00">Dec 19, 2012 10:24 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1355955850">&nbsp;</a></div><pre>Igor,

This is actually what I did.  I felt a little sheepish admitting that I did that, because I didn&#39;t know if I was supposed to be hanging on to idle glideins, but I felt that it would not be noticed provided that only a few were running out there.  It worked very well.  Once I had a slot, I hung onto it for up to a 24 hour period as I reran my scripts until I was satisfied.  This might be useful to have in a &#34;helpful hints&#34; twiki page somewhere, as I only came to it after some aggravation.

-Richard J.

On 12/19/2012 4&#58;24 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13074#1355952265'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T21:24:25+00:00">Dec 19, 2012 09:24 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1355952265">&nbsp;</a></div><pre>Actually... I may have an idea which might help.
At least if you are doing your testing in a tight loop (run, find problems, fix, rerun...).

What you can do is create a group in your glideinWMS FE that requests glideins that do not die if unused;
you can do this by setting a very large value for the
GLIDEIN_Max_Idle
attribute (e.g. 50000).
<a href='http&#58;//www.uscms.org/SoftwareComputing/Grid/WMS/glideinWMS/doc.prd/factory/custom_vars.html#vars' target='_blank' rel='nofollow'>http&#58;//www.uscms.org/SoftwareComputing/Grid/WMS/glideinWMS/doc.prd/factory/custom_vars.html#vars</a>
Just make sure you reserve these glideins for your tests only, and make sure you don&#39;t request too many of them.
(see the config section in <a href='http&#58;//www.uscms.org/SoftwareComputing/Grid/WMS/glideinWMS/doc.prd/frontend/configuration.html' target='_blank' rel='nofollow'>http&#58;//www.uscms.org/SoftwareComputing/Grid/WMS/glideinWMS/doc.prd/frontend/configuration.html</a>)

You will still have to wait for a long time for some sites, but hopefully any errors you have will show up at the avaialble sites first, so you will have done a few iterations by then already.
(your jobs will start very fast once the glidein is running... and most glideins will stay alive for at least 24h)

My 2c,
Igor</pre></div><div class='update_description'><i onclick="document.location='13074#1355951718'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T21:15:18+00:00">Dec 19, 2012 09:15 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1355951718">&nbsp;</a></div><pre>Hi Richard.

Good question.
But unfortunately I don&#39;t have a good answer... it is a problem for many other users as well.
What we would need is a fast &#34;test queue&#34; or something along those lines... and we don&#39;t have it.

Adding Dan Fraser and Brian Bockelman, so they are aware of your problem.

Igor</pre></div><div class='update_description'><i onclick="document.location='13074#1355880942'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T01:35:42+00:00">Dec 19, 2012 01:35 AM UTC</time> by <b>echism</b><a class="anchor" name="1355880942">&nbsp;</a></div><pre>Glidein support,

Do you have any advice on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13074#1355351247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-12T22:27:27+00:00">Dec 12, 2012 10:27 PM UTC</time> by <b>echism</b><a class="anchor" name="1355351247">&nbsp;</a></div><pre>Richard,

Unfortunately, my community inquiry went unanswered. Jeff, et all, can you help Richard debug?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13074#1354312422'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-30T21:53:42+00:00">Nov 30, 2012 09:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1354312422">&nbsp;</a></div><pre>Richard,

I think this question could be best  answered by the community, so I&#39;m going to send it on to osg-sites and see what the different approaches are.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13074#1354295669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-30T17:14:29+00:00">Nov 30, 2012 05:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1354295669">&nbsp;</a></div><pre>This is a general operations question.  The Gluex software stack is rapidly evolving right now, and I find myself spending a lot of time just running short test jobs (typically 1/2 hour) just to debug the scripts.  They may run fine on my own cluster, but each site has its own unique execution environment.  I run these test jobs one at a time per site, but I find myself waiting for long periods (eg. 1-2 days) on many sites for each iteration of my development cycle (submit job, read the stderr, modify the scripts, submit job...)  In the end my scripts are robust enough to run anywhere and then I can submit through glideinWMS.  But before that I have to test the production on each individual site that receives glideins for my VO.

The problem&#58; 30 minutes is too long for jobmanager-fork but too short for efficient use of jobmanager-condor/pbs at sites.  What do others do about this problem?  Recommendations?

by /DC=org/DC=doegrids/OU=People/CN=Richard T. Jones 975420</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F13074">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
