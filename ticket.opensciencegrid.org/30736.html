<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30736] osg.cancercomputer.com cluster to be added to test factory</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30736" method="post">
<div class="page-header">
    <h3><span class="muted">30736</span> / osg.cancercomputer.com cluster to be added to test factory</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Kyle Gross</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCSD glidein</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">MIS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Kyle Gross</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">osg-glidein-factory</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Brian L to take a look</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-10-14</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Theisen <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30736", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30736#1476456072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-14T14:41:12+00:00">Oct 14, 2016 02:41 PM UTC</time> by <b>CCSUP</b><a class="anchor" name="1476456072">&nbsp;</a></div><pre>Hi Everyone,

I just wanted to take a moment to thank you all for your hard work in
getting Cancer Computer up and running on OSG.

I hope you have a great weekend.

On Thu, Oct 13, 2016 at 4&#58;30 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1476390623'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-13T20:30:23+00:00">Oct 13, 2016 08:30 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476390623">&nbsp;</a></div><pre>Closing this ticket. Thanks for your patience and prompt responses, Ian! Please don&#39;t hesitate to open a ticket if you encounter any issues in the future.</pre></div><div class='update_description'><i onclick="document.location='30736#1476388921'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-13T20:02:01+00:00">Oct 13, 2016 08:02 PM UTC</time><a class="anchor" name="1476388921">&nbsp;</a></div><pre>I cannot thank you all enough!!!

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1476388090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-13T19:48:10+00:00">Oct 13, 2016 07:48 PM UTC</time><a class="anchor" name="1476388090">&nbsp;</a></div><pre>Okay by me.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1476387567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-13T19:39:27+00:00">Oct 13, 2016 07:39 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476387567">&nbsp;</a></div><pre>From what I can see, everything seems to be chugging along on the CE-level so I&#39;m ok with closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='30736#1476386762'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-13T19:26:02+00:00">Oct 13, 2016 07:26 PM UTC</time> by <b>echism</b><a class="anchor" name="1476386762">&nbsp;</a></div><pre>Are we done then? Regardless, I applaud everyone for their diligence.

Thank you</pre></div><div class='update_description'><i onclick="document.location='30736#1476307420'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T21:23:40+00:00">Oct 12, 2016 09:23 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476307420">&nbsp;</a></div><pre>I just spoke with a Condor developer and all those log snippets are because there&#39;s a disagreement between DNS and /etc/hosts&#58; your DNS server doesn&#39;t map localhost to the private IP addresses you have specified in /etc/hosts (like any sane one) . This is ok because any outgoing HTCondor daemon communication will not happen on the loopback interface but rather the private interfaces (or public interface in some cases on the CE) and DNS resolution is working fine on the private interface if you look at the first part of your log snippet&#58;

10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking osg.cancercomputer.com against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; matched 10.32.0.31 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 1
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking osg against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; matched 10.32.0.31 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 1

TL;DR&#58; These warnings can be ignored.</pre></div><div class='update_description'><i onclick="document.location='30736#1476297615'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T18:40:15+00:00">Oct 12, 2016 06:40 PM UTC</time><a class="anchor" name="1476297615">&nbsp;</a></div><pre>Brian,

Startd logs.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1476288896'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T16:14:56+00:00">Oct 12, 2016 04:14 PM UTC</time><a class="anchor" name="1476288896">&nbsp;</a></div><pre>To elaborate a little more -- my hosts configuration follows the following pattern&#58;

127.0.0.1 [FQDN] [hostname] localhost localhost.localdomain localhost4 localhost4.localdomain4
[private-ip] [FQDN] [hostname]

...[other entries for other systems as applicable]...

From what I can tell, the warnings are due to &#39;hostname&#39; being resolved to both 127.0.0.1 and [private-ip] on the WN itself (which i want), but [private-ip] not resolving to the localhost&#39;s, which something about condor_ce or the glideins seem to care about.

Here&#39;s a snippet from /var/log/condor-ce/JobRouterLog that shows what&#39;s going on.  This is the CE, but I expect the warnings that the WNs are generating are effectively the same.

10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking osg.cancercomputer.com against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; matched 10.32.0.31 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 1
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking osg against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; matched 10.32.0.31 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 1
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking localhost against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 0
10/11/16 15&#58;32&#58;26 WARNING&#58; forward resolution of localhost doesn&#39;t match 10.32.0.31!
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking localhost.localdomain against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 0
10/11/16 15&#58;32&#58;26 WARNING&#58; forward resolution of localhost.localdomain doesn&#39;t match 10.32.0.31!
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking localhost4 against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 0
10/11/16 15&#58;32&#58;26 WARNING&#58; forward resolution of localhost4 doesn&#39;t match 10.32.0.31!
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking localhost4.localdomain4 against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 0
10/11/16 15&#58;32&#58;26 WARNING&#58; forward resolution of localhost4.localdomain4 doesn&#39;t match 10.32.0.31!
<div id='show_1630613205' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1630613205'>10/11/16 15&#58;32&#58;26 IPVERIFY&#58; checking osg against 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; comparing 127.0.0.1 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; matched 10.32.0.31 to 10.32.0.31
10/11/16 15&#58;32&#58;26 IPVERIFY&#58; ip found is 1

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890
</div><script type='text/javascript'>
        $('#show_1630613205').click(function() {
            $('#detail_1630613205').slideDown("normal");
            $('#show_1630613205').hide();
            $('#hide_1630613205').show();
        });
        $('#hide_1630613205').click(function() {
            $('#detail_1630613205').slideUp();
            $('#hide_1630613205').hide();
            $('#show_1630613205').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30736#1476288179'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T16:02:59+00:00">Oct 12, 2016 04:02 PM UTC</time><a class="anchor" name="1476288179">&nbsp;</a></div><pre>The messages Marty is referring to are being generated from my WN&#39;s, not from the CE.  condor_ce_host_network_check on the CE passes with flying colours, nothing abonrmal at all in the output.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1476287974'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T15:59:34+00:00">Oct 12, 2016 03:59 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476287974">&nbsp;</a></div><pre>Marty&#58; Which logs are those from?
Ian&#58; Have you run &#96;condor_ce_host_network_check&#96;? I&#39;m not aware of anywhere that needs localhost to resolve to your private (?) IP.</pre></div><div class='update_description'><i onclick="document.location='30736#1476151595'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T02:06:35+00:00">Oct 11, 2016 02:06 AM UTC</time><a class="anchor" name="1476151595">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; 10/10/16 02&#58;35&#58;22 (pid&#58;29647) WARNING&#58; forward resolution of localhost doesn&#39;t match 10.32.0.38</font>

Those bother me as well, but the reason they are there is because the various localhost&#39;s are in the /etc/hosts file only for 127.0.0.1.  I could change that but I generally prefer not to assign &#39;localhost&#39; for anything other than the &#39;lo&#39; interface.  Is there a way to adjust this in OSG&#39;s configuration?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1476122594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-10T18:03:14+00:00">Oct 10, 2016 06:03 PM UTC</time><a class="anchor" name="1476122594">&nbsp;</a></div><pre>Brian,

This is a bit usual [1], but other than that things seem fairly normal in glidein logs. I&#39;d still like to see more jobs run and glidein logs return before declaring victory here though.

Marty Kandes
UCSD Glidein Factory

[1]

10/10/16 02&#58;35&#58;22 (pid&#58;29647) WARNING&#58; forward resolution of localhost doesn&#39;t match 10.32.0.38!
10/10/16 02&#58;35&#58;22 (pid&#58;29647) WARNING&#58; forward resolution of localhost.localdomain doesn&#39;t match 10.32.0.38!
10/10/16 02&#58;35&#58;22 (pid&#58;29647) WARNING&#58; forward resolution of localhost4 doesn&#39;t match 10.32.0.38!
10/10/16 02&#58;35&#58;22 (pid&#58;29647) WARNING&#58; forward resolution of localhost4.localdomain4 doesn&#39;t match 10.32.0.38!

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1476121032'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-10T17:37:12+00:00">Oct 10, 2016 05:37 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476121032">&nbsp;</a></div><pre>Marty/Factory Ops&#58; Jobs seem to be running again and the job ID&#39;s appear to match between the CE and PBS. Are you guys getting back sane output/logs?</pre></div><div class='update_description'><i onclick="document.location='30736#1475718791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T01:53:11+00:00">Oct 6, 2016 01:53 AM UTC</time> by <b>ian@....</b><a class="anchor" name="1475718791">&nbsp;</a></div><pre>Done.

On 05/10/16 05&#58;08 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1475701688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T21:08:08+00:00">Oct 5, 2016 09:08 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475701688">&nbsp;</a></div><pre>Ian,

So there&#39;s a bug with glexec + disabling limited proxies so to get around this temporarily, can you set&#58;

blah_disable_limited_proxies=no

in /etc/blah.config?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475669879'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T12:17:59+00:00">Oct 5, 2016 12:17 PM UTC</time><a class="anchor" name="1475669879">&nbsp;</a></div><pre>Hey everyone - so if there have been a number of additional near-immediate failures from my queue over the last day or so, I believe this is due to one of my worker nodes failing to stage-in the jobs properly in PBS.  I&#39;m debugging that now as unfortunately it isn&#39;t an obvious cause (permissions, etc) and I&#39;ve taken that node offline in the meantime just in case these stagein failures also cause the jobs to be failed/rejected in HTCondor.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475536099'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T23:08:19+00:00">Oct 3, 2016 11:08 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475536099">&nbsp;</a></div><pre>The line you&#39;re looking for is here&#58; <a href='https&#58;//github.com/osg-bosco/BLAH/blob/cc22dbc6775605d753bd0464f02217feecaccb92/src/server.c#L2022.' target='_blank' rel='nofollow'>https&#58;//github.com/osg-bosco/BLAH/blob/cc22dbc6775605d753bd0464f02217feecaccb92/src/server.c#L2022.</a> The blahp currently lives under the &#39;osg-bosco&#39; repo for historical reasons. I&#39;m adding Jaime Frey to the cc list since he&#39;s more familiar with the arguments that the gridmanager calls the blahp with. I should have time to take a closer look at this tomorrow as well.</pre></div><div class='update_description'><i onclick="document.location='30736#1475520724'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T18:52:04+00:00">Oct 3, 2016 06:52 PM UTC</time><a class="anchor" name="1475520724">&nbsp;</a></div><pre>The segfault is because of the following line in server.c, because the argument to atoi is likely null or out of bounds.

exe_command.delegation_type = atoi(argv[CMD_RENEW_PROXY_ARGS + 1 + MEXEC_PARAM_DELEGTYPE]);

GDB says it&#39;s somewhere around line 2022 but I haven&#39;t had any luck finding the codebase that this package would have been built from -- the closest I found was a project on github but the matching line was around line 2097 , and it didn&#39;t have a 1.18.25 release tag (1.18.4 and 1.20.3 were the closest version matches).  I also didn&#39;t see a blah related project on OpenScienceGrid&#39;s github account.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475519695'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T18:34:55+00:00">Oct 3, 2016 06:34 PM UTC</time><a class="anchor" name="1475519695">&nbsp;</a></div><pre>Found the debug symbols!  Core dumps now make much more sense&#58;

# gdb --core=core.blahpd.1317347.osg.cancercomputer.com.1475519028
GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-80.el7
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+&#58; GNU GPL version 3 or later &#60;<a href='http&#58;//gnu.org/licenses/gpl.html&#62' target='_blank' rel='nofollow'>http&#58;//gnu.org/licenses/gpl.html&#62</a>;
This is free software&#58; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &#34;show copying&#34;
and &#34;show warranty&#34; for details.
This GDB was configured as &#34;x86_64-redhat-linux-gnu&#34;.
For bug reporting instructions, please see&#58;
&#60;<a href='http&#58;//www.gnu.org/software/gdb/bugs/&#62' target='_blank' rel='nofollow'>http&#58;//www.gnu.org/software/gdb/bugs/&#62</a>;.
[New LWP 1317355]
[New LWP 1317347]
Reading symbols from /usr/bin/blahpd...Reading symbols from /usr/lib/debug/usr/bin/blahpd.debug...done.
done.
Missing separate debuginfo for
Try&#58; yum --enablerepo=&#39;*debug*&#39; install /usr/lib/debug/.build-id/fd/b4855e28a5dc9dcae4ef9a55661dcd47dce521
[Thread debugging using libthread_db enabled]
Using host libthread_db library &#34;/lib64/libthread_db.so.1&#34;.
Core was generated by &#96;/usr/bin/blahpd&#39;.
Program terminated with signal 11, Segmentation fault.
#0  __GI_____strtol_l_internal (nptr=0x0, endptr=endptr@entry=0x0, base=base@entry=10, group=group@entry=0,
loc=0x7f82574c9060 &#60;_nl_global_locale&#62;) at ../stdlib/strtol_l.c&#58;298
298       while (ISSPACE (*s))
(gdb) bt
#0  __GI_____strtol_l_internal (nptr=0x0, endptr=endptr@entry=0x0, base=base@entry=10, group=group@entry=0,
loc=0x7f82574c9060 &#60;_nl_global_locale&#62;) at ../stdlib/strtol_l.c&#58;298
#1  0x00007f82571470f2 in __GI_strtol (nptr=&#60;optimized out&#62;, endptr=endptr@entry=0x0, base=base@entry=10)
at ../stdlib/strtol.c&#58;109
#2  0x00007f8257143b70 in atoi (nptr=&#60;optimized out&#62;) at atoi.c&#58;27
#3  0x0000000000409fbd in cmd_renew_proxy (args=0x67f760) at server.c&#58;2022
#4  0x00007f8257cf6dc5 in start_thread (arg=0x7f8253dfb700) at pthread_create.c&#58;308
#5  0x00007f8257203ced in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S&#58;113

<div id='show_1920295754' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1920295754'>by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890
</div><script type='text/javascript'>
        $('#show_1920295754').click(function() {
            $('#detail_1920295754').slideDown("normal");
            $('#show_1920295754').hide();
            $('#hide_1920295754').show();
        });
        $('#hide_1920295754').click(function() {
            $('#detail_1920295754').slideUp();
            $('#hide_1920295754').hide();
            $('#show_1920295754').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30736#1475515529'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T17:25:29+00:00">Oct 3, 2016 05:25 PM UTC</time><a class="anchor" name="1475515529">&nbsp;</a></div><pre>OK, I have core dumps now, however they aren&#39;t at all useful because debuginfo-install didn&#39;t get any symbols for blahpd.  They all look pretty well identical to this&#58;

]# gdb --core=core.blahpd.1232579.osg.cancercomputer.com.1475513999
GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-80.el7
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+&#58; GNU GPL version 3 or later &#60;<a href='http&#58;//gnu.org/licenses/gpl.html&#62' target='_blank' rel='nofollow'>http&#58;//gnu.org/licenses/gpl.html&#62</a>;
This is free software&#58; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &#34;show copying&#34;
and &#34;show warranty&#34; for details.
This GDB was configured as &#34;x86_64-redhat-linux-gnu&#34;.
For bug reporting instructions, please see&#58;
&#60;<a href='http&#58;//www.gnu.org/software/gdb/bugs/&#62' target='_blank' rel='nofollow'>http&#58;//www.gnu.org/software/gdb/bugs/&#62</a>;.
[New LWP 1282019]
[New LWP 1232579]
Missing separate debuginfo for the main executable file
Try&#58; yum --enablerepo=&#39;*debug*&#39; install /usr/lib/debug/.build-id/ec/7afb6d62d7139b0f1ef1e05144f6ef22d63c86
Core was generated by &#96;/usr/bin/blahpd&#39;.
Program terminated with signal 11, Segmentation fault.
#0  0x00007fad12edd167 in ?? ()
(gdb) bt
#0  0x00007fad12edd167 in ?? ()
#1  0x0000000000000000 in ?? ()

Note that I tried the yum install suggestion but it didn&#39;t succeed.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475510851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T16:07:31+00:00">Oct 3, 2016 04:07 PM UTC</time><a class="anchor" name="1475510851">&nbsp;</a></div><pre>I have, and have been trying to get the core dumps and gdb backtraces for at least 30 mins now.

Unfortunately, as soon as I attach gdb to the CE&#39;s schedd and set follow-fork-mode child , when I continue it immediately exits as whatever child proc was running also exits.  Also, there hasn&#39;t been a blahp segfault since I started doing this so I don&#39;t have any core to dump.  Should I script some sort of loop to constantly re-attach gdb?

The debug setting I turned on on Friday, so I don&#39;t know if that&#39;s improved the logs at all.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475510058'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T15:54:18+00:00">Oct 3, 2016 03:54 PM UTC</time><a class="anchor" name="1475510058">&nbsp;</a></div><pre>Hi Ian,

Have you had a chance to look at Brian&#39;s suggestions?

Edgar
OSG Software Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='30736#1475268936'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T20:55:36+00:00">Sep 30, 2016 08:55 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475268936">&nbsp;</a></div><pre>Ian,

A few more things to try&#58;

1) debuginfo-install condor
2) Attach to the CE schedd process with gdb and &#39;set follow fork mode child&#39;
3) Set the core_pattern kernel file&#58; &#96;echo &#34;/tmp/cores/core.%e.%p.%h.%t&#34; &#62; /proc/sys/kernel/core_pattern&#96;. The blahp appears to be segfaulting frequently enough that you should watch /tmp/core carefully and once you&#39;ve got a core dump, remove the core_pattern file.

That should give us some useful information that you can then attach to the ticket.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475268913'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T20:55:13+00:00">Sep 30, 2016 08:55 PM UTC</time><a class="anchor" name="1475268913">&nbsp;</a></div><pre>Restarted it about an hour ago -- still thrashing?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475263724'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T19:28:44+00:00">Sep 30, 2016 07:28 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475263724">&nbsp;</a></div><pre>Ian,

Ah that&#39;s right, we actually check the return code of qstat in /usr/libexec/blahp/pbs_status.py to determine the status of jobs that are no longer in the queue. And it&#39;s not necessary to archive the job history really, I was just a little confused on the times displayed by &#39;qstat&#39; but realized that was CPU time and not walltime.

It looks like HTCondor-CE keeps spawning new, short-lived condor_gridmanager processes every few seconds. Could you maybe just restart the CE service and we&#39;ll see if it&#39;s still thrashing?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475260149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T18:29:09+00:00">Sep 30, 2016 06:29 PM UTC</time><a class="anchor" name="1475260149">&nbsp;</a></div><pre>Once jobs are dropped from the queue, I don&#39;t think there is a way with standard tools -- the jobs files stored in torque/server_priv/jobs/ are not archived, at least not by PBS itself.

I could make a script to archive snapshots of that directory on a regular interval though, that would allow us to access long-term job history from the files themselves.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475259492'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T18:18:12+00:00">Sep 30, 2016 06:18 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475259492">&nbsp;</a></div><pre>Ian,

Try appending &#39;.txt&#39; to the filename and re-uploading it.

I suspect that the gahp-server (this is what&#39;s HTCondor-CE uses to
communicate with PBS) segfaults have something to do with the mismatch
jobs. I&#39;d like to hold off on removing jobs until I get a response from
the Condor team about where the core files may live after those
segfaults. One question, how do you use qstat to inspect completed or
removed jobs?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475258979'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T18:09:39+00:00">Sep 30, 2016 06:09 PM UTC</time><a class="anchor" name="1475258979">&nbsp;</a></div><pre>There isn&#39;t any way to attach an archive to this ticket is there?  .tar.* and .zip are both getting rejected...

I&#39;ve placed OSG_WN01_logs.tar.gz into /tmp/ on the CE, with world-read rights; it should be possible for you to grab that file directly correct?  If not please let me know the best way to send it.

The file contains all *out and *err files from ${HOME}, as well as from ${OSG_WN_TMP}, from the WN I referred to earlier.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475256345'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T17:25:45+00:00">Sep 30, 2016 05:25 PM UTC</time><a class="anchor" name="1475256345">&nbsp;</a></div><pre>Ian,

It might be useful to send along the *.out and *.err logs from those glideins when you get a chance.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1475254612'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T16:56:52+00:00">Sep 30, 2016 04:56 PM UTC</time><a class="anchor" name="1475254612">&nbsp;</a></div><pre>Right, so it seems the job mappings are totally out of sync, and don&#39;t make a whole lot of sense to me at the moment.

I check what&#39;s actually running on one of my WN&#39;s, execution is including the path &#39;glide_AjxVNH&#39; and &#39;glide_PDaNL2&#39;.

glide_AjxVNH is found in &#34;${HOME}/home_bl_osg.cancercomputer.com_9619_osg.cancercomputer.com#7046.0#1474651760/err_bl_cba28263091a__condor_stdout&#34; , which should them mean it&#39;s mapped to HTCondor job 7046.0 correct?

Similarly, glide_PDaNL2 maps to 7042.0 in the same manner.

Now, PBS reports that the two NUMA nodes on this system are executing jobs 1698 and 1695 respectively.  Looking at the job details from PBS, these map to HTCondor jobs 7031.0 and 7033.0 respectively.

All four of those jobs (7031, 7033, 7042, 7046) are listed as &#34;I&#34; in condor_ce_q.

Is there any possibility here to re-synchronize these things, or would it be best to just shut it all down, remove all queued jobs, purge $HOME and $OSG_WN_TMP, and start over?  I can tarball up anything you&#39;d like to see from the WNs or the CEs if you can&#39;t get at it from your end.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475176692'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T19:18:12+00:00">Sep 29, 2016 07:18 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475176692">&nbsp;</a></div><pre>Ian,

I&#39;m noticing some discrepancies between what the CE believes is running
and what PBS is running. My example command shows that the running CE
jobs are associated with jobs that are already complete (?), like 1633
and 1667. I peeked at /var/log/condor-ce/GridmanagerLog.osg and saw some
segfaults. Could you increase the log level by setting
&#39;ALL_DEBUG=D_FULLDEBUG&#39; in /etc/condor-ce/config.d somewhere (I normally
put local config changes in 99-local.conf&#39;) and run &#96;condor_ce_reconfig&#96;?

Also, I don&#39;t think you have to mess with the PBS walltime, the CE seems
to be passing along the walltime to PBS according to the PBS jobs&#39;
Resource_List.walltime attribute.

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475174461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T18:41:01+00:00">Sep 29, 2016 06:41 PM UTC</time><a class="anchor" name="1475174461">&nbsp;</a></div><pre>Brian,

Yes, but I don&#39;t know why they are still running. I only see these glideins that have been running for 6 days [1] as Ian pointed out. I guess PBS isn&#39;t getting the correct wall time request [2] from HTCondor-CE?

Marty Kandes
UCSD Glidein Factory Operations

[1]

4504391.0   feosgflock      9/23 08&#58;30   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
4504392.0   feosgflock      9/23 08&#58;30   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
4504393.0   feosgflock      9/23 08&#58;32   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
4504528.0   feosgflock      9/23 10&#58;02   6+01&#58;21&#58;55 R  0   0.1  glidein_startup.sh
4504529.0   feosgflock      9/23 10&#58;02   6+01&#58;21&#58;55 R  0   0.1  glidein_startup.sh
4504533.0   feosgflock      9/23 10&#58;04   6+01&#58;21&#58;55 R  0   0.1  glidein_startup.sh
4504534.0   feosgflock      9/23 10&#58;04   6+01&#58;21&#58;55 R  0   0.1  glidein_startup.sh
4504538.0   feosgflock      9/23 10&#58;07   6+01&#58;21&#58;48 R  0   0.1  glidein_startup.sh
4504540.0   feosgflock      9/23 10&#58;07   6+01&#58;21&#58;49 R  0   0.1  glidein_startup.sh
4504548.0   feosgflock      9/23 10&#58;10   6+01&#58;21&#58;20 R  0   0.1  glidein_startup.sh
4504549.0   feosgflock      9/23 10&#58;10   6+01&#58;21&#58;20 R  0   0.1  glidein_startup.sh
4504573.0   feosgflock      9/23 10&#58;46   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
4504574.0   feosgflock      9/23 10&#58;46   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
4508045.0   feosgflock      9/25 12&#58;31   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
4508066.0   feosgflock      9/25 12&#58;42   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh

[2]

&#60;submit_attr name=&#34;+maxWallTime&#34; value=&#34;2850&#34;/&#62;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1475174125'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T18:35:25+00:00">Sep 29, 2016 06:35 PM UTC</time><a class="anchor" name="1475174125">&nbsp;</a></div><pre>Oh yes -- jobs are definitely running -- condor_ce_q, various PBS based queries, and &#39;top&#39; on each of my WNs confirms that work is definitely being done.

Thanks for that commandline though, it&#39;ll make mapping HTCondor &#60;-&#62; PBS job ids much easier in the future

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475171652'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T17:54:12+00:00">Sep 29, 2016 05:54 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475171652">&nbsp;</a></div><pre>Marty&#58; Do the jobs still look like they&#39;re running on the factory end?

Ian&#58; Let&#39;s hold off on adjusting the PBS walltime until we sort out why
the jobs are in this state. Are the jobs still running on the PBS end?
You can check for the corresponding PBS job IDs with the following command&#58;

condor_ce_q -const &#39;jobstatus == 2 && gridjobid isnt undefined&#39; -af
gridjobid | awk -F &#39;/&#39; &#39;{print $3}&#39;

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475124672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T04:51:12+00:00">Sep 29, 2016 04:51 AM UTC</time> by <b>ian@....</b><a class="anchor" name="1475124672">&nbsp;</a></div><pre>Thanks Marty!  So if a job has been running for well over 48 hours should I kill it or let it keep going?  These jobs are going on day #6 now..

I expect similarly I should adjust the wall time limits to match on PBS?

<font color='#7F7E6F'>&#62; On Sep 28, 2016, at 7&#58;51 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1475106683'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T23:51:23+00:00">Sep 28, 2016 11:51 PM UTC</time><a class="anchor" name="1475106683">&nbsp;</a></div><pre>Ian,

I forgot to mention earlier&#58; We have you configured for 6-core glideins with a 48 hour wall clock time.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1475098964'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:42:44+00:00">Sep 28, 2016 09:42 PM UTC</time><a class="anchor" name="1475098964">&nbsp;</a></div><pre>Brian,

We cannot confirm anything about user job successfully running on glideins here. We&#39;re not getting back any logs at the factories. I&#39;m guessing this may be a side affect of the lingering permissions issues.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1475073157'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T14:32:37+00:00">Sep 28, 2016 02:32 PM UTC</time><a class="anchor" name="1475073157">&nbsp;</a></div><pre>No problem -- please ping the ticket at any time if you want me to do anything on this end.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1475073053'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T14:30:53+00:00">Sep 28, 2016 02:30 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1475073053">&nbsp;</a></div><pre>Ian,

If it&#39;s alright with you, I&#39;d like to keep this ticket open just a while longer as a reminder while I look into the permission denied errors. Things are working but the logs that are apparently failing to be written can be useful for troubleshooting in the future.

Cheers,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1475055200'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T09:33:20+00:00">Sep 28, 2016 09:33 AM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1475055200">&nbsp;</a></div><pre>Great! Good news, I&#39;ll contact Roy I&#39;d like to have a OSG Research Highlight on this new addition to the OSG. Happy to have you on board Ian!

Rob</pre></div><div class='update_description'><i onclick="document.location='30736#1474994160'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T16:36:00+00:00">Sep 27, 2016 04:36 PM UTC</time><a class="anchor" name="1474994160">&nbsp;</a></div><pre>The following graphs shows the &#34;payloads&#34;, that is the user jobs running inside the pilot jobs&#58;

<a href='https&#58;//gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?var-VOName=All&var-Project=All&var-Facility=IIT-GRID&var-User=All&var-ExitCode=All&var-Probe=All&var-interval=1d&from=now-7d&to=now' target='_blank' rel='nofollow'>https&#58;//gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?var-VOName=All&var-Project=All&var-Facility=IIT-GRID&var-User=All&var-ExitCode=All&var-Probe=All&var-interval=1d&from=now-7d&to=now</a>

So all SPLINTER at this point.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='30736#1474993605'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T16:26:45+00:00">Sep 27, 2016 04:26 PM UTC</time><a class="anchor" name="1474993605">&nbsp;</a></div><pre>Thank you Brian!  CC has no local user jobs so nothing to worry about there.  I was more concerned about fairly sharing resources to the other 300+ (pilot) jobs in the CE&#39;s queue, but if this is how things are expected to operate then all is well.

I&#39;ve ensured gratia-probes-cron is enabled as well, and it looks like some statistics are already showing up.

Is there anything left to deal with on this ticket?  I know there&#39;s those permissions issues, but that doesn&#39;t seem to be limiting any job actions (running or queueing)..

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474991683'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T15:54:43+00:00">Sep 27, 2016 03:54 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474991683">&nbsp;</a></div><pre>Ian,

That sounds perfectly normal since the OSG runs on what are called &#39;pilot jobs&#39;. The factories send out these pilot jobs to your site that start their own instances of the condor worker node software, which report back to the various VO frontends so that they can match user jobs. These pilot jobs can be long running and serve multiple user jobs during their lifetime. They should kill themselves if they&#39;re idle for 20 mins or after a max lifetime (I forget exactly how long that is) so you shouldn&#39;t have to worry about setting a walltime limit unless you need to give your local user jobs more chances to run.

I took a peek at your gratia history dir and it&#39;s very, very full (/var/lib/gratia/condorce_data) and it doesn&#39;t look like the gratia-probes-cron service is running. You&#39;ll need to start and enable that so the gratia probes parse that directory and consume those files.

- Brian

P.S. I&#39;m still looking into the permission issues I mentioned earlier.</pre></div><div class='update_description'><i onclick="document.location='30736#1474979237'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T12:27:17+00:00">Sep 27, 2016 12:27 PM UTC</time><a class="anchor" name="1474979237">&nbsp;</a></div><pre>Hey all - so condor_ce_q is listing 400ish jobs, and the first dozen or so are running seemingly fine.  I&#39;m just wondering if it&#39;s normal for jobs like this to continue to run for 4+ days the way these have, though?  It looks like the jobs that are running contain their own internal copies of condor, and are doing their own internal job-scheduling-and-processing across the 6 cores on each of my nodes on a more or less continuous basis.  I assume it&#39;s normal and fine to just let them keep going, and they will eventually wrap up and allow a new job to take over the slot? Or should I adjust my walltime limits to explicitly kill these jobs after a certain amount of time?

I&#39;m also wondering about Gratia accounting -- as I mentioned, there&#39;s a bunch of jobs queued, and a few running (and has been for days), but querying the CancerComputer resources on Gratia reports nothing.  I&#39;m guessing that means my RSV setup isn&#39;t reporting properly?  Or is it because there hasn&#39;t been any successfully completed jobs reported from my nodes yet?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474667640'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T21:54:00+00:00">Sep 23, 2016 09:54 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474667640">&nbsp;</a></div><pre>Hrm, I think the original error may appear earlier in the SchedLog&#58;

09/23/16 17&#58;37&#58;28 set_user_egid() called when UserIds not inited!
09/23/16 17&#58;37&#58;28 set_user_euid() called when UserIds not inited!
[...]
09/23/16 17&#58;39&#58;54 WriteUserLog&#58;&#58;initialize&#58; safe_open_wrapper(&#34;/var/lib/condor-ce/spool/7251/0/cluster7251.proc0.subproc0/.log_14676_zTbCKe&#34;) failed - errno 13 (Permission denied)
09/23/16 17&#58;39&#58;54 WriteUserLog&#58;&#58;initialize&#58; failed to open file /var/lib/condor-ce/spool/7251/0/cluster7251.proc0.subproc0/.log_14676_zTbCKe

I&#39;ve seen this error before but I&#39;m going to have to consult someone on the Condor team to get at what it all means.

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474663892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T20:51:32+00:00">Sep 23, 2016 08:51 PM UTC</time><a class="anchor" name="1474663892">&nbsp;</a></div><pre>I don&#39;t know.  If this file is attempted to be created by condor but after the path is chown&#39;ed to osg , then yes it could relate.  However I don&#39;t knw enough about what I&#39;m reading in SchedLog to know if that&#39;s actually what&#39;s happening here, nor would I expect condor to be creating the UserLog file.  Am I reading the log correctly, that this error is occuring at the very beginning of job initiation?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474662613'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T20:30:13+00:00">Sep 23, 2016 08:30 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474662613">&nbsp;</a></div><pre>I spoke with a condor dev and in 8.4, the directory and its contents are
initially written as the &#39;condor&#39; user, then they&#39;re chowned to the job
owner, and then chowned back to the condor user after the job completes.
Does that explain the permission errors?

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474658969'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T19:29:29+00:00">Sep 23, 2016 07:29 PM UTC</time><a class="anchor" name="1474658969">&nbsp;</a></div><pre>osg user is present on all systems, /var/lib/condor-ce is nfs-shared across all systems so its common on CE and WN, and as I said manipulating files in that path as user &#39;osg&#39; works in all cases when done by hand.  Given that files and directories -do- exist as the osg user, I can&#39;t see there being any other issues between &#39;osg&#39; and &#39;condor&#39; here.

...unless its the &#39;condor&#39; user that&#39;s trying to write this file??  If that&#39;s the case, then not only would I need to adjust groups on the CE (and others), but I&#39;d also likely need to adjust default umask since gid doesn&#39;t have write permission on these directories. Are those steps necessary/common on other clusters?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474654452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T18:14:12+00:00">Sep 23, 2016 06:14 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474654452">&nbsp;</a></div><pre>FWIW, I&#39;m seeing the errors on the CE. The condor daemons change user
from &#39;condor&#39; to &#39;osg&#39; to create the necessary files, perhaps that&#39;s the
issue?

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474653538'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T17:58:58+00:00">Sep 23, 2016 05:58 PM UTC</time><a class="anchor" name="1474653538">&nbsp;</a></div><pre>/var/lib/condor-ce/spool is owned by condor, as is [jobid]/0/ , abovewhich directories are owned by the job user (osg in this case).  I&#39;ve tried creating files in both cluster7123.proc0.subproc0 and cluster7123.proc0.subproc0.tmp as user osg and had no problems.  (7121 is gone, so I couldn&#39;t check that).

Note that none of the jobs have a .log* file in the .proc0.subproc0 path

SELinux is enabled on the WNs but there are no selinux violations being reported..

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474652832'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T17:47:12+00:00">Sep 23, 2016 05:47 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474652832">&nbsp;</a></div><pre>I&#39;m seeing the following your SchedLog&#58;

WriteUserLog&#58;&#58;initialize&#58; failed to open file
/var/lib/condor-ce/spool/7121/0/cluster7121.proc0.subproc0/.log_7795_at0IZy

Is there any reason why files can&#39;t be written there? Permissions look
ok to me, perhaps SELinux? Folders and files are created in the spool
directory as the &#39;condor&#39; user or as the user of the job owner, which in
this case would be &#39;osg&#39;.

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474651930'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T17:32:10+00:00">Sep 23, 2016 05:32 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474651930">&nbsp;</a></div><pre>Nope. New blahp processes get started up by the CE Gridmanager daemon as
necessary.</pre></div><div class='update_description'><i onclick="document.location='30736#1474650676'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T17:11:16+00:00">Sep 23, 2016 05:11 PM UTC</time><a class="anchor" name="1474650676">&nbsp;</a></div><pre>Done.

Nothing needs to be done after blah.config is edited, to update any daemons or sync any other configuration files, correct?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474650490'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T17:08:10+00:00">Sep 23, 2016 05:08 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474650490">&nbsp;</a></div><pre>Ian,

Could you also disable limited proxies in /etc/blah.config?

blah_disable_limited_proxy=yes

Then go ahead and just remove the held jobs&#58;

condor_ce_rm -const &#39;JobStatus =?= 5&#39;

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474645093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T15:38:13+00:00">Sep 23, 2016 03:38 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474645093">&nbsp;</a></div><pre>It&#39;s a regression since that config is a requirement for jobs to run&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallHTCondorCE#Configuring_the_batch_system' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallHTCondorCE#Configuring_the_batch_system</a>

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474644756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T15:32:36+00:00">Sep 23, 2016 03:32 PM UTC</time><a class="anchor" name="1474644756">&nbsp;</a></div><pre>Done.

Is this a regression from when I merged the updated blah.config , or did the glidein tests that were run previously not actually test for this particular case?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474644541'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T15:29:01+00:00">Sep 23, 2016 03:29 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474644541">&nbsp;</a></div><pre>Of course when we say we&#39;re ready, things turn out to be broken &#58;). I checked some of the config on your CE by running some local jobs and noticed that you&#39;re missing the following setting in /etc/blah.config&#58;

blah_disable_wn_proxy_renewal=yes

Try setting that and releasing the jobs with&#58;

condor_ce_release osg</pre></div><div class='update_description'><i onclick="document.location='30736#1474643769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T15:16:09+00:00">Sep 23, 2016 03:16 PM UTC</time><a class="anchor" name="1474643769">&nbsp;</a></div><pre>Hi everyone - so my condor_ce_history is showing four jobs completed and a very large number with &#39;X&#39; status.  I&#39;m not sure where the glidein logs would be for these jobs so I can&#39;t scan them for errors on this side of things.  I assume there&#39;s an issue with CancerComputer&#39;s configuration though if that many jobs are getting aborted or rejected; I have high availability on this today so just ping this bug and I can do any necessary adjustments asap.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474587181'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T23:33:01+00:00">Sep 22, 2016 11:33 PM UTC</time><a class="anchor" name="1474587181">&nbsp;</a></div><pre>Ian,

Unfortunately, I don&#39;t have any glidein logs, only held glideins with hold reason [1]. We can try to investigate more tomorrow.

Marty Kandes
UCSD Glidein Factory Operations

[1]

3193702.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193703.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193708.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193709.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193715.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193716.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193724.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;
3193725.0   feosgflock      9/22 23&#58;07 Attempts to submit failed&#58;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1474586791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T23:26:31+00:00">Sep 22, 2016 11:26 PM UTC</time><a class="anchor" name="1474586791">&nbsp;</a></div><pre>Thanks Marty!

There&#39;s a bunch of jobs in the queue now, although it looks like half of them have just been put on hold, I hope for client reasons rather that issues on our cluster.  Jobs are currently coming in from &#39;osg&#39; user so I assume they are SPLINTER?  condor_ce_history only shows 5 &#39;X&#39; status jobs though but I&#39;m fairly sure a lot more than that have completed since they started being queued..  Anyhow, if you could check the logs I think there should be something to see any time.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474579432'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T21:23:52+00:00">Sep 22, 2016 09:23 PM UTC</time><a class="anchor" name="1474579432">&nbsp;</a></div><pre>Ian et al.,

Okay, we are in production.

You should begin to see production SPLINTER and/or SBGrid glideins come your way as long is there is user job demand for them. Once you see some significant activity and glidein jobs completing at your site, let us know and we&#39;ll check the glidein logs. If everything looks good (i.e., we see real user jobs running on the glideins), we can probably declare success on this ticket.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1474577250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T20:47:30+00:00">Sep 22, 2016 08:47 PM UTC</time><a class="anchor" name="1474577250">&nbsp;</a></div><pre>Confirmed - we are as ready as we will ever be.  Please go ahead.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474577071'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T20:44:31+00:00">Sep 22, 2016 08:44 PM UTC</time><a class="anchor" name="1474577071">&nbsp;</a></div><pre>Ian,

Are the CancerComputer team ready for us to move the entry into production? We typically defer to the site/system administrators before pushing an entry into production. If you can confirm you are ready, we can go ahead and do it.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1474574948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T20:09:08+00:00">Sep 22, 2016 08:09 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474574948">&nbsp;</a></div><pre>Any reason why we haven&#39;t moved the entry over to the production factory?</pre></div><div class='update_description'><i onclick="document.location='30736#1474315362'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T20:02:42+00:00">Sep 19, 2016 08:02 PM UTC</time><a class="anchor" name="1474315362">&nbsp;</a></div><pre>Mats,

Yes, the entry is currently only in the GOC-ITB factory. We&#39;ve never moved the entry into production since everything here was still being sorted out.

Rob,

Let us know if you need anything special from the factory-side to help with the visualizations/accounting.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1474313051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:24:11+00:00">Sep 19, 2016 07:24 PM UTC</time> by <b>LHCONE</b><a class="anchor" name="1474313051">&nbsp;</a></div><pre>Mats and Marty,

We should also find the proper visualization in the accounting system that shows Cancer Computer we are only running SPLInter and SBGrid jobs. I’ll see if I can find the right knobs now.

Rob</pre></div><div class='update_description'><i onclick="document.location='30736#1474312552'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:15:52+00:00">Sep 19, 2016 07:15 PM UTC</time><a class="anchor" name="1474312552">&nbsp;</a></div><pre>Is the site only available on ITB?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='30736#1474311634'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:00:34+00:00">Sep 19, 2016 07:00 PM UTC</time><a class="anchor" name="1474311634">&nbsp;</a></div><pre>Brian et al.,

I&#39;ve added SBGrid to the GLIDEIN_Supported_VOs list. OSGVO was already there in the list. GOC-ITB factory has been reconfigured. Let us know if you need anything else.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1474311297'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T18:54:57+00:00">Sep 19, 2016 06:54 PM UTC</time><a class="anchor" name="1474311297">&nbsp;</a></div><pre>Yes, please enable OSG VO as well. We will set up a special START expression for that site, making sure only SPLINTER jobs are able to run.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='30736#1474308191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T18:03:11+00:00">Sep 19, 2016 06:03 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474308191">&nbsp;</a></div><pre>Marty,

You&#39;ll need to enable SBGrid and OSG jobs but Mats said there&#39;s a way to
ensure that they only get SPLINTER jobs from the OSG VO.

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1474307882'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T17:58:02+00:00">Sep 19, 2016 05:58 PM UTC</time><a class="anchor" name="1474307882">&nbsp;</a></div><pre>Hi Brian,

To confirm, you need the VO names &#34;SBGrid&#34;, &#34;SPLINTER&#34;, and &#34;CSIU&#34; added to the GLIDEIN_Supported_VOs list? Or is it just  &#34;SBGrid&#34; and &#34;SPLINTER&#34;?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1474307161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T17:46:01+00:00">Sep 19, 2016 05:46 PM UTC</time><a class="anchor" name="1474307161">&nbsp;</a></div><pre>Perfect!  In that case, fire away.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474306392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T17:33:12+00:00">Sep 19, 2016 05:33 PM UTC</time> by <b>LHCONE</b><a class="anchor" name="1474306392">&nbsp;</a></div><pre>CSIU functions within the OSG VO and is no longer an separate VO. Don&#39;t worry about not seeing this as it no longer exists.

Rob

Sent from my iPhone

<font color='#7F7E6F'>&#62; On Sep 19, 2016, at 13&#58;04, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1474304673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T17:04:33+00:00">Sep 19, 2016 05:04 PM UTC</time><a class="anchor" name="1474304673">&nbsp;</a></div><pre>OK.  FYI I&#39;ve got user mappings for osg, mis, and sbgrid at this point -- csiu *should* be enabled but as stated there&#39;s no entries in grid-mapfile for whatever reason.  Let me know whatever else you need and I&#39;ll try to get at it ASAP.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474303513'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T16:45:13+00:00">Sep 19, 2016 04:45 PM UTC</time><a class="anchor" name="1474303513">&nbsp;</a></div><pre>The SPLINTER jobs are probably running under the OSG VO. However, if you enable that one, you will get a lot of different projects. I can make a special rule in our frontend config to only run certain OSG VO projects on your site, but I need to have the site enabled first so I can see your environment.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='30736#1474303338'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T16:42:18+00:00">Sep 19, 2016 04:42 PM UTC</time><a class="anchor" name="1474303338">&nbsp;</a></div><pre>Tried refreshing certificates manually, no difference.  edg-mkgridmap (ver 4.0.3-2) is also not outputting anything when I add the --verbose argument, which seems odd but more importantly prevents me from reporting what&#39;s going wrong too.  Is there a way to force the grid-mapfile entries by hand based on what&#39;s in vomsdir/CSIU or similar?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474301445'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T16:10:45+00:00">Sep 19, 2016 04:10 PM UTC</time><a class="anchor" name="1474301445">&nbsp;</a></div><pre>Excellent news!!!

sbgrid is already enabled, as was mentioned previously.  I&#39;m having some issues enabling csiu however; I&#39;ve edited edg-mkgridmap.conf to ensure that group is not commented out, but when I re-generate the grid-mapfile I don&#39;t see any new entries.  Is this a brand new group, ie, do I need to refresh certificates?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1474298680'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T15:24:40+00:00">Sep 19, 2016 03:24 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1474298680">&nbsp;</a></div><pre>Factory ops&#58; I just spoke with Kyle and sorted out the VO stuff. The decision is to enable SBGrid and SPLINTER jobs (<a href='http&#58;//oim.grid.iu.edu/oim/project?id=9' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/oim/project?id=9</a>) on the factory side.

Ian&#58; You&#39;ll want to make sure that you can accept SBGrid and CSIU jobs by making sure the two lines are uncommented in /etc/edg-gridmap.conf&#58;

group vomss&#58;//hpc.sbgrid.org&#58;8443/voms/SBGrid sbgrid
group vomss&#58;//voms.grid.iu.edu&#58;8443/voms/CSIU csiu

Then running edg-mkgridmap.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1473975520'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T21:38:40+00:00">Sep 15, 2016 09:38 PM UTC</time><a class="anchor" name="1473975520">&nbsp;</a></div><pre>Hi all,

Yes, please just let us know when we&#39;re ready to move forward with testing this site. We know they have some special considerations to work out. Just let us know when you need us to have a look from the factory-side.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1473716229'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T21:37:09+00:00">Sep 12, 2016 09:37 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1473716229">&nbsp;</a></div><pre>Elizabeth,

I think we&#39;re actually waiting on some policy decisions from Kyle/Rob so we can tease out specific OSG jobs that are allowed to run at their site.

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1473715795'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T21:29:55+00:00">Sep 12, 2016 09:29 PM UTC</time> by <b>echism</b><a class="anchor" name="1473715795">&nbsp;</a></div><pre>I had an alert set to ping this today, but I see our new and wonderfully diligent collaborators have done so.

Tim, let me know how far along we are, if you have a chance.

Thank you</pre></div><div class='update_description'><i onclick="document.location='30736#1473687922'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T13:45:22+00:00">Sep 12, 2016 01:45 PM UTC</time><a class="anchor" name="1473687922">&nbsp;</a></div><pre>Ping to Kyle et. al ; we&#39;re all dressed up but still not going anywere.. &#58;)

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1473287048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-07T22:24:08+00:00">Sep 7, 2016 10:24 PM UTC</time> by <b>Tim Theisen</b><a class="anchor" name="1473287048">&nbsp;</a></div><pre>I am working on a brand new SELinux configuration for HTCondor. Our first cut was to add type enforcement rules to the existing condor configuration. That is insufficient. I am working on a new policy from ground up. This should be ready in the next month or so.

...Tim</pre></div><div class='update_description'><i onclick="document.location='30736#1472668798'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:39:58+00:00">Aug 31, 2016 06:39 PM UTC</time><a class="anchor" name="1472668798">&nbsp;</a></div><pre>Brian, Tim -- just as a follow-up, I was wondering if any progress was being made on the front of SELinux support?  I&#39;ll continue to leave it of for now but I did notice that the htcondor.pp module doesn&#39;t seem to have an .fc attached; since the .fc in condor.pp only covers the /condor/ paths, I expect something like this could help??&#58;

-- Quote&#58; htcondor.fc --

/etc/condor-ce(/.*)?    system_u&#58;object_r&#58;condor_conf_t&#58;s0
/etc/rc&#92;.d/init&#92;.d/condor-ce    --      system_u&#58;object_r&#58;condor_initrc_exec_t&#58;s0
/var/lib/condor-ce(/.*)?        system_u&#58;object_r&#58;condor_var_lib_t&#58;s0
/var/lib/condor-ce/execute(/.*)?        system_u&#58;object_r&#58;condor_var_lib_t&#58;s0
/var/lib/condor-ce/spool(/.*)?  system_u&#58;object_r&#58;condor_var_lib_t&#58;s0
/var/lock/condor-ce(/.*)?       system_u&#58;object_r&#58;condor_var_lock_t&#58;s0
/var/log/condor-ce(/.*)?        system_u&#58;object_r&#58;condor_log_t&#58;s0
/var/run/condor-ce(/.*)?        system_u&#58;object_r&#58;condor_var_run_t&#58;s0

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1472668764'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:39:24+00:00">Aug 31, 2016 06:39 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1472668764">&nbsp;</a></div><pre>Ian,

I&#39;m not sure I would do that, as that would be a temporary fix at best (any upgrades would replace that symlink). Are you sure that the pbs-lsf gratia probe is running through the gratia-probes-cron service?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1472668543'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:35:43+00:00">Aug 31, 2016 06:35 PM UTC</time><a class="anchor" name="1472668543">&nbsp;</a></div><pre>I think we&#39;re good -- so far as I can tell we are just waiting on confirmation of how the jobs will be fed to our CE; whether that be through joining the SBGrid VO or some other means.  Haven&#39;t heard back from Kyle yet, as I think he&#39;s the one working on this?

FYI, I have added an sbgrid user to our cluster in preparation, in case that&#39;s the route we&#39;re taking.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1472668419'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:33:39+00:00">Aug 31, 2016 06:33 PM UTC</time><a class="anchor" name="1472668419">&nbsp;</a></div><pre>Hi Brian -- so would the best route here be to just drop the org.osg.gratia.pbs symlink from /usr/libexec/rsv/metrics/ ?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1472667758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:22:38+00:00">Aug 31, 2016 06:22 PM UTC</time> by <b>echism</b><a class="anchor" name="1472667758">&nbsp;</a></div><pre>What else do we need? Are you all set, Ian?

Thank you</pre></div><div class='update_description'><i onclick="document.location='30736#1472503812'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-29T20:50:12+00:00">Aug 29, 2016 08:50 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1472503812">&nbsp;</a></div><pre>Ian,

It turns out you can actually ignore the errors that you&#39;re seeing
because it&#39;s a bug on our end because the gratia metric probe shouldn&#39;t
be trying to parse those history files. That&#39;s up to the
gratia-probe-pbs-lsf cronjob, which should be running if you&#39;ve got cron
enabled.

Cheers,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1472481575'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-29T14:39:35+00:00">Aug 29, 2016 02:39 PM UTC</time><a class="anchor" name="1472481575">&nbsp;</a></div><pre>Hi Brian -- attached.  Let me know if you want to see any particular files.

Kyle, how goes figuring out the method for directing and/or filtering jobs to us?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1472159590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-25T21:13:10+00:00">Aug 25, 2016 09:13 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1472159590">&nbsp;</a></div><pre>Ian,

Could you run &#96;ls -l&#96; in /var/lib/gratia/condorce_data&#96; and attach the output?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1471900193'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-22T21:09:53+00:00">Aug 22, 2016 09:09 PM UTC</time> by <b>echism</b><a class="anchor" name="1471900193">&nbsp;</a></div><pre>Brian,

Could Ian&#39;s PBS gratia issue be similar to that one we saw with Bockjoo a while sgo? I know they discussed allowing multicore pilots earlier.

Thank you</pre></div><div class='update_description'><i onclick="document.location='30736#1471624355'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T16:32:35+00:00">Aug 19, 2016 04:32 PM UTC</time><a class="anchor" name="1471624355">&nbsp;</a></div><pre>Ian,

I think we&#39;ll likely have to make some additional changes to target your cancer-related jobs. And I don&#39;t think it will be as targeted as by specific job type. If I recall, I think we&#39;re simply going to have to authorize a separate OSG sub-VO that authorized users can use when running cancer research jobs. Let&#39;s se what the other OSG folks say about how they are planning on doing this. It&#39;s mostly a frontend (not factory) issue.

Kyle,

Is what I said correct? Are we going to setup a different GLIDEIN_Supported_VOs name for this subset of jobs? I&#39;ve cc&#39;d Mats as well.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1471623581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T16:19:41+00:00">Aug 19, 2016 04:19 PM UTC</time><a class="anchor" name="1471623581">&nbsp;</a></div><pre>Wonderful news, thank you!!  OK, the ball is (finally) in Kyle&#39;s court now. &#58;)

In the meantime, if it&#39;s not too hard to do, please feel free to direct some of the &#34;SPLInter Molecular Interaction Prediction Tool&#34; jobs our way -- I recall Roy (my manager) saying that was one of the projects we&#39;re very much interested in supporting.

Elizabeth, I&#39;m still seeing that issue with the Gratia PBS probe -- should we continue that discussion on a new ticket?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471622845'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T16:07:25+00:00">Aug 19, 2016 04:07 PM UTC</time><a class="anchor" name="1471622845">&nbsp;</a></div><pre>Ian,

Yes, they were successful. At least from our perspective (Factory Ops), testing is complete. We&#39;re ready whenever you are ready to push the entry out to the production glidein factories. I know you all have some constraints on who can run on the system. So whenever those custom modifications are ready, just let us know and we can put you into production.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1471620476'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T15:27:56+00:00">Aug 19, 2016 03:27 PM UTC</time><a class="anchor" name="1471620476">&nbsp;</a></div><pre>All jobs from the last run seem to have finished.  Is there any chance the last ones were successful regarding glexec?

I will be offline from about 6 hours from now until August 29th, so I won&#39;t be able to make any changes after today to our configuration -- however if someone can fire some more tests my way I will try and tweak whatever is necessary to get things working before I go.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471578209'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T03:43:29+00:00">Aug 19, 2016 03:43 AM UTC</time><a class="anchor" name="1471578209">&nbsp;</a></div><pre>Sorry, red herring sort of.  I found that glexec was improperly installed on a couple of worker nodes, after doing reinstalls and adding the &#39;mis&#39; user to the &#39;glexec&#39; group, it looks like things might be progressing further now in the tests -- could you confirm?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471576451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T03:14:11+00:00">Aug 19, 2016 03:14 AM UTC</time><a class="anchor" name="1471576451">&nbsp;</a></div><pre>OK i found this when I checked the job output locally&#58;

=== Validation error in /var/tmp/osg/glide_EtYuYC/main/glexec_setup.sh ===
Thu Aug 18 22&#58;55&#58;53 EDT 2016 Error running &#39;/var/tmp/osg/glide_EtYuYC/main/glexec_setup.sh&#39;
glexec test failed, nonzero value 203
result&#58;

stderr&#58;
[gLExec]&#58;  User mis (uid=1002) is not whitelisted, i.e. may not invoke gLExec.
If this is unexpected, ask the sysadmin to check the syslog and the
permissions of the config file.

I checked permissions of glexec.conf and all seems fine, and it&#39;s whitelisting all users via &#39;*&#39; ..  So i&#39;m not sure what to do about this one at the moment.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471564441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T23:54:01+00:00">Aug 18, 2016 11:54 PM UTC</time><a class="anchor" name="1471564441">&nbsp;</a></div><pre>GLexec was recommended to us by Elizabeth in order to support the pilot jobs, so yes I believe this is something that I will need to resolve.

Is there any indication as to what the error is from?  I do have glexec installed on all worker nodes, as well as the group-ids mapped as per the glexec install docs. I have not deployed GUMS, so am relying on edg-mkgridmap on the WNs.  There hasn&#39;t been much documentation that I&#39;ve been able to find on glexec without GUMS, so if I had to guess I would say this is where things probably aren&#39;t working.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471560483'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T22:48:03+00:00">Aug 18, 2016 10:48 PM UTC</time><a class="anchor" name="1471560483">&nbsp;</a></div><pre>Ian,

Unfortunately, the glideins are now failing validation on your worker nodes due to a glexec-related problem [1]. Do you even plan on using glexec on the system (at worker node level)? If not, I can disable this validation check.

Marty Kandes
UCSD Glidein Factory Operations

[1]

=== Validation error in /var/tmp/osg/glide_4OnEW8/main/test_os.sh ===
Thu Aug 18 12&#58;28&#58;15 EDT 2016 Error running &#39;/var/tmp/osg/glide_4OnEW8/main/test_os.sh&#39;

glexec_setup.g8iluW.sh&#58; OK
Signature OK for main&#58;glexec_setup.g8iluW.sh.
GLEXEC_BIN was OSG, expand to &#39;/usr/sbin/glexec&#39;
=== Validation error in /var/tmp/osg/glide_CFM9EB/main/glexec_setup.sh ===
Thu Aug 18 18&#58;15&#58;07 EDT 2016 Error running &#39;/var/tmp/osg/glide_CFM9EB/main/glexec_setup.sh&#39;
glexec test failed, nonzero value 203
result&#58;

stderr&#58;
[gLExec]&#58;  LCMAPS failed.
The reason can be found in the syslog.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1471549711'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T19:48:31+00:00">Aug 18, 2016 07:48 PM UTC</time><a class="anchor" name="1471549711">&nbsp;</a></div><pre>just swapping email addresses

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471548015'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T19:20:15+00:00">Aug 18, 2016 07:20 PM UTC</time><a class="anchor" name="1471548015">&nbsp;</a></div><pre>Ian,

As long as the code your users are trying to run don&#39;t depend on one OS or the other, they should be fine.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1471546719'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T18:58:39+00:00">Aug 18, 2016 06:58 PM UTC</time><a class="anchor" name="1471546719">&nbsp;</a></div><pre>Hi Marty -- no the worker nodes are likely going to remain homogeneous, and the plan right now is to keep them on RHEL7 (Centos-7.x) for a rather long time.

I was asking only because I wasn&#39;t sure if jobs submitted -to- OSG, especially those related to cancer research that we are wanting to crunch, might be excluded from our CE and cluster because they require RHEL6 for whatever reason.  Glad to hear that this is not the case. &#58;)

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471546385'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T18:53:05+00:00">Aug 18, 2016 06:53 PM UTC</time><a class="anchor" name="1471546385">&nbsp;</a></div><pre>Ian,

We also have the option to set GLIDEIN_REQUIRED_OS = &#34;any&#34;. I believe this simply turns off the test_os.sh check at glidein startup. The key thing really is that the glidein_startup.sh script needs to determine for itself what version of condor to pull in and run on your worker nodes, which is OS-dependent. Right now, the default for all glidein entries is RHEL6, which is why I had to specify RHEL7 explicitly. Do you anticipate having mix of multiple OSes on the worker nodes behind this CE/gatekeeper?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1471541457'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T17:30:57+00:00">Aug 18, 2016 05:30 PM UTC</time><a class="anchor" name="1471541457">&nbsp;</a></div><pre>Hi Elizabeth, that is correct -- although the warning does not concern me so much as the ERROR reported immediately after&#58;

ERROR&#58; Probe pbs&#58;osg.cancercomputer.com has never been seen by Gratia collector gratia-osg-prod.opensciencegrid.org&#58;80
Some information could not be gathered due to lack of privileges.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471541302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T17:28:22+00:00">Aug 18, 2016 05:28 PM UTC</time><a class="anchor" name="1471541302">&nbsp;</a></div><pre>Thank you Marty!

How explicitly tied are jobs usually to the host linux variant?  Is this just a testing thing or will we effectively only be able to run jobs explicitly requesting RHEL7?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471540844'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T17:20:44+00:00">Aug 18, 2016 05:20 PM UTC</time><a class="anchor" name="1471540844">&nbsp;</a></div><pre>Hi Ian, Brian,

The most recent batch of glideins submitted via the GOC-ITB factory were failing node validation tests for the OS [1]. I&#39;ve gone ahead and added the entry attribute

GLIDEIN_REQUIRED_OS = rhel7

which should allow this test_os.sh to pass. Also, now that this system is registered in OIM, I&#39;ve set GLIDEIN_ResourceName = CancerComputer_Miron_CE and GLIDEIN_Site = CancerComputer. A new batch of test jobs have been submitted to the site via our test frontend.

Marty Kandes
UCSD Glidein Factory Operations

[1]

&#60;OSGTestResult id=&#34;glidein_startup.sh&#34; version=&#34;4.3.1&#34;&#62;
&#60;operatingenvironment&#62;
&#60;env name=&#34;client_name&#34;&#62;test-frontend-1-t2-ucsd-edu_OSG_gWMSFrontend.main&#60;/env&#62;
&#60;env name=&#34;client_group&#34;&#62;main&#60;/env&#62;
&#60;env name=&#34;user&#34;&#62;mis&#60;/env&#62;
&#60;env name=&#34;arch&#34;&#62;x86_64&#60;/env&#62;
&#60;env name=&#34;os&#34;&#62;CentOS Linux release 7.2.1511 (Core) &#60;/env&#62;
&#60;env name=&#34;hostname&#34;&#62;fred.cancercomputer.com&#60;/env&#62;
&#60;env name=&#34;cwd&#34;&#62;/home/osg-users/mis/home_bl_osg.cancercomputer.com_9619_osg.cancercomputer.com#1667.0#1471469423&#60;/env&#62;
&#60;/operatingenvironment&#62;
&#60;test&#62;
&#60;tStart&#62;2016-08-17T17&#58;34&#58;38-04&#58;00&#60;/tStart&#62;
&#60;tEnd&#62;2016-08-17T17&#58;34&#58;56-04&#58;00&#60;/tEnd&#62;
&#60;/test&#62;
&#60;result&#62;
&#60;status&#62;ERROR&#60;/status&#62;
&#60;metric name=&#34;TestID&#34; ts=&#34;2016-08-17T17&#58;34&#58;56-04&#58;00&#34; uri=&#34;local&#34;&#62;main/test_os.sh&#60;/metric&#62;
&#60;/result&#62;
&#60;detail&#62;
Validation failed in main/test_os.sh.
The test script did not produce an XML file. No further information available.
&#60;/detail&#62;
<div id='show_647792232' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_647792232'>&#60;/OSGTestResult&#62;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_647792232').click(function() {
            $('#detail_647792232').slideDown("normal");
            $('#show_647792232').hide();
            $('#hide_647792232').show();
        });
        $('#hide_647792232').click(function() {
            $('#detail_647792232').slideUp();
            $('#hide_647792232').hide();
            $('#show_647792232').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30736#1471540670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T17:17:50+00:00">Aug 18, 2016 05:17 PM UTC</time> by <b>echism</b><a class="anchor" name="1471540670">&nbsp;</a></div><pre>In the past I&#39;ve only seen that error when gratia was looking in the wrong directory. You have already checked that, so I will look into it further. To clarify, this is the issue you want help with, right?

&#34;WARNING&#58; The expected directory containing records waiting to be re-sent does not exist (/var/lib/gratia/tmp/gratiafiles/subdir.pbs_osg.cancercomputer.com_gratia-osg-prod.opensciencegrid.org_80).  This might be a problem in the gratia-config-probe itself.  Please report this error to OSG for assistance.
0 records waiting to be re-sent to gratia-osg-prod.opensciencegrid.org&#58;80 in 0 files (including 0 archive files).
WARNING&#58; 0 total gratia files found&#58;&#34;

Thank you</pre></div><div class='update_description'><i onclick="document.location='30736#1471539369'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T16:56:09+00:00">Aug 18, 2016 04:56 PM UTC</time><a class="anchor" name="1471539369">&nbsp;</a></div><pre>/var/log/gratia/rsv/logs/[datestamp] contains a whole slew of &#34; Gratia&#58; Failure when trying to process Condor-CE history history.[job#] into a certinfo file&#58; [Errno 1] Operation not permitted&#58; &#39;/var/lib/gratia/condorce_data/history.[job#] &#34; reports, looks like one for every condor-ce job.  Those files do exist though with normal-looking content, with ownership of condor&#58;condor and are group/world readable.  Any ideas what sort of Operation Not Permitted there might be on these?

Also, I don&#39;t see anything in the logs related to the pbs probe.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471538435'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-18T16:40:35+00:00">Aug 18, 2016 04:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1471538435">&nbsp;</a></div><pre>Hey Ian,

If there are certain kinds of irregularities with the jobs (I believe anything but normal termination), you may not have any gratia records.

What is /var/log/gratia saying?

Thank you</pre></div><div class='update_description'><i onclick="document.location='30736#1471309466'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-16T01:04:26+00:00">Aug 16, 2016 01:04 AM UTC</time><a class="anchor" name="1471309466">&nbsp;</a></div><pre>I&#39;m not seeing any errors on jobs, although I do see a couple of jobs from Saturday still hanging around as &#34;completed&#34; in condor_ce_q.  It also seems like two HTCondor-CE get filed for a single PBS batch job most of the time, is that normal?

The test batch jobs seem to either be extremely minimal, or are failing to execute anything of substance (not sure which).  As there hasn&#39;t been any issues reported I assume the jobs are succeeding fine?

I am running into an issue with RSV that matches ticket # 11121 though.  I&#39;ve looked over the suggestions from that ticket but since it&#39;s based on the OSG from 5+ years ago I&#39;m not sure how much it relates, especially to how things are installed on Centos-7.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471298349'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T21:59:09+00:00">Aug 15, 2016 09:59 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1471298349">&nbsp;</a></div><pre>Ian&#58; It looks much  better from my end now!

Marty&#58; Could you send some more test pilots? I&#39;m not sure if the issue
beforehand was related or not to the DNS issues and I can&#39;t find any
evidence of issues.

Thanks,
Brian

On 08/15/2016 02&#58;44 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1471290271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T19:44:31+00:00">Aug 15, 2016 07:44 PM UTC</time><a class="anchor" name="1471290271">&nbsp;</a></div><pre>Correct -- our ISP is having dns server issues; the record has been propataged across additional DNS servers, it should resolve again.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471286889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T18:48:09+00:00">Aug 15, 2016 06:48 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1471286889">&nbsp;</a></div><pre>It looks like reverse DNS is broken again&#58;

$ condor_ce_run -lr osg.cancercomputer.com&#58;9619 ls /etc/condor-ce/config.d
********************************************************************************
2016-08-15 13&#58;44&#58;15 Could not parse job cluster from condor_submit output.
STDOUT&#58; Submitting job(s)
STDERR&#58;
ERROR&#58; Failed to connect to queue manager osg.cancercomputer.com
AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI
GSI&#58;5008&#58;Failed to look up server host address for GSI connection to server with
IP 162.253.252.130 and DN /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=osg.cancercomputer.com.  Is DNS correctly configured?  This
server name check can be bypassed by making GSI_SKIP_HOST_CHECK_CERT_REGEX match
the DN, or by disabling all hostname checks by setting GSI_SKIP_HOST_CHECK=true
or defining GSI_DAEMON_NAME.

********************************************************************************

$ host osg.cancercomputer.com
osg.cancercomputer.com has address 162.253.252.130
$ host 162.253.252.130
;; connection timed out; no servers could be reached</pre></div><div class='update_description'><i onclick="document.location='30736#1471231031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T03:17:11+00:00">Aug 15, 2016 03:17 AM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1471231031">&nbsp;</a></div><pre>I will be away from my desk from the end of business on August 13th until the morning of August 22nd. During this time I will have intermittent connectivity and may not be returning email or phone contacts. Please email goc@.... with any normal support issues you may have. For immediate issues please contact Scott Teige (steige@....)

Thanks,
Kyle</pre></div><div class='update_description'><i onclick="document.location='30736#1471230984'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T03:16:24+00:00">Aug 15, 2016 03:16 AM UTC</time><a class="anchor" name="1471230984">&nbsp;</a></div><pre>Hey all, so the test jobs seemed to run out about 16 hours ago or so.  Looking forward to finding out about the results!   Right now though I&#39;m getting this in my SchedLog every 10 seconds&#58;

08/14/16 23&#58;09&#58;34 Command=QMGMT_WRITE_CMD, peer=&#60;129.79.53.24&#58;33400&#62;
08/14/16 23&#58;09&#58;34 Authentication Failed, MethodsTried=FS,GSI
08/14/16 23&#58;09&#58;34 DC_AUTHENTICATE&#58; authentication of &#60;129.79.53.24&#58;33400&#62; did not result in a valid mapped user name, which is required for this command (1112 QMGMT_WRITE_CMD), so aborting.
08/14/16 23&#58;09&#58;34 DC_AUTHENTICATE&#58; reason for authentication failure&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5005&#58;Failed to authenticate with client.  Client does not trust our certificate.  You may want to check the GSI_DAEMON_NAME in the condor_config|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS|FS&#58;1004&#58;Unable to lstat(/tmp/FS_XXXyxyuEb)

I couldn&#39;t find anything in the logs about what user this might be, and I expect FS authentication is supposed to fail given this is a remote machine.  Do I need to add additional credentials?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471050615'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-13T01:10:15+00:00">Aug 13, 2016 01:10 AM UTC</time><a class="anchor" name="1471050615">&nbsp;</a></div><pre>...nevermind.  now that I can see what the glidein actually executes I can see script itself is supposed to map its output to these files.

From the looks of the logs (as well as some brief checking) it seems that jobs are running fine across the whole cluster.  If you&#39;d like feel free to push enough jobs to keep the cluster busy (16 nodes x 6 cores each = 96 concurrent single-core jobs).  HTCondor-CE does look to be a little delayed in processing them but maybe once there&#39;s a bit of a backlog in the queue it&#39;ll speed things up.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471035394'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T20:56:34+00:00">Aug 12, 2016 08:56 PM UTC</time><a class="anchor" name="1471035394">&nbsp;</a></div><pre>..Ok so I think this might relate a little to the issue -- here&#39;s the output from PBS for HTCondor-CE job 302 &#58;

qstat -f
Job Id&#58; 657.osg.cancercomputer.com
Job_Name = bl_0e996aa43252
Job_Owner = osg@....
job_state = Q
queue = batch
server = osg.cancercomputer.com
Checkpoint = u
ctime = Fri Aug 12 16&#58;17&#58;48 2016
Error_Path = osg.cancercomputer.com&#58;/dev/null
Hold_Types = n
Join_Path = n
Keep_Files = n
Mail_Points = n
mtime = Fri Aug 12 16&#58;17&#58;48 2016
Output_Path = osg.cancercomputer.com&#58;/dev/null
Priority = 0
qtime = Fri Aug 12 16&#58;17&#58;48 2016
Rerunable = True
Resource_List.mem = 12000mb
Resource_List.neednodes = 1&#58;ppn=6
Resource_List.nodect = 1
Resource_List.nodes = 1&#58;ppn=6
Resource_List.walltime = 47&#58;30&#58;00
Shell_Path_List = /bin/bash
substate = 10
Variable_List = PBS_O_QUEUE=batch,PBS_O_HOME=/home/osg-users/osg,
PBS_O_PATH=/sbin&#58;/usr/sbin&#58;/bin&#58;/usr/bin,PBS_O_LANG=en_US.UTF-8,
PBS_O_WORKDIR=/var/lib/condor-ce/spool/302/0/cluster302.proc0.subproc
0,PBS_O_HOST=osg.cancercomputer.com,PBS_O_SERVER=osg
euser = osg
egroup = osg
queue_rank = 2
<div id='show_1506349785' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1506349785'>queue_type = E
comment = Not Running&#58; Not enough of the right type of nodes are available

etime = Fri Aug 12 16&#58;17&#58;48 2016
submit_args = /tmp/condor_g_scratch.0x7fb0923abb50.372980/bl_0e996aa43252
fault_tolerant = False
job_radix = 0
submit_host = osg.cancercomputer.com

Is &#34;Error_Path = osg.cancercomputer.com&#58;/dev/null&#34; (and the same for output_path) correct, given that it looks like HTCondor-CE is expected to pass back both of those through /var/lib/condor-ce/spool/302/0/cluster302.proc0.subproc/_condor_stderr (and _condor_stdout)?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890
</div><script type='text/javascript'>
        $('#show_1506349785').click(function() {
            $('#detail_1506349785').slideDown("normal");
            $('#show_1506349785').hide();
            $('#hide_1506349785').show();
        });
        $('#hide_1506349785').click(function() {
            $('#detail_1506349785').slideUp();
            $('#hide_1506349785').hide();
            $('#show_1506349785').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30736#1471032898'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T20:14:58+00:00">Aug 12, 2016 08:14 PM UTC</time><a class="anchor" name="1471032898">&nbsp;</a></div><pre>OK, so for now I&#39;ve set all the worker nodes as offline in PBS, just leaving the CE machine itself as free to process jobs.  This should allow us to ascertain if the issue is from some mis-communication between htcondor-ce and PBS or some other part of the configuration (job-router stuff, whatever).

If that works fine, I&#39;ll reverse it (taking down the CE so all jobs run on the other WN&#39;s).

I see there&#39;s been some new jobs running through since I made this change, are they working any better?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1471023986'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T17:46:26+00:00">Aug 12, 2016 05:46 PM UTC</time> by <b>echism</b><a class="anchor" name="1471023986">&nbsp;</a></div><pre>Brian is out today, I think, so I will check on this Monday.</pre></div><div class='update_description'><i onclick="document.location='30736#1471020106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T16:41:46+00:00">Aug 12, 2016 04:41 PM UTC</time><a class="anchor" name="1471020106">&nbsp;</a></div><pre>Hi Ian,

I think you&#39;re right. It looks like some miscommunication between the CE and worker node. But in which direction is it failing? I don&#39;t know either. My guess would be the CE since I think 10.32.0.31 was mentioned previously in regards to it. But let&#39;s see what Brian has to say. He is the HTCondor-CE expert.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1471014134'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T15:02:14+00:00">Aug 12, 2016 03:02 PM UTC</time><a class="anchor" name="1471014134">&nbsp;</a></div><pre>I don&#39;t know enough about glideins to know where in the system this error would have occurred.

If I had to guess, I would say that the issue is that the worker node that processed the job didn&#39;t properly write /var/lib/condor-ce/spool/193/0/cluster193.proc0.subproc0/_condor_stdout back to the CE in order for the result to be transferred out.  OR, maybe it&#39;s the CE itself that failed to do this properly due to a permissions issue with /var/lib/condor-ce/spool ??   Am I reading this right?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470956223'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T22:57:03+00:00">Aug 11, 2016 10:57 PM UTC</time><a class="anchor" name="1470956223">&nbsp;</a></div><pre>Hi guys,

My recent glideins are going held due to a file transfer issue. Here is the specific hold reason [1]. This isn&#39;t a typical one we see. But I guess the first obvious question is this&#58; should we still be seeing any communication over this private ip 10.32.0.31?

Marty Kandes
UCSD Glidein Factory Operations

[1]

146236.0   feucsditb       8/11 22&#58;51 Error receiving files from schedd osg.cancercomputer.com&#58; DCSchedd&#58;&#58;receiveJobSandbox&#58;7003&#58;File transfer failed for target job 193.0&#58; SCHEDD at 10.32.0.31 failed to send file(s) to &#60;129.79.53.24&#58;60468&#62;&#58; error reading from /var/lib/condor-ce/spool/193/0/cluster193.proc0.subproc0/_condor_stdout&#58; (errno 2) No such file or directory; C_GAHP_WORKER_THREAD failed to receive file(s) from &#60;162.253.252.130&#58;9619&#62;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1470945021'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T19:50:21+00:00">Aug 11, 2016 07:50 PM UTC</time><a class="anchor" name="1470945021">&nbsp;</a></div><pre>I found a couple of issues related to stale NFS file handles on the worker nodes; it&#39;s quite possible this would have caused havoc with the test jobs I&#39;ve seen in my condor_ce_history, though I don&#39;t see any errors per se.  Anyhow, the issue has been addressed and shouldn&#39;t happen again.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470925570'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T14:26:10+00:00">Aug 11, 2016 02:26 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470925570">&nbsp;</a></div><pre>That pilot DN should be enough for testing but it&#39;s part of the &#39;mis&#39; VO
so you can enable that as well if you&#39;d like.

- Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1470871676'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T23:27:56+00:00">Aug 10, 2016 11:27 PM UTC</time><a class="anchor" name="1470871676">&nbsp;</a></div><pre>Done -- want to give it a try?

Also, so far all I&#39;ve done is enabled the &#34;OSG&#34; VO (as stated very early on in this issue); if there are any others I should add or map to make piloting easier please let me know.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470866722'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T22:05:22+00:00">Aug 10, 2016 10:05 PM UTC</time><a class="anchor" name="1470866722">&nbsp;</a></div><pre>Hi Brian,

After submitting a batch of test jobs via our test frontend under the banner of the MIS VO, glideins are going held at GOC-ITB with hold reason [1]. I&#39;m guessing we simply aren&#39;t authorized to submit to the CE. Wasn&#39;t there some talk about configuring this site to use a special &#34;OSGCancerVO&#34; name?

Ian,

If you don&#39;t mind authorizing our test pilot DN for the time being in order to continue testing, here is the pilot proxy for the test frontend [2].

Marty Kandes
UCSD Glidein Factory Operations

[1]

145797.0   feucsditb       8/10 21&#58;49 Error connecting to schedd osg.cancercomputer.com&#58; SECMAN&#58;2007&#58;Failed to received post-auth ClassAd|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS
145799.0   feucsditb       8/10 21&#58;49 Error connecting to schedd osg.cancercomputer.com&#58; SECMAN&#58;2007&#58;Failed to received post-auth ClassAd|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS
145801.0   feucsditb       8/10 21&#58;52 Error connecting to schedd osg.cancercomputer.com&#58; SECMAN&#58;2007&#58;Failed to received post-auth ClassAd|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS

[2]

subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=testpilot03/test-frontend-1.t2.ucsd.edu/CN=proxy
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=testpilot03/test-frontend-1.t2.ucsd.edu
identity  &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=testpilot03/test-frontend-1.t2.ucsd.edu
type      &#58; proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_feucsditb/glidein_gfactory_instance/credential_test-frontend-1-t2-ucsd-edu_OSG_gWMSFrontend.main_496921
timeleft  &#58; 66&#58;34&#58;17
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO mis extension information ===
VO        &#58; mis
subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=testpilot03/test-frontend-1.t2.ucsd.edu
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=voms.grid.iu.edu
attribute &#58; /mis/Role=NULL/Capability=NULL
timeleft  &#58; 18&#58;34&#58;17
uri       &#58; voms.grid.iu.edu&#58;15001

<div id='show_1466394959' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1466394959'>by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1466394959').click(function() {
            $('#detail_1466394959').slideDown("normal");
            $('#show_1466394959').hide();
            $('#hide_1466394959').show();
        });
        $('#hide_1466394959').click(function() {
            $('#detail_1466394959').slideUp();
            $('#hide_1466394959').hide();
            $('#show_1466394959').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30736#1470860792'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T20:26:32+00:00">Aug 10, 2016 08:26 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470860792">&nbsp;</a></div><pre>Ian&#58; I was able to run condor_ce_trace against your CE successfully, so I think you&#39;re ready to start accepting pilot jobs!

Factory ops&#58; Could we enable their entry in the test factory and send a few pilots their way?</pre></div><div class='update_description'><i onclick="document.location='30736#1470860024'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T20:13:44+00:00">Aug 10, 2016 08:13 PM UTC</time><a class="anchor" name="1470860024">&nbsp;</a></div><pre>Try now?  I just put back TCP_FORWARDING_HOST and added PRIVATE_NETWORK_INTERFACE , it looks like condor_ce_reconfig et. al. are happy with this configuration as I&#39;m not getting the various denied messages I had before.

That said, IP_ADDRESS still reports 10.32.0.31 in condor_ce_config_val -dump ...

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470859382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T20:03:02+00:00">Aug 10, 2016 08:03 PM UTC</time><a class="anchor" name="1470859382">&nbsp;</a></div><pre>Yes, that&#39;s the private IP address.  condor_ce_config_val -dump is attached.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470856992'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T19:23:12+00:00">Aug 10, 2016 07:23 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470856992">&nbsp;</a></div><pre>Ian,

I still get this error when seeing if I&#39;d be able to submit jobs to your CE&#58;

$ condor_ping -name osg.cancercomputer.com -pool
osg.cancercomputer.com&#58;9619 -verbose WRITE
ERROR&#58; failed to make connection to
&#60;10.32.0.31&#58;9619?addrs=10.32.0.31-9619&noUDP&sock=282084_ae96_3&#62;

I was however, able to query your collector (condor_ce_status -any) and
take a look at the Schedd classad, and it looks like your Schedd
believes its address to be at 10.32.0.31. Is that the machine&#39;s private
network interface? Would you be able to send me your config dump
(condor_ce_config_val -dump)?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1470846378'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T16:26:18+00:00">Aug 10, 2016 04:26 PM UTC</time><a class="anchor" name="1470846378">&nbsp;</a></div><pre>Solved my condor_ce_run issue -- there was no record of me in the grid-mapfile.  After manually adding an entry, it works as expected.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470838927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T14:22:07+00:00">Aug 10, 2016 02:22 PM UTC</time><a class="anchor" name="1470838927">&nbsp;</a></div><pre>OK, reverse-dns record is properly assigned -- it might take a day or two to propagate.  I had to drop the TCP_FORWARDING_HOST value as that messes up the ability to connect with various tools (condor_ce_reconfig, etc).  condor_ce_trace --debug still completes successfully either way, though (although it&#39;s close -- jobs seem to like to sit idle for quite some time before condor decides to process them, the result wasn&#39;t processed until around try 500 out of 600 -- is that normal?)

condor_ce_run still fails for me, but again I expect this relates to my local user not being set up properly (which i&#39;m fine with as CancerComputer doesn&#39;t intend to submit jobs anyhow).  I&#39;ve included the results below so you can let me know if it&#39;s a more serious issue than that&#58;

# ==&#62; command line &#60;==
$ condor_ce_run -r osg.cancercomputer.com /bin/env
********************************************************************************
2016-08-10 10&#58;13&#58;15 Could not parse job cluster from condor_submit output.
STDOUT&#58; Submitting job(s)
STDERR&#58;
ERROR&#58; Failed to connect to queue manager osg.cancercomputer.com
SECMAN&#58;2007&#58;Failed to received post-auth ClassAd

# ==&#62; /var/log/condor-ce/CollectorLog &#60;==
08/10/16 10&#58;14&#58;08 Got QUERY_SCHEDD_ADS
08/10/16 10&#58;14&#58;08 (Sending 1 ads in response to query)
08/10/16 10&#58;14&#58;08 Query info&#58; matched=1; skipped=0; query_time=0.000048; send_time=0.000580; type=Scheduler; requirements={( ( Name == &#34;osg.cancercomputer.com&#34; ) )}; peer=&#60;127.0.0.1&#58;64470&#62;; projection={}

# ==&#62; /var/log/condor-ce/SchedLog &#60;==
08/10/16 10&#58;14&#58;08 DC_AUTHENTICATE&#58; authentication of &#60;10.32.0.31&#58;4578&#62; did not result in a valid mapped user name, which is required for this command (1112 QMGMT_WRITE_CMD), so aborting.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470788256'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T00:17:36+00:00">Aug 10, 2016 12:17 AM UTC</time><a class="anchor" name="1470788256">&nbsp;</a></div><pre>Aha, yes that could related and I will definitely look into that immediately.

I&#39;ve added TCP_FORWARDING_HOST to condor-ce&#39;s config in case that helps, as well.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470780670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T22:11:10+00:00">Aug 9, 2016 10:11 PM UTC</time> by <b>marian.zvada@....</b><a class="anchor" name="1470780670">&nbsp;</a></div><pre>Not sure if it could be also part of the problem, but it seems that
reverse look up is not translating back to osg.cancercomputer.com&#58;

$ host osg.cancercomputer.com
osg.cancercomputer.com has address 162.253.252.130

$ host 162.253.252.130
Host 130.252.253.162.in-addr.arpa not found&#58; 2(SERVFAIL)

-Marian

On 8/9/16 5&#58;02 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1470780131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T22:02:11+00:00">Aug 9, 2016 10:02 PM UTC</time> by <b>i.stakenvicius@....</b><a class="anchor" name="1470780131">&nbsp;</a></div><pre>That is the private (NAT) IP address that is being reported; let me put back one of the options into 99-local.conf and see if that helps.

Condor_ce_q looked fine, condor_ce_status iirc didn&#39;t return anything (but the logs got some lines and they didn&#39;t show any errors).

I&#39;ll be back at a keyboard in an hour or so, will update soon.

<font color='#7F7E6F'>&#62; On Aug 9, 2016, at 5&#58;56 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1470779770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T21:56:10+00:00">Aug 9, 2016 09:56 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470779770">&nbsp;</a></div><pre>Ian,

That&#39;s strange that condor_ce_trace worked (assuming you got the output
of env back) whereas condor_ce_run did not. I&#39;m also getting the
following error when trying to ping the machine&#58;

$ condor_ping -name osg.cancercomputer.com -pool
osg.cancercomputer.com&#58;9619 -verbose WRITE
ERROR&#58; failed to make connection to
&#60;10.32.0.31&#58;9619?addrs=10.32.0.31-9619&noUDP&sock=22797_5dd6_3&#62;

What&#39;s the output look like from &#96;condor_ce_q&#96; and &#96;condor_ce_status&#96;?
Could you bump the log level and attach your CollectorLog, MasterLog,
and SchedLog from /etc/condor-ce?

Thanks,
Brian

On 08/09/2016 04&#58;27 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1470778072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T21:27:52+00:00">Aug 9, 2016 09:27 PM UTC</time><a class="anchor" name="1470778072">&nbsp;</a></div><pre>Hi Brian, everyone.  FYI, I gave up fighting with the hostnames as well.  I&#39;ve just finished re-mapping DNS and changing hostnames around so that the CE always recognizes itself as &#34;osg.cancercomputer.com&#34;.  The condor-ce service is starting and seems to be operating as expected, now.  I do think I have some issues to resolve still as I can&#39;t submit a local job via the &#34;condor_ce_run -r [fqdn] /bin/env&#34; example, but I think that issue has to do with a user permissions error potentially related to my user certificate.  &#34;condor_ce_trace --debug osg.cancercomputer.com&#34; does complete fully when I run it as a regular user (after voms-proxy-init).

Could you try and test again?  Note, RSV is still reporting the CE as being down with a critical error (and GridFTP too for that matter) though I&#39;m unsure as to why at this point.  I&#39;m going to keep fiddling on my end, of course.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470690128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T21:02:08+00:00">Aug 8, 2016 09:02 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470690128">&nbsp;</a></div><pre>Ian,

Dealing with multiple hostnames can be tricky to get working so I think we should be able to get things working without having to abandon the osg.cancercomputer.com FQDN. Setting &#39;NETWORK_HOSTNAME=osg.cancercomputer.com&#39; should result in FULL_HOSTNAME being set to the proper FQDN (after restarting the condor-ce service). If that doesn&#39;t work, I&#39;d be interested in the &#96;condor_ce_config_val -dump&#96; and the aforementioned logs.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1470687601'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T20:20:01+00:00">Aug 8, 2016 08:20 PM UTC</time><a class="anchor" name="1470687601">&nbsp;</a></div><pre>Hi Brian, everyone -- apologies for the delay, I thought I had posted a message to this regard on Friday.

Yes, I do seem to be having some issues with htcondor-ce, specifically related to the hostname and FQDN.

The server&#39;s actual hostname is &#39;miron.cancercomputer.com&#39; locally (that is, it&#39;s a private FQDN), but I have specified &#39;osg.cancercomputer.com&#39; map to the same ip addresses (including 127.0.0.1 in miron&#39;s hosts file).  I have tried modifying values for NETWORK_HOSTNAME, NETWORK_INTERFACE, HOST_ALIAS, PRIVATE_NETWORK_NAME, etc. in condor-ce/config.d/99-local.conf , and even attempted to override FULL_HOSTNAME and other variables that are present in the other .conf files, to no avail.  I&#39;ve reviewed the documentation about this but I can&#39;t seem to find enough information on what to do or set here.  I think i&#39;ve gone through pretty well every permutation of settings that I can do, and I think all that&#39;s left at this point is to abandon &#39;osg.cancercomputer.com&#39; and use the private FQDN publically.

If anyone has any easier suggestions, please let me know, otherwise I&#39;ll start the new cert request and update the resource records on OIM.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1470682028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T18:47:08+00:00">Aug 8, 2016 06:47 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470682028">&nbsp;</a></div><pre>Ian,

I get an error when trying to contact your CE&#58;

$ condor_ping -name osg.cancercomputer.com -pool osg.cancercomputer.com&#58;9619 -verbose WRITE
ERROR&#58; couldn&#39;t locate osg.cancercomputer.com!

But ping and telnet seem to be working ok. This error looks like there may be issues with the HTCondor-CE daemons reporting properly to their collector daemon. What&#39;s the output of condor_status? Could you perform the following steps for me?

1. Set &#39;ALL_DEBUG = D_FULLDEBUG&#39; in a file in /etc/condor-ce/config.d/
2. Run &#96;condor_ce_reconfig&#96;
3. Attach /var/log/condor-ce/SchedLog and /var/log/condor-ce/CollectorLog

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1470334990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-04T18:23:10+00:00">Aug 4, 2016 06:23 PM UTC</time> by <b>i.stakenvicius@....</b><a class="anchor" name="1470334990">&nbsp;</a></div><pre>Hi Brian -- until I disabled SELinux about an hour ago, condor-ce would not come anywhere close to starting.  So if you tried prior to that it would be why.

Yes, the CE is behind a firewall / NAT gateway, but the ports are forwarded as per the firewall guide so that shouldn&#39;t be getting in the way.  I will have access to the CE in about an hour and will double check the config and make sure condor-ce hasn&#39;t crashed out or anything.

Ian

<font color='#7F7E6F'>&#62; On Aug 4, 2016, at 2&#58;02 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1470333730'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-04T18:02:10+00:00">Aug 4, 2016 06:02 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1470333730">&nbsp;</a></div><pre>Ian,

Sorry about the radio silence about SELinux, we hope to have a full set
of rules out there in the next few weeks. I was looking to submit some
jobs to your CE but I wasn&#39;t able to reach it. Are you guys firewalling
incoming traffic?

Thanks,
Brian

On 08/04/2016 12&#58;16 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30736#1470331003'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-04T17:16:43+00:00">Aug 4, 2016 05:16 PM UTC</time><a class="anchor" name="1470331003">&nbsp;</a></div><pre>OK, so I&#39;ve given up on SELinux for now and just disabled it on our CE.  HTCondor is running and RSV seemed to complete successfully.

I won&#39;t be available to monitor things much for the rest of the day today, but we should be good to go for testing tomorrow.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1469810147'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-29T16:35:47+00:00">Jul 29, 2016 04:35 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1469810147">&nbsp;</a></div><pre>Hey Ian,

I&#39;ve updated the NAD and added myself and Tim Theisen to the ticket. Tim&#39;s been working on SELinux rules for HTCondor so instead of duplicating effort, he should be able to give you some of what he&#39;s already worked on.

Cheers,
Brian</pre></div><div class='update_description'><i onclick="document.location='30736#1469808280'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-29T16:04:40+00:00">Jul 29, 2016 04:04 PM UTC</time><a class="anchor" name="1469808280">&nbsp;</a></div><pre>Hi everyone -- so it looks like condor-ce&#39;s installation really doesn&#39;t play nice with SElinux installed; the startup scripts are erroring out left and right, and on top of that I can&#39;t start &#39;condor_master&#39; by hand either if I point it to the condor-ce configuration (it does start but of course errors out due to erroneous configuration, if i don&#39;t load the condor-ce environment variables first).

This is going to take a bit of time to resolve; can we push the next action deadline to say, August 5th?  I should have it fixed (and patches submitted for SELinux policy) by that time.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1469801545'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-29T14:12:25+00:00">Jul 29, 2016 02:12 PM UTC</time><a class="anchor" name="1469801545">&nbsp;</a></div><pre>Hi everyone -- the resource record has been added, and our CE now has a host cert/key and an rsv cert/key.

I have a bit of a battle right now with the SELinux configuration of Centos-7.2.1511 preventing condor-ce from starting , but once that is sorted out we should be good to go for a test.  I&#39;ll keep you posted.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1469746870'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-28T23:01:10+00:00">Jul 28, 2016 11:01 PM UTC</time><a class="anchor" name="1469746870">&nbsp;</a></div><pre>Note - OIM resource registration&#58;  <a href='https&#58;//ticket.grid.iu.edu/goc/30746' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/30746</a>

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1469745407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-28T22:36:47+00:00">Jul 28, 2016 10:36 PM UTC</time><a class="anchor" name="1469745407">&nbsp;</a></div><pre>Hi Ian,

I&#39;ve mocked up an entry in our test factory configuration. Let us know when you&#39;ve completed the OSG/OIM registration process and we&#39;ll proceed.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1469736416'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-28T20:06:56+00:00">Jul 28, 2016 08:06 PM UTC</time><a class="anchor" name="1469736416">&nbsp;</a></div><pre>Most of this will likely be clear once I finish registering the resource in OIM, however&#58;

1 - the CE is the head/gateway node for 8 other worker nodes; its running HTCondor-CE with gridmap and will also have GridFTP and RSV running
2 - OS is Centos-7.2.1511 on all nodes (including the CE)
3 - The local batch system is PBS (torque), which came prebuilt to support both NUMA and cpusets.
4 - Each WN is a 2-cpu system with 6 cores per CPU.  PBS on each WN is configured for NUMA so it&#39;s more like 16 1x6-core nodes.
5 - We can support multi-core jobs, likely up to the number of cores available per NUMA-node (so 6)
6 - There is 2GB RAM per core available.
7 - We haven&#39;t determined any particular walltime requirements yet; I&#39;ve set it to 3 days in the osg config files.
8 - So far we&#39;ve been advised to only join the OSG VO.  As per Kyle&#39;s original post, we have some specific requirements for the types of jobs we want to crunch, specifically those that are in support of cancer research.  Once testing has confirmed we&#39;re ready to go, we will hopefully be able to work towards running production SPLinter jobs.
9 - That is likely a question we should be asking you. &#58;)

Once GridFTP and RSV are online (2-3 hours from now max), I&#39;ll submit the resource registration for &#39;CancerComputer_Miron_CE&#39; (in the &#39;CancerComputer_Miron&#39; group) and then hopefully I will be able to generate host keys for it without issue.  Once host keys are installed, I think we will be good to go to attempt to receive jobs?

Per advice of Elizabeth, we will have glexec installed on all of the WN&#39;s.  I&#39;ve got the &#39;osg&#39; user already propagated across all WN&#39;s and shared storage is in place.  This is a small cluster at the moment and we want to get moving, so we haven&#39;t set up LDAP or anything; I&#39;m just synchronizing users by hand (with the help of scripts) right now.  I am still working on determining the best means of setting and allocating OSG_WN_TMP, as well as doing the cleanup.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='30736#1469734086'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-28T19:28:06+00:00">Jul 28, 2016 07:28 PM UTC</time><a class="anchor" name="1469734086">&nbsp;</a></div><pre>Hi all,

We&#39;ll need some of the standard information to get started here. For example,

1. What kind of CE is this?
2. What OS is running on the worker nodes behind the CE?
3. What kind of batch system is being used at the site?
4. How many cores are available on the worker nodes?
5. Did we want to setup multicore glideins? Or do they expect to run only single core glideins?
6. How much memory per core is available on the worker nodes?
7. What is the maximum wall clock time allowed for gldieins / user jobs by the batch system?
8. What VOs should site support?
9. Are there any other requirements?

Okay, I think that should help us get started.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='30736#1469647446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T19:24:06+00:00">Jul 27, 2016 07:24 PM UTC</time> by <b>echism</b><a class="anchor" name="1469647446">&nbsp;</a></div><pre>Hello, Roy!

Feel free to send me any questions or concerns.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='30736#1469643246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T18:14:06+00:00">Jul 27, 2016 06:14 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1469643246">&nbsp;</a></div><pre>Adding Elizabeth.</pre></div><div class='update_description'><i onclick="document.location='30736#1469643196'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T18:13:16+00:00">Jul 27, 2016 06:13 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1469643196">&nbsp;</a></div><pre>Glidein Factory Support Crew,

I believe Rob Quick has talked to you about this.  Cancercomputer.com is a resource that we are bringing online that has very specific requirements about what types of jobs are are allowed to be run on it.  We will handle that once we confirm that jobs run there. They are very close to beginning the testing phase of their resource and since I will be out for the next two days, I wanted to go ahead and get a ticket started to add them into the testing factory once they are ready.  Hopefully things will go smoothly and they will have some test jobs running there. If not, we&#39;ll pick up on that when I get back.

So, in short, I am preemptively creating this ticket so that Roy and Ian have contacts beyond me to talk to while I am out.  I will assign Elizabeth to this ticket and she can help them with certificate issues, etc and the Glidein team can handle factory stuff.

Thanks!

-Kyle</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30736">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
