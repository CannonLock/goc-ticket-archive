<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[32178] URGENT&#58; gfal-rm error since upgrade to OSG 3.3.18 causing rsv probe failure</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=32178" method="post">
<div class="page-header">
    <h3><span class="muted">32178</span> / URGENT&#58; gfal-rm error since upgrade to OSG 3.3.18 causing rsv probe failure</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Bob Ball</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">High</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolve</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-01-06</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/32178", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/32178?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/32178?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20URGENT%26%2358%3B%20gfal-rm%20error%20since%20upgrade%20to%20OSG%203.3.18%20causing%20rsv%20probe%20failure%20ISSUE%3D32178%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='32178#1483712116'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-06T14:15:16+00:00">Jan 6, 2017 02:15 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1483712116">&nbsp;</a></div><pre>OK, the problem was the exclusion of the CGSI-gSOAP rpm that I had from
the epel repo, dating back to osg 3.2.  I removed the exclusion, updated
that and the gfal2* rpms, and all is now working.

I also brought up to date the gfal2-util and srm-ifce rpms that I had
reverted on one gatekeeper, and all gatekeepers are now happy.

Thanks for the help on this.  The ticket can be closed now, from my view.

On 1/5/2017 8&#58;56 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1483624573'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-05T13:56:13+00:00">Jan 5, 2017 01:56 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1483624573">&nbsp;</a></div><pre>From back in the days of osg 3.2, I had this in my epel.repo
exclude=cfengine,CGSI-gSOAP*,dcap*,globus*,lcgdm-libs*,lcg-infosites*,lfc*,myproxy*,voms*,dpm-libs*,check-mk*,condor*,fusioninventory-agent*

So, I see now that OSG is no longer providing this, I guess I should
remove the exclusion and see what happens.

c-ares seems only to be in the sl repo though, and our installed
versions matches the most recent which is listed as available.

[root@gate03 ~]# yum --enablerepo=osg list &#34;c-ares*&#34;
Loaded plugins&#58; fusioninventory-agent, priorities, security
316 packages excluded due to repository priority protections
Installed Packages
c-ares.x86_64 1.10.0-3.el6                     @sl/6.6
Available Packages
c-ares.i686 1.10.0-3.el6                     sl
c-ares-devel.i686 1.10.0-3.el6                     sl
c-ares-devel.x86_64 1.10.0-3.el6                     sl
You have new mail in /var/spool/mail/root
[root@gate03 ~]# grep -i c-ares /etc/yum.repos.d/*.repo
[root@gate03 ~]#

There looks to be a newer version now of htcondor-ce within the osg
repos now, but that is to be expected I guess with the 3.3.19 release.

On 1/4/2017 3&#58;16 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1483564083'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T21:08:03+00:00">Jan 4, 2017 09:08 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1483564083">&nbsp;</a></div><pre>My main thought here is that CGSI-gSOAP (which is a dependency of srm-ifce) may need to be updated along with srm-ifce for the latest gfal2* packages to work properly.  But, that&#39;s just speculation, and Mat may have other thoughts.

(c-ares is required by gridsite-libs, but does not seem to be required by gfal2*, so this is probably not relevant.)

I&#39;m not particularly worried about the other outdated packages or the condor build flavor differences at the moment.

Carl</pre></div><div class='update_description'><i onclick="document.location='32178#1483563372'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T20:56:12+00:00">Jan 4, 2017 08:56 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1483563372">&nbsp;</a></div><pre>The gfal2 rpms were the set that I was asked to revert.  Similarly on
gate02 I had downgraded gfal2-util and srm-ifce to the indicated
versions.  Downgrading those 2 made no difference, and on
gate03.aglt2.org they remain at the version from our osg 3.3.18 update.
On gate03, ONLY the 5 gfal2 rpms were down-graded, and gfal-copy begin
to work.  I think I also did a &#34;yum erase gfal&#34; on gate03 as it was from
the older osg 3.2 installation.

On gate03&#58;
[ball@gate03&#58;~]$ rpm -qa|grep -e gfal2-util -e srm-ifce
srm-ifce-1.24.1-1.el6.x86_64
gfal2-util-1.4.0-1.el6.noarch

Yes, I try to keep the HTcondor rpms identical across our site, so use
the set from uw, not the osg set, on the gatekeepers.  In the upgrade
process I stopped HTcondor, updated that rpm set, then did the OSG
update, all followed by a reboot.  Is this going to be a big deal?  As
you note, this will have nothing to do with the gfal-copy problem.

On 1/4/2017 3&#58;16 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1483561005'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T20:16:45+00:00">Jan 4, 2017 08:16 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1483561005">&nbsp;</a></div><pre>Here are a few version differences that stand out&#58;

Package            gate_02     mwt2
-----------------  ----------  ----------
CGSI-gSOAP         1.3.6-5     1.3.10-1
c-ares             1.10.0-3    1.7.0-6
gfal2              2.11.1-1    2.12.3-2
gfal2-plugin-*     2.11.1-1    2.12.3-2
gfal2-util         1.3.2-1     1.4.0-1
htcondor-ce*       2.0.11-1    2.1.1-1
osg-configure*     1.4.2-2     1.5.3-1
srm-ifce           1.23.3-1    1.24.1-1

not sure how relevant each is, but I think CGSI-gSOAP, c-ares & srm-ifce are all tied up with gfal2, somehow.

Looks like there are also several other out-of-date osg packages, but they aren&#39;t obviously different between the two profiles.  Also interesting, it looks like mwt2 has an osg condor build but gate_02 has a non-osg build.  (Not that that is necessarily relevant.)

Mat, please jump in if you have any thoughts.

Carl</pre></div><div class='update_description'><i onclick="document.location='32178#1483556236'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T18:57:16+00:00">Jan 4, 2017 06:57 PM UTC</time><a class="anchor" name="1483556236">&nbsp;</a></div><pre>The MWT2 osg-profile has now been attached.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=roball/CN=372260/CN=Robert Ball</pre></div><div class='update_description'><i onclick="document.location='32178#1483555482'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T18:44:42+00:00">Jan 4, 2017 06:44 PM UTC</time><a class="anchor" name="1483555482">&nbsp;</a></div><pre>gate02_rpms.txt and osg-profile.txt have been added to the ticket, both representing the current state of one of the affected AGLT2 gate keepers, gate02.grid.umich.edu.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=roball/CN=372260/CN=Robert Ball</pre></div><div class='update_description'><i onclick="document.location='32178#1483553839'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T18:17:19+00:00">Jan 4, 2017 06:17 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1483553839">&nbsp;</a></div><pre>I&#39;ll ask Dave Lesny to supply one for the MWT2, probably
osg-system-profiler output as I&#39;m pretty sure they take the OSG software
from cvmfs.  For AGLT2 I&#39;ll get that same output shortly.

On 1/4/2017 1&#58;09 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1483553391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T18:09:51+00:00">Jan 4, 2017 06:09 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1483553391">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; So, there is still an issue here.  2.12.2 works at the MWT2, but not for</font>
<font color='#7F7E6F'>&#62; us?  Why would that be?</font>

It might shed some light on things to have a full rpm list (rpm -qa or osg-system-profiler output) on the systems that work and don&#39;t work.  If gfal 2.12.2 works one place and not another, maybe there are version differences in other dependent packages...

Carl</pre></div><div class='update_description'><i onclick="document.location='32178#1483474096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-03T20:08:16+00:00">Jan 3, 2017 08:08 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1483474096">&nbsp;</a></div><pre>I&#39;m still examining this.  It appears our last upgrade went from gfal2
version 2.11.0 to either 2.12.2 or 2.12.3, depending on which gatekeeper
is under consideration (neither is working).  On an even earlier version
of gfal2, where gfal-copy is working (essentially one of our WN), I ran
gfal-copy with -vvv, and see an actionable divergence here&#58;

Works&#58;
DEBUG    Endpoint not SRM&#58; file&#58;///tmp/space-usage.json
DEBUG    Service endpoint resolution, resolved from FULL SURL
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
-&#62; httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG    SRM context recycled for
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
INFO     Endpoint of type dCache&#58;
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
DEBUG    No Castor endpoint. Honor configuration for SESSION_REUSE
event&#58; [1483470131074] BOTH   SRM       PREPARE&#58;ENTER
INFO     Event triggered&#58; BOTH SRM PREPARE&#58;ENTER
DEBUG                   Checksum check enabled&#58; 0
DEBUG                   No SRM resolution needed on
file&#58;///tmp/space-usage.json
DEBUG                   PUT surl -&#62; turl resolution start

Fails&#58;
DEBUG    Endpoint not SRM&#58; file&#58;///tmp/space-usage.json
DEBUG    Service endpoint resolution, resolved from FULL SURL
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
-&#62; httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG    SRM context recycled for
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
WARNING  Failed to ping
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
INFO     Found a Castor endpoint, or could not determine version!
Disabling GridFTP session reuse and stat on open
event&#58; [1483470097023] BOTH   SRM       PREPARE&#58;ENTER
<div id='show_1721923179' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1721923179'>INFO     Event triggered&#58; BOTH SRM PREPARE&#58;ENTER
DEBUG                   Checksum check enabled&#58; 0
DEBUG                   No SRM resolution needed on
file&#58;///tmp/space-usage.json
DEBUG                   PUT surl -&#62; turl resolution start

Castor endpoint found????

The next divergence comes when the attempt is made to delete the file in
the srm

Works&#58;
DEBUG
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
deleted with success
event&#58; [1483470131086] DEST   SRM       OVERWRITE       Deleted
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
INFO     Event triggered&#58; DESTINATION SRM OVERWRITE Deleted
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>

Fails&#58;
WARNING  Transfer failed with&#58; [srm_resolve_turls][srm_resolve_put_turl]
DESTINATION OVERWRITE
[srm_plugin_prepare_dest_put][srm_plugin_delete_existing_copy][gfal_srm_unlinkG][gfal_srm_report_error]
srm-ifce err&#58; Communication error on send, err&#58; [SE][srmRm][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on
gate03.aglt2.org reports Success

INFO     Rolling back PUT

The good session continues, the Fail session then terminates.

So, rolling back the gfal2 rpms now....  I picked them up from the
privided kojipkgs URL, and downgraded&#58;

rpm -Uvh --force gfal2-2.11.1-1.el6.x86_64.rpm
gfal2-plugin-file-2.11.1-1.el6.x86_64.rpm
gfal2-plugin-gridftp-2.11.1-1.el6.x86_64.rpm
gfal2-plugin-srm-2.11.1-1.el6.x86_64.rpm
gfal2-plugin-xrootd-2.11.1-1.el6.x86_64.rpm

gfal-copy now works!  As of a few minutes ago, or as soon as rsv
reports, the srmcp-readwrite probe will go green.

[ball@gate03&#58;tmp]$ gfal-copy -V
gfal2-util version 1.4.0 (gfal2 2.11.1)
file-2.11.1
gridftp-2.11.1
srm-2.11.1
xrootd-2.11.1

So, there is still an issue here.  2.12.2 works at the MWT2, but not for
us?  Why would that be?  What incompatibility caused this, and when will
it again rear its head?  Could it be related to the full history of our
gatekeepers, and that they are not, ever, a clean install?  We are
working now, but I&#39;d really like to get an understanding of this.  I&#39;m
willing at any time to take our test gatekeeper and utilize this to help
understand the issue, if you would like me to do that.

Please let me know any information that you may need.

bob

On 12/24/2016 5&#58;33 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1721923179').click(function() {
            $('#detail_1721923179').slideDown("normal");
            $('#show_1721923179').hide();
            $('#hide_1721923179').show();
        });
        $('#hide_1721923179').click(function() {
            $('#detail_1721923179').slideUp();
            $('#hide_1721923179').hide();
            $('#show_1721923179').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='32178#1483457649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-03T15:34:09+00:00">Jan 3, 2017 03:34 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1483457649">&nbsp;</a></div><pre>Thanks for the update, Bob. Let us know what you are  able to find out.

~Chris</pre></div><div class='update_description'><i onclick="document.location='32178#1483453394'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-03T14:23:14+00:00">Jan 3, 2017 02:23 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1483453394">&nbsp;</a></div><pre>I&#39;m back in my office today and will be working on this sometime after I
catch up on my email backlog.

bob

On 12/27/2016 3&#58;55 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1482872135'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-27T20:55:35+00:00">Dec 27, 2016 08:55 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1482872135">&nbsp;</a></div><pre>Hi Bob,

Please update this when you can. I&#39;ll check back in a few.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='32178#1482618790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T22:33:10+00:00">Dec 24, 2016 10:33 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1482618790">&nbsp;</a></div><pre>I&#39;m visiting my son&#39;s family over Christmas.  Perhaps in a few days....

Merry Christmas to all of you.

bob

On 12/23/2016 1&#58;14 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1482516873'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T18:14:33+00:00">Dec 23, 2016 06:14 PM UTC</time> by <b>echism</b><a class="anchor" name="1482516873">&nbsp;</a></div><pre>Hey Bob,

Did you get to this?

Thanks</pre></div><div class='update_description'><i onclick="document.location='32178#1482360129'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T22:42:09+00:00">Dec 21, 2016 10:42 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1482360129">&nbsp;</a></div><pre>OK, thanks. Guests imminent. Maybe tomorrow if I can find the time as we
prep to be away for most of a week.

bob

On 12/21/2016 5&#58;30 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1482359429'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T22:30:29+00:00">Dec 21, 2016 10:30 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1482359429">&nbsp;</a></div><pre>We could try downgrading gfal2 itself - that one&#39;s split into a main package (&#34;gfal2&#34;) and subpackages (&#34;gfal2-plugin-*&#34;). There are download links here&#58;
<a href='https&#58;//koji.fedoraproject.org/koji/buildinfo?buildID=755920' target='_blank' rel='nofollow'>https&#58;//koji.fedoraproject.org/koji/buildinfo?buildID=755920</a>

-Mat</pre></div><div class='update_description'><i onclick="document.location='32178#1482357250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T21:54:10+00:00">Dec 21, 2016 09:54 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1482357250">&nbsp;</a></div><pre>dang, no luck.

-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-copy -f
file&#58;///var/rsv/space-usage.json
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
Copying file&#58;///var/rsv/space-usage.json   [FAILED]  after 0s
gfal-copy error&#58; 70 (Communication error on send) - DESTINATION
OVERWRITE srm-ifce err&#58; Communication error on send, err&#58; [SE][srmRm][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on
gate02.grid.umich.edu reports Success

-sh-4.1$ rpm -qa|grep -e gfal2-util -e srm-ifce
gfal2-util-1.3.2-1.el6.noarch
srm-ifce-1.23.3-1.el6.x86_64

bob

On 12/21/2016 4&#58;48 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1482356901'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T21:48:21+00:00">Dec 21, 2016 09:48 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1482356901">&nbsp;</a></div><pre>Yes, try that one too.

<a href='https&#58;//kojipkgs.fedoraproject.org//packages/srm-ifce/1.23.3/1.el6/x86_64/srm-ifce-1.23.3-1.el6.x86_64.rpm' target='_blank' rel='nofollow'>https&#58;//kojipkgs.fedoraproject.org//packages/srm-ifce/1.23.3/1.el6/x86_64/srm-ifce-1.23.3-1.el6.x86_64.rpm</a>

-Mat</pre></div><div class='update_description'><i onclick="document.location='32178#1482356530'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T21:42:10+00:00">Dec 21, 2016 09:42 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1482356530">&nbsp;</a></div><pre>Dec 12 12&#58;12&#58;25 Updated&#58; gfal2-util-1.4.0-1.el6.noarch

So, yes, definitely updated.  Reverted to the 1.3.2-1.el6 rpm you found,
following your directions, but to no avail&#58;

-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-copy -f
file&#58;///var/rsv/space-usage.json
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
Copying file&#58;///var/rsv/space-usage.json   [FAILED]  after 0s
gfal-copy error&#58; 70 (Communication error on send) - DESTINATION
OVERWRITE srm-ifce err&#58; Communication error on send, err&#58; [SE][srmRm][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on
gate02.grid.umich.edu reports Success

I note the srm-ifce rpm also updated from 1.23.3-1 to 1.24.1-1 at the
same time
Dec 12 12&#58;10&#58;10 Updated&#58; srm-ifce-1.24.1-1.el6.x86_64

Is it safe to try rolling back that one as well?

bob

On 12/21/2016 2&#58;52 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1482349940'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T19:52:20+00:00">Dec 21, 2016 07:52 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1482349940">&nbsp;</a></div><pre>Hi Bob,

gfal-copy comes from the gfal2-util package, which is provided by EPEL. A new version, gfal2-util-1.4.0 was released in early November - perhaps that got updated?

I tracked down an earlier version.
EL6&#58; <a href='https&#58;//kojipkgs.fedoraproject.org//packages/gfal2-util/1.3.2/1.el6/noarch/gfal2-util-1.3.2-1.el6.noarch.rpm' target='_blank' rel='nofollow'>https&#58;//kojipkgs.fedoraproject.org//packages/gfal2-util/1.3.2/1.el6/noarch/gfal2-util-1.3.2-1.el6.noarch.rpm</a>
EL7&#58; <a href='https&#58;//kojipkgs.fedoraproject.org//packages/gfal2-util/1.3.2/1.el7/noarch/gfal2-util-1.3.2-1.el7.noarch.rpm' target='_blank' rel='nofollow'>https&#58;//kojipkgs.fedoraproject.org//packages/gfal2-util/1.3.2/1.el7/noarch/gfal2-util-1.3.2-1.el7.noarch.rpm</a>

Download the appropriate RPM and install it via &#34;rpm -Uvh --force gfal2-util-1.3.2-*.rpm&#34; and try your srm-copy commands again; if they work, the problem is with the new version of gfal2-util and we can file a bug report upstream.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='32178#1482345033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T18:30:33+00:00">Dec 21, 2016 06:30 PM UTC</time> by <b>echism</b><a class="anchor" name="1482345033">&nbsp;</a></div><pre>Understanding things are a little wonky this time of year, I inquired with Brian Lin (who will not be available today). He says all the Madison folks are working today, I&#39;ve CC&#39;d three of them individually, whoever sees this first, please bump it to the top of the queue.</pre></div><div class='update_description'><i onclick="document.location='32178#1482340618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T17:16:58+00:00">Dec 21, 2016 05:16 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1482340618">&nbsp;</a></div><pre>Setting ticket to High at the request of Bob B via email below.</pre></div><div class='update_description'><i onclick="document.location='32178#1482339979'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T17:06:19+00:00">Dec 21, 2016 05:06 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1482339979">&nbsp;</a></div><pre>This is urgent as our ATLAS availability has been zero since the upgrade on Dec 12.  I will be available via Email only though from this point on during the holiday, but I will definitely check in and provide you with all requested information.

Thanks,
bob</pre></div><div class='update_description'><i onclick="document.location='32178#1482339975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T17:06:15+00:00">Dec 21, 2016 05:06 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1482339975">&nbsp;</a></div><pre>This is urgent as our ATLAS availability has been zero since the upgrade
on Dec 12.  I will be available via Email only though from this point on
during the holiday, but I will definitely check in and provide you with
all requested information.

Thanks,
bob

On 12/21/2016 11&#58;59 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32178#1482339554'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T16:59:14+00:00">Dec 21, 2016 04:59 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1482339554">&nbsp;</a></div><pre>We updated to OSG 3.3.18 on our gatekeepers on December 12.  I have just noticed that, since that time, gfal-copy is ignoring the -f switch.
This example shows the output of gfal-rm, for example

-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-rm <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
FAILED
gfal-rm error&#58; 70 (Communication error on send) - srm-ifce err&#58;
Communication error on send, err&#58; [SE][Ls][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on gate02.grid.umich.edu reports Success

Similarly, gfal-copy with the &#34;-f&#34; switch no longer works&#58;
-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-copy -f file&#58;///var/rsv/space-usage.json <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
Copying file&#58;///var/rsv/space-usage.json   [FAILED]  after 0s
gfal-copy error&#58; 70 (Communication error on send) - DESTINATION OVERWRITE srm-ifce err&#58; Communication error on send, err&#58; [SE][srmRm][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on gate02.grid.umich.edu reports Success

The time at which this broke is consistent with the upgrade, and there were no other software changes at that time.  The srm-ifce rpm is from epel, version 1.24.1-1

The reverse also fails, trying to copy the file back out of dCache&#58;

-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-copy <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
file&#58;///var/rsv/space-usage_test.json
gfal-copy error&#58; 70 (Communication error on send) - Could not stat the
source&#58; srm-ifce err&#58; Communication error on send, err&#58; [SE][Ls][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on gate02.grid.umich.edu reports Success

This seems clearly to be a software issue on the gatekeeper, but I don&#39;t know where to go from here with this.

Oh, darn, now that I look, our srmcp-readwrite rsv probe has been failing since the upgrade as well.  (See rsv history for AGLT2 since December 12).  Is any of this fixed in 3.3.19?

A -vvv output is shown here.

-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-copy <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
file&#58;///var/rsv/space-usage_test.json
gfal-copy error&#58; 70 (Communication error on send) - Could not stat the
<div id='show_135165916' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_135165916'>source&#58; srm-ifce err&#58; Communication error on send, err&#58; [SE][Ls][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on gate02.grid.umich.edu reports Success

-sh-4.1$ man gfal-copy
-sh-4.1$ export X509_USER_PROXY=/tmp/x509up_srmcp; gfal-copy -f -vvv file&#58;///var/rsv/space-usage.json <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
DEBUG     no GFAL_CONFIG_DIR env var found, try to load configuration
from default directory /etc/gfal2.d/
DEBUG     try to load configuration file
/etc/gfal2.d//xrootd_plugin.conf ...
DEBUG     try to load configuration file /etc/gfal2.d//srm_plugin.conf ...
DEBUG     try to load configuration file
/etc/gfal2.d//gsiftp_plugin.conf ...
DEBUG     try to load configuration file /etc/gfal2.d//gfal2_core.conf ...
DEBUG     try to load configuration file /etc/gfal2.d//bdii.conf ...
DEBUG    Using credentials from X509_USER_PROXY
DEBUG    Certificate&#58; /tmp/x509up_srmcp
DEBUG    Private key&#58; /tmp/x509up_srmcp
DEBUG    ... no GFAL_PLUGIN_DIR environment variable specified, try to
load plugins in the default directory &#58; /usr/lib64/gfal2-plugins/
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_gridftp.so
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_file.so
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_xrootd.so
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_srm.so
DEBUG     -&#62; [gridftp_plugin] try to load ..
DEBUG     define GSIFTP session re-use to TRUE
DEBUG     -&#62; [gridftp_plugin] loaded ..
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_gridftp.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_gridftp.so
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_file.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_file.so
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_xrootd.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_xrootd.so
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_srm.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_srm.so
DEBUG     plugin priority order&#58; gridftp-2.12.3 -&#62; file-2.12.3 -&#62;
xrootd-2.12.3 -&#62; srm-2.12.3 -&#62;
DEBUG    Service endpoint resolution, resolved from FULL SURL
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
-&#62; httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG    SRM context not available
DEBUG     SRM connection keep-alive 1
DEBUG     SRM operation timeout 180
DEBUG     SRM connection timeout 60
DEBUG     SRM using certificate /tmp/x509up_srmcp
DEBUG     SRM using private key /tmp/x509up_srmcp
DEBUG       [gfal_srm_statG] try to stat file
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
DEBUG    Service endpoint resolution, resolved from FULL SURL
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
-&#62; httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG    SRM context recycled for
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG       [gfal_srm_statG] try to stat file
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
Copying 1337 bytes file&#58;///var/rsv/space-usage.json =&#62; <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
DEBUG     -&#62; Gfal&#58;&#58;Transfer&#58;&#58;FileCopy
event&#58; [1482337975372] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ENTER
INFO     Event triggered&#58; BOTH GFAL2&#58;CORE&#58;COPY LIST&#58;ENTER
event&#58; [1482337975372] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ITEM
file&#58;///var/rsv/space-usage.json =&#62;
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
INFO     Event triggered&#58; BOTH GFAL2&#58;CORE&#58;COPY LIST&#58;ITEM
file&#58;///var/rsv/space-usage.json =&#62;
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
event&#58; [1482337975372] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;EXIT
INFO     Event triggered&#58; BOTH GFAL2&#58;CORE&#58;COPY LIST&#58;EXIT
DEBUG    Endpoint not SRM&#58; file&#58;///var/rsv/space-usage.json
DEBUG    Service endpoint resolution, resolved from FULL SURL
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
-&#62; httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG    SRM context recycled for
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
WARNING  Failed to ping
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
INFO     Found a Castor endpoint, or could not determine version!
Disabling GridFTP session reuse and stat on open
event&#58; [1482337975373] BOTH   SRM       PREPARE&#58;ENTER
INFO     Event triggered&#58; BOTH SRM PREPARE&#58;ENTER
DEBUG                   Checksum check enabled&#58; 0
DEBUG                   No SRM resolution needed on
file&#58;///var/rsv/space-usage.json
DEBUG                   PUT surl -&#62; turl resolution start
DEBUG    Trying to delete
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
DEBUG    Service endpoint resolution, resolved from FULL SURL
<a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/space-usage.json</a>
-&#62; httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
DEBUG    SRM context recycled for
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2
WARNING  Transfer failed with&#58; [srm_resolve_turls][srm_resolve_put_turl]
DESTINATION OVERWRITE
[srm_plugin_prepare_dest_put][srm_plugin_delete_existing_copy][gfal_srm_unlinkG][gfal_srm_report_error]
srm-ifce err&#58; Communication error on send, err&#58; [SE][srmRm][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on gate02.grid.umich.edu reports Success

INFO     Rolling back PUT
DEBUG     &#60;- Gfal&#58;&#58;Transfer&#58;&#58;FileCopy
gfal-copy error&#58; 70 (Communication error on send) - [gfalt_copy_file][perform_copy][srm_plugin_filecopy][srm_resolve_turls][srm_resolve_put_turl]
DESTINATION OVERWRITE
[srm_plugin_prepare_dest_put][srm_plugin_delete_existing_copy][gfal_srm_unlinkG][gfal_srm_report_error]
srm-ifce err&#58; Communication error on send, err&#58; [SE][srmRm][]
httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on gate02.grid.umich.edu reports Success

DEBUG    gridftp session cache garbage collection ...

bob

</div><script type='text/javascript'>
        $('#show_135165916').click(function() {
            $('#detail_135165916').slideDown("normal");
            $('#show_135165916').hide();
            $('#hide_135165916').show();
        });
        $('#hide_135165916').click(function() {
            $('#detail_135165916').slideUp();
            $('#hide_135165916').hide();
            $('#show_135165916').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F32178">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
