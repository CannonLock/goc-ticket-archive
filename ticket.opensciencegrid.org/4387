<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4387] VOMS server certificate for GROW expired</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4387" method="post">
<div class="page-header">
    <h3><span class="muted">4387</span> / VOMS server certificate for GROW expired</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Michael Thomas</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">watch for response from GROW</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-03-25</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=4387", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4387?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4387?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20VOMS%20server%20certificate%20for%20GROW%20expired%20ISSUE%3D4387%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4387#1205427340'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-13T16:55:40+00:00">Mar 13, 2008 04:55 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1205427340">&nbsp;</a></div><pre>Closing as GROW is being removed from the OSG published VOs list and being set as
inactive. Closing ticket.</pre></div><div class='update_description'><i onclick="document.location='4387#1205345734'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-12T18:15:34+00:00">Mar 12, 2008 06:15 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1205345734">&nbsp;</a></div><pre>I have sent a message to the OSG Facilities Group to remove the GROW VO and Resource.
Will update this when I hear back.</pre></div><div class='update_description'><i onclick="document.location='4387#1203349974'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-18T15:52:54+00:00">Feb 18, 2008 03:52 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1203349974">&nbsp;</a></div><pre>Jun,  Boyd,

Please let us know if someone at GROW can renew the GROW VOMS server certificate.
The GOC can help and answer any questions that you may have.
The GROW VOMS server cert has been expired for several months now.
--tom</pre></div><div class='update_description'><i onclick="document.location='4387#1202154822'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-04T19:53:42+00:00">Feb 4, 2008 07:53 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1202154822">&nbsp;</a></div><pre>From&#58; 	  weigand@....
Subject&#58; 	GROW VOMS certificate expired 11/30/2007
Date&#58; 	February 4, 2008 1&#58;30&#58;06 PM EST
To&#58; 	  goc@....
Reply-To&#58; 	  weigand@....

The http certificate on the GROW VOMS server is showing as having expired on 11/30/2007.  This is visible in
the GUMS gums-service-admin.log file when GUMS attempts to update the group memberships&#58;

04 Feb 2008 11&#58;58&#58;38,968 [WARN ]&#58; VOMSGroup&#58; remainderUrl=&#39;&#39; - voGroup=&#39;/grow&#39; - role=&#39;&#39; wasn&#39;t updated
successfully&#58;  [Couldn&#39;t retrieve users from VOMS server&#58; ; nested exception is&#58;
javax.net.ssl.SSLHandshakeException&#58; java.security.cert.CertificateExpiredException&#58; the Certificate for
CN=http/grow-voms.its.uiowa.edu,OU=Services,DC=doegrids,DC=org expired on Fri Nov 30 10&#58;51&#58;07 CST
2007]

John Weigand</pre></div><div class='update_description'><i onclick="document.location='4387#1201546049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-28T18:47:29+00:00">Jan 28, 2008 06:47 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1201546049">&nbsp;</a></div><pre>entry from 4491 regarding GROW VOMS failure in reporting to VOMS monitor..

GROW-GOC,

The GROW VOMS is failing to return results according to VOMS Monitor. The response is&#58;

voms search(<a href='https&#58;//grow-voms.its.uiowa.edu&#58;8443/edg-voms-admin/grow/services/VOMSAdmin?' target='_blank' rel='nofollow'>https&#58;//grow-voms.its.uiowa.edu&#58;8443/edg-voms-admin/grow/services/VOMSAdmin?</a>
me
thod=listMembers)&#58; Server closed connection without sending any data back

Exit with error(s) (code=64)

We can access the web interface, however. You may want to be sure you have the updated
DOEGrids CA certificate. The expiration of the old certificate last week (January 13th) caused
problems for the VOMS service hosted at the GOC. You can verify the expiration of this certificate
by issuing the command&#58;

openssl x509 -in 1c3f2ca8.0 -enddate (assuming you&#39;re in /etc/grid-security/certificates)

See the following email from Burt regarding this certificate expiration...

From&#58; burt@....
Subject&#58; Old DOEGrids CA certifcate expired today
Date&#58; January 10, 2008 12&#58;23&#58;56 PM EST
To&#58; OSG-GENERAL@...., CMS-T2@....
Security&#58; ￼Signed

Hi everyone,

The old DOEGrids CA certificate expired today. This probably doesn&#39;t affect grid sites since the new
cert has been in the distribution for some time, but I&#39;ve already heard from a few people confused
about why their grid authenticated web browsing isn&#39;t working.

If you have been having issues today with your browser, here&#39;s a walkthrough for firefox/mozilla&#58;

<div id='show_512319931' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_512319931'>Preferences-&#62;Privacy-&#62;Certificates-&#62;Manage Certificiates
Click Authorities Tab
Under ESnet, view the DOEGrids CA 1 certificate -- remove the one that expires on Jan 10 2008. If
you have the newer DOEGrids cert (expires in 2013), you&#39;re done. Otherwise&#58;

<a href='https&#58;//pki1.doegrids.org/ca/' target='_blank' rel='nofollow'>https&#58;//pki1.doegrids.org/ca/</a>
Click Retreieval Tab
Import CA Certificate Chain

- B
</div><script type='text/javascript'>
        $('#show_512319931').click(function() {
            $('#detail_512319931').slideDown("normal");
            $('#show_512319931').hide();
            $('#hide_512319931').show();
        });
        $('#hide_512319931').click(function() {
            $('#detail_512319931').slideUp();
            $('#hide_512319931').hide();
            $('#show_512319931').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4387#1200335922'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-14T18:38:42+00:00">Jan 14, 2008 06:38 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1200335922">&nbsp;</a></div><pre>From&#58; 	  goc@....
Subject&#58; 	GROW Support Center Contact Updates
Date&#58; 	January 14, 2008 1&#58;37&#58;37 PM EST
To&#58; 	  boyd-knosp@...., jun-ni@....

Boyd, Jun,

We were informed by Shaowen that you would be taking over support of the GROW VO at UIowa after Shaowen&#39;s
departure.
The OSG GOC currently has several tickets open with the GROW VO Support Center, ranging from issues with
GROW VO supported resources to the GROW VOMS Server Cert has expired.   We have actually resorted to
contacting admins of resources under GROW directly to get issues resolved, as the GROW Support Center email
has been unresponsive.  Shaowen actually informed us that the GROW Support Center email is still going to
former members of GROW (Shaowen, Anand, etc).   Do you know when you will be taking over this email
address?  Also, Shaowen informed us that you have a new technical person in training.  Please let us know if you
need any questions or need help with anything.
If possible, can someone look at getting the GROW VOMS server cert renewed asap?

Also, could someone from GROW attend the weekly OSG Operations meetings?
This way we can get an update, and also help if you have any questions.
Weekly meetings&#58; 12&#58;00pm Mondays Central Phone Number 510-665-5437, Meeting ID 786999
<a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Operations/ProductionMeetingMinutes' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Operations/ProductionMeetingMinutes</a>
***Please note, next week&#39;s meeting Monday Jan 21st will be canceled due to the holiday.

Thanks.
regards,
Tom

OSG Grid Operations Center
goc@...., 317-278-9699
web&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a>
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></pre></div><div class='update_description'><i onclick="document.location='4387#1199824655'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-08T20:37:35+00:00">Jan 8, 2008 08:37 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1199824655">&nbsp;</a></div><pre>called and left VM&#39;s for Boyd(319-335-6715) and Jun (319-335-5486)
Talked to Shaowen as well after the troubleshooting call and they should have a new technical person in training.
Also, currently the GOC support center email is still going to the previous GROW people (shaowen, anand, etc) and
this will need to be udpated to the new GROW members once they are back to strength..</pre></div><div class='update_description'><i onclick="document.location='4387#1199714060'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-07T13:54:20+00:00">Jan 7, 2008 01:54 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1199714060">&nbsp;</a></div><pre>GROW Support Center,

Do you have any updates to this issue?
Is there anything the OSG GOC can do to help with getting your VOMS server cert renewed?
Please reply and let us know if you have received this notice.
Let us know if you have any questions.
Thank you.

regards,
Tom</pre></div><div class='update_description'><i onclick="document.location='4387#1198090016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-19T18:46:56+00:00">Dec 19, 2007 06:46 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1198090016">&nbsp;</a></div><pre>Emailed new GROW contacts (Boyd, Jun) at UIowa, as provided by Shaowen in the master ticket (4248).
Also contacted a resource admin that has a resource under GROW, and he forwarded my request to get ahold of
someone at UIowa to former GROW contacts Anand, Eric.</pre></div><div class='update_description'><i onclick="document.location='4387#1197918706'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-17T19:11:46+00:00">Dec 17, 2007 07:11 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1197918706">&nbsp;</a></div><pre>mentioned at the Operations Call,
will try to contact admins of resources that are apart of GROW to see if i can get ahold of anyone.
also still have a pending ticket on GROW Support Center contact updates..</pre></div><div class='update_description'><i onclick="document.location='4387#1197642524'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-14T14:28:44+00:00">Dec 14, 2007 02:28 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1197642524">&nbsp;</a></div><pre>GROW Support Center,

Please see the below problem request from Michael (CMS) regarding
voms server certificate for GROW expired.
Let us know if you have any questions or need any help with getting this cert renewed.
Thanks.
--tom



Queues = Grid

Submitter Name&#58; Michael Thomas

Application System&#58; thomas@....

Your Resource/Service Name&#58;
CIT_CMS_T2

Your VO Support Center&#58;
CMS

Your Phone Number&#58;
1.626.395.4016

Description of Problem&#58;
voms server certificate for GROW expired on Nov. 30, according to my gums logs&#58;

javax.net.ssl.SSLHandshakeException&#58; java.security.cert.CertificateExpir
edException&#58; the Certificate for CN=http/grow-voms.its.uiowa.edu,OU=Services,DC=
doegrids,DC=org expired on Fri Nov 30 08&#58;51&#58;07 PST 2007]</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4387">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 4387});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
