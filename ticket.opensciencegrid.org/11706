<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[11706] Automatic interface test</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=11706" method="post">
<div class="page-header">
    <h3><span class="muted">11706</span> / Automatic interface test</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Guenter Grein</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Guenter Grein</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-03-06</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=79617">79617</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=21735">21735</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/11706", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/11706?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/11706?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Automatic%20interface%20test%20ISSUE%3D11706%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='11706#1331745825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-14T17:23:45+00:00">Mar 14, 2012 05:23 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1331745825">&nbsp;</a></div><pre>Communication lines have been set up for testing. Closing this ticket. We will talk internally about access for GGUS to the OSG Ticket service and I will talk with Guenter and GGUS developers at the EGI Community Forum.</pre></div><div class='update_description'><i onclick="document.location='11706#1330958919'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-05T14:48:39+00:00">Mar 5, 2012 02:48 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330958919">&nbsp;</a></div><pre>Rob,
Usually the changes made in GGUS are online on test system 1 week before for testing purposes.
I believe I have no access to the OSG test instance at the moment. Having access to the OSG test instance I can test the whole process by myself.
Is this possible? What do you think?
Guenter

-- by Günter Grein at Mon Mar 05 14&#58;47&#58;10 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617</a></pre></div><div class='update_description'><i onclick="document.location='11706#1330958106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-05T14:35:06+00:00">Mar 5, 2012 02:35 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1330958106">&nbsp;</a></div><pre>Guenter,

The problem with this scheme is that testing is done on release. We really need to test this prior to it going into the production environment. I agree we should also smoke test at release time to be sure nothing is broken. But prior to release testing will make sure our customers aren&#39;t affected.

In this case it was attachments, which was a new feature the community was not entirely dependent on... However, if we don&#39;t have prior to release testing we could have a full exchange outage, which would have a greater impact.

Rob

Rob</pre></div><div class='update_description'><i onclick="document.location='11706#1330957658'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-05T14:27:38+00:00">Mar 5, 2012 02:27 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330957658">&nbsp;</a></div><pre>Hi Rob,
We didn&#39;t decide yet but I guess it will be done similar to the alarm tests&#58; we create a test ticket in GGUS, add an attachment and assign it to e.g. OSG.
In OSG FP somebody adds another attachment and a comment and closes the test ticket afterwards.
So the only action on OSG would be adding a dummy attachment, a dummy comment and closing the ticket if everything works as designed.

Guenter

-- by Günter Grein at Mon Mar 05 14&#58;26&#58;32 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617</a></pre></div><div class='update_description'><i onclick="document.location='11706#1330956941'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-05T14:15:41+00:00">Mar 5, 2012 02:15 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1330956941">&nbsp;</a></div><pre>So, this ticket seemed to diverge from Guenter&#39;s original question. OSG is definitely in favor of doing option 1.

&#34;1. Yes, such a test is useful and will increase the service quality. We will participate.&#34;

How do we put this testing in place? What do you need from the OSG side?

Rob</pre></div><div class='update_description'><i onclick="document.location='11706#1330696564'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-02T13:56:04+00:00">Mar 2, 2012 01:56 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1330696564">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Is that what caused the duplicate attachment sync earlier in this test ticket?</font>
Yes.</pre></div><div class='update_description'><i onclick="document.location='11706#1330695034'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-02T13:30:34+00:00">Mar 2, 2012 01:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330695034">&nbsp;</a></div><pre>On Thu Mar 01 13&#58;21&#58;36 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Jason,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have found a bug where GOC-TX&#39;s attachment processor can enter</font>
<font color='#7F7E6F'>&#62; incorrect sync. records during a reverse ticket update event. I have</font>
<font color='#7F7E6F'>&#62; patched the bug, tested it on tx-itb, and released the patch on the</font>
<font color='#7F7E6F'>&#62; production GOC-TX instance.</font>

Hi Soichi,

Is that what caused the duplicate attachment sync earlier in this test ticket?
I&#39;m glad you found the bug and fixed it.

Thanks,
~Jason
-- by smithj4 at Fri Mar 02 13&#58;30&#58;25 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=StorageManagement ID=21735</pre></div><div class='update_description'><i onclick="document.location='11706#1330626033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-01T18:20:33+00:00">Mar 1, 2012 06:20 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1330626033">&nbsp;</a></div><pre>Jason,

I have found a bug where GOC-TX&#39;s attachment processor can enter incorrect sync. records during a reverse ticket update event. I have patched the bug, tested it on tx-itb, and released the patch on the production GOC-TX instance.

Soichi</pre></div><div class='update_description'><i onclick="document.location='11706#1330456339'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T19:12:19+00:00">Feb 28, 2012 07:12 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330456339">&nbsp;</a></div><pre>On Tue Feb 28 14&#58;06&#58;36 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; I am not sure why we decided to use this ticket for testing ticket</font>
<font color='#7F7E6F'>&#62; exchange (there are already other test tickets opened).. but have we</font>
<font color='#7F7E6F'>&#62; done discussing the original topic about GGUS test instance and issue</font>
<font color='#7F7E6F'>&#62; prevention? If so, I&#39;d like to close this ticket.</font>

Hi Soichi,

Your last update included both previous attachments again, but with different
file names. Was this intentional or a problem with the attachment sync system?

~Jason
-- by smithj4 at Tue Feb 28 19&#58;12&#58;07 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=StorageManagement ID=21735</pre></div><div class='update_description'><i onclick="document.location='11706#1330455907'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T19:05:07+00:00">Feb 28, 2012 07:05 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1330455907">&nbsp;</a></div><pre>I am not sure why we decided to use this ticket for testing ticket exchange (there are already other test tickets opened).. but have we done discussing the original topic about GGUS test instance and issue prevention?  If so, I&#39;d like to close this ticket.

Soichi</pre></div><div class='update_description'><i onclick="document.location='11706#1330448016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T16:53:36+00:00">Feb 28, 2012 04:53 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330448016">&nbsp;</a></div><pre>BNL update & attachment received at GGUS.

-- by Soichi Hayashi at Tue Feb 28 16&#58;52&#58;00 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617</a></pre></div><div class='update_description'><i onclick="document.location='11706#1330443022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T15:30:22+00:00">Feb 28, 2012 03:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330443022">&nbsp;</a></div><pre>BNL received the ticket and the attachment added by the OSG GOC. I am replying
now with our own attachment.

~Jason
-- by smithj4 at Tue Feb 28 15&#58;30&#58;00 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=StorageManagement ID=21735</pre></div><div class='update_description'><i onclick="document.location='11706#1330438236'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T14:10:36+00:00">Feb 28, 2012 02:10 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1330438236">&nbsp;</a></div><pre>Adding BNL to the destination.  BNL, this is a test ticket.</pre></div><div class='update_description'><i onclick="document.location='11706#1330438228'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T14:10:28+00:00">Feb 28, 2012 02:10 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330438228">&nbsp;</a></div><pre>updating on ggus

-- by Soichi Hayashi at Tue Feb 28 14&#58;09&#58;47 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617</a></pre></div><div class='update_description'><i onclick="document.location='11706#1330438097'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T14:08:17+00:00">Feb 28, 2012 02:08 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1330438097">&nbsp;</a></div><pre>Updated GOC-TX to v1.23</pre></div><div class='update_description'><i onclick="document.location='11706#1330385280'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-27T23:28:00+00:00">Feb 27, 2012 11:28 PM UTC</time> by <b>echism</b><a class="anchor" name="1330385280">&nbsp;</a></div><pre>I&#39;m moving this issue to the more relevant parties in the hopes that they will revisit it.</pre></div><div class='update_description'><i onclick="document.location='11706#1330102118'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-24T16:48:38+00:00">Feb 24, 2012 04:48 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330102118">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; The idea for such an automatic test was born after discovering that attachment handling via a specific interface</font>
was broken for several weeks without anybody discovering this issue.

This is not true. We&#39;ve noticed it as soon as GGUS made the update on 1/25. We have started receiving error message from GOC-TX at that point.

I don&#39;t think detection of issue is an issue. We at GOC already have a pretty decent test system setup, and if anything is missed during the testing, we will still get notified of any issues from our production system.. I believe the real issue exists on the prevention of such issues. To prevent production issues, we just need to make sure that GGUS will first release any changes to the GGUS Test instance, and notify collaborators to test against it for adequate amount of time (7 days is good).

Soichi

-- by Soichi Hayashi at Fri Feb 24 16&#58;46&#58;24 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617</a></pre></div><div class='update_description'><i onclick="document.location='11706#1330088359'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-24T12:59:19+00:00">Feb 24, 2012 12:59 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330088359">&nbsp;</a></div><pre>Dear support staffs,

The GGUS team would like to discuss with you implementing an automatic interface test being executed after each
GGUS release for testing the functionallity of each interface from GGUS to any external ticketing system
(<a href='https&#58;//savannah.cern.ch/support/index.php?126505' target='_blank' rel='nofollow'>https&#58;//savannah.cern.ch/support/index.php?126505</a>).
The idea for such an automatic test was born after discovering that attachment handling via a specific interface
was broken for several weeks without anybody discovering this issue.

Such an interface test should consist of these actions&#58;
- submit a ticket in GGUS,
- add an attachment in GGUS and
- route the ticket to any external ticketing system.

Support staffs of the external ticketing system should
- pick up the ticket,
- add some own comments,
- add an own attachment (if applicable) and
- close the ticket.

Please discuss this suggestion within your NGI/ROC and let the GGUS team know about your opinion. Please vote for
one of these options&#58;

1. Yes, such a test is useful and will increase the service quality. We will participate.

2. No, we don not want to be bothered by such tests.

IMPORTANT NOTE for WLCG T1 sites&#58;
The interface test will not!! replace the regular alarm tests after GGUS releases.
Hence WLCG T1 sites will receive two test tickets!

Thank you.

Guenter
GGUS team

<div id='show_1299009735' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1299009735'>[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=79617</a>

[Ticket History]
Subject&#58; Automatic interface test
-- by Guenter Grein at Fri Feb 24 12&#58;58&#58;49 UTC 2012
</div><script type='text/javascript'>
        $('#show_1299009735').click(function() {
            $('#detail_1299009735').slideDown("normal");
            $('#show_1299009735').hide();
            $('#hide_1299009735').show();
        });
        $('#hide_1299009735').click(function() {
            $('#detail_1299009735').slideUp();
            $('#hide_1299009735').hide();
            $('#show_1299009735').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F11706">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 11706});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
