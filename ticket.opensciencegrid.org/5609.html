<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5609] RSV cert probe problem at Umich</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5609" method="post">
<div class="page-header">
    <h3><span class="muted">5609</span> / RSV cert probe problem at Umich</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bobby Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closing this GOC ticket. Issue resolved.</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-09-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5609", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5609#1222869778'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-01T14:02:58+00:00">Oct 1, 2008 02:02 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222869778">&nbsp;</a></div><pre>Closing this GOC ticket. Issue resolved. --Arvind</pre></div><div class='update_description'><i onclick="document.location='5609#1222867990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-01T13:33:10+00:00">Oct 1, 2008 01:33 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1222867990">&nbsp;</a></div><pre>Thanks for your help, Arvind. I appreciate it.

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5609#1222866910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-01T13:15:10+00:00">Oct 1, 2008 01:15 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222866910">&nbsp;</a></div><pre>You appear to be all set now! This ticket can be closed.

<font color='#7F7E6F'>&#62; Well, I did that a while ago. I think that was actually in the instructions. Actually, that name below is a link to the file /opt/OSG100/vdt-app-data/vdt-update-certs/vdt-update-certs.conf .</font>
<font color='#7F7E6F'>&#62;</font>

I was a bit confused yesterday - I thought you got your CA certs using
RPM but now I know that you get it using the vdt-update-certs package.

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  Anyway, I did the full &#34;reconfig rsv&#34; sequence anyway, and then did &#34;vdt-control --on&#34;, so we should be reporting _something_ back by now. The crl-expiry probe is back to reporting a WARNING in yellow, with the following details&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  detailsData&#58; 8 WARNING(s) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/1d879c6c.r0 is expiring soon! (nextUpdate=Oct 2 14&#58;26&#58;35 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/3deda549.r0 is expiring soon! (nextUpdate=Oct 7 08&#58;00&#58;00 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/67e8acfa.r0 is expiring soon! (nextUpdate=Oct 1 20&#58;00&#58;02 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/95009ddc.r0 is expiring soon! (nextUpdate=Oct 2 04&#58;00&#58;04 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/9a1da9f9.r0 is expiring soon! (nextUpdate=Oct 4 18&#58;30&#58;01 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/9b59ecad.r0 is expiring soon! (nextUpdate=Oct 7 12&#58;50&#58;15 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/b89793e4.r0 is expiring soon! (nextUpdate=Oct 7 07&#58;01&#58;00 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/d1737728.r0 is expiring soon! (nextUpdate=Oct 1 10&#58;30&#58;01 2008 GMT) bob</font>
<font color='#7F7E6F'>&#62;</font>

a) That&#39;s appropriate since you do you have expiring-soon CRLs. Warning
state is not bad, i.e. it&#39;s not critical b) The CRL metric, as of now,
is not considered a &#34;critical&#34; metric, i.e it&#39;s not taken into account
when availability calculations are made. However, this might change in
the future.

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Assignees&#58; Operations Workgroup, Arvind Gopu, Elizabeth Chism</font>
<font color='#7F7E6F'>&#62; Status&#58; Engineering</font>
<font color='#7F7E6F'>&#62; Originating VO Support Center&#58; OSG-GOC</font>
<font color='#7F7E6F'>&#62; Destination VO Support Center&#58; OSG-GOC</font>
<font color='#7F7E6F'>&#62; Originating Ticket Number&#58;</font>
<font color='#7F7E6F'>&#62; Destination Ticket Number&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thank You,</font>
<font color='#7F7E6F'>&#62; OSG Grid Operations Center</font>
<font color='#7F7E6F'>&#62; goc@...., 317-278-9699</font>
<font color='#7F7E6F'>&#62; info&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a></font>
<font color='#7F7E6F'>&#62; rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></font>
<div id='show_1877923185' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1877923185'><font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1877923185').click(function() {
            $('#detail_1877923185').slideDown("normal");
            $('#show_1877923185').hide();
            $('#hide_1877923185').show();
        });
        $('#hide_1877923185').click(function() {
            $('#detail_1877923185').slideUp();
            $('#hide_1877923185').hide();
            $('#show_1877923185').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5609#1222808230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T20:57:10+00:00">Sep 30, 2008 08:57 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1222808230">&nbsp;</a></div><pre>Well, I did that a while ago. I think that was actually in the instructions. Actually, that name below is a link to the file /opt/OSG100/vdt-app-data/vdt-update-certs/vdt-update-certs.conf .

Anyway, I did the full &#34;reconfig rsv&#34; sequence anyway, and then did &#34;vdt-control --on&#34;, so we should be reporting _something_ back by now. The crl-expiry probe is back to reporting a WARNING in yellow, with the following details&#58;

detailsData&#58; 8 WARNING(s) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/1d879c6c.r0 is expiring soon! (nextUpdate=Oct 2 14&#58;26&#58;35 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/3deda549.r0 is expiring soon! (nextUpdate=Oct 7 08&#58;00&#58;00 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/67e8acfa.r0 is expiring soon! (nextUpdate=Oct 1 20&#58;00&#58;02 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/95009ddc.r0 is expiring soon! (nextUpdate=Oct 2 04&#58;00&#58;04 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/9a1da9f9.r0 is expiring soon! (nextUpdate=Oct 4 18&#58;30&#58;01 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/9b59ecad.r0 is expiring soon! (nextUpdate=Oct 7 12&#58;50&#58;15 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/b89793e4.r0 is expiring soon! (nextUpdate=Oct 7 07&#58;01&#58;00 2008 GMT) WARNING&#58; /opt/OSG100/globus/TRUSTED_CA/d1737728.r0 is expiring soon! (nextUpdate=Oct 1 10&#58;30&#58;01 2008 GMT) bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5609#1222807330'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T20:42:10+00:00">Sep 30, 2008 08:42 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222807330">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Hi, Arvind.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  I have followed the directions below for the gatekeeper. I note that a global &#34;vdt-control --on&#34; is not part of those directions. Shall I do that now?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  So, next up, is the rsv probe. Do I have to completely reconfigure these as I have done previously? What is the fix I must now implement?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  Also, I pointed us to the OSG certificate URL. I hope that was the correct thing to do. Are there any INCOMPATIBILITIES between them, and the older set of certs we&#39;ve been using? Will these upgrade in the same way as the previously versioned certs were updated? I see these links after the updates&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  TRUSTED_CA -&#62; /opt/OSG100/globus/share/certificates</font>
<font color='#7F7E6F'>&#62;  which in turn points to -&#62; /opt/OSG100/globus/share/certificates-1.1</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  Seems good. Except I now have to repoint to our afs directory, but nothing unusual there, I guess.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  So, I await your next set of directions.</font>
<font color='#7F7E6F'>&#62;</font>

Hi Bob,

You will have to create the following file,

$VDT_LOCATION/vdt/etc/vdt-update-certs.conf

... and add the line shown below in it with a new line after it&#58;

cacerts_url=<a href='http&#58;//software.grid.iu.edu/pacman/cadist/ca-certs-version' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/cadist/ca-certs-version</a>

And I am hopeful, that&#39;ll be all you need. We&#39;ll know by tomorrow when
you bring your CE back up, and we get RSV results &#58;-)

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='5609#1222801391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T19:03:11+00:00">Sep 30, 2008 07:03 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1222801391">&nbsp;</a></div><pre>Hi, Arvind.

I have followed the directions below for the gatekeeper. I note that a global &#34;vdt-control --on&#34; is not part of those directions. Shall I do that now?

So, next up, is the rsv probe. Do I have to completely reconfigure these as I have done previously? What is the fix I must now implement?

Also, I pointed us to the OSG certificate URL. I hope that was the correct thing to do. Are there any INCOMPATIBILITIES between them, and the older set of certs we&#39;ve been using? Will these upgrade in the same way as the previously versioned certs were updated? I see these links after the updates&#58;

TRUSTED_CA -&gt; /opt/OSG100/globus/share/certificates
which in turn points to -&gt; /opt/OSG100/globus/share/certificates-1.1

Seems good. Except I now have to repoint to our afs directory, but nothing unusual there, I guess.

So, I await your next set of directions.

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5609#1222788790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T15:33:10+00:00">Sep 30, 2008 03:33 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1222788790">&nbsp;</a></div><pre>Thanks. I was reading about the CERTS. We expect to do this around 1-2pm today, best guess. Trying to read through all of this now. Oops, have to join a conference call....

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5609#1222787889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T15:18:09+00:00">Sep 30, 2008 03:18 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222787889">&nbsp;</a></div><pre>I am set to do the upgrade this afternoon -- except that I have lost
the Email response to you from my query, and I&#39;m not sure of the
procedure for doing this.  Is it as simple as
cd /opt/OSG100
Then follow the directions on this page?
<a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/installation_install.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/installation_install.html</a>

/opt/OSG100 is the top of our OSG 1.0 install and contains the
pacmand directory o..pacman..o among other things.

Hi Bob,

Here&#39;s the email I sent you. Let&#39;s be clear though&#58;

1) You need to update the CAcertificates to the latest version which is
1.0 if you get the GOC-hosted OSG-security-group-provided ; and it&#39;s v40
(a limited version) if you get it from the VDT. You can get more
information from the note below or the VDT webpage
<a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-i.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-i.html</a>
-- Note, we are going to release an even newer update at the GOC later
this afternoon. It&#39;ll be version 1.1.

2) You need to update the RSV cacert probe -- and this will *not* work
(unfortunately) as-is even after the upgrade in your case. I will help
in two ways&#58;
a) I will tell you how to get around the initial problem with the
existing probe
b) I will work on a better probe, and give it to you sometime later
this fall.

Cheers,
Arvind

-----FWD NOTE -----
<font color='#7F7E6F'>&#62; There is an easy explanation for this, and then there&#39;s also some</font>
<div id='show_1870638035' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1870638035'><font color='#7F7E6F'>&#62; additional information -- read on..</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The simple explanation is that you have an older version of CAcerts. The</font>
<font color='#7F7E6F'>&#62; latest VDT based CA package version is v40. Perhaps you&#39;ve not updated</font>
<font color='#7F7E6F'>&#62; your CAcerts yet?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The harder and possibly confusing explanation is that&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) This is related to the recently CAcert distribution migration from</font>
<font color='#7F7E6F'>&#62; the VDT to the GOC. The GOC hosts the primary OSG-authorized CA</font>
<font color='#7F7E6F'>&#62; distribution while the VDT continues to provide a minimal iGTF based CA</font>
<font color='#7F7E6F'>&#62; distribution.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 2) You are at VDT version 1.10.1d .. the latest if 1.10.1j ... i.e</font>
<font color='#7F7E6F'>&#62; you&#39;re a couple of revisions behind.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 3) The latest VDT release has an update to the RSV CAcert probe that</font>
<font color='#7F7E6F'>&#62; makes it even more confusing --- let me know when you end up upgrading</font>
<font color='#7F7E6F'>&#62; to that level, and I will work with you to get around the problem them.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Finally, in case you did not read it, here&#39;s an email sent out by the</font>
<font color='#7F7E6F'>&#62; GOC on behalf of the VDT explaining the above mentioned CAcert</font>
<font color='#7F7E6F'>&#62; distribution move&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ---------------</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; As announced previously by the VDT the GOC is now hosting the CA Certificates. The VDT will no longer be accompanied by CAs. This allows the VDT to remain a grid-agnostic software stack, while the GOC holds the OSG specific components.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Instruction from the VDT for updating your current OSG 1.0.0, or 0.8.0 nodes are available below, along with new installations. Full details of the CAs in the VDT can be found at <a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- OSG 1.0.0 --</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1. Update to VDT 1.10.1i</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Set up environment and turn off VDT services</font>
<font color='#7F7E6F'>&#62; # cd $VDT_LOCATION</font>
<font color='#7F7E6F'>&#62; # . setup.sh</font>
<font color='#7F7E6F'>&#62; # vdt-control --off</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Backup your current OSG install</font>
<font color='#7F7E6F'>&#62; # cp -pr $VDT_LOCATION BACKUP-LOCATION</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Update the Packages</font>
<font color='#7F7E6F'>&#62; # pacman -update CA-Certificates</font>
<font color='#7F7E6F'>&#62; # pacman -update Configure-Cert-Request</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Edit the value of cacerts_url in the configuration file at $VDT_LOCATION/vdt/etc/vdt-update-certs.conf</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This file contains URLs to CA Certificate distributions including the OSG GOC distribution with certificates recommended by the OSG Security Team, as well as the VDT convenience distribution. You must uncomment one of these (or create your own), and then run the commands below to activate the certificate updates.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Activate the update with the following command</font>
<font color='#7F7E6F'>&#62; # . $VDT_LOCATION/vdt-questions.sh; $VDT_LOCATION/vdt/sbin/vdt-setup-ca-certificates</font>
<font color='#7F7E6F'>&#62; # vdt-control --enable vdt-update-certs</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Restart VDT services</font>
<font color='#7F7E6F'>&#62; # vdt-control --on</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; You will also want to update your RSV probes using</font>
<font color='#7F7E6F'>&#62; # pacman -update OSG-RSV-Probes</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- OSG 0.8.0 --</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Set up environment and backup installation</font>
<font color='#7F7E6F'>&#62; # cd $VDT_LOCATION</font>
<font color='#7F7E6F'>&#62; # . setup.sh</font>
<font color='#7F7E6F'>&#62; # vdt-control --off</font>
<font color='#7F7E6F'>&#62; # cp -pr $VDT_LOCATION BACKUP-LOCATION</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Update Package</font>
<font color='#7F7E6F'>&#62; # pacman -update CA-Certificates-Updater</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; See the web page at <a href='http&#58;//vdt.cs.wisc.edu/releases/1.8.1/certificate_authorities.html#distribution' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.8.1/certificate_authorities.html#distribution</a> for instructions on choosing a CA Distribution.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; When this is complete restart VDT services</font>
<font color='#7F7E6F'>&#62; # vdt-control --on</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- New Installations of OSG 1.0.0 --</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; At the completion of the installation.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Edit the value of cacerts_url in the configuration file at $VDT_LOCATION/vdt/etc/vdt-update-certs.conf</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This file contains URLs to CA Certificate distributions including the OSG GOC distribution with certificates recommended by the OSG Security Team, as well as the VDT convenience distribution. You must uncomment one of these (or create your own), and then run the commands below to activate the certificate updates.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ---------------</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Arvind</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Assignees&#58; Operations Workgroup, Arvind Gopu, Elizabeth Chism</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Status&#58; Engineering</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Originating VO Support Center&#58; OSG-GOC</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Destination VO Support Center&#58; OSG-GOC</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Originating Ticket Number&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Destination Ticket Number&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thank You,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; OSG Grid Operations Center</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; goc@...., 317-278-9699</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; info&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1870638035').click(function() {
            $('#detail_1870638035').slideDown("normal");
            $('#show_1870638035').hide();
            $('#hide_1870638035').show();
        });
        $('#hide_1870638035').click(function() {
            $('#detail_1870638035').slideUp();
            $('#hide_1870638035').hide();
            $('#show_1870638035').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5609#1222459749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-26T20:09:09+00:00">Sep 26, 2008 08:09 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1222459749">&nbsp;</a></div><pre>No, too busy, and lots of jobs.  Maybe when things get more quiet this
weekend.

bob

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5609#1222458473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-26T19:47:53+00:00">Sep 26, 2008 07:47 PM UTC</time> by <b>echism</b><a class="anchor" name="1222458473">&nbsp;</a></div><pre>Bob,

Did you get a chance to perform this upgrade?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='5609#1222278850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-24T17:54:10+00:00">Sep 24, 2008 05:54 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222278850">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Hi, Arvind. I did not get that Email. I must not be on the distribution list for it.</font>
<font color='#7F7E6F'>&#62;</font>

Bob,

As a sysadmin, you should definitely get such emails. They&#39;re sent out
all support centers, and the following mailing lists&#58; osg-sites,
osg-general, osg-operations. Are you not in at least one of those lists?
The USATLAS SC, I&#39;d assume, should forward announcements from the GOC to
admins like you.

Let me know how the upgrade goes, etc.

Arvind

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  I will do the upgrade as I get the chance today or tomorrow, then get back to you. This is the first time we&#39;ve had this issue arise here since we did some reconfigurations a few months back, so I was surprised when it arose, and then persisted for more than 24 hours (coming up on 48 hours now). The changes almost certainly explain it all.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  bob</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Assignees&#58; Operations Workgroup, Arvind Gopu, Elizabeth Chism</font>
<font color='#7F7E6F'>&#62; Status&#58; Engineering</font>
<font color='#7F7E6F'>&#62; Originating VO Support Center&#58; OSG-GOC</font>
<font color='#7F7E6F'>&#62; Destination VO Support Center&#58; OSG-GOC</font>
<font color='#7F7E6F'>&#62; Originating Ticket Number&#58;</font>
<font color='#7F7E6F'>&#62; Destination Ticket Number&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thank You,</font>
<font color='#7F7E6F'>&#62; OSG Grid Operations Center</font>
<font color='#7F7E6F'>&#62; goc@...., 317-278-9699</font>
<font color='#7F7E6F'>&#62; info&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a></font>
<font color='#7F7E6F'>&#62; rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a></font>
<font color='#7F7E6F'>&#62;</font></pre></div><div class='update_description'><i onclick="document.location='5609#1222274350'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-24T16:39:10+00:00">Sep 24, 2008 04:39 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1222274350">&nbsp;</a></div><pre>Hi, Arvind. I did not get that Email. I must not be on the distribution list for it.

I will do the upgrade as I get the chance today or tomorrow, then get back to you. This is the first time we&#39;ve had this issue arise here since we did some reconfigurations a few months back, so I was surprised when it arose, and then persisted for more than 24 hours (coming up on 48 hours now). The changes almost certainly explain it all.

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5609#1222273269'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-24T16:21:09+00:00">Sep 24, 2008 04:21 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222273269">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Our certificates directory is now 39-2, but this error is cropping up in our rsv</font>
<font color='#7F7E6F'>&#62; probes.  Note that v40 is expected.  Can you give me an idea about what is happening</font>
<font color='#7F7E6F'>&#62; here?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; bob</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; metricName&#58; org.osg.certificates.cacert-expiry</font>
<font color='#7F7E6F'>&#62; metricType&#58; status</font>
<font color='#7F7E6F'>&#62; timestamp&#58; 2008-09-23T14&#58;48&#58;01Z</font>
<font color='#7F7E6F'>&#62; metricStatus&#58; WARNING</font>
<font color='#7F7E6F'>&#62; serviceType&#58; OSG-CE-General</font>
<font color='#7F7E6F'>&#62; serviceURI&#58; gate02.grid.umich.edu</font>
<font color='#7F7E6F'>&#62; gatheredAt&#58; gate01.aglt2.org</font>
<font color='#7F7E6F'>&#62; summaryData&#58; WARNING</font>
<font color='#7F7E6F'>&#62; detailsData&#58; WARNING CA Certificates appear to be out to date;</font>
<font color='#7F7E6F'>&#62;   Expected version (from GOC URL</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//vdt.cs.wisc.edu/software/certificates/ca-certs-version' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/software/certificates/ca-certs-version</a>)&#58;</font>
<font color='#7F7E6F'>&#62;   timestamp=20080922T173613 # Time of creation of this file</font>
<font color='#7F7E6F'>&#62; versiondesc=v40 (includes IGTF 1.24 CAs)</font>
<font color='#7F7E6F'>&#62;   Version found&#58; CA Certificates v39 (includes IGTF 1.24 CAs)  Reporting WARNING</font>
<font color='#7F7E6F'>&#62; status since new CA_Certs package is less than 168 hours old. EOT</font>
<font color='#7F7E6F'>&#62;</font>

Hi Bob,

There is an easy explanation for this, and then there&#39;s also some
additional information -- read on..

The simple explanation is that you have an older version of CAcerts. The
latest VDT based CA package version is v40. Perhaps you&#39;ve not updated
your CAcerts yet?

The harder and possibly confusing explanation is that&#58;

<div id='show_36019440' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_36019440'>1) This is related to the recently CAcert distribution migration from
the VDT to the GOC. The GOC hosts the primary OSG-authorized CA
distribution while the VDT continues to provide a minimal iGTF based CA
distribution.

2) You are at VDT version 1.10.1d .. the latest if 1.10.1j ... i.e
you&#39;re a couple of revisions behind.

3) The latest VDT release has an update to the RSV CAcert probe that
makes it even more confusing --- let me know when you end up upgrading
to that level, and I will work with you to get around the problem them.

Finally, in case you did not read it, here&#39;s an email sent out by the
GOC on behalf of the VDT explaining the above mentioned CAcert
distribution move&#58;

---------------

As announced previously by the VDT the GOC is now hosting the CA Certificates. The VDT will no longer be accompanied by CAs. This allows the VDT to remain a grid-agnostic software stack, while the GOC holds the OSG specific components.

Instruction from the VDT for updating your current OSG 1.0.0, or 0.8.0 nodes are available below, along with new installations. Full details of the CAs in the VDT can be found at <a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html</a>

-- OSG 1.0.0 --

1. Update to VDT 1.10.1i

Set up environment and turn off VDT services
# cd $VDT_LOCATION
# . setup.sh
# vdt-control --off

Backup your current OSG install
# cp -pr $VDT_LOCATION BACKUP-LOCATION

Update the Packages
# pacman -update CA-Certificates
# pacman -update Configure-Cert-Request

Edit the value of cacerts_url in the configuration file at $VDT_LOCATION/vdt/etc/vdt-update-certs.conf

This file contains URLs to CA Certificate distributions including the OSG GOC distribution with certificates recommended by the OSG Security Team, as well as the VDT convenience distribution. You must uncomment one of these (or create your own), and then run the commands below to activate the certificate updates.

Activate the update with the following command
# . $VDT_LOCATION/vdt-questions.sh; $VDT_LOCATION/vdt/sbin/vdt-setup-ca-certificates
# vdt-control --enable vdt-update-certs

Restart VDT services
# vdt-control --on

You will also want to update your RSV probes using
# pacman -update OSG-RSV-Probes

-- OSG 0.8.0 --

Set up environment and backup installation
# cd $VDT_LOCATION
# . setup.sh
# vdt-control --off
# cp -pr $VDT_LOCATION BACKUP-LOCATION

Update Package
# pacman -update CA-Certificates-Updater

See the web page at <a href='http&#58;//vdt.cs.wisc.edu/releases/1.8.1/certificate_authorities.html#distribution' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.8.1/certificate_authorities.html#distribution</a> for instructions on choosing a CA Distribution.

When this is complete restart VDT services
# vdt-control --on

-- New Installations of OSG 1.0.0 --

At the completion of the installation.

Edit the value of cacerts_url in the configuration file at $VDT_LOCATION/vdt/etc/vdt-update-certs.conf

This file contains URLs to CA Certificate distributions including the OSG GOC distribution with certificates recommended by the OSG Security Team, as well as the VDT convenience distribution. You must uncomment one of these (or create your own), and then run the commands below to activate the certificate updates.

---------------

Cheers,
Arvind
</div><script type='text/javascript'>
        $('#show_36019440').click(function() {
            $('#detail_36019440').slideDown("normal");
            $('#show_36019440').hide();
            $('#hide_36019440').show();
        });
        $('#hide_36019440').click(function() {
            $('#detail_36019440').slideUp();
            $('#hide_36019440').hide();
            $('#show_36019440').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5609#1222203125'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-23T20:52:05+00:00">Sep 23, 2008 08:52 PM UTC</time> by <b>echism</b><a class="anchor" name="1222203125">&nbsp;</a></div><pre>Our certificates directory is now 39-2, but this error is cropping up in our rsv
probes.  Note that v40 is expected.  Can you give me an idea about what is happening
here?

Thanks,
bob

metricName&#58; org.osg.certificates.cacert-expiry
metricType&#58; status
timestamp&#58; 2008-09-23T14&#58;48&#58;01Z
metricStatus&#58; WARNING
serviceType&#58; OSG-CE-General
serviceURI&#58; gate02.grid.umich.edu
gatheredAt&#58; gate01.aglt2.org
summaryData&#58; WARNING
detailsData&#58; WARNING CA Certificates appear to be out to date;
Expected version (from GOC URL
<a href='http&#58;//vdt.cs.wisc.edu/software/certificates/ca-certs-version' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/software/certificates/ca-certs-version</a>)&#58;
timestamp=20080922T173613 # Time of creation of this file
versiondesc=v40 (includes IGTF 1.24 CAs)
Version found&#58; CA Certificates v39 (includes IGTF 1.24 CAs)  Reporting WARNING
status since new CA_Certs package is less than 168 hours old. EOT</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5609">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
