<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[7043] Job Failures at MWT2_UC</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=7043" method="post">
<div class="page-header">
    <h3><span class="muted">7043</span> / Job Failures at MWT2_UC</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Tom Fifield</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Operator Review</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-06-23</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/7043", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7043?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7043?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Job%20Failures%20at%20MWT2_UC%20ISSUE%3D7043%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='7043#1245695495'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-22T18:31:35+00:00">Jun 22, 2009 06:31 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1245695495">&nbsp;</a></div><pre>Tom,

Judging by the last entry this issue has been resolved can you confirm this please?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7043#1245677294'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-22T13:28:14+00:00">Jun 22, 2009 01:28 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245677294">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

problem has not recurred, closing ticket</pre></div><div class='update_description'><i onclick="document.location='7043#1245677292'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-22T13:28:12+00:00">Jun 22, 2009 01:28 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245677292">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; resolved
Priority&#58; None
Transaction&#58; Status changed from &#39;open&#39; to &#39;resolved&#39; by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Please DO NOT reply with thank you messages.

According to our records, your request has been resolved and this
ticket has has been closed.  If you are satisfied with the resolution
of your request, then please DO NOT reply to this message, as doing
so will automatically re-open the ticket.

If you have any further questions or comments, or you would like to
re-open this ticket, then simply reply to this email.

Thank you,
RT-RACF-MWTier2@....</pre></div><div class='update_description'><i onclick="document.location='7043#1245167351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T15:49:11+00:00">Jun 16, 2009 03:49 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245167351">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

15 Jun 2009 04&#58;57&#58;24| Input file(s)&#58; (2 in total)
15 Jun 2009 04&#58;57&#58;24| 1. EVNT.067277._12852.pool.root.1
15 Jun 2009 04&#58;57&#58;24| 2. DBRelease-6.5.1.tar.gz
[...]
15 Jun 2009 04&#58;57&#58;24| Region&#58; US
15 Jun 2009 04&#58;57&#58;24| Guids&#58;
15 Jun 2009 04&#58;57&#58;24| 1. 3898A390-764A-DE11-A0C4-00E08147F01F
15 Jun 2009 04&#58;57&#58;24| 2. cb01c3eb-9582-4a13-bd43-92946a0f143e

<font color='#7F7E6F'>&#62; The LFN in the list does not come from the LFC - but it&#39;s not the</font>
<font color='#7F7E6F'>&#62; order in the list that&#39;s wrong is it? File 1 corresponds to guid 1</font>
<font color='#7F7E6F'>&#62; right?</font>

Paul - yes, you&#39;re right - I misread this.  The LFNs and GUIDs are
in the correct order.  Sorry for the added confusion!

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 15 Jun 2009 04&#58;57&#58;25| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 3898A390-764A-DE11-A0C4-00E08147F01F)</font>

Correct - the DBRelease GUID is the one starting with cb01..

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; that&#39;s wrong. The dictionary lookup used before the print-out above failed because the pilot didn&#39;t get any info from the LFC. Aparently this is an error that&#39;s not supposed to happen; the SFN must always be set in the LFC, so I never bothered to check it. The dev pilot has error handling for this. It&#39;s pending some other tests to finish so I won&#39;t release it today.</font>

The SFN is set in the LFC.  Perhaps the lookup failed due to load on
LFC or some other LFC error?</pre></div><div class='update_description'><i onclick="document.location='7043#1245166276'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T15:31:16+00:00">Jun 16, 2009 03:31 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245166276">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by baud@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

The current LFC production version is 1.7.0
but anyway nothing in the LFC code (whatever version it is) can return
the information in wrong order.
What I said is that with pre-1.7.0 versions of LFC server, if you try
to get the replicas for a long list of guids and the machines are loaded,
the server could get a timeout before getting the full request and so
the reply could contain garbage towards the end.
The problem is not fully fixed in 1.7.0 but fully fixed in 1.7.2 (in
certification).
However if the request was for a couple of guids, I&#39;m not sure that
the problem you see is actually this one.
I&#39;m happy to help if necessary.
Jean-Philippe

--

*** RT-Note&#58; Stripped 54 quoted lines from message body!</pre></div><div class='update_description'><i onclick="document.location='7043#1245166273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T15:31:13+00:00">Jun 16, 2009 03:31 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245166273">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by Paul.Nilsson@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Hi,

The LFN in the list does not come from the LFC - but it&#39;s not the order in the list that&#39;s wrong is it? File 1 corresponds to guid 1 right? It&#39;s the print-out

15 Jun 2009 04&#58;57&#58;25| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 3898A390-764A-DE11-A0C4-00E08147F01F)

that&#39;s wrong. The dictionary lookup used before the print-out above failed because the pilot didn&#39;t get any info from the LFC. Aparently this is an error that&#39;s not supposed to happen; the SFN must always be set in the LFC, so I never bothered to check it. The dev pilot has error handling for this. It&#39;s pending some other tests to finish so I won&#39;t release it today.

Paul

________________________________

From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2@....]
Sent&#58; Tue 6/16/2009 5&#58;12 PM
To&#58; osg@....
Cc&#58; Paul Nilsson; Tom Fifield
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71
<div id='show_456982255' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_456982255'>
<font color='#7F7E6F'>&#62; The problem is/was with the local LFC (that&#39;s the one the pilot</font>
<font color='#7F7E6F'>&#62;    contacts). I just spoke to Jean-Philippe who told me that there was</font>
<font color='#7F7E6F'>&#62;    an issue with older versions of the LFC server; if the distance</font>
<font color='#7F7E6F'>&#62;    between the client and the server was &#39;large&#39; and/or if there were</font>
<font color='#7F7E6F'>&#62;    many guids in the batch request, there would occationally be a</font>
<font color='#7F7E6F'>&#62;    timeout and the server would give garbage information (or nothing</font>
<font color='#7F7E6F'>&#62;    at all) in the lfc_getreplicas() call. This aparently never</font>
<font color='#7F7E6F'>&#62;    happened when only single guids where given to lfc_getreplicas().</font>
<font color='#7F7E6F'>&#62;    Recently, I changed the pilot to do batch calls to the LFC server</font>
<font color='#7F7E6F'>&#62;    instead of hammering it with calls for each individual file, so</font>
<font color='#7F7E6F'>&#62;    perhaps that&#39;s why we never saw this error before. Jean-Philippe</font>
<font color='#7F7E6F'>&#62;    told me that from server version 1.7.0 (perhaps even earlier) this</font>
<font color='#7F7E6F'>&#62;    has been corrected, so perhaps you can check which version you have</font>
<font color='#7F7E6F'>&#62;    and if it&#39;s old you should consider to update it.</font>

Paul - are you sure this is the problem?  For the job that is failing,
the LFC is local, and there are only 2 input files, so it&#39;s not processing
a large batch.  It looks like both filenames and both GUIDs are found, but
they are simply in the reverse order&#58;

15 Jun 2009 04&#58;57&#58;24| Input file(s)&#58; (2 in total)
15 Jun 2009 04&#58;57&#58;24| 1. EVNT.067277._12852.pool.root.1
15 Jun 2009 04&#58;57&#58;24| 2. DBRelease-6.5.1.tar.gz
[...]
15 Jun 2009 04&#58;57&#58;24| Region&#58; US
15 Jun 2009 04&#58;57&#58;24| Guids&#58;
15 Jun 2009 04&#58;57&#58;24| 1. 3898A390-764A-DE11-A0C4-00E08147F01F
15 Jun 2009 04&#58;57&#58;24| 2. cb01c3eb-9582-4a13-bd43-92946a0f143e

These are the right GUIDs but in the wrong order.

As far as LFC upgrade - all US T2 sites are running
lfc-server-1.6.11.4-x86_rhas_4.tar.gz  According to
the LFC Admin Guide,
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/LCG/LfcAdminGuide' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/LCG/LfcAdminGuide</a>
the most recent version released in production&#58; 1.6.3

If as Paul suggests we need to upgrade to LFC 1.7.0 where
does one find this package?
</div><script type='text/javascript'>
        $('#show_456982255').click(function() {
            $('#detail_456982255').slideDown("normal");
            $('#show_456982255').hide();
            $('#hide_456982255').show();
        });
        $('#hide_456982255').click(function() {
            $('#detail_456982255').slideUp();
            $('#hide_456982255').hide();
            $('#show_456982255').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245166271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T15:31:11+00:00">Jun 16, 2009 03:31 PM UTC</time> by <b>paul.nilsson@....</b><a class="anchor" name="1245166271">&nbsp;</a></div><pre>Hi,

The LFN in the list does not come from the LFC - but it&#39;s not the order in the list that&#39;s wrong is it? File 1 corresponds to guid 1 right? It&#39;s the print-out

15 Jun 2009 04&#58;57&#58;25| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 3898A390-764A-DE11-A0C4-00E08147F01F)

that&#39;s wrong. The dictionary lookup used before the print-out above failed because the pilot didn&#39;t get any info from the LFC. Aparently this is an error that&#39;s not supposed to happen; the SFN must always be set in the LFC, so I never bothered to check it. The dev pilot has error handling for this. It&#39;s pending some other tests to finish so I won&#39;t release it today.

Paul

________________________________

From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2@....]
Sent&#58; Tue 6/16/2009 5&#58;12 PM
To&#58; osg@....
Cc&#58; Paul Nilsson; Tom Fifield
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62; The problem is/was with the local LFC (that&#39;s the one the pilot</font>
<font color='#7F7E6F'>&#62;    contacts). I just spoke to Jean-Philippe who told me that there was</font>
<font color='#7F7E6F'>&#62;    an issue with older versions of the LFC server; if the distance</font>
<font color='#7F7E6F'>&#62;    between the client and the server was &#39;large&#39; and/or if there were</font>
<font color='#7F7E6F'>&#62;    many guids in the batch request, there would occationally be a</font>
<font color='#7F7E6F'>&#62;    timeout and the server would give garbage information (or nothing</font>
<font color='#7F7E6F'>&#62;    at all) in the lfc_getreplicas() call. This aparently never</font>
<font color='#7F7E6F'>&#62;    happened when only single guids where given to lfc_getreplicas().</font>
<div id='show_1150132669' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1150132669'><font color='#7F7E6F'>&#62;    Recently, I changed the pilot to do batch calls to the LFC server</font>
<font color='#7F7E6F'>&#62;    instead of hammering it with calls for each individual file, so</font>
<font color='#7F7E6F'>&#62;    perhaps that&#39;s why we never saw this error before. Jean-Philippe</font>
<font color='#7F7E6F'>&#62;    told me that from server version 1.7.0 (perhaps even earlier) this</font>
<font color='#7F7E6F'>&#62;    has been corrected, so perhaps you can check which version you have</font>
<font color='#7F7E6F'>&#62;    and if it&#39;s old you should consider to update it.</font>

Paul - are you sure this is the problem?  For the job that is failing,
the LFC is local, and there are only 2 input files, so it&#39;s not processing
a large batch.  It looks like both filenames and both GUIDs are found, but
they are simply in the reverse order&#58;

15 Jun 2009 04&#58;57&#58;24| Input file(s)&#58; (2 in total)
15 Jun 2009 04&#58;57&#58;24| 1. EVNT.067277._12852.pool.root.1
15 Jun 2009 04&#58;57&#58;24| 2. DBRelease-6.5.1.tar.gz
[...]
15 Jun 2009 04&#58;57&#58;24| Region&#58; US
15 Jun 2009 04&#58;57&#58;24| Guids&#58;
15 Jun 2009 04&#58;57&#58;24| 1. 3898A390-764A-DE11-A0C4-00E08147F01F
15 Jun 2009 04&#58;57&#58;24| 2. cb01c3eb-9582-4a13-bd43-92946a0f143e

These are the right GUIDs but in the wrong order.

As far as LFC upgrade - all US T2 sites are running
lfc-server-1.6.11.4-x86_rhas_4.tar.gz  According to
the LFC Admin Guide,
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/LCG/LfcAdminGuide' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/LCG/LfcAdminGuide</a>
the most recent version released in production&#58; 1.6.3

If as Paul suggests we need to upgrade to LFC 1.7.0 where
does one find this package?
</div><script type='text/javascript'>
        $('#show_1150132669').click(function() {
            $('#detail_1150132669').slideDown("normal");
            $('#show_1150132669').hide();
            $('#hide_1150132669').show();
        });
        $('#hide_1150132669').click(function() {
            $('#detail_1150132669').slideUp();
            $('#hide_1150132669').hide();
            $('#show_1150132669').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245165191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T15:13:11+00:00">Jun 16, 2009 03:13 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245165191">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62; The problem is/was with the local LFC (that&#39;s the one the pilot</font>
<font color='#7F7E6F'>&#62;    contacts). I just spoke to Jean-Philippe who told me that there was</font>
<font color='#7F7E6F'>&#62;    an issue with older versions of the LFC server; if the distance</font>
<font color='#7F7E6F'>&#62;    between the client and the server was &#39;large&#39; and/or if there were</font>
<font color='#7F7E6F'>&#62;    many guids in the batch request, there would occationally be a</font>
<font color='#7F7E6F'>&#62;    timeout and the server would give garbage information (or nothing</font>
<font color='#7F7E6F'>&#62;    at all) in the lfc_getreplicas() call. This aparently never</font>
<font color='#7F7E6F'>&#62;    happened when only single guids where given to lfc_getreplicas().</font>
<font color='#7F7E6F'>&#62;    Recently, I changed the pilot to do batch calls to the LFC server</font>
<font color='#7F7E6F'>&#62;    instead of hammering it with calls for each individual file, so</font>
<font color='#7F7E6F'>&#62;    perhaps that&#39;s why we never saw this error before. Jean-Philippe</font>
<font color='#7F7E6F'>&#62;    told me that from server version 1.7.0 (perhaps even earlier) this</font>
<font color='#7F7E6F'>&#62;    has been corrected, so perhaps you can check which version you have</font>
<font color='#7F7E6F'>&#62;    and if it&#39;s old you should consider to update it.</font>

Paul - are you sure this is the problem?  For the job that is failing,
the LFC is local, and there are only 2 input files, so it&#39;s not processing
a large batch.  It looks like both filenames and both GUIDs are found, but
they are simply in the reverse order&#58;

15 Jun 2009 04&#58;57&#58;24| Input file(s)&#58; (2 in total)
15 Jun 2009 04&#58;57&#58;24| 1. EVNT.067277._12852.pool.root.1
15 Jun 2009 04&#58;57&#58;24| 2. DBRelease-6.5.1.tar.gz
[...]
15 Jun 2009 04&#58;57&#58;24| Region&#58; US
15 Jun 2009 04&#58;57&#58;24| Guids&#58;
<div id='show_1152873652' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1152873652'>15 Jun 2009 04&#58;57&#58;24| 1. 3898A390-764A-DE11-A0C4-00E08147F01F
15 Jun 2009 04&#58;57&#58;24| 2. cb01c3eb-9582-4a13-bd43-92946a0f143e

These are the right GUIDs but in the wrong order.

As far as LFC upgrade - all US T2 sites are running
lfc-server-1.6.11.4-x86_rhas_4.tar.gz  According to
the LFC Admin Guide,
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/LCG/LfcAdminGuide' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/LCG/LfcAdminGuide</a>
the most recent version released in production&#58; 1.6.3

If as Paul suggests we need to upgrade to LFC 1.7.0 where
does one find this package?
</div><script type='text/javascript'>
        $('#show_1152873652').click(function() {
            $('#detail_1152873652').slideDown("normal");
            $('#show_1152873652').hide();
            $('#hide_1152873652').show();
        });
        $('#hide_1152873652').click(function() {
            $('#detail_1152873652').slideUp();
            $('#hide_1152873652').hide();
            $('#show_1152873652').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245162854'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T14:34:14+00:00">Jun 16, 2009 02:34 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245162854">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by Paul.Nilsson@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Hi Sarah,

The problem is/was with the local LFC (that&#39;s the one the pilot contacts). I just spoke to Jean-Philippe who told me that there was an issue with older versions of the LFC server; if the distance between the client and the server was &#39;large&#39; and/or if there were many guids in the batch request, there would occationally be a timeout and the server would give garbage information (or nothing at all) in the lfc_getreplicas() call. This aparently never happened when only single guids where given to lfc_getreplicas(). Recently, I changed the pilot to do batch calls to the LFC server instead of hammering it with calls for each individual file, so perhaps that&#39;s why we never saw this error before. Jean-Philippe told me that from server version 1.7.0 (perhaps even earlier) this has been corrected, so perhaps you can check which version you have and if it&#39;s old you should consider to update it.

Cheers,
Paul

________________________________

From&#58; Sarah Williams via RT [mailto&#58;RT-RACF-MWTier2@....]
Sent&#58; Tue 6/16/2009 3&#58;15 PM
To&#58; osg@....
Cc&#58; Paul Nilsson; Tom Fifield
Subject&#58; Re&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by saewill@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1
<div id='show_1867055791' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1867055791'>
Hi Paul,

We&#39;ve checked out the lfc entry for the guid at UC, and it appears to be
correct (all data is present).  Is it the lfc entry at BNL that is
problematic?

- --Sarah

<font color='#7F7E6F'>&#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#60;POOLFILECATALOG&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;physical&#62;</font>
<font color='#7F7E6F'>&#62;       &#60;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;/physical&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;logical/&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;/File&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message.</font>
<font color='#7F7E6F'>&#62;</font>
-----BEGIN PGP SIGNATURE-----
Version&#58; GnuPG v1.4.7 (Darwin)
Comment&#58; Using GnuPG with Mozilla - <a href='http&#58;//enigmail.mozdev.org' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org</a> &#60;<a href='http&#58;//enigmail.mozdev.org/&#62' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org/&#62</a>;

iD8DBQFKN5ru2j+lnz5ve7oRAq86AKCNlY8IHt/SR0LmXnK39+k+Q6X/dgCgpbfJ
eJYh1I+cJRzSFKFmTuAowrA=
=SVr+
-----END PGP SIGNATURE-----
</div><script type='text/javascript'>
        $('#show_1867055791').click(function() {
            $('#detail_1867055791').slideDown("normal");
            $('#show_1867055791').hide();
            $('#hide_1867055791').show();
        });
        $('#hide_1867055791').click(function() {
            $('#detail_1867055791').slideUp();
            $('#hide_1867055791').hide();
            $('#show_1867055791').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245162852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T14:34:12+00:00">Jun 16, 2009 02:34 PM UTC</time> by <b>paul.nilsson@....</b><a class="anchor" name="1245162852">&nbsp;</a></div><pre>Hi Sarah,

The problem is/was with the local LFC (that&#39;s the one the pilot contacts). I just spoke to Jean-Philippe who told me that there was an issue with older versions of the LFC server; if the distance between the client and the server was &#39;large&#39; and/or if there were many guids in the batch request, there would occationally be a timeout and the server would give garbage information (or nothing at all) in the lfc_getreplicas() call. This aparently never happened when only single guids where given to lfc_getreplicas(). Recently, I changed the pilot to do batch calls to the LFC server instead of hammering it with calls for each individual file, so perhaps that&#39;s why we never saw this error before. Jean-Philippe told me that from server version 1.7.0 (perhaps even earlier) this has been corrected, so perhaps you can check which version you have and if it&#39;s old you should consider to update it.

Cheers,
Paul

________________________________

From&#58; Sarah Williams via RT [mailto&#58;RT-RACF-MWTier2@....]
Sent&#58; Tue 6/16/2009 3&#58;15 PM
To&#58; osg@....
Cc&#58; Paul Nilsson; Tom Fifield
Subject&#58; Re&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by saewill@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

Hi Paul,

We&#39;ve checked out the lfc entry for the guid at UC, and it appears to be
correct (all data is present).  Is it the lfc entry at BNL that is
problematic?

- --Sarah

<div id='show_1979111975' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1979111975'><font color='#7F7E6F'>&#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#60;POOLFILECATALOG&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;physical&#62;</font>
<font color='#7F7E6F'>&#62;       &#60;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;/physical&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;logical/&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;/File&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message.</font>
<font color='#7F7E6F'>&#62;</font>
-----BEGIN PGP SIGNATURE-----
Version&#58; GnuPG v1.4.7 (Darwin)
Comment&#58; Using GnuPG with Mozilla - <a href='http&#58;//enigmail.mozdev.org' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org</a> &#60;<a href='http&#58;//enigmail.mozdev.org/&#62' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org/&#62</a>;

iD8DBQFKN5ru2j+lnz5ve7oRAq86AKCNlY8IHt/SR0LmXnK39+k+Q6X/dgCgpbfJ
eJYh1I+cJRzSFKFmTuAowrA=
=SVr+
-----END PGP SIGNATURE-----
</div><script type='text/javascript'>
        $('#show_1979111975').click(function() {
            $('#detail_1979111975').slideDown("normal");
            $('#show_1979111975').hide();
            $('#hide_1979111975').show();
        });
        $('#hide_1979111975').click(function() {
            $('#detail_1979111975').slideUp();
            $('#hide_1979111975').hide();
            $('#show_1979111975').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245158171'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-16T13:16:11+00:00">Jun 16, 2009 01:16 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245158171">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by saewill@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

Hi Paul,

We&#39;ve checked out the lfc entry for the guid at UC, and it appears to be
correct (all data is present).  Is it the lfc entry at BNL that is
problematic?

- --Sarah

<font color='#7F7E6F'>&#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#60;POOLFILECATALOG&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;physical&#62;</font>
<font color='#7F7E6F'>&#62;       &#60;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;/physical&#62;</font>
<font color='#7F7E6F'>&#62;     &#60;logical/&#62;</font>
<font color='#7F7E6F'>&#62;   &#60;/File&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message.</font>
<font color='#7F7E6F'>&#62;</font>
-----BEGIN PGP SIGNATURE-----
Version&#58; GnuPG v1.4.7 (Darwin)
Comment&#58; Using GnuPG with Mozilla - <a href='http&#58;//enigmail.mozdev.org' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org</a>
<div id='show_968494937' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_968494937'>
iD8DBQFKN5ru2j+lnz5ve7oRAq86AKCNlY8IHt/SR0LmXnK39+k+Q6X/dgCgpbfJ
eJYh1I+cJRzSFKFmTuAowrA=
=SVr+
-----END PGP SIGNATURE-----
</div><script type='text/javascript'>
        $('#show_968494937').click(function() {
            $('#detail_968494937').slideDown("normal");
            $('#show_968494937').hide();
            $('#hide_968494937').show();
        });
        $('#hide_968494937').click(function() {
            $('#detail_968494937').slideUp();
            $('#hide_968494937').hide();
            $('#show_968494937').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245078611'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T15:10:11+00:00">Jun 15, 2009 03:10 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245078611">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

BNL LFC also has guid=cb01c3eb-9582-4a13-bd43-92946a0f143e for DBRelease-6.5.1.tar.gz

osg@.... via RT writes&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;   Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a></font>
<font color='#7F7E6F'>&#62;   Requestors&#58; osg@....</font>
<font color='#7F7E6F'>&#62;          Ccs&#58; Paul.Nilsson@...., fifieldt@....</font>
<font color='#7F7E6F'>&#62;        Queue&#58; MWTier2</font>
<font color='#7F7E6F'>&#62;        Owner&#58; cgw@....</font>
<font color='#7F7E6F'>&#62;       Status&#58; open</font>
<font color='#7F7E6F'>&#62;     Priority&#58; None</font>
<font color='#7F7E6F'>&#62;  Transaction&#58; Correspondence added by osg@....</font>
<font color='#7F7E6F'>&#62;      Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7043#1245077891'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T14:58:11+00:00">Jun 15, 2009 02:58 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245077891">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179] Requestors&#58; osg@.... Queue&#58; MWTier2 Owner&#58; cgw@.... Status&#58; open Priority&#58; None Transaction&#58; Correspondence added by cgw@.... Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 What is the GUID for /grid/atlas/dq2/ddo/DBRelease/ddo.000001.Atlas.Ideal.DBRelease.v060501/DBRelease-6.5.1.tar.gz in BNL LFC? Paul Nilsson via RT writes&#58; &#62; &#62; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a> &#62; Requestors&#58; osg@.... &#62; Ccs&#58; Paul.Nilsson@...., fifieldt@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Correspondence added by Paul.Nilsson@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62;From the dispatcher&#58; &#62; &#62; 15 Jun 2009 05&#58;09&#58;33| Dispatcher response&#58; [(&#39;logGUID&#39;, &#39;f037939b-7ed4-4c9e-8bca-68518cd0d830&#39;), (&#39;cmtConfig&#39;, &#39;i686-slc4-gcc34-opt&#39;), (&#39;destinationDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;destinationSE&#39;, &#39;BNL_ATLAS_1&#39;), (&#39;realDatasets&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394&#39;), (&#39;prodUserID&#39;, &#39;kaushik@....&#39;), (&#39;GUID&#39;, &#39;920CF58C-784A-DE11-AF46-001D60D7D92F,cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;), (&#39;realDatasetsIn&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.evgen.EVNT.e418_tid0672771,ddo.000001.Atlas.Ideal.DBRelease.v060501&#39;), (&#39;nSent&#39;, &#39;3&#39;), (&#39;StatusCode&#39;, &#39;0&#39;), (&#39;homepackage&#39;, &#39;AtlasProduction/14.2.25.8&#39;), (&#39;inFiles&#39;, &#39;EVNT.067277._12924.pool.root.1,DBRelease-6.5.1.tar.gz&#39;), (&#39;processingType&#39;, &#39;simul&#39;), (&#39;minRamCount&#39;, &#39;2000&#39;), (&#39;transformation&#39;, &#39;csc_simul_reco_trf.py&#39;), (&#39;maxDiskCount&#39;, &#39;2000&#39;), (&#39;destinationDblock&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394_sub01840260,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394_sub01840261&#39;), (&#39;dispatchDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;jobPars&#39;, &#39;EVNT.067277._12924.pool.root.1 AOD.070394._129805.pool.root.2 500 2000 129805 ATLAS-GEO-02-01-00 129805 129805 QGSP_BERT jobConfig.VertexPosFastIDKiller.py FastSimulationJobTransforms/FastCaloSimAddCellsRecConfig.py DBRelease-6.5.1.tar.gz OFF NONE NONE NONE NONE False &#39;), (&#39;attemptNr&#39;, &#39;2&#39;), (&#39;swRelease&#39;, &#39;Atlas-14.2.25&#39;), (&#39;maxCpuCount&#39;, &#39;160000&#39;), (&#39;outFiles&#39;, &#39;AOD.070394._129805.pool.root.2,log.070394._129805.job.log.tgz.2&#39;), (&#39;PandaID&#39;, &#39;1011585086&#39;), (&#39;dispatchDblock&#39;, &#39;NULL,NULL&#39;), (&#39;jobName&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.e418_a84_tid070394._129805.job&#39;), (&#39;logFile&#39;, &#39;log.070394._129805.job.log.tgz.2&#39;)] &#62; &#62; &#62; &#62; &#62; ________________________________ &#62; &#62; From&#58; Charles Waldman [mailto&#58;cgw@....] &#62; Sent&#58; Mon 6/15/2009 4&#58;47 PM &#62; To&#58; RT-RACF-MWTier2@.... &#62; Cc&#58; Paul Nilsson &#62; Subject&#58; RE&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; &#62; Paul - the traceback says&#58; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) &#62; &#62; &#62; But this is the wrong GUID for the DBRelease file&#58; &#62; &#62; mysql&#62; select name from Cns_file_metadata where guid=&#39;920CF58C-784A-DE11-AF46-001D60D7D92F&#39;; &#62; Empty set (0.00 sec) &#62; &#62; mysql&#62; select name from Cns_file_metadata where guid=&#39;cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;; &#62; +------------------------+ &#62; | name | &#62; +------------------------+ &#62; | DBRelease-6.5.1.tar.gz | &#62; +------------------------+ &#62; 1 row in set (0.01 sec) &#62; &#62; Where is the 920CF58C GUID coming from? &#62; &#62; - Charles &#62; &#62; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| Length of PFC&#58; 595 (from source&#58; LFC) &#62; 15 Jun 2009 05&#58;10&#58;02| Got copytool dccp from queuedata file &#62; 15 Jun 2009 05&#58;10&#58;02| copysetup is&#58; /share/wn-client/setup.sh &#62; 15 Jun 2009 05&#58;10&#58;02| Looking for site mover dccp, setup&#58;/share/wn-client/setup.sh, ar&#58;(), kw&#58;{} &#62; 15 Jun 2009 05&#58;10&#58;02| Returning site mover  (setup&#58; /share/wn-client/setup.sh) &#62; 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) &#62; 15 Jun 2009 05&#58;10&#58;02| csumtype&#58; md5sum, checksum&#58; 0, fsize&#58; 0 &#62; 15 Jun 2009 05&#58;10&#58;02| Copying to /scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573 &#62; (LRC checksum&#58; &#34;0&#34;, fsize&#58; 0) using dccp (/share/wn-client/setup.sh) &#62; 15 Jun 2009 05&#58;10&#58;02| Calling get_data in Mover &#62; 15 Jun 2009 05&#58;10&#58;02| Using envsetup since envsetupin is not set &#62; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback &#62; (most recent call last)&#58; &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, &#62; line 445, in mover_get_data &#62; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, &#62; line 144, in get_data &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; IndexError&#58; list index out of range &#62; &#62; &#62; &#62; &#62; Paul Nilsson via RT writes&#58; &#62; &#62; &#62; &#62; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a> &#62; &#62; Requestors&#58; osg@.... &#62; &#62; Ccs&#58; fifieldt@.... &#62; &#62; Queue&#58; MWTier2 &#62; &#62; Owner&#58; cgw@.... &#62; &#62; Status&#58; open &#62; &#62; Priority&#58; None &#62; &#62; Transaction&#58; Correspondence added by Paul.Nilsson@.... &#62; &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; Hi Charles, &#62; &#62; &#62; &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62; &#62; &#62; &#62;  &#62; &#62;  &#62; &#62;  &#62; &#62;  &#62; &#62;  &#62; &#62;  &#62; &#62;  &#62; &#62; &#62; &#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62; &#62; &#62; &#62; Cheers, &#62; &#62; Paul &#62; &#62; &#62; &#62; ________________________________ &#62; &#62; &#62; &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....] &#62; &#62; Sent&#58; Mon 6/15/2009 4&#58;30 PM &#62; &#62; Cc&#58; Paul Nilsson &#62; &#62; Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; Ticket ID&#58; [rt-racf.bnl.gov #13179] &#62; &#62; Requestors&#58; osg@.... &#62; &#62; Queue&#58; MWTier2 &#62; &#62; Owner&#58; cgw@.... &#62; &#62; Status&#58; open &#62; &#62; Priority&#58; None &#62; &#62; Transaction&#58; Comments added by cgw@.... &#62; &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; This is due to a bug in dCacheSiteMover, part of the panda pilot. &#62; &#62; CC&#39;ing Paul Nilsson who is responsible for the &#62; &#62; pilot. &#62; &#62; &#62; &#62; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback &#62; &#62; (most recent call last)&#58; &#62; &#62; File &#62; &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, &#62; &#62; line 445, in mover_get_data &#62; &#62; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) &#62; &#62; File &#62; &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, &#62; &#62; line 144, in get_data &#62; &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; &#62; IndexError&#58; list index out of range &#62; &#62; &#62; &#62; &#62; &#62; Here&#39;s the offending code&#58; &#62; &#62; &#62; &#62; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58; &#62; &#62; s = gpfn.split(&#39;SFN=&#39;) &#62; &#62; loc_pfn = s[1] &#62; &#62; else&#58; &#62; &#62; _tmp = gpfn.split(&#39;/&#39;, 3) &#62; &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; &#62; &#62; &#62; Since there&#39;s no comments and the variable is called _tmp the intention &#62; &#62; is not &#62; &#62; clear - what is the relevance of &#39;3&#39; here? &#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;  &#62; &#62;  &#62; &#62;  &#62; &#62; Hi Charles, &#62; &#62;   &#62; &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62; &#62;   &#62; &#62; &lt;POOLFILECATALOG&gt;
&lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&gt;
&lt;physical&gt;
&lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&gt;
&lt;/physical&gt;
&lt;logical/&gt;
&lt;/File&gt;
<font color='#7F7E6F'>&#62; &#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62; &#62;   &#62; &#62; Cheers, &#62; &#62; Paul &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]</font>
Sent&#58; Mon 6/15/2009 4&#58;30 PM
Cc&#58; Paul Nilsson
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62; &#62;  &#62; &#62;</font>
Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Comments added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

This is due to a bug in dCacheSiteMover, part of the panda pilot.
CC&#39;ing Paul Nilsson who is responsible for the
pilot.

15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_get_data
timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
<div id='show_337104375' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_337104375'>line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Here&#39;s the offending code&#58;

if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
s = gpfn.split(&#39;SFN=&#39;)
loc_pfn = s[1]
else&#58;
_tmp = gpfn.split(&#39;/&#39;, 3)
loc_pfn = &#39;/&#39;+_tmp[3]

Since there&#39;s no comments and the variable is called _tmp the intention
is not
clear - what is the relevance of &#39;3&#39; here?

<font color='#7F7E6F'>&#62; &#62; &#62; RE&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62;  &#62;  &#62;  &#62;  &#62; From the dispatcher&#58; &#62;   &#62; 15 Jun 2009 05&#58;09&#58;33| Dispatcher response&#58; [(&#39;logGUID&#39;, &#39;f037939b-7ed4-4c9e-8bca-68518cd0d830&#39;), (&#39;cmtConfig&#39;, &#39;i686-slc4-gcc34-opt&#39;), (&#39;destinationDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;destinationSE&#39;, &#39;BNL_ATLAS_1&#39;), (&#39;realDatasets&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394&#39;), (&#39;prodUserID&#39;, &#39;kaushik@....&#39;), (&#39;GUID&#39;, &#39;920CF58C-784A-DE11-AF46-001D60D7D92F,cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;), (&#39;realDatasetsIn&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.evgen.EVNT.e418_tid0672771,ddo.000001.Atlas.Ideal.DBRelease.v060501&#39;), (&#39;nSent&#39;, &#39;3&#39;), (&#39;StatusCode&#39;, &#39;0&#39;), (&#39;homepackage&#39;, &#39;AtlasProduction/14.2.25.8&#39;), (&#39;inFiles&#39;, &#39;EVNT.067277._12924.pool.root.1,DBRelease-6.5.1.tar.gz&#39;), (&#39;processingType&#39;, &#39;simul&#39;), (&#39;minRamCount&#39;, &#39;2000&#39;), (&#39;transformation&#39;, &#39;csc_simul_reco_trf.py&#39;), (&#39;maxDiskCount&#39;, &#39;2000&#39;), (&#39;destinationDblock&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394_sub01840260,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394_sub01840261&#39;), (&#39;dispatchDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;jobPars&#39;, &#39;EVNT.067277._12924.pool.root.1 AOD.070394._129805.pool.root.2 500 2000 129805 ATLAS-GEO-02-01-00 129805 129805 QGSP_BERT jobConfig.VertexPosFastIDKiller.py FastSimulationJobTransforms/FastCaloSimAddCellsRecConfig.py DBRelease-6.5.1.tar.gz OFF NONE NONE NONE NONE False &#39;), (&#39;attemptNr&#39;, &#39;2&#39;), (&#39;swRelease&#39;, &#39;Atlas-14.2.25&#39;), (&#39;maxCpuCount&#39;, &#39;160000&#39;), (&#39;outFiles&#39;, &#39;AOD.070394._129805.pool.root.2,log.070394._129805.job.log.tgz.2&#39;), (&#39;PandaID&#39;, &#39;1011585086&#39;), (&#39;dispatchDblock&#39;, &#39;NULL,NULL&#39;), (&#39;jobName&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.e418_a84_tid070394._129805.job&#39;), (&#39;logFile&#39;, &#39;log.070394._129805.job.log.tgz.2&#39;)]</font>
<font color='#7F7E6F'>&#62;   &#62;   &#62;</font>
<font color='#7F7E6F'>&#62;  &#62; From&#58; Charles Waldman [mailto&#58;cgw@....]</font>
Sent&#58; Mon 6/15/2009 4&#58;47 PM
To&#58; RT-RACF-MWTier2@....
Cc&#58; Paul Nilsson
Subject&#58; RE&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
Paul - the traceback says&#58;

15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F)

But this is the wrong GUID for the DBRelease file&#58;

mysql&gt; select name from Cns_file_metadata where guid=&#39;920CF58C-784A-DE11-AF46-001D60D7D92F&#39;;
Empty set (0.00 sec)

mysql&gt; select name from Cns_file_metadata where guid=&#39;cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;;
+------------------------+
| name |
+------------------------+
| DBRelease-6.5.1.tar.gz |
+------------------------+
1 row in set (0.01 sec)

Where is the 920CF58C GUID coming from?

- Charles

15 Jun 2009 05&#58;10&#58;02| Length of PFC&#58; 595 (from source&#58; LFC)
15 Jun 2009 05&#58;10&#58;02| Got copytool dccp from queuedata file
15 Jun 2009 05&#58;10&#58;02| copysetup is&#58; /share/wn-client/setup.sh
15 Jun 2009 05&#58;10&#58;02| Looking for site mover dccp, setup&#58;/share/wn-client/setup.sh, ar&#58;(), kw&#58;{}
15 Jun 2009 05&#58;10&#58;02| Returning site mover &lt;class &#39;dCacheSiteMover.dCacheSiteMover&#39;&gt; (setup&#58; /share/wn-client/setup.sh)
15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F)
15 Jun 2009 05&#58;10&#58;02| csumtype&#58; md5sum, checksum&#58; 0, fsize&#58; 0
15 Jun 2009 05&#58;10&#58;02| Copying to /scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573
(LRC checksum&#58; &#34;0&#34;, fsize&#58; 0) using dccp (/share/wn-client/setup.sh)
15 Jun 2009 05&#58;10&#58;02| Calling get_data in Mover
15 Jun 2009 05&#58;10&#58;02| Using envsetup since envsetupin is not set
15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_! get_data  timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Paul Nilsson via RT writes&#58;
&gt;
&gt; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a>
&gt; Requestors&#58; osg@....
&gt; Ccs&#58; fifieldt@....
&gt; Queue&#58; MWTier2
&gt; Owner&#58; cgw@....
&gt; Status&#58; open
&gt; Priority&#58; None
&gt; Transaction&#58; Correspondence added by Paul.Nilsson@....
&gt; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71
&gt;
&gt; Hi Charles,
&gt;
&gt; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58;
&gt;
&gt; &lt;POOLFILECATALOG&gt;
&gt; &lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&gt;
&gt; &lt;physical&gt;
&gt; &lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&gt;
&gt; &lt;/physical&gt;
&gt; &lt;logical/&gt;
&gt; &lt;/File&gt;
&gt;
&gt; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a c! lear err o r message.
&gt;
&gt; Cheers,
&gt; Paul
&gt;
&gt; ________________________________
&gt;
&gt; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]
&gt; Sent&#58; Mon 6/15/2009 4&#58;30 PM
&gt; Cc&#58; Paul Nilsson
&gt; Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71
&gt;
&gt;
&gt;
&gt; Ticket ID&#58; [rt-racf.bnl.gov #13179]
&gt; Requestors&#58; osg@....
&gt; Queue&#58; MWTier2
&gt; Owner&#58; cgw@....
&gt; Status&#58; open
&gt; Priority&#58; None
&gt; Transaction&#58; Comments added by cgw@....
&gt; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71
&gt;
&gt; This is due to a bug in dCacheSiteMover, part of the panda pilot.
&gt; CC&#39;ing Paul Nilsson who is responsible for the
&gt; pilot.
&gt;
&gt;
&gt; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
&gt; (most recent call last)&#58;
&gt; File
&gt; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
&gt; line 445, in mover_get_data
&gt; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
&gt; File
&gt; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
&gt; line 144, in get_data
&gt; loc_pfn = &#39;/&#39;+_tmp[3]
&gt; IndexError&#58; list index out of range
&! nbsp;&gt ;
&gt;
&gt; Here&#39;s the offending code&#58;
&gt;
&gt; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
&gt; s = gpfn.split(&#39;SFN=&#39;)
&gt; loc_pfn = s[1]
&gt; else&#58;
&gt; _tmp = gpfn.split(&#39;/&#39;, 3)
&gt; loc_pfn = &#39;/&#39;+_tmp[3]
&gt;
&gt; Since there&#39;s no comments and the variable is called _tmp the intention
&gt; is not
&gt; clear - what is the relevance of &#39;3&#39; here?
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; &lt;HTML dir=ltr&gt;&lt;HEAD&gt;&lt;TITLE&gt;[rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71&lt;/TITLE&gt;
&gt; &lt;META content=&#34;text/html; charset=unicode&#34; http-equiv=Content-Type&gt;
&gt; &lt;META name=GENERATOR content=&#34;MSHTML 8.00.6001.18702&#34;&gt;&lt;/HEAD&gt;
&gt; &lt;BODY&gt;
&gt; &lt;DIV dir=ltr id=idOWAReplyText5748&gt;
&gt; &lt;DIV dir=ltr&gt;&lt;FONT color=#000000 size=2 face=Arial&gt;Hi Charles,&lt;/FONT&gt;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;&lt;FONT size=2 face=Arial&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;&lt;FONT size=2 face=Arial&gt;I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid &lt;FONT size=3&gt;920CF58C-784A-DE11-AF46-001D60D7D92F&#58;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;&lt;FONT face=Arial&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;&amp;lt;POOLFILECATALOG&amp;gt;&lt;! BR&gt;&a m p;nbsp; &amp;lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;physical&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;/physical&amp;gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;logical/&amp;gt;&lt;BR&gt;&amp;nbsp; &amp;lt;/File&amp;gt;&lt;BR&gt;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message.&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;Cheers,&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;Paul&lt;/DIV&gt;&lt;/DIV&gt;
&gt; &lt;DIV dir=ltr&gt;&lt;BR&gt;
&gt; &lt;HR tabIndex=-1&gt;
&gt; &lt;FONT size=2 face=Tahoma&gt;&lt;B&gt;From&#58;&lt;/B&gt; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]&lt;BR&gt;&lt;B&gt;Sent&#58;&lt;/B&gt; Mon 6/15/2009 4&#58;30 PM&lt;BR&gt;&lt;B&gt;Cc&#58;&lt;/B&gt; Paul Nilsson&lt;BR&gt;&lt;B&gt;Subject&#58;&lt;/B&gt; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;
&gt; &lt;DIV&gt;
&gt; &lt;P&gt;&lt;FONT size=2&gt;&amp;nbsp;&amp;nbsp; Ticket ID&#58; [rt-racf.bnl.gov #13179]&lt;BR&gt;&amp;nbsp; Requestors&#58; osg@....&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Queue&#58; MWTier2&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Owner&#58; cgw@....&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Status&#58; open&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Priority&#58; None&lt;BR&gt;&amp;nbsp;Transaction&#58; Comments added by cgw@....&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job F! ailures a t MWT2_UC ISSUE=7043 PROJ=71&lt;BR&gt;&lt;BR&gt;This is due to a bug in dCacheSiteMover, part of the panda pilot.&lt;BR&gt;CC&#39;ing Paul Nilsson who is responsible for the&lt;BR&gt;pilot.&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback&lt;BR&gt;(most recent call last)&#58;&lt;BR&gt;&amp;nbsp; File&lt;BR&gt;&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,&lt;BR&gt;line 445, in mover_get_data&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)&lt;BR&gt;&amp;nbsp; File&lt;BR&gt;&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,&lt;BR&gt;line 144, in get_data&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; loc_pfn = &#39;/&#39;+_tmp[3]&lt;BR&gt;IndexError&#58; list index out of range&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Here&#39;s the offending code&#58;&lt;BR&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; s = gpfn.split(&#39;SFN=&#39;)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; loc_pfn = s[1]&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; else&#58;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; _tmp = gpfn.split(&#39;/&#39;, 3)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; loc_pfn = &#39;/&#39;+_tmp[3]&lt;BR&gt;&lt;BR&gt;Since there&#39;s no comments and the variable is called _tmp the intention&lt;BR&gt;is not&lt;BR&gt;clear - what is the relevance of &#39;3&#39; here?&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</div><script type='text/javascript'>
        $('#show_337104375').click(function() {
            $('#detail_337104375').slideDown("normal");
            $('#show_337104375').hide();
            $('#hide_337104375').show();
        });
        $('#hide_337104375').click(function() {
            $('#detail_337104375').slideUp();
            $('#hide_337104375').hide();
            $('#show_337104375').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245077714'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T14:55:14+00:00">Jun 15, 2009 02:55 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245077714">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179] Requestors&#58; osg@.... Queue&#58; MWTier2 Owner&#58; cgw@.... Status&#58; open Priority&#58; None Transaction&#58; Correspondence added by Paul.Nilsson@.... Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Trying again.. I saw a lot of garbage in the previous mail.. The guid comes from the dispatcher&#58; 15 Jun 2009 05&#58;09&#58;33| Dispatcher response&#58; [(&#39;logGUID&#39;, &#39;f037939b-7ed4-4c9e-8bca-68518cd0d830&#39;), (&#39;cmtConfig&#39;, &#39;i686-slc4-gcc34-opt&#39;), (&#39;destinationDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;destinationSE&#39;, &#39;BNL_ATLAS_1&#39;), (&#39;realDatasets&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394&#39;), (&#39;prodUserID&#39;, &#39;kaushik@....&#39;), (&#39;GUID&#39;, &#39;920CF58C-784A-DE11-AF46-001D60D7D92F,cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;), (&#39;realDatasetsIn&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.evgen.EVNT.e418_tid0672771,ddo.000001.Atlas.Ideal.DBRelease.v060501&#39;), (&#39;nSent&#39;, &#39;3&#39;), (&#39;StatusCode&#39;, &#39;0&#39;), (&#39;homepackage&#39;, &#39;AtlasProduction/14.2.25.8&#39;), (&#39;inFiles&#39;, &#39;EVNT.067277._12924.pool.root.1,DBRelease-6.5.1.tar.gz&#39;), (&#39;processingType&#39;, &#39;simul&#39;), (&#39;minRamCount&#39;, &#39;2000&#39;), (&#39;transformation&#39;, &#39;csc_simul_reco_trf.py&#39;), (&#39;maxDiskCount&#39;, &#39;2000&#39;), (&#39;destinationDblock&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394_sub01840260,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394_sub01840261&#39;), (&#39;dispatchDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;jobPars&#39;, &#39;EVNT.067277._12924.pool.root.1 AOD.070394._129805.pool.root.2 500 2000 129805 ATLAS-GEO-02-01-00 129805 129805 QGSP_BERT jobConfig.VertexPosFastIDKiller.py FastSimulationJobTransforms/FastCaloSimAddCellsRecConfig.py DBRelease-6.5.1.tar.gz OFF NONE NONE NONE NONE False &#39;), (&#39;attemptNr&#39;, &#39;2&#39;), (&#39;swRelease&#39;, &#39;Atlas-14.2.25&#39;), (&#39;maxCpuCount&#39;, &#39;160000&#39;), (&#39;outFiles&#39;, &#39;AOD.070394._129805.pool.root.2,log.070394._129805.job.log.tgz.2&#39;), (&#39;PandaID&#39;, &#39;1011585086&#39;), (&#39;dispatchDblock&#39;, &#39;NULL,NULL&#39;), (&#39;jobName&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.e418_a84_tid070394._129805.job&#39;), (&#39;logFile&#39;, &#39;log.070394._129805.job.log.tgz.2&#39;)] ________________________________ From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2@....] Sent&#58; Mon 6/15/2009 4&#58;47 PM To&#58; osg@.... Cc&#58; Paul Nilsson; Tom Fifield Subject&#58; RE&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Ticket ID&#58; [rt-racf.bnl.gov #13179] Requestors&#58; osg@.... Queue&#58; MWTier2 Owner&#58; cgw@.... Status&#58; open Priority&#58; None Transaction&#58; Correspondence added by cgw@.... Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Paul - the traceback says&#58; 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) But this is the wrong GUID for the DBRelease file&#58; mysql&#62; select name from Cns_file_metadata where guid=&#39;920CF58C-784A-DE11-AF46-001D60D7D92F&#39;; Empty set (0.00 sec) mysql&#62; select name from Cns_file_metadata where guid=&#39;cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;; +------------------------+ | name | +------------------------+ | DBRelease-6.5.1.tar.gz | +------------------------+ 1 row in set (0.01 sec) Where is the 920CF58C GUID coming from? - Charles 15 Jun 2009 05&#58;10&#58;02| Length of PFC&#58; 595 (from source&#58; LFC) 15 Jun 2009 05&#58;10&#58;02| Got copytool dccp from queuedata file 15 Jun 2009 05&#58;10&#58;02| copysetup is&#58; /share/wn-client/setup.sh 15 Jun 2009 05&#58;10&#58;02| Looking for site mover dccp, setup&#58;/share/wn-client/setup.sh, ar&#58;(), kw&#58;{} 15 Jun 2009 05&#58;10&#58;02| Returning site mover  (setup&#58; /share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) 15 Jun 2009 05&#58;10&#58;02| csumtype&#58; md5sum, checksum&#58; 0, fsize&#58; 0 15 Jun 2009 05&#58;10&#58;02| Copying to /scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573 (LRC checksum&#58; &#34;0&#34;, fsize&#58; 0) using dccp (/share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Calling get_data in Mover 15 Jun 2009 05&#58;10&#58;02| Using envsetup since envsetupin is not set 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback (most recent call last)&#58; File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, line 445, in mover_get_data timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, line 144, in get_data loc_pfn = &#39;/&#39;+_tmp[3] IndexError&#58; list index out of range Paul Nilsson via RT writes&#58; &#62; &#62; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a> &#62; Requestors&#58; osg@.... &#62; Ccs&#58; fifieldt@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Correspondence added by Paul.Nilsson@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; Hi Charles, &#62; &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62; &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62; &#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62; &#62; Cheers, &#62; Paul &#62; &#62; ________________________________ &#62; &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....] &#62; Sent&#58; Mon 6/15/2009 4&#58;30 PM &#62; Cc&#58; Paul Nilsson &#62; Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; Ticket ID&#58; [rt-racf.bnl.gov #13179] &#62; Requestors&#58; osg@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Comments added by cgw@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; This is due to a bug in dCacheSiteMover, part of the panda pilot. &#62; CC&#39;ing Paul Nilsson who is responsible for the &#62; pilot. &#62; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback &#62; (most recent call last)&#58; &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, &#62; line 445, in mover_get_data &#62; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, &#62; line 144, in get_data &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; IndexError&#58; list index out of range &#62; &#62; &#62; Here&#39;s the offending code&#58; &#62; &#62; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58; &#62; s = gpfn.split(&#39;SFN=&#39;) &#62; loc_pfn = s[1] &#62; else&#58; &#62; _tmp = gpfn.split(&#39;/&#39;, 3) &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; &#62; Since there&#39;s no comments and the variable is called _tmp the intention &#62; is not &#62; clear - what is the relevance of &#39;3&#39; here? &#62; &#62; &#62; &#62; &#62; &#62;  &#62;  &#62;  &#62; Hi Charles, &#62;   &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62;   &#62; &lt;POOLFILECATALOG&gt;
&lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&gt;
&lt;physical&gt;
&lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&gt;
&lt;/physical&gt;
&lt;logical/&gt;
&lt;/File&gt;
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62;   &#62; Cheers, &#62; Paul &#62;</font>
<font color='#7F7E6F'>&#62;  &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]</font>
Sent&#58; Mon 6/15/2009 4&#58;30 PM
Cc&#58; Paul Nilsson
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62;  &#62;</font>
Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Comments added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

This is due to a bug in dCacheSiteMover, part of the panda pilot.
CC&#39;ing Paul Nilsson who is responsible for the
pilot.

15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_get_data
timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
<div id='show_2001119418' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2001119418'>line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Here&#39;s the offending code&#58;

if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
s = gpfn.split(&#39;SFN=&#39;)
loc_pfn = s[1]
else&#58;
_tmp = gpfn.split(&#39;/&#39;, 3)
loc_pfn = &#39;/&#39;+_tmp[3]

Since there&#39;s no comments and the variable is called _tmp the intention
is not
clear - what is the relevance of &#39;3&#39; here?
</div><script type='text/javascript'>
        $('#show_2001119418').click(function() {
            $('#detail_2001119418').slideDown("normal");
            $('#show_2001119418').hide();
            $('#hide_2001119418').show();
        });
        $('#hide_2001119418').click(function() {
            $('#detail_2001119418').slideUp();
            $('#hide_2001119418').hide();
            $('#show_2001119418').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245077712'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T14:55:12+00:00">Jun 15, 2009 02:55 PM UTC</time> by <b>paul.nilsson@....</b><a class="anchor" name="1245077712">&nbsp;</a></div><pre>Trying again.. I saw a lot of garbage in the previous mail.. The guid comes from the dispatcher&#58; 15 Jun 2009 05&#58;09&#58;33| Dispatcher response&#58; [(&#39;logGUID&#39;, &#39;f037939b-7ed4-4c9e-8bca-68518cd0d830&#39;), (&#39;cmtConfig&#39;, &#39;i686-slc4-gcc34-opt&#39;), (&#39;destinationDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;destinationSE&#39;, &#39;BNL_ATLAS_1&#39;), (&#39;realDatasets&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394&#39;), (&#39;prodUserID&#39;, &#39;kaushik@....&#39;), (&#39;GUID&#39;, &#39;920CF58C-784A-DE11-AF46-001D60D7D92F,cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;), (&#39;realDatasetsIn&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.evgen.EVNT.e418_tid0672771,ddo.000001.Atlas.Ideal.DBRelease.v060501&#39;), (&#39;nSent&#39;, &#39;3&#39;), (&#39;StatusCode&#39;, &#39;0&#39;), (&#39;homepackage&#39;, &#39;AtlasProduction/14.2.25.8&#39;), (&#39;inFiles&#39;, &#39;EVNT.067277._12924.pool.root.1,DBRelease-6.5.1.tar.gz&#39;), (&#39;processingType&#39;, &#39;simul&#39;), (&#39;minRamCount&#39;, &#39;2000&#39;), (&#39;transformation&#39;, &#39;csc_simul_reco_trf.py&#39;), (&#39;maxDiskCount&#39;, &#39;2000&#39;), (&#39;destinationDblock&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394_sub01840260,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394_sub01840261&#39;), (&#39;dispatchDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;jobPars&#39;, &#39;EVNT.067277._12924.pool.root.1 AOD.070394._129805.pool.root.2 500 2000 129805 ATLAS-GEO-02-01-00 129805 129805 QGSP_BERT jobConfig.VertexPosFastIDKiller.py FastSimulationJobTransforms/FastCaloSimAddCellsRecConfig.py DBRelease-6.5.1.tar.gz OFF NONE NONE NONE NONE False &#39;), (&#39;attemptNr&#39;, &#39;2&#39;), (&#39;swRelease&#39;, &#39;Atlas-14.2.25&#39;), (&#39;maxCpuCount&#39;, &#39;160000&#39;), (&#39;outFiles&#39;, &#39;AOD.070394._129805.pool.root.2,log.070394._129805.job.log.tgz.2&#39;), (&#39;PandaID&#39;, &#39;1011585086&#39;), (&#39;dispatchDblock&#39;, &#39;NULL,NULL&#39;), (&#39;jobName&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.e418_a84_tid070394._129805.job&#39;), (&#39;logFile&#39;, &#39;log.070394._129805.job.log.tgz.2&#39;)] ________________________________ From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2@....] Sent&#58; Mon 6/15/2009 4&#58;47 PM To&#58; osg@.... Cc&#58; Paul Nilsson; Tom Fifield Subject&#58; RE&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Ticket ID&#58; [rt-racf.bnl.gov #13179] Requestors&#58; osg@.... Queue&#58; MWTier2 Owner&#58; cgw@.... Status&#58; open Priority&#58; None Transaction&#58; Correspondence added by cgw@.... Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Paul - the traceback says&#58; 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) But this is the wrong GUID for the DBRelease file&#58; mysql&#62; select name from Cns_file_metadata where guid=&#39;920CF58C-784A-DE11-AF46-001D60D7D92F&#39;; Empty set (0.00 sec) mysql&#62; select name from Cns_file_metadata where guid=&#39;cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;; +------------------------+ | name | +------------------------+ | DBRelease-6.5.1.tar.gz | +------------------------+ 1 row in set (0.01 sec) Where is the 920CF58C GUID coming from? - Charles 15 Jun 2009 05&#58;10&#58;02| Length of PFC&#58; 595 (from source&#58; LFC) 15 Jun 2009 05&#58;10&#58;02| Got copytool dccp from queuedata file 15 Jun 2009 05&#58;10&#58;02| copysetup is&#58; /share/wn-client/setup.sh 15 Jun 2009 05&#58;10&#58;02| Looking for site mover dccp, setup&#58;/share/wn-client/setup.sh, ar&#58;(), kw&#58;{} 15 Jun 2009 05&#58;10&#58;02| Returning site mover  (setup&#58; /share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) 15 Jun 2009 05&#58;10&#58;02| csumtype&#58; md5sum, checksum&#58; 0, fsize&#58; 0 15 Jun 2009 05&#58;10&#58;02| Copying to /scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573 (LRC checksum&#58; &#34;0&#34;, fsize&#58; 0) using dccp (/share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Calling get_data in Mover 15 Jun 2009 05&#58;10&#58;02| Using envsetup since envsetupin is not set 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback (most recent call last)&#58; File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, line 445, in mover_get_data timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, line 144, in get_data loc_pfn = &#39;/&#39;+_tmp[3] IndexError&#58; list index out of range Paul Nilsson via RT writes&#58; &#62; &#62; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a> &#62; Requestors&#58; osg@.... &#62; Ccs&#58; fifieldt@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Correspondence added by Paul.Nilsson@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; Hi Charles, &#62; &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62; &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62; &#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62; &#62; Cheers, &#62; Paul &#62; &#62; ________________________________ &#62; &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....] &#62; Sent&#58; Mon 6/15/2009 4&#58;30 PM &#62; Cc&#58; Paul Nilsson &#62; Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; Ticket ID&#58; [rt-racf.bnl.gov #13179] &#62; Requestors&#58; osg@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Comments added by cgw@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; This is due to a bug in dCacheSiteMover, part of the panda pilot. &#62; CC&#39;ing Paul Nilsson who is responsible for the &#62; pilot. &#62; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback &#62; (most recent call last)&#58; &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, &#62; line 445, in mover_get_data &#62; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, &#62; line 144, in get_data &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; IndexError&#58; list index out of range &#62; &#62; &#62; Here&#39;s the offending code&#58; &#62; &#62; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58; &#62; s = gpfn.split(&#39;SFN=&#39;) &#62; loc_pfn = s[1] &#62; else&#58; &#62; _tmp = gpfn.split(&#39;/&#39;, 3) &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; &#62; Since there&#39;s no comments and the variable is called _tmp the intention &#62; is not &#62; clear - what is the relevance of &#39;3&#39; here? &#62; &#62; &#62; &#62; &#62; &#62;  &#62;  &#62;  &#62; Hi Charles, &#62;   &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62;   &#62; &lt;POOLFILECATALOG&gt;
&lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&gt;
&lt;physical&gt;
&lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&gt;
&lt;/physical&gt;
&lt;logical/&gt;
&lt;/File&gt;
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62;   &#62; Cheers, &#62; Paul &#62;</font>
<font color='#7F7E6F'>&#62;  &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]</font>
Sent&#58; Mon 6/15/2009 4&#58;30 PM
Cc&#58; Paul Nilsson
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62;  &#62;</font>
Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Comments added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

This is due to a bug in dCacheSiteMover, part of the panda pilot.
CC&#39;ing Paul Nilsson who is responsible for the
pilot.

15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_get_data
timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
<div id='show_1850456831' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1850456831'>line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Here&#39;s the offending code&#58;

if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
s = gpfn.split(&#39;SFN=&#39;)
loc_pfn = s[1]
else&#58;
_tmp = gpfn.split(&#39;/&#39;, 3)
loc_pfn = &#39;/&#39;+_tmp[3]

Since there&#39;s no comments and the variable is called _tmp the intention
is not
clear - what is the relevance of &#39;3&#39; here?
</div><script type='text/javascript'>
        $('#show_1850456831').click(function() {
            $('#detail_1850456831').slideDown("normal");
            $('#show_1850456831').hide();
            $('#hide_1850456831').show();
        });
        $('#hide_1850456831').click(function() {
            $('#detail_1850456831').slideUp();
            $('#hide_1850456831').hide();
            $('#show_1850456831').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245077531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T14:52:11+00:00">Jun 15, 2009 02:52 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245077531">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179] Requestors&#58; osg@.... Queue&#58; MWTier2 Owner&#58; cgw@.... Status&#58; open Priority&#58; None Transaction&#58; Correspondence added by Paul.Nilsson@.... Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 From the dispatcher&#58; 15 Jun 2009 05&#58;09&#58;33| Dispatcher response&#58; [(&#39;logGUID&#39;, &#39;f037939b-7ed4-4c9e-8bca-68518cd0d830&#39;), (&#39;cmtConfig&#39;, &#39;i686-slc4-gcc34-opt&#39;), (&#39;destinationDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;destinationSE&#39;, &#39;BNL_ATLAS_1&#39;), (&#39;realDatasets&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394&#39;), (&#39;prodUserID&#39;, &#39;kaushik@....&#39;), (&#39;GUID&#39;, &#39;920CF58C-784A-DE11-AF46-001D60D7D92F,cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;), (&#39;realDatasetsIn&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.evgen.EVNT.e418_tid0672771,ddo.000001.Atlas.Ideal.DBRelease.v060501&#39;), (&#39;nSent&#39;, &#39;3&#39;), (&#39;StatusCode&#39;, &#39;0&#39;), (&#39;homepackage&#39;, &#39;AtlasProduction/14.2.25.8&#39;), (&#39;inFiles&#39;, &#39;EVNT.067277._12924.pool.root.1,DBRelease-6.5.1.tar.gz&#39;), (&#39;processingType&#39;, &#39;simul&#39;), (&#39;minRamCount&#39;, &#39;2000&#39;), (&#39;transformation&#39;, &#39;csc_simul_reco_trf.py&#39;), (&#39;maxDiskCount&#39;, &#39;2000&#39;), (&#39;destinationDblock&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.AOD.e418_a84_tid070394_sub01840260,mc08.105807.JF35_pythia_jet_filter.recon.log.e418_a84_tid070394_sub01840261&#39;), (&#39;dispatchDBlockToken&#39;, &#39;NULL,NULL&#39;), (&#39;jobPars&#39;, &#39;EVNT.067277._12924.pool.root.1 AOD.070394._129805.pool.root.2 500 2000 129805 ATLAS-GEO-02-01-00 129805 129805 QGSP_BERT jobConfig.VertexPosFastIDKiller.py FastSimulationJobTransforms/FastCaloSimAddCellsRecConfig.py DBRelease-6.5.1.tar.gz OFF NONE NONE NONE NONE False &#39;), (&#39;attemptNr&#39;, &#39;2&#39;), (&#39;swRelease&#39;, &#39;Atlas-14.2.25&#39;), (&#39;maxCpuCount&#39;, &#39;160000&#39;), (&#39;outFiles&#39;, &#39;AOD.070394._129805.pool.root.2,log.070394._129805.job.log.tgz.2&#39;), (&#39;PandaID&#39;, &#39;1011585086&#39;), (&#39;dispatchDblock&#39;, &#39;NULL,NULL&#39;), (&#39;jobName&#39;, &#39;mc08.105807.JF35_pythia_jet_filter.recon.e418_a84_tid070394._129805.job&#39;), (&#39;logFile&#39;, &#39;log.070394._129805.job.log.tgz.2&#39;)] ________________________________ From&#58; Charles Waldman [mailto&#58;cgw@....] Sent&#58; Mon 6/15/2009 4&#58;47 PM To&#58; RT-RACF-MWTier2@.... Cc&#58; Paul Nilsson Subject&#58; RE&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Paul - the traceback says&#58; 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) But this is the wrong GUID for the DBRelease file&#58; mysql&#62; select name from Cns_file_metadata where guid=&#39;920CF58C-784A-DE11-AF46-001D60D7D92F&#39;; Empty set (0.00 sec) mysql&#62; select name from Cns_file_metadata where guid=&#39;cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;; +------------------------+ | name | +------------------------+ | DBRelease-6.5.1.tar.gz | +------------------------+ 1 row in set (0.01 sec) Where is the 920CF58C GUID coming from? - Charles 15 Jun 2009 05&#58;10&#58;02| Length of PFC&#58; 595 (from source&#58; LFC) 15 Jun 2009 05&#58;10&#58;02| Got copytool dccp from queuedata file 15 Jun 2009 05&#58;10&#58;02| copysetup is&#58; /share/wn-client/setup.sh 15 Jun 2009 05&#58;10&#58;02| Looking for site mover dccp, setup&#58;/share/wn-client/setup.sh, ar&#58;(), kw&#58;{} 15 Jun 2009 05&#58;10&#58;02| Returning site mover  (setup&#58; /share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) 15 Jun 2009 05&#58;10&#58;02| csumtype&#58; md5sum, checksum&#58; 0, fsize&#58; 0 15 Jun 2009 05&#58;10&#58;02| Copying to /scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573 (LRC checksum&#58; &#34;0&#34;, fsize&#58; 0) using dccp (/share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Calling get_data in Mover 15 Jun 2009 05&#58;10&#58;02| Using envsetup since envsetupin is not set 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback (most recent call last)&#58; File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, line 445, in mover_get_data timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, line 144, in get_data loc_pfn = &#39;/&#39;+_tmp[3] IndexError&#58; list index out of range Paul Nilsson via RT writes&#58; &#62; &#62; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a> &#62; Requestors&#58; osg@.... &#62; Ccs&#58; fifieldt@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Correspondence added by Paul.Nilsson@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; Hi Charles, &#62; &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62; &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62; &#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62; &#62; Cheers, &#62; Paul &#62; &#62; ________________________________ &#62; &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....] &#62; Sent&#58; Mon 6/15/2009 4&#58;30 PM &#62; Cc&#58; Paul Nilsson &#62; Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; Ticket ID&#58; [rt-racf.bnl.gov #13179] &#62; Requestors&#58; osg@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Comments added by cgw@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; This is due to a bug in dCacheSiteMover, part of the panda pilot. &#62; CC&#39;ing Paul Nilsson who is responsible for the &#62; pilot. &#62; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback &#62; (most recent call last)&#58; &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, &#62; line 445, in mover_get_data &#62; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, &#62; line 144, in get_data &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; IndexError&#58; list index out of range &#62; &#62; &#62; Here&#39;s the offending code&#58; &#62; &#62; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58; &#62; s = gpfn.split(&#39;SFN=&#39;) &#62; loc_pfn = s[1] &#62; else&#58; &#62; _tmp = gpfn.split(&#39;/&#39;, 3) &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; &#62; Since there&#39;s no comments and the variable is called _tmp the intention &#62; is not &#62; clear - what is the relevance of &#39;3&#39; here? &#62; &#62; &#62; &#62; &#62; &#62;  &#62;  &#62;  &#62; Hi Charles, &#62;   &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62;   &#62; &lt;POOLFILECATALOG&gt;
&lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&gt;
&lt;physical&gt;
&lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&gt;
&lt;/physical&gt;
&lt;logical/&gt;
&lt;/File&gt;
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62;   &#62; Cheers, &#62; Paul &#62;</font>
<font color='#7F7E6F'>&#62;  &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]</font>
Sent&#58; Mon 6/15/2009 4&#58;30 PM
Cc&#58; Paul Nilsson
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62;  &#62;</font>
Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Comments added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

This is due to a bug in dCacheSiteMover, part of the panda pilot.
CC&#39;ing Paul Nilsson who is responsible for the
pilot.

15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_get_data
timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
<div id='show_1233074721' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1233074721'>line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Here&#39;s the offending code&#58;

if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
s = gpfn.split(&#39;SFN=&#39;)
loc_pfn = s[1]
else&#58;
_tmp = gpfn.split(&#39;/&#39;, 3)
loc_pfn = &#39;/&#39;+_tmp[3]

Since there&#39;s no comments and the variable is called _tmp the intention
is not
clear - what is the relevance of &#39;3&#39; here?
</div><script type='text/javascript'>
        $('#show_1233074721').click(function() {
            $('#detail_1233074721').slideDown("normal");
            $('#show_1233074721').hide();
            $('#hide_1233074721').show();
        });
        $('#hide_1233074721').click(function() {
            $('#detail_1233074721').slideUp();
            $('#hide_1233074721').hide();
            $('#show_1233074721').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245077351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T14:49:11+00:00">Jun 15, 2009 02:49 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245077351">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179] Requestors&#58; osg@.... Queue&#58; MWTier2 Owner&#58; cgw@.... Status&#58; open Priority&#58; None Transaction&#58; Correspondence added by cgw@.... Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 Paul - the traceback says&#58; 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) But this is the wrong GUID for the DBRelease file&#58; mysql&#62; select name from Cns_file_metadata where guid=&#39;920CF58C-784A-DE11-AF46-001D60D7D92F&#39;; Empty set (0.00 sec) mysql&#62; select name from Cns_file_metadata where guid=&#39;cb01c3eb-9582-4a13-bd43-92946a0f143e&#39;; +------------------------+ | name | +------------------------+ | DBRelease-6.5.1.tar.gz | +------------------------+ 1 row in set (0.01 sec) Where is the 920CF58C GUID coming from? - Charles 15 Jun 2009 05&#58;10&#58;02| Length of PFC&#58; 595 (from source&#58; LFC) 15 Jun 2009 05&#58;10&#58;02| Got copytool dccp from queuedata file 15 Jun 2009 05&#58;10&#58;02| copysetup is&#58; /share/wn-client/setup.sh 15 Jun 2009 05&#58;10&#58;02| Looking for site mover dccp, setup&#58;/share/wn-client/setup.sh, ar&#58;(), kw&#58;{} 15 Jun 2009 05&#58;10&#58;02| Returning site mover  (setup&#58; /share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Mover is preparing to copy file #1/2 (lfn&#58; DBRelease-6.5.1.tar.gz guid&#58; 920CF58C-784A-DE11-AF46-001D60D7D92F) 15 Jun 2009 05&#58;10&#58;02| csumtype&#58; md5sum, checksum&#58; 0, fsize&#58; 0 15 Jun 2009 05&#58;10&#58;02| Copying to /scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573 (LRC checksum&#58; &#34;0&#34;, fsize&#58; 0) using dccp (/share/wn-client/setup.sh) 15 Jun 2009 05&#58;10&#58;02| Calling get_data in Mover 15 Jun 2009 05&#58;10&#58;02| Using envsetup since envsetupin is not set 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback (most recent call last)&#58; File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, line 445, in mover_get_data timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) File &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, line 144, in get_data loc_pfn = &#39;/&#39;+_tmp[3] IndexError&#58; list index out of range Paul Nilsson via RT writes&#58; &#62; &#62; Ticket URL&#58; <a href='https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179' target='_blank' rel='nofollow'>https&#58;//rt-racf.bnl.gov/rt/Ticket/Display.html?id=13179</a> &#62; Requestors&#58; osg@.... &#62; Ccs&#58; fifieldt@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Correspondence added by Paul.Nilsson@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; Hi Charles, &#62; &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62; &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62;  &#62; &#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62; &#62; Cheers, &#62; Paul &#62; &#62; ________________________________ &#62; &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....] &#62; Sent&#58; Mon 6/15/2009 4&#58;30 PM &#62; Cc&#58; Paul Nilsson &#62; Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; &#62; &#62; Ticket ID&#58; [rt-racf.bnl.gov #13179] &#62; Requestors&#58; osg@.... &#62; Queue&#58; MWTier2 &#62; Owner&#58; cgw@.... &#62; Status&#58; open &#62; Priority&#58; None &#62; Transaction&#58; Comments added by cgw@.... &#62; Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71 &#62; &#62; This is due to a bug in dCacheSiteMover, part of the panda pilot. &#62; CC&#39;ing Paul Nilsson who is responsible for the &#62; pilot. &#62; &#62; &#62; 15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback &#62; (most recent call last)&#58; &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;, &#62; line 445, in mover_get_data &#62; timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report) &#62; File &#62; &#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;, &#62; line 144, in get_data &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; IndexError&#58; list index out of range &#62; &#62; &#62; Here&#39;s the offending code&#58; &#62; &#62; if( gpfn.find(&#39;SFN&#39;) != -1 )&#58; &#62; s = gpfn.split(&#39;SFN=&#39;) &#62; loc_pfn = s[1] &#62; else&#58; &#62; _tmp = gpfn.split(&#39;/&#39;, 3) &#62; loc_pfn = &#39;/&#39;+_tmp[3] &#62; &#62; Since there&#39;s no comments and the variable is called _tmp the intention &#62; is not &#62; clear - what is the relevance of &#39;3&#39; here? &#62; &#62; &#62; &#62; &#62; &#62;  &#62;  &#62;  &#62; Hi Charles, &#62;   &#62; I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58; &#62;   &#62; &lt;POOLFILECATALOG&gt;
&lt;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&gt;
&lt;physical&gt;
&lt;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&gt;
&lt;/physical&gt;
&lt;logical/&gt;
&lt;/File&gt;
<font color='#7F7E6F'>&#62; there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message. &#62;   &#62; Cheers, &#62; Paul &#62;</font>
<font color='#7F7E6F'>&#62;  &#62; From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]</font>
Sent&#58; Mon 6/15/2009 4&#58;30 PM
Cc&#58; Paul Nilsson
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

<font color='#7F7E6F'>&#62;  &#62;</font>
Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Comments added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

This is due to a bug in dCacheSiteMover, part of the panda pilot.
CC&#39;ing Paul Nilsson who is responsible for the
pilot.

15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_get_data
timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
<div id='show_102040451' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_102040451'>line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Here&#39;s the offending code&#58;

if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
s = gpfn.split(&#39;SFN=&#39;)
loc_pfn = s[1]
else&#58;
_tmp = gpfn.split(&#39;/&#39;, 3)
loc_pfn = &#39;/&#39;+_tmp[3]

Since there&#39;s no comments and the variable is called _tmp the intention
is not
clear - what is the relevance of &#39;3&#39; here?
</div><script type='text/javascript'>
        $('#show_102040451').click(function() {
            $('#detail_102040451').slideDown("normal");
            $('#show_102040451').hide();
            $('#hide_102040451').show();
        });
        $('#hide_102040451').click(function() {
            $('#detail_102040451').slideUp();
            $('#hide_102040451').hide();
            $('#show_102040451').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245076811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T14:40:11+00:00">Jun 15, 2009 02:40 PM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245076811">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Correspondence added by Paul.Nilsson@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Hi Charles,

I&#39;m aware of the problem (since last week). It is caused by an uncaught issue related to the LFC entry for the file in question. Check the LFC entry for guid 920CF58C-784A-DE11-AF46-001D60D7D92F&#58;

&#60;POOLFILECATALOG&#62;
&#60;File ID=&#92;&#34;920CF58C-784A-DE11-AF46-001D60D7D92F&#92;&#34;&#62;
&#60;physical&#62;
&#60;pfn filetype=&#92;&#34;ROOT_All&#92;&#34; name=&#92;&#34;&#92;&#34;/&#62;
&#60;/physical&#62;
&#60;logical/&#62;
&#60;/File&#62;

there don&#39;t appear to be any checksum or file size either. It&#39;s on the todo list to fail these type of jobs with a clear error message.

Cheers,
Paul

________________________________

From&#58; Charles G. Waldman via RT [mailto&#58;RT-RACF-MWTier2-comment@....]
Sent&#58; Mon 6/15/2009 4&#58;30 PM
Cc&#58; Paul Nilsson
Subject&#58; [rt-racf.bnl.gov #13179] GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
<div id='show_1073775763' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1073775763'>Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; open
Priority&#58; None
Transaction&#58; Comments added by cgw@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

This is due to a bug in dCacheSiteMover, part of the panda pilot.
CC&#39;ing Paul Nilsson who is responsible for the
pilot.

15 Jun 2009 05&#58;10&#58;02| !!FAILED!!2999!! Unexpected exception&#58; Traceback
(most recent call last)&#58;
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/Mover.py&#34;,
line 445, in mover_get_data
timeout=get_TIMEOUT, dsname=dsname, userid=userid, report=report)
File
&#34;/scratch/Panda_Pilot_14973_1245042569/PandaJob_1011585086_1245042573/dCacheSiteMover.py&#34;,
line 144, in get_data
loc_pfn = &#39;/&#39;+_tmp[3]
IndexError&#58; list index out of range

Here&#39;s the offending code&#58;

if( gpfn.find(&#39;SFN&#39;) != -1 )&#58;
s = gpfn.split(&#39;SFN=&#39;)
loc_pfn = s[1]
else&#58;
_tmp = gpfn.split(&#39;/&#39;, 3)
loc_pfn = &#39;/&#39;+_tmp[3]

Since there&#39;s no comments and the variable is called _tmp the intention
is not
clear - what is the relevance of &#39;3&#39; here?
</div><script type='text/javascript'>
        $('#show_1073775763').click(function() {
            $('#detail_1073775763').slideDown("normal");
            $('#show_1073775763').hide();
            $('#hide_1073775763').show();
        });
        $('#hide_1073775763').click(function() {
            $('#detail_1073775763').slideUp();
            $('#hide_1073775763').hide();
            $('#show_1073775763').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7043#1245046502'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T06:15:02+00:00">Jun 15, 2009 06:15 AM UTC</time> by <b>GGUS</b><a class="anchor" name="1245046502">&nbsp;</a></div><pre>[Public Diary]
OSG Ticket&#58; <a href='https&#58;//oim.grid.iu.edu/gocticket/viewer?id=7043' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/viewer?id=7043</a></pre></div><div class='update_description'><i onclick="document.location='7043#1245046392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T06:13:12+00:00">Jun 15, 2009 06:13 AM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245046392">&nbsp;</a></div><pre>Ticket ID&#58; [rt-racf.bnl.gov #13179]
Requestors&#58; osg@....
Queue&#58; MWTier2
Owner&#58; cgw@....
Status&#58; new
Priority&#58; None
Transaction&#58; Correspondence added by fifieldt@....
Subject&#58; GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

Hi,

MWT2_UC is running at 10% efficiency for production jobs, with all
errors in DQ2_STAGEIN.

Appear to be timeouts&#58;
value&#58; Get error&#58; Unexpected exception&#58; Traceback (most recent call last)&#58;
File
/scratch/Panda_Pilot_4462_1245041379/PandaJob_1011584562_1245041386/Mover.py,
line 445, in mover_get_data
timeout get_TIMEOUT, dsname dsname, userid userid, report report)

Can you please take a look?

-- <a href='https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=49484' target='_blank' rel='nofollow'>https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=49484</a></pre></div><div class='update_description'><i onclick="document.location='7043#1245046391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T06:13:11+00:00">Jun 15, 2009 06:13 AM UTC</time> by <b>rt-racf-mwtier2@....</b><a class="anchor" name="1245046391">&nbsp;</a></div><pre>Greetings,

This message has been automatically generated in response to the
creation of a trouble ticket you submitted regarding&#58;

GGUS-Ticket-ID&#58; #49484 Open Science Grid&#58; Job Failures at MWT2_UC ISSUE=7043 PROJ=71

A summary of your ticket, which has been assigned a request ID of
[rt-racf.bnl.gov #13179], appears below.

To modify your ticket or add followups, simply reply to this email
message.  Please do not change the subject of this e-mail when
replying or you might generate a new ticket.

Thank you,
RT-RACF-MWTier2@....

-------------------------------------------------------------------------

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='7043#1245046203'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T06:10:03+00:00">Jun 15, 2009 06:10 AM UTC</time> by <b>GGUS</b><a class="anchor" name="1245046203">&nbsp;</a></div><pre>MWT2_UC is running at 10% efficiency for production jobs, with all errors in DQ2_STAGEIN.

Appear to be timeouts&#58;
value&#58; Get error&#58; Unexpected exception&#58; Traceback (most recent call last)&#58;
File /scratch/Panda_Pilot_4462_1245041379/PandaJob_1011584562_1245041386/Mover.py, line 445, in mover_get_data
timeout get_TIMEOUT, dsname dsname, userid userid, report report)

Can you please take a look?

[Other GGUS Ticket Info]
Date GGUS Ticket Opened&#58; 2009-06-15 06&#58;03
GGUS Ticket ID&#58;          49484
Short Description&#58;       Job Failures at MWT2_UC
Solution&#58;
Experiment&#58;              atlas
Affected Site&#58;           MWT2_UC
Responsible Unit&#58;        OSG

[META Information for OSG ITB Support Staff]
Resource where user is having this issue&#58; MWT2_UC(69)
Selecting ATLAS(FP name&#58; USATLAS) for Destination VO since it has the highest resource ownership.
Primary Admin for MWT2_UC is Charles Waldman and has been CC&#39;d.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F7043">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 7043});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
