<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[35956] Transitioning OSCER to LCMAPS VOMS authentication</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=35956" method="post">
<div class="page-header">
    <h3><span class="muted">35956</span> / Transitioning OSCER to LCMAPS VOMS authentication</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brian Lin</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">OU_OSCER_ATLAS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Brian Lin</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Wait for upgrade</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2018-04-27</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183">28183</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=35956", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/35956?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/35956?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Transitioning%20OSCER%20to%20LCMAPS%20VOMS%20authentication%20ISSUE%3D35956%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='35956#1524746372'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-26T12:39:32+00:00">Apr 26, 2018 12:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1524746372">&nbsp;</a></div><pre>Closing as requested. -Horst
-- by hs@.... at Thu Apr 26 12&#58;39&#58;14 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183</pre></div><div class='update_description'><i onclick="document.location='35956#1524697979'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-25T23:12:59+00:00">Apr 25, 2018 11:12 PM UTC</time><a class="anchor" name="1524697979">&nbsp;</a></div><pre>This ticket has moved to support.opensciencegrid.org with the new ticket number being 6686. Please close this instance.

by rynge@....</pre></div><div class='update_description'><i onclick="document.location='35956#1524235982'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-20T14:53:02+00:00">Apr 20, 2018 02:53 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1524235982">&nbsp;</a></div><pre>Assigning this to Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1523468541'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-11T17:42:21+00:00">Apr 11, 2018 05:42 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1523468541">&nbsp;</a></div><pre>Yep, that&#39;s all you need. Let me know how it goes!
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1523468201'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-11T17:36:41+00:00">Apr 11, 2018 05:36 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1523468201">&nbsp;</a></div><pre>Thanks Mat,

I hadn&#39;t seen that ticket yet, since I&#39;m no longer on there.

Okay, I&#39;ll have a look at this soon. I&#39;d rather not spend a whole lot
of
time messing with this production site right now, and I&#39;m not worried
about support, since our sites have historically always been extremely
stable, so whether we&#39;re running 3.3 or 3.4 right now is pretty much
irrelevant. &#58;)

So we decided that all we&#39;ll need to do is install the lcmaps RPMs and
enable it on grid1 and se1, and re-run osg-configure, and that should
take care of both condor-ce on grid1 and gridftp on grid1 and se1, and
xrootd should not be affected, correct?

Thanks,

Horst

-- by hs@.... at Wed Apr 11 17&#58;36&#58;25 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183</pre></div><div class='update_description'><i onclick="document.location='35956#1523464041'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-11T16:27:21+00:00">Apr 11, 2018 04:27 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1523464041">&nbsp;</a></div><pre>Hi Horst,

Joel says (<a href='https&#58;//ticket.grid.iu.edu/36186' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/36186</a>) that auth works on Lucille
and the gridftp problem is not related to production. Is that good
enough that you can start working on OSCER? Perhaps you could upgrade it
to 3.4 first, since 3.3 will be completely unsupported at the end of
May.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1523289176'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-09T15:52:56+00:00">Apr 9, 2018 03:52 PM UTC</time><a class="anchor" name="1523289176">&nbsp;</a></div><pre>Hi Brian,

yes, we have already tested this on OUHEP_ITB, but that&#39;s running osg-3.4, whereas both Lucille and OSCER are running 3.3, therefore I&#39;d like to make sure we understand why this seems to be a problem with Lucille running 3.3 before potentially breaking OSCER.

Thanks,

Horst

by severini@....</pre></div><div class='update_description'><i onclick="document.location='35956#1523288927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-09T15:48:47+00:00">Apr 9, 2018 03:48 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1523288927">&nbsp;</a></div><pre>Horst,

Don&#39;t you guys have an ITB site you can test this transition on? I&#39;d like to do as much as we can since the VOMS admin server retirement is impending.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1522693756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-02T18:29:16+00:00">Apr 2, 2018 06:29 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1522693756">&nbsp;</a></div><pre>Yes, I don&#39;t want to break our big production site in case we&#39;re
hitting
the same problem ...

Thanks,

Horst

-- by hs@.... at Mon Apr 02 18&#58;29&#58;02 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183</pre></div><div class='update_description'><i onclick="document.location='35956#1522693529'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-02T18:25:29+00:00">Apr 2, 2018 06:25 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1522693529">&nbsp;</a></div><pre>Ah, my mistake. So you&#39;re holding off on this until Joel&#39;s transition is done?

-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1522692347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-02T18:05:47+00:00">Apr 2, 2018 06:05 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1522692347">&nbsp;</a></div><pre>Hi Mat,

I think this went to the wrong ticket. It should go to this one&#58;

<a href='https&#58;//ticket.opensciencegrid.org/36186' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/36186</a>

Cheers,

Horst

On 04/02/2018 12&#58;52 PM, OSG GOC TX via RT wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;    *Ticket URL&#58;*</font>
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183</a>
<font color='#7F7E6F'>&#62;    *Requestors&#58;*  tx+rtbnlprod_fp71@....</font>
<font color='#7F7E6F'>&#62;           *Ccs&#58;*  (None)</font>
<font color='#7F7E6F'>&#62;         *Queue&#58;*  SWTier2</font>
<font color='#7F7E6F'>&#62;         *Owner&#58;*  Patrick McGuigan</font>
<font color='#7F7E6F'>&#62;        *Status&#58;*  /open/</font>
<font color='#7F7E6F'>&#62;      *Priority&#58;*  /Low/</font>
<font color='#7F7E6F'>&#62;   *Transaction&#58;*  Correspondence added by osg-goc-rest</font>
<font color='#7F7E6F'>&#62;       *Subject&#58;*  Transitioning OSCER to LCMAPS VOMS authentication</font>
<font color='#7F7E6F'>&#62;            *OSG GOC Ticket&#58;*  35956</font>
&#60;<a href='https&#58;//ticket.grid.iu.edu/goc/viewer?id=35956&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=35956&#62</a>;
<font color='#7F7E6F'>&#62;       *Resource Group Name&#58;*  OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;                   *VO Name&#58;*  ATLAS</font>
<font color='#7F7E6F'>&#62;             *Resource Name&#58;*  OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
------------------------------------------------------------------------
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi Joel,</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_895793399' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_895793399'><font color='#7F7E6F'>&#62; Any luck with the grid-mapfile?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; -Mat</font>
<font color='#7F7E6F'>&#62;   -- by Matyas Selmeci at Mon Apr 02 17&#58;51&#58;17 UTC 2018</font>
<font color='#7F7E6F'>&#62;</font>

-- by hs@.... at Mon Apr 02 18&#58;05&#58;32 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183
</div><script type='text/javascript'>
        $('#show_895793399').click(function() {
            $('#detail_895793399').slideDown("normal");
            $('#show_895793399').hide();
            $('#hide_895793399').show();
        });
        $('#hide_895793399').click(function() {
            $('#detail_895793399').slideUp();
            $('#hide_895793399').hide();
            $('#show_895793399').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1522691477'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-02T17:51:17+00:00">Apr 2, 2018 05:51 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1522691477">&nbsp;</a></div><pre>Hi Joel,

Any luck with the grid-mapfile?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1521482523'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-19T18:02:03+00:00">Mar 19, 2018 06:02 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1521482523">&nbsp;</a></div><pre>Hi Joel,

Could you try adding the RSV service cert that lutgw1 uses to the /etc/grid-security/grid-mapfile on lutse1 and map it to the &#34;rsv&#34; user?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1521207531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-16T13:38:51+00:00">Mar 16, 2018 01:38 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1521207531">&nbsp;</a></div><pre>Mat,

Do you have any suggestions for Joel?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='35956#1520605637'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-09T14:27:17+00:00">Mar 9, 2018 02:27 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1520605637">&nbsp;</a></div><pre>hi,

Present status is that LCMAPS VOMS authentication works.  However when
testing gridftp with rsv org.osg.globus.gridftp-simple test I find it
works ok when the source is lutgw1.lunet.edu and the target is
luhepce.lunet.edu, but fails when the source is lutgw1.lunet.edu and
the
target is luhepse.lunet.edu (gridftp times out after authenticating).
Rsv
gridftp tests work fine when the source is luhepce or luhepse and the
target is lutgw1 or lutse1 (all in lunet.edu domain). Also if I use my
personal certificate to do a gridftp transfer from lutgw1 to luhepse
it
works ok.  I have been unable so far to find the solution to the
problem
of rsv gridftp transfers from lutgw1 to luhepse failing.  Any
suggestions
appreciated.  thanks.

joel

On Thu, 8 Mar 2018, OSG GOC TX via RT wrote&#58;

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;   Ticket URL&#58;</font>
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183</a>
<font color='#7F7E6F'>&#62;   Requestors&#58; tx+rtbnlprod_fp71@....</font>
<font color='#7F7E6F'>&#62;          Ccs&#58; (None)</font>
<font color='#7F7E6F'>&#62;        Queue&#58; SWTier2</font>
<font color='#7F7E6F'>&#62;        Owner&#58; Patrick McGuigan</font>
<font color='#7F7E6F'>&#62;       Status&#58; open</font>
<font color='#7F7E6F'>&#62;     Priority&#58; Low</font>
<font color='#7F7E6F'>&#62;  Transaction&#58; Correspondence added by osg-goc-rest</font>
<font color='#7F7E6F'>&#62;      Subject&#58; Transitioning OSCER to LCMAPS VOMS authentication</font>
<div id='show_1180527168' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1180527168'><font color='#7F7E6F'>&#62;           OSG GOC Ticket&#58; 35956</font>
<font color='#7F7E6F'>&#62;      Resource Group Name&#58; OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;                  VO Name&#58; ATLAS</font>
<font color='#7F7E6F'>&#62;            Resource Name&#58; OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
______________________________________________________________________________________
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi Horst,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; What does Joel need? Can we help?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; -Mat</font>
<font color='#7F7E6F'>&#62;  -- by Matyas Selmeci at Thu Mar 08 20&#58;51&#58;24 UTC 2018</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

-- by snow at Fri Mar 09 14&#58;27&#58;03 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183
</div><script type='text/javascript'>
        $('#show_1180527168').click(function() {
            $('#detail_1180527168').slideDown("normal");
            $('#show_1180527168').hide();
            $('#hide_1180527168').show();
        });
        $('#hide_1180527168').click(function() {
            $('#detail_1180527168').slideUp();
            $('#hide_1180527168').hide();
            $('#show_1180527168').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1520544734'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-08T21:32:14+00:00">Mar 8, 2018 09:32 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1520544734">&nbsp;</a></div><pre>Hi Mat,

<a href='https&#58;//ticket.opensciencegrid.org/35956' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/35956</a>

I&#39;m not sure where Joel stands with the lunet issue, I&#39;ve been out of
the country for the last 2 weeks. Here&#39;s the ticket&#58;

<a href='https&#58;//ticket.opensciencegrid.org/36186' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/36186</a>

Thanks,

Horst

Description&#58;
Hi Horst,

What does Joel need? Can we help?

Thanks,
-Mat

Matyas Selmeci matyas@....</pre></div><div class='update_description'><i onclick="document.location='35956#1520542284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-08T20:51:24+00:00">Mar 8, 2018 08:51 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1520542284">&nbsp;</a></div><pre>Hi Horst,

What does Joel need? Can we help?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1519945343'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-01T23:02:23+00:00">Mar 1, 2018 11:02 PM UTC</time><a class="anchor" name="1519945343">&nbsp;</a></div><pre>Hi Brian,

sorry, I think I missed -- or maybe forgot -- part of the discussion we were having. That can happen when you&#39;re on a 50h plane ride ... &#58;)

So I think with the installed osg-configure stuff, things should work transparently on our xrootd-gridftp server as well now.

But again, I won&#39;t try this until we figured out Joel&#39;s problem ...

Thanks,

Horst

by severini@....</pre></div><div class='update_description'><i onclick="document.location='35956#1519944794'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-01T22:53:14+00:00">Mar 1, 2018 10:53 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1519944794">&nbsp;</a></div><pre>Horst,

The section I linked more or less forwards you to the document you
linked, just with some added extra prose. I thought you were asking
about setting up a whole new gridftp!

- Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1519942095'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-01T22:08:15+00:00">Mar 1, 2018 10:08 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1519942095">&nbsp;</a></div><pre>Hi Brian,

<font color='#7F7E6F'>&#62; We&#39;ve had standalone gridftp server and LCMAPS VOMS instructions for a</font>
<font color='#7F7E6F'>&#62; while now&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='https&#58;//opensciencegrid.github.io/docs/data/gridftp/#authentication-with-the-lcmaps-voms-plugin.' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/data/gridftp/#authentication-with-the-lcmaps-voms-plugin.</a>
<font color='#7F7E6F'>&#62; Was there anything missing?</font>

yes -- that link was missing. &#58;)

Well, at least I didn&#39;t know about it. Would it make sense to add that to

<a href='https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/</a>

somewhere as well, since it stands to reason that someone who has a CE
might also have an SE that needs to be transitioned?

I had a look, and it looks fairly straight forward, so I&#39;ll have a
closer look at that tomorrow.

I think I want to wait until Joel&#39;s issues are solved before I&#39;ll
actually try this on OSCER, though, since we can&#39;t afford to have
problems there, too.

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1519928416'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-01T18:20:16+00:00">Mar 1, 2018 06:20 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1519928416">&nbsp;</a></div><pre>Horst,

We&#39;ve had standalone gridftp server and LCMAPS VOMS instructions for a
while now&#58;
<a href='https&#58;//opensciencegrid.github.io/docs/data/gridftp/#authentication-with-the-lcmaps-voms-plugin.' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/data/gridftp/#authentication-with-the-lcmaps-voms-plugin.</a>
Was there anything missing?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1519914553'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-01T14:29:13+00:00">Mar 1, 2018 02:29 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1519914553">&nbsp;</a></div><pre>Hi Brian,

sorry, I&#39;ve been traveling back from Namibia for the past 2 days,
still not quite there, got stuck in Dallas last night.

Do we have instructions on how to reconfigure a stand alone gridftp server
yet? Sorry, can&#39;t check that right now.

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1519845289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-28T19:14:49+00:00">Feb 28, 2018 07:14 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1519845289">&nbsp;</a></div><pre>Horst,

I see that we missed your question about vomsxrd on the xrootd proxy server&#58; yes, that solution should still suffice. What&#39;s the word on the CE/gridftp transition?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1519161654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-20T21:20:54+00:00">Feb 20, 2018 09:20 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1519161654">&nbsp;</a></div><pre>The current version of the osg-gridftp metapackage is fine, it&#39;s just osg-gridftp-xrootd that needs fixing.
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1519158431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-20T20:27:11+00:00">Feb 20, 2018 08:27 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1519158431">&nbsp;</a></div><pre>Thanks Mat!

Well, we need this configured for all types of gridftp-servers, though,
not just ones running on top of an xrootd file system. In other words,
can you also update the general osg-gridftp with that, and not just
osg-gridftp-xrootd ?

Or does the latter require the former to do the configuration under
the covers? I don&#39;t remember how the dependency tree goes for that,
but we need this also to be working automagically for a gridftp-server
that runs on top of a standard posix file system.

And just to be sure I&#39;m understanding this correctly&#58; for now,
we will not reconfigure the xrootd proxy server, that will keep
using vo-client-lcmaps-voms / vomsxrd for authentication, correct?

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1519156567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-20T19:56:07+00:00">Feb 20, 2018 07:56 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1519156567">&nbsp;</a></div><pre>Hi Horst,

We&#39;ll fix up the docs. It was an oversight that osg-gridftp-xrootd did
not bring in osg-configure and we&#39;ll fix that too. You should install
osg-configure-misc and vo-client-lcmaps-voms, then configure vomsmap
authentication in /etc/osg/config.d/10-misc.ini.

-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1519077256'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-19T21:54:16+00:00">Feb 19, 2018 09:54 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1519077256">&nbsp;</a></div><pre>Hi again,

Joel and I were looking at how to reconfigure the gridftp server on our
respective SEs, and we can&#39;t find the right configuration file to edit.

On the CEs, osg-configure takes care of that for you, but on an
xrootd/gridftp SE, there is no osg-configure to run, so we&#39;ll have to
edit the gridftp conf file by hand.

Could you please add the info about how to do that to

<a href='https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/</a>

? You mention /etc/sysconfig/globus-gridftp-server, but I don&#39;t think
that&#39;s the right file where you would switch from edg-mkgridmap to
lcmaps -- at least it doesn&#39;t contain any of that information on
OUHEP_OSG&#39;s CE, where osg-configure would have done that for us, right?

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1518813915'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-16T20:45:15+00:00">Feb 16, 2018 08:45 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518813915">&nbsp;</a></div><pre>Hi Brian,

well, Wei is welcome to look at this, and I&#39;m more than happy to help with
that with our OUHEP_ITB -- but for our production site, I very much like
to keep things as simple as possible. &#58;)

Ah, interesting that EU data protection regulations are so strict
that they can no longer serve edg-mkgridmap clients -- yet they can still
serve protected web content with a single cert sign-on, and don&#39;t make us
login TWICE for every page! ;-p

Cheers,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1518809246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-16T19:27:26+00:00">Feb 16, 2018 07:27 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1518809246">&nbsp;</a></div><pre>Horst,

Yes, you should be able to continue with vomsxrd/xrootd-voms-plugin. Wei did mention, that he was interested in some of the xrootd-lcmaps features and we&#39;re almost done with our documentation (<a href='https&#58;//github.com/opensciencegrid/docs/pull/320' target='_blank' rel='nofollow'>https&#58;//github.com/opensciencegrid/docs/pull/320</a>) so if either if you want to take it for a spin, by all means!

And Edgar is referring to the ATLAS VOMS Admin server located at CERN and I haven&#39;t heard of any intention to turn it off just yet. However, due to the EU General Data Protection Regulation (<a href='https&#58;//en.wikipedia.org/wiki/General_Data_Protection_Regulation' target='_blank' rel='nofollow'>https&#58;//en.wikipedia.org/wiki/General_Data_Protection_Regulation</a>), the ATLAS VOMS Admin server will no longer be able to serve up the entire list of VO members, which is how edg-mkgridmap populates the grid-mapfile.

- Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1518805273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-16T18:21:13+00:00">Feb 16, 2018 06:21 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518805273">&nbsp;</a></div><pre>Hi Edgar,

ah, thanks! Yes, right now all we need for our xrootd server is to
authenticate ATLAS members, since under the hood all files are owned by
the xrootd user, anyway. So I think we can keep it this way, and won&#39;t
need to worry about lcmaps for xrootd, correct?

So you&#39;re saying that the ATLAS VOMS admin isn&#39;t going anywhere -- but
edg-mkgridmap will still stop working? Can you elaborate on that, I&#39;m
not sure I quite understand that.

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1518796815'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-16T16:00:15+00:00">Feb 16, 2018 04:00 PM UTC</time><a class="anchor" name="1518796815">&nbsp;</a></div><pre>Hi Horst,

One way to think about it is tthat the vomsxrd(xrootd-voms-plugin) is more meant as an authorization (it does not do DN - unixname mapping) it just says anyone in this VO is allowed to talk to my xrootd server. While the lcmaps is more meant to be for authorization since it maps to accounts which then you can have authorization options in xrootd. However, this is a grey area because if you are not mapped to anything in the lcmaps way you won&#39;t be allowed to talk to the xrootd server.

In your case you want everyone with an Atlas voms extension to be allowed to talk to the xrootd server I think that is ok especially since the Atlas VOMS admin is not going anywhere.

Cheers,

Edgar
OSG Software Support

by emfajardohernandez@....</pre></div><div class='update_description'><i onclick="document.location='35956#1518212174'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T21:36:14+00:00">Feb 9, 2018 09:36 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518212174">&nbsp;</a></div><pre>Hi all,

thanks for all the info! Here a few more follow up comments and questions.

I updated the lcmaps RPMs on OSCER, so I&#39;ll just have to put the .rpmnew
files in place when we&#39;re ready to switch over.

We are using the vomsxrd plugin, which does seem to be identical to
xrootd-voms-plugin. I&#39;m glad to hear that, so we can use that in the
future and won&#39;t have to get the former from some WLCG repo!

I don&#39;t understand the difference between lcmaps and xrootd-voms-plugin
authentication, of course. Does that mean that if we use the latter,
then we don&#39;t need to worry about lcmaps migration in the first place,
since we&#39;ve never used edg-mkgridmap in the first place? That&#39;s what
you&#39;re saying, if I understand this correctly.

We are using this security configuration, which is similar to yours, but
not identical&#58;

# ENABLE_SECURITY_BEGIN
xrootd.seclib /usr/lib64/libXrdSec.so
sec.protparm gsi -vomsfun&#58;/usr/lib64/libXrdSecgsiVOMS.so
-vomsfunparms&#58;certfmt=raw|vos=atlas|grps=/atlas
sec.protocol /usr/lib64 gsi -ca&#58;1 -crl&#58;3

acc.authdb /etc/xrootd/auth_file
acc.authrefresh 60
ofs.authorize
# ENABLE_SECURITY_END

Seems to work for what we&#39;re doing right now, though, so is that good
enough, and I can just worry about the condor-ce and gridftp server?

Thanks a lot,
<div id='show_699972509' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_699972509'>have a good weekend all,

Horst
</div><script type='text/javascript'>
        $('#show_699972509').click(function() {
            $('#detail_699972509').slideDown("normal");
            $('#show_699972509').hide();
            $('#hide_699972509').show();
        });
        $('#hide_699972509').click(function() {
            $('#detail_699972509').slideUp();
            $('#hide_699972509').hide();
            $('#show_699972509').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1518206337'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:58:57+00:00">Feb 9, 2018 07:58 PM UTC</time><a class="anchor" name="1518206337">&nbsp;</a></div><pre>I think Horst has this configuration.

As a side note, when OSG has note on xrootd and lcmaps, please let me know. Or should I ask Brian Bockelman since he wrote it?

by yangw@....</pre></div><div class='update_description'><i onclick="document.location='35956#1518205946'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:52:26+00:00">Feb 9, 2018 07:52 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518205946">&nbsp;</a></div><pre>OK. Well, going from xrootd-voms-plugin to xrootd-lcmaps is beyond the
scope of this ticket &#58;)

Horst, you should check what you&#39;re using on your xrootd servers.  If
you&#39;re using xrootd-voms, you should have the &#34;xrootd-voms-plugin&#34; RPM
installed and should have lines mentioning &#34;libXrdSecgsiVOMS.so&#34; in your
/etc/xrootd/xrootd-*.cfg, e.g. something like&#58;

sec.protparm gsi -vomsfun&#58;/usr/lib64/libXrdSecgsiVOMS.so -vomsfunparms&#58;certfmt=raw|vos=cms|dbg -vomsat&#58;2

If that&#39;s what you&#39;re using for your xrootd servers, you can leave those
alone.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1518205244'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:40:44+00:00">Feb 9, 2018 07:40 PM UTC</time><a class="anchor" name="1518205244">&nbsp;</a></div><pre>Ah... it is what I am using at many placed. But I want new features to distinguish VOMS roles. I know the plugin can extra the info from a 509 proxy, but the mapping to xrootd authorization DB needs to be done correctly. Andy worked on a schema a year ago but we need to reinvestigate where are we on this stand.

by yangw@....</pre></div><div class='update_description'><i onclick="document.location='35956#1518204997'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:36:37+00:00">Feb 9, 2018 07:36 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518204997">&nbsp;</a></div><pre>Hi Wei,

I believe xrootd-voms-plugin is the same thing as vomsxrd.

-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1518204817'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:33:37+00:00">Feb 9, 2018 07:33 PM UTC</time><a class="anchor" name="1518204817">&nbsp;</a></div><pre>Hi Brian, sorry for the noise about login. I can login via CIlogin/Stanford.
I don&#39;t believe US ATLAS is using xrootd-voms-plugin - i don&#39;t know what it is. I was working with CERN on vomsxrd. it seems to me that mapping directly via xrootd&#39;s auth/z mechanism requires lots of my time to follow up. So I am looking for baked solutions&#58;-)

by yangw@....</pre></div><div class='update_description'><i onclick="document.location='35956#1518204195'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:23:15+00:00">Feb 9, 2018 07:23 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1518204195">&nbsp;</a></div><pre>Wei,

Unfortunately the docs for xrootd-lcmaps are a WIP but we&#39;ll let you know as soon as we have something ready. Does US-ATLAS not use xrootd-voms-plugin for auth/z?

And I&#39;ve let the GOC know about your issue with the CERN cert. When you click &#34;login&#34; does it bring you to a CILogon page?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1518203176'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T19:06:16+00:00">Feb 9, 2018 07:06 PM UTC</time> by <b>Wei Yang</b><a class="anchor" name="1518203176">&nbsp;</a></div><pre>Hi Brian

I am thinking of looking at lcmaps for xrootd, since I don’t have time to continue chasing the software integration on the other route. Do you have points to docs.

Also, not sure what is going one – I can’t respond from the ticket web page, even with my CERN cert loaded.

regards,
--
Wei Yang  |  yangw@....  |  650-926-3338(O)</pre></div><div class='update_description'><i onclick="document.location='35956#1518202634'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T18:57:14+00:00">Feb 9, 2018 06:57 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1518202634">&nbsp;</a></div><pre>Andy/Wei,

Just so it doesn&#39;t get lost, Mat asked about US-ATLAS xrootd-voms-plugin use&#58;

<font color='#7F7E6F'>&#62; Also, I&#39;ve been told that a lot of ATLAS XRootD sites use</font>
<font color='#7F7E6F'>&#62; xrootd-voms-plugin instead of xrootd-lcmaps (Andy or Wei, can you</font>
<font color='#7F7E6F'>&#62; confirm?).  If that&#39;s what your site uses, then you don&#39;t have to make</font>
<font color='#7F7E6F'>&#62; this change for your XRootD servers, only your CEs and GridFTP servers.</font>

- Brian</pre></div><div class='update_description'><i onclick="document.location='35956#1518201663'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T18:41:03+00:00">Feb 9, 2018 06:41 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518201663">&nbsp;</a></div><pre>Hi Horst,

Thanks for the comments!  Looks like there&#39;s definitely some updating to
do for our docs.  I&#39;ll address some of your concerns inline.

<font color='#7F7E6F'>&#62; that xrootd is mentioned briefly, it doesn&#39;t mention how the</font>
<font color='#7F7E6F'>&#62; authentication is done with lcmaps for an xrootd proxy server, so I</font>
<font color='#7F7E6F'>&#62; thought I&#39;d ask to make sure that this transition will work</font>
<font color='#7F7E6F'>&#62; transparently for our OSCER proxy server, se1.oscer.ou.edu , therefore</font>
<font color='#7F7E6F'>&#62; I&#39;m adding Andy, Wei, and Patrick to this thread.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Has anyone tested this? In particular for EL7?</font>

Yes, we definitely need docs for XRootD.  We&#39;ve got a JIRA ticket for
something like that&#58; <a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-2949' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-2949</a>
The software team hasn&#39;t tested it, but I believe some folks at Nebraska
did, so I have to talk to them.

<font color='#7F7E6F'>&#62; I see this paragraph&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#34;2. If you are remaining on OSG 3.3, ensure that the you have set export</font>
<font color='#7F7E6F'>&#62; LLGT_VOMS_ENABLE_CREDENTIAL_CHECK=1 in the appropriate file and restart</font>
<font color='#7F7E6F'>&#62; the service. If you have updated your host to OSG 3.4, skip to the next</font>
<font color='#7F7E6F'>&#62; step.&#34;</font>

This part of the doc is outdated (jeez, brand new doc and it&#39;s already
outdated).  We were initially worried that globally enabling VOMS
credential checks in LCMAPS would cause problems so we only did it for
3.4 and had people with 3.3 use that environment variable instead.

A month or two ago we decided that there was nothing to worry about with
the credential checks and turned them on in 3.3 as well, making that
environment variable unnecessary as long as you updated to the latest
lcmaps* packages in 3.3.

<div id='show_944815420' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_944815420'><font color='#7F7E6F'>&#62; Also, why is one only supposed to erase the edg-mkgridmap RPM for 3.4,</font>
<font color='#7F7E6F'>&#62; but not for 3.3? Are there dependency differences? I think it&#39;d be</font>
<font color='#7F7E6F'>&#62; nice to explain these difference a bit better, so that people</font>
<font color='#7F7E6F'>&#62; understand why they need to do this ...</font>

Yeah, it&#39;s a dependency issue. Our 3.3 metapackages (osg-ce,
osg-gridftp-xrootd, etc.) still require edg-mkgridmap.  I&#39;ll make that
more explicit in the doc.

<font color='#7F7E6F'>&#62; So these seem to be actual differences between 3.3 and 3.4, by the</font>
<font color='#7F7E6F'>&#62; way, so your earlier statement that they&#39;re identical doesn&#39;t seem to</font>
<font color='#7F7E6F'>&#62; be quite accurate. ;)</font>

Yep.  Shows how much we know. &#58;P

Also, I&#39;ve been told that a lot of ATLAS XRootD sites use
xrootd-voms-plugin instead of xrootd-lcmaps (Andy or Wei, can you
confirm?).  If that&#39;s what your site uses, then you don&#39;t have to make
this change for your XRootD servers, only your CEs and GridFTP servers.

-Mat
</div><script type='text/javascript'>
        $('#show_944815420').click(function() {
            $('#detail_944815420').slideDown("normal");
            $('#show_944815420').hide();
            $('#hide_944815420').show();
        });
        $('#hide_944815420').click(function() {
            $('#detail_944815420').slideUp();
            $('#hide_944815420').hide();
            $('#show_944815420').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1518193635'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-09T16:27:15+00:00">Feb 9, 2018 04:27 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518193635">&nbsp;</a></div><pre>Hi again,

I&#39;m reading up more on this, and while I see here

<a href='https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/</a>

that xrootd is mentioned briefly, it doesn&#39;t mention how the
authentication is done with lcmaps for an xrootd proxy server, so I
thought I&#39;d ask to make sure that this transition will work
transparently for our OSCER proxy server, se1.oscer.ou.edu , therefore
I&#39;m adding Andy, Wei, and Patrick to this thread.

Has anyone tested this? In particular for EL7?

I see this paragraph&#58;

&#34;2. If you are remaining on OSG 3.3, ensure that the you have set export
LLGT_VOMS_ENABLE_CREDENTIAL_CHECK=1 in the appropriate file and restart
the service. If you have updated your host to OSG 3.4, skip to the next
step.&#34;

What would be &#39;the appropriate file&#39; here? I&#39;m not sure what this is
referring to. The two files listed below for HTCondor-CE and GridFTP
server? If so, I suggest to add &#39;below&#39; to &#39;the appropriate file&#39;, to
make this easier to understand.

If my understanding here is correct, what would be the appropriate file
for an XRootD proxy server?

Why does this step only need to be done for 3.3 and not for 3.4? Also,
why is one only supposed to erase the edg-mkgridmap RPM for 3.4, but not
for 3.3? Are there dependency differences? I think it&#39;d be nice to
explain these difference a bit better, so that people understand why
they need to do this ...

<div id='show_1196699986' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1196699986'>So these seem to be actual differences between 3.3 and 3.4, by the way,
so your earlier statement that they&#39;re identical doesn&#39;t seem to be
quite accurate. ;)

Thanks,

Horst
</div><script type='text/javascript'>
        $('#show_1196699986').click(function() {
            $('#detail_1196699986').slideDown("normal");
            $('#show_1196699986').hide();
            $('#hide_1196699986').show();
        });
        $('#hide_1196699986').click(function() {
            $('#detail_1196699986').slideUp();
            $('#hide_1196699986').hide();
            $('#show_1196699986').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1518104713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-08T15:45:13+00:00">Feb 8, 2018 03:45 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518104713">&nbsp;</a></div><pre>Sure, will do!

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1518103936'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-08T15:32:16+00:00">Feb 8, 2018 03:32 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518103936">&nbsp;</a></div><pre>If you think these notes would be useful to a wider audience, please share them with us too!

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='35956#1518098593'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-08T14:03:13+00:00">Feb 8, 2018 02:03 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518098593">&nbsp;</a></div><pre>Thanks Patrick,

I&#39;ll ask Bob in a private email if he has some notes there.

Cheers,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1518078767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-08T08:32:47+00:00">Feb 8, 2018 08:32 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1518078767">&nbsp;</a></div><pre>Hi Horst,

I don&#39;t think there is a page.  I am basing this on the conversations
we had
with Bob Ball, back in October, check your mail archive or the Tier2
list for
USATLAS.

Patrick

On 02/07/2018 05&#58;22 PM, OSG GOC TX via RT wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;    *Ticket URL&#58;*</font>
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183</a>
<font color='#7F7E6F'>&#62;    *Requestors&#58;*  tx+rtbnlprod_fp71@....</font>
<font color='#7F7E6F'>&#62;           *Ccs&#58;*  (None)</font>
<font color='#7F7E6F'>&#62;         *Queue&#58;*  SWTier2</font>
<font color='#7F7E6F'>&#62;         *Owner&#58;*  Patrick McGuigan</font>
<font color='#7F7E6F'>&#62;        *Status&#58;*  /open/</font>
<font color='#7F7E6F'>&#62;      *Priority&#58;*  /Low/</font>
<font color='#7F7E6F'>&#62;   *Transaction&#58;*  Correspondence added by osg-goc-rest</font>
<font color='#7F7E6F'>&#62;       *Subject&#58;*  Transitioning OSCER to LCMAPS VOMS authentication</font>
<font color='#7F7E6F'>&#62;            *OSG GOC Ticket&#58;*  35956</font>
&#60;<a href='https&#58;//ticket.grid.iu.edu/goc/viewer?id=35956&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=35956&#62</a>;
<font color='#7F7E6F'>&#62;       *Resource Group Name&#58;*  OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;                   *VO Name&#58;*  ATLAS</font>
<font color='#7F7E6F'>&#62;             *Resource Name&#58;*  OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
--------------------------------------------------------------------------------
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks Patrick,</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_1420314126' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1420314126'><font color='#7F7E6F'>&#62; this information is very useful! Can you point me to a web page</font>
<font color='#7F7E6F'>&#62; that has more info on what these extra steps would be?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I can probably test these on our OUHEP_ITB CE. I just don&#39;t want to</font>
<font color='#7F7E6F'>&#62; mess with our production site until I know what I&#39;m doing. &#58;)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks a lot,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 	Horst</font>
<font color='#7F7E6F'>&#62;   -- by Horst Severini at Wed Feb 07 23&#58;21&#58;13 UTC 2018</font>
<font color='#7F7E6F'>&#62;</font>

-- by mcguigan@.... at Thu Feb 08 08&#58;32&#58;37 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183
</div><script type='text/javascript'>
        $('#show_1420314126').click(function() {
            $('#detail_1420314126').slideDown("normal");
            $('#show_1420314126').hide();
            $('#hide_1420314126').show();
        });
        $('#hide_1420314126').click(function() {
            $('#detail_1420314126').slideUp();
            $('#hide_1420314126').hide();
            $('#show_1420314126').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1518045673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-07T23:21:13+00:00">Feb 7, 2018 11:21 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518045673">&nbsp;</a></div><pre>Thanks Patrick,

this information is very useful! Can you point me to a web page
that has more info on what these extra steps would be?

I can probably test these on our OUHEP_ITB CE. I just don&#39;t want to
mess with our production site until I know what I&#39;m doing. &#58;)

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1518044616'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-07T23:03:36+00:00">Feb 7, 2018 11:03 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1518044616">&nbsp;</a></div><pre>Just to weigh in a bit.

I believe there were some extra setups to the default lcmaps
configuration for
USATLAS.  If you want to test somethings before going live, I can
replicate your
configuration on a test machine and you can verify mappings with some
of the
certs to make sure.

Regards,

Patrick

On 02/07/2018 05&#58;01 PM, OSG GOC TX via RT wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;    *Ticket URL&#58;*</font>
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=28183</a>
<font color='#7F7E6F'>&#62;    *Requestors&#58;*  tx+rtbnlprod_fp71@....</font>
<font color='#7F7E6F'>&#62;           *Ccs&#58;*  (None)</font>
<font color='#7F7E6F'>&#62;         *Queue&#58;*  SWTier2</font>
<font color='#7F7E6F'>&#62;         *Owner&#58;*  Patrick McGuigan</font>
<font color='#7F7E6F'>&#62;        *Status&#58;*  /new/</font>
<font color='#7F7E6F'>&#62;      *Priority&#58;*  /Low/</font>
<font color='#7F7E6F'>&#62;   *Transaction&#58;*  Correspondence added by osg-goc-rest</font>
<font color='#7F7E6F'>&#62;       *Subject&#58;*  Transitioning OSCER to LCMAPS VOMS authentication</font>
<font color='#7F7E6F'>&#62;            *OSG GOC Ticket&#58;*  35956</font>
&#60;<a href='https&#58;//ticket.grid.iu.edu/goc/viewer?id=35956&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=35956&#62</a>;
<font color='#7F7E6F'>&#62;       *Resource Group Name&#58;*  OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;                   *VO Name&#58;*  ATLAS</font>
<font color='#7F7E6F'>&#62;             *Resource Name&#58;*  OU_OSCER_ATLAS</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_1181624671' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1181624671'>--------------------------------------------------------------------------------
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Yep, that should be all you need to do.</font>
<font color='#7F7E6F'>&#62;   -- by Matyas Selmeci at Wed Feb 07 23&#58;00&#58;25 UTC 2018</font>
<font color='#7F7E6F'>&#62;</font>

-- by mcguigan@.... at Wed Feb 07 23&#58;03&#58;28 UTC 2018

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=28183
</div><script type='text/javascript'>
        $('#show_1181624671').click(function() {
            $('#detail_1181624671').slideDown("normal");
            $('#show_1181624671').hide();
            $('#hide_1181624671').show();
        });
        $('#hide_1181624671').click(function() {
            $('#detail_1181624671').slideUp();
            $('#hide_1181624671').hide();
            $('#show_1181624671').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1518044425'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-07T23:00:25+00:00">Feb 7, 2018 11:00 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518044425">&nbsp;</a></div><pre>Yep, that should be all you need to do.</pre></div><div class='update_description'><i onclick="document.location='35956#1518043872'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-07T22:51:12+00:00">Feb 7, 2018 10:51 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1518043872">&nbsp;</a></div><pre>Hi all,

okay, thanks! I looked around a bit, and my link to

<a href='https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallLcmapsVoms' target='_blank' rel='nofollow'>https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallLcmapsVoms</a>

wasn&#39;t working anymore, but I found this page&#58;

<a href='https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/</a>

That&#39;s the most up to date one, right?

So just to make sure I&#39;m not forgetting anything important here&#58;
All I need to do to switch from edg-mkgridmap to lcmaps is disable
the former and enale the latter in the ini file&#58;

edit_lcmaps_db = True
authorization_method = vomsmap
allowed_vos = atlas, dosar

and re-run osg-configure, and the defaults should pretty much be the same,
right?

For example, edg-mkgridmap picked the first match it finds, and lcmaps
does the same, according to the page above?

Anything else I ened to watch out for for this migration?

I guess there is no more daemon or cron job for lcmaps, like there was
for edg-mkgridmap? It&#39;s just called whenever a job comes in,
and then cached for a while?

We probably won&#39;t be able to do this until the next scheduled OSCER
maintenance, which might be a few weeks. But I&#39;ll make sure we&#39;ll
be ready for it when it happens!
<div id='show_835827322' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_835827322'>
Thanks,

Horst
</div><script type='text/javascript'>
        $('#show_835827322').click(function() {
            $('#detail_835827322').slideDown("normal");
            $('#show_835827322').hide();
            $('#hide_835827322').show();
        });
        $('#hide_835827322').click(function() {
            $('#detail_835827322').slideUp();
            $('#hide_835827322').hide();
            $('#show_835827322').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35956#1518038117'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-07T21:15:17+00:00">Feb 7, 2018 09:15 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518038117">&nbsp;</a></div><pre>Nope.

On Wed, 2018-02-07 at 20&#58;59 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35956#1518037198'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-07T20:59:58+00:00">Feb 7, 2018 08:59 PM UTC</time><a class="anchor" name="1518037198">&nbsp;</a></div><pre>Mat,

Are there any differences between 3.3 and 3.4 lcmaps?

Thanks,
Carl

by EDQUIST@....</pre></div><div class='update_description'><i onclick="document.location='35956#1517600686'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-02T19:44:46+00:00">Feb 2, 2018 07:44 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1517600686">&nbsp;</a></div><pre>Assigning to Mat.

Horst, the 3.3 and 3.4 lcmaps versions should be nearly identical at this point. The minor differences escape me right now but Mat should be able to speak to them.</pre></div><div class='update_description'><i onclick="document.location='35956#1517599769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-02T19:29:29+00:00">Feb 2, 2018 07:29 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1517599769">&nbsp;</a></div><pre>Horst,

Unfortunately for most of these resources that I opened tickets for, they aren&#39;t registered, so I can&#39;t put a resource name in the subject line.  Yours, luckily, actually had one of the DNs belonging to a resource registered in OIM, but for the majority of the other ~15 tickets, there wasn&#39;t that luxury for us, so we were guessing.  But I&#39;ve added your resource name.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='35956#1517596572'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-02T18:36:12+00:00">Feb 2, 2018 06:36 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1517596572">&nbsp;</a></div><pre>Hi Kyle,

yes, I was just about to hit you with my pet peeve, that the subject line
of any ticket should contain the site name, so that it&#39;s easier for site
admins to spot which site the issue is about. &#58;)

Yes, updating OSCER is certainly on our to-do list. Has someone verified
that the lcmaps version that&#39;s in osg-3.3 is now fully functional?
When we tested the version in osg-3.4, there were problems with the 3.3
version, but that was a while ago, and I haven&#39;t looked at it in a while.

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='35956#1517595494'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-02T18:18:14+00:00">Feb 2, 2018 06:18 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1517595494">&nbsp;</a></div><pre>Removing UCD from the subject line.  Copy and pasting the subject line caught me there. My apologies.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='35956#1517595306'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-02T18:15:06+00:00">Feb 2, 2018 06:15 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1517595306">&nbsp;</a></div><pre>As part of the VOMS Admin server retirement (<a href='https&#58;//opensciencegrid.github.io/technology/policy/voms-admin-retire/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/technology/policy/voms-admin-retire/</a>), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (<a href='http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/</a>). If you are receiving this e-mail, we&#39;ve identified the following hosts at your site querying VOMS Admin servers in the OSG&#58;

- /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=grid1.oscer.ou.edu
- /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=ouhep0.nhn.ou.edu
- /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=se1.oscer.ou.edu
- 43.39.RZ42.oscer.ou.edu
- 43.41.RZ42.oscer.ou.edu

For edg-mkgridmap users, you can find specific instructions here&#58; <a href='http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.</a>

For GUMS users, we can assist with the transition. If you would like help, please attach &#39;/etc/gums/gums.config&#39;, redacting the &#39;hibernate.connection.username&#39; and &#39;hibernate.connection.password&#39;. If you are unable to update your GUMS server at this time, you need to update the lcmaps package (latest OSG 3.3 version is 1.6.6-1.9) for all clients of your GUMS server (HTCondor-CE&#39;s, GridFTP servers, etc.). This causes lcmaps to perform VOMS attribute verification instead of GUMS. Note&#58; as VOMS Admin servers are retired, errors will appear in GUMS when VO member lists are updated. This is OK if you have updated lcmaps on your clients.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><a href="35885"><b>35885</b> Transitioning FNAL to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

    - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=cmssrv226.fnal.gov
    - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=gums1.fnal.gov
    - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=gums2.fnal.gov
    - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=gums3.fnal.gov
    - /DC=org/DC=opensciencegrid/O=Open </p><a href="36189"><b>36189</b> Transitioning UTA to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=http/gk02.swt2.uta.edu


For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps</p><a href="36187"><b>36187</b> Transitioning BU to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=atlas-ce.bu.edu


For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-a</p><a href="35954"><b>35954</b> Transitioning BNL to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

        - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=gums.racf.bnl.gov

For edg-mkgridmap users, you can find specific instructions here: http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, we can assist with the transition. If you would like help, please attach '/etc/gums/gums.config',</p><a href="35958"><b>35958</b> Transitioning SLAC to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

        - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=osggums02.slac.stanford.edu

For edg-mkgridmap users, you can find specific instructions here: http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, we can assist with the transition. If you would like help, please attach '/etc/gums/gum</p><a href="35889"><b>35889</b> Transitioning Brown to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

    - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=http/gums.hep.brown.edu

For edg-mkgridmap users, you can find specific instructions here: http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, we can assist with the transition. If you would like help, please attach '/etc/gums/gums.config</p><a href="35886"><b>35886</b> Transitioning Purdue to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

    - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=vo.rcac.purdue.edu


For edg-mkgridmap users, you can find specific instructions here: http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, we can assist with the transition. If you would like help, please attach '/etc/gums/gums.config', </p><a href="36178"><b>36178</b> Transitioning Bellarmine to LCMAPS VOMS authentication (Resolved)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=tier2-osg1.bellarmine.edu
  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=tier2-osg2.bellarmine.edu

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, y</p><a href="36343"><b>36343</b> CalTech - Transitioning to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement
(https://opensciencegrid.github.io/technology/policy/voms-admin-retire/),
we are encouraging sites using edg-mkgridmap or GUMS to make the
transition to LCMAPS VOMS Admin
(http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If
you are receiving this e-mail, we've identified the following hosts at
your site querying VOMS Admin servers in the OSG at least once in the past few months:

- Caltech
  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=gums2.ultralight.org

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
htt</p><a href="36340"><b>36340</b> SMU - Transitioning to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement
(https://opensciencegrid.github.io/technology/policy/voms-admin-retire/),
we are encouraging sites using edg-mkgridmap or GUMS to make the
transition to LCMAPS VOMS Admin
(http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If
you are receiving this e-mail, we've identified the following hosts at
your site querying VOMS Admin servers in the OSG at least once in the past few months:

- SMU
  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=http/mfosggums.hpc.smu.edu

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
h</p><a href="36341"><b>36341</b> UCR - Transitioning to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement
(https://opensciencegrid.github.io/technology/policy/voms-admin-retire/),
we are encouraging sites using edg-mkgridmap or GUMS to make the
transition to LCMAPS VOMS Admin
(http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If
you are receiving this e-mail, we've identified the following hosts at
your site querying VOMS Admin servers in the OSG at least once in the past few months:

- UC Riverside
  - /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=http/bottom.ucr.edu

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
</p><a href="36181"><b>36181</b> Transitioning TAMU to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

  - gw01.brazos.tamu.edu

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-gums

If you are unable to </p><a href="36180"><b>36180</b> Transitioning Minnesota to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

  - gc1-hn.spa.umn.edu

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-gums

If you are unable to up</p><a href="36339"><b>36339</b> KISTI - Transitioning to LCMAPS VOMS authentication (Closed)</a><p>As part of the VOMS Admin server retirement
(https://opensciencegrid.github.io/technology/policy/voms-admin-retire/),
we are encouraging sites using edg-mkgridmap or GUMS to make the
transition to LCMAPS VOMS Admin
(http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If
you are receiving this e-mail, we've identified the following hosts at
your site querying VOMS Admin servers in the OSG at least once in the past few months:

- KISTI
   - /C=KR/O=KISTI/O=KISTI/CN=host/gums.sdfarm.kr

For edg-mkgridmap users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, you can find specific instructions here:
http://opensciencegrid.github.io/docs/secu</p><a href="35883"><b>35883</b> Transitioning Hyak_CE to LCMAPS VOMS authentication (Closed)</a><p>Dear Stephen Fralich,

As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

Hyak_CE ( globus1.hyak.washington.edu )

For edg-mkgridmap users, you can find specific instructions here: http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, we can assist with the transition. If you would like help, please attach '/etc/gums/gums.config', redacting the 'hibernate</p><a href="35880"><b>35880</b> Transitioning UMD_GUMS to LCMAPS VOMS authentication (Closed)</a><p>Dear Shabnam Jabeen,

As part of the VOMS Admin server retirement (https://opensciencegrid.github.io/technology/policy/voms-admin-retire/), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/). If you are receiving this e-mail, we've identified the following hosts at your site querying VOMS Admin servers in the OSG:

UMD_GUMS ( hepcmsdev-6.umd.edu )

For edg-mkgridmap users, you can find specific instructions here: http://opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.

For GUMS users, we can assist with the transition. If you would like help, please attach '/etc/gums/gums.config', redacting the 'hibernate.connect</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F35956">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 35956});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
