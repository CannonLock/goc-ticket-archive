<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[26043] mount /cvmfs/atlas.cern.ch at SU-OG</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=26043" method="post">
<div class="page-header">
    <h3><span class="muted">26043</span> / mount /cvmfs/atlas.cern.ch at SU-OG</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jose Caballero</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">SU-OG-CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">OSG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jose Caballero</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">CSC</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-07-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/26043", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/26043?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/26043?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20mount%20%2Fcvmfs%2Fatlas.cern.ch%20at%20SU-OG%20ISSUE%3D26043%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='26043#1437489796'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-21T14:43:16+00:00">Jul 21, 2015 02:43 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1437489796">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='26043#1437403258'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-20T14:40:58+00:00">Jul 20, 2015 02:40 PM UTC</time><a class="anchor" name="1437403258">&nbsp;</a></div><pre>We&#39;re good with /tmp for now, so this can be closed.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1437400287'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-20T13:51:27+00:00">Jul 20, 2015 01:51 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1437400287">&nbsp;</a></div><pre>If the sys admins at SU are OK with ATLAS jobs writing in /tmp/, then
yes, the issue is resolved.

Cheers,
Jose

On 07/20/2015 08&#58;47 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='26043#1437396440'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-20T12:47:20+00:00">Jul 20, 2015 12:47 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1437396440">&nbsp;</a></div><pre>Hello All,

So it looks like for now that this issue has been resolved. Can we close this and Jose can submit new tickets for the other issues perviously mentioned?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26043#1437149886'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T16:18:06+00:00">Jul 17, 2015 04:18 PM UTC</time><a class="anchor" name="1437149886">&nbsp;</a></div><pre>I&#39;m not seeing any place in the CE where those variables get set via configuration files, so they must be somewhere in code.  They must be defaults, definitely not something we did intentionally when setting up the CE.  Right now I can&#39;t think of a reason not to use /tmp (it already contains glidein directories/files) so let&#39;s go with that for now and we&#39;ll change it later if necessary.

Thanks,
Rich

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1437147939'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T15:45:39+00:00">Jul 17, 2015 03:45 PM UTC</time><a class="anchor" name="1437147939">&nbsp;</a></div><pre>OK. Do you want the /tmp/ to be the scratch area for the jobs?
I got that at SU the wanted scratch area is the initial working directory, where condor places the running jobs... At least that is what the fact that env vars $TMP, $TEMP and $TMPDIR points to initial working directory suggests.
The ATLAS jobs uses first the value of $OSG_WN_TMP. If you are OK with ATLAS jobs writing content in /tmp/, then we are fine.

Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1437147533'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T15:38:53+00:00">Jul 17, 2015 03:38 PM UTC</time><a class="anchor" name="1437147533">&nbsp;</a></div><pre>It seems to be working, I see OSG_WN_TMP=&#39;/tmp&#39; in the environment for jobs created since I made the change.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1437143585'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T14:33:05+00:00">Jul 17, 2015 02:33 PM UTC</time><a class="anchor" name="1437143585">&nbsp;</a></div><pre>Hi

reading the content of CE setup file /etc/osg/config.d/10-storage.ini  I see this paragraph&#58;

; The worker_node_temp directory should point to a directory that can be used
; as scratch space on compute nodes, it should allow read and write access on the
; worker nodes but can be local to each worker node
;
; If you have setup your job manager to dynamically set this for jobs, set this
; to UNAVAILABLE.  However, you must make sure that this variable is set when
; OSG jobs run otherwise jobs will most likely fail
;
; YOU WILL NEED TO CHANGE THIS
worker_node_temp = /tmp

So I understand the OSG code will assign the value of variable &#34;worker_node_temp&#34; to env var $OSG_WN_TMP, or let the batch system do it if &#34;worker_node_temp=UNAVAILABLE&#34;.
And given the fact that all jobs running at SU have the env vars $TMP, $TEMP and $TMPDIR pointing to the initial working directory (for example, /var/lib/condor/execute/dir_22792 ) I assume those variables are being set by condor itself.
So I guess $OSG_WN_TMP can be set at the same place by condor as well.

However, I am not an expert on CE myself.

Cheers,
Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1437142106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T14:08:26+00:00">Jul 17, 2015 02:08 PM UTC</time><a class="anchor" name="1437142106">&nbsp;</a></div><pre>Of course I meant OSG_WN_TMP.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1437142048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T14:07:28+00:00">Jul 17, 2015 02:07 PM UTC</time><a class="anchor" name="1437142048">&nbsp;</a></div><pre>So do you think that setting OST_WN_TMP to TMP is sufficient?  I&#39;m not sure when each one is defined.

Rich

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1436997926'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-15T22:05:26+00:00">Jul 15, 2015 10:05 PM UTC</time><a class="anchor" name="1436997926">&nbsp;</a></div><pre>Update&#58;

-- the problem with curl is understood. It seems to happen only when the jobs download a tarball with some HEPOS_libs (needed to run ATLAS Software) and they are added to the LD_LIBRARY_PATH. If I don&#39;t do that, curl command works fine. So you don&#39;t need to worry about that anymore.

-- the OSG_WN_TMP variable is still empty. That should be fixed, I guess, and made it to point to the same directory that TMP, which happens to be the current working directory.

-- I don&#39;t see LOGNAME variable in the environment. Hmmm. I know some python code in the ATLAS SW stack runs function getuser( ) which looks first to LOGNAME to figure out the running user. Not sure if this could be a problem or not. So let&#39;s not worry about it, yet.

-- I see UNIX ID is &#34;nobody&#34;. I have seen that before. Seems to be the user by default assigned by the HTCondor-CE. It is not cool, but not necessarily problematic, unless some code in the ATLAS SW stack checks the password db to find out the running user. Then it could be an issue. But let&#39;s not worry about it yet.

Summary&#58; the urgent thing is the empty OSG_WN_TMP env var. If that can be fixed, that would be cool. And this ticket could be closed. I can open a new one if other issues arise.

Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1436975956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-15T15:59:16+00:00">Jul 15, 2015 03:59 PM UTC</time><a class="anchor" name="1436975956">&nbsp;</a></div><pre>I have submitted a small testing bash script that only runs that command and nothing else, and it seems it worked fine.
Then I went to check the status of the real ATLAS jobs in our pilot factory, and I noticed that since yesterday morning ( ~ Jul 13 06 AM Eastern Time ) the factory pilots have the condor output and condor error files empty. The condor logs include a message like this&#58;

009 (8107195.000.000) 07/13 06&#58;17&#58;28 Job was aborted by the user.
CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1436904574'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-14T20:09:34+00:00">Jul 14, 2015 08:09 PM UTC</time><a class="anchor" name="1436904574">&nbsp;</a></div><pre>No I cannot try the exact command because I&#39;m just testing from a shell on our CE so I don&#39;t have the key and cert locations in /var/lib/condor/execute/... What I was referring to is the name mismatch between the site name and the certificate common name.  When I use curl I do see that it cannot verify the certificate but that could be the name mismatch, or the CA cert missing from the chain, I don&#39;t know.  If I run it with the &#34;-k&#34; switch I get past that step.  I&#39;m just throwing out observations here, as I don&#39;t really know how else to help you debug this.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1436903781'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-14T19:56:21+00:00">Jul 14, 2015 07:56 PM UTC</time><a class="anchor" name="1436903781">&nbsp;</a></div><pre>Hi,

what do you mean exactly by &#34;the certificate does not match the site&#34;?
Did you try the exact command?
I know the site will reject the connection if the certificate is not one of the ATLAS approved ones.

The another thing is that that command is not under my control. Is part of the ATLAS code, so I don&#39;t have control over it. It must work, or the site cannot be used.

As I pointed, I have seen that error before in dedicated ATLAS sites where it was not expected to happen. Usually (but I cannot confirm that always) when the CE is HTCondor-CE.

Cheers,
Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1436902280'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-14T19:31:20+00:00">Jul 14, 2015 07:31 PM UTC</time><a class="anchor" name="1436902280">&nbsp;</a></div><pre>We will look into getting $OSG_WN_TMP set properly.  As for the curl command, when I go to that URL myself the certificate does not match the site, so maybe something needs to be less strict about checking the server certificate?  I&#39;m only guessing at this point.

Rich

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1436800558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-13T15:15:58+00:00">Jul 13, 2015 03:15 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436800558">&nbsp;</a></div><pre>Hello All,

Does anyone have an update on this? I looked through Google to find any information on this error that might help. What I found, some was old some, some more recent, I&#39;m not sure any of it applies to this situation.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26043#1436388783'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-08T20:53:03+00:00">Jul 8, 2015 08:53 PM UTC</time><a class="anchor" name="1436388783">&nbsp;</a></div><pre>Yup, $OSG_WN_TMP should have a valid value.

Meanwhile, I modified the job code to use [temporarily] $TMP when $OSG_WN_TMP is not properly set.
Now I am having a problem with SSL.
When the jobs try to contact the WMS service (PanDA in the case of ATLAS) with a command like this&#58;

$ curl --silent --show-error --connect-timeout 100 --max-time 120 --compressed --capath /etc/grid-security/certificates --cert /var/lib/condor/execute/dir_22930/jhovercernprodProxy --cacert /var/lib/condor/execute/dir_22930/jhovercernprodProxy --key /var/lib/condor/execute/dir_22930/jhovercernprodProxy --config /var/lib/condor/execute/dir_22930/curl.config <a href='https&#58;//pandaserver.cern.ch&#58;25443/server/panda/getJob' target='_blank' rel='nofollow'>https&#58;//pandaserver.cern.ch&#58;25443/server/panda/getJob</a>

it fails.
The job logs have these messages&#58;

curl&#58; (77) Problem with the SSL CA cert (path? access rights?)

I have seen that in other places before. Usually associated to the HTCondor-CE.
Anything I can do on my side to help troubleshooting this?

Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1436302211'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-07T20:50:11+00:00">Jul 7, 2015 08:50 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1436302211">&nbsp;</a></div><pre>Jose, you are 50% on the Software team!!! It would be good to familiarize yourself with the Release3 documentation area. The $OSG_WN_TMP variable is described on this page&#58;

<a href='https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/LocalStorageConfiguration' target='_blank' rel='nofollow'>https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/LocalStorageConfiguration</a>

So maybe the Syracuse folks did not set up the storage section correctly? Seems like “none” for a value is not good.</pre></div><div class='update_description'><i onclick="document.location='26043#1436293914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-07T18:31:54+00:00">Jul 7, 2015 06:31 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436293914">&nbsp;</a></div><pre>Jose,

I am looking into this, I will let you know when and If I have more, unless someone else beats me to it.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26043#1436211411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-06T19:36:51+00:00">Jul 6, 2015 07:36 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436211411">&nbsp;</a></div><pre>Jose,

I&#39;m not sure, maybe one of the others on this ticket knows that answer.

~Chris</pre></div><div class='update_description'><i onclick="document.location='26043#1435762582'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-01T14:56:22+00:00">Jul 1, 2015 02:56 PM UTC</time><a class="anchor" name="1435762582">&nbsp;</a></div><pre>OK. Now I understand why the df command is giving such a weird result. Tracking it back to the source, the origin of the problem is the fact that the environment variable $OSG_WN_TMP  has a value, but it is string &#34;None&#34;.
Is that a bug or a feature?

Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1435762576'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-01T14:56:16+00:00">Jul 1, 2015 02:56 PM UTC</time><a class="anchor" name="1435762576">&nbsp;</a></div><pre>OK. Now I understand why the df command is giving such a weird result. Tracking it back to the source, the origin of the problem is the fact that the environment variable $OSG_WN_TMP  has a value, but it is string &#34;None&#34;.
Is that a bug or a feature?

Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1435750756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-01T11:39:16+00:00">Jul 1, 2015 11:39 AM UTC</time><a class="anchor" name="1435750756">&nbsp;</a></div><pre>A new issue.

After removing that check on cvmfs, in order to keep moving, the job failed again because the command &#34;df -mP &#60;working dir&#62;&#34; apparently returns 0. No space left on that disk partition?
I am not 100% sure how to troubleshoot this.
id tell me the job is running as &#34;nobody&#34;.
$LOGNAME  is not defined.
$HOME is set to /home/star

The code running that &#34;df&#34; command is not mine, not under my control. It&#39;s part of the ATLAS SW. I am debugging trying to figure the exact df command was executed. At the time being, it looks to me it was &#34;df -mP None/Panda_Pilot_53782_1435749174&#34;  (which is not surprising it fails), but it could also be &#34;df -mP /var/lib/condor/execute/dir_52681&#34;. Not sure at this time.

Jose

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1435700822'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-30T21:47:02+00:00">Jun 30, 2015 09:47 PM UTC</time><a class="anchor" name="1435700822">&nbsp;</a></div><pre>Oh, yeah. CVMFS repos are &#34;not&#34; mounted, it is an automount service. You are right. Sorry I expressed myself unclearly.
The thing is that my job tries some check at the very beginning to confirm that the cvmfs repo is properly configured so it can be mounted. And the way the check is done is by running a command like &#34;timeout 10 time ls /cvmfs/...somepath ..../&#34;
That testing command failed, actually. So I interpreted it as that the cvmfs atlas repo couldn&#39;t be mounted. Maybe it was something more basic, like command timeout or time is not in the $PATH, or something like that...

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><div class='update_description'><i onclick="document.location='26043#1435677890'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-30T15:24:50+00:00">Jun 30, 2015 03:24 PM UTC</time><a class="anchor" name="1435677890">&nbsp;</a></div><pre>We don&#39;t explicitly mount anything in the clients when they boot but I logged into one which is currently running an OSG job and when I change to the /cvmfs/atlas.cern.ch directory it does get automounted.  Is this sufficient for your jobs?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Richard Ameele 2584</pre></div><div class='update_description'><i onclick="document.location='26043#1435656059'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-30T09:20:59+00:00">Jun 30, 2015 09:20 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1435656059">&nbsp;</a></div><pre>Is the CVMFS client at Syracuse configured to mount /cvmfs/atlas.cern.ch/ repository?
If not, can it be done?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F26043">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
