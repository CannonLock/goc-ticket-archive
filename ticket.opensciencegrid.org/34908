<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[34908] Submitting test NOvA jobs throught new FZU_OSG_CE1</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=34908" method="post">
<div class="page-header">
    <h3><span class="muted">34908</span> / Submitting test NOvA jobs throught new FZU_OSG_CE1</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Petr Vokac</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">FZU_OSG_CE1</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Nova</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Petr Vokac</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Fermilab_FIFE_Offsite</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-10-23</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">FZU <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">FNAL (Prod)&nbsp;<a target="_blank" href="https://fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000884479">INC000000884479</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=34908", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/34908?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/34908?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Submitting%20test%20NOvA%20jobs%20throught%20new%20FZU_OSG_CE1%20ISSUE%3D34908%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='34908#1508361329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-18T21:15:29+00:00">Oct 18, 2017 09:15 PM UTC</time><a class="anchor" name="1508361329">&nbsp;</a></div><pre>Yes, everything looks fine, closing.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1508360041'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-18T20:54:01+00:00">Oct 18, 2017 08:54 PM UTC</time><a class="anchor" name="1508360041">&nbsp;</a></div><pre>Hi,

Good news, I&#39;m seeing the new CE running glideins without issue. Unless Petr has anything else to add, I think we can close this.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='34908#1508183734'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-16T19:55:34+00:00">Oct 16, 2017 07:55 PM UTC</time><a class="anchor" name="1508183734">&nbsp;</a></div><pre>I&#39;m fine with production configuration for osgce1.farm.particle.cz

thanks

Petr

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1508180825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-16T19:07:05+00:00">Oct 16, 2017 07:07 PM UTC</time><a class="anchor" name="1508180825">&nbsp;</a></div><pre>We learned last week the FNAL ITB frontend isn&#39;t fully set up since a migration of services to new hosts. Petr I suggest we just go ahead and push the entry to production, so you can start receiving NOVA pilots. If you are ok with this we will go ahead.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='34908#1507845578'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-12T21:59:38+00:00">Oct 12, 2017 09:59 PM UTC</time><a class="anchor" name="1507845578">&nbsp;</a></div><pre>Hi,

from the Factory side we just need to push this entry to production. However, it seems like testing wasn&#39;t fully signed off? Can Frontend people at FNAL help Petr identify matching issue? We don&#39;t see currently any misconfiguration on the factory end. Or should we just see how it goes when we push entry to production factories in case there is something momentarily unsolvable in Petr&#39;s tests against development env?

Please, advise.

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='34908#1507830539'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-12T17:48:59+00:00">Oct 12, 2017 05:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1507830539">&nbsp;</a></div><pre>Hello,

Is there anything new on this?

Thanks</pre></div><div class='update_description'><i onclick="document.location='34908#1507580378'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-09T20:19:38+00:00">Oct 9, 2017 08:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1507580378">&nbsp;</a></div><pre>Glidein ops,

Your thoughts?

Thanks</pre></div><div class='update_description'><i onclick="document.location='34908#1507158721'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-04T23:12:01+00:00">Oct 4, 2017 11:12 PM UTC</time><a class="anchor" name="1507158721">&nbsp;</a></div><pre>My jobs submitted to htcjsdev01.fnal.gov doesn&#39;t match our site (but I can see on osgce1.farm.particle.cz NOvA pilot jobs from submitted by timm@....)

jobsub_submit --jobsub-server=htcjsdev01.fnal.gov --group=nova --role=Production --resource-provides=usage_model=OFFSITE --site=FZU file&#58;//test.sh
JobsubJobId of first job&#58; 153.0@....

jobsub_q --jobsub-server=htcjsdev01.fnal.gov --group=nova --jobid=153.0@.... --better-analyze

-- Schedd&#58; htcjsdev01.fnal.gov &#58; &#60;131.225.154.88&#58;9615?...

-- Schedd&#58; htcjsdev02.fnal.gov &#58; &#60;131.225.154.92&#58;9615?...
The Requirements expression for job 153.000 is

(target.machine isnt MachineAttrMachine1 &&
target.machine isnt MachineAttrMachine2 &&
(stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites)) &&
(DesiredOS is NULL ||
stringlistimember(Target.IFOS_installed,DesiredOS)) &&
(stringListsIntersect(toUpper(target.HAS_usage_model),toUpper(my.DESIRED_usage_model)))) &&
(TARGET.Arch == &#34;X86_64&#34;) && (TARGET.OpSys == &#34;LINUX&#34;) &&
(TARGET.Disk &#62;= RequestDisk) && (TARGET.Memory &#62;= RequestMemory) &&
(TARGET.HasFileTransfer)

Job 153.000 defines the following attributes&#58;

DESIRED_Sites = &#34;FZU&#34;
DESIRED_usage_model = &#34;OFFSITE&#34;
JobUniverse = 5
RequestDisk = ifThenElse(JobUniverse != 7,35000000,16000)
RequestMemory = ifThenElse(JobUniverse != 7,2000,10)

The Requirements expression for job 153.000 reduces to these conditions&#58;

Slots
Step    Matched  Condition
-----  --------  ---------
<div id='show_1854157981' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1854157981'>[0]          40  target.machine isnt MachineAttrMachine1
[1]          40  target.machine isnt MachineAttrMachine2
[3]           0  stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites)
[5]          40  DesiredOS is NULL
[9]           0  stringListsIntersect(toUpper(target.HAS_usage_model),toUpper(my.DESIRED_usage_model))

153.000&#58;  Run analysis summary ignoring user priority.  Of 40 machines,
40 are rejected by your job&#39;s requirements
0 reject your job because of their own requirements
0 match and are already running your jobs
0 match but are serving other users
0 are available to run your job

WARNING&#58;  Be advised&#58;
No machines matched the jobs&#39;s constraints

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975
</div><script type='text/javascript'>
        $('#show_1854157981').click(function() {
            $('#detail_1854157981').slideDown("normal");
            $('#show_1854157981').hide();
            $('#hide_1854157981').show();
        });
        $('#hide_1854157981').click(function() {
            $('#detail_1854157981').slideUp();
            $('#hide_1854157981').hide();
            $('#show_1854157981').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='34908#1507037959'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-03T13:39:19+00:00">Oct 3, 2017 01:39 PM UTC</time> by <b>echism</b><a class="anchor" name="1507037959">&nbsp;</a></div><pre>Petr,

Should I close this?

Thanks</pre></div><div class='update_description'><i onclick="document.location='34908#1506701877'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-29T16:17:57+00:00">Sep 29, 2017 04:17 PM UTC</time><a class="anchor" name="1506701877">&nbsp;</a></div><pre>Hello,

You are getting this error due to a misconfiguration in our new proxy.
For now you can bypass the proxy submitting to htcjsdev01.fnal.gov or htcjsdev02.fnal.gov.

Cheers,
Bruno

by /DC=org/DC=cilogon/C=US/O=Fermi National Accelerator Laboratory/OU=People/CN=Bruno Coimbra/CN=UID&#58;coimbra</pre></div><div class='update_description'><i onclick="document.location='34908#1506602427'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-28T12:40:27+00:00">Sep 28, 2017 12:40 PM UTC</time><a class="anchor" name="1506602427">&nbsp;</a></div><pre>Hi, I created second ticket <a href='https&#58;//ticket.grid.iu.edu/35012' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/35012</a> (Glidein pilots fails to start at FZU_NOVA_CE), because I thought it is was a different issue, but once that was fixed my test jobs submitted with &#34;--site=FZU&#34; jobsub option were finally matched with our CE.

I&#39;m still not able to submit jobs to test environment at jobsub-dev.fnal.gov using following command&#58;

[vokac@ui3-clued0 IF_SAM]$ jobsub_submit --group=nova --role=Production --resource-provides=usage_model=OFFSITE --site=FZU --jobsub-server=jobsub-dev.fnal.gov file&#58;//test.sh
HTTP response&#58;0 PyCurl Error 35&#58; SSL connect error

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1506437377'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-26T14:49:37+00:00">Sep 26, 2017 02:49 PM UTC</time> by <b>echism</b><a class="anchor" name="1506437377">&nbsp;</a></div><pre>Glidein support,

Do you have any insight?

Thanks</pre></div><div class='update_description'><i onclick="document.location='34908#1506127053'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-23T00:37:33+00:00">Sep 23, 2017 12:37 AM UTC</time><a class="anchor" name="1506127053">&nbsp;</a></div><pre>And now I&#39;m not even able to submit jobs to our production system, because DESIRED_Sites=&#34;FZU&#34; can&#39;t be matched. This was happening already today in the morning then ~ 10am job went through and now I have same problem as in the morning.

export GROUP=nova
source /grid/fermiapp/products/common/etc/setups.sh
setup jobsub_client
setup_fnal_security --production

jobsub_submit --group=nova --resource-provides=usage_model=OFFSITE --site=FZU --role=Production file&#58;//test.sh 120
/fife/local/scratch/uploads/nova/novapro/2017-09-22_193440.096540_4306
/fife/local/scratch/uploads/nova/novapro/2017-09-22_193440.096540_4306/test.sh_20170922_193440_1871074_0_1_.cmd
submitting....
Submitting job(s).
1 job(s) submitted to cluster 44306.
JobsubJobId of first job&#58; 44306.0@....
Use job id 44306.0@.... to retrieve output

&#60;novagpvm02.fnal.gov&#62; jobsub_q --jobid=44306.0@.... --better-analyze

-- Schedd&#58; jobsub01.fnal.gov &#58; &#60;131.225.240.41&#58;9615?...

-- Schedd&#58; jobsub02.fnal.gov &#58; &#60;131.225.152.28&#58;9615?...
The Requirements expression for job 44306.000 is

(((target.Arch == &#34;X86_64&#34;) || (target.Arch == &#34;INTEL&#34;)) &&
(stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites)) &&
(DesiredOS is NULL ||
stringlistimember(Target.IFOS_installed,DesiredOS)) &&
(stringListsIntersect(toUpper(target.HAS_usage_model),toUpper(my.DESIRED_usage_model)))) &&
(TARGET.OpSys == &#34;LINUX&#34;) && (TARGET.Disk &#62;= RequestDisk) &&
(TARGET.Memory &#62;= RequestMemory) && (TARGET.HasFileTransfer)

Job 44306.000 defines the following attributes&#58;

DESIRED_Sites = &#34;FZU&#34;
DESIRED_usage_model = &#34;OFFSITE&#34;
<div id='show_291972621' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_291972621'>JobUniverse = 5
RequestDisk = ifThenElse(JobUniverse != 7,35000000,16000)
RequestMemory = ifThenElse(JobUniverse != 7,2000,10)

The Requirements expression for job 44306.000 reduces to these conditions&#58;

Slots
Step    Matched  Condition
-----  --------  ---------
[0]       18750  target.Arch == &#34;X86_64&#34;
[3]           0  stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites)
[5]       18750  DesiredOS is NULL

44306.000&#58;  Run analysis summary ignoring user priority.  Of 18750 machines,
18302 are rejected by your job&#39;s requirements
0 reject your job because of their own requirements
448 are exhausted partitionable slots
0 match and are already running your jobs
0 match but are serving other users
0 are available to run your job

WARNING&#58;  Be advised&#58;
No machines matched the jobs&#39;s constraints

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975
</div><script type='text/javascript'>
        $('#show_291972621').click(function() {
            $('#detail_291972621').slideDown("normal");
            $('#show_291972621').hide();
            $('#hide_291972621').show();
        });
        $('#hide_291972621').click(function() {
            $('#detail_291972621').slideUp();
            $('#hide_291972621').hide();
            $('#show_291972621').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='34908#1506124294'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-22T23:51:34+00:00">Sep 22, 2017 11:51 PM UTC</time><a class="anchor" name="1506124294">&nbsp;</a></div><pre>Submission fails with &#34;SSL connect error&#34;&#58;

&#60;novagpvm02.fnal.gov&#62; voms-proxy-init -rfc -noregen -key /nashome/v/vokac/.globus/user-cilogon-2017.key -cert /nashome/v/vokac/.globus/user-cilogon-2017.crt -voms fermilab&#58;/fermilab/nova
&#60;novagpvm02.fnal.gov&#62; export GROUP=nova
&#60;novagpvm02.fnal.gov&#62; source /grid/fermiapp/products/common/etc/setups.sh
&#60;novagpvm02.fnal.gov&#62; setup jobsub_client
&#60;novagpvm02.fnal.gov&#62; jobsub_submit -G nova --resource-provides=usage_model=OFFSITE --site=FZU --jobsub-server=jobsub-dev.fnal.gov file&#58;//test.sh 120
HTTP response&#58;0 PyCurl Error 35&#58; SSL connect error

Same error even if I try to use different voms proxy using &#96;setup_fnal_security --production&#96;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1506123017'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-22T23:30:17+00:00">Sep 22, 2017 11:30 PM UTC</time><a class="anchor" name="1506123017">&nbsp;</a></div><pre>Petr,

We&#39;ve just completed a refactor of our cluster and the fifebatch servers. Try jobsub-dev.fnal.gov and see if that works for you. It should be connected to the ITB factory.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='34908#1506117393'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-22T21:56:33+00:00">Sep 22, 2017 09:56 PM UTC</time><a class="anchor" name="1506117393">&nbsp;</a></div><pre>I&#39;m member of NOvA VO, so unless access to ITB is somehow limited/blocked I should be able to submit jobs

I can see default JOBSUB_SERVER (<a href='https&#58;//fifebatch.fnal.gov&#58;8443' target='_blank' rel='nofollow'>https&#58;//fifebatch.fnal.gov&#58;8443</a>) in sources but I have no idea how to find ITB jobsub server URL. I almost forgot that DZero DNS servers have really old configuration that allows zone transfers, so looking at full zone dump I can see some suspicious names, but you are probably right that access to these servers is probably limited, because they doesn&#39;t respond to my jobsub commands.

fifebatch.fnal.gov.	21600	IN	A	131.225.163.33
fifebatch-dev.fnal.gov.	21600	IN	A	131.225.154.18
fifebatch-dev.fnal.gov.	21600	IN	A	131.225.154.17
fifebatch-preprod.fnal.gov. 21600 IN	A	131.225.240.138
fifebatch-preprod.fnal.gov. 21600 IN	A	131.225.240.106

Unfortunately if there is no ITB jobsub server accessible for me than that just means ITB is completely useless for my tests.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1506099722'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-22T17:02:02+00:00">Sep 22, 2017 05:02 PM UTC</time><a class="anchor" name="1506099722">&nbsp;</a></div><pre>Petr, that has to be NoVA Frontend admins who can test the entry I believe. There should be NoVA FE connected to ITB Factory. Ken, could you chime in or should we look for other form of testing from the Factory side?

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='34908#1506089167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-22T14:06:07+00:00">Sep 22, 2017 02:06 PM UTC</time><a class="anchor" name="1506089167">&nbsp;</a></div><pre>To be honest I don&#39;t know how to submit jobs to ITB factory. Normally I&#39;m using &#34;jobsub&#34;, but I don&#39;t know what is the right --jobsub-server for ITB.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1506023009'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-21T19:43:29+00:00">Sep 21, 2017 07:43 PM UTC</time><a class="anchor" name="1506023009">&nbsp;</a></div><pre>Hi all,

I just created this entry in the ITB factory. It is available now for testing. Petr, you can send a SIGTERM or SIGINT to a pilot, but I don&#39;t think it will wait for the underlying job to finish before going away.  Sorry I don&#39;t know any way around this offhand. We can adjust the walltime as you see fit but for now I have it set to 48h as you requested.

Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='34908#1506010516'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-21T16:15:16+00:00">Sep 21, 2017 04:15 PM UTC</time> by <b>echism</b><a class="anchor" name="1506010516">&nbsp;</a></div><pre>Glidein ops said earlier this week that they had a big backlog of work to get through. I&#39;m going to check in with them on Monday if they don&#39;t get to this beforehand. Sorry for the inconvenience!</pre></div><div class='update_description'><i onclick="document.location='34908#1505769811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-18T21:23:31+00:00">Sep 18, 2017 09:23 PM UTC</time><a class="anchor" name="1505769811">&nbsp;</a></div><pre>1) we have 2048mb per core (at least till I finish more clever script for draining HTCondor worker nodes), but I would like to try 2500mb, because jobs can overcommit total memory by factor 1.5

Looking at <a href='https&#58;//cdcvs.fnal.gov/redmine/projects/fife/wiki/Information_about_job_submission_to_OSG_sites' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/projects/fife/wiki/Information_about_job_submission_to_OSG_sites</a> I thing we should support just 48 hours for maxWallTime (otherwise it takes really long time to drain nodes for multicore jobs or maintenance). Btw Is it possible to sent &#34;signal&#34; to the running pilot that it should just finish current job and not try to start new glidein job? Again, this could be useful to improve draining process (or may be I should just wait for new HTCondor releases once they support backfilling drained slots with preemptable jobs).

2) NOvA and DUNE (and DZero ;-)

3) I&#39;m a bit lazy with GRAM-CE on novastore, because it&#39;ll be decommissioned once we move all worker nodes from torque to HTCondor cluster ... current plan is end of October .

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1505765329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-18T20:08:49+00:00">Sep 18, 2017 08:08 PM UTC</time><a class="anchor" name="1505765329">&nbsp;</a></div><pre>Hi Petr,

sorry for delay, few additional questions&#58;

1) Should the job attributes for the new CE osgce1.farm.particle.cz be set like in novace.farm.particle.cz CE? Specifically if maxMemory=&#34;2048&#34; and maxWallTime=&#34;4290&#34; is OK?
2) What GLIDEIN_Supported_VOs should we add? Nova & DUNE (as we can see on novace.farm.particle.cz) or other VO preference?
3) There is GRAM-CE entry with novastore.farm.particle.cz, when you plan convert it to HTCondor-CE? We&#39;re heading towards decomissioing all GRAM-CE from the factory entries.

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='34908#1505743287'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-18T14:01:27+00:00">Sep 18, 2017 02:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1505743287">&nbsp;</a></div><pre>Glidein support,

Was this added?

Thanks</pre></div><div class='update_description'><i onclick="document.location='34908#1505306298'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-13T12:38:18+00:00">Sep 13, 2017 12:38 PM UTC</time> by <b>echism</b><a class="anchor" name="1505306298">&nbsp;</a></div><pre>Glidein folks were not on this ticket. I have added them.

Thanks</pre></div><div class='update_description'><i onclick="document.location='34908#1505149315'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-11T17:01:55+00:00">Sep 11, 2017 05:01 PM UTC</time><a class="anchor" name="1505149315">&nbsp;</a></div><pre>Thanks for the update Petr.
Now we need to make sure the new CE show up in the Glidein Factory.
So this would be a question to factory ops. Is osgce1.farm.particle.cz listed in the factory yet?

by /DC=org/DC=cilogon/C=US/O=Fermi National Accelerator Laboratory/OU=People/CN=Bruno Coimbra/CN=UID&#58;coimbra</pre></div><div class='update_description'><i onclick="document.location='34908#1504915059'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-08T23:57:39+00:00">Sep 8, 2017 11:57 PM UTC</time><a class="anchor" name="1504915059">&nbsp;</a></div><pre>I should also mention that we run all machines by default with dualstack network configuration (and that reminds me that I forgot to allow incoming IPv6 traffic ... that&#39;ll be fixed in a minute)

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1504914824'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-08T23:53:44+00:00">Sep 8, 2017 11:53 PM UTC</time><a class="anchor" name="1504914824">&nbsp;</a></div><pre>I would like to add that our firewall configuration currently allows (almost) any outgoing traffic, but incoming is limited to 9619/tcp for this CE

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1504914319'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-08T23:45:19+00:00">Sep 8, 2017 11:45 PM UTC</time><a class="anchor" name="1504914319">&nbsp;</a></div><pre>I&#39;m not sure which pool are you talking about. I can see our nodes in OSG collector&#58;

[root@osgce1 ~]# condor_ce_status -pool collector1.opensciencegrid.org&#58;9619 -any | grep farm.particle.cz
Scheduler          None               novace.farm.particle.cz
DaemonMaster       None               novastore.farm.particle.cz
Scheduler          None               osgce1.farm.particle.cz
Machine            None               xrootd@....
[root@osgce1 ~]# condor_ce_status -pool collector2.opensciencegrid.org&#58;9619 -any | grep farm.particle.cz
DaemonMaster       None               novastore.farm.particle.cz
Machine            None               xrootd@....

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><div class='update_description'><i onclick="document.location='34908#1504907581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-08T21:53:01+00:00">Sep 8, 2017 09:53 PM UTC</time><a class="anchor" name="1504907581">&nbsp;</a></div><pre>Hello,

This CE doesn&#39;t show in our pool. Is there an entry for the new CE in production or ITB?

Cheers,
Bruno

by /DC=org/DC=cilogon/C=US/O=Fermi National Accelerator Laboratory/OU=People/CN=Bruno Coimbra/CN=UID&#58;coimbra</pre></div><div class='update_description'><i onclick="document.location='34908#1504899921'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-08T19:45:21+00:00">Sep 8, 2017 07:45 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1504899921">&nbsp;</a></div><pre>Hi,

we would like to use our new HTCondor-CE (FZU_OSG_CE1 osgce1.farm.particle.cz) to submit test NOvA jobs to our new cluster, because we have to test our new worker nodes with CentOS7 and NOvA production jobs running in SL6 containers. Could you please point me to documentation how to submit NOvA jobs to the specific CE? I know how to submit job to a site, but our FZU site currently have three CEs and for my tests I would like to just FZU_OSG_CE1.

I think it is also necessary to update Glidein Factory config to be able to utilize our new FZU_OSG_CE1. Could you please configure this component in a way I could run my NOvA production tests.

thanks,

Petr

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Petr Vokac 975</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F34908">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 34908});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
