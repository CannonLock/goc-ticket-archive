<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[17851] Globus Job Manager Issues</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=17851" method="post">
<div class="page-header">
    <h3><span class="muted">17851</span> / Globus Job Manager Issues</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Mike Hutcheson</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Mike Hutcheson</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Mat to debug</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-01-15</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=17851", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/17851?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/17851?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Globus%20Job%20Manager%20Issues%20ISSUE%3D17851%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='17851#1389640186'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-01-13T19:09:46+00:00">Jan 13, 2014 07:09 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1389640186">&nbsp;</a></div><pre>Thanks for the update, Mike. If anything else comes up, don&#39;t hesitate to submit a new ticket.

- Brian</pre></div><div class='update_description'><i onclick="document.location='17851#1389598897'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-01-13T07:41:37+00:00">Jan 13, 2014 07:41 AM UTC</time><a class="anchor" name="1389598897">&nbsp;</a></div><pre>I think we can close this ticket now.  The FhGFS upgrade seems to have fixed the problem.

Thanks for your time and help,

Mike

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1389144162'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-01-08T01:22:42+00:00">Jan 8, 2014 01:22 AM UTC</time><a class="anchor" name="1389144162">&nbsp;</a></div><pre>Hi Mike,

I see. This is an interesting and good news. I did globus-job-run kodiak-ce.baylor.edu /bin/hostname by myself too and I get a hostname back without a problem. Also the SUM (site usability monitor) test looks good. I still see a critical warning for SE in the SUM test and RSV test, but I am guessing that this is an separate issue. Do you have any idea why you didn&#39;t have to specify the cache location before? In any case, I guess now CE is in good shape. Thank you very much for your persistence!

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=hatake/CN=661802/CN=Kenichi Hatakeyama</pre></div><div class='update_description'><i onclick="document.location='17851#1389117868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-01-07T18:04:28+00:00">Jan 7, 2014 06:04 PM UTC</time><a class="anchor" name="1389117868">&nbsp;</a></div><pre>Yesterday, we upgraded FhGFS on the cluster.  Afterward, when running globus-job-run with your account, Ken, I got a response back.  It was the following error message&#58;

[hatake@kodiak-ce ~]$ globus-job-run kodiak-ce.baylor.edu /bin/hostname
GRAM Job submission failed because the gass_cache attribute points to an invalid cache directory (error code 149)

To me, that was encouraging, because the behavior was different from before.  I added -cache-location /data3/globus/gass_cache/$(LOGNAME) to /etc/globus/globus-gram-job-manager.conf, restarted globus-gatekeeper, and globus-job-run worked after that.

I see that the uscms01 jobs are flowing into the queue and running now.

So, a couple of things changed&#58;  The FhGFS upgrade and the location for the cache files.  Since the behavior changed after upgrading FhGFS, I&#39;m leaning toward that as being the culprit that was causing all of our grief.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1389091499'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-01-07T10:44:59+00:00">Jan 7, 2014 10:44 AM UTC</time><a class="anchor" name="1389091499">&nbsp;</a></div><pre>Thank you very much, Elizabeth.

Mike, now I remember. Thank you. When the problem showed up, one of the changes made was the /data3&#39;s transition from gluster to fhgfs.
Probably the role of /data3 is not obvious to people in this thread. I don&#39;t know if this information is relevant, but just in case it&#39;s useful, I list the directories on /data3&#58;

] ls /data3 | cat
bestman_cache
frontier
osg_data
osg_data_stage_in
osg_data_stage_out
osg_gridftp
osg_srm_probe
osg_vo_app
osg_worker_node_package
phedex
store

Thank you very much for all your help on this issue.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=hatake/CN=661802/CN=Kenichi Hatakeyama</pre></div><div class='update_description'><i onclick="document.location='17851#1388419801'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-30T16:10:01+00:00">Dec 30, 2013 04:10 PM UTC</time> by <b>echism</b><a class="anchor" name="1388419801">&nbsp;</a></div><pre>This went quiet over the holidays, but I&#39;ll send a reminder as I see people coming back.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='17851#1388106669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-27T01:11:09+00:00">Dec 27, 2013 01:11 AM UTC</time> by <b>mike_hutcheson@....</b><a class="anchor" name="1388106669">&nbsp;</a></div><pre>/home /data and /cms were already on FhGFS when things were working.  It was after I moved /data3, upgraded the OS and the OSG stack during the same maintenance window, that we ran into trouble.

I made the rookie mistake of doing all three steps at the same time without testing between each one.

What are you seeing?

Sent from my iPhone

On Dec 26, 2013, at 3&#58;23 PM, &#34;Open Science Grid FootPrints&#34; &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='17851#1388092937'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-26T21:22:17+00:00">Dec 26, 2013 09:22 PM UTC</time><a class="anchor" name="1388092937">&nbsp;</a></div><pre>Dear Mike,
You are right. And, is it accurate to say that we started to experience this problem when we moved from gluster fs to FhGFS?
Regards,
Ken

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=hatake/CN=661802/CN=Kenichi Hatakeyama</pre></div><div class='update_description'><i onclick="document.location='17851#1388084889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-26T19:08:09+00:00">Dec 26, 2013 07:08 PM UTC</time> by <b>mike_hutcheson@....</b><a class="anchor" name="1388084889">&nbsp;</a></div><pre>We&#39;re using the Fraunhafer parallel file system (FhGFS).

Sent from my iPhone

On Dec 26, 2013, at 12&#58;04 PM, &#34;Open Science Grid FootPrints&#34; &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='17851#1388081018'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-26T18:03:38+00:00">Dec 26, 2013 06:03 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1388081018">&nbsp;</a></div><pre>Hi,

How are your user home directories being shared in your cluster?  Are they NFS mounts, or something different?

Suchandra Thapa
OSG Software Team</pre></div><div class='update_description'><i onclick="document.location='17851#1387837766'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-23T22:29:26+00:00">Dec 23, 2013 10:29 PM UTC</time><a class="anchor" name="1387837766">&nbsp;</a></div><pre>Sorry it took this long.  I was playing around with the system, trying to see what would happen.  No luck, though, same problem still exists.  I&#39;ve uploaded the valgrind output.  The attachment is called globus-gatekeeper-valgrind.log.gz.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1387825102'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-23T18:58:22+00:00">Dec 23, 2013 06:58 PM UTC</time> by <b>echism</b><a class="anchor" name="1387825102">&nbsp;</a></div><pre>Hi Mike,

Did you have the opportunity to grab the output Mike suggested?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='17851#1386989809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-14T02:56:49+00:00">Dec 14, 2013 02:56 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1386989809">&nbsp;</a></div><pre>Hi Mike,

Just an update&#58; the problem is most likely in the globus-gass-cache library;
I see lots of segfaults in the messages from the globus-gass-cache process,
and often when users that aren&#39;t you are authenticated, there are also segfaults
in the globus-job-manager process (which causes the hangs) in the libglobus_gass_cache.so file.

I&#39;m still trying to figure out where in the code that might happen.
If you could try run the gatekeeper under valgrind, have users submit a few jobs, and attach the output, that would be very helpful.
The command should be something like&#58;
valgrind -v --trace-children=yes /usr/sbin/globus-gatekeeper -d
(where the -d after globus-gatekeeper starts it up in debug mode in the foreground)

-Mat</pre></div><div class='update_description'><i onclick="document.location='17851#1386722251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-11T00:37:31+00:00">Dec 11, 2013 12:37 AM UTC</time><a class="anchor" name="1386722251">&nbsp;</a></div><pre>Okay, thanks Mat.

Mike

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1386704120'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T19:35:20+00:00">Dec 10, 2013 07:35 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1386704120">&nbsp;</a></div><pre>Hi Mike,
Sorry I haven&#39;t been able to look at this more closely yet -- been dealing with other fires. I&#39;ll try and get to it this week.
-Mat</pre></div><div class='update_description'><i onclick="document.location='17851#1386698120'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T17:55:20+00:00">Dec 10, 2013 05:55 PM UTC</time><a class="anchor" name="1386698120">&nbsp;</a></div><pre>Hi.  Just checking in to see how things are coming along.

Thanks,

Mike

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1386274150'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-05T20:09:10+00:00">Dec 5, 2013 08:09 PM UTC</time> by <b>echism</b><a class="anchor" name="1386274150">&nbsp;</a></div><pre>Hi Mat,

I see the profile at this point. Please examine.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='17851#1386105507'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-03T21:18:27+00:00">Dec 3, 2013 09:18 PM UTC</time><a class="anchor" name="1386105507">&nbsp;</a></div><pre>Reloaded the profile.  File is called kodiak-ce-osg-profile.txt.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1386086496'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-03T16:01:36+00:00">Dec 3, 2013 04:01 PM UTC</time><a class="anchor" name="1386086496">&nbsp;</a></div><pre>I uploaded &#34;kodiak-ce-osg-profile.txt&#34; on 11/26.  I see it in the list.  If you need me to, I can reload it.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1386086282'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-03T15:58:02+00:00">Dec 3, 2013 03:58 PM UTC</time> by <b>echism</b><a class="anchor" name="1386086282">&nbsp;</a></div><pre>Hey James,

I don&#39;t see that profile. Did you attach it to an email? If so, we don&#39;t get those, you have to go to the ticket in a browser and click add attachments.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='17851#1385498016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-26T20:33:36+00:00">Nov 26, 2013 08:33 PM UTC</time><a class="anchor" name="1385498016">&nbsp;</a></div><pre>Oops.  I hit return on accident before finishing my last entry.  So ignore it.  Anyway, I rebuilt the CE from scratch using CentOS 5.9 this time with the latest OSG stack.  Still can only run globus commands with my &#34;hutches&#34; account.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1385497861'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-26T20:31:01+00:00">Nov 26, 2013 08:31 PM UTC</time><a class="anchor" name="1385497861">&nbsp;</a></div><pre>osg-system-profiler output has been uploaded.

I rebuilt the server from scratch with CentOS

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1385420833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-25T23:07:13+00:00">Nov 25, 2013 11:07 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1385420833">&nbsp;</a></div><pre>Could you also include the output of the latest version of the osg-system-profiler script (from the package of the same name) on your CE?
Thanks
-Mat</pre></div><div class='update_description'><i onclick="document.location='17851#1384992972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-21T00:16:12+00:00">Nov 21, 2013 12:16 AM UTC</time><a class="anchor" name="1384992972">&nbsp;</a></div><pre>Having tried several different accounts on the cluster, the only that works is mine when running the globus-job-run command.   It hangs when run under any other account.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1384732554'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-17T23:55:54+00:00">Nov 17, 2013 11:55 PM UTC</time><a class="anchor" name="1384732554">&nbsp;</a></div><pre>Forget my last update.  I just realized that by using the other user&#39;s proxy cert with my account, it&#39;s going to map to his account through grid--mapfile, so globus-job-run was trying to use his account instead of mine.  Now, I did find out that if I associate my account with his DN in grid-mapfile, globus-job-run works fine.  That&#39;s true with our uscms01 account, too.  So the problem comes back to having something to do with the actual accounts on the cluster.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1384728071'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-17T22:41:11+00:00">Nov 17, 2013 10:41 PM UTC</time><a class="anchor" name="1384728071">&nbsp;</a></div><pre>Addendum&#58;  I can run the globus-job-run command with my personal cert credentials but others can&#39;t with theirs.  I used my cert and key files with other accounts on the cluster and was able to run globus-job-run without it hanging.  If I use another&#39;s credentials with my account, globus-job-run hangs.  So the problem doesn&#39;t appear to be associated with accounts on the cluster, but instead something to do with credentials.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1384529767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-15T15:36:07+00:00">Nov 15, 2013 03:36 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1384529767">&nbsp;</a></div><pre>Since at first glance, it seems to be a gatekeeper issue, assigning it to Mat (as per expertise listing)

-Neha</pre></div><div class='update_description'><i onclick="document.location='17851#1384278485'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T17:48:05+00:00">Nov 12, 2013 05:48 PM UTC</time><a class="anchor" name="1384278485">&nbsp;</a></div><pre>Attached files.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><div class='update_description'><i onclick="document.location='17851#1384278324'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T17:45:24+00:00">Nov 12, 2013 05:45 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1384278324">&nbsp;</a></div><pre>We have a situation in which globus-job-manager processes consume a lot of CPU time on the CE for several minutes and then go away.  Using strace, it looks like they&#39;re dying with a segfault.  I&#39;m seeing a lot of segfault messages in /var/log /messages as well.  These are CMS glidein and dashboard test jobs that run as user uscms01.  I&#39;ll attach the output of an strace session of one of the globus-job-manager processes, the gram_uscms01.log file and /var/log/messages.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jhutches/CN=710584/CN=James Michael Hutcheson</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F17851">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 17851});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
