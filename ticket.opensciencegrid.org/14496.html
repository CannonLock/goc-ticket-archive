<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[14496] Extra info in the OSG host certificate generated through &#34;osg-gridadmin-cert-request&#34;</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=14496" method="post">
<div class="page-header">
    <h3><span class="muted">14496</span> / Extra info in the OSG host certificate generated through &#34;osg-gridadmin-cert-request&#34;</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Yujun Wu</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Yujun Wu</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-04-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Cartwright <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/14496", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='14496#1367441853'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T20:57:33+00:00">May 1, 2013 08:57 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1367441853">&nbsp;</a></div><pre>Closing as per Yujun&#39;s response
-Neha</pre></div><div class='update_description'><i onclick="document.location='14496#1367424248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T16:04:08+00:00">May 1, 2013 04:04 PM UTC</time> by <b>yujun@....</b><a class="anchor" name="1367424248">&nbsp;</a></div><pre>Hi Neha,

Thanks for your e-mail. Yes, please close it. I appreciate everybody&#39;s help on this.

Regards,
Yujun</pre></div><div class='update_description'><i onclick="document.location='14496#1367423936'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T15:58:56+00:00">May 1, 2013 03:58 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1367423936">&nbsp;</a></div><pre>Hi Yujun
I believe you have upgraded osg-pki-tools package to the latest release (1.1.0-3) by now , generated a new hostcert using command line or even if you are using the old cert that has whole CA chain in to it, you atleast now know how to get it to work with dCache.

So, can I close this ticket? or did you have any further questions?

Thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='14496#1366931913'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-25T23:18:33+00:00">Apr 25, 2013 11:18 PM UTC</time><a class="anchor" name="1366931913">&nbsp;</a></div><pre>Thanks Yujun!  I don&#39;t have any other questions.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='14496#1366923988'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-25T21:06:28+00:00">Apr 25, 2013 09:06 PM UTC</time><a class="anchor" name="1366923988">&nbsp;</a></div><pre>Hi Brian,

We are now using the the &#34;pruned OSG PKI host certificate&#34;. I had to put back the superset hostcert to our test system to check. It seems using  a delegated proxy still fails&#58;

***OSG hostcert without extra info ***

-bash-3.2$ dccp -d 3 dcap&#58;//dmsdca07&#58;24525///pnfs/fnal.gov/usr/eagle/dcache-tests//READTESTFILE /dev/null
Dcap Version 2.47.5-0
Allocated message queues 0, used 0

Allocated message queues 1, used 1

Creating a new control connection to dmsdca07&#58;24525.
Activating IO tunnel. Provider&#58; [/usr/lib64/dcap/libgsiTunnel.so].
Added IO tunneling plugin /usr/lib64/dcap/libgsiTunnel.so for dmsdca07&#58;24525.
Sending control message&#58; 0 0 client hello 0 0 2 47 -uid=9417 -pid=26688 -gid=5023 (len=57)
Server reply&#58; welcome.
Connected to dmsdca07&#58;24525
Sending control message&#58; 1 0 client stat &#34;dcap&#58;//dmsdca07&#58;24525///pnfs/fnal.gov/usr/eagle/dcache-tests//READTESTFILE&#34; -uid=9417 (len=103)
[-1] unpluging node
Removing unneeded queue [1]
[-1] destroing node
Using system native stat64 for /dev/null.
Allocated message queues 2, used 1

Activating IO tunnel. Provider&#58; [/usr/lib64/dcap/libgsiTunnel.so].
Added IO tunneling plugin /usr/lib64/dcap/libgsiTunnel.so for dmsdca07&#58;24525.
Using existing control connection to dmsdca07&#58;24525.
Setting hostname to dmsdca10.fnal.gov.
Client mode&#58; PASSIVE
Sending control message&#58; 2 0 client open &#34;dcap&#58;//dmsdca07&#58;24525///pnfs/fnal.gov/usr/eagle/dcache-tests//READTESTFILE&#34; r dmsdca10.fnal.gov 52079 -timeout=-1 -onerror=default -uid=9417 (len=158)
Got callback connection from dmsdca02.fnal.gov&#58;57635 for session 2, myID 2.
Switching on read ahead.
No Read ahead for fd = 6.
extra option&#58;  -alloc-size=1266
<div id='show_1534818722' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1534818722'>Real file name&#58; /dev/null.
Using system native open for /dev/null.
[6] unpluging node
Server reply&#58; ok destination [2].
Removing unneeded queue [2]
[6] destroing node
Using system native close for [7].
1266 bytes (1.24 kiB) in 0 seconds

----------------------
***Host cert with extra info***

-bash-3.2$ dccp -d 3 dcap&#58;//dmsdca07&#58;24525///pnfs/fnal.gov/usr/eagle/dcache-tests//READTESTFILE /dev/null
Dcap Version 2.47.5-0
Allocated message queues 0, used 0

Allocated message queues 1, used 1

Creating a new control connection to dmsdca07&#58;24525.
Activating IO tunnel. Provider&#58; [/usr/lib64/dcap/libgsiTunnel.so].
Added IO tunneling plugin /usr/lib64/dcap/libgsiTunnel.so for dmsdca07&#58;24525.
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; SSLv3 handshake problems
OpenSSL Error&#58; tasn_dec.c&#58;710&#58; in library&#58; asn1 encoding routines, function ASN1_TEMPLATE_NOEXP_D2I&#58; nested asn1 error
OpenSSL Error&#58; tasn_dec.c&#58;710&#58; in library&#58; asn1 encoding routines, function ASN1_TEMPLATE_NOEXP_D2I&#58; nested asn1 error
OpenSSL Error&#58; tasn_dec.c&#58;427&#58; in library&#58; asn1 encoding routines, function ASN1_ITEM_EX_D2I&#58; unexpected eoc Type=X509_NAME_ENTRY

Sending control message&#58; 0 0 client hello 0 0 2 47 -uid=9417 -pid=26745 -gid=5023 (len=57)
Error ( POLLIN) (with data) on control line [3]
Removing [3] form control lines list
Failed to connect to dmsdca07&#58;24525
Failed to create a control line
[-1] unpluging node
Removing unneeded queue [1]
[-1] destroing node
Using system native stat64 for /dev/null.
Allocated message queues 2, used 1

Allocated message queues 2, used 2

Creating a new control connection to dmsdca07&#58;24525.
Activating IO tunnel. Provider&#58; [/usr/lib64/dcap/libgsiTunnel.so].
Added IO tunneling plugin /usr/lib64/dcap/libgsiTunnel.so for dmsdca07&#58;24525.
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; SSLv3 handshake problems
globus_gsi_gssapi&#58; Unable to verify remote side&#39;s credentials
globus_gsi_gssapi&#58; SSLv3 handshake problems&#58; Couldn&#39;t do ssl handshake
OpenSSL Error&#58; s23_clnt.c&#58;588&#58; in library&#58; SSL routines, function SSL23_GET_SERVER_HELLO&#58; unknown protocol

Sending control message&#58; 0 0 client hello 0 0 2 47 -uid=9417 -pid=26745 -gid=5023 (len=57)
Incomplete message over control line [3]
Removing [3] form control lines list
Failed to connect to dmsdca07&#58;24525
Failed to create a control line
[-1] unpluging node
Removing unneeded queue [2]
[-1] destroing node
Failed open file in the dCache.
Can&#39;t open source file &#58; Server rejected &#34;hello&#34;
System error&#58; Input/output error
----------------------------

Regards,
Yujun

by /DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Yujun Wu/CN=UID&#58;yujun
</div><script type='text/javascript'>
        $('#show_1534818722').click(function() {
            $('#detail_1534818722').slideDown("normal");
            $('#show_1534818722').hide();
            $('#hide_1534818722').show();
        });
        $('#hide_1534818722').click(function() {
            $('#detail_1534818722').slideUp();
            $('#hide_1534818722').hide();
            $('#show_1534818722').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='14496#1366918420'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-25T19:33:40+00:00">Apr 25, 2013 07:33 PM UTC</time><a class="anchor" name="1366918420">&nbsp;</a></div><pre>Hi Von and Kyle,

I am really sorry that I somehow missed the emails from you while traveling and accumulating emails---until just now when I come back to check the ticket when seeing Brian&#39;s email.
For the &#34;it&#34; from Von&#39;s question&#58; &#34;When you say &#34;it worked as well.&#34; - &#34;it&#34; is the DOE Grids host certificate or the pruned OSG PKI host certificate?&#34;

The answer is&#58;  both DOE Grids host certificate  and pruned OSG PKI host certificate work fine.

Regards,
Yujun

by /DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Yujun Wu/CN=UID&#58;yujun</pre></div><div class='update_description'><i onclick="document.location='14496#1366917531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-25T19:18:51+00:00">Apr 25, 2013 07:18 PM UTC</time><a class="anchor" name="1366917531">&nbsp;</a></div><pre>Hi Yujun,

Can you try a delegated proxy?

That is, take a *working* proxy and do&#58;

grid-proxy-init -cert working_proxy -key working_proxy -out delegated_proxy

Then,

X509_USER_PROXY=delegated_proxy dcap ....

Thanks,

Brian

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='14496#1366730431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-23T15:20:31+00:00">Apr 23, 2013 03:20 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1366730431">&nbsp;</a></div><pre>Yujun,

Have you been able to respond to Von&#39;s question?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='14496#1365801103'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T21:11:43+00:00">Apr 12, 2013 09:11 PM UTC</time><a class="anchor" name="1365801103">&nbsp;</a></div><pre>Hi Yujun,

function ASN1_ITEM_EX_D2I&#58; unexpected eoc Type=X509_NAME_ENTRY

That&#39;s a very odd error. Google shows almost nothing relevant that I can find and I&#39;ve never seen it. (Thank you Brian for asking.)

When you say &#34;it worked as well.&#34; - &#34;it&#34; is the DOE Grids host certificate or the pruned OSG PKI host certificate?

Von

by /DC=org/DC=doegrids/OU=People/CN=Von Welch 138091</pre></div><div class='update_description'><i onclick="document.location='14496#1365798070'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T20:21:10+00:00">Apr 12, 2013 08:21 PM UTC</time> by <b>yujun@....</b><a class="anchor" name="1365798070">&nbsp;</a></div><pre>Hi Brian,

Thanks for your e-mail. gsidcap fails like this&#58;

**At client side (gsi dccp)&#58;

Dcap Version 2.47.5-0
Allocated message queues 0, used 0

Allocated message queues 1, used 1

Creating a new control connection to fndcat&#58;24525.
Activating IO tunnel. Provider&#58; [/usr/lib64/dcap/libgsiTunnel.so].
Added IO tunneling plugin /usr/lib64/dcap/libgsiTunnel.so for
fndcat&#58;24525.
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; SSLv3 handshake problems
OpenSSL Error&#58; tasn_dec.c&#58;710&#58; in library&#58; asn1 encoding routines,
function ASN1_TEMPLATE_NOEXP_D2I&#58; nested asn1 error
OpenSSL Error&#58; tasn_dec.c&#58;710&#58; in library&#58; asn1 encoding routines,
function ASN1_TEMPLATE_NOEXP_D2I&#58; nested asn1 error
OpenSSL Error&#58; tasn_dec.c&#58;427&#58; in library&#58; asn1 encoding routines,
function ASN1_ITEM_EX_D2I&#58; unexpected eoc Type=X509_NAME_ENTRY

Sending control message&#58; 0 0 client hello 0 0 2 47 -uid=9417
-pid=1772 -gid=5023 (len=56)
Error ( POLLIN) (with data) on control line [3]
Removing [3] form control lines list
Failed to connect to fndcat&#58;24525
Failed to create a control line
[-1] unpluging node
Removing unneeded queue [1]
[-1] destroing node
Using system native stat64 for /dev/null.
Allocated message queues 2, used 1
<div id='show_1559167493' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1559167493'>
Allocated message queues 2, used 2

Creating a new control connection to fndcat&#58;24525.
Activating IO tunnel. Provider&#58; [/usr/lib64/dcap/libgsiTunnel.so].
Added IO tunneling plugin /usr/lib64/dcap/libgsiTunnel.so for
fndcat&#58;24525.
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; SSLv3 handshake problems
globus_gsi_gssapi&#58; Unable to verify remote side&#39;s credentials
globus_gsi_gssapi&#58; SSLv3 handshake problems&#58; Couldn&#39;t do ssl handshake
OpenSSL Error&#58; s23_clnt.c&#58;588&#58; in library&#58; SSL routines, function
SSL23_GET_SERVER_HELLO&#58; unknown protocol

Sending control message&#58; 0 0 client hello 0 0 2 47 -uid=9417
-pid=1772 -gid=5023 (len=56)
Incomplete message over control line [3]
Removing [3] form control lines list
Failed to connect to fndcat&#58;24525
Failed to create a control line
[-1] unpluging node
Removing unneeded queue [2]
[-1] destroing node
Failed open file in the dCache.
Can&#39;t open source file &#58; Server rejected &#34;hello&#34;
System error&#58; Input/output error

***Server***
Server showed to have Tunnel verification failure and connection reset&#58;

21 Mar 2013 11&#58;15&#58;07 (DCap-gsi-01-fndca4a) [] Exception in secure
protocol &#58; dmg.protocols.telnet.TelnetAuthenticationException&#58; Host
131.225.13.97&#58; Tunnel verification failed!
21 Mar 2013 11&#58;15&#58;07 (DCap-gsi-01-fndca4a) [] Failed to verify&#58;
java.net.SocketException&#58; Connection reset

Once we switched to use the old DOEgrid host cert, it was ok. We looked
at our test system with just the
host certificate

-----BEGIN CERTIFICATE-----

-----END CERTIFICATE-----

it worked as well.

Regards,
Yujun

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1559167493').click(function() {
            $('#detail_1559167493').slideDown("normal");
            $('#show_1559167493').hide();
            $('#hide_1559167493').show();
        });
        $('#hide_1559167493').click(function() {
            $('#detail_1559167493').slideUp();
            $('#hide_1559167493').hide();
            $('#show_1559167493').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='14496#1365797345'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T20:09:05+00:00">Apr 12, 2013 08:09 PM UTC</time><a class="anchor" name="1365797345">&nbsp;</a></div><pre>Hi Yujun,

Precisely, what fails?  It&#39;s valid to have multiple certs in a PEM file - tools should just take the first one.

What errors does dCache get?  Is this a CLI tool or one of the daemons?  What version?

(We can continue to workaround / test new client tools, I&#39;d just like to get a decent bug report put together for the dCache folks.)

Brian

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='14496#1365796997'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T20:03:17+00:00">Apr 12, 2013 08:03 PM UTC</time> by <b>yujun@....</b><a class="anchor" name="1365796997">&nbsp;</a></div><pre>Hi Von,

Thanks a lot for your info. Will try the new client tools early next
week and keep you updated on this.

Regards,
Yujun
Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14496#1365796995'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T20:03:15+00:00">Apr 12, 2013 08:03 PM UTC</time> by <b>yujun@....</b><a class="anchor" name="1365796995">&nbsp;</a></div><pre>Hi Tim,

Thanks for this and no problem at all. We will try this in the next
couple of days (not sure about this on Friday afternoon). And will get
back to you once we verify this.

Regards,
Yujun

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14496#1365796572'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T19:56:12+00:00">Apr 12, 2013 07:56 PM UTC</time><a class="anchor" name="1365796572">&nbsp;</a></div><pre>The inclusion of the CA chain (the &#34;extra info&#34; that is referred to) is a known issue with the 1.0 version of the OSG PKI client tools&#58; <a href='https&#58;//jira.opensciencegrid.org/browse/OSGPKI-251' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/OSGPKI-251</a>

It should be corrected if you install the 1.1 release of the client tools, which was included in the 3.1.16 OSG Software release.
<a href='https&#58;//vdt.cs.wisc.edu/svn/software/osg-cert-scripts-v3/tags/1.1/CHANGELOG.txt' target='_blank' rel='nofollow'>https&#58;//vdt.cs.wisc.edu/svn/software/osg-cert-scripts-v3/tags/1.1/CHANGELOG.txt</a>
<a href='http&#58;//osggoc.blogspot.com/2013/04/osg-software-version-3116-released.html' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/2013/04/osg-software-version-3116-released.html</a>

As a work around, you should be able to edit the certificate PEM file with any text editor and delete the CA certificates (everything after the first certificate, the line &#34;subject=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1&#34; and onwards).

by /DC=org/DC=doegrids/OU=People/CN=Von Welch 138091</pre></div><div class='update_description'><i onclick="document.location='14496#1365796497'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T19:54:57+00:00">Apr 12, 2013 07:54 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1365796497">&nbsp;</a></div><pre>Yujun&#58; Sorry, because I should have noticed this earlier... but could you please update your osg-pki-tools package to the latest release (osg-pki-tools-1.1.0-3) and try your tests again? We are hearing that this bug should have been fixed in the latest release.</pre></div><div class='update_description'><i onclick="document.location='14496#1365795908'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T19:45:08+00:00">Apr 12, 2013 07:45 PM UTC</time> by <b>yujun@....</b><a class="anchor" name="1365795908">&nbsp;</a></div><pre>Hello Mine,

Thanks a lot for your help on this. Yes, it will be good if we can at
least get the same output.

Regards,
Yujun
Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14496#1365795430'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T19:37:10+00:00">Apr 12, 2013 07:37 PM UTC</time> by <b>Mine Altunay</b><a class="anchor" name="1365795430">&nbsp;</a></div><pre>Hello Yujun,
we had an issue with having the entire CA chain inside the certificates before. I am not sure why our web and command line interfaces are acting differently; they should return the same output. I am copying Von Welch here, I cannot find the developer&#39;s email (Viplav) who worked on these tools. AFAIR we resolved this issue earlier. maybe we did not carry the solution to our command line tool. I will check with them and let you know asap.
Mine</pre></div><div class='update_description'><i onclick="document.location='14496#1365794978'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T19:29:38+00:00">Apr 12, 2013 07:29 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1365794978">&nbsp;</a></div><pre>Well, Mine changed her mind, so she is back on the ticket. Sorry for the noise.</pre></div><div class='update_description'><i onclick="document.location='14496#1365794651'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-12T19:24:11+00:00">Apr 12, 2013 07:24 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1365794651">&nbsp;</a></div><pre>OK, I guess it is going to be up to the Software team to shepherd this ticket.</pre></div><div class='update_description'><i onclick="document.location='14496#1365184318'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T17:51:58+00:00">Apr 5, 2013 05:51 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1365184318">&nbsp;</a></div><pre>Sounds like this ticket should go to Von and crew, but I am not 100% sure. I added Mine to the ticket, and she can help route appropriately.</pre></div><div class='update_description'><i onclick="document.location='14496#1365016303'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-03T19:11:43+00:00">Apr 3, 2013 07:11 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1365016303">&nbsp;</a></div><pre>Hello,

We recently switched to use OSG(DigiCert) host certificates as we will not be able to get new certifcates from DOEgrids. One thing we noticed was
the host certificate we got through the web interface worked fine. Many certificates requested by our Grid Admin using &#34;osg-gridadmin-cert-request&#34;
(included in osg-pki-tools-1.0.3-1 RPM) have extra info and do not work with our dCache gsi software. This is one host certificate generated
by the &#34;osg-gridadmin-cert-request&#34; tool&#58;

<font color='#7F7E6F'>&#62;cat /etc/grid-security/hostcert.pem</font>
subject=/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=stkendca18a.
fnal.gov
issuer=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1
-----BEGIN CERTIFICATE-----
MIIFOjCCBCKgAwIBAgIQBPqy32vTFuIYKbODyehl7DANBgkqhkiG9w0BAQUFADBp
MRMwEQYKCZImiZPyLGQBGRYDY29tMR0wGwYKCZImiZPyLGQBGRYNRGlnaUNlcnQt
R3JpZDEWMBQGA1UEChMNRGlnaUNlcnQgR3JpZDEbMBkGA1UEAxMSRGlnaUNlcnQg
R3JpZCBDQS0xMB4XDTEzMDMyMTAwMDAwMFoXDTE0MDQyNjEyMDAwMFowgYIxEzAR
BgoJkiaJk/IsZAEZFgNjb20xHTAbBgoJkiaJk/IsZAEZFg1EaWdpQ2VydC1Hcmlk
MRowGAYDVQQKExFPcGVuIFNjaWVuY2UgR3JpZDERMA8GA1UECxMIU2VydmljZXMx
HTAbBgNVBAMTFHN0a2VuZGNhMThhLmZuYWwuZ292MIIBIjANBgkqhkiG9w0BAQEF
AAOCAQ8AMIIBCgKCAQEAuU9Ee00csGWRhk8IAfihJQvc4rpfMQjxrUJwiduyZEx5
IfeWkuxC8gFtoxwKvZTjSeQs6ZXF9TcwSkOlNTHsdcmUV/vyycaoHmDGnafhuyN7
cVo+fb6osWA10tLcL63KPd3/Qv7HSIaDd5Egt0YVe8kV1r7p1GJ1+egyjMz+P3ZV
Mn9pfq7MtW/ncbt16/dS2MaFGb8o71RU5GcWFSna1P2Wg8rq/FUYay/gFpIumm2z
9vf4/fromjSUF1FZPvq2EzQL1wSRkHXe1lQNqtXFrqxI8oS9nv9D7J7Z64h+u9Mu
x0qqXFnTAL+Bj7zKL1AKjoh95nsJRHi6yVmwhBtCRwIDAQABo4IBwjCCAb4wHwYD
VR0jBBgwFoAU77B1nWgx0eT3KomCU505d2guIFEwHQYDVR0OBBYEFKlkU9ujCEFc
T0Rscpgi20YS7BPJMB8GA1UdEQQYMBaCFHN0a2VuZGNhMThhLmZuYWwuZ292MA4G
A1UdDwEB/wQEAwIEsDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwcwYD
VR0fBGwwajAzoDGgL4YtaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0
R3JpZENBLTEuY3JsMDOgMaAvhi1odHRwOi8vY3JsNC5kaWdpY2VydC5jb20vRGln
aUNlcnRHcmlkQ0EtMS5jcmwwNQYDVR0gBC4wLDAMBgoqhkiG90wFAgIBMA0GC2CG
SAGG/WwfAQEBMA0GCyqGSIb3TAUCAwMCMHIGCCsGAQUFBwEBBGYwZDAkBggrBgEF
BQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tMDwGCCsGAQUFBzAChjBodHRw
Oi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vRGlnaUNlcnRHcmlkQ0EtMS5jcnQwDAYD
VR0TAQH/BAIwADANBgkqhkiG9w0BAQUFAAOCAQEAA18TCtgzT3jehwEjJqcy8qqV
<div id='show_1748644134' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1748644134'>nkl6KSX8f78hLdqgLRZjn81QefyTNKmWHYtXA/V8El8+PRAwWsx7BKPrRPZLYyl4
4w0rcCiz/rf/1Hs+cGgqnJ0ymaturQ2l/1D75F0PcEfPWABthFQ1FYX+bRPW+5px
rk7G69cWIUiTupi4dpXt4nWBPPtb3WHnUXaXujjVNaJouIAzRBIiu10Dd7ZAYDZV
C7b6OzOOAqMETaf2W+BZwwXY7ax14sZ1r9A8mMO2jkMtFoG8jFOJdR7XUqUpSGXz
IM1JbRRt9447MsSO6xsVXR4dJfV3UytagxVO7gCLpZFdc8DIIaTNiWid8IsQrA==
-----END CERTIFICATE-----

subject=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1
issuer=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid Root CA
-----BEGIN CERTIFICATE-----
MIIEuTCCA6GgAwIBAgIQAp7/0k8LfSOZNZubH9bz3jANBgkqhkiG9w0BAQUFADBs
MRMwEQYKCZImiZPyLGQBGRYDY29tMR0wGwYKCZImiZPyLGQBGRYNRGlnaUNlcnQt
R3JpZDEWMBQGA1UEChMNRGlnaUNlcnQgR3JpZDEeMBwGA1UEAxMVRGlnaUNlcnQg
R3JpZCBSb290IENBMB4XDTExMTIwNzEyMDEwMFoXDTI2MTIwNzEyMDEwMFowaTET
MBEGCgmSJomT8ixkARkWA2NvbTEdMBsGCgmSJomT8ixkARkWDURpZ2lDZXJ0LUdy
aWQxFjAUBgNVBAoTDURpZ2lDZXJ0IEdyaWQxGzAZBgNVBAMTEkRpZ2lDZXJ0IEdy
aWQgQ0EtMTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALoLTRpS0mNR
MRmmpWoAdtLhgpt9IQwTNnzM+lINbQPvSoQm4RQEYLYmDBCZnF1EV6YOKHEivuzf
cStmQ/7YI51Phyma5/Siy4glgu0+JiugeaQdakysESZKu7STFtg5dFZywL5vIWH8
B44pdce4TBrC+a6sjoP7+1DdsOM1CAVz3gjpUcbJdbZIOMogYVwCDIedgwTWd2NY
d9ZP+QwIXS8D6aa0ehdyIDLJUXEtADIBq/IbD30qz3MC2unkL6npk3yOpW4YWSnS
veIqcUhwq8QE+bxQBBbgnKmfH4WenyKzaiil9OtHC0hjDngGIhIamRskfG2TyGT7
aXBDZkqUJnECAwEAAaOCAVgwggFUMBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYDVR0P
AQH/BAQDAgGGMHUGCCsGAQUFBwEBBGkwZzAkBggrBgEFBQcwAYYYaHR0cDovL29j
c3AuZGlnaWNlcnQuY29tMD8GCCsGAQUFBzAChjNodHRwOi8vY2FjZXJ0cy5kaWdp
Y2VydC5jb20vYWlhRGlnaUNlcnRHcmlkQ0EtMS5wN2MwdwYDVR0fBHAwbjA1oDOg
MYYvaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R3JpZFJvb3RDQS5j
cmwwNaAzoDGGL2h0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdyaWRS
b290Q0EuY3JsMB0GA1UdDgQWBBTvsHWdaDHR5PcqiYJTnTl3aC4gUTAfBgNVHSME
GDAWgBQ9yNSzuaF3UJdQEVCoOeUcU2PGcDANBgkqhkiG9w0BAQUFAAOCAQEAZixh
Zm0WtmCCR1vnouUSorR+S8WDhZk9c2xpslHsdWaO2pYb65aGpoit8IUQ5VaehH05
GHAvAWI/Jnga1GIHQFbPUSYbG5eJcUh/XKEqdGYG39kjNXsFzS2wncFbdA3HiKAr
78Q8cNvuTjS/HFthRfnwZmYA7am0BaXuF9d5YkzSspxRBUbLGAnvudicXVPOWx2p
my6M6/Y/rTIhzdH2JEzFxG5q598FWyR4BY7XhUrprii7kkbAr9EA35fKZ7IWhk/0
viAoT4LnGWrGK71LcJl1UdZD7GuPp4hGmrf0ReXUiqXzLD4Yt88LR95Xecx/K8Wt
2mgPG/cieHl9M/NZ/g==
-----END CERTIFICATE-----

subject=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid Root CA
issuer=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid Root CA
-----BEGIN CERTIFICATE-----
MIIDxTCCAq2gAwIBAgIQAmE4fDe0OaWE+qFSUtrI6jANBgkqhkiG9w0BAQUFADBs
MRMwEQYKCZImiZPyLGQBGRYDY29tMR0wGwYKCZImiZPyLGQBGRYNRGlnaUNlcnQt
R3JpZDEWMBQGA1UEChMNRGlnaUNlcnQgR3JpZDEeMBwGA1UEAxMVRGlnaUNlcnQg
R3JpZCBSb290IENBMB4XDTExMTIwNzEyMDAwMFoXDTM2MTIwNzEyMDAwMFowbDET
MBEGCgmSJomT8ixkARkWA2NvbTEdMBsGCgmSJomT8ixkARkWDURpZ2lDZXJ0LUdy
aWQxFjAUBgNVBAoTDURpZ2lDZXJ0IEdyaWQxHjAcBgNVBAMTFURpZ2lDZXJ0IEdy
aWQgUm9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAL1Yym5/
MKraEAE4RKX8Suurhv5isaeNW1GoQV+jCo1fN0DEXWG/SBW27OIJ1slHI3pp68+j
pzdzpB7jJ7L25vgkIhKyUvf3VYqFRvdnVCouC3OIknilWO1J/spASh6/BS8tD2Z6
PE/n/NrqMkF6lZZuQuSooicEZkcxCmyM2Vp7XQXe+qCzILYsp5rEX4FXclT0SMiX
jVSlR+qKNhinecW6IW1mqSluMY9k/3ze5KmdjnhivJ+EKt9cUk1zMxSr//KjV7XA
d4IiQn3wi9sTWCdokVoVTrmMmksVYcjeq3Xcod/LiziqyqHo+c6uMSN5c3Hg2X1O
xU2UYWPIE1GQ02kCAwEAAaNjMGEwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8E
BAMCAYYwHQYDVR0OBBYEFD3I1LO5oXdQl1ARUKg55RxTY8ZwMB8GA1UdIwQYMBaA
FD3I1LO5oXdQl1ARUKg55RxTY8ZwMA0GCSqGSIb3DQEBBQUAA4IBAQCTaCdkxfOe
gOJmMqoklLIqhaqbuH1D5RDzSsXET3iDABtxbcbuFr8LHEROICWOWVZi3VQih+f1
80wXqRaD8BkCpbKFzFMWCuOUmN5307v06gIjUAfKKyJumdI2WDaHcj65GAU17vdO
l8bP35sBNaO+O2ksL9XQfHuEdmkyi8UcdlkG9jQvsV89oMVcom8C7ATDUV7vpGEM
+teq7zkw8r6+VzJvNrfykPOLavN/gkKJwlAfa0muPi2E7uxK85059jwSc9ucpyaF
H/O8BdLIR2z2UmsAbnraQFMWS0SFvFfUH0BccrAEJ5RvLEMlXBy9haeNLTua7May
2amGScIUFi6R
-----END CERTIFICATE-----

---------------------------------------------------------------

The host certificate we got through web interface only contains the part&#58;

-----BEGIN CERTIFICATE-----
.....

-----END CERTIFICATE-----

This is just like what we got in the old DOEGrid certificates.  I looked at
the host certificate  standard from IETF, it seems it doesn&#39;t contain the extra
info&#58;

<a href='http&#58;//www.ietf.org/rfc/rfc6253.txt' target='_blank' rel='nofollow'>http&#58;//www.ietf.org/rfc/rfc6253.txt</a>
<a href='http&#58;//tools.ietf.org/html/draft-ietf-hip-cert-12' target='_blank' rel='nofollow'>http&#58;//tools.ietf.org/html/draft-ietf-hip-cert-12</a>

Could somebody please help me with the following questions?

1. Should the extra info in the hostcert.pem generated by &#34;osg-gridadmin-cert-request&#34; be part of the host certificate? I
mean the extra two lines at the top of the certificate&#58;

subject=/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=stkendca18a.
fnal.gov
issuer=/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1

and the extra DigiCert Grid Root CA certificate part.

2. Is there a new host certificate standard defining various users/developers need to handle the extra info?

3. Or, were there some tests done to make sure it works with various grid software?

I know the OSG host certificate itself with just the part

-----BEGIN CERTIFICATE-----
........
-----END CERTIFICATE-----

works for our dCache applications. If there is a new host certificate standard, we&#39;d like to feed back
to the developers on this.

Thanks in advance for your help on this.

Regards,
Yujun

by Yujun Wu (guest)

</div><script type='text/javascript'>
        $('#show_1748644134').click(function() {
            $('#detail_1748644134').slideDown("normal");
            $('#show_1748644134').hide();
            $('#hide_1748644134').show();
        });
        $('#hide_1748644134').click(function() {
            $('#detail_1748644134').slideUp();
            $('#hide_1748644134').hide();
            $('#show_1748644134').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F14496">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
