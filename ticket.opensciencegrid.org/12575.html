<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12575] IMPORTANT Request to Upgrade your OSG Resource</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12575" method="post">
<div class="page-header">
    <h3><span class="muted">12575</span> / IMPORTANT Request to Upgrade your OSG Resource</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Rob Quick</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">LC-glcc</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-09-05</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">LC Hotline <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12575", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12575?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12575?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20IMPORTANT%20Request%20to%20Upgrade%20your%20OSG%20Resource%20ISSUE%3D12575%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12575#1346456123'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-31T23:35:23+00:00">Aug 31, 2012 11:35 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1346456123">&nbsp;</a></div><pre>Excellent, glad to hear it! Sorry for the difficulties with Pacman--it&#39;s definitely a finicky beast.
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12575#1346452606'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-31T22:36:46+00:00">Aug 31, 2012 10:36 PM UTC</time><a class="anchor" name="1346452606">&nbsp;</a></div><pre>Fixed.  I was not restoring from backup after the mysql failure.  After restoring and setting TMPDIR, the update ran successfully, and the CE is back up.

-- by Jeff Cunningham</pre></div><div class='update_description'><i onclick="document.location='12575#1346447271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-31T21:07:51+00:00">Aug 31, 2012 09:07 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1346447271">&nbsp;</a></div><pre>Hm. I&#39;ve been looking at this for a while, and it&#39;s just not making sense to me.

Going back a bit&#58; I pointed out an error earlier, and you said you fixed it by setting TMPDIR. What did you do after that? The right thing to do is&#58;

1) Restore everything in $VDT_LOCATION from your backup
2) Try the update again

If you merely tried the update again, it could fail again for mysterious reasons. Pacman is notorious for problems after errors&#58; if you get an error from Pacman, it often leaves your installation in a dubious state. This is why we recommend the backup.

Did you try from the restored backup, or did you just re-run the vdt-updater?

Thanks,
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12575#1346364514'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T22:08:34+00:00">Aug 30, 2012 10:08 PM UTC</time><a class="anchor" name="1346364514">&nbsp;</a></div><pre>Oh, sorry&#58;

# glcc88 /opt/osg &#62; tail -70 vdt-install.log
vdt-register-service&#58; updated init service &#39;mysql5&#39;
vdt-register-service&#58; desired state = disable
vdt-register-service&#58; init script   = /opt/osg-1.2.19/post-install/mysql5
### 2012-08-30 14&#58;32&#58;23 (failsafe_system) done (exit code 0)
### 2012-08-30 14&#58;34&#58;57 ##########
### 2012-08-30 14&#58;34&#58;57 # Starting Pacman updates in vdt-updater
### 2012-08-30 14&#58;34&#58;57 ##########
### 2012-08-30 14&#58;35&#58;05 ##########
### 2012-08-30 14&#58;35&#58;05 # Finished Pacman updates prematurely in vdt-updater (see logs/vdt-update.log)
### 2012-08-30 14&#58;35&#58;05 ##########
### 2012-08-30 14&#58;36&#58;12 (import) loaded by vdt/setup/configure_mysql
### 2012-08-30 14&#58;36&#58;12 (import) @ARGV = [ &#39;--version&#39;, &#39;5&#39; ]
### 2012-08-30 14&#58;36&#58;12 (slurp) slurping /opt/osg-1.2.19/vdt/etc/mysql5.vars
### 2012-08-30 14&#58;36&#58;12 (slurp) read 68 characters
### 2012-08-30 14&#58;36&#58;12 (safe_write) writing /opt/osg-1.2.19/mysql5/var/my.cnf
### 2012-08-30 14&#58;36&#58;12 (safe_write) done
### 2012-08-30 14&#58;36&#58;12 (failsafe_system) mkdir -p /opt/osg-1.2.19/vdt-app-data/mysql5/var
### 2012-08-30 14&#58;36&#58;12 (failsafe_system) done (exit code 0)
### 2012-08-30 14&#58;36&#58;12 (vdt_chown) vdt_chown user=mysql group= recursive=1
files=/opt/osg-1.2.19/vdt-app-data/mysql5/var
### 2012-08-30 14&#58;36&#58;12 (safe_write) writing /opt/osg-1.2.19/vdt/setup/hostname
### 2012-08-30 14&#58;36&#58;12 (safe_write) done
### 2012-08-30 14&#58;36&#58;12 (slurp) slurping /opt/osg-1.2.19/mysql5/bin/mysql_install_db
### 2012-08-30 14&#58;36&#58;12 (slurp) read 13819 characters
### 2012-08-30 14&#58;36&#58;12 (safe_write) writing /opt/osg-1.2.19/mysql5/bin/mysql_install_db
### 2012-08-30 14&#58;36&#58;12 (safe_write) done
### 2012-08-30 14&#58;36&#58;12 (failsafe_system) /opt/osg-1.2.19/vdt/sbin/vdt-change-user mysql mysql5/bin/mysql_install_db --basedir=mysql5 --datadir=/opt/osg-1.2.19/vdt-app-data/mysql5/var &#62;&#62; /opt/osg-1.2.19/vdt-install.log 2&#62;&1
Installing MySQL system tables...
OK
Filling help tables...
OK

<div id='show_541197286' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_541197286'>To start mysqld at boot time you have to copy
support-files/mysql.server to the right place for your system

PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !
To do so, start the server, then issue the following commands&#58;
mysql5/bin/mysqladmin -u root password &#39;new-password&#39;
mysql5/bin/mysqladmin -u root -h glcc88.ucllnl.org password &#39;new-password&#39;

Alternatively you can run&#58;
mysql5/bin/mysql_secure_installation

which will also give you the option of removing the test
databases and anonymous user created by default.  This is
strongly recommended for production servers.

See the manual for more instructions.

You can start the MySQL daemon with&#58;
cd /opt/osg-1.2.19/mysql5 ; mysql5/bin/mysqld_safe &

You can test the MySQL daemon with mysql-test-run.pl
cd mysql-test ; perl mysql-test-run.pl

Please report any problems with the /opt/osg-1.2.19/mysql5/bin/mysqlbug script!

The latest information about MySQL is available on the web at
<a href='http&#58;//www.mysql.com' target='_blank' rel='nofollow'>http&#58;//www.mysql.com</a>
Support MySQL by buying support/licenses at <a href='http&#58;//shop.mysql.com' target='_blank' rel='nofollow'>http&#58;//shop.mysql.com</a>
### 2012-08-30 14&#58;36&#58;12 (failsafe_system) done (exit code 0)
### 2012-08-30 14&#58;36&#58;12 (slurp) slurping /opt/osg-1.2.19/mysql5/share/mysql/mysql.server
### 2012-08-30 14&#58;36&#58;12 (slurp) read 12317 characters
### 2012-08-30 14&#58;36&#58;12 (safe_write) writing /opt/osg-1.2.19/post-install/mysql5
### 2012-08-30 14&#58;36&#58;12 (safe_write) done
### 2012-08-30 14&#58;36&#58;12 (failsafe_system) /opt/osg-1.2.19/vdt/sbin/vdt-register-service --name mysql5 --type init --disable --init-script /opt/osg-1.2.19/post-install/mysql5
vdt-register-service&#58; updated init service &#39;mysql5&#39;
vdt-register-service&#58; desired state = disable
vdt-register-service&#58; init script   = /opt/osg-1.2.19/post-install/mysql5
### 2012-08-30 14&#58;36&#58;12 (failsafe_system) done (exit code 0)
# glcc88 /opt/osg &#62;

-- by Jeff Cunningham

</div><script type='text/javascript'>
        $('#show_541197286').click(function() {
            $('#detail_541197286').slideDown("normal");
            $('#show_541197286').hide();
            $('#hide_541197286').show();
        });
        $('#hide_541197286').click(function() {
            $('#detail_541197286').slideUp();
            $('#hide_541197286').hide();
            $('#show_541197286').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12575#1346364128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T22:02:08+00:00">Aug 30, 2012 10:02 PM UTC</time> by <b>VDT</b><a class="anchor" name="1346364128">&nbsp;</a></div><pre>On Aug 30, 2012, at 4&#58;48 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; # glcc88 /opt/osg &#62; tail -30 logs/vdt-update.log</font>

No, I want the vdt-install.log file, not the vdt-update.log file. Sorry if there was confusion.

-alain

p.s. I have to head home for the evening, so my response time may slow down.</pre></div><div class='update_description'><i onclick="document.location='12575#1346363283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T21:48:03+00:00">Aug 30, 2012 09:48 PM UTC</time><a class="anchor" name="1346363283">&nbsp;</a></div><pre>There is, but it doesn&#39;t seem to help much&#58;

# glcc88 /opt/osg &#62; tail -30 logs/vdt-update.log
### 2012-08-30 14&#58;34&#58;57 Not creating symlink for qstat because /opt/osg-1.2.19/vdt/bin/qstat exists.
### 2012-08-30 14&#58;34&#58;57 Not creating symlink for qdel because /opt/osg-1.2.19/vdt/bin/qdel exists.
### 2012-08-30 14&#58;34&#58;57 Not creating symlink for qselect because /opt/osg-1.2.19/vdt/bin/qselect exists.
### 2012-08-30 14&#58;34&#58;57 Updating 7 packages&#58;
### 2012-08-30 14&#58;34&#58;57   * Apache
### 2012-08-30 14&#58;34&#58;57 Apache pre-update step&#58; pre_apache
### 2012-08-30 14&#58;34&#58;57 cp -pr /opt/osg-1.2.19/apache/htdocs/index.html /opt/osg-1.2.19/vdt/update/tmp/index.html
### 2012-08-30 14&#58;34&#58;57 exited with status 0
### 2012-08-30 14&#58;34&#58;57 pacman -update Apache
None of the following alternatives are satisfied&#58; None of the following alternatives are satisfied&#58; Your os is [RHEL-5] but it must be &#62;= [RHEL-3]. system processor Test that system processor [x86_64] is equal to [ia64]. hasn&#39;t been attempted yet. Your os is [RHEL-5] but it must be &#62;= [AIX5.3]. Your os is [RHEL-5] but it must be &#62;= [darwin]. Your os is [RHEL-5] but it must be &#62;= [SuSE-9].  Shell command [. $VDT_LOCATION/globus/etc/globus-user-env.sh; vdt/setup/configure_mysql --version 5] has not been acquired. Pacman install failed
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-5] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-5] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-JDBC] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-JDBC] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-Base-RFT-Server] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-Base-RFT-Server] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS-Server] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS-Server] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;OSG-CE] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;OSG-CE] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//software.grid.iu.edu/osg-1.2&#58' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/osg-1.2&#58</a>;ce] not [installed]&#58;
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//software.grid.iu.edu/osg-1.2&#58' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/osg-1.2&#58</a>;ce] has not been installed.  Can&#39;t setup.
### 2012-08-30 14&#58;35&#58;05 exited with status 1
### 2012-08-30 14&#58;35&#58;05 ERROR&#58; &#39;pacman -update Apache&#39; failed (see logs/vdt-update.log for details).
### 2012-08-30 14&#58;35&#58;05 -------------------------------------------------------------------------------
### 2012-08-30 14&#58;35&#58;05 An error occurred while performing pacman updates.  Your VDT installation is
probably not usable now and may be very hard to fix.  It is best to restore
your VDT installation from backup.  If you think that the error was transient
or can be fixed, then rerun vdt-updater after restoring from backup.
Otherwise, email the VDT team at &#39;vdt-support@....&#39; for help.
If possible, first run vdt-system-profiler and attach the resulting
vdt-profile.txt file to the email.
### 2012-08-30 14&#58;35&#58;05 rm -fr /opt/osg-1.2.19/vdt/update/tmp
### 2012-08-30 14&#58;35&#58;05 exited with status 0
# glcc88 /opt/osg &#62;

<div id='show_656143972' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_656143972'>-- by Jeff Cunningham

</div><script type='text/javascript'>
        $('#show_656143972').click(function() {
            $('#detail_656143972').slideDown("normal");
            $('#show_656143972').hide();
            $('#hide_656143972').show();
        });
        $('#hide_656143972').click(function() {
            $('#detail_656143972').slideUp();
            $('#hide_656143972').hide();
            $('#show_656143972').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12575#1346363049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T21:44:09+00:00">Aug 30, 2012 09:44 PM UTC</time> by <b>VDT</b><a class="anchor" name="1346363049">&nbsp;</a></div><pre>OK, after that command runs (the pacman -update Apache) what do you see at the end of the vdt-install.log file? There&#39;s probably an error message there.

-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12575#1346362412'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T21:33:32+00:00">Aug 30, 2012 09:33 PM UTC</time><a class="anchor" name="1346362412">&nbsp;</a></div><pre>That command succeeds with a 0 return code&#58;

# glcc88 /opt/osg &#62; . $VDT_LOCATION/globus/etc/globus-user-env.sh; vdt/setup/configure_mysql --version 5
# glcc88 /opt/osg &#62; echo $?
0
# glcc88 /opt/osg &#62; pacman -update Apache
None of the following alternatives are satisfied&#58; None of the following alternatives are satisfied&#58; Your os is [RHEL-5] but it must be &#62;= [RHEL-3]. system processor Test that system processor [x86_64] is equal to [ia64]. hasn&#39;t been attempted yet. Your os is [RHEL-5] but it must be &#62;= [AIX5.3]. Your os is [RHEL-5] but it must be &#62;= [darwin]. Your os is [RHEL-5] but it must be &#62;= [SuSE-9].  Shell command [. $VDT_LOCATION/globus/etc/globus-user-env.sh; vdt/setup/configure_mysql --version 5] has not been acquired. Pacman install failed
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-5] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-5] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-JDBC] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-JDBC] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-Base-RFT-Server] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-Base-RFT-Server] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS-Server] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS-Server] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;OSG-CE] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;OSG-CE] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//software.grid.iu.edu/osg-1.2&#58' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/osg-1.2&#58</a>;ce] not [installed]&#58;
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//software.grid.iu.edu/osg-1.2&#58' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/osg-1.2&#58</a>;ce] has not been installed.  Can&#39;t setup.
# glcc88 /opt/osg &#62;

-- by Jeff Cunningham</pre></div><div class='update_description'><i onclick="document.location='12575#1346361971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T21:26:11+00:00">Aug 30, 2012 09:26 PM UTC</time> by <b>VDT</b><a class="anchor" name="1346361971">&nbsp;</a></div><pre>On Aug 30, 2012, at 3&#58;48 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; The problem stems from the pacman failure, where pacman isn&#39;t correctly determining the OS level.</font>

Pacman has notoriously bad error messages&#58; I don&#39;t believe this is a problem with Pacman detecting the OS. The error message you shared is&#58;

<font color='#7F7E6F'>&#62; None of the following alternatives are satisfied&#58; None of the following alternatives are satisfied&#58; Your os is [RHEL-5] but it must be &#62;= [RHEL-3]. system processor Test that system processor [x86_64] is equal to [ia64]. hasn&#39;t been attempted yet. Your os is [RHEL-5] but it must be &#62;= [AIX5.3]. Your os is [RHEL-5] but it must be &#62;= [darwin]. Your os is [RHEL-5] but it must be &#62;= [SuSE-9].  Shell command [. $VDT_LOCATION/globus/etc/globus-user-env.sh; vdt/setup/configure_mysql --version 5] has not been acquired. Pacman install failed</font>

If you ignore the stuff in the middle, you see it ends with&#58;

<font color='#7F7E6F'>&#62; Shell command ... vdt/setup/configure_mysql --version 5] has not been acquired.</font>

&#34;acquired&#34; is Pacman&#39;s way of saying &#34;successfully executed&#34;.

What happens when you run that command by hand? (Including the sourcing of globus-user-env.sh)

-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12575#1346359688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T20:48:08+00:00">Aug 30, 2012 08:48 PM UTC</time><a class="anchor" name="1346359688">&nbsp;</a></div><pre>This is not the problem.  I actually fixed this issue myself by changing my TMPDIR environment variable to /tmp.  I ran into this new problem after fixing the mysql issue -- I&#39;m not sure why you are seeing past failures.

The problem stems from the pacman failure, where pacman isn&#39;t correctly determining the OS level.

-- by Jeff Cunningham</pre></div><div class='update_description'><i onclick="document.location='12575#1346356462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T19:54:22+00:00">Aug 30, 2012 07:54 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1346356462">&nbsp;</a></div><pre>Hm, I&#39;m not entirely sure what happened, but I scrounged around and found the underlying step that caused the error&#58;

/opt/osg-1.2.19/vdt/sbin/vdt-change-user mysql mysql5/bin/mysql_install_db --basedir=mysql5 --datadir=/opt/osg-1.2.19/vdt-app-data/mysql5/var &#62;&#62; /opt/osg-1.2.19/vdt-install.log 2&#62;&1
Installing MySQL system tables...
ERROR&#58; 1004  Can&#39;t create file &#39;/var/tmp/root/#sql3fac_1_0.frm&#39; (errno&#58; 13)

That&#39;s a permission error. So a few questions&#58;

Does the &#34;mysql&#34; user exist? Can you run &#34;ls -ld&#34; on the following directories?

/var
/var/tmp
/var/tmp/root

It might be that I&#39;ll need to call in the help of Tim Cartwright, who understands this particular chunk of the VDT better than me. He&#39;s out today but back again tomorrow.

-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12575#1346341603'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T15:46:43+00:00">Aug 30, 2012 03:46 PM UTC</time><a class="anchor" name="1346341603">&nbsp;</a></div><pre>Attached vdt-profile.txt to ticket.

-- by Jeff Cunningham</pre></div><div class='update_description'><i onclick="document.location='12575#1346338529'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T14:55:29+00:00">Aug 30, 2012 02:55 PM UTC</time><a class="anchor" name="1346338529">&nbsp;</a></div><pre>I was following the instructions found here&#58;  <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/OSG12NewUpdateInstructions.' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/OSG12NewUpdateInstructions.</a>  Yes, I ran vdt-updater.

vdt-profile.txt has been mailed.

-- by Jeff Cunningham</pre></div><div class='update_description'><i onclick="document.location='12575#1346338133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T14:48:53+00:00">Aug 30, 2012 02:48 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1346338133">&nbsp;</a></div><pre>Hi Jeff,

How did you update? Did you run the vdt-updater?

Can you please run the following commands, preferably as root?

cd $VDT_LOCATION
. setup.sh  (or source setup.csh, as appropriate)
vdt-system-profiler

Then mail me the or vdt-profile.txt that is created.

Thanks,
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12575#1346334331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T13:45:31+00:00">Aug 30, 2012 01:45 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1346334331">&nbsp;</a></div><pre>Bringing in the software team on this one. Please see the pacman error Jeff is getting when trying to upgrade below.</pre></div><div class='update_description'><i onclick="document.location='12575#1346280827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T22:53:47+00:00">Aug 29, 2012 10:53 PM UTC</time><a class="anchor" name="1346280827">&nbsp;</a></div><pre>I attempted to update to a newer 1.2 version, but hit a snag&#58;

ERROR&#58; &#39;pacman -update Apache&#39; failed (see logs/vdt-update.log for details).

# glcc88 /opt/osg &#62; pacman -update Apache
None of the following alternatives are satisfied&#58; None of the following alternatives are satisfied&#58; Your os is [RHEL-5] but it must be &#62;= [RHEL-3]. system processor Test that system processor [x86_64] is equal to [ia64]. hasn&#39;t been attempted yet. Your os is [RHEL-5] but it must be &#62;= [AIX5.3]. Your os is [RHEL-5] but it must be &#62;= [darwin]. Your os is [RHEL-5] but it must be &#62;= [SuSE-9].  Shell command [. $VDT_LOCATION/globus/etc/globus-user-env.sh; vdt/setup/configure_mysql --version 5] has not been acquired. Pacman install failed
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-5] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-5] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-JDBC] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;MySQL-JDBC] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-Base-RFT-Server] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-Base-RFT-Server] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS-Server] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS-Server] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;Globus-WS] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;OSG-CE] not [installed]&#58; Package [/opt/osg-1.2.19&#58;<a href='http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/vdt_200_cache&#58</a>;OSG-CE] has not been installed.  Can&#39;t setup.
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//software.grid.iu.edu/osg-1.2&#58' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/osg-1.2&#58</a>;ce] not [installed]&#58;
Package [/opt/osg-1.2.19&#58;<a href='http&#58;//software.grid.iu.edu/osg-1.2&#58' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/osg-1.2&#58</a>;ce] has not been installed.  Can&#39;t setup.
# glcc88 /opt/osg &#62;

-- by Jeff Cunningham</pre></div><div class='update_description'><i onclick="document.location='12575#1346255617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T15:53:37+00:00">Aug 29, 2012 03:53 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346255617">&nbsp;</a></div><pre>Dear Jeff Cunningham,

This notice is being sent by the OSG Production Team to inform you that one or more of your resources is running a version of the OSG stack older than version 1.2.25 and has serious vulnerabilities. In OSG 1.2.24 and earlier there are serious security holes that could enable an unscrupulous user to remotely access your system and become &#34;root&#34; on your CE.

You may also be aware of a separate root level vulnerability in Condor that was sent out <a href='http&#58;//osggoc.blogspot.com/2012/08/osg-software-version-318-has-been.html.' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/2012/08/osg-software-version-318-has-been.html.</a> Please have a look to see if your site is vulnerable.

At this time you may also consider also upgrading to the newer RPM based OSG 3.x version if you have RHEL 5 or 6 based systems.

To verify your OSG version, after sourcing the setup file, you can run the command&#58; osg-version

Update instructions can be found on the OSG Twiki under the OSG 1.2 update instructions&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/OSG12UpdateInstructions' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/OSG12UpdateInstructions</a>

To update to OSG 3 follow the instructions at&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/WebHome' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/WebHome</a>
and
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/UpdateComputeElement' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/UpdateComputeElement</a>

If you have any question or need further assistance feel free to contact OSG support at goc@....&#60;mailto&#58;goc@....&#62;
or join us in the Web chat&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/SiteCoordination/ChatCalendar' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/SiteCoordination/ChatCalendar</a>

OSG Production

-- by Elizabeth Prout</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12575">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 12575});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
