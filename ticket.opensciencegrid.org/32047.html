<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[32047] TAIWAN-LCG2 DATADISK&#58; TRANSFER TRANSFER an end-of-file was reached</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=32047" method="post">
<div class="page-header">
    <h3><span class="muted">32047</span> / TAIWAN-LCG2 DATADISK&#58; TRANSFER TRANSFER an end-of-file was reached</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">staroba </div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">staroba</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-12-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=125146">125146</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=26715">26715</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/32047", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='32047#1483574413'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-05T00:00:13+00:00">Jan 5, 2017 12:00 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1483574413">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by GGUS SYSTEM at Wed Jan 04 23&#58;59&#58;09 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146</a></pre></div><div class='update_description'><i onclick="document.location='32047#1482280241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-21T00:30:41+00:00">Dec 21, 2016 12:30 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1482280241">&nbsp;</a></div><pre>Hi,

ASGC has updated their routing and are again using LHCOne routes to UTA
(UTA_SWT2, SWT2_CPB). There are no failed transfers from either of these
clusters back to TAIWAN-LCG-2 for the last 12 hours. I am closing the ticket.
-- by mcguigan@.... at Wed Dec 21 00&#58;30&#58;33 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=26715</pre></div><div class='update_description'><i onclick="document.location='32047#1482223617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-20T08:46:57+00:00">Dec 20, 2016 08:46 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1482223617">&nbsp;</a></div><pre>The ESNET ticket was updated to show that the problem has been acknowledged by
someone at sinica.edu.tw and will be remedied ASAP.
-- by mcguigan@.... at Tue Dec 20 08&#58;46&#58;47 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=26715</pre></div><div class='update_description'><i onclick="document.location='32047#1481926724'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-16T22:18:44+00:00">Dec 16, 2016 10:18 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1481926724">&nbsp;</a></div><pre>ESNET agreed that the TAIWAN-LCG2 traffic is not traveling via LHCOne
and are
following up with ASGC to find out what is happening on their end.

On 12/16/2016 04&#58;07 PM, OSG GOC TX via RT wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;   *Ticket URL&#58;*</font>
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26715' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26715</a>
<font color='#7F7E6F'>&#62;   *Requestors&#58;* tx+rtbnlprod_fp71@....</font>
<font color='#7F7E6F'>&#62;          *Ccs&#58;* (None)</font>
<font color='#7F7E6F'>&#62;        *Queue&#58;* SWTier2</font>
<font color='#7F7E6F'>&#62;        *Owner&#58;* Patrick McGuigan</font>
<font color='#7F7E6F'>&#62;       *Status&#58;* /open/</font>
<font color='#7F7E6F'>&#62;     *Priority&#58;* /Low/</font>
<font color='#7F7E6F'>&#62;  *Transaction&#58;* Correspondence added by osg-goc-rest</font>
<font color='#7F7E6F'>&#62;      *Subject&#58;* TAIWAN-LCG2 DATADISK&#58; TRANSFER TRANSFER an end-of-</font>
file was reached
<font color='#7F7E6F'>&#62;              *GGUS Ticket&#58;* 125146</font>
&#60;<a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=125146&#62' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=125146&#62</a>;
<font color='#7F7E6F'>&#62;           *OSG GOC Ticket&#58;* 32047</font>
&#60;<a href='32047.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=32047&#62</a>;
<font color='#7F7E6F'>&#62;         *GGUS Ticket Type&#58;* TEAM</font>
<font color='#7F7E6F'>&#62;      *Resource Group Name&#58;* SWT2_CPB</font>
<font color='#7F7E6F'>&#62;                  *VO Name&#58;* ATLAS</font>
<font color='#7F7E6F'>&#62;        *GGUS Problem Type&#58;* File Transfer</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
--------------------------------------------------------------------------------
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ll check back in a few days to see if ESNET or Campus Networking</font>
has
<font color='#7F7E6F'>&#62; gotten back to you.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_1297108997' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1297108997'><font color='#7F7E6F'>&#62; Thank you</font>
<font color='#7F7E6F'>&#62;  -- by Elizabeth Prout at Fri Dec 16 22&#58;06&#58;29 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>

-- by mcguigan@.... at Fri Dec 16 22&#58;18&#58;31 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=26715
</div><script type='text/javascript'>
        $('#show_1297108997').click(function() {
            $('#detail_1297108997').slideDown("normal");
            $('#show_1297108997').hide();
            $('#hide_1297108997').show();
        });
        $('#hide_1297108997').click(function() {
            $('#detail_1297108997').slideUp();
            $('#hide_1297108997').hide();
            $('#show_1297108997').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='32047#1481925989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-16T22:06:29+00:00">Dec 16, 2016 10:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1481925989">&nbsp;</a></div><pre>I&#39;ll check back in a few days to see if ESNET or Campus Networking has gotten back to you.

Thank you</pre></div><div class='update_description'><i onclick="document.location='32047#1481751838'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-14T21:43:58+00:00">Dec 14, 2016 09:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1481751838">&nbsp;</a></div><pre>I am beginning to suspect that I know what is happening to cause this problem,
but I am not sure why it is happening and who has to fix it.

The Taiwan-LCG2 site and the UTA clusters are part of LHCOne but the data
traveling between our sites are taking asymmetric paths. Packets sent from UTA
go out through our science DMZ router and peer with ESNET for our hop onto
LHCOne. It appears that packets back from Taiwan-LCG2 are being sent to UTA via
a non-LHCOne path (notably Internet2) and arrives through a different
off-campus router and is subjected to firewalls and packet inspection.

I believe our firewall or packet inspector is dropping the packets from Taiwan
since they can not be correlated with outbound packets through the same
devices. I will need to verify this with our campus network staff, but it seems
likely.

I believe that the root cause of the problem is that TAIWAN-LCG2 traffic is not
transversing LHCOne links, at least in the U.S. I checked how TAIWAIN-LCG2
traffic is sent to other ATLAS sites in the U.S. and none appear to be on
LHCOne, although it is difficult to tell. I am going to open a ticket with
ESNET to see if they know why the traffic is asymmetric.
-- by mcguigan@.... at Wed Dec 14 21&#58;43&#58;45 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=26715</pre></div><div class='update_description'><i onclick="document.location='32047#1481740564'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-14T18:36:04+00:00">Dec 14, 2016 06:36 PM UTC</time> by <b>echism</b><a class="anchor" name="1481740564">&nbsp;</a></div><pre>Hello,

Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='32047#1481582911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-12T22:48:31+00:00">Dec 12, 2016 10:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1481582911">&nbsp;</a></div><pre>Hello,

Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='32047#1481268115'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-09T07:21:55+00:00">Dec 9, 2016 07:21 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1481268115">&nbsp;</a></div><pre>Dear Patrick,

Thank for your reply, please try this addresses

<a href='gsiftp&#58;//f-dpm000.grid.sinica.edu.tw/dpm/grid.sinica.edu.tw/home/atlas/tmp/' target='_blank' rel='nofollow'>gsiftp&#58;//f-dpm000.grid.sinica.edu.tw/dpm/grid.sinica.edu.tw/home/atlas/tmp/</a>

Best Regards
Wayne.Ho

-- by You-Chain Ho at Fri Dec 09 07&#58;21&#58;30 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146</a></pre></div><div class='update_description'><i onclick="document.location='32047#1481183478'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-08T07:51:18+00:00">Dec 8, 2016 07:51 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1481183478">&nbsp;</a></div><pre>Dear Patrick,

Thank for your reply, please try this addresses

<a href='gsiftp&#58;//f-dpm000.grid.sinica.edu.tw/dpm/grid.sinica.edu.tw/home/atlas/tmp/' target='_blank' rel='nofollow'>gsiftp&#58;//f-dpm000.grid.sinica.edu.tw/dpm/grid.sinica.edu.tw/home/atlas/tmp/</a>

Best Regards
Wayne.Ho

-- by You-Chain Ho at Thu Dec 08 07&#58;50&#58;39 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146</a></pre></div><div class='update_description'><i onclick="document.location='32047#1481153416'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-07T23:30:16+00:00">Dec 7, 2016 11:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1481153416">&nbsp;</a></div><pre>Hi,

It looks like the problematic transfers are when UTA sites (UTA_SWT2, SWT2_CPB)
are the source and TAIWAN-LCG2 are the destination.

I looked through some FTS logs and there does not seem to be a problem with FTS
talking with the SRM. It appears that FTS receives a TURL. The problem seems to
be when our gridFTP server is given the Taiwanese server to setup the
third-party transfer. I would like to do some lower level investigations and I
am wondering if I can get a list of the gridFTP servers (names or addresses) at
TAIWAN-LCG that receive data. If I wanted to do some testing between our
servers and TAIWAN, can I write some small files into /tmp on the gridftp
servers?

Also, is there a directory in the storage served by the SRM that allows me to
write some small files, without worrying about the data registrations in Rucio?

Regards,

Patrick
-- by mcguigan@.... at Wed Dec 07 23&#58;30&#58;08 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=26715</pre></div><div class='update_description'><i onclick="document.location='32047#1480923270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-05T07:34:30+00:00">Dec 5, 2016 07:34 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480923270">&nbsp;</a></div><pre>There are DDM failures between TAIWAN-LCG2 DATADISK on one side and SWT2_CPB and UTA_SWT2 on the other side. The error messages are different from those reported at
<a href='https&#58;//ggus.eu/?mode=ticket_info&ticket_id=124909.' target='_blank' rel='nofollow'>https&#58;//ggus.eu/?mode=ticket_info&ticket_id=124909.</a> This situation lasts for several weeks, there are
~1300 failures during last four hours.

Most frequent error message&#58; 	2016-11-23 12&#58;26&#58;20	mc15_13TeV&#58;DAOD_SUSY2.09727212._000083.pool.root.1	#82	TRANSFER_FAILED
TOOL ID	rucio-conveyor
SRC SITE	UTA_SWT2_DATADISK
SRC URL	<a href='srm&#58;//gk05.swt2.uta.edu&#58;8443/srm/v2/server?SFN=/xrd/atlasdatadisk/rucio/mc15_13TeV/04/90/DAOD_SUSY2.09727212._000083.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//gk05.swt2.uta.edu&#58;8443/srm/v2/server?SFN=/xrd/atlasdatadisk/rucio/mc15_13TeV/04/90/DAOD_SUSY2.09727212._000083.pool.root.1</a>
DST SITE	TAIWAN-LCG2_DATADISK
DST URL	<a href='srm&#58;//f-dpm001.grid.sinica.edu.tw&#58;8446/srm/managerv2?SFN=/dpm/grid.sinica.edu.tw/home/atlas/atlasdatadisk/rucio/mc15_13TeV/04/90/DAOD_SUSY2.09727212._000083.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//f-dpm001.grid.sinica.edu.tw&#58;8446/srm/managerv2?SFN=/dpm/grid.sinica.edu.tw/home/atlas/atlasdatadisk/rucio/mc15_13TeV/04/90/DAOD_SUSY2.09727212._000083.pool.root.1</a>
TRANSFER ID	9510636b-d16e-5b7e-9bab-66d49b79ef28
TRANSFER ENDPOINT	<a href='https&#58;//fts3.cern.ch&#58;8446' target='_blank' rel='nofollow'>https&#58;//fts3.cern.ch&#58;8446</a>
ERROR MSG	TRANSFER TRANSFER an end-of-file was reached globus_xio&#58; An end of file occurred
ACTIVITY	Express
FILE SIZE	73063095 bytes
DURATION	82 s
DATASET MONITORING	Details on Rucio UI&#58;  file

Link&#58; <a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=</a>(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22TW%22&d.dst.site=%22TAIWAN-LCG2%22&d.error_code=82&d.src.cloud=%22US%22&d.src.site=%22UTA_SWT2%22&d.state=(TRANSFER_FAILED)&date.from=201611231020&date.interval=0&date.to=201611231420&dst.cloud=(%22TW%22)&dst.site=(-TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&grouping.dst=(cloud,site)&grouping.src=(cloud,site)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.cloud=(%22US%22)&src.site=(-TEST,-RDF,-AWS,-CEPH)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&tab=details

Could you have a look, please?

Thank you,
Pavel(ADCoS shifter)

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=125146</a>

[Ticket History]
Subject&#58; TAIWAN-LCG2 DATADISK&#58; TRANSFER TRANSFER an end-of-file was reached
Ticket Type&#58; TEAM
CC&#58;
-- by staroba at Wed Nov 23 14&#58;25&#58;59 UTC 2016

-- by fahui.lin at Wed Nov 23 15&#58;43&#58;30 UTC 2016
<div id='show_866846545' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_866846545'>
Dear all,

Sorry that we cannot find significant error on our SE so far.
This kind for error only happens with specific source and destination.

Would you please inform us how to investigate this problem? Thank you.

Best Regards,
FaHui
Taiwan-LCG2

-- by fahui.lin at Fri Nov 25 20&#58;37&#58;48 UTC 2016

There are two US sites (SWT2_CPB, UTA_SWT2) with 100% file transfer failure rate

<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=</a>(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22TW%22&date.interval=720&dst.site=(-TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&grouping.src=(cloud,site)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.cloud=(%22US%22)&src.site=(SWT2_CPB,UTA_SWT2)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-GRIDFTP)

You can choose any failing SRM location (from these 100% failing sites) and try to download file manually from some *.grid.sinica.edu.tw machine. For example this commands works for me on our site (and also works from lxplus.cern.ch, so you can compare their behavior in CERN and TW)&#58;

[vokac@.... ~] voms-proxy-init -key userkey.pem -cert usercert.pem -voms atlas
[vokac@.... ~] gfal-copy -v &#39;<a href='srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server?SFN=/xrd/datadisk/rucio/mc15_13TeV/fb/c9/DAOD_HIGG5D2.09665789._000191.pool.root.1&#39' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server?SFN=/xrd/datadisk/rucio/mc15_13TeV/fb/c9/DAOD_HIGG5D2.09665789._000191.pool.root.1&#39</a>; file&#58;///dev/null

Verbose gfal-copy mode shows (usually) real GridFTP location for SRM URL. You can then use just globus-url-copy (this tool has more commandline options), e.g.

[vokac@.... ~] globus-url-copy -vb <a href='gsiftp&#58;//gk04.atlas-swt2.org//xrd/datadisk/rucio/mc15_13TeV/fb/c9/DAOD_HIGG5D2.09665789._000191.pool.root.1' target='_blank' rel='nofollow'>gsiftp&#58;//gk04.atlas-swt2.org//xrd/datadisk/rucio/mc15_13TeV/fb/c9/DAOD_HIGG5D2.09665789._000191.pool.root.1</a> file&#58;///dev/null

-- by Petr Vokac at Sun Nov 27 23&#58;44&#58;56 UTC 2016

Sent TEAM notification mail to mail address mcguigan@....;sosebee@....;Dear Site Administrator,

Could you please check?  We can&#39;t attach file.

Best Regards
Wayne.HoChanged CC to mcguigan@....;sosebee@....

-- by You-Chain Ho at Mon Dec 05 07&#58;34&#58;13 UTC 2016
</div><script type='text/javascript'>
        $('#show_866846545').click(function() {
            $('#detail_866846545').slideDown("normal");
            $('#show_866846545').hide();
            $('#hide_866846545').show();
        });
        $('#hide_866846545').click(function() {
            $('#detail_866846545').slideUp();
            $('#hide_866846545').hide();
            $('#show_866846545').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F32047">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
