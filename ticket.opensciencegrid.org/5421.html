<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5421] Einstein at OSG troubleshooting</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5421" method="post">
<div class="page-header">
    <h3><span class="muted">5421</span> / Einstein at OSG troubleshooting</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Britta Daudert</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">review</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-08-19</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5421", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5421?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5421?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Einstein%20at%20OSG%20troubleshooting%20ISSUE%3D5421%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5421#1219254130'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-20T17:42:10+00:00">Aug 20, 2008 05:42 PM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1219254130">&nbsp;</a></div><pre>Dear GOC,
Today I have been informed that I should move away from my old submit
host and run my E@H jobs submitting for a different machine.
This machine will run Centos 5 and the OSG 1.0 client.
The migration will take me a while.  Hopefully  this process will
improve  things. As for now, I think we should close this ticket.
Thank you. Britta

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5421#1219190050'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-19T23:54:10+00:00">Aug 19, 2008 11:54 PM UTC</time> by <b>Britta Daudert</b><a class="anchor" name="1219190050">&nbsp;</a></div><pre>Dear Alan and GOC,

Thank you for your comments.  TTU has indeed been running the Einstein
at Home application very reliably since the last ticket has been
resolved. I do appreciate the direct login access, it has been very
useful to us so far. I also appreciate your quick response that resulted
in the quick resolution of the  recent problem at TTU.

I would like to clarify that I did not mean to imply that the sites as
such are unstable.
Maybe my wording was off in my original e-mail. I would like to rephrase&#58;
My Eintein at Home application was running stable at 2 OSG sites at the
time that I wrote the e-mail, meaning that the sites were up and most of
my jobs finish with zero return code.
Now things have changed already again&#58;
I am currently running stable at BNL_ATLAS_1, TTU_ANTAEUS, SPRACE. This
is out of  a total of 9 sites.

I don&#39;t know exactly what the other problems are especially when no log
files come back to me. I wrote up a list of current prolems that I am
attaching here. My intention is to ask for support when troubleshooting
since I have no previous experience running with WS-GRAM and because my
German collaborators had pointed out that DGRID dealt with some initial
difficulties with WS-GRAM. They also pointed out that there may  be
issues when running Globus 4.0.5 but I have not  inquired  for more
details yet.  One also should take into account that I m only running at
OSG 1.0 sites.

My German collaborators run a lot smoother on DGRID than I do on OSG. I
am trying to get to the bottom of this but I feel that I need help doing
so at this point.

May I suggest re-naming this ticket and call it&#58; Einstein at OSG
troubleshooting?
Thank you.
<div id='show_1667661859' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1667661859'>Britta

Alan Sill wrote&#58;

<font color='#7F7E6F'>&#62; HI Britta,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks for your message and for raising this topic.  I cannot offer</font>
<font color='#7F7E6F'>&#62; overall troubleshooting tips in such a general context, but I can</font>
<font color='#7F7E6F'>&#62; offer a few comments that directly pertain to your use of our site.</font>
<font color='#7F7E6F'>&#62; Since you did not mention it as among the &#34;most reliable&#34; ones, and</font>
<font color='#7F7E6F'>&#62; since it has been up and functioning for the majority of the time</font>
<font color='#7F7E6F'>&#62; that  you have been doing this work, I assume that we have a</font>
<font color='#7F7E6F'>&#62; communication  gap to close with respect to use of this, as an example</font>
<font color='#7F7E6F'>&#62; site.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; We are only aware of one ticket item that relates to TTU-Antaeus over</font>
<font color='#7F7E6F'>&#62; the period that you mention.  In this case, we had experienced a</font>
<font color='#7F7E6F'>&#62; local  file system mount failure on some, but not all, of the worker</font>
<font color='#7F7E6F'>&#62; nodes in  the cluster that escaped our own internal monitoring.  Jobs</font>
<font color='#7F7E6F'>&#62; directed  to those nodes did fail right away while this was the case,</font>
<font color='#7F7E6F'>&#62; and due to  a common weakness of batch schedulers, new jobs were</font>
<font color='#7F7E6F'>&#62; routed quickly to  the problematic nodes, since the previous jobs were</font>
<font color='#7F7E6F'>&#62; &#34;complete&#34; from  the batch scheduler&#39;s point of view.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; We fixed this problem within a short time (hours) if it being brought</font>
<font color='#7F7E6F'>&#62; to our attention.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Please note that this problem had nothing to do with WS-GRAM (GRAM4)</font>
<font color='#7F7E6F'>&#62; being used to perform the job submissions.  Since it is often the</font>
<font color='#7F7E6F'>&#62; case  that people blame the &#34;new feature&#34; of a workflow for being</font>
<font color='#7F7E6F'>&#62; associated  with all failures of the subsequent work, I think we need</font>
<font color='#7F7E6F'>&#62; to be  careful not to blame WS-GRAM for all failure modes associated</font>
<font color='#7F7E6F'>&#62; with  jobs run by that mechanism.  Again, in the case above, the</font>
<font color='#7F7E6F'>&#62; failure  mode was entirely due to problems with the local file system</font>
<font color='#7F7E6F'>&#62; and local  (LSF) scheduler and not due to GRAM4 being used to submit</font>
<font color='#7F7E6F'>&#62; the jobs.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I would have to look to see the total cpu time delivered to the LIGO</font>
<font color='#7F7E6F'>&#62; VO by our site, but believe it to be substantial, so am not sure why</font>
<font color='#7F7E6F'>&#62; you would not regard the usage as reliable.  My own opinion, based on</font>
<font color='#7F7E6F'>&#62; the fact that we offer complete login privileges via GSIOpenSSH here</font>
<font color='#7F7E6F'>&#62; as well as friendly help, is that the complex nature of many</font>
<font color='#7F7E6F'>&#62; workflows  is hard to debug, and we need to provide VOs and users with</font>
<font color='#7F7E6F'>&#62; tools that  allow them to incrementally narrow in on the suspect</font>
<font color='#7F7E6F'>&#62; branch point or  execution step in the multipley complex workflow of</font>
<font color='#7F7E6F'>&#62; running grid  jobs.  (I don&#39;t think that has anything to do directly</font>
<font color='#7F7E6F'>&#62; with WS-GRAM,  except that the errors that it gives are usually</font>
<font color='#7F7E6F'>&#62; extremely detailed  and hard to understand by the user.)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Please let us know if you learn more in your quest to obtain a better</font>
<font color='#7F7E6F'>&#62; debugging procedure.  I know that the Globus team is interested in</font>
<font color='#7F7E6F'>&#62; this topic, and may want to converse with you in more detail.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hope this helps,</font>
<font color='#7F7E6F'>&#62; Alan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Aug 15, 2008, at 7&#58;09 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; My German collaborator did mention that D-GRID experienced a period</font>
<font color='#7F7E6F'>&#62;&#62; of about two</font>
<font color='#7F7E6F'>&#62;&#62; months after implementation of WS-GRAM when stability was an issue.</font>
<font color='#7F7E6F'>&#62;&#62; After some</font>
<font color='#7F7E6F'>&#62;&#62; fine-tuning of configuration files things seemed to stabilize and</font>
<font color='#7F7E6F'>&#62;&#62; since then the E@H</font>
<font color='#7F7E6F'>&#62;&#62; application is running pretty smoothly on D-GRID.</font>
<font color='#7F7E6F'>&#62;&#62; I am wondering if I am experiencing a similar event on OSG right</font>
<font color='#7F7E6F'>&#62;&#62; now. It is also not</font>
<font color='#7F7E6F'>&#62;&#62; quite clear if the upgrade to OSG 1.0 has any influence.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Alan Sill, Ph.D</font>
<font color='#7F7E6F'>&#62; TIGRE Senior Scientist, High Performance Computing Center</font>
<font color='#7F7E6F'>&#62; Adjunct Professor of Physics</font>
<font color='#7F7E6F'>&#62; TTU</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ====================================================================</font>
<font color='#7F7E6F'>&#62; &#58;  Alan Sill, Texas Tech University  Office&#58; Admin 233, MS 4-1167  &#58;</font>
<font color='#7F7E6F'>&#62; &#58;  e-mail&#58; Alan.Sill@....   ph. 806-742-4350  fax 806-742-4358  &#58;</font>
<font color='#7F7E6F'>&#62; ====================================================================</font>
</div><script type='text/javascript'>
        $('#show_1667661859').click(function() {
            $('#detail_1667661859').slideDown("normal");
            $('#show_1667661859').hide();
            $('#hide_1667661859').show();
        });
        $('#hide_1667661859').click(function() {
            $('#detail_1667661859').slideUp();
            $('#hide_1667661859').hide();
            $('#show_1667661859').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5421#1219188070'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-19T23:21:10+00:00">Aug 19, 2008 11:21 PM UTC</time> by <b>Abhishek Singh Rana</b><a class="anchor" name="1219188070">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; &#62; 2) Is anybody else running WS-GRAM applications on OSG that I can</font>
<font color='#7F7E6F'>&#62; &#62; talk to or that may have reported similar issues?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I don&#39;t know of any good contacts, sorry.</font>

Britta - LIGO is the trailblazer here, and thus, your team may have
the most experience and competence. Most other stakeholders haven&#39;t
yet made a transition to using WS-GRAM heavily.

Abhishek

-- On Tue, 08/19/08 2&#58;32pm-0700, Alain Roy wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi Britta,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Aug 15, 2008, at 5&#58;09 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; 1) Is there any on-line information on WS-GRAM &#39;&#39;diagnostics&#34; that I should</font>
<font color='#7F7E6F'>&#62; &#62; be aware of ?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I asked Stu Martin, and he told me&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; There is some troubleshooting doc we started in 4.2&#58;</font>
<font color='#7F7E6F'>&#62; &#62; 	<a href='http&#58;//www.globus.org/toolkit/docs/4.2/4.2.0/execution/gram4/user/gram4-troubleshooting.html' target='_blank' rel='nofollow'>http&#58;//www.globus.org/toolkit/docs/4.2/4.2.0/execution/gram4/user/gram4-troubleshooting.html</a></font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Most of it is relevant to 4.0.x too.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; 2) Is anybody else running WS-GRAM applications on OSG that I can</font>
<font color='#7F7E6F'>&#62; &#62; talk to or that may have reported similar issues?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I don&#39;t know of any good contacts, sorry.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; I will gather some information on the site specific issues that I</font>
<font color='#7F7E6F'>&#62; &#62; have observed on Monday.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_37272524' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_37272524'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Have you collected more specific issues? I think we can get people to dive</font>
<font color='#7F7E6F'>&#62; into the specifics once we know them.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -alain</font>
</div><script type='text/javascript'>
        $('#show_37272524').click(function() {
            $('#detail_37272524').slideDown("normal");
            $('#show_37272524').hide();
            $('#hide_37272524').show();
        });
        $('#hide_37272524').click(function() {
            $('#detail_37272524').slideUp();
            $('#hide_37272524').hide();
            $('#show_37272524').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5421#1219183210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-19T22:00:10+00:00">Aug 19, 2008 10:00 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1219183210">&nbsp;</a></div><pre>HI Britta,

Thanks for your message and for raising this topic.  I cannot offer
overall troubleshooting tips in such a general context, but I can
offer a few comments that directly pertain to your use of our site.
Since you did not mention it as among the &#34;most reliable&#34; ones, and
since it has been up and functioning for the majority of the time that
you have been doing this work, I assume that we have a communication
gap to close with respect to use of this, as an example site.

We are only aware of one ticket item that relates to TTU-Antaeus over
the period that you mention.  In this case, we had experienced a local
file system mount failure on some, but not all, of the worker nodes in
the cluster that escaped our own internal monitoring.  Jobs directed
to those nodes did fail right away while this was the case, and due to
a common weakness of batch schedulers, new jobs were routed quickly to
the problematic nodes, since the previous jobs were &#34;complete&#34; from
the batch scheduler&#39;s point of view.

We fixed this problem within a short time (hours) if it being brought
to our attention.

Please note that this problem had nothing to do with WS-GRAM (GRAM4)
being used to perform the job submissions.  Since it is often the case
that people blame the &#34;new feature&#34; of a workflow for being associated
with all failures of the subsequent work, I think we need to be
careful not to blame WS-GRAM for all failure modes associated with
jobs run by that mechanism.  Again, in the case above, the failure
mode was entirely due to problems with the local file system and local
(LSF) scheduler and not due to GRAM4 being used to submit the jobs.

I would have to look to see the total cpu time delivered to the LIGO
VO by our site, but believe it to be substantial, so am not sure why
you would not regard the usage as reliable.  My own opinion, based on
the fact that we offer complete login privileges via GSIOpenSSH here
<div id='show_1880168402' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1880168402'>as well as friendly help, is that the complex nature of many workflows
is hard to debug, and we need to provide VOs and users with tools that
allow them to incrementally narrow in on the suspect branch point or
execution step in the multipley complex workflow of running grid
jobs.  (I don&#39;t think that has anything to do directly with WS-GRAM,
except that the errors that it gives are usually extremely detailed
and hard to understand by the user.)

Please let us know if you learn more in your quest to obtain a better
debugging procedure.  I know that the Globus team is interested in
this topic, and may want to converse with you in more detail.

Hope this helps,
Alan

On Aug 15, 2008, at 7&#58;09 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; My German collaborator did mention that D-GRID experienced a period</font>
<font color='#7F7E6F'>&#62; of about two</font>
<font color='#7F7E6F'>&#62; months after implementation of WS-GRAM when stability was an issue.</font>
<font color='#7F7E6F'>&#62; After some</font>
<font color='#7F7E6F'>&#62; fine-tuning of configuration files things seemed to stabilize and</font>
<font color='#7F7E6F'>&#62; since then the E@H</font>
<font color='#7F7E6F'>&#62; application is running pretty smoothly on D-GRID.</font>
<font color='#7F7E6F'>&#62; I am wondering if I am experiencing a similar event on OSG right</font>
<font color='#7F7E6F'>&#62; now. It is also not</font>
<font color='#7F7E6F'>&#62; quite clear if the upgrade to OSG 1.0 has any influence.</font>

Alan Sill, Ph.D
TIGRE Senior Scientist, High Performance Computing Center
Adjunct Professor of Physics
TTU

====================================================================
&#58;  Alan Sill, Texas Tech University  Office&#58; Admin 233, MS 4-1167  &#58;
&#58;  e-mail&#58; Alan.Sill@....   ph. 806-742-4350  fax 806-742-4358  &#58;
====================================================================
</div><script type='text/javascript'>
        $('#show_1880168402').click(function() {
            $('#detail_1880168402').slideDown("normal");
            $('#show_1880168402').hide();
            $('#hide_1880168402').show();
        });
        $('#hide_1880168402').click(function() {
            $('#detail_1880168402').slideUp();
            $('#hide_1880168402').hide();
            $('#show_1880168402').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5421#1219181589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-19T21:33:09+00:00">Aug 19, 2008 09:33 PM UTC</time> by <b>VDT</b><a class="anchor" name="1219181589">&nbsp;</a></div><pre>Hi Britta,

On Aug 15, 2008, at 5&#58;09 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; 1) Is there any on-line information on WS-GRAM &#39;&#39;diagnostics&#34; that I</font>
<font color='#7F7E6F'>&#62; should be aware of ?</font>

I asked Stu Martin, and he told me&#58;

<font color='#7F7E6F'>&#62; There is some troubleshooting doc we started in 4.2&#58;</font>
<font color='#7F7E6F'>&#62; 	<a href='http&#58;//www.globus.org/toolkit/docs/4.2/4.2.0/execution/gram4/user/gram4-troubleshooting.html' target='_blank' rel='nofollow'>http&#58;//www.globus.org/toolkit/docs/4.2/4.2.0/execution/gram4/user/gram4-troubleshooting.html</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Most of it is relevant to 4.0.x too.</font>

<font color='#7F7E6F'>&#62; 2) Is anybody else running WS-GRAM applications on OSG that I can</font>
<font color='#7F7E6F'>&#62; talk to or that</font>
<font color='#7F7E6F'>&#62; may have reported similar issues?</font>

I don&#39;t know of any good contacts, sorry.

<font color='#7F7E6F'>&#62; I will gather some information on the site specific issues that I</font>
<font color='#7F7E6F'>&#62; have observed on</font>
<font color='#7F7E6F'>&#62; Monday.</font>

Have you collected more specific issues? I think we can get people to
dive into the specifics once we know them.

-alain</pre></div><div class='update_description'><i onclick="document.location='5421#1218845276'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-16T00:07:56+00:00">Aug 16, 2008 12:07 AM UTC</time> by <b>echism</b><a class="anchor" name="1218845276">&nbsp;</a></div><pre>Over the last months I have been running the E@H application at 9 OSG sites.
This application is submitted using WS-GRAM to sites that have upgraded to OSG 1.0.
I have been using the same code and the same cofigurations since I started running
the application on OSG.
Out of the 9 sites, 2 have been relatively stable over a longer period of time&#58;
BNL_ATLAS_1 and AGLT2 (until last week when some administrative changes were made
that resulted in 100% submission failures).

In general,  I have been observing some instabilities.
One day my E@H jobs  run fine, the next day all jobs submitted fail without any
changes made at my end.  Most of the time no log files come back and the application
does not even start so it is virtually impossible for me to figure out what is going
on. This also means that our cleanup script does not pick up these jobs and take the
appropriate action (kill job, reset job, ...)
Often I contact the site admin, he makes some configuration changes (the nature of
which I am  in general not familiar with) and things sometimes are working fine
again. Other times they are not.

My German collaborator did mention that D-GRID experienced a period of about two
months after implementation of WS-GRAM when stability was an issue. After some
fine-tuning of configuration files things seemed to stabilize and since then the E@H
application is running pretty smoothly on D-GRID.
I am wondering if I am experiencing a similar event on OSG right now. It is also not
quite clear if the upgrade to OSG 1.0 has any influence.
Over the last two weeks, failure rates have increased dramatically and at some point
I was reduced to run at only 2 sites.

At this time, I feel that it is time for me to asked help from the GOC rather than
staying in direct contact with the sys admins and solving the issue one at the time.
Is it possible to get some assistance when trying to pinpoint the issue(s) that cause
the instabilities observed?

Maybe I can start by asking these questions&#58;

1) Is there any on-line information on WS-GRAM &#39;&#39;diagnostics&#34; that I should be aware of ?
<div id='show_431663839' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_431663839'>
I found this at the globus web site&#58;

Troubleshooting

This section is under construction and will include information about troubleshooting
WS GRAM.

2) Is anybody else running WS-GRAM applications on OSG that I can talk to or that
may have reported similar issues?

3) Has anyone else observed issues with the OSG 1.0 release that I should be aware
of? I know Steven Timm has seen an increase in GT2 globus errors 17 and 43?

I will gather some information on the site specific issues that I have observed on
Monday.

Thank you for your help.
Britta
</div><script type='text/javascript'>
        $('#show_431663839').click(function() {
            $('#detail_431663839').slideDown("normal");
            $('#show_431663839').hide();
            $('#hide_431663839').show();
        });
        $('#hide_431663839').click(function() {
            $('#detail_431663839').slideUp();
            $('#hide_431663839').hide();
            $('#show_431663839').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5421">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 5421});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
