<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2251] Request to query the VORS database</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2251" method="post">
<div class="page-header">
    <h3><span class="muted">2251</span> / Request to query the VORS database</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Karan Vahi</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2006-09-05</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2251", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2251?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2251?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Request%20to%20query%20the%20VORS%20database%20ISSUE%3D2251%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2251#1157047624'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-31T18:07:04+00:00">Aug 31, 2006 06:07 PM UTC</time> by <b>John Rosheck</b><a class="anchor" name="1157047624">&nbsp;</a></div><pre>Date&#58; Thu, 31 Aug 2006 10&#58;52&#58;39 -0700
From&#58; David Meyers &#60;dmeyers@....&#62;
To&#58; jrosheck@....
Subject&#58; Re&#58; Request to query the VORS database ISSUE=2251 PROJ=71

John&#58;

Yes, please close this ticket.

David

At 09&#58;42 AM 8/31/2006, you wrote&#58;

<font color='#7F7E6F'>&#62;Hello,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;I&#39;m going through my tickets and trying to close out the older,</font>
<font color='#7F7E6F'>&#62;essentially resolved ones.  Has this issue been resolved to your</font>
<font color='#7F7E6F'>&#62;satisfaction?  Please let me know and I&#39;ll close the ticket.  This</font>
<font color='#7F7E6F'>&#62;certainly does not preclude improving the system we&#39;ve put in place</font>
<font color='#7F7E6F'>&#62;for accessing VORS.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;Thanks,</font>
<font color='#7F7E6F'>&#62;John</font>

David Meyers

LIGO Laboratory
California Institute of Technology
Pasadena CA 91125
(626) 395-8515</pre></div><div class='update_description'><i onclick="document.location='2251#1157042739'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-31T16:45:39+00:00">Aug 31, 2006 04:45 PM UTC</time> by <b>John Rosheck</b><a class="anchor" name="1157042739">&nbsp;</a></div><pre>Date&#58; Thu, 31 Aug 2006 12&#58;42&#58;01 -0400 (EDT)
From&#58; jrosheck@....
To&#58; David Meyers &#60;dmeyers@....&#62;
Subject&#58; Re&#58; Request to query the VORS database ISSUE=2251 PROJ=71

Hello,

I&#39;m going through my tickets and trying to close out the older,
essentially resolved ones.  Has this issue been resolved to your
satisfaction?  Please let me know and I&#39;ll close the ticket.  This
certainly does not preclude improving the system we&#39;ve put in place
for accessing VORS.

Thanks,
John</pre></div><div class='update_description'><i onclick="document.location='2251#1153417295'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-20T17:41:35+00:00">Jul 20, 2006 05:41 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1153417295">&nbsp;</a></div><pre>From&#58; 	  vahi@....
Subject&#58; 	Re&#58; [Griphynligo] option for OSG infrastructure to support vds-get-sites
ISSUE=2251 PROJ=71
Date&#58; 	July 20, 2006 11&#58;20&#58;48 AM EDT
To&#58; 	  jrosheck@....
Cc&#58; 	  dmeyers@...., goc@...., kent@....,
gmehta@...., and 1 more…

Hi John

Yes, the resource ID needs to be present in that output and that has been
bugging me for quite awhile.  So I&#39;m doing something about it right now
and it should be done by the time you get this email.  The ID will be
the first on the line.

Yes that would work perfectly for me. Also there is a missing piece of getting the VO&#39;s and their
ID&#39;s.
However, i can definitely work with the assumption that we know the VO ID before hand for the
time being

Once i have the resource id, I can use the tindex.cgi script to get
information about a particular site

for e.g.
<a href='http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?region=0&amp' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?region=0&amp</a>;VO=7&amp;grid=4&amp;res=220#SITELISTING

Currently, this spits out html, instead of textual information. It
would be great if you are able to give this output also in a textual
format.  Will make for easier parsing &#58;) .

This is something that I&#39;ve been wanting to do for a while.  I&#39;ve been
complete swamped (we got new machines in and hardware/sysadmin is my
primary responsibility) but the list is thinning rapidly and I hope to
actually have real hours to spend on this tomorrow.

<div id='show_192575136' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_192575136'>Is a NAME=VALUE format workable for you?  Also, are there variables that
you need that do not show up in the current VORS detail display but are
present in the site_verify script output?  If so, please pass those along
- I&#39;m pretty sure OSG_GRID was one.

NAME=VALUE format will work for me perfectly. I do think most of the variables were in the HTML
output.
However, will get back to you if we are missing more.

The above is required if you feel that we should not directly query
the VORS database, but  query via the http server.

The http interface is very much the preferred method of extracting
information and I&#39;d like to expand on it as much as possible.  Please
let me know other any other features that you would find useful.

That would work fine. Thanks a lot for the quick response. I will work on at my end on parsing the
textual format, and identifying the various pieces of information that we need.

Regards
Karan

From&#58; 	  jrosheck@....
Subject&#58; 	Re&#58; [Griphynligo] option for OSG infrastructure to support vds-get-sites
ISSUE=2251 PROJ=71
Date&#58; 	July 20, 2006 10&#58;58&#58;56 AM EDT
To&#58; 	  vahi@....
Cc&#58; 	  dmeyers@...., goc@...., kent@...., and 1
more…

Hello,

Comments inline....

On Wed, 19 Jul 2006, Karan Vahi wrote&#58;

Hi John,

Also, looking at

<a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi?' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi?</a>
grid=4&amp;region=0&amp;res=0&amp;VO=7#VOSELECTORBAR

I see the resources listed here are a subset of the resources
returned by the script.
If i understand correctly, the perl script returns all the sites that
are part of a particular grid.
Whereas the above link lists out sites, that the LIGO VO has access to.

If the above is true ?

Absolutely, the output of this is filtered by a site&#39;s published support
for a particular VO, in this case LIGO.  One item to note - if a site is
down it will not appear in any VO, that is, it will appear only when VO=0
(meaning all).

We need to determine the following
1) Given a VO name, the VO ID  for e.g. in this case LIGO VO has ID 7.
Given the above, I can run

<a href='http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?</a>
grid=4&amp;region=0&amp;res=0&amp;VO=7#VOSELECTORBAR

#VORS text interface
#columns=Name,Gatekeeper,Type,Grid,Status,Last Test Date
BNL_ITB_Test1,gridtest01.racf.bnl.gov&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;27&#58;37
GROW-ITB,grow-itb.its.uiowa.edu&#58;2119,compute,OSG-ITB,PASS,2006-07-19
21&#58;09&#58;28
IPAS_OSG,gk.phys.sinica.edu.tw&#58;2119,compute,OSG-ITB,PASS,2006-07-19
20&#58;39&#58;33
LIGO-CIT-ITB,osg-itb.ligo.caltech.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;48&#58;24
NERSC-STAR,pdsfgrid1.nersc.gov&#58;2119,compute,OSG-ITB,PASS,2006-07-19
20&#58;42&#58;06
OSG_ITB_PSU,ligo-db2.aset.psu.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;25&#58;32
Purdue-ITB,itb.rcac.purdue.edu&#58;2119,compute,OSG-ITB,PASS,2006-07-19
20&#58;45&#58;18
TTU-TESTWULF,testwulf.hpcc.ttu.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;19&#58;55
UFlorida-EO,ufgrid05.phys.ufl.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 21&#58;12&#58;06
UFlorida-IGT,ufloridaigt.phys.ufl.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 19&#58;59&#58;09

2) In the above textual result, I can parse it , but to get
information about a particular site I need the resource id for the site.
For e.g. BNL_ITB has resource id of 220.

Yes, the resource ID needs to be present in that output and that has been
bugging me for quite awhile.  So I&#39;m doing something about it right now
and it should be done by the time you get this email.  The ID will be
the first on the line.

Once i have the resource id, I can use the tindex.cgi script to get
information about a particular site

for e.g.
<a href='http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?</a>
region=0&amp;VO=7&amp;grid=4&amp;res=220#SITELISTING

Currently, this spits out html, instead of textual information. It
would be great if you are able to give this output also in a textual
format.  Will make for easier parsing &#58;) .

This is something that I&#39;ve been wanting to do for a while.  I&#39;ve been
complete swamped (we got new machines in and hardware/sysadmin is my
primary responsibility) but the list is thinning rapidly and I hope to
actually have real hours to spend on this tomorrow.

Is a NAME=VALUE format workable for you?  Also, are there variables that
you need that do not show up in the current VORS detail display but are
present in the site_verify script output?  If so, please pass those along
- I&#39;m pretty sure OSG_GRID was one.

The above is required if you feel that we should not directly query
the VORS database, but  query via the http server.

The http interface is very much the preferred method of extracting
information and I&#39;d like to expand on it as much as possible.  Please
let me know other any other features that you would find useful.

Thanks much,
John
</div><script type='text/javascript'>
        $('#show_192575136').click(function() {
            $('#detail_192575136').slideDown("normal");
            $('#show_192575136').hide();
            $('#hide_192575136').show();
        });
        $('#hide_192575136').click(function() {
            $('#detail_192575136').slideUp();
            $('#hide_192575136').hide();
            $('#show_192575136').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2251#1153406406'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-20T14:40:06+00:00">Jul 20, 2006 02:40 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1153406406">&nbsp;</a></div><pre>From&#58; 	  jrosheck@....
Subject&#58; 	Re&#58; [Griphynligo] option for OSG infrastructure to support vds-get-sites
ISSUE=2251 PROJ=71
Date&#58; 	July 20, 2006 10&#58;18&#58;50 AM EDT
To&#58; 	  vahi@....
Cc&#58; 	  dmeyers@...., goc@...., kent@...., and 1
more…

Hello,

In general, I&#39;d really rather not grant access to the VORS DB outside
of the GOC, basically so that I can change it without giving anyone but
myself grief and because there are a few fields in it that we consider
sensitive - primarily the security contacts.  Also, almost none of the
information acquired from site testing is stored in the DB.

It may simpler for everyone if I provide a more robust text interface
via http as you note in your next email.

John</pre></div><div class='update_description'><i onclick="document.location='2251#1153401589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-20T13:19:49+00:00">Jul 20, 2006 01:19 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1153401589">&nbsp;</a></div><pre>---------- Forwarded message ----------
Date&#58; Wed, 19 Jul 2006 15&#58;03&#58;22 -0700
From&#58; Karan Vahi &#60;vahi@....&#62;
To&#58; jrosheck@....
Cc&#58; David Meyers &#60;dmeyers@....&#62;,
Kent Blackburn &#60;kent@....&#62;,
&#34;Gaurang &#60;gmehta@....&#62; Mehta&#34; &#60;gmehta@....&#62;
Subject&#58; Re&#58; [Griphynligo] option for OSG infrastructure to support
vds-get-sites

Hi John,

Also, looking at

<a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi?' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi?</a>
grid=4&amp;region=0&amp;res=0&amp;VO=7#VOSELECTORBAR

I see the resources listed here are a subset of the resources
returned by the script.
If i understand correctly, the perl script returns all the sites that
are part of a particular grid.
Whereas the above link lists out sites, that the LIGO VO has access to.

If the above is true ?
We need to determine the following
1) Given a VO name, the VO ID  for e.g. in this case LIGO VO has ID 7.
Given the above, I can run

<a href='http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?</a>
grid=4&amp;region=0&amp;res=0&amp;VO=7#VOSELECTORBAR

#VORS text interface
#columns=Name,Gatekeeper,Type,Grid,Status,Last Test Date
BNL_ITB_Test1,gridtest01.racf.bnl.gov&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;27&#58;37
<div id='show_114207555' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_114207555'>GROW-ITB,grow-itb.its.uiowa.edu&#58;2119,compute,OSG-ITB,PASS,2006-07-19
21&#58;09&#58;28
IPAS_OSG,gk.phys.sinica.edu.tw&#58;2119,compute,OSG-ITB,PASS,2006-07-19
20&#58;39&#58;33
LIGO-CIT-ITB,osg-itb.ligo.caltech.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;48&#58;24
NERSC-STAR,pdsfgrid1.nersc.gov&#58;2119,compute,OSG-ITB,PASS,2006-07-19
20&#58;42&#58;06
OSG_ITB_PSU,ligo-db2.aset.psu.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;25&#58;32
Purdue-ITB,itb.rcac.purdue.edu&#58;2119,compute,OSG-ITB,PASS,2006-07-19
20&#58;45&#58;18
TTU-TESTWULF,testwulf.hpcc.ttu.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 20&#58;19&#58;55
UFlorida-EO,ufgrid05.phys.ufl.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 21&#58;12&#58;06
UFlorida-IGT,ufloridaigt.phys.ufl.edu&#58;2119,compute,OSG-ITB,PASS,
2006-07-19 19&#58;59&#58;09

2) In the above textual result, I can parse it , but to get
information about a particular site I need the resource id for the site.
For e.g. BNL_ITB has resource id of 220.

Once i have the resource id, I can use the tindex.cgi script to get
information about a particular site

for e.g.
<a href='http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/tindex.cgi?</a>
region=0&amp;VO=7&amp;grid=4&amp;res=220#SITELISTING

Currently, this spits out html, instead of textual information. It
would be great if you are able to give this output also in a textual
format.  Will make for easier parsing &#58;) .

The above is required if you feel that we should not directly query
the VORS database, but  query via the http server.

Regards
Karan
</div><script type='text/javascript'>
        $('#show_114207555').click(function() {
            $('#detail_114207555').slideDown("normal");
            $('#show_114207555').hide();
            $('#hide_114207555').show();
        });
        $('#hide_114207555').click(function() {
            $('#detail_114207555').slideUp();
            $('#hide_114207555').hide();
            $('#show_114207555').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2251#1153401519'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-20T13:18:39+00:00">Jul 20, 2006 01:18 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1153401519">&nbsp;</a></div><pre>---------- Forwarded message ----------
Date&#58; Wed, 19 Jul 2006 14&#58;44&#58;26 -0700
From&#58; Karan Vahi &#60;vahi@....&#62;
To&#58; David Meyers &#60;dmeyers@....&#62;, jrosheck@....
Cc&#58; Kent Blackburn &#60;kent@....&#62;,
&#34;Gaurang &#60;gmehta@....&#62; Mehta&#34; &#60;gmehta@....&#62;
Subject&#58; Re&#58; [Griphynligo] option for OSG infrastructure to support
vds-get-sites

Hi John
Is there a possibility to query the VORS DB directly ?
If you can send me some information about the database schema, and
connection parameters, I can work on querying it directly in a perl
script.

For our purposes, we need more detailed information about each of the
site.

Thanks
Karan

On Jul 18, 2006, at 11&#58;51 AM, David Meyers wrote&#58;

Karan&#58;
Here (below) is a simple script - vors_client.pl that just checks
the site pool name and gatekeeper name for either the
OSG-ITB or the OSG (production) sites using VORS DB.

A more elaborate script to pull the $OSG_GRID, $DATA, $APP etc.
from the VORS DB
does not yet exist.

John Rosheck has added the $OSG_GRID values to the OSG-ITB data
collection for
our prototyping. The $OSG_GRID value is not yet supported in the
<div id='show_915187320' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_915187320'>OSG (production)
data collection. John is the VORS developer and the best person to
answer software questions.

David

David Meyers wrote&#58;

From&#58; Karan Vahi &#60;vahi@....&#62;
Subject&#58; Fwd&#58; [Griphynligo] option for OSG infrastructure to
support vds-get-sites
Date&#58; Tue, 18 Jul 2006 10&#58;10&#58;18 -0700
To&#58; David Meyers &#60;dmeyers@....&#62;
X-Mailer&#58; Apple Mail (2.752.2)
X-ISI-4-43-8-MailScanner&#58; Found to be clean
X-MailScanner-From&#58; vahi@....
X-Spam-Score&#58; 5 (*****)
X-Bayes-Prob&#58; 0.9999 (Score 5)
X-Canit-Stats-ID&#58; 3948644 - 693ae3ac3e37
X-Scanned-By&#58; CanIt (www . roaringpenguin . com) on 131.215.115.14

I was going to look at this today. Can you send me the perl script
that is used to query the VORS website?

Thanks
Karan

Begin forwarded message&#58;

From&#58; David Meyers &#60;dmeyers@....&#62;
Date&#58; June 27, 2006 12&#58;02&#58;18 PM PDT
To&#58; gripHYN-LIGO mailing list &#60;griphynligo@....&#62;
Subject&#58; [Griphynligo] option for OSG infrastructure to support
vds- get-sites

One option for osg-itb and prduction support for vds-get-sites
attributes
would be to augment the VORS web site which can be queried by
a perl script.

The VORS site is located at&#58;
<a href='http&#58;//osg-vors.grid.iu.edu/cgi-bin/index.cgi?' target='_blank' rel='nofollow'>http&#58;//osg-vors.grid.iu.edu/cgi-bin/index.cgi?</a>
grid=0&amp;region=0&amp;res=0&amp;VO=7#VOSELECTORBAR

The advantage of this infrastructure is that it&#39;s maintained by the
OSG goc
and has the trouble desk and trouble ticket system in place to
support 24/7 uptime.

I will explore whether adding $OSG_GRID (the location where the VDT
worker-node client package
is installed) to the set of attributes aggregated on VORS is
feasible.

David Meyers

Systems Engineering
LIGO Laboratory
California Institute of Technology
Pasadena CA 91125
(626) 395-8515
_______________________________________________
Griphynligo mailing list
Griphynligo@....
<a href='http&#58;//mm.ligo.caltech.edu/mailman/listinfo/griphynligo' target='_blank' rel='nofollow'>http&#58;//mm.ligo.caltech.edu/mailman/listinfo/griphynligo</a>

David Meyers

Systems Engineering
LIGO Laboratory
California Institute of Technology
Pasadena CA 91125
(626) 395-8515
</div><script type='text/javascript'>
        $('#show_915187320').click(function() {
            $('#detail_915187320').slideDown("normal");
            $('#show_915187320').hide();
            $('#hide_915187320').show();
        });
        $('#hide_915187320').click(function() {
            $('#detail_915187320').slideUp();
            $('#hide_915187320').hide();
            $('#show_915187320').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2251">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2251});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
