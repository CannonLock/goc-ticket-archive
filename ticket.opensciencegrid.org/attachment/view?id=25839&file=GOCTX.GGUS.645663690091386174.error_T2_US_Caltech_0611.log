 State Transition

    jobcooloff: 2015/6/10 (Wed) 23:00:30 UTC, T2_US_Caltech
    jobcooloff: 2015/6/11 (Thu) 01:53:26 UTC, T2_US_Caltech
    jobcooloff: 2015/6/11 (Thu) 04:14:49 UTC, T2_US_Caltech

Exit code: 99109
Retry count: 2
Errors:

    logArch1

    cmsRun1

    stageOut1
        Misc. StageOut error: 99109 (Exit Code: 99109)

            Error in StageOut: 99109
            StageOutFailure
            Message: Failure for fallback stage out:
            StageOutError
            Message: Command exited non-zero
            	ErrorCode : 60311
            	ModuleName : WMCore.Storage.StageOutError
            	MethodName : __init__
            	ErrorType : GeneralStageOutFailure
            	ClassInstance : None
            	FileName : /wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMCore.zip/WMCore/Storage/StageOutError.py
            	ClassName : None
            	Command : #!/bin/sh
            REPORT_FILE=`pwd`/srm.report.$$
            srmcp -2 -report=$REPORT_FILE -retry_num=0 -debug  file:////wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMTaskSpace/cmsRun1/Merged.root  srm://bsrm-3.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root 2>&1 | tee srm.output.$$ 

                        EXIT_STATUS=`cat $REPORT_FILE | cut -f3 -d" "`
                        echo "srmcp exit status: $EXIT_STATUS"
                        if [[ "X$EXIT_STATUS" == "X" ]] && [[ `grep -c SRM_INVALID_PATH srm.output.$$` != 0 ]]; then
                            exit 1 # dir does not eixst
                        elif [[ $EXIT_STATUS != 0 ]]; then
                           echo "Non-zero srmcp Exit status!!!"
                           echo "Cleaning up failed file:"
                            srmrm srm://bsrm-3.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root
                           exit 60311
                        fi

                        FILE_SIZE=`stat -c %s //wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMTaskSpace/cmsRun1/Merged.root `
            echo "Local File Size is: $FILE_SIZE"

                    for ((a=1; a <= 10 ; a++))
                    do
                       SRM_SIZE=`srmls -recursion_depth=0 -retry_num=0 srm://bsrm-3.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root 2>/dev/null | grep '/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root' | grep -v 'bsrm-3.t2.ucsd.edu' | awk '{print $1;}'`
                       echo "SRM Size is $SRM_SIZE"
                       if [[ $SRM_SIZE > 0 ]]; then
                          if [[ $SRM_SIZE == $FILE_SIZE ]]; then
                             exit 0
                          else
                             echo "Error: Size Mismatch between local and SE"
                             echo "Cleaning up failed file:"
                             srmrm srm://bsrm-3.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root
                             exit 60311
                          fi
                       else
                          sleep 2
                       fi
                    done
                    echo "Cleaning up failed file:"
                    srmrm srm://bsrm-3.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root
                    exit 60311

                    
            	LineNumber : 32
            	ErrorNr : 0
            	ExitCode : 151

            Traceback: 
              File "/wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMCore.zip/WMCore/Storage/StageOutImpl.py", line 196, in __call__
                self.executeCommand(command)

              File "/wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMCore.zip/WMCore/Storage/StageOutImpl.py", line 65, in executeCommand
                raise StageOutError(msg, Command = command, ExitCode = exitCode)


            	TargetPFN : srm://bsrm-3.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/cms/phedex//store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root
            	ErrorCode : 60311
            	ModuleName : WMCore.Storage.StageOutError
            	MethodName : __init__
            	LFN : /store/mc/RunIISpring15DR74/QstarToGJ_M-2000_f-1p0_TuneCUETP8M1_13TeV-pythia8/AODSIM/Asympt25ns_MCRUN2_74_V9-v2/710000/3E19E0C0-E80F-E511-8966-002590FD5A78.root
            	ClassInstance : None
            	FileName : /wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMCore.zip/WMCore/Storage/StageOutError.py
            	ClassName : None
            	Command : srmv2
            	LineNumber : 32
            	InputPFN : /wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMTaskSpace/cmsRun1/Merged.root
            	ErrorNr : 0
            	ErrorType : GeneralStageOutFailure

            Traceback: 
              File "/wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMCore.zip/WMCore/Storage/StageOutMgr.py", line 260, in fallbackStageOut
                impl(fbParams['command'], localPfn, pfn, fbParams.get("option", None), checksums)

              File "/wntmp/condor/execute/dir_37530/glide_0MlAnF/execute/dir_34907/job/WMCore.zip/WMCore/Storage/StageOutImpl.py", line 214, in __call__
                raise ex


