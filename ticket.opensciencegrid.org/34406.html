<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[34406] RSV not sending data to OSG</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=34406" method="post">
<div class="page-header">
    <h3><span class="muted">34406</span> / RSV not sending data to OSG</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">John Dockendorf</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">OSC_OSG_CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Nova</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">John Dockendorf</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">SUPERB-SC</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Wait for debug info</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2018-04-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Marina Krenz <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">SUPERB-SC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/34406", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/34406?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/34406?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20RSV%20not%20sending%20data%20to%20OSG%20ISSUE%3D34406%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='34406#1524236182'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-20T14:56:22+00:00">Apr 20, 2018 02:56 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1524236182">&nbsp;</a></div><pre>Hi,

We are scheduling RSV to be shut down. I&#39;m going to close this ticket out.

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='34406#1523464997'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-11T16:43:17+00:00">Apr 11, 2018 04:43 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1523464997">&nbsp;</a></div><pre>Scott/Marina,

Do you have any info for Mat?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1522698953'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-02T19:55:53+00:00">Apr 2, 2018 07:55 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1522698953">&nbsp;</a></div><pre>That being said, I&#39;d still like to find out why _other_ sites are
getting updated and OSC_OSG_CE isn&#39;t.  The last set of quarantine logs
didn&#39;t mention any of the metrics that weren&#39;t getting updated.

Scott/Marina, do you see any logs that mention osg-ce.hpc.osc.edu? If
they&#39;re quarantine logs, are they for the missing probes?
org.osg.certificates.cacert-expiry
org.osg.certificates.crl-expiry
org.osg.general.osg-version
org.osg.general.ping-host
The last set of quarantine logs are for the org.osg.gratia.pbs probe,
not any of the others...

As a side note, the probe details in the &#34;Current RSV Status&#34; page
&#60;<a href='https&#58;//my.opensciencegrid.org/rgcurrentstatus/index?summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&current_status_attrs_shownc=on&gip_status_attrs_showtestresults=on&downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=04%2F02%2F2018&end_type=now&end_date=04%2F02%2F2018&all_resources=on&facility_sel%5B%5D=10009&gridtype=on&gridtype_1=on&active=on&active_value=1&disable_value=1&#62' target='_blank' rel='nofollow'>https&#58;//my.opensciencegrid.org/rgcurrentstatus/index?summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&current_status_attrs_shownc=on&gip_status_attrs_showtestresults=on&downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=04%2F02%2F2018&end_type=now&end_date=04%2F02%2F2018&all_resources=on&facility_sel%5B%5D=10009&gridtype=on&gridtype_1=on&active=on&active_value=1&disable_value=1&#62</a>;
do not seem correct.  I&#39;ve attached a screenshot -- you can see that,
for example, the details for the &#34;CACert Expiry&#34; probe against
osg-ce.hpc.osc.edu actually show the results for the CE ping probe
against ce1.accre.vanderbilt.edu.

The details in the &#34;RSV Status History&#34; page do not seem to have this
problem.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1522455266'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-31T00:14:26+00:00">Mar 31, 2018 12:14 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1522455266">&nbsp;</a></div><pre>Hi Edgar, Trey, and others,

Scott and I did not discuss my patch.  However, we&#39;ve decided to
deprecate the part of RSV which reports to the MyOSG page, because it&#39;s
no longer used by Operations, and depends on an unmaintained piece of
software (a Gratia Collector).

We don&#39;t (yet) have plans to remove the client side of RSV since some
admins use it for self-testing, plus you (Edgar) use it for perfSONAR
results (rsv-perfsonar).  For people that want to monitor the health of
their systems, alternate methods for RSV reporting exist, namely&#58;

- html-consumer
- json-consumer
- nagios-consumer
- zabbix-consumer (in the osg-contrib repos, thanks Trey!)

Trey, feel free to ignore your RSV status on MyOSG, and also feel free
to disable gratia-consumer.  It has no effect on whether or not glideins
or jobs are sent to your site.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1522081322'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-26T16:22:02+00:00">Mar 26, 2018 04:22 PM UTC</time><a class="anchor" name="1522081322">&nbsp;</a></div><pre>Hi Matt,

Did you talk to Scott, can you update this ticket and link it to the corresponding JIRA ticket?

Edgar
OSG Software Support

by emfajardohernandez@....</pre></div><div class='update_description'><i onclick="document.location='34406#1521475197'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-19T15:59:57+00:00">Mar 19, 2018 03:59 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1521475197">&nbsp;</a></div><pre>Where I&#39;m at is that I have a fix for the RSV gratia-consumer that will
should prevent pipes from getting uploaded in the first place.  I&#39;ll see
if Scott and I can test it this week.  Unfortunately that will only
affect sites that will actually update their rsv-consumer packages once
the next release comes out.  So we might still have to change something
on the receiving end.

That being said, Scott wants to talk this week about the continuing role
of RSV and what parts we still need or no longer need.  So we might end
up doing something different.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1521207831'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-16T13:43:51+00:00">Mar 16, 2018 01:43 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1521207831">&nbsp;</a></div><pre>All,

Any updates on this issue?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1520542241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-08T20:50:41+00:00">Mar 8, 2018 08:50 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1520542241">&nbsp;</a></div><pre>Mats,
I have been looking through the data. I see some records that are not quarantined. And the records are as late as today. I am also trying to trace back xml caching process in the back to see if it would help to clear up more details.</pre></div><div class='update_description'><i onclick="document.location='34406#1520542056'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-08T20:47:36+00:00">Mar 8, 2018 08:47 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1520542056">&nbsp;</a></div><pre>I can make a patch that will escape pipe characters in the data RSV
sends to the Gratia collector.  However, that will only affect sites
that upgrade to the new version.  In the meantime, what is happening
with new current data from OSC?  Is it in quarantine?  Is it missing?

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1519777371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-28T00:22:51+00:00">Feb 28, 2018 12:22 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1519777371">&nbsp;</a></div><pre>... we may be able to make some changes to the way RSV uploads data to escape pipe characters. I&#39;ll let you know.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1519776514'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-28T00:08:34+00:00">Feb 28, 2018 12:08 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1519776514">&nbsp;</a></div><pre>Looks like there&#39;s a pipe in the rsv output from a probe running on
red-mon.unl.edu&#58;

Error connecting to schedd red.unl.edu&#58; SECMAN&#58;2010&#58;Received &#34;DENIED&#34;
from server for user red-mon.unl.edu@.... using
method GSI.|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS

but that output comes from Condor and we don&#39;t have any control over it.

I don&#39;t see any syntax errors in the probes from OSC.  Have you seen any
records from OSC that did not end up in quarantine?

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1519676838'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T20:27:18+00:00">Feb 26, 2018 08:27 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1519676838">&nbsp;</a></div><pre>Sorry. I followed the link to MyOSG provided below and got the information from there.

So I did not find any XML errors in regards to osg-ce.hpc.osc.edu but I found a couple of quarantined XML files with other errors/warnings. I attached the file.</pre></div><div class='update_description'><i onclick="document.location='34406#1519675654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T20:07:34+00:00">Feb 26, 2018 08:07 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1519675654">&nbsp;</a></div><pre>Hi Marina,

None of the results in that quarantine file are from Trey&#39;s site.

It does contain a metric that has pipes in the output, namely
&#34;org.osg.local-gfactory-site-querying-local&#34;.  That&#39;s not part of the
OSG software distribution, though.  Anybody know where it came from?
That&#39;s running on the host cabinet-10-10-4.t2.ucsd.edu.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1519673533'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T19:32:13+00:00">Feb 26, 2018 07:32 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1519673533">&nbsp;</a></div><pre>I still see the same errors

26 Feb 2018 00&#58;01&#58;58,834 gratia.service(Thread-10) [WARNING]&#58; Error on line 92 of document  &#58; The element type &#34;DetailsData&#34; must be terminated by the matching end-tag &#34;&#60;/DetailsData&#62;&#34;. Nested exc&#92;
eption&#58; The element type &#34;DetailsData&#34; must be terminated by the matching end-tag &#34;&#60;/DetailsData&#62;&#34;.
26 Feb 2018 00&#58;01&#58;58,835 gratia.service(Thread-10) [WARNING]&#58; org.dom4j.DocumentException&#58; Error on line 92 of document  &#58; The element type &#34;DetailsData&#34; must be terminated by the matching end-tag&#92;
&#34;&#60;/DetailsData&#62;&#34;. Nested exception&#58; The element type &#34;DetailsData&#34; must be terminated by the matching end-tag &#34;&#60;/DetailsData&#62;&#34;.
at org.dom4j.io.SAXReader.read(SAXReader.java&#58;482)
at org.dom4j.io.SAXReader.read(SAXReader.java&#58;365)
at net.sf.gratia.storage.RecordConverter.convert(Unknown Source)
at net.sf.gratia.services.RecordProcessor.convert(Unknown Source)
at net.sf.gratia.services.RecordProcessor.loop(Unknown Source)
at net.sf.gratia.services.RecordProcessor.run(Unknown Source)
Nested exception&#58;
org.xml.sax.SAXParseException; lineNumber&#58; 92; columnNumber&#58; 3; The element type &#34;DetailsData&#34; must be terminated by the matching end-tag &#34;&#60;/DetailsData&#62;&#34;.
at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
at org.dom4j.io.SAXReader.read(SAXReader.java&#58;465)
at org.dom4j.io.SAXReader.read(SAXReader.java&#58;365)
at net.sf.gratia.storage.RecordConverter.convert(Unknown Source)
at net.sf.gratia.services.RecordProcessor.convert(Unknown Source)
at net.sf.gratia.services.RecordProcessor.loop(Unknown Source)
at net.sf.gratia.services.RecordProcessor.run(Unknown Source)

<div id='show_806070218' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_806070218'>26 Feb 2018 00&#58;01&#58;58,835 gratia.service(Thread-10) [FINE]&#58; RecordProcessor&#58; 0&#58; Received bad replication XML
26 Feb 2018 00&#58;01&#58;58,840 gratia.service(Thread-10) [WARNING]&#58; RecordProcessor&#58; 0&#58; file net.sf.gratia.services.QueueManager$File@5dd44a7e quarantined as /var/lib/gratia-service/data/quarantine/quar&#92;
antine-6885725647483102900.xml (Problem parsing XML in file&#58;  Badly formed xml file
java.lang.Exception&#58; Badly formed xml file
at net.sf.gratia.storage.RecordConverter.convert(Unknown Source)
at net.sf.gratia.services.RecordProcessor.convert(Unknown Source)
at net.sf.gratia.services.RecordProcessor.loop(Unknown Source)
at net.sf.gratia.services.RecordProcessor.run(Unknown Source)
)

I attached the quarantine file it complains about.
</div><script type='text/javascript'>
        $('#show_806070218').click(function() {
            $('#detail_806070218').slideDown("normal");
            $('#show_806070218').hide();
            $('#hide_806070218').show();
        });
        $('#hide_806070218').click(function() {
            $('#detail_806070218').slideUp();
            $('#hide_806070218').hide();
            $('#show_806070218').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='34406#1519662875'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T16:34:35+00:00">Feb 26, 2018 04:34 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1519662875">&nbsp;</a></div><pre>Scott/Marina,

Do things look any different on your end with the updated version?

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1518908167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-17T22:56:07+00:00">Feb 17, 2018 10:56 PM UTC</time><a class="anchor" name="1518908167">&nbsp;</a></div><pre>Running rsv 3.17.0 doesn&#39;t seem to have fixed the issue.  My resource in MyOSG still has no data.  <a href='http&#58;//tinyurl.com/ya6twc2s' target='_blank' rel='nofollow'>http&#58;//tinyurl.com/ya6twc2s</a>

by dockendorf.2@....</pre></div><div class='update_description'><i onclick="document.location='34406#1518699699'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-15T13:01:39+00:00">Feb 15, 2018 01:01 PM UTC</time><a class="anchor" name="1518699699">&nbsp;</a></div><pre>I&#39;ve installed the latest RSV from osg-testing repo.  I&#39;ll keep an eye on MyOSG to see if RSV data begins showing up.

by dockendorf.2@....</pre></div><div class='update_description'><i onclick="document.location='34406#1518639468'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-14T20:17:48+00:00">Feb 14, 2018 08:17 PM UTC</time><a class="anchor" name="1518639468">&nbsp;</a></div><pre>Let us know if you&#39;d like to keep this ticket open for anything else or if it can be closed...

Thanks!
Carl

by EDQUIST@....</pre></div><div class='update_description'><i onclick="document.location='34406#1518552349'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-13T20:05:49+00:00">Feb 13, 2018 08:05 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1518552349">&nbsp;</a></div><pre>RSV 3.17.0 contains this fix and is now available in the osg-testing
repositories.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1518551651'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-13T19:54:11+00:00">Feb 13, 2018 07:54 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1518551651">&nbsp;</a></div><pre>Are there any updates to this ticket?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1517498395'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-01T15:19:55+00:00">Feb 1, 2018 03:19 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1517498395">&nbsp;</a></div><pre>Oh, I see. Well, there&#39;s no prerelease available, but the code has been merged into master. Trey, if you&#39;re OK with downloading the new script from GitHub, could you put <a href='https&#58;//raw.githubusercontent.com/opensciencegrid/rsv/master/rsv-metrics/libexec/probes/java-version-probe' target='_blank' rel='nofollow'>https&#58;//raw.githubusercontent.com/opensciencegrid/rsv/master/rsv-metrics/libexec/probes/java-version-probe</a> into /usr/libexec/rsv/probes/java-version-probe and reenable the metric?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1517495386'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-01T14:29:46+00:00">Feb 1, 2018 02:29 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1517495386">&nbsp;</a></div><pre>All I was asking for was a test of the newly repaired probes in real space.
The sed is not impossible, and I didn&#39;t say we wouldn&#39;t do it, just what I
said below.

So, is there a pre-release available?

Thanks
S</pre></div><div class='update_description'><i onclick="document.location='34406#1517419854'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-31T17:30:54+00:00">Jan 31, 2018 05:30 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1517419854">&nbsp;</a></div><pre>The fixed probe is not going to fix the existing records -- RSV has no way of accessing those. If you can&#39;t sed them, you might as well delete them.

Trey turned off java-version-probe so you&#39;re not going to get new bad ones. It&#39;s not a critical probe, so it doesn&#39;t matter if he leaves it off until it&#39;s fixed.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1517418553'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-31T17:09:13+00:00">Jan 31, 2018 05:09 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1517418553">&nbsp;</a></div><pre>Thanks all.

Mat, would it be possible to send John a pre-release version of the probe in question along with instructions as to how to install it?
There are technical difficulties (we can probably fix) associated with running the sed command, the records in question do not
get into the db, they are shunted to &#34;quarantine&#34; and effectively ignored. The technical difficulty, as I understand this, is to fix up
these quarantined records and then get them inserted into the db. The fix seems feasible but scary given the number of records involved.

If possible, lets skip to the fixed probe if possible and see what happens then.

S</pre></div><div class='update_description'><i onclick="document.location='34406#1517328568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-30T16:09:28+00:00">Jan 30, 2018 04:09 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1517328568">&nbsp;</a></div><pre>OK, great. Scott or Marina, have you run Carl&#39;s sed command to fix up the existing records?

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1517319605'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-30T13:40:05+00:00">Jan 30, 2018 01:40 PM UTC</time><a class="anchor" name="1517319605">&nbsp;</a></div><pre>I&#39;ve turned off that metric&#58;

[root@osg-ce ~]# rsv-control --disable --host=osg-ce.hpc.osc.edu  org.osg.general.java-version
Disabling metric &#39;org.osg.general.java-version&#39; for host &#39;osg-ce.hpc.osc.edu&#39;

One or more metrics have been disabled and will not start the next time RSV is started.  You may still need to turn them off if they are currently running.
[root@osg-ce ~]# rsv-control --off --host=osg-ce.hpc.osc.edu  org.osg.general.java-version
Stopping metric &#39;org.osg.general.java-version&#39; for host &#39;osg-ce.hpc.osc.edu&#39;

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='34406#1517263991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-29T22:13:11+00:00">Jan 29, 2018 10:13 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1517263991">&nbsp;</a></div><pre>Looks like RSV won&#39;t make this week&#39;s release. Trey, you should just disable the java-version-probe (metric org.osg.general.java-version) for now.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1516830270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-24T21:44:30+00:00">Jan 24, 2018 09:44 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1516830270">&nbsp;</a></div><pre>I think Mat meant something more like&#58;

sed -i &#39;s/Version&#58; [|]/Version&#58;  /g&#39;

The point being to remove the &#39;|&#39; characters in the &#39;Version&#58;&#39; line ... Nothing actually needs to parse these later, so it shouldn&#39;t break anything.

Carl</pre></div><div class='update_description'><i onclick="document.location='34406#1516735077'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-23T19:17:57+00:00">Jan 23, 2018 07:17 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1516735077">&nbsp;</a></div><pre>Hi all,

While the best solution would be to change gratia-collector to escape pipe characters in the record bundles it creates, that will take a while to fix. In the meantime, we&#39;ll work around it by modifying the RSV probe not to use a pipe character in its output&#58; <a href='https&#58;//github.com/opensciencegrid/rsv/pull/20' target='_blank' rel='nofollow'>https&#58;//github.com/opensciencegrid/rsv/pull/20</a>

That fix should make it into the upcoming release of RSV (next week most likely); once Trey and others update to that version, RSV will quit sending problematic output.

My suggestion is to run something like
sed &#34;s/Version&#58; [|]/Version&#58; &#124;/g&#34;
on the existing records. (That won&#39;t be the new format that RSV will send but it should avoid causing problems.)

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1516220072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-17T20:14:32+00:00">Jan 17, 2018 08:14 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1516220072">&nbsp;</a></div><pre>Edgar
It did not work. I have tried to delete the complaining record but the errors persisted.  So we looked further in the logs and located the quarantined probe records. This is the file I was referring to in this ticket. It complains that there is an XML formmating issue.</pre></div><div class='update_description'><i onclick="document.location='34406#1515776356'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-12T16:59:16+00:00">Jan 12, 2018 04:59 PM UTC</time><a class="anchor" name="1515776356">&nbsp;</a></div><pre>Hi Scott,

Did the procedure for removing duplicates work?

Could you please update this ticket?

Thanks,

Edgar
OSG Software Support

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='34406#1515771889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-12T15:44:49+00:00">Jan 12, 2018 03:44 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1515771889">&nbsp;</a></div><pre>Edgar,
Pipes that Brian mentions are used as delimiters, they are not part of the logging format.</pre></div><div class='update_description'><i onclick="document.location='34406#1515701163'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-11T20:06:03+00:00">Jan 11, 2018 08:06 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1515701163">&nbsp;</a></div><pre>Edgar
I am back from PTO, will look into it. Will keep you posted</pre></div><div class='update_description'><i onclick="document.location='34406#1515436617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-08T18:36:57+00:00">Jan 8, 2018 06:36 PM UTC</time><a class="anchor" name="1515436617">&nbsp;</a></div><pre>Hi Marina,

Could you please check on Brian&#39;s request?

Edgar Fajardo
OSG Software

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='34406#1515172259'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-05T17:10:59+00:00">Jan 5, 2018 05:10 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1515172259">&nbsp;</a></div><pre>Good point.

Marina&#58; I notice that it looks like there are pipes separating the XML records, is that just how the log is constructed or are we using the pipes as delimiters? If the latter is the case, the java version strings in some of the DetailsData tags have pipes in them.</pre></div><div class='update_description'><i onclick="document.location='34406#1514998844'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T17:00:44+00:00">Jan 3, 2018 05:00 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1514998844">&nbsp;</a></div><pre>The line Marina mentioned is between tags, not inside a tag, so double-quotes do not need to be escaped.</pre></div><div class='update_description'><i onclick="document.location='34406#1514998389'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T16:53:09+00:00">Jan 3, 2018 04:53 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1514998389">&nbsp;</a></div><pre>Removing Carl as an assignee to avoid confusion.

Mat, do we not escape double-quotes when constructing the XML?</pre></div><div class='update_description'><i onclick="document.location='34406#1513359470'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-15T17:37:50+00:00">Dec 15, 2017 05:37 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1513359470">&nbsp;</a></div><pre>Mat,
Scroll all the way down and you will see the line
java version &#34;1.7.0_111&#34;

This is the quarantined probe information we have on our end. This information is lot more detailed than other logs.  Please let me know if I need to be looking for something more specific.</pre></div><div class='update_description'><i onclick="document.location='34406#1513357440'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-15T17:04:00+00:00">Dec 15, 2017 05:04 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1513357440">&nbsp;</a></div><pre>Adding Marina onto this ticket, as Mat had a question for her.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1513114953'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-12T21:42:33+00:00">Dec 12, 2017 09:42 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1513114953">&nbsp;</a></div><pre>Marina,

I looked at the quarantined file and I don&#39;t see any double-quotes around DetailsData, nor do I see any unmatched &#60;DetailsData&#62; tags. It&#39;s a bit hard to run that file through xmllint, though, since it appears to be multiple XML files pasted together with some additional text in between...

Is there any way you can give me the raw data that gets received at your end?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1512666776'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-07T17:12:56+00:00">Dec 7, 2017 05:12 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1512666776">&nbsp;</a></div><pre>Are there any updates on this ticket from any side?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1512069891'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-11-30T19:24:51+00:00">Nov 30, 2017 07:24 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1512069891">&nbsp;</a></div><pre>Are there any updates on this ticket?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1511277505'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-11-21T15:18:25+00:00">Nov 21, 2017 03:18 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1511277505">&nbsp;</a></div><pre>Mateyas
There might have been another email thread to this ticket.
So from looking more into it, it looks like the problem is not any duplicates but in the probe XML format. I have attached the quarantined file

The error in the logs says

java.lang.Exception&#58; Badly formed xml file
org.xml.sax.SAXParseException; lineNumber&#58; 213; columnNumber&#58; 3; The element type &#34;DetailsData&#34; must be terminated by the matching end-tag &#34;&#60;/DetailsData&#62;&#34;.

I think that double quotes in these DetailsData might be causing an issue but this is just a guess.</pre></div><div class='update_description'><i onclick="document.location='34406#1511208721'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-11-20T20:12:01+00:00">Nov 20, 2017 08:12 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1511208721">&nbsp;</a></div><pre>Hi,

There might be some confusion here -- right now, I&#39;m waiting for Scott to get back to me regarding whether verification for duplicate records is working.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1511184781'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-11-20T13:33:01+00:00">Nov 20, 2017 01:33 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1511184781">&nbsp;</a></div><pre>Carl,

Do you have an update for Marina?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1510081142'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-11-07T18:59:02+00:00">Nov 7, 2017 06:59 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1510081142">&nbsp;</a></div><pre>Carl,
Did you have a chance to take a look at the malformed XML sent by the probe? Let me know if you need any more information from me.

Thanks</pre></div><div class='update_description'><i onclick="document.location='34406#1509728711'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-11-03T17:05:11+00:00">Nov 3, 2017 05:05 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1509728711">&nbsp;</a></div><pre>Hi Scott,
Any news with the verification?
Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1508945523'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-25T15:32:03+00:00">Oct 25, 2017 03:32 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1508945523">&nbsp;</a></div><pre>We believe we have it fixed but are changing some configurations to make verification possible</pre></div><div class='update_description'><i onclick="document.location='34406#1508945464'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-25T15:31:04+00:00">Oct 25, 2017 03:31 PM UTC</time><a class="anchor" name="1508945464">&nbsp;</a></div><pre>Hi Scott,

Do you have any update on this?

Edgar Fajardo
OSG Software

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='34406#1508347149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-18T17:19:09+00:00">Oct 18, 2017 05:19 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1508347149">&nbsp;</a></div><pre>We believe we have determined the method to solve this problem and are currently testing elsewhere. The databases involved are several hundreds of GB in size and care dictates we have backups before proceeding. We have not forgotten you, its just that disk only spins so fast...</pre></div><div class='update_description'><i onclick="document.location='34406#1508347124'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-18T17:18:44+00:00">Oct 18, 2017 05:18 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1508347124">&nbsp;</a></div><pre>We believe we have determined the method to solve this problem and are currently testing elsewhere. The databases involved are several hundreds of GB in size and care dictates we have backups before proceeding. We have not forgotten you, its just that disk only spins so fast...</pre></div><div class='update_description'><i onclick="document.location='34406#1507567273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-09T16:41:13+00:00">Oct 9, 2017 04:41 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1507567273">&nbsp;</a></div><pre>We are digging further, locating duplicate records turns out to be difficult.</pre></div><div class='update_description'><i onclick="document.location='34406#1507563970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-09T15:46:10+00:00">Oct 9, 2017 03:46 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1507563970">&nbsp;</a></div><pre>Any updates on this after the reboot?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1507208107'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-05T12:55:07+00:00">Oct 5, 2017 12:55 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1507208107">&nbsp;</a></div><pre>I&#39;ve rebooted the receiving machine to put it into a known, standard state. I will check in 24 hours to see if this improved the situation.
I was still seeing duplicate records in the quarantine directory but they had different IDs.</pre></div><div class='update_description'><i onclick="document.location='34406#1507042506'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-03T14:55:06+00:00">Oct 3, 2017 02:55 PM UTC</time><a class="anchor" name="1507042506">&nbsp;</a></div><pre>I grepped through several places [1] looking for 7113903 and 3365715.0 and found nothing.  The values seems odd, they don&#39;t match ranges for condor-ce, condor-cron or my batch system job IDs.  It&#39;s several million higher than all those job IDs.  In condor-ce the highest job ID is 419837.0, in condor-cron it&#39;s 10384.0 and my batch system is at 1926757.

Our old CE used a different batch system where the highest job ID is 10003931.  The old CE used GRAM and is shut off so not sure if the issue comes from that legacy system.  The old CE had same resource name in OSG, during cutover I renamed that resource to have &#34;old&#34; in name and put our new CE at current resource name.

Hopefully this data offers some insight.

[1]&#58;
/var/log/gratia
/var/log/rsv
/var/lib/gratia

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='34406#1507040779'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-10-03T14:26:19+00:00">Oct 3, 2017 02:26 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1507040779">&nbsp;</a></div><pre>Kyle, I think that&#39;s Trey; I just need to find out where that record is stored so that he can delete it.

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1506620315'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-28T17:38:35+00:00">Sep 28, 2017 05:38 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1506620315">&nbsp;</a></div><pre>Who is the party at the other end that we need to add to this ticket?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1506444134'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-26T16:42:14+00:00">Sep 26, 2017 04:42 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1506444134">&nbsp;</a></div><pre>Hello,
I think the problem is that record is being resent to this end, I believe it needs to be deleted on the far end.
S

Scott Teige PhD
Grid Operations Center Manager
Indiana University Research Technologies
steige@....&#60;mailto&#58;steige@....&#62;
Office&#58; +1 812 856 7331

On Sep 25, 2017, at 5&#58;25 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='34406#1506374755'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-25T21:25:55+00:00">Sep 25, 2017 09:25 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1506374755">&nbsp;</a></div><pre>Looks like it&#39;s always complaining about record 7113903. Scott, can you just remove that one?

-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1505478274'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-15T12:24:34+00:00">Sep 15, 2017 12:24 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1505478274">&nbsp;</a></div><pre>Hello,

All is well as far as the collector is concerned&#58;
<a href='http&#58;//steige.grid.iu.edu/cgi-bin/gip_trials.sh?showProd=1' target='_blank' rel='nofollow'>http&#58;//steige.grid.iu.edu/cgi-bin/gip_trials.sh?showProd=1</a>
(This takes a while to load, search for &#34;osg-ce.hpc&#34;)
You can click on the little green checkmark to drill
into the information from the collector. I see running jobs.

As for RSV, this is what I have&#58;
<a href='http&#58;//tinyurl.com/y8uxeocn' target='_blank' rel='nofollow'>http&#58;//tinyurl.com/y8uxeocn</a>
That is, it was working 73 days ago but not now. We probably
agree here.

grep &#34;hpc.osc&#34; /usr/local/rsv-gratia-collector/tomcat/v55/logs/gratia.log

returns this&#58;
...
2017-09-15 10&#58;51&#58;28,429 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 5 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 10&#58;51&#58;28,463 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 2 / 5 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 10&#58;51&#58;28,527 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 3 / 5 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 10&#58;51&#58;28,575 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 4 / 5 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 10&#58;51&#58;28,597 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 5 / 5 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3365715.0 CreateTime&#58; 15 September 2017 at 10&#58;51&#58;16 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 10&#58;56&#58;40,165 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 2 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 10&#58;56&#58;40,185 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 2 / 2 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3366177.0 CreateTime&#58; 15 September 2017 at 10&#58;56&#58;39 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;01&#58;49,400 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3366829.0 CreateTime&#58; 15 September 2017 at 11&#58;01&#58;40 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;07&#58;25,383 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3366996.0 CreateTime&#58; 15 September 2017 at 11&#58;06&#58;55 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;12&#58;40,387 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;12&#58;40,431 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 2 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;12&#58;40,452 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 3 / 3 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3367307.0 CreateTime&#58; 15 September 2017 at 11&#58;12&#58;15 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;18&#58;00,248 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3367989.0 CreateTime&#58; 15 September 2017 at 11&#58;17&#58;42 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;23&#58;10,789 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3368377.0 CreateTime&#58; 15 September 2017 at 11&#58;23&#58;00 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;28&#58;52,269 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;28&#58;52,313 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 2 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;28&#58;52,334 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 3 / 3 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3368629.0 CreateTime&#58; 15 September 2017 at 11&#58;28&#58;24 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;34&#58;06,749 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 2 (metric&#58;osg-ce.hpc.osc.edu) saved.
<div id='show_1209436488' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1209436488'>2017-09-15 11&#58;34&#58;06,771 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 2 / 2 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3369304.0 CreateTime&#58; 15 September 2017 at 11&#58;33&#58;37 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;39&#58;19,375 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 2 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;39&#58;19,395 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 2 / 2 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3369531.0 CreateTime&#58; 15 September 2017 at 11&#58;38&#58;53 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;44&#58;28,555 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3369774.0 CreateTime&#58; 15 September 2017 at 11&#58;44&#58;15 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;49&#58;45,963 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;49&#58;46,005 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 2 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;49&#58;46,116 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 3 / 3 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3370466.0 CreateTime&#58; 15 September 2017 at 11&#58;49&#58;18 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 11&#58;54&#58;33,830 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 2 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 11&#58;54&#58;33,852 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 2 / 2 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3370963.0 CreateTime&#58; 15 September 2017 at 11&#58;54&#58;33 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 12&#58;00&#58;14,741 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3371135.0 CreateTime&#58; 15 September 2017 at 11&#58;59&#58;53 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
2017-09-15 12&#58;05&#58;27,142 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3371821.0 CreateTime&#58; 15 September 2017 at 12&#58;05&#58;21 GMT KeyInfo&#58; null) )&#58; Ignore duplicate of record 7113903
2017-09-15 12&#58;11&#58;12,341 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 1 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 12&#58;11&#58;12,389 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; MetricRecord 2 / 3 (metric&#58;osg-ce.hpc.osc.edu) saved.
2017-09-15 12&#58;11&#58;12,411 gratia.service(Thread-14) [FINE]&#58; RecordProcessor&#58; 0&#58; ProbeDetails 3 / 3 (metric&#58;osg-ce.hpc.osc.edu, recordId= Record (Id&#58; osg-ce.hpc.osc.edu&#58;3372247.0 CreateTime&#58; 15 September 2017 at 12&#58;10&#58;47 GMT KeyInfo&#58; null) )&#58; (fast) Ignore duplicate of record 7113903
...

A similar search for a site known to be working comes up empty.
Looks like the duplicate record(s) is the problem.

Let me know if you need more.
S
</div><script type='text/javascript'>
        $('#show_1209436488').click(function() {
            $('#detail_1209436488').slideDown("normal");
            $('#show_1209436488').hide();
            $('#hide_1209436488').show();
        });
        $('#hide_1209436488').click(function() {
            $('#detail_1209436488').slideUp();
            $('#hide_1209436488').hide();
            $('#show_1209436488').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='34406#1505419234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-14T20:00:34+00:00">Sep 14, 2017 08:00 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1505419234">&nbsp;</a></div><pre>The gratia logs are claiming that probe results were sent successfully to rsv.grid.iu.edu&#58;8880.

Scott, do you know what happens to the records afterwards? Is there a way I can take a look at the raw data or the logs?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1505415852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-14T19:04:12+00:00">Sep 14, 2017 07:04 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1505415852">&nbsp;</a></div><pre>Mat,

Have you had a chance to look at these logs that Trey included?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34406#1504732286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-09-06T21:11:26+00:00">Sep 6, 2017 09:11 PM UTC</time><a class="anchor" name="1504732286">&nbsp;</a></div><pre>I&#39;ve attached the rsv-profiler-20170906.tar.gz.txt.  The gratia-logs-20170906.tar.bz2.txt is a copy of /var/log/gratia with /var/log/gratia/2017-08-* removed because the resulting tar file was too large to attach without removing some files.

Thanks,
- Trey

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='34406#1504212196'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-08-31T20:43:16+00:00">Aug 31, 2017 08:43 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1504212196">&nbsp;</a></div><pre>Hi Trey,

Could you give us more debug information for the Gratia consumer ? To do that, you&#39;ll need to edit /etc/gratia/metric/ProbeConfig and set LogLevel and DebugLevel to &#34;4&#34;. Then, wait for it to rerun (ten minutes ought to do it), and run rsv-profiler again.

Also, can you tar up /var/log/gratia, too? It might have something useful.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='34406#1503936708'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-08-28T16:11:48+00:00">Aug 28, 2017 04:11 PM UTC</time><a class="anchor" name="1503936708">&nbsp;</a></div><pre>Hi Carl,

Can you look ath this?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='34406#1502976418'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-08-17T13:26:58+00:00">Aug 17, 2017 01:26 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1502976418">&nbsp;</a></div><pre>Hi Brian/Carl,

Are there any updates on reviewing these files?  Please advise.

Thank</pre></div><div class='update_description'><i onclick="document.location='34406#1502717879'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-08-14T13:37:59+00:00">Aug 14, 2017 01:37 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1502717879">&nbsp;</a></div><pre>Hi Brian/Carl,

Are there any updates on reviewing these files?  Please advise.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='34406#1502388174'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-08-10T18:02:54+00:00">Aug 10, 2017 06:02 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1502388174">&nbsp;</a></div><pre>Hi Carl,

Had a chance to take a look at the attached logs/configs?  Please advise.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='34406#1500929922'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-24T20:58:42+00:00">Jul 24, 2017 08:58 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1500929922">&nbsp;</a></div><pre>Hi Carl,

Had a chance to take a look at the attached logs/configs?  Please advise.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='34406#1499975437'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-13T19:50:37+00:00">Jul 13, 2017 07:50 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1499975437">&nbsp;</a></div><pre>Carl,

Can you take a look at this when you get the chance?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='34406#1499694238'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-10T13:43:58+00:00">Jul 10, 2017 01:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1499694238">&nbsp;</a></div><pre>RSV information in myosg for my new CE is now getting updated.  The only time it seems to get updated is when I run &#34;rsv-control --run --all-enabled&#34;.  The local RSV website on my does have updated RSV information so it&#39;s only the information going to OSG that is not getting updated.

I&#39;ve attached osg-system-profiler and rsv-control --profile.

A few bits of information that hopefully show things are setup correctly&#58;

[root@osg-ce ~]# rsv-control --list

Metrics enabled for host&#58; osg-ce.hpc.osc.edu              | Service
----------------------------------------------------------+--------------------
org.osg.certificates.cacert-expiry                        | OSG-CE
org.osg.certificates.crl-expiry                           | OSG-CE
org.osg.general.java-version                              | OSG-CE
org.osg.general.osg-directories-CE-permissions            | OSG-CE
org.osg.general.osg-version                               | OSG-CE
org.osg.general.ping-host                                 | OSG-CE
org.osg.general.vo-supported                              | OSG-CE
org.osg.globus.gridftp-simple                             | GridFTP
org.osg.gratia.metric                                     | OSG-CE
org.osg.gratia.pbs                                        | OSG-CE
org.osg.htcondor-ce.authentication                        | OSG-HTCondor-CE
org.osg.htcondor-ce.job-routes                            | OSG-HTCondor-CE
org.osg.local.hostcert-expiry                             | OSG-Local-Monitor
org.osg.local.httpcert-expiry                             | OSG-Local-Monitor

There are 50 metrics not enabled on any host.  Use --all to display them.

[root@osg-ce ~]# rsv-control --job-list

Hostname&#58; osg-ce.hpc.osc.edu
ID OWNER      ST NEXT RUN TIME   METRIC
26.0 rsv        I  07-10 12&#58;30     org.osg.certificates.crl-expiry
27.0 rsv        I  07-10 10&#58;37     org.osg.general.osg-directories-CE-permissions
28.0 rsv        I  07-11 04&#58;59     org.osg.htcondor-ce.job-routes
29.0 rsv        I  07-10 10&#58;31     org.osg.htcondor-ce.authentication
<div id='show_667686713' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_667686713'>30.0 rsv        I  07-10 10&#58;08     org.osg.globus.gridftp-simple
31.0 rsv        I  07-10 10&#58;23     org.osg.gratia.metric
32.0 rsv        R  07-10 09&#58;49     org.osg.gratia.pbs
33.0 rsv        I  07-11 01&#58;24     org.osg.local.httpcert-expiry
21.0 rsv        R  07-10 09&#58;47     org.osg.general.ping-host
34.0 rsv        I  07-11 01&#58;40     org.osg.local.hostcert-expiry
22.0 rsv        R  07-10 09&#58;47     org.osg.general.osg-version
35.0 rsv        I  07-10 12&#58;47     org.osg.batch.test-submission
23.0 rsv        I  07-10 12&#58;47     org.osg.general.java-version
24.0 rsv        I  07-10 18&#58;54     org.osg.general.vo-supported
25.0 rsv        I  07-10 12&#58;15     org.osg.certificates.cacert-expiry

ID OWNER      ST CONSUMER
1.0 rsv        R  html-consumer
2.0 rsv        R  gratia-consumer

[root@osg-ce ~]# systemctl is-active rsv
active
[root@osg-ce ~]# systemctl is-active condor-cron
active

[root@osg-ce ~]# condor_ce_history rsv | head -10
ID     OWNER          SUBMITTED   RUN_TIME     ST COMPLETED   CMD
993.0   rsv             7/10 09&#58;37   0+00&#58;00&#58;00 C   7/10 09&#58;37 org.osg.general.osg-directories-CE-permissions -m org.osg.general.osg-directories-CE-permissions -u osg-ce.hpc.osc.edu
982.0   rsv             7/10 09&#58;23   0+00&#58;00&#58;00 C   7/10 09&#58;23 org.osg.gratia.metric -m org.osg.gratia.metric -u osg-ce.hpc.osc.edu
981.0   rsv             7/10 08&#58;49   0+00&#58;00&#58;01 C   7/10 08&#58;49 org.osg.gratia.pbs -m org.osg.gratia.pbs -u osg-ce.hpc.osc.edu
980.0   rsv             7/10 08&#58;47   0+00&#58;00&#58;00 C   7/10 08&#58;47 org.osg.general.osg-version -m org.osg.general.osg-version -u osg-ce.hpc.osc.edu
979.0   rsv             7/10 08&#58;37   0+00&#58;00&#58;00 C   7/10 08&#58;37 org.osg.general.osg-directories-CE-permissions -m org.osg.general.osg-directories-CE-permissions -u osg-ce.hpc.osc.edu
978.0   rsv             7/10 08&#58;23   0+00&#58;00&#58;01 C   7/10 08&#58;23 org.osg.gratia.metric -m org.osg.gratia.metric -u osg-ce.hpc.osc.edu
977.0   rsv             7/10 07&#58;49   0+00&#58;00&#58;00 C   7/10 07&#58;49 org.osg.gratia.pbs -m org.osg.gratia.pbs -u osg-ce.hpc.osc.edu
976.0   rsv             7/10 07&#58;47   0+00&#58;00&#58;00 C   7/10 07&#58;47 org.osg.general.osg-version -m org.osg.general.osg-version -u osg-ce.hpc.osc.edu
975.0   rsv             7/10 07&#58;37   0+00&#58;00&#58;00 C   7/10 07&#58;37 org.osg.general.osg-directories-CE-permissions -m org.osg.general.osg-directories-CE-permissions -u osg-ce.hpc.osc.edu

- Trey

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696

</div><script type='text/javascript'>
        $('#show_667686713').click(function() {
            $('#detail_667686713').slideDown("normal");
            $('#show_667686713').hide();
            $('#hide_667686713').show();
        });
        $('#hide_667686713').click(function() {
            $('#detail_667686713').slideUp();
            $('#hide_667686713').hide();
            $('#show_667686713').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F34406">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
