<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[26814] CMVFS problems on skynet014.crc.nd.edu and skynet015.crc.nd.edu</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=26814" method="post">
<div class="page-header">
    <h3><span class="muted">26814</span> / CMVFS problems on skynet014.crc.nd.edu and skynet015.crc.nd.edu</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Kenneth Herner</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">NWICG_NDCMS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Kenneth Herner</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">NWICG</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-09-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">NWICG <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/26814", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='26814#1442854834'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-21T17:00:34+00:00">Sep 21, 2015 05:00 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1442854834">&nbsp;</a></div><pre>Sounds great, Serguei.  Yes I would not expect reinstallation of fuse to change /etc/group or /etc/passwd, because the fuse group would already be there.

It&#39;s not clear to me if you tried chgrp fuse /bin/fusermount, that should have worked, but certainly reinstalling fuse is cleaner anyway.

I will close the ticket.</pre></div><div class='update_description'><i onclick="document.location='26814#1442854390'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-21T16:53:10+00:00">Sep 21, 2015 04:53 PM UTC</time><a class="anchor" name="1442854390">&nbsp;</a></div><pre>The only workaround helped -  complete uninstallation of fuse.
Further restart of server and installation  fuse, osg-oasis,  hadoop-hdfs-fuse, osg-se-hadoop-client, after that cvmfs,  and restart autofs became available.
Re-installation of fuse did not change /etc/group or /etc/passwd, files have old timestamp

Re-installation of cvmfs, changing group owners did not help.  The cvmfs was unavailable.

The ticket can be closed.

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787</pre></div><div class='update_description'><i onclick="document.location='26814#1442611783'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T21:29:43+00:00">Sep 18, 2015 09:29 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1442611783">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Do you mean the installation was not right and I should add &#34;fuse&#34; to /etc/group  manually and change permission ?</font>
No, you could &#34;chgrp fuse /bin/fusermount&#34;, or you to make sure it is reproducible you could uninstall fuse (which will uninstall cvmfs) and reinstall.

Most likely the fuse package was installed before the site-common fuse group was put on the machine, then the fuse group was changed, then the cvmfs package added which reused the previous value that the fuse group used.had been.

<font color='#7F7E6F'>&#62; HTTP/1.0 200 OK</font>
Alright, so you don&#39;t have a networking problem like I suspected.

Ah!  I see the problem.  It&#39;s where I got the typo -- you did mount -t cvmfs cvmfs.cern.ch /mnt/cvmfs, when you should be doing cms.cern.ch instead of cvmfs.cern.ch.</pre></div><div class='update_description'><i onclick="document.location='26814#1442608898'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T20:41:38+00:00">Sep 18, 2015 08:41 PM UTC</time><a class="anchor" name="1442608898">&nbsp;</a></div><pre>As for group &#34;fuse&#34;

we did not change anything regarding group fuse.
we did not have it at the beginning.

As I said before, I uninstall cvmfs   restarted server &#34;skynet013&#34;  and as you see
the installer sis not add separate group &#34;fuse&#34;  to /etc/group.

Do you mean the installation was not right and I should add &#34;fuse&#34; to /etc/group  manually and change permission ?

[root@skynet013 ~]# export http_proxy=<a href='http&#58;//eddie.crc.nd.edu&#58;3128' target='_blank' rel='nofollow'>http&#58;//eddie.crc.nd.edu&#58;3128</a>
[root@skynet013 ~]# wget -dqO- <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cms.cern.ch/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cms.cern.ch/.cvmfspublished</a> | cat -v
Setting --quiet (quiet) to 1
Setting --output-document (outputdocument) to -
DEBUG output created by Wget 1.12 on linux-gnu.

Caching eddie.crc.nd.edu =&#62; 129.74.85.45
Created socket 3.
Releasing 0x0000000001a229e0 (new refcount 1).

---request begin---
GET <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cms.cern.ch/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cms.cern.ch/.cvmfspublished</a> HTTP/1.0
User-Agent&#58; Wget/1.12 (linux-gnu)
Accept&#58; */*
Host&#58; cvmfs.fnal.gov

---request end---

---response begin---
HTTP/1.0 200 OK
Date&#58; Fri, 18 Sep 2015 20&#58;37&#58;17 GMT
Server&#58; Apache/2.2.15 (Scientific Linux)
Accept-Ranges&#58; bytes
Content-Length&#58; 509
Cache-Control&#58; max-age=120
<div id='show_1147171702' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1147171702'>Expires&#58; Fri, 18 Sep 2015 20&#58;39&#58;17 GMT
Content-Type&#58; application/x-cvmfs
X-Cache&#58; MISS from cmssrv286.fnal.gov/1
X-Cache&#58; MISS from eddie.crc.nd.edu/0
X-Cache&#58; MISS from eddie.crc.nd.edu/1
Via&#58; 1.1 cmssrv286.fnal.gov/1&#58;8000 (squid/frontier-squid-2.7.STABLE9-23.1), 1.0 eddie.crc.nd.edu/0&#58;3128 (squid/frontier-squid-2.7.STABLE9-24.1.osg32.el6), 1.0 eddie.crc.nd.edu/1&#58;3128 (squid/frontier-squid-2.7.STABLE9-24.1.osg32.el6)
Connection&#58; close

---response end---
Closed fd 3
C8ea0edccd6a6d57cb8dd17082a80bc4d3a06f96e
B188416
Rd41d8cd98f00b204e9800998ecf8427e
D900
S16235
Gno
Ncms.cern.ch
X97ed1a293d396c7525193a9c303ca0d1d384d78a
H259e8c5a0631c69daa471bc11eeff9da72c7e025
T1442605025
--
46e7e80fd2e2208dae6e011f9f064dcd0a7876e0
^@M-0&#34;M-^DM-5^D_^[M-ZlM-^CM-dM-7%q.FM-F^KM-QM-1^EM-JM-DX^?^VM-K^BJ1iM-)f.M-Q)M-^@^TM-^OM-?M-&#34;M-[M-6^C^PM-AM- M-QsM-^@M-}nOM-uM-EM-4FM-%bRM-^AM-^ZVM-R^^%M-%^FF;M-B^]M-/&#96;mM-nTM-g(M-v^?M-$]^_M-!EFyM-^GM-^R^MVM-xM-kMM-&#60;M-hM-=M-P&#92;||]t^[ M-WM-&#92;EM-8M-_kM-^SM-S3WM-6M-&#92;EXM-K@M-^JM-^@^&#92;$^?R*~M-|zM-^AM-~M-&#34;M-A0M-)M-W&#96;&#62;M-DM-^?M-9iM-^H#M-^WnnM-y_;&#60;M-&sM-^A^Q@yM-~^OM-7M-B^PFM-*%c+M-%M-F^Of&#60;M-^DNM-QqM-&#58;ebM-^AM-,kM-;m^U^V?M-W+!@UM-!M-o&#60;M-p(G_M-^^M-&#34;^^M-^ZM-^XM-3M-&#34;+M-[+7M-wM-.oU5k&#96;6M-XM-7M-UM-By^LM-PM-0r+M-%M-iM-RM-vM-e^EM-7M-_M-^QM-e@M-DM-,cM-,4;M-(M-Q^BxU_U[root@skynet013 ~]#

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787
</div><script type='text/javascript'>
        $('#show_1147171702').click(function() {
            $('#detail_1147171702').slideDown("normal");
            $('#show_1147171702').hide();
            $('#hide_1147171702').show();
        });
        $('#hide_1147171702').click(function() {
            $('#detail_1147171702').slideUp();
            $('#hide_1147171702').hide();
            $('#show_1147171702').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='26814#1442607470'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T20:17:50+00:00">Sep 18, 2015 08:17 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1442607470">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; -rwsr-x--- 1 root cvmfs 32336 Nov  3  2011 /bin/fusermount</font>
That&#39;s wrong, the group is supposed to be &#39;fuse&#39;.

<font color='#7F7E6F'>&#62; [root@skynet013 ~]# http_proxy=<a href='http&#58;//eddie.crc.nd.edu&#58;3128' target='_blank' rel='nofollow'>http&#58;//eddie.crc.nd.edu&#58;3128</a></font>
If you put that on a separate line like that, you need to use &#39;export&#39;.  The wget command did not go through eddie.

<font color='#7F7E6F'>&#62; wget -dqO- <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch/.cvmfspublished</a> | cat -v</font>
Sorry, my typo.  Make that cms.cern.ch, not cvmfs.cern.ch.</pre></div><div class='update_description'><i onclick="document.location='26814#1442605832'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T19:50:32+00:00">Sep 18, 2015 07:50 PM UTC</time><a class="anchor" name="1442605832">&nbsp;</a></div><pre>Dave,

The same

[root@skynet013 ~]# ls -l /bin/fusermount
-rwsr-x--- 1 root cvmfs 32336 Nov  3  2011 /bin/fusermount

[root@skynet012 ~]# ls -l /bin/fusermount
-rwsr-x--- 1 root fuse 32336 Nov  3  2011 /bin/fusermount

[root@skynet013 ~]# http_proxy=<a href='http&#58;//eddie.crc.nd.edu&#58;3128' target='_blank' rel='nofollow'>http&#58;//eddie.crc.nd.edu&#58;3128</a>
[root@skynet013 ~]# wget -dqO- <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch/.cvmfspublished</a> | cat -v
Setting --quiet (quiet) to 1
Setting --output-document (outputdocument) to -
DEBUG output created by Wget 1.12 on linux-gnu.

Caching cvmfs.fnal.gov =&#62; 131.225.205.14
Created socket 3.
Releasing 0x000000000282c8b0 (new refcount 1).

---request begin---
GET /cvmfs/cvmfs.cern.ch/.cvmfspublished HTTP/1.0
User-Agent&#58; Wget/1.12 (linux-gnu)
Accept&#58; */*
Host&#58; cvmfs.fnal.gov
Connection&#58; Keep-Alive

---request end---

---response begin---
HTTP/1.0 404 Not Found
Date&#58; Fri, 18 Sep 2015 19&#58;49&#58;43 GMT
Server&#58; Apache/2.2.15 (Scientific Linux)
Content-Length&#58; 320
Content-Type&#58; text/html; charset=iso-8859-1
<div id='show_914382666' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_914382666'>X-Cache&#58; MISS from cmssrv286.fnal.gov/1
Via&#58; 1.1 cmssrv286.fnal.gov/1&#58;8000 (squid/frontier-squid-2.7.STABLE9-23.1)
Connection&#58; close

---response end---
Closed fd 3

thanks for you help

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787
</div><script type='text/javascript'>
        $('#show_914382666').click(function() {
            $('#detail_914382666').slideDown("normal");
            $('#show_914382666').hide();
            $('#hide_914382666').show();
        });
        $('#hide_914382666').click(function() {
            $('#detail_914382666').slideUp();
            $('#hide_914382666').hide();
            $('#show_914382666').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='26814#1442605261'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T19:41:01+00:00">Sep 18, 2015 07:41 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1442605261">&nbsp;</a></div><pre>What does ls -l /bin/fusermount look like?

Those machines appear to not be able to get through the network and the squid to the servers.  On one of the failing machines, try
http_proxy=<a href='http&#58;//eddie.crc.nd.edu&#58;3128' target='_blank' rel='nofollow'>http&#58;//eddie.crc.nd.edu&#58;3128</a> wget -dqO- <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch/.cvmfspublished</a> | cat -v

Dave</pre></div><div class='update_description'><i onclick="document.location='26814#1442603283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T19:08:03+00:00">Sep 18, 2015 07:08 PM UTC</time><a class="anchor" name="1442603283">&nbsp;</a></div><pre>Dave,

All our compute hosts have the same /etc/group /etc/passwd.  Nothing was changed here, and entire configuration is the same.
But on skynet012 work,  skynet013 does NOT work.   I restarted both of them.

[root@skynet012 ~]# grep fuse /etc/group
fuse&#58;x&#58;499&#58;cvmfs,root
[root@skynet012 ~]# grep cvmfs /etc/passwd
cvmfs&#58;x&#58;113&#58;113&#58;CernVM-FS service account&#58;/var/cache/cvmfs2&#58;/sbin/nologin

Your assumption regarding eddie proxy server is not right because all other 90 servers do not have problems, and they eddie as the proxy.
Only 3  skynet013 skynet014 skynet015  can not communicate with cvmfs.

I have tried to stop autofs and did exactly what you said, but still getting errors&#58;

[root@skynet013 ~]# service autofs stop
Stopping automount&#58;                                        [  OK  ]
[root@skynet013 ~]# mount -t cvmfs cvmfs.cern.ch /mnt/cvmfs
CernVM-FS&#58; running with credentials 113&#58;113
CernVM-FS&#58; loading Fuse module... Failed to initialize root file catalog (16 - file catalog failure)
[root@skynet013 ~]#

I suspect that servers skynet013/014/015  are blocked on the cvmfs side.

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787</pre></div><div class='update_description'><i onclick="document.location='26814#1442601708'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T18:41:48+00:00">Sep 18, 2015 06:41 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1442601708">&nbsp;</a></div><pre>Serguei,

You can&#39;t mount to /cvmfs/oasis.opensciencegrid.org manually while the automounter is running.   The troubleshooting guide says to mount to /mnt/cvmfs.

That first line of error output from cvmfs_config chksetup is signficant&#58; &#34;Error&#58; failed to run /usr/bin/fusermount as user cvmfs&#34;.  Usually that means the group of /bin/fusermount is wrong.  It is supposed to be &#39;fuse&#39;, and cvmfs should be in the group.  It typically happens when system administrators change the group id of fuse after the fuse package is already installed.

Some of those other errors are also significant.   I expect the Geo-API to fail on cvmfs.racf.bnl.gov but cernvmfs.gridpp.rl.ac.uk should work.  You&#39;re seeing failures also from cvmfs-stratum-one.cern.ch in /var/log/messages.  I suspect that your only squid listed, <a href='http&#58;//eddie.crc.nd.edu&#58;3128' target='_blank' rel='nofollow'>http&#58;//eddie.crc.nd.edu&#58;3128</a>, is not functioning properly.

Dave</pre></div><div class='update_description'><i onclick="document.location='26814#1442599243'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T18:00:43+00:00">Sep 18, 2015 06:00 PM UTC</time><a class="anchor" name="1442599243">&nbsp;</a></div><pre>Hi Dave,

The general troubleshooting did not help

[root@skynet013 ~]# mount -t cvmfs cms.cern.ch /cvmfs/cms.cern.ch
Failed to grab mountpoint (2)
[root@skynet013 ~]# cvmfs_config chksetup
Error&#58; failed to run /usr/bin/fusermount as user cvmfs
Warning&#58; failed to use Geo-API with cernvmfs.gridpp.rl.ac.uk
Warning&#58; failed to use Geo-API with cvmfs.racf.bnl.gov
Warning&#58; failed to use Geo-API with cernvmfs.gridpp.rl.ac.uk
Warning&#58; failed to use Geo-API with cvmfs.racf.bnl.gov
Warning&#58; failed to use Geo-API with cernvmfs.gridpp.rl.ac.uk
Warning&#58; failed to use Geo-API with cvmfs.racf.bnl.gov
Warning&#58; failed to use Geo-API with cernvmfs.gridpp.rl.ac.uk
Warning&#58; failed to use Geo-API with cvmfs.racf.bnl.gov
[root@skynet013 ~]# cvmfs_config showconfig cms.cern.ch
CVMFS_REPOSITORY_NAME=cms.cern.ch
CVMFS_USER=cvmfs    # from /etc/cvmfs/default.conf
CVMFS_NFILES=65536    # from /etc/cvmfs/default.conf
CVMFS_CACHE_BASE=/var/cache/cvmfs    # from /etc/cvmfs/default.local
CVMFS_CACHE_DIR=/var/cache/cvmfs/shared
CVMFS_MOUNT_DIR=/cvmfs    # from /etc/cvmfs/default.conf
CVMFS_QUOTA_LIMIT=20000    # from /etc/cvmfs/default.local
CVMFS_SERVER_URL=&#39;<a href='http&#58;//cvmfs-stratum-one.cern.ch/cvmfs/cms.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs-stratum-one.cern.ch/cvmfs/cms.cern.ch</a>;<a href='http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cms.cern.ch' target='_blank' rel='nofollow'>http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cms.cern.ch</a>;<a href='http&#58;//cvmfs.racf.bnl.gov/cvmfs/cms.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov/cvmfs/cms.cern.ch</a>;<a href='http&#58;//cvmfs.fnal.gov/cvmfs/cms.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cms.cern.ch</a>;<a href='http&#58;//cvmfs02.grid.sinica.edu.tw/cvmfs/cms.cern.ch&#39' target='_blank' rel='nofollow'>http&#58;//cvmfs02.grid.sinica.edu.tw/cvmfs/cms.cern.ch&#39</a>;    # from /etc/cvmfs/domain.d/cern.ch.conf
CVMFS_DEBUGLOG=
CVMFS_HTTP_PROXY=<a href='http&#58;//eddie.crc.nd.edu&#58;3128' target='_blank' rel='nofollow'>http&#58;//eddie.crc.nd.edu&#58;3128</a>    # from /etc/cvmfs/default.local
CERNVM_GRID_UI_VERSION=
CVMFS_SYSLOG_LEVEL=
CVMFS_SYSLOG_FACILITY=
CVMFS_TRACEFILE=
CVMFS_TIMEOUT=5    # from /etc/cvmfs/default.conf
CVMFS_TIMEOUT_DIRECT=10    # from /etc/cvmfs/default.conf
CVMFS_PUBLIC_KEY=
CVMFS_KEYS_DIR=/etc/cvmfs/keys/cern.ch    # from /etc/cvmfs/domain.d/cern.ch.conf
<div id='show_969787484' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_969787484'>CVMFS_MAX_TTL=
CVMFS_RELOAD_SOCKETS=/var/run/cvmfs    # from /etc/cvmfs/default.conf
CVMFS_DEFAULT_DOMAIN=
CVMFS_MEMCACHE_SIZE=
CVMFS_KCACHE_TIMEOUT=
CVMFS_ROOT_HASH=
CVMFS_REPOSITORY_TAG=
CVMFS_REPOSITORY_DATE=
CVMFS_REPOSITORIES=atlas.cern.ch,atlas-condb.cern.ch,lhcb.cern.ch,cms.cern.ch    # from /etc/cvmfs/default.local
CVMFS_PROXY_RESET_AFTER=300    # from /etc/cvmfs/default.conf
CVMFS_MAX_RETRIES=1    # from /etc/cvmfs/default.conf
CVMFS_BACKOFF_INIT=2    # from /etc/cvmfs/default.conf
CVMFS_BACKOFF_MAX=10    # from /etc/cvmfs/default.conf
CVMFS_ALIEN_CACHE=
CVMFS_TRUSTED_CERTS=
CVMFS_INITIAL_GENERATION=
CVMFS_CONFIG_REPOSITORY=
CVMFS_LOW_SPEED_LIMIT=1024    # from /etc/cvmfs/default.conf
CVMFS_FALLBACK_PROXY=
CVMFS_PROXY_TEMPLATE=
CVMFS_FOLLOW_REDIRECTS=
CVMFS_IGNORE_SIGNATURE=no    # from /etc/cvmfs/default.conf
CVMFS_STRICT_MOUNT=no    # from /etc/cvmfs/default.conf
CVMFS_SHARED_CACHE=yes    # from /etc/cvmfs/default.conf
CVMFS_NFS_SOURCE=no    # from /etc/cvmfs/default.conf
CVMFS_NFS_SHARED=
CVMFS_CHECK_PERMISSIONS=yes    # from /etc/cvmfs/default.conf
CVMFS_AUTO_UPDATE=
CVMFS_MOUNT_RW=no    # from /etc/cvmfs/default.conf
CVMFS_SEND_INFO_HEADER=yes    # from /etc/cvmfs/default.d/60-osg.conf
CVMFS_USE_GEOAPI=yes    # from /etc/cvmfs/domain.d/cern.ch.conf
CVMFS_CLAIM_OWNERSHIP=yes    # from /etc/cvmfs/default.conf

/var/log/messages  has http errors which we get from repositories&#58;

Sep 18 13&#58;55&#58;16 skynet013 cvmfs2&#58; (cvmfs.cern.ch) GeoAPI request <a href='http&#58;//cvmfs-stratum-one.cern.ch/cvmfs/cvmfs.cern.ch/api/v1.0/geo/' target='_blank' rel='nofollow'>http&#58;//cvmfs-stratum-one.cern.ch/cvmfs/cvmfs.cern.ch/api/v1.0/geo/</a>@proxy@/cernvmfs.gridpp.rl.ac.uk,cvmfs-stratum-one.cern.ch,cvmfs.fnal
.gov,cvmfs.racf.bnl.gov,cvmfs02.grid.sinica.edu.tw failed with error 9 [host returned HTTP error]
Sep 18 13&#58;55&#58;16 skynet013 cvmfs2&#58; (cvmfs.cern.ch) GeoAPI request <a href='http&#58;//cvmfs.racf.bnl.gov/cvmfs/cvmfs.cern.ch/api/v1.0/geo/' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov/cvmfs/cvmfs.cern.ch/api/v1.0/geo/</a>@proxy@/cernvmfs.gridpp.rl.ac.uk,cvmfs-stratum-one.cern.ch,cvmfs.fnal.gov,cv
mfs.racf.bnl.gov,cvmfs02.grid.sinica.edu.tw failed with error 9 [host returned HTTP error]
Sep 18 13&#58;55&#58;16 skynet013 cvmfs2&#58; (cvmfs.cern.ch) GeoAPI request <a href='http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cvmfs.cern.ch/api/v1.0/geo/' target='_blank' rel='nofollow'>http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cvmfs.cern.ch/api/v1.0/geo/</a>@proxy@/cernvmfs.gridpp.rl.ac.uk,cvmfs-stratum-one.cern.ch,cvmfs.fnal.
gov,cvmfs.racf.bnl.gov,cvmfs02.grid.sinica.edu.tw failed with error 9 [host returned HTTP error]
Sep 18 13&#58;55&#58;16 skynet013 cvmfs2&#58; (cvmfs.cern.ch) failed to retrieve geographic order from stratum 1 servers
Sep 18 13&#58;55&#58;17 skynet013 cvmfs2&#58; (cvmfs.cern.ch) switching host from <a href='http&#58;//cvmfs-stratum-one.cern.ch/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs-stratum-one.cern.ch/cvmfs/cvmfs.cern.ch</a> to <a href='http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cvmfs.cern.ch</a>
Sep 18 13&#58;55&#58;17 skynet013 cvmfs2&#58; (cvmfs.cern.ch) switching host from <a href='http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cernvmfs.gridpp.rl.ac.uk/cvmfs/cvmfs.cern.ch</a> to <a href='http&#58;//cvmfs.racf.bnl.gov/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov/cvmfs/cvmfs.cern.ch</a>
Sep 18 13&#58;55&#58;17 skynet013 cvmfs2&#58; (cvmfs.cern.ch) switching host from <a href='http&#58;//cvmfs.racf.bnl.gov/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov/cvmfs/cvmfs.cern.ch</a> to <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch</a>
Sep 18 13&#58;55&#58;17 skynet013 cvmfs2&#58; (cvmfs.cern.ch) switching host from <a href='http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs.fnal.gov/cvmfs/cvmfs.cern.ch</a> to <a href='http&#58;//cvmfs02.grid.sinica.edu.tw/cvmfs/cvmfs.cern.ch' target='_blank' rel='nofollow'>http&#58;//cvmfs02.grid.sinica.edu.tw/cvmfs/cvmfs.cern.ch</a>
Sep 18 13&#58;55&#58;18 skynet013 cvmfs2&#58; (cvmfs.cern.ch) failed to download repository manifest (9 - host returned HTTP error)
Sep 18 13&#58;55&#58;18 skynet013 cvmfs2&#58; (cvmfs.cern.ch) Failed to initialize root file catalog (16 - file catalog failure)

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787
</div><script type='text/javascript'>
        $('#show_969787484').click(function() {
            $('#detail_969787484').slideDown("normal");
            $('#show_969787484').hide();
            $('#hide_969787484').show();
        });
        $('#hide_969787484').click(function() {
            $('#detail_969787484').slideUp();
            $('#hide_969787484').hide();
            $('#show_969787484').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='26814#1442596731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T17:18:51+00:00">Sep 18, 2015 05:18 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1442596731">&nbsp;</a></div><pre>Hi Serguei,

Check /var/log/messages for errors.

<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallCvmfs#5_1_Troubleshooting_problems' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallCvmfs#5_1_Troubleshooting_problems</a> could also probably help.

Dave</pre></div><div class='update_description'><i onclick="document.location='26814#1442594838'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T16:47:18+00:00">Sep 18, 2015 04:47 PM UTC</time> by <b>rlc@....</b><a class="anchor" name="1442594838">&nbsp;</a></div><pre>I think you stopped the incoming jobs from starting on these nodes,
that will stop the job failures - thanks very much!
The cvmfs website
<a href='http&#58;//cernvm.cern.ch/portal/filesystem' target='_blank' rel='nofollow'>http&#58;//cernvm.cern.ch/portal/filesystem</a>
points users to
cernvm.support@....&#60;mailto&#58;cernvm.support@....&#62;
for problems with installations.
Dave Dykstra (dwd@....) is the person at Fermilab who responds to
all our cvmfs questions.  I don&#39;t know how he responds to questions
from outside the lab.
Ray

Ray Culbertson  mu2e/CDF/FNAL  rlc@....  630-840-6744  WH9E (MS122)</pre></div><div class='update_description'><i onclick="document.location='26814#1442592493'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T16:08:13+00:00">Sep 18, 2015 04:08 PM UTC</time> by <b>sfedorov@....</b><a class="anchor" name="1442592493">&nbsp;</a></div><pre>Any recommendations how to fix cvmfs on them ?

I have reinstalled cvmfs restarted server, but cvmfs is not available.

-Serguei

*From&#58;* Open Science Grid FootPrints [mailto&#58;osg@....]
*Sent&#58;* Friday, September 18, 2015 12&#58;04 PM
*To&#58;* sfedorov@....
*Subject&#58;* Open Science Grid&#58; CMVFS problems on skynet014.crc.nd.edu and
skynet015.crc.nd.edu ISSUE=26814 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='26814#1442592245'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T16:04:05+00:00">Sep 18, 2015 04:04 PM UTC</time><a class="anchor" name="1442592245">&nbsp;</a></div><pre>Those jobs were run as the mu2e group within the Fermilab VO.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='26814#1442590339'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T15:32:19+00:00">Sep 18, 2015 03:32 PM UTC</time> by <b>sfedorov@....</b><a class="anchor" name="1442590339">&nbsp;</a></div><pre>Actually we have problem with cvmfs and can not get an access to the cvmfs
repositories from those machines.

Even entire re-installation of cvmfs does not help.

How to debug ?     What happened with cvmfs ?

The other servers (which  were not rebooted) can work with cvmfs

-Serguei

*From&#58;* Open Science Grid FootPrints [mailto&#58;osg@....]
*Sent&#58;* Friday, September 18, 2015 10&#58;38 AM
*To&#58;* sfedorov@....
*Subject&#58;* Open Science Grid&#58; CMVFS problems on skynet014.crc.nd.edu and
skynet015.crc.nd.edu ISSUE=26814 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='26814#1442587104'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T14:38:24+00:00">Sep 18, 2015 02:38 PM UTC</time> by <b>sfedorov@....</b><a class="anchor" name="1442587104">&nbsp;</a></div><pre>Hi,

I realized that today’s morning those hosts were crashed.

I had to  reboot them.

What VO do you use to run your jobs ?

I keep them usually disabled for external users, since they are used as
Hadoop datanodes.

-Serguei

*From&#58;* Open Science Grid FootPrints [mailto&#58;osg@....]
*Sent&#58;* Friday, September 18, 2015 10&#58;30 AM
*To&#58;* sfedorov@....
*Subject&#58;* Open Science Grid&#58; CMVFS problems on skynet014.crc.nd.edu and
skynet015.crc.nd.edu ISSUE=26814 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='26814#1442586618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T14:30:18+00:00">Sep 18, 2015 02:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1442586618">&nbsp;</a></div><pre>Hi,

Two nodes have developed CVMFS issues, causing mu2e jobs to fail&#58;

skynet014.crc.nd.edu
stat&#58; cannot read file system information for &#96;/cvmfs/mu2e.opensciencegrid.org&#39;&#58; No such file or directory

skynet015.crc.nd.edu
WARNING&#58;  &#39;/cvmfs/fermilab.opensciencegrid.org/products/common/db&#39; is not a directory

The same workflow on other nodes has no trouble, so right now it seems confined to these two.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F26814">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
