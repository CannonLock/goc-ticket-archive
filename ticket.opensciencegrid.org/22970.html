<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[22970] Inquiry - OSG Email (High load Condor jobs killed on gate02)</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=22970" method="post">
<div class="page-header">
    <h3><span class="muted">22970</span> / Inquiry - OSG Email (High load Condor jobs killed on gate02)</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Assess ticket/Determine NAI</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-11-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/22970", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22970?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22970?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Inquiry%20-%20OSG%20Email%20%28High%20load%20Condor%20jobs%20killed%20on%20gate02%29%20ISSUE%3D22970%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='22970#1415304852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-06T20:14:12+00:00">Nov 6, 2014 08:14 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1415304852">&nbsp;</a></div><pre>Thank you all for looking into this.  This &#34;check out new software&#34;
problem is wide-spread.  Sadly.

bob

On 11/6/2014 2&#58;50 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22970#1415303402'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-06T19:50:02+00:00">Nov 6, 2014 07:50 PM UTC</time><a class="anchor" name="1415303402">&nbsp;</a></div><pre>Sorry, yes I did hear back from the user yesterday. Sure enough, it was a code she has not run before, and it auto detects the cores and starts threads accordingly. She has now changed her run to explicitly only use one core. Thanks for letting us know about this problem.

The ticket can now be closed.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22970#1415302962'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-06T19:42:42+00:00">Nov 6, 2014 07:42 PM UTC</time> by <b>echism</b><a class="anchor" name="1415302962">&nbsp;</a></div><pre>Hey Mats,

Any word on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22970#1415129346'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-04T19:29:06+00:00">Nov 4, 2014 07:29 PM UTC</time><a class="anchor" name="1415129346">&nbsp;</a></div><pre>We traced the glideins and we think we know what user it is. I have asked the user to run their code by hand to verify the behavior, but have not heard back yet.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22970#1415128356'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-04T19:12:36+00:00">Nov 4, 2014 07:12 PM UTC</time> by <b>echism</b><a class="anchor" name="1415128356">&nbsp;</a></div><pre>Hi Mats,

Did we ever get in touch with the user?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22970#1414685169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-30T16:06:09+00:00">Oct 30, 2014 04:06 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1414685169">&nbsp;</a></div><pre>This was on c-106-15.aglt2.org, and it happened/was killed on 10/27 at
7&#58;15pm
Other, similar kills were on bl-2-2.aglt2.org at 11&#58;45pm 10/27, and on
bl-2-8.aglt2.org at 1&#58;30am on 10/28.  Other jobs were killed earlier
than this, but none since the 10/28 kill.

bob

On 10/30/2014 11&#58;23 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22970#1414682607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-30T15:23:27+00:00">Oct 30, 2014 03:23 PM UTC</time><a class="anchor" name="1414682607">&nbsp;</a></div><pre>The problem is that what you are seeing is just the glidein, and not the actual user job. If you provide a timestamp when this happened and a node name/IP it happened on, I should be able to figure it out.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22970#1414675991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-30T13:33:11+00:00">Oct 30, 2014 01:33 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1414675991">&nbsp;</a></div><pre>No, sorry.  Wait, let me look at the condor history....

Not terribly helpful&#58;
Cmd =
&#34;/atlas/osghome/osg/.globus/.gass_cache/local/md5/ca/a0/71/72b8b55c14b70ba504c26c5725/md5/0b/8c/66/55452330d01dbc0de0c91f856a/data&#34;

For ATLAS jobs I know where to look to find some sort of real DN, but
not for jobs from other VOs.  It might be something to consider, to put
the real DN into the job ClassAd somewhere?

bob

On 10/29/2014 5&#58;19 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22970#1414617576'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-29T21:19:36+00:00">Oct 29, 2014 09:19 PM UTC</time><a class="anchor" name="1414617576">&nbsp;</a></div><pre>I&#39;m looking but have not found any misbehaving codes so far. Do you maybe have the name of the process killed?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22970#1414616188'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-29T20:56:28+00:00">Oct 29, 2014 08:56 PM UTC</time> by <b>echism</b><a class="anchor" name="1414616188">&nbsp;</a></div><pre>Hey Mats,

Do you know who this might be?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22970#1414528033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-28T20:27:13+00:00">Oct 28, 2014 08:27 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1414528033">&nbsp;</a></div><pre>It was not saved in the record I had before the job was killed.  Can you
tell me where, in some file associated with such a job, that I can find
the user DN?

Alternatively, the only OSG VO jobs killed here were the ones violating
this, so perhaps jobs can be tracked from submit host records?

condor_history on this job shows&#58;
x509UserProxyFQAN = &#34;/DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu,/osg/Role=NULL/Capability=NULL&#34;

Arguments = &#34;-v std -name v3_0 -entry HCC_US_Michigan_gate02 -clientname
osg-flock-grid-iu-edu_OSG_gWMSFrontend.main -schedd
schedd_glideins9@.... -factory OSGGOC -web
<a href='http&#58;//glidein.grid.iu.edu/glidefactory//stage/glidein_v3_0' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/glidefactory//stage/glidein_v3_0</a> -sign
0c3f72eab5e19defb01fcdc0bf099a6d1b1d4bb3 -signentry
3592c29510b7f4cf2c5ed3631c9a2807ec17c0f2 -signtype sha1 -descript
description.eagfjp.cfg -descriptentry description.e355TB.cfg -dir Condor
-param_GLIDEIN_Client osg-flock-grid-iu-edu_OSG_gWMSFrontend.main
-submitcredid 907675 -slotslayout fixed -clientweb
<a href='http&#58;//osg-flock.grid.iu.edu/vofrontend/stage' target='_blank' rel='nofollow'>http&#58;//osg-flock.grid.iu.edu/vofrontend/stage</a> -clientsign
1cbb68929dfa92332cbbd387974fe8eb58c6e4d9 -clientsigntype sha1
-clientdescript description.eahfDo.cfg -clientgroup main -clientwebgroup
<a href='http&#58;//osg-flock.grid.iu.edu/vofrontend/stage/group_main' target='_blank' rel='nofollow'>http&#58;//osg-flock.grid.iu.edu/vofrontend/stage/group_main</a>
-clientsigngroup af79d71959ff377a3a6714c2353cdc1087ba1fda
-clientdescriptgroup description.e7og6i.cfg -param_CONDOR_VERSION
8.dot,2.dot,x -param_GLIDEIN_CLAIM_WORKLIFE 604800
-param_GLIDEIN_Job_Max_Time 21600 -param_GLIDECLIENT_ReqNode
glidein.dot,grid.dot,iu.dot,edu -param_GLIDEIN_Glexec_Use NEVER
-param_MIN_DISK_GBS 1 -param_GLIDECLIENT_Rank 1
-param_GLIDEIN_Monitoring_Enabled False -param_OSG_GLIDEIN_VERSION 48
-param_CONDOR_ARCH default -param_UPDATE_COLLECTOR_WITH_TCP True
-param_USE_MATCH_AUTH True -param_CONDOR_OS rhel6
-param_GLIDEIN_Report_Failed NEVER -param_GLIDEIN_Collector
osg.minus,flock.dot,grid.dot,iu.dot,edu.colon,9700.minus,9999 -cluster
<div id='show_384012149' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_384012149'>1884261 -subcluster 3&#34;

RemoveReason = &#34;via condor_rm (by user condor)&#34;

bob

On 10/28/2014 4&#58;00 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_384012149').click(function() {
            $('#detail_384012149').slideDown("normal");
            $('#show_384012149').hide();
            $('#hide_384012149').show();
        });
        $('#hide_384012149').click(function() {
            $('#detail_384012149').slideUp();
            $('#hide_384012149').hide();
            $('#show_384012149').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='22970#1414526458'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-28T20:00:58+00:00">Oct 28, 2014 08:00 PM UTC</time> by <b>echism</b><a class="anchor" name="1414526458">&nbsp;</a></div><pre>Hi Bob,

Can you give us some identifying information? User DN would be helpful.

Thank you</pre></div><div class='update_description'><i onclick="document.location='22970#1414461461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-28T01:57:41+00:00">Oct 28, 2014 01:57 AM UTC</time> by <b>Daniel Hughes</b><a class="anchor" name="1414461461">&nbsp;</a></div><pre>From&#58; Bob Ball &#60;ball@....&#62;
To&#58; OSG Operations Center &#60;goc@....&#62;
Subject&#58; High load Condor jobs killed on gate02
Date-Sent&#58; Monday, October 27, 2014 9&#58;45 PM -0400

Hi,

In the last several days there have been a number of jobs like this that came to AGLT2 from the OSG VO that were running multi-core in our single-
core slots.  We have killed these jobs.

Could you please look into this and correct the user who is submitting these?

Thanks,
bob

-------- Original Message --------
Subject&#58; High load Condor jobs killed on gate02
Date&#58; Mon, 27 Oct 2014 19&#58;17&#58;06 -0400
From&#58; root@.... (root)
To&#58; ball@....

Details of jobs killed on gate02 for high load condition
&#34;host&#34; &#34;slot&#34; &#34;jobNum&#34; &#34;GID&#34; &#34;exe_dir&#34; &#34;queue&#34; &#34;PandaId&#34; &#34;temp_dir&#34; &#34;owner&#34; &#34;cpu&#34; &#34;wall&#34; &#34;fraction&#34;
&#34;c-106-15&#34; &#34;1&#34; &#34;1229872.0&#34; &#34;gate02.grid.umich.edu#1229872.0#1414438532&#34; &#34;dir_2602803&#34; &#34;Default&#34; null null &#34;osg.aglt2.org&#34; 13025.000000 9041
01.44
Load/wall are 144/9041 and JobId is 1229872.0
Job 1229872.0 marked for removal

Killed 1 condor jobs</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F22970">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
