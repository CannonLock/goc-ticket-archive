<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[4587] sonofsam alarms - ssh and http</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4587" method="post">
<div class="page-header">
    <h3><span class="muted">4587</span> / sonofsam alarms - ssh and http</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">OSG NOC</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-02-08</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=4587", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/4587?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/4587?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20sonofsam%20alarms%20-%20ssh%20and%20http%20ISSUE%3D4587%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4587#1202457977'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-08T08:06:17+00:00">Feb 8, 2008 08:06 AM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1202457977">&nbsp;</a></div><pre>From&#58; 	  ttwang@....
Subject&#58; 	sonofsam crashed 2/8, ~0100 EST
Date&#58; 	February 8, 2008 3&#58;04&#58;35 AM EST
To&#58; 	  iu-goc-l@....
Security&#58; 	￼Signed

All,

Was just working late tonight, when SOS crashed hard at 00&#58;42 EST.
NOC noticed via GNOC Nagios that SOS stopped responding to SSH and HTTP checks.
all sos webpages were unresponsive and was not able to ssh in.

Tom L was contacted and he talked to the IUB machine room.
They did a hard restart on the machine (~0119 EST)
was able to get back in via ssh

gratia collector was running fine after the restart
Feb 8, 2008 6&#58;25&#58;02 AM org.apache.catalina.startup.Catalina start
INFO&#58; Server startup in 22156 ms

Feb 8, 2008 6&#58;42&#58;29 AM net.sf.gratia.services.Logging log
FINE&#58; HibernateWrapper&#58; Database Check. Database Up.

But we saw the rsvsam python processes were growing rapidly and throttling the cpu (went to over 500 tasks in
under 30 mins and 88% cpu until Tom L was able to renice processes by +1 manually as they came up)
rsv-sam-logs showed that upload_to_sam was timing out
VERBOSE Upload Status Query&#58;
[UPDATE rsvextra.Tbl_SamUploadStatus SUS SET  SUS.flagid=1 , SUS.comment=CONCAT_WS(&#39;;
&#39;,&#39;[2008-02-08T07&#58;30&#58;47Z&#58; Command [/usr/bin/python /usr/local/rsv-sam-uploader/wlcg-msg-
publisher//bin/msg-publish  -c /usr/local/rsv-sam-uploader/wlcg-msg-publisher//etc/msg-publisher.conf.wlcg
org.wlcg.metricOutput  /usr/local/rsv-sam-data//new/199137_sam_record.txt] timed out after 120 second in
Run_Command(); bailing now ...]&#39;, SUS.comment) WHERE SUS.dbid=199137;]
VERBOSE Run_Command()
CMD&#58; [/usr/bin/python /usr/local/rsv-sam-uploader/wlcg-msg-publisher//bin/msg-publish  -c
/usr/local/rsv-sam-uploader/wlcg-msg-publisher//etc/msg-publisher.conf.wlcg org.wlcg.metricOutput
<div id='show_1943105961' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1943105961'>/usr/local/rsv-sam-data//new/198787_sam_record.txt]
CMD OUT&#58; [Command [/usr/bin/python /usr/local/rsv-sam-uploader/wlcg-msg-publisher//bi ... truncated
for display ...] and CMD EXIT&#58; [-1]  CMD TIMED OUT after 120 seconds!

and that it was repeatedly trying to upload 281 records...

It was decided for the sake of the machine crashing again, etc to stop the problem at hand (rsvsam processes
that kept growing and were slow to end).
So edited /etc/crontab
commented out the 3 rsvsam upload cron jobs

## AG&#58; To automate RSV to SAM record uploads
## */4 * * * * rsvsam . /usr/local/rsv-sam-uploader/run_sam_upload_infrastructure.sh  upload_sam_records

## AG&#58; To automate RSV to SAM metric description uploads
## 14,28,42,56 * * * * rsvsam . /usr/local/rsv-sam-uploader/run_sam_upload_infrastructure.sh
upload_metric_descriptions

## AG&#58; To automate picking up new resource that may be part of WLCG interop
## 07 * * * * rsvsam . /usr/local/rsv-sam-uploader/run_sam_upload_infrastructure.sh
update_wlcg_interop_resources

restarted crond

2008-02-08 07&#58;20&#58;31 UTC [root@sonofsam local]# /etc/rc.d/init.d/crond restart
Stopping crond&#58;                                            [  OK  ]
Starting crond&#58;                                            [  OK  ]

and Tom L cleaned up remaining rsvsam processes (there were several rsvsam crond processes that kept
spawning more rsvsam python processes)
the machine has been stable now for nearly an hour now with no new rsvsam processes popping up.
the rsv gratia collector should still be running with only the sam upload part disabled until we can figure out in
the am why...
possibly something changed on the sam side??  no longer accepting records so things were piling up on sos?
the logtail page hasn&#39;t show anything new since dec.. and the current page is nearly unreadable.. so..
anyways its 3am.. so we will look at this after some sleep with clearer eyes.

Tom L, please feel free to add or correct anything here (as its nearly 3am and i can&#39;t see straight)...

--tom
</div><script type='text/javascript'>
        $('#show_1943105961').click(function() {
            $('#detail_1943105961').slideDown("normal");
            $('#show_1943105961').hide();
            $('#hide_1943105961').show();
        });
        $('#hide_1943105961').click(function() {
            $('#detail_1943105961').slideUp();
            $('#hide_1943105961').hide();
            $('#show_1943105961').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4587#1202452295'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-08T06:31:35+00:00">Feb 8, 2008 06:31 AM UTC</time> by <b>Anthony Dollens</b><a class="anchor" name="1202452295">&nbsp;</a></div><pre>Forgot to note...got a hold of Tom Lee and it looks like he had someone in CompOps
reboot sonofsam...Also, I&#39;m now able to access <a href='http&#58;//rsv.grid.iu.edu' target='_blank' rel='nofollow'>http&#58;//rsv.grid.iu.edu</a>

Service Ok[02-08-2008 06&#58;25&#58;57] SERVICE ALERT&#58; sonofsam;HTTP;OK;HARD;1;HTTP OK
HTTP/1.1 200 OK - 2070 bytes in 0.014 seconds
Service Ok[02-08-2008 06&#58;25&#58;57] SERVICE ALERT&#58; sonofsam;SSH;OK;HARD;1;SSH OK -
OpenSSH_4.3 (protocol 2.0)
Host Up[02-08-2008 06&#58;25&#58;56] HOST ALERT&#58; sonofsam;UP;HARD;1;PING OK - Packet loss =
0%, RTA = 6.38 ms</pre></div><div class='update_description'><i onclick="document.location='4587#1202450740'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-08T06:05:40+00:00">Feb 8, 2008 06:05 AM UTC</time> by <b>Anthony Dollens</b><a class="anchor" name="1202450740">&nbsp;</a></div><pre>Unable to connect to <a href='http&#58;//rsv.grid.iu.edu/documentation' target='_blank' rel='nofollow'>http&#58;//rsv.grid.iu.edu/documentation</a>

Called Tom Lee and left a message on his cell phone. Giving it a few more minutes and
calling back.</pre></div><div class='update_description'><i onclick="document.location='4587#1202450641'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-08T06:04:01+00:00">Feb 8, 2008 06:04 AM UTC</time> by <b>Anthony Dollens</b><a class="anchor" name="1202450641">&nbsp;</a></div><pre>Service Critical[02-08-2008 05&#58;43&#58;59] SERVICE ALERT&#58;
sonofsam;HTTP;CRITICAL;HARD;2;CRITICAL - Socket timeout after 10 seconds
Service Critical[02-08-2008 05&#58;42&#58;58] SERVICE ALERT&#58;
sonofsam;HTTP;CRITICAL;SOFT;1;CRITICAL - Socket timeout after 10 seconds</pre></div><div class='update_description'><i onclick="document.location='4587#1202450587'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-08T06:03:07+00:00">Feb 8, 2008 06:03 AM UTC</time> by <b>Anthony Dollens</b><a class="anchor" name="1202450587">&nbsp;</a></div><pre>Service Critical[02-08-2008 05&#58;43&#58;58] SERVICE ALERT&#58;
sonofsam;SSH;CRITICAL;HARD;2;CRITICAL - Socket timeout after 10 seconds
Service Critical[02-08-2008 05&#58;42&#58;59] SERVICE ALERT&#58;
sonofsam;SSH;CRITICAL;SOFT;1;CRITICAL - Socket timeout after 10 seconds</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4587">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 4587});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
