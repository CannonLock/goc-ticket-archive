<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[15401] UCR-HEP Engage glidein authentication errors</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=15401" method="post">
<div class="page-header">
    <h3><span class="muted">15401</span> / UCR-HEP Engage glidein authentication errors</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jeffrey Michael Dost</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCR-HEP</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jeffrey Michael Dost</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier3</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for user upgrade</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-07-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Suchandra Thapa <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/15401", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/15401?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/15401?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20UCR-HEP%20Engage%20glidein%20authentication%20errors%20ISSUE%3D15401%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='15401#1375115951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-29T16:39:11+00:00">Jul 29, 2013 04:39 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1375115951">&nbsp;</a></div><pre>Hi Suchandra&#58;
Since the original issue seems to be resolved, I guess the ticket can be closed.

Best regards,

Bill
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1375113976'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-29T16:06:16+00:00">Jul 29, 2013 04:06 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1375113976">&nbsp;</a></div><pre>Hi Bill,

Should we close this ticket or do you want to wait until you have tied up your loose ends?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='15401#1374866469'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-26T19:21:09+00:00">Jul 26, 2013 07:21 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1374866469">&nbsp;</a></div><pre>Hi Elizabeth&#58;
I hate to suggest such a thing, but it looks like it may be working.  There might be a few loos ends to tie up, though.

Best regards,

Bill Strossman
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1374774634'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-25T17:50:34+00:00">Jul 25, 2013 05:50 PM UTC</time> by <b>echism</b><a class="anchor" name="1374774634">&nbsp;</a></div><pre>Hi Bill,

How is GUMS looking?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='15401#1374175457'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-18T19:24:17+00:00">Jul 18, 2013 07:24 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1374175457">&nbsp;</a></div><pre>Hi Elizabeth&#58;
I will let you know Tuesday.  I will know then whether the new GUMS is working or not.

Thanks,

Bill S.
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1374175455'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-18T19:24:15+00:00">Jul 18, 2013 07:24 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1374175455">&nbsp;</a></div><pre>Dear Brian&#58;
The upgrade is scheduled for Next Monday and Tuesday.  I had to wait for some local jobs to finish.

Best regards,

Bill S.
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1374175193'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-18T19:19:53+00:00">Jul 18, 2013 07:19 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1374175193">&nbsp;</a></div><pre>Bill&#58; Have you been able to upgrade your GUMS?</pre></div><div class='update_description'><i onclick="document.location='15401#1373646118'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-12T16:21:58+00:00">Jul 12, 2013 04:21 PM UTC</time> by <b>echism</b><a class="anchor" name="1373646118">&nbsp;</a></div><pre>Hi Bill,

I&#39;m checking in. How is the GUMS upgrade going? Can we help?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='15401#1372365016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T20:30:16+00:00">Jun 27, 2013 08:30 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1372365016">&nbsp;</a></div><pre>Dear Elizabeth&#58;
Our GUMS is still just getting the old entry.   I am thinking that this will be resolved when I do the GUMS upgrade in two weeks.

Best regards,

Bill S.
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1372351684'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-27T16:48:04+00:00">Jun 27, 2013 04:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1372351684">&nbsp;</a></div><pre>Bill,

How did this go?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='15401#1371667511'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-19T18:45:11+00:00">Jun 19, 2013 06:45 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1371667511">&nbsp;</a></div><pre>Hi Steve&#58;
OK, thanks.  I will update the VOs and see if it gets the right one.

Best regards,

Bill S.
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1371565809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-18T14:30:09+00:00">Jun 18, 2013 02:30 PM UTC</time> by <b>scox@....</b><a class="anchor" name="1371565809">&nbsp;</a></div><pre>Hi Bill,

Engage has recently moved its VOMS to the GOC.

Could you use <a href='https&#58;//voms.grid.iu.edu&#58;8443' target='_blank' rel='nofollow'>https&#58;//voms.grid.iu.edu&#58;8443</a> instead?

I&#39;ve disabled the old cert for the glideinwms user&#58;
<a href='https&#58;//voms.grid.iu.edu&#58;8443/voms/Engage/user/load.action?userId=54' target='_blank' rel='nofollow'>https&#58;//voms.grid.iu.edu&#58;8443/voms/Engage/user/load.action?userId=54</a>

Hopefully this will do what we need.

Thanks,

Steve</pre></div><div class='update_description'><i onclick="document.location='15401#1371231578'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-14T17:39:38+00:00">Jun 14, 2013 05:39 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1371231578">&nbsp;</a></div><pre>Hi,

I checked with my GUMS server and it appears to be getting the right DNs.  The problem may be with the version of GUMS/tomcat that you&#39;re using since it looks like you&#39;re using the pacman version which is fairly old and just went out of support at the end of May.  I can check around to see if anyone has suggestions for what may be wrong but your best option may be to update to the rpm based GUMS server.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='15401#1371157750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-13T21:09:10+00:00">Jun 13, 2013 09:09 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1371157750">&nbsp;</a></div><pre>I thought of that.  vdt-version returns

Software                                                 Status
--------                                                 ------
Apache HTTPD 2.2.20                                      UPDATE AVAILABLE [2.2.22]
vdt-ca-manage 1.3                                        OK
vdt-update-certs 2.6                                     OK
CA Certificates 1.33 (includes IGTF 1.52 CAs)            -
Fetch CRL 2.8.5                                          OK
GPT 3.2-4.0.8p1                                          OK
Grid User Management System (GUMS) Client 1.3.17         OK
Grid User Management System (GUMS) Service 1.3.17        OK
Java 6 SDK 1.6.0_26                                      UPDATE AVAILABLE [1.6.0_43]
Logrotate 3.7                                            OK
MySQL 5.0.92                                             UPDATE AVAILABLE [5.0.95]
Apache Tomcat 5.5.32                                     UPDATE AVAILABLE [5.5.35]
VOMS Client 1.8.8-2p1                                    OK
Wget 1.12                                                OK

Our CE (running SL6 with RPM OSG packages) has

osg-ca-certs-1.33-1.osg.el6.noarch

Also, both machines seem to have the same CRLs.  It is downloading DigiCert DNs for 3 users&#58;

/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jonah Bernhard 1060 /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Scott Teige 652 /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Shanshan Cao 1468

Does this indicate that the certs and crls are ok?

Thanks,

Bill Strossman
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1371154825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-13T20:20:25+00:00">Jun 13, 2013 08:20 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1371154825">&nbsp;</a></div><pre>Hmm, do you have the latest ca certs installed on your gums server?  The gums server may not be downloading the digicert DN if it can&#39;t authenticate it.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='15401#1371154509'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-13T20:15:09+00:00">Jun 13, 2013 08:15 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1371154509">&nbsp;</a></div><pre>It contains lines like the following&#58;

13 Jun 2013 11&#58;48&#58;07,999 [WARN ]&#58; User group update for dosar-admin failed&#58; Couldn&#39;t retrieve
users&#58; ; nested exception is&#58;
java.net.ConnectException&#58; Connection timed out
13 Jun 2013 11&#58;48&#58;08,677 [INFO ]&#58; User group update for dzeroana (29 users).
13 Jun 2013 11&#58;48&#58;09,467 [INFO ]&#58; User group update for dzerouser (63 users).
13 Jun 2013 11&#58;48&#58;10,418 [INFO ]&#58; User group update for engage (106 users).
13 Jun 2013 11&#58;48&#58;11,080 [INFO ]&#58; User group update for fermilab (11 users).
13 Jun 2013 11&#58;48&#58;11,709 [INFO ]&#58; User group update for fermilab-production (2 users).
13 Jun 2013 11&#58;48&#58;12,289 [INFO ]&#58; User group update for fermilab-test (16 users).
13 Jun 2013 11&#58;48&#58;14,445 [INFO ]&#58; User group update for geant4 (21 users).
13 Jun 2013 11&#58;48&#58;15,939 [INFO ]&#58; User group update for geant4-lcgadmin (7 users).
13 Jun 2013 11&#58;48&#58;17,310 [INFO ]&#58; User group update for glow (43 users).

Also, since the 2nd DN is not being retrieved, we have many lines like

13 Jun 2013 11&#58;54&#58;01,925 [INFO ]&#58; GridID[/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Servi
ces/CN=top.ucr.edu] - Mapped on host &#39;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services
/CN=top.ucr.edu&#39; the user &#39;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein
wms-frontend/engage-submit3.renci.org&#39; / &#39;/Engage/Role=NULL/Capability=NULL&#39; to &#39;null&#39;

but I guess that is to be expected.  We are currently running GUMS version 1.3.17.  Planning to upgrade to the RPM version in the next week or so.  COuld that be the issue?

Thanks,

Bill Strossman
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1371153025'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-13T19:50:25+00:00">Jun 13, 2013 07:50 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1371153025">&nbsp;</a></div><pre>It looks like you have the right VO address in GUMS.  GUMS should retrieve both DNs.  If you look at the gums logs in /var/log/tomcat5/gums-service-admin.log, are there any errors?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='15401#1371151631'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-13T19:27:11+00:00">Jun 13, 2013 07:27 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1371151631">&nbsp;</a></div><pre>When I browse the Engage VO at
<a href='https&#58;//osg-engage.renci.org&#58;8443/voms/Engage/user/search.action' target='_blank' rel='nofollow'>https&#58;//osg-engage.renci.org&#58;8443/voms/Engage/user/search.action</a>
I see that the item
GlideinWMS GlideinWMS
has 2 entries.  When I manually update the VO members, we are only getting the first one&#58;

/DC=org/DC=doegrids/OU=Services/CN=glideinwms-frontend/engage-submit3.renci.org

Is there something I need to do at my end to get the second entry?

Thanks,

Bill Strossman
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1371150201'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-13T19:03:21+00:00">Jun 13, 2013 07:03 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1371150201">&nbsp;</a></div><pre>It does give errors for a few VOs but not for engage.  Currently I have the following for the Engage VOMS server&#58;
<a href='https&#58;//osg-engage.renci.org&#58;8443/voms/Engage/services/VOMSAdmin' target='_blank' rel='nofollow'>https&#58;//osg-engage.renci.org&#58;8443/voms/Engage/services/VOMSAdmin</a>

Is that correct?

Thanks,

Bill Strossman
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1370960692'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-11T14:24:52+00:00">Jun 11, 2013 02:24 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1370960692">&nbsp;</a></div><pre>Yes, the GUMS server should get the new DNs.  If you manually update the VO member list, does GUMS give you any errors?

Suchandra Thapa
OSG Software team</pre></div><div class='update_description'><i onclick="document.location='15401#1370893810'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-10T19:50:10+00:00">Jun 10, 2013 07:50 PM UTC</time> by <b>echism</b><a class="anchor" name="1370893810">&nbsp;</a></div><pre>Hello,

I see it in the Engage VOMS when I browse&#58;

CN=glideinwms-frontend/engage-submit3.renci.org
CN=DigiCert Grid CA-1
Added on&#58; 04/02/2013 10&#58;27&#58;07 AM EDT

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='15401#1370885148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-10T17:25:48+00:00">Jun 10, 2013 05:25 PM UTC</time><a class="anchor" name="1370885148">&nbsp;</a></div><pre>Hello Steve,

I&#39;m going to add software support to see if the software experts can assist you with this.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='15401#1370551876'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-06T20:51:16+00:00">Jun 6, 2013 08:51 PM UTC</time><a class="anchor" name="1370551876">&nbsp;</a></div><pre>Thanks for including me folks.

I have not updated the DN in voms. Can someone point me to docs on how I change the DN?

Thanks,

Steve

by /DC=org/DC=doegrids/OU=People/CN=Steven Cox 318595</pre></div><div class='update_description'><i onclick="document.location='15401#1370300901'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-03T23:08:21+00:00">Jun 3, 2013 11:08 PM UTC</time><a class="anchor" name="1370300901">&nbsp;</a></div><pre>Thanks for the quick reply, Bill.

I&#39;m adding Steven the Engage Frontend admin to see if he can check to make sure the Engage VOMS is sending the proper DN.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='15401#1370300589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-03T23:03:09+00:00">Jun 3, 2013 11:03 PM UTC</time> by <b>Bill Strossman</b><a class="anchor" name="1370300589">&nbsp;</a></div><pre>Hello&#58;
Has the identity

/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glideinwms-frontend/engage-submit3.renci.org

been added/updated in VOMS?  When I go into our GUMS server to update VO members it pulls the attached list from the Engage VOMS server.  The old doegrids identity is present (4th from the bottom), but the new one is not.  Is there something we need to do at our end?  It seems that it should get the new identity from

<a href='https&#58;//osg-engage.renci.org&#58;8443/voms/Engage/services/VOMSAdmin' target='_blank' rel='nofollow'>https&#58;//osg-engage.renci.org&#58;8443/voms/Engage/services/VOMSAdmin</a>

If not, let me know.

Thanks,

Bill Strossman
UCR-HEP</pre></div><div class='update_description'><i onclick="document.location='15401#1370295959'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-06-03T21:45:59+00:00">Jun 3, 2013 09:45 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1370295959">&nbsp;</a></div><pre>Hello,

It seems that UCR is no longer accepting Engage VO glideins.  I see all pilots go held with&#58;
Globus error 7&#58; authentication with the remote server failed

The Engage VO has recently changed their pilot certs from DOEGrids to Digicert. The current pilot proxy is&#58;
subject   &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glideinwms-frontend/engage-submit3.renci.org/CN=proxy
issuer    &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glideinwms-frontend/engage-submit3.renci.org
identity  &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glideinwms-frontend/engage-submit3.renci.org
type      &#58; proxy
strength  &#58; 1024 bits
path      &#58; /usr/local/share/gfactory/clientproxies/user_ferenci/glidein_v2_0/entry_CMS_T3_US_UCR_top/x509_CMS_T3_US_UCR_top@v2_0@OSGGOC@....s,submit3.minus,v1_0.dot,targeted_sites_0_411905.proxy
timeleft  &#58; 94&#58;59&#58;54
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO Engage extension information ===
VO        &#58; Engage
subject   &#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glideinwms-frontend/engage-submit3.renci.org
issuer    &#58; /DC=org/DC=doegrids/OU=Services/CN=osg-engage.renci.org
attribute &#58; /Engage/Role=NULL/Capability=NULL
timeleft  &#58; 94&#58;59&#58;53
uri       &#58; osg-engage.renci.org&#58;15001

Can you please look into why they are no longer authenticating at UCR?

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F15401">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 15401});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
