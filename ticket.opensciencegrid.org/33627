<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[33627] Unable to start GUMS in test environment</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=33627" method="post">
<div class="page-header">
    <h3><span class="muted">33627</span> / Unable to start GUMS in test environment</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">John Dockendorf</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">OSC_OSG_CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Nova</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">John Dockendorf</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">SUPERB-SC</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for user action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-06-12</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">SUPERB-SC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/33627", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33627?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33627?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Unable%20to%20start%20GUMS%20in%20test%20environment%20ISSUE%3D33627%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='33627#1497292669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-12T18:37:49+00:00">Jun 12, 2017 06:37 PM UTC</time> by <b>echism</b><a class="anchor" name="1497292669">&nbsp;</a></div><pre>I&#39;ll close this ticket then, but I&#39;ll keep an eye out for anything similar and reference this ticket if appropriate.</pre></div><div class='update_description'><i onclick="document.location='33627#1497031821'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-09T18:10:21+00:00">Jun 9, 2017 06:10 PM UTC</time><a class="anchor" name="1497031821">&nbsp;</a></div><pre>Carl,

Actually the flow of events is a bit different.

* CN=localhost.localdomain - FAILED - vagrant
* CN=gums.ten.osc.edu - FAILED - pseudo production VM that had certs generated using osg-gridadmin-cert-request -f
* CN=gums-test.ten.osc.edu - SUCCESS - test VM that had certs generated using osg-gridadmin-cert-request -H
* CN=gums.ten.osc.edu - SUCCESS - pseudo production VM had certs generated using osg-gridadmin-cert-request -H

I just generated yet another cert for my pseudo production gums server at gums.ten.osc.edu using osg-gridadmin-cert-request -f and this time the certs were accepted.  Since I can&#39;t reproduce issue, probably not much else that can be done.

Thanks,
- Trey

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1496957253'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-08T21:27:33+00:00">Jun 8, 2017 09:27 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1496957253">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; I guess when I build my new CE I will find out if</font>
<font color='#7F7E6F'>&#62; &#34;osg-gridadmin-cert-request -f&#34; was the cause of problems as my CE</font>
<font color='#7F7E6F'>&#62; certs were generated using that same command.</font>

Yeah let us know whether that works if you do it again.

I still suspect that the real problem had something fact that the first time around you were using CN=localhost.localdomain for your host/service cert, where now (as seen in your attached osg-profile-gums-test.txt) you have CN=http/gums-test.ten.osc.edu

Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1496952088'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-08T20:01:28+00:00">Jun 8, 2017 08:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1496952088">&nbsp;</a></div><pre>Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='33627#1496764860'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-06T16:01:00+00:00">Jun 6, 2017 04:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1496764860">&nbsp;</a></div><pre>Carl,

What happens from here?

Thanks</pre></div><div class='update_description'><i onclick="document.location='33627#1496341633'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-01T18:27:13+00:00">Jun 1, 2017 06:27 PM UTC</time><a class="anchor" name="1496341633">&nbsp;</a></div><pre>I just deployed a RHEL 7.3 box named gums-test.ten.osc.edu (osg-profile attached) and did NOT get the errors.  The deployment process was 100% identical.  The only difference is I used a different http key/cert and different MySQL password for GUMS.  The method I used for the cert creation was osg-gridadmin-cert-request with a file as input for production and osg-gridadmin-cert-request -H for test.

I rebuilt gums.ten.osc.edu as RHEL 7.3 and created new http cert/key using osg-gridadmin-cert-request -H [1] and now I don&#39;t get the error.  Something with the cert/key generated using &#34;osg-gridadmin-cert-request -f&#34; caused a problem or the cert/key generated was somehow not liked by the code used by GUMS.

This is technically resolved but the real cause of the problems has not been found.  I guess when I build my new CE I will find out if &#34;osg-gridadmin-cert-request -f&#34; was the cause of problems as my CE certs were generated using that same command.

[1]&#58;
$ osg-gridadmin-cert-request -v nova -H http/gums.ten.osc.edu
Using timeout of 5 minutes
Please enter the pass phrase for &#39;/users/sysp/tdockendorf/.globus/userkey.pem&#39;&#58;
Waiting for response from Quota Check API. Please wait.
Beginning request process for http/gums.ten.osc.edu
Generating certificate...
Writing key to ./http-gums.ten.osc.edu-key.pem
Id is&#58; 9963
Connecting to server to approve certificate...
Issuing certificate...

Certificate written to ./http-gums.ten.osc.edu.pem

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1496245976'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-31T15:52:56+00:00">May 31, 2017 03:52 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1496245976">&nbsp;</a></div><pre>Just to check myself, I just set up gums on a fresh EL7 VM, with gums-1.5.2-9.osg33.el7.noarch (same version you have installed), and it starts up for me.  I was wondering if maybe the fact that you used CN=localhost.localdomain instead of a hostname was the issue, but I see in your RHEL7 osg-profile that you have CN=http/gums.ten.osc.edu for your httpcert, which looks right to me.

Also in your RHEL7 osg-profile, I see

***** Contents of /etc/grid-security
total 72
drwxr-xr-x    5 root root  4096 May 30 13&#58;11 ./
drwxr-xr-x. 106 root root 12288 May 30 13&#58;10 ../
drwxr-xr-x    2 root root 49152 Mar 22 10&#58;02 certificates/
drwxr-xr-x    2 root root  4096 May 30 13&#58;11 http/
drwxr-xr-x   42 root root  4096 May 30 13&#58;09 vomsdir/

***** Certificate&#58; /etc/grid-security/hostcert.pem
Can&#39;t read /etc/grid-security/hostcert.pem

... So, this is showing /etc/grid-security/http/ is owned by root (which is different from the ls -la output earlier) ... Make sure /etc/grid-security/http/ and its contents are owned by the tomcat user.  Also apparently you don&#39;t have a hostcert installed ... I am not aware of us needing a hostcert for gums, but I&#39;ve never set up a gums instance without one.  But first check the permissions again for /etc/grid-security/http/

Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1496238978'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-31T13:56:18+00:00">May 31, 2017 01:56 PM UTC</time><a class="anchor" name="1496238978">&nbsp;</a></div><pre>Let me know how I can help debug this.  My production system will likely stay RHEL6 since that&#39;s all that works but I have the means to build test VMs very quickly with Puppet to see why RHEL7 fails when RHEL6 works.  FWIW I tried to gradually do a yum downgrade of gums on RHEL7 and none of the older versions worked either.  I was not able to downgrade the trustmanager packages though, all the versions of gums required the latest release of the trustmanager packages.

Thanks,
- Trey

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1496238802'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-31T13:53:22+00:00">May 31, 2017 01:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1496238802">&nbsp;</a></div><pre>Carl,

Please revisit this.</pre></div><div class='update_description'><i onclick="document.location='33627#1496175519'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-30T20:18:39+00:00">May 30, 2017 08:18 PM UTC</time><a class="anchor" name="1496175519">&nbsp;</a></div><pre>I just redeployed my gums server to RedHat 6 and now gums is starting.  The process was handled by Puppet and identical to the process used in RHEL 7.  Something in RHEL7 does not work with GUMS.  I&#39;d like to use RHEL7 as we&#39;re trying to phase out RHEL6.

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1496164856'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-30T17:20:56+00:00">May 30, 2017 05:20 PM UTC</time><a class="anchor" name="1496164856">&nbsp;</a></div><pre>I just deployed a real GUMS server using OSG generated host certificates and I am getting the same error.  I&#39;ve attached a new osg-profile.txt that contains this system&#39;s information.  This host is intended to be production and I can&#39;t proceed with our upgrade from OSG 3.1 to OSG 3.3 until I can get the GUMS server working.

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1496152546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-30T13:55:46+00:00">May 30, 2017 01:55 PM UTC</time> by <b>echism</b><a class="anchor" name="1496152546">&nbsp;</a></div><pre>Hey Carl,

Is there anything new on this?

Thanks</pre></div><div class='update_description'><i onclick="document.location='33627#1495823370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-26T18:29:30+00:00">May 26, 2017 06:29 PM UTC</time> by <b>echism</b><a class="anchor" name="1495823370">&nbsp;</a></div><pre>Hey Carl,

Is there anything new on this?

Thanks</pre></div><div class='update_description'><i onclick="document.location='33627#1495642452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T16:14:12+00:00">May 24, 2017 04:14 PM UTC</time> by <b>echism</b><a class="anchor" name="1495642452">&nbsp;</a></div><pre>Hey Carl,

Did you find anything illuminating in there?

Thanks</pre></div><div class='update_description'><i onclick="document.location='33627#1495463739'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-22T14:35:39+00:00">May 22, 2017 02:35 PM UTC</time><a class="anchor" name="1495463739">&nbsp;</a></div><pre>I&#39;ve attached osg-profile.txt

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1495461810'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-22T14:03:30+00:00">May 22, 2017 02:03 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1495461810">&nbsp;</a></div><pre>Thanks for giving it a try... Yeah the main error is still

<font color='#7F7E6F'>&#62; Caused by&#58; java.security.cert.CertificateException&#58;</font>
<font color='#7F7E6F'>&#62; java.io.IOException&#58; Error while reading private key. Item is not a</font>
<font color='#7F7E6F'>&#62; private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo</font>

it&#39;s as if some library versions aren&#39;t playing nice together.  I&#39;ll ask around on the list and see what else I can find about this error.

Can you also run osg-system-profiler and attach the osg-profile.txt output?

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1495129074'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-18T17:37:54+00:00">May 18, 2017 05:37 PM UTC</time> by <b>echism</b><a class="anchor" name="1495129074">&nbsp;</a></div><pre>Carl,

What&#39;s next?

Thanks</pre></div><div class='update_description'><i onclick="document.location='33627#1494963111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-16T19:31:51+00:00">May 16, 2017 07:31 PM UTC</time><a class="anchor" name="1494963111">&nbsp;</a></div><pre>Using openjdk 1.7.0 didn&#39;t help.

[root@centos-7-x64 ~]# java -version
java version &#34;1.7.0_131&#34;
OpenJDK Runtime Environment (rhel-2.6.9.0.el7_3-x86_64 u131-b00)
OpenJDK 64-Bit Server VM (build 24.131-b00, mixed mode)

Logs from /var/log/tomcat/catalina.log

May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;maxSpareThreads&#39; to &#39;75&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;debug&#39; to &#39;1&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;trustStoreDir&#39; to &#39;/etc/grid-security/certificates&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;sslCertFile&#39; to &#39;/etc/grid-security/http/httpcert.pem&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;sslKey&#39; to &#39;/etc/grid-security/http/httpkey.pem&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;crlUpdateInterval&#39; to &#39;2h&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;log4jConfFile&#39; to &#39;/usr/share/tomcat/conf/log4j-trustmanager.properties&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;crlEnabled&#39; to &#39;true&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;47 PM org.apache.catalina.startup.SetAllPropertiesRule begin
WARNING&#58; [SetAllPropertiesRule]{Server/Service/Connector} Setting property &#39;crlRequired&#39; to &#39;true&#39; did not find a matching property.
May 16, 2017 3&#58;30&#58;48 PM org.apache.coyote.AbstractProtocol init
INFO&#58; Initializing ProtocolHandler [&#34;http-bio-8443&#34;]
May 16, 2017 3&#58;30&#58;48 PM org.apache.coyote.AbstractProtocol init
SEVERE&#58; Failed to initialize end point associated with ProtocolHandler [&#34;http-bio-8443&#34;]
java.io.IOException&#58; java.security.cert.CertificateException&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.initProxy(TMSSLServerSocketFactory.java&#58;389)
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.init(TMSSLServerSocketFactory.java&#58;230)
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.createSocket(TMSSLServerSocketFactory.java&#58;141)
<div id='show_431911927' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_431911927'>at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java&#58;400)
at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java&#58;650)
at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java&#58;434)
at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java&#58;119)
at org.apache.catalina.connector.Connector.initInternal(Connector.java&#58;978)
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;102)
at org.apache.catalina.core.StandardService.initInternal(StandardService.java&#58;560)
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;102)
at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java&#58;838)
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;102)
at org.apache.catalina.startup.Catalina.load(Catalina.java&#58;642)
at org.apache.catalina.startup.Catalina.load(Catalina.java&#58;667)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;43)
at java.lang.reflect.Method.invoke(Method.java&#58;606)
at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java&#58;253)
at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java&#58;427)
Caused by&#58; java.security.cert.CertificateException&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo
at org.glite.security.trustmanager.UpdatingKeyManager.loadKeystore(UpdatingKeyManager.java&#58;321)
at org.glite.security.trustmanager.UpdatingKeyManager.&#60;init&#62;(UpdatingKeyManager.java&#58;177)
at org.glite.security.trustmanager.ContextWrapper.initKeyManagers(ContextWrapper.java&#58;490)
at org.glite.security.trustmanager.ContextWrapper.init(ContextWrapper.java&#58;412)
at org.glite.security.trustmanager.ContextWrapper.&#60;init&#62;(ContextWrapper.java&#58;276)
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.initProxy(TMSSLServerSocketFactory.java&#58;382)
... 20 more
Caused by&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo
at org.glite.security.util.PrivateKeyReader.read(PrivateKeyReader.java&#58;149)
at org.glite.security.util.KeyStoreGenerator.generate(KeyStoreGenerator.java&#58;71)
at org.glite.security.trustmanager.UpdatingKeyManager.loadKeystore(UpdatingKeyManager.java&#58;275)
... 25 more

May 16, 2017 3&#58;30&#58;48 PM org.apache.catalina.core.StandardService initInternal
SEVERE&#58; Failed to initialize connector [Connector[HTTP/1.1-8443]]
org.apache.catalina.LifecycleException&#58; Failed to initialize component [Connector[HTTP/1.1-8443]]
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;106)
at org.apache.catalina.core.StandardService.initInternal(StandardService.java&#58;560)
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;102)
at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java&#58;838)
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;102)
at org.apache.catalina.startup.Catalina.load(Catalina.java&#58;642)
at org.apache.catalina.startup.Catalina.load(Catalina.java&#58;667)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;43)
at java.lang.reflect.Method.invoke(Method.java&#58;606)
at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java&#58;253)
at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java&#58;427)
Caused by&#58; org.apache.catalina.LifecycleException&#58; Protocol handler initialization failed
at org.apache.catalina.connector.Connector.initInternal(Connector.java&#58;980)
at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java&#58;102)
... 12 more
Caused by&#58; java.io.IOException&#58; java.security.cert.CertificateException&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.initProxy(TMSSLServerSocketFactory.java&#58;389)
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.init(TMSSLServerSocketFactory.java&#58;230)
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.createSocket(TMSSLServerSocketFactory.java&#58;141)
at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java&#58;400)
at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java&#58;650)
at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java&#58;434)
at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java&#58;119)
at org.apache.catalina.connector.Connector.initInternal(Connector.java&#58;978)
... 13 more
Caused by&#58; java.security.cert.CertificateException&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo
at org.glite.security.trustmanager.UpdatingKeyManager.loadKeystore(UpdatingKeyManager.java&#58;321)
at org.glite.security.trustmanager.UpdatingKeyManager.&#60;init&#62;(UpdatingKeyManager.java&#58;177)
at org.glite.security.trustmanager.ContextWrapper.initKeyManagers(ContextWrapper.java&#58;490)
at org.glite.security.trustmanager.ContextWrapper.init(ContextWrapper.java&#58;412)
at org.glite.security.trustmanager.ContextWrapper.&#60;init&#62;(ContextWrapper.java&#58;276)
at org.glite.security.trustmanager.tomcat.TMSSLServerSocketFactory.initProxy(TMSSLServerSocketFactory.java&#58;382)
... 20 more
Caused by&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo
at org.glite.security.util.PrivateKeyReader.read(PrivateKeyReader.java&#58;149)
at org.glite.security.util.KeyStoreGenerator.generate(KeyStoreGenerator.java&#58;71)
at org.glite.security.trustmanager.UpdatingKeyManager.loadKeystore(UpdatingKeyManager.java&#58;275)
... 25 more

May 16, 2017 3&#58;30&#58;48 PM org.apache.catalina.startup.Catalina load
INFO&#58; Initialization processed in 1022 ms
May 16, 2017 3&#58;30&#58;48 PM org.apache.catalina.core.StandardService startInternal
INFO&#58; Starting service Catalina
May 16, 2017 3&#58;30&#58;48 PM org.apache.catalina.core.StandardEngine startInternal
INFO&#58; Starting Servlet Engine&#58; Apache Tomcat/7.0.69
May 16, 2017 3&#58;30&#58;48 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO&#58; Deploying web application directory /var/lib/tomcat/webapps/ROOT
May 16, 2017 3&#58;30&#58;49 PM org.apache.catalina.startup.TldConfig execute
INFO&#58; At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696
</div><script type='text/javascript'>
        $('#show_431911927').click(function() {
            $('#detail_431911927').slideDown("normal");
            $('#show_431911927').hide();
            $('#hide_431911927').show();
        });
        $('#hide_431911927').click(function() {
            $('#detail_431911927').slideUp();
            $('#hide_431911927').hide();
            $('#show_431911927').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33627#1494961590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-16T19:06:30+00:00">May 16, 2017 07:06 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1494961590">&nbsp;</a></div><pre>It&#39;s possible this has something to do with the mixed java versions; in all of our testing we use Java7 / OpenJDK 1.7.0.

If there is nothing specific that you need to keep Java8 / OpenJDK 1.8.0 installed for, you could try removing java-1.8.0-openjdk*, and then running

alternatives --config java
alternatives --config javac

and selecting the openjdk 1.7.0 versions.

See if that fixes it; if not it&#39;ll at least be one less variable.

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1494952192'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-16T16:29:52+00:00">May 16, 2017 04:29 PM UTC</time> by <b>echism</b><a class="anchor" name="1494952192">&nbsp;</a></div><pre>Hey Carl,

Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='33627#1494602989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-12T15:29:49+00:00">May 12, 2017 03:29 PM UTC</time> by <b>echism</b><a class="anchor" name="1494602989">&nbsp;</a></div><pre>Hey Carl,

Is there anything new?

Thank you</pre></div><div class='update_description'><i onclick="document.location='33627#1493988347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-05T12:45:47+00:00">May 5, 2017 12:45 PM UTC</time><a class="anchor" name="1493988347">&nbsp;</a></div><pre>I&#39;m running GUMS inside vagrant as a test that my Puppet module for OSG stack (including GUMS) is working.  I believe this worked in the past but it has been at little over a year since I last worked with this puppet module.

[root@centos-7-x64 ~]# rpm -qa | egrep &#39;java|jdk&#39; | sort
canl-java-2.1.2-1.el7.noarch
copy-jdk-configs-1.2-1.el7.noarch
java-1.7.0-openjdk-1.7.0.131-2.6.9.0.el7_3.x86_64
java-1.7.0-openjdk-devel-1.7.0.131-2.6.9.0.el7_3.x86_64
java-1.7.0-openjdk-headless-1.7.0.131-2.6.9.0.el7_3.x86_64
java-1.8.0-openjdk-headless-1.8.0.131-2.b11.el7_3.x86_64
javamail-1.5.0-6.osg33.el7.noarch
javapackages-tools-3.4.1-11.el7.noarch
javassist-3.16.1-10.el7.noarch
mysql-connector-java-5.1.25-3.el7.noarch
osg-java7-compat-1.0-1.osg33.el7.noarch
osg-java7-compat-openjdk-1.0-1.osg33.el7.noarch
osg-java7-devel-compat-1.0-1.osg33.el7.noarch
osg-java7-devel-compat-openjdk-1.0-1.osg33.el7.noarch
python-javapackages-3.4.1-11.el7.noarch
tzdata-java-2017b-1.el7.noarch
voms-api-java-3.1.0-1.el7.noarch
voms-clients-java-3.0.7-1.el7.noarch

[root@centos-7-x64 ~]# java -version
openjdk version &#34;1.8.0_131&#34;
OpenJDK Runtime Environment (build 1.8.0_131-b11)
OpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)

I removed 2&#62;/dev/null from cert generation script&#58;

[root@centos-7-x64 ~]# /tmp/make-dummy-cert /etc/grid-security/http/http
Generating a 2048 bit RSA private key
........................................................................+++
.....................................................................+++
writing new private key to &#39;/tmp/openssl.bVIEro&#39;
-----
<div id='show_607067776' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_607067776'>
by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696
</div><script type='text/javascript'>
        $('#show_607067776').click(function() {
            $('#detail_607067776').slideDown("normal");
            $('#show_607067776').hide();
            $('#hide_607067776').show();
        });
        $('#hide_607067776').click(function() {
            $('#detail_607067776').slideUp();
            $('#hide_607067776').hide();
            $('#show_607067776').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33627#1493933155'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T21:25:55+00:00">May 4, 2017 09:25 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1493933155">&nbsp;</a></div><pre>Also I&#39;m rusty on generating certs with openssl ... did it work in the past with the same command line?

<font color='#7F7E6F'>&#62; answers | /usr/bin/openssl req -newkey rsa&#58;2048 -keyout $PEM1 -subj &#34;/CN=localhost.localdomain&#34; -nodes -x509 -days 365 -out $PEM2 2&#62; /dev/null</font>

I&#39;d be curious whether there is anything interesting in the stderr output that&#39;s getting redirected to /dev/null

Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1493932746'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T21:19:06+00:00">May 4, 2017 09:19 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1493932746">&nbsp;</a></div><pre>So, just to be sure -- you are running GUMS in the vagrant instance?

Also, did this work in the past with localhost.localdomain ?  Not sure if you might need to specify an actual hostname.

Or it might have something to do with your java version...  Could you give the output of

rpm -qa | egrep &#39;java|jdk&#39;

?

Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1493931618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T21:00:18+00:00">May 4, 2017 09:00 PM UTC</time><a class="anchor" name="1493931618">&nbsp;</a></div><pre>The confusion is my fault.  The ls output was from docker which has different problems.  The other output from openssl was from vagrant.  This is from the same vagrant instance after running the chown / chmod commands&#58;

[root@centos-7-x64 ~]# ls -la /etc/grid-security/http/
total 12
drwxr-xr-x 2 tomcat tomcat   43 May  4 20&#58;10 .
drwxr-xr-x 7 root   root   4096 May  4 20&#58;12 ..
-r--r--r-- 1 tomcat tomcat 1127 May  4 20&#58;10 httpcert.pem
-r-------- 1 tomcat tomcat 1704 May  4 20&#58;10 httpkey.pem

The logs I attached originally are from a vagrant based install.

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1493931382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T20:56:22+00:00">May 4, 2017 08:56 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1493931382">&nbsp;</a></div><pre>I&#39;m a little confused why the openssl check commands are working; if they are in fact empty you should get no output if you just try to cat the files

cat /etc/grid-security/http/httpcert.pem
cat /etc/grid-security/http/httpkey.pem</pre></div><div class='update_description'><i onclick="document.location='33627#1493931224'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T20:53:44+00:00">May 4, 2017 08:53 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1493931224">&nbsp;</a></div><pre>Look at the size column -- the .pem files are empty (size=0).  Looks like you did not actually generate the cert files...

Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1493929462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T20:24:22+00:00">May 4, 2017 08:24 PM UTC</time><a class="anchor" name="1493929462">&nbsp;</a></div><pre>[root@centos-7-x64 /]# ls -la /etc/grid-security/http/
total 8
drwxr-xr-x 2 root   root   4096 May  4 16&#58;53 .
drwxr-xr-x 7 root   root   4096 May  4 18&#58;00 ..
-r--r--r-- 1 tomcat tomcat    0 May  4 16&#58;53 httpcert.pem
-r-------- 1 tomcat tomcat    0 May  4 16&#58;53 httpkey.pem

Just to be sure I ran those commands which only changed ownership of the http directory, but the error persists.  Is it possible this could be caused by using a self signed cert?  The key seems fine&#58;

[root@centos-7-x64 ~]# openssl rsa -in /etc/grid-security/http/httpkey.pem -check
RSA key ok
writing RSA key
-----BEGIN RSA PRIVATE KEY-----
&#60;OMIT&#62;

The cert seems fine too&#58;

[root@centos-7-x64 ~]# openssl x509 -in /etc/grid-security/http/httpcert.pem -text -noout
Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58; 9689117452468394694 (0x8676a8fce56a9ac6)
Signature Algorithm&#58; sha256WithRSAEncryption
Issuer&#58; CN=localhost.localdomain
Validity
Not Before&#58; May  4 20&#58;08&#58;02 2017 GMT
Not After &#58; May  4 20&#58;08&#58;02 2018 GMT
Subject&#58; CN=localhost.localdomain
Subject Public Key Info&#58;
Public Key Algorithm&#58; rsaEncryption
Public-Key&#58; (2048 bit)
Modulus&#58;
00&#58;d5&#58;6d&#58;c5&#58;cf&#58;9c&#58;41&#58;15&#58;fa&#58;54&#58;fe&#58;7f&#58;93&#58;51&#58;61&#58;
e2&#58;41&#58;d9&#58;22&#58;2f&#58;af&#58;aa&#58;92&#58;d3&#58;28&#58;8e&#58;6f&#58;4f&#58;93&#58;7c&#58;
6a&#58;5d&#58;22&#58;a3&#58;99&#58;cd&#58;03&#58;c0&#58;26&#58;60&#58;d7&#58;82&#58;ec&#58;b8&#58;10&#58;
<div id='show_1093377148' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1093377148'>d8&#58;75&#58;a0&#58;4b&#58;7c&#58;71&#58;0a&#58;a1&#58;d3&#58;4c&#58;c1&#58;db&#58;e1&#58;c7&#58;b0&#58;
1d&#58;e8&#58;bb&#58;85&#58;8d&#58;fe&#58;e7&#58;33&#58;7f&#58;96&#58;4d&#58;85&#58;42&#58;fc&#58;e5&#58;
66&#58;d8&#58;58&#58;db&#58;25&#58;46&#58;d7&#58;8b&#58;ed&#58;5e&#58;00&#58;c3&#58;a6&#58;84&#58;1d&#58;
26&#58;64&#58;5c&#58;74&#58;3d&#58;33&#58;bd&#58;fe&#58;b2&#58;f3&#58;56&#58;6a&#58;43&#58;af&#58;2f&#58;
ea&#58;c2&#58;6a&#58;58&#58;04&#58;50&#58;2b&#58;6b&#58;10&#58;df&#58;ea&#58;b3&#58;62&#58;8c&#58;c4&#58;
52&#58;89&#58;ab&#58;28&#58;47&#58;ff&#58;71&#58;77&#58;1a&#58;0a&#58;8f&#58;55&#58;1a&#58;d3&#58;8e&#58;
7f&#58;27&#58;2b&#58;e9&#58;03&#58;b4&#58;ed&#58;c5&#58;15&#58;0d&#58;f3&#58;0b&#58;d5&#58;ff&#58;83&#58;
ec&#58;cd&#58;64&#58;74&#58;ef&#58;23&#58;5c&#58;ae&#58;af&#58;09&#58;f9&#58;bd&#58;62&#58;0c&#58;71&#58;
09&#58;ef&#58;64&#58;04&#58;a9&#58;4e&#58;d0&#58;60&#58;f9&#58;6c&#58;76&#58;d7&#58;76&#58;3f&#58;fb&#58;
4e&#58;55&#58;05&#58;4a&#58;82&#58;49&#58;3b&#58;92&#58;07&#58;de&#58;f6&#58;ee&#58;5a&#58;7a&#58;c5&#58;
34&#58;8b&#58;a5&#58;c2&#58;47&#58;99&#58;57&#58;bc&#58;bb&#58;0a&#58;5b&#58;a4&#58;8c&#58;fd&#58;fa&#58;
3e&#58;0b&#58;39&#58;4f&#58;04&#58;a1&#58;ee&#58;71&#58;b3&#58;23&#58;f1&#58;ec&#58;af&#58;37&#58;bd&#58;
d7&#58;e8&#58;29&#58;aa&#58;88&#58;7c&#58;f1&#58;c3&#58;84&#58;0b&#58;b5&#58;33&#58;de&#58;12&#58;63&#58;
75&#58;0d&#58;d7&#58;8e&#58;83&#58;31&#58;71&#58;bf&#58;37&#58;9e&#58;ca&#58;c6&#58;5d&#58;b3&#58;6d&#58;
25&#58;eb
Exponent&#58; 65537 (0x10001)
X509v3 extensions&#58;
X509v3 Subject Key Identifier&#58;
5F&#58;58&#58;D5&#58;1E&#58;1D&#58;1F&#58;BA&#58;EC&#58;50&#58;89&#58;C4&#58;88&#58;51&#58;CB&#58;D6&#58;41&#58;13&#58;D7&#58;69&#58;5B
X509v3 Authority Key Identifier&#58;
keyid&#58;5F&#58;58&#58;D5&#58;1E&#58;1D&#58;1F&#58;BA&#58;EC&#58;50&#58;89&#58;C4&#58;88&#58;51&#58;CB&#58;D6&#58;41&#58;13&#58;D7&#58;69&#58;5B

X509v3 Basic Constraints&#58;
CA&#58;TRUE
Signature Algorithm&#58; sha256WithRSAEncryption
72&#58;0c&#58;5d&#58;15&#58;08&#58;b2&#58;60&#58;3d&#58;4c&#58;03&#58;47&#58;b9&#58;eb&#58;31&#58;d2&#58;fa&#58;19&#58;b8&#58;
74&#58;65&#58;9f&#58;61&#58;27&#58;7a&#58;bf&#58;69&#58;ff&#58;11&#58;eb&#58;ea&#58;8b&#58;bc&#58;f2&#58;f2&#58;9a&#58;a7&#58;
d3&#58;93&#58;bc&#58;f3&#58;4c&#58;73&#58;2c&#58;68&#58;7c&#58;4a&#58;5a&#58;06&#58;d6&#58;ac&#58;f3&#58;5d&#58;9b&#58;d3&#58;
d1&#58;db&#58;27&#58;b5&#58;a4&#58;f6&#58;30&#58;91&#58;16&#58;40&#58;75&#58;52&#58;23&#58;43&#58;b6&#58;f6&#58;24&#58;32&#58;
82&#58;1c&#58;ae&#58;7a&#58;e9&#58;f0&#58;c2&#58;0c&#58;ff&#58;fb&#58;4a&#58;55&#58;eb&#58;49&#58;92&#58;da&#58;f3&#58;63&#58;
94&#58;6a&#58;7a&#58;fe&#58;0f&#58;57&#58;1f&#58;04&#58;0e&#58;1f&#58;99&#58;49&#58;c4&#58;c9&#58;1e&#58;3b&#58;fb&#58;e2&#58;
0d&#58;24&#58;a7&#58;07&#58;cc&#58;7f&#58;03&#58;01&#58;23&#58;ae&#58;48&#58;bf&#58;03&#58;24&#58;7e&#58;1b&#58;d9&#58;bb&#58;
13&#58;b3&#58;df&#58;2f&#58;88&#58;3a&#58;a6&#58;b6&#58;9c&#58;4e&#58;06&#58;5a&#58;c2&#58;6d&#58;92&#58;e5&#58;7c&#58;0f&#58;
23&#58;d1&#58;25&#58;cc&#58;77&#58;65&#58;e8&#58;0b&#58;42&#58;81&#58;2f&#58;81&#58;f2&#58;d1&#58;24&#58;4e&#58;2f&#58;ff&#58;
7d&#58;92&#58;e9&#58;9c&#58;01&#58;ad&#58;e8&#58;eb&#58;6c&#58;11&#58;aa&#58;98&#58;a0&#58;b7&#58;6a&#58;17&#58;25&#58;01&#58;
17&#58;e5&#58;e4&#58;32&#58;bf&#58;8c&#58;b9&#58;4e&#58;2b&#58;32&#58;fa&#58;5f&#58;08&#58;d8&#58;04&#58;50&#58;09&#58;49&#58;
7a&#58;d4&#58;aa&#58;f1&#58;d3&#58;66&#58;bd&#58;1e&#58;87&#58;08&#58;94&#58;15&#58;ad&#58;f3&#58;a8&#58;19&#58;6c&#58;c9&#58;
e3&#58;50&#58;0d&#58;11&#58;c3&#58;5c&#58;7a&#58;41&#58;91&#58;5b&#58;39&#58;f3&#58;97&#58;ba&#58;12&#58;af&#58;1b&#58;63&#58;
d5&#58;12&#58;d4&#58;e6&#58;9b&#58;be&#58;1c&#58;47&#58;f9&#58;d5&#58;a2&#58;8d&#58;5c&#58;ae&#58;b2&#58;3f&#58;36&#58;9f&#58;
9c&#58;08&#58;3d&#58;fc

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696
</div><script type='text/javascript'>
        $('#show_1093377148').click(function() {
            $('#detail_1093377148').slideDown("normal");
            $('#show_1093377148').hide();
            $('#hide_1093377148').show();
        });
        $('#hide_1093377148').click(function() {
            $('#detail_1093377148').slideUp();
            $('#hide_1093377148').hide();
            $('#show_1093377148').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33627#1493924725'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T19:05:25+00:00">May 4, 2017 07:05 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1493924725">&nbsp;</a></div><pre>For instance I get&#58;

# ls -la /etc/grid-security/http
total 16
drwxr-xr-x 2 tomcat tomcat 4096 Apr 26 16&#58;56 .
drwxr-xr-x 5 root   root   4096 Apr 26 16&#58;56 ..
-r--r--r-- 1 tomcat tomcat 1690 Apr 26 16&#58;56 httpcert.pem
-r-------- 1 tomcat tomcat 1675 Apr 26 16&#58;56 httpkey.pem

If you have something different you should be able to fix with

chown -R tomcat&#58;tomcat /etc/grid-security/http
chmod 755 /etc/grid-security/http
chmod 444 /etc/grid-security/http/httpcert.pem
chmod 400 /etc/grid-security/http/httpkey.pem</pre></div><div class='update_description'><i onclick="document.location='33627#1493924516'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-04T19:01:56+00:00">May 4, 2017 07:01 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1493924516">&nbsp;</a></div><pre>maybe it&#39;s a permissions / ownership thing ...

can you paste the output of

ls -la /etc/grid-security/http

?

Carl</pre></div><div class='update_description'><i onclick="document.location='33627#1493650196'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-01T14:49:56+00:00">May 1, 2017 02:49 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1493650196">&nbsp;</a></div><pre>Going ahead and assigning Carl to this.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='33627#1493312729'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-27T17:05:29+00:00">Apr 27, 2017 05:05 PM UTC</time><a class="anchor" name="1493312729">&nbsp;</a></div><pre>I&#39;ve attached the catalina.log from the vagrant environment.

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696</pre></div><div class='update_description'><i onclick="document.location='33627#1493312678'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-27T17:04:38+00:00">Apr 27, 2017 05:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1493312678">&nbsp;</a></div><pre>I am testing my Puppet module for OSG which has worked very well in the past.  The issue I&#39;m hitting is that the server for GUMS in tomcat is not starting.  It seems that something is failing to read the SSL key I generate.  The SSL key/cert I am using is self-signed as I&#39;m still testing things inside of isolated development environments inside docker and vagrant.

[root@centos-7-x64 ~]# cat /etc/osg-version
3.3.23
[root@centos-7-x64 ~]# cat /etc/centos-release
CentOS Linux release 7.2.1511 (Core)

Error&#58;
java.io.IOException&#58; java.security.cert.CertificateException&#58; java.io.IOException&#58; Error while reading private key. Item is not a private key. Item is&#58; class org.bouncycastle.asn1.pkcs.PrivateKeyInfo

SSL cert generation&#58;
[root@centos-7-x64 ~]# cat /tmp/make-dummy-cert
#!/bin/sh
umask 077

answers() {
echo --
echo SomeState
echo SomeCity
echo SomeOrganization
echo SomeOrganizationalUnit
echo localhost.localdomain
echo root@....ldomain
}

if [ $# -eq 0 ] ; then
echo $&#34;Usage&#58; &#96;basename $0&#96; filename [...]&#34;
exit 0
fi

for target in $@ ; do
PEM1=&#96;/bin/mktemp /tmp/openssl.XXXXXX&#96;
PEM2=&#96;/bin/mktemp /tmp/openssl.XXXXXX&#96;
trap &#34;rm -f $PEM1 $PEM2&#34; SIGINT
answers | /usr/bin/openssl req -newkey rsa&#58;2048 -keyout $PEM1 -subj &#34;/CN=localhost.localdomain&#34; -nodes -x509 -days 365 -out $PEM2 2&#62; /dev/null
<div id='show_621930' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_621930'>cat $PEM1 &#62; ${target}key.pem
cat $PEM2 &#62; ${target}cert.pem
rm -f $PEM1 $PEM2
done

[root@centos-7-x64 ~]# /tmp/make-dummy-cert /etc/grid-security/http/http

by /DC=org/DC=cilogon/C=US/O=Ohio State University/CN=John Dockendorf A59696

</div><script type='text/javascript'>
        $('#show_621930').click(function() {
            $('#detail_621930').slideDown("normal");
            $('#show_621930').hide();
            $('#hide_621930').show();
        });
        $('#hide_621930').click(function() {
            $('#detail_621930').slideUp();
            $('#hide_621930').hide();
            $('#show_621930').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F33627">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 33627});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
