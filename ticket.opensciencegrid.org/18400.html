<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[18400] Runaway OSG jobs on IU_OSG</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=18400" method="post">
<div class="page-header">
    <h3><span class="muted">18400</span> / Runaway OSG jobs on IU_OSG</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Joe Rinkovsky</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">OSG_FLOCK</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">OSG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Joe Rinkovsky</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">OSG-GOC</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-12-26</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG-GOC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/18400", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/18400?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/18400?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Runaway%20OSG%20jobs%20on%20IU_OSG%20ISSUE%3D18400%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='18400#1388785525'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-01-03T21:45:25+00:00">Jan 3, 2014 09:45 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1388785525">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='18400#1387915437'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-24T20:03:57+00:00">Dec 24, 2013 08:03 PM UTC</time><a class="anchor" name="1387915437">&nbsp;</a></div><pre>Let&#39;s close it and we can open a new one if we find issues in January.

Thanks!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='18400#1387912055'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-24T19:07:35+00:00">Dec 24, 2013 07:07 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1387912055">&nbsp;</a></div><pre>Hi Mats, Jeff, and Joe,

Are there any updates on this? Should I expect to see any more movement on this before the 1st of the year?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='18400#1387487166'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T21:06:06+00:00">Dec 19, 2013 09:06 PM UTC</time><a class="anchor" name="1387487166">&nbsp;</a></div><pre>Hi Mats and Joe,

I just checked a few glidein logs.  There is nothing obviously wrong, the glideins are terminating early because their shutdown expression is evaluating to true.

Mats I believe at first glance you are correct, this is simply a result of not having continuous user demand for the site, but I&#39;ll email some details off ticket in case you can find anything that may be triggering the shutdown too early.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='18400#1387482069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T19:41:09+00:00">Dec 19, 2013 07:41 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387482069">&nbsp;</a></div><pre>Sounds good. Let me know what you find out.

On 12/19/13 11&#58;31 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387470713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T16:31:53+00:00">Dec 19, 2013 04:31 PM UTC</time><a class="anchor" name="1387470713">&nbsp;</a></div><pre>Joe,

The glideins are resused by many users. I did look through the job history and all the exit codes for the current workloads are 0. This is a pretty good indicator that things are working fine for the users.

The reason I&#39;m questioning the 2 hours is that the glideins are supposed to be reused for a certain amount of time before gracefully exiting. Unless the factory is overriding the setting, my setting (in the GlideinWMS frontend) is 12 hours. That means the glidein should run jobs for 12 + let the last job finish. There is a good chance that this is not happening as we currently have less demand than usual (not enough jobs for the 12 hours), and the glidein exits due to lack of work being available. But I still want the glidein factory admins to look at the logs and verify that this is the case.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='18400#1387469651'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T16:14:11+00:00">Dec 19, 2013 04:14 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387469651">&nbsp;</a></div><pre>Wall time is getting requested at 48...but the jobs are completing in 2
hours so everything is working correctly. I was wondering if someone
could contact the end-user and find out if they are getting
good/useful/successful results.

--Joe

On 12/19/13 11&#58;11 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387469491'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T16:11:31+00:00">Dec 19, 2013 04:11 PM UTC</time><a class="anchor" name="1387469491">&nbsp;</a></div><pre>2 hours seems to be on the low side. Glidein admins, can you look over the recent logs and make sure it looks good at your end? Thanks!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='18400#1387465869'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T15:11:09+00:00">Dec 19, 2013 03:11 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387465869">&nbsp;</a></div><pre>Job seem to be flowing. The average run-time is about 2 hours. Could you
contact the user and find out if he is getting good results?

On 12/19/13 9&#58;58 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387465078'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-19T14:57:58+00:00">Dec 19, 2013 02:57 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1387465078">&nbsp;</a></div><pre>Hi Joe,

Thanks for the update keep us posted on how its working out and when its ok to close this ticket.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='18400#1387304051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-17T18:14:11+00:00">Dec 17, 2013 06:14 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387304051">&nbsp;</a></div><pre>I am already seeing jobs flowing in with the new walltimes. I will
monitor things and let you know if I see any problems.

On 12/17/13 1&#58;10 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387303847'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-17T18:10:47+00:00">Dec 17, 2013 06:10 PM UTC</time><a class="anchor" name="1387303847">&nbsp;</a></div><pre>Ok, I added (maxWallTime=2880) to the rsl (time is in minutes).

Please let us know if you still see the short running glideins.

Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='18400#1387302154'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-17T17:42:34+00:00">Dec 17, 2013 05:42 PM UTC</time><a class="anchor" name="1387302154">&nbsp;</a></div><pre>Ok I think Dan missed here that we probably need to increase the maxwalltime in the RSL in our Factory config to 48h, so we don&#39;t pick up the 30 min default.

I will do this shortly, sorry for the delay / inconvenience caused.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='18400#1387220889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T19:08:09+00:00">Dec 16, 2013 07:08 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387220889">&nbsp;</a></div><pre>* Correct. m3.quarry.teragrid.iu.edu&#58;2119/jobmanager-pbs is the CE.

* 30 minutes is our Torque default and we have seen quite a few(possibly
all) glidein jobs being submitted with 30 minutes of wall time and then
we can see them fail when the 30 minutes expires.

* I have looked at the submission scripts generated by Globus job
manager and there isn&#39;t a specific walltime requested. This is why the
walltime is getting set to the default.

* Ideally, I would like to see this fixed without having to reconfigure
Torque since other non-osg users are using this system so changes will
affect them also.

* We had a similar situation recently with glideins where they were
failing due to requesting a queue that doesn&#39;t exist. I wonder if the
walltime couldn&#39;t be fixed in a similar manner.

Let me know how you want to proceed.

--Joe

On 12/16/13 1&#58;58 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387220321'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T18:58:41+00:00">Dec 16, 2013 06:58 PM UTC</time><a class="anchor" name="1387220321">&nbsp;</a></div><pre>Hi Joe, Mats,

Just to make sure I&#39;m looking at the right thing&#58; the CE at the site in question is m3.quarry.teragrid.iu.edu&#58;2119/jobmanager-pbs, correct?

In our factory configuration, we&#39;ve coded the walltime to be 48 hours for this site. I see a comment, explaining that 48 hours was a default value, used because the MaxWalltime advertised in BDII didn&#39;t make sense when we set up this site in the factory (it was 14 days as of April 2012). Now I can&#39;t find this CE in BDII to check the advertised values.

Anyway, based on our factory configuration, I see no good reason why these glideins should be dying after half an hour. Unfortunately, the logs returned by the glideins are empty, so there&#39;s not much info I can gather about their activities. I think the 30-minute limit must be coming from the site. I don&#39;t know much about Torque, but google tells me it&#39;s some kind of a batch system manager, is that about right? If so, I think it&#39;s probably responsible for killing jobs (including glideins) running longer than 30 minutes. Joe, if you&#39;re okay raising the limits in Torque, I can look for a corresponding increase in the glidein lifetimes. Does that sound reasonable? Also, feel free to propose an alternative.

Best,
Dan Klein
UCSD Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dklein/CN=747387/CN=Daniel Klein</pre></div><div class='update_description'><i onclick="document.location='18400#1387214049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T17:14:09+00:00">Dec 16, 2013 05:14 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387214049">&nbsp;</a></div><pre>Ok. Let me know if there is anything I need to do on our end. The 30
minute walltime is what we have on our Torque setup. I am not sure if
that is coincidence or not.

--Joe

On 12/16/13 12&#58;09 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387213832'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T17:10:32+00:00">Dec 16, 2013 05:10 PM UTC</time><a class="anchor" name="1387213832">&nbsp;</a></div><pre>Glideinadmins,

Please make sure that glideins going to IU has the correct walltime settings.

Thanks!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='18400#1387213787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T17:09:47+00:00">Dec 16, 2013 05:09 PM UTC</time><a class="anchor" name="1387213787">&nbsp;</a></div><pre>The walltime problem is a glidein problem. The factory should request glideins for much longer than that. I will add factory admins to this ticket so they can deal with that.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='18400#1387213332'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T17:02:12+00:00">Dec 16, 2013 05:02 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387213332">&nbsp;</a></div><pre>Yup. This is the problems we are seeing. Lots of jobs running and
getting killed because they are running out of walltime and the data
gets left behind which fills up /tmp on our compute nodes.

Is there a way for the user(Matt Perkkett) to request more wall time
when he submits his job. Currently they are just requesting the default
which is 30 minutes. I think if we can get the jobs running with an
amount of wall time that allow them to run until completion then
everyone should be happy.

Let me know what I can do to help. I am not sure if this will make it to
Matt or not. Could you please pass this one to him.

--Joe

On 12/16/13 11&#58;51 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387212663'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T16:51:03+00:00">Dec 16, 2013 04:51 PM UTC</time><a class="anchor" name="1387212663">&nbsp;</a></div><pre>I think this may be related to an issue reported my Matt Perkkett&#58;

To whom it may concern&#58;

I have had a number of jobs that did not run to completion and disappeared from the queueing system.  Looking in the log files, they all seem to end in a similar way

...
009 (49039135.000.000) 12/16 06&#58;00&#58;05 Job was aborted by the user.
via condor_rm (by user condor)
...

So far this has happened to 48 of the 100 jobs that I started to run over the weekend.  Why does this happen?  Also, when this happens, does all the data get transferred back to the simulation directory?  I have a script that I run occasionally that attempts to use condor_ssh_to_job to rsync back data, but this seems to work for &#60;50% of the jobs.  So I&#39;m worried that potentially large amounts of simulation time are being wasted if jobs are killed like this.

Thanks.
-Matt

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Robert Quick 62</pre></div><div class='update_description'><i onclick="document.location='18400#1387212612'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T16:50:12+00:00">Dec 16, 2013 04:50 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387212612">&nbsp;</a></div><pre>This has been ongoing since Friday. I have seen several active nodes
that are running mdrun which is gromacs. It also appears that the jobs
are coming in via condor glide-in.

The submissions are coming from gfactory-1.t2.ucsd.edu if that helps any.

--Joe

On 12/16/13 11&#58;43 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387212236'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T16:43:56+00:00">Dec 16, 2013 04:43 PM UTC</time><a class="anchor" name="1387212236">&nbsp;</a></div><pre>Joe,

Do you have a any additional clues on the user? For example file names or executable names? Or if you can provide the hostname of the compute node and an approximate timestamp on when the problem occurred.

Thanks,
Mats Rynge
OSG User Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='18400#1387212071'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T16:41:11+00:00">Dec 16, 2013 04:41 PM UTC</time> by <b>jrinkovs@....</b><a class="anchor" name="1387212071">&nbsp;</a></div><pre>/DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu

is the DN that is submitting these jobs.

On 12/16/13 11&#58;26 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18400#1387211214'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-16T16:26:54+00:00">Dec 16, 2013 04:26 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1387211214">&nbsp;</a></div><pre>Hello,

We&#39;re trying to track down the user who is submitting jobs with mdrun. They are core dumping and filling up logs on compute nodes. It seems like they&#39;re running out of walltime and then just leaving huge amounts of data in tmp.

We want to work with the user doing these jobs to ensure&#58;
1) they request enough walltime
2) the jobs clean up after themselves

Please facilitate this,

Thank you,
Elizabeth

by Joe Rinkovsky (guest)</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F18400">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 18400});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
