<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[10312] Problem merging GUMS template with running configuration in GUMS 1.3.14</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10312" method="post">
<div class="page-header">
    <h3><span class="muted">10312</span> / Problem merging GUMS template with running configuration in GUMS 1.3.14</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alan Sill</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/other</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Alan Sill</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-09-27</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/10312", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/10312?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/10312?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Problem%20merging%20GUMS%20template%20with%20running%20configuration%20in%20GUMS%201.3.14%20ISSUE%3D10312%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10312#1318000642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-07T15:17:22+00:00">Oct 7, 2011 03:17 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1318000642">&nbsp;</a></div><pre>Thank you for informing us that this issue can be resolved. I will close this ticket.

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='10312#1316530448'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-20T14:54:08+00:00">Sep 20, 2011 02:54 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1316530448">&nbsp;</a></div><pre>I will be looking into providing GUI access to fine-grained control of
the merge configuration function. In GUMS 1.4 (the next version) there
is full support for tracking the source of various aspects of the
configuration, so that admins can retain custom settings while still
using templates from outside.

This is definitely on my enhancement list, so as far as I&#39;m concerned
you can close it as a ticket-- it won&#39;t get lost.

Cheers,

--john

On 09/20/2011 08&#58;19 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10312#1316521148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-20T12:19:08+00:00">Sep 20, 2011 12:19 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1316521148">&nbsp;</a></div><pre>John,

Has there been any work done on this issue?  Should I keep this ticket open at this point, or is it being handled internally by you?

Please advise.

Thanks,

Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1314288367'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-25T16:06:07+00:00">Aug 25, 2011 04:06 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1314288367">&nbsp;</a></div><pre>Hi folks,

The whole point is that merging the newest template does not provide any mechanism for inquiring whether the existing VOs not in the new template shoudl be removed.

There are cases in which a site might support VOs that are not in the template, so removing ones that are not in the template being merged automatically is not a good idea.  However, at present, merging through the web controls does precisely nothing about removing old VOs.  Hence there is no way to &#34;update to the newest template&#34; through the web controls.

Another case occurs when local settings are used to override the mappings suggested in the standard template.  Her at TTU, for example, we use pool mapping to give individual pool accounts to SURAgrid users, whereas the VO has only provided single-account mapping in the template so far.  In that case, we want our settings to override those of the template.

I asked for some check-box functionality to achieve this.  I think John understood the request and had promised to work on it.  As it is, through the web interface, there is no mechanism to remove old VOs (unless I missed it) during the merge.

Thanks,
Alan</pre></div><div class='update_description'><i onclick="document.location='10312#1314275441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-25T12:30:41+00:00">Aug 25, 2011 12:30 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1314275441">&nbsp;</a></div><pre>Are there any updates to this since Rob provided some new info?  Has the upgrade to the latest gums.template been done?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1312981795'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-10T13:09:55+00:00">Aug 10, 2011 01:09 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1312981795">&nbsp;</a></div><pre>Of this list Alan supplies&#58;

Some user groups weren&#39;t updated correctly&#58;
fmri - Couldn&#39;t retrieve users&#58; (404)Not Found
gadu - Couldn&#39;t retrieve users&#58; (400)No Host matches server name
voms.fnal.gov
grase - Couldn&#39;t retrieve users&#58; (404)Not Found
gridex - Couldn&#39;t retrieve users&#58; (404)Not Found
gridunesp - Couldn&#39;t retrieve users&#58; (503)Service Unavailable
grow - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.UnknownHostException&#58; grow-voms.its.uiowa.edu

gugrid - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.NoRouteToHostException&#58; No route to host
ivdgl - Couldn&#39;t retrieve users&#58; (404)Not Found
mariachi - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.ConnectException&#58; Connection refused
sdss - Couldn&#39;t retrieve users&#58; (400)No Host matches server name
voms.fnal.gov

Only GridUNESP is a current VO and see at <a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template.' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template.</a> I&#39;d suggest updating to the latest gums.template or if you are doing a manual merge removing all the the stanzas for these VOs along with vo names in the HostGroup entry at the end of the template.

I&#39;m guessing you just hit GridUNESP during a downtime.

Rob</pre></div><div class='update_description'><i onclick="document.location='10312#1312980505'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-10T12:48:25+00:00">Aug 10, 2011 12:48 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1312980505">&nbsp;</a></div><pre>Rob,

Can you please take a look at John&#39;s last entry into the ticket?  <a href='https&#58;//ticket.grid.iu.edu/goc/10312#1311603483' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/10312#1311603483</a>

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1312303803'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-02T16:50:03+00:00">Aug 2, 2011 04:50 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1312303803">&nbsp;</a></div><pre>John,

That is the current official version.  Rob is on this ticket, he can take a look at that issue when he gets back early next week.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1311603483'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-25T14:18:03+00:00">Jul 25, 2011 02:18 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311603483">&nbsp;</a></div><pre>Hi Kyle,

Yes, Alan and I actually talked at a conference at CERN. Essentially all
his feature/interface concerns have been added to my TODO lists for GUMS.

As far as his actual merging failure, if I recall correctly an upgrade
to the latest GUMS version made it function. He had other issues that I
wasn&#39;t able to reproduce that may have to do with his local setup.

There may also be issues with the entries in the gums.template at

<a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template</a>

As far as I know that is the official version, but Alan had &#34;no route to
host&#34; and &#34;no host matches server name&#34; errors. This makes it sound like
some of the entries are out of date.

If the official template is now somewhere else, let me know the URL and
I&#39;ll change the default location in GUMS.

Cheers,

--john

On 07/25/2011 09&#58;38 AM,  via RT wrote&#58;
<font color='#7F7E6F'>&#62; John,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Have you been able to look into this for Alan at all?  Or have you</font>
<font color='#7F7E6F'>&#62; responded to Alan&#39;s questions outside of this ticket?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -Kyle</font>
<font color='#7F7E6F'>&#62;   -- by Kyle Gross at Mon Jul 25 13&#58;37&#58;02 UTC 2011</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

<div id='show_1991370596' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1991370596'>--
John Hover
Group Leader | Grid Group/Experiment Services
RHIC/ATLAS Computing Facility | Brookhaven National Laboratory
jhover@.... | 631-344-5828 | <a href='http&#58;//www.racf.bnl.gov/Members/jhover' target='_blank' rel='nofollow'>http&#58;//www.racf.bnl.gov/Members/jhover</a>

-- by jhover@.... at Mon Jul 25 14&#58;17&#58;53 UTC 2011

GOCTX Source&#58; VDT Ticket&#58; Queue=vdt-support ID=9073
</div><script type='text/javascript'>
        $('#show_1991370596').click(function() {
            $('#detail_1991370596').slideDown("normal");
            $('#show_1991370596').hide();
            $('#hide_1991370596').show();
        });
        $('#hide_1991370596').click(function() {
            $('#detail_1991370596').slideUp();
            $('#hide_1991370596').hide();
            $('#show_1991370596').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10312#1311601022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-25T13:37:02+00:00">Jul 25, 2011 01:37 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1311601022">&nbsp;</a></div><pre>John,

Have you been able to look into this for Alan at all?  Or have you responded to Alan&#39;s questions outside of this ticket?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1310672493'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-14T19:41:33+00:00">Jul 14, 2011 07:41 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1310672493">&nbsp;</a></div><pre>John,

Have you been able to look into this for Alan at all?  Or have you responded to Alan&#39;s questions outside of this ticket?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1309390508'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-29T23:35:08+00:00">Jun 29, 2011 11:35 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1309390508">&nbsp;</a></div><pre>As indicated in my update of June 7, there are two remaining issues&#58;

(1) Running the merge step via the web interface results in loss of
ability to do any other steps that require a registered administrative
DN to run.  Stopping and starting GUMS via vdt-control restores the
administrative capabilities.

(2) There seems to be no easy way to remove obsole VO information.
Several VO&#39;s have information that is no longer valid and no longer in
the template, but of course is not removed via a merge.  On the other
hand, locally we do have several other non-OSG VO&#39;s supported, and
other special mapping information, so would prefer not to just adopt
the new template wholesale (not sure I know how, anyway).

I tried for GLOW, for example, to remove each of the settings in some
kind of obvious order - first removing the host-to-group mapping, then
removing the group to account mapping, etc.  It let me do all of these
steps but still would not let me remove the VOMS server for GLOW via
the web interface, incorrectly claiming that there was still a group-
to-account mapping.

Updating the VO members still results in error messages like the
following&#58;

Some user groups weren&#39;t updated correctly&#58;
fmri - Couldn&#39;t retrieve users&#58; (404)Not Found
gadu - Couldn&#39;t retrieve users&#58; (400)No Host matches server name
voms.fnal.gov
grase - Couldn&#39;t retrieve users&#58; (404)Not Found
gridex - Couldn&#39;t retrieve users&#58; (404)Not Found
gridunesp - Couldn&#39;t retrieve users&#58; (503)Service Unavailable
grow - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.UnknownHostException&#58; grow-voms.its.uiowa.edu
gugrid - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.NoRouteToHostException&#58; No route to host
<div id='show_417060707' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_417060707'>ivdgl - Couldn&#39;t retrieve users&#58; (404)Not Found
mariachi - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.ConnectException&#58; Connection refused
sdss - Couldn&#39;t retrieve users&#58; (400)No Host matches server name
voms.fnal.gov

So how can one remove these obsolete VOs from GUMS?

Thanks,
Alan
</div><script type='text/javascript'>
        $('#show_417060707').click(function() {
            $('#detail_417060707').slideDown("normal");
            $('#show_417060707').hide();
            $('#hide_417060707').show();
        });
        $('#hide_417060707').click(function() {
            $('#detail_417060707').slideUp();
            $('#hide_417060707').hide();
            $('#show_417060707').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10312#1307726201'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-10T17:16:41+00:00">Jun 10, 2011 05:16 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1307726201">&nbsp;</a></div><pre>I have added Rob on this ticket.  Rob could you please take a look at Alan&#39;s last update as well as John and VTD?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1307490126'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-07T23:42:06+00:00">Jun 7, 2011 11:42 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1307490126">&nbsp;</a></div><pre>I upgraded our GUS server here at TTU to the current one from the
OSG_1.2 release, which appears to be GUMS 1.3.17 when I fire it up.  I
have the following observations&#58;

1) It does allow me to perform the &#34;Merge configurations&#34; step via the
web interface after the upgrade.  Immediately after performing that
step, however, it apparently loses track of the fact that my DN is
authorized as an admin group member, and prevents me from performing
any further administrative operations via the web interface.

If I stop and start GUMS via vdt-control --off and --on, it once again
recognizes my certificate via the web interface as authorized to do
administrative operations.

I note that there are no messages or options given in the &#34;merge&#34; sep
-- it returns right away with amesage in green saying it has been
done.  We might want more manual control over the changes to be merged

2) Updating the VO members via the web interface once this has been
done results in the following errors&#58;

Some user groups weren&#39;t updated correctly&#58;
GROW - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.UnknownHostException&#58; grow-voms.its.uiowa.edu
fmri - Couldn&#39;t retrieve users&#58; (404)Not Found
gadu - Couldn&#39;t retrieve users&#58; (400)No Host matches server name
voms.fnal.gov
grase - Couldn&#39;t retrieve users&#58; (404)Not Found
gridex - Couldn&#39;t retrieve users&#58; (404)Not Found
gridunesp - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.ConnectException&#58; Connection timed out
grow - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.UnknownHostException&#58; grow-voms.its.uiowa.edu
gugrid - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.NoRouteToHostException&#58; No route to host
<div id='show_1726571917' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1726571917'>ivdgl - Couldn&#39;t retrieve users&#58; (404)Not Found
mariachi - Couldn&#39;t retrieve users&#58; ; nested exception is&#58;
java.net.ConnectException&#58; Connection refused
sdss - Couldn&#39;t retrieve users&#58; (400)No Host matches server name
voms.fnal.gov

This could be due to temporary unavailability of the indicated VOMS
servers, or due to the vo-package that I merged being out of date.  I
used the one indicated in the web interface,

<a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template</a>

Perhaps this isn&#39;t the same as the one released today?

3) This is something to take up with the SURAgrid VO&#58; After the merge,
I was left with two mappers for SURAgrid&#58; the one I had already
defined, and the one brought in from the above template.  The one I
had defined uses pool accounts and in fact also sets up an additional
mapper for the non-OSG SURA LDAP server in addition to pool account
mapping via the SURAgrid VOMS server.  The one provided in the
template maps everyone in SURAgrid to one suragrid account.  I believe
we want the pool mapping, not the single-account mapping, so I will
take this up with the SURAgrid VO admins.

Finally,

4) Apart from the above merge step, are there any other local
operations to be done (beyond creating the nees account and disabling
the jdem one as per the last notice) to apply the latest V package
locally?  I am getting a little fuzzy on this, having not done it for
a while -- does the VO package update have to be applied separately on
the GUMS server (presumably via a merge as above), as well as on each
SE and CE installation?  What about the WN-client installation?

Thanks,
Alan
</div><script type='text/javascript'>
        $('#show_1726571917').click(function() {
            $('#detail_1726571917').slideDown("normal");
            $('#show_1726571917').hide();
            $('#hide_1726571917').show();
        });
        $('#hide_1726571917').click(function() {
            $('#detail_1726571917').slideUp();
            $('#hide_1726571917').hide();
            $('#show_1726571917').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10312#1307124727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-03T18:12:07+00:00">Jun 3, 2011 06:12 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1307124727">&nbsp;</a></div><pre>I plan to upgrade the GUMS version here on Monday to the latest
release, and see if it fixes this problem.</pre></div><div class='update_description'><i onclick="document.location='10312#1307123867'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-03T17:57:47+00:00">Jun 3, 2011 05:57 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1307123867">&nbsp;</a></div><pre>Are there any updates on this issue? Alan, have you been able to proceed with what John told us?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='10312#1306518316'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-27T17:45:16+00:00">May 27, 2011 05:45 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1306518316">&nbsp;</a></div><pre>Are there any updates on this issue? Alan, have you been able to proceed with what John told us?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='10312#1305568988'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-16T18:03:08+00:00">May 16, 2011 06:03 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1305568988">&nbsp;</a></div><pre>Hi all,

Sorry to not reply sooner, but the problem sounds a bit mystifying.

The error message seems to indicate database connection errors, but I&#39;m
assuming you&#39;ve confirmed other GUI operations are working properly
(like &#34;Map Grid Identity to Account&#34;).

I think the place to start is to first upgrade to the latest GUMS
version (1.3.17 in OSG 1.2/VDT 2.0). The merge feature is a recently
added one, and I know changes continued to be made after 1.3.14.

Probably not a welcome answer, but the one most likely to get merge
working properly.

--john

On 05/01/2011 08&#58;13 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10312#1305310687'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-13T18:18:07+00:00">May 13, 2011 06:18 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1305310687">&nbsp;</a></div><pre>John,

Can you please provide some help as per Alain&#39;s request?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='10312#1304252002'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-01T12:13:22+00:00">May 1, 2011 12:13 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1304252002">&nbsp;</a></div><pre>Hi Alan,

I&#39;ve added John Hover to the ticket because it&#39;s beyond my expertise with GUMS. John, can
you give us a hand? Thanks!

-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; HI,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; We are trying to update our local GUMS server to include the most</font>
<font color='#7F7E6F'>&#62; recent available list of OSG VOs.  To do this, I thought I would try</font>
<font color='#7F7E6F'>&#62; (for the first time) to use the &#34;Merge Configuration&#34; feature of the</font>
<font color='#7F7E6F'>&#62; GUMS web interface.  Up to now, we have made all changes manually and</font>
<font color='#7F7E6F'>&#62; are a bit out of date.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ve encountered two problems&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  1) on the page for &#34;Merge Configuration&#34; it presents me with a window</font>
<font color='#7F7E6F'>&#62; that shows a pull-down menu that includes the line</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Host to Group Mapping&#58; (Choices&#58;</font>
<font color='#7F7E6F'>&#62; /DC=com/DC=example/OU=Services/CN=example.site.com or</font>
<font color='#7F7E6F'>&#62; */?*.hpcc.ttu.edu</font>
<font color='#7F7E6F'>&#62; are shown)   (in which all group to account mappings will be added)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  I cannot seem to select the second entry (*/?*.hpcc.ttu.edu), which</font>
<font color='#7F7E6F'>&#62; is</font>
<font color='#7F7E6F'>&#62; the one that I think that I need - it just pops back up to the</font>
<font color='#7F7E6F'>&#62; &#34;example.com&#34; entry.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  2) If I proceed and put in the current location of the VO Package</font>
<div id='show_1587034208' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1587034208'><font color='#7F7E6F'>&#62; gums.template file as the Configuration URI&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;   I get after a long delay the following error in the web interface&#58;</font>
<font color='#7F7E6F'>&#62; Merge configuration into current configuration, replacing user groups,</font>
<font color='#7F7E6F'>&#62; account mappers, and group to account mappings with the same name.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Error merging configuration&#58; Database error&#58; Cannot open connection</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The catalina.out for the tomcat server has lots of error messages,</font>
<font color='#7F7E6F'>&#62; ending with the following.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Any help would be appreciated.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Alan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.exceptions.MySQLNonTransientConnectionException&#58; Could</font>
<font color='#7F7E6F'>&#62; not create connection to database server. Attempted reconnect 3 times.</font>
<font color='#7F7E6F'>&#62; Giving up.</font>
<font color='#7F7E6F'>&#62; 	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;980)</font>
<font color='#7F7E6F'>&#62; 	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;956)</font>
<font color='#7F7E6F'>&#62; 	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;926)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2253)</font>
<font color='#7F7E6F'>&#62; 	at com.mysql.jdbc.ConnectionImpl.&#60;init&#62;(ConnectionImpl.java&#58;718)</font>
<font color='#7F7E6F'>&#62; 	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java&#58;298)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java&#58;282)</font>
<font color='#7F7E6F'>&#62; 	at java.sql.DriverManager.getConnection(DriverManager.java&#58;525)</font>
<font color='#7F7E6F'>&#62; 	at java.sql.DriverManager.getConnection(DriverManager.java&#58;140)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.ja
va&#58;66)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperCon
nectionPoolDataSource.java&#58;76)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1.acquireResource(C3P0PooledConn
ectionPool.java&#58;66)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool.assimilateResource(BasicResourcePool.java&#58;
787)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool.acquireUntil(BasicResourcePool.java&#58;548)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool.access$000(BasicResourcePool.java&#58;35)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;97
2)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchro
nousRunner.java&#58;148)
<font color='#7F7E6F'>&#62; Caused by&#58; java.net.UnknownHostException&#58; @SERVER@</font>
<font color='#7F7E6F'>&#62; 	at java.net.InetAddress.getAllByName0(InetAddress.java&#58;1150)</font>
<font color='#7F7E6F'>&#62; 	at java.net.InetAddress.getAllByName(InetAddress.java&#58;1072)</font>
<font color='#7F7E6F'>&#62; 	at java.net.InetAddress.getAllByName(InetAddress.java&#58;1008)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java&#58;243)</font>
<font color='#7F7E6F'>&#62; 	at com.mysql.jdbc.MysqlIO.&#60;init&#62;(MysqlIO.java&#58;280)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2177)</font>
<font color='#7F7E6F'>&#62; 	... 13 more</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@24a118a5 --</font>
<font color='#7F7E6F'>&#62; Unexpectedly Broken!!!</font>
<font color='#7F7E6F'>&#62; 	While trying to acquire a needed new resource, we failed</font>
<font color='#7F7E6F'>&#62; 	to succeed more than the maximum number of allowed</font>
<font color='#7F7E6F'>&#62; 	acquisition attempts (30).</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- Unexpectedly</font>
<font color='#7F7E6F'>&#62; broken!!!</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.ResourcePoolException&#58; Unexpected Break</font>
<font color='#7F7E6F'>&#62; Stack Trace!</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool.unexpectedBreak(BasicResourcePool.java&#58;4
31)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool.access$100(BasicResourcePool.java&#58;35)</font>
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;98
5)
<font color='#7F7E6F'>&#62; 	at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchro
nousRunner.java&#58;148)
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- close()</font>
<font color='#7F7E6F'>&#62; called multiple times.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [META Information]</font>
<font color='#7F7E6F'>&#62; Assignment Reason&#58; possible assignees at this hour (12)&#58; adeximo</font>
<font color='#7F7E6F'>&#62; echism</font>
<font color='#7F7E6F'>&#62; kagross. kagross has the least amount of tickets.</font>
<font color='#7F7E6F'>&#62; adeximo has 33 tickets. echism has 21 tickets. kagross has 20 tickets.</font>
<font color='#7F7E6F'>&#62; Submitter DN&#58; /DC=org/DC=doegrids/OU=People/CN=Kyle A. Gross 453426</font>
<font color='#7F7E6F'>&#62; Submitter doesn&#39;t know the VO he/she belongs.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='10312.html#1304080779' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=10312#1304080779</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket History]</font>
<font color='#7F7E6F'>&#62; After looking, I can&#39;t find an answer to this.  I am adding VDT and</font>
<font color='#7F7E6F'>&#62; John Hover to see if they might have anything to add.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; HI,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; We are trying to update our local GUMS server to include the most</font>
<font color='#7F7E6F'>&#62; recent available list of OSG VOs.  To do this, I thought I would try</font>
<font color='#7F7E6F'>&#62; (for the first time) to use the &#34;Merge Configuration&#34; feature of the</font>
<font color='#7F7E6F'>&#62; GUMS web interface.  Up to now, we have made all changes manually and</font>
<font color='#7F7E6F'>&#62; are a bit out of date.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ve encountered two problems&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) on the page for &#34;Merge Configuration&#34; it presents me with a window</font>
<font color='#7F7E6F'>&#62; that shows a pull-down menu that includes the line</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Host to Group Mapping&#58; (Choices&#58;</font>
<font color='#7F7E6F'>&#62; /DC=com/DC=example/OU=Services/CN=example.site.com or</font>
<font color='#7F7E6F'>&#62; */?*.hpcc.ttu.edu</font>
<font color='#7F7E6F'>&#62; are shown)   (in which all group to account mappings will be added)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I cannot seem to select the second entry (*/?*.hpcc.ttu.edu), which is</font>
<font color='#7F7E6F'>&#62; the one that I think that I need - it just pops back up to the</font>
<font color='#7F7E6F'>&#62; &#34;example.com&#34; entry.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 2) If I proceed and put in the current location of the VO Package</font>
<font color='#7F7E6F'>&#62; gums.template file as the Configuration URI&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I get after a long delay the following error in the web interface&#58;</font>
<font color='#7F7E6F'>&#62; Merge configuration into current configuration, replacing user groups,</font>
<font color='#7F7E6F'>&#62; account mappers, and group to account mappings with the same name.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Error merging configuration&#58; Database error&#58; Cannot open connection</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The catalina.out for the tomcat server has lots of error messages,</font>
<font color='#7F7E6F'>&#62; ending with the following.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Any help would be appreciated.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Alan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.exceptions.MySQLNonTransientConnectionException&#58; Could</font>
<font color='#7F7E6F'>&#62; not create connection to database server. Attempted reconnect 3 times.</font>
<font color='#7F7E6F'>&#62; Giving up.</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;980)</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;956)</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;926)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2253)</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.ConnectionImpl.&#60;init&#62;(ConnectionImpl.java&#58;718)</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java&#58;298)</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java&#58;282)</font>
<font color='#7F7E6F'>&#62; at java.sql.DriverManager.getConnection(DriverManager.java&#58;525)</font>
<font color='#7F7E6F'>&#62; at java.sql.DriverManager.getConnection(DriverManager.java&#58;140)</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.ja
va&#58;66)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperCon
nectionPoolDataSource.java&#58;76)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1.acquireResource(C3P0PooledConn
ectionPool.java&#58;66)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool.assimilateResource(BasicResourcePool.java&#58;
787)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool.acquireUntil(BasicResourcePool.java&#58;548)</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool.access$000(BasicResourcePool.java&#58;35)</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;97
2)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchro
nousRunner.java&#58;148)
<font color='#7F7E6F'>&#62; Caused by&#58; java.net.UnknownHostException&#58; @SERVER@</font>
<font color='#7F7E6F'>&#62; at java.net.InetAddress.getAllByName0(InetAddress.java&#58;1150)</font>
<font color='#7F7E6F'>&#62; at java.net.InetAddress.getAllByName(InetAddress.java&#58;1072)</font>
<font color='#7F7E6F'>&#62; at java.net.InetAddress.getAllByName(InetAddress.java&#58;1008)</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62; com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java&#58;243)</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.MysqlIO.&#60;init&#62;(MysqlIO.java&#58;280)</font>
<font color='#7F7E6F'>&#62; at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2177)</font>
<font color='#7F7E6F'>&#62; ... 13 more</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@24a118a5 --</font>
<font color='#7F7E6F'>&#62; Unexpectedly Broken!!!</font>
<font color='#7F7E6F'>&#62; While trying to acquire a needed new resource, we failed</font>
<font color='#7F7E6F'>&#62; to succeed more than the maximum number of allowed</font>
<font color='#7F7E6F'>&#62; acquisition attempts (30).</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- Unexpectedly</font>
<font color='#7F7E6F'>&#62; broken!!!</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.ResourcePoolException&#58; Unexpected Break</font>
<font color='#7F7E6F'>&#62; Stack Trace!</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool.unexpectedBreak(BasicResourcePool.java&#58;4
31)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool.access$100(BasicResourcePool.java&#58;35)</font>
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;98
5)
<font color='#7F7E6F'>&#62; at</font>
<font color='#7F7E6F'>&#62;</font>
com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchro
nousRunner.java&#58;148)
<font color='#7F7E6F'>&#62; com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- close()</font>
<font color='#7F7E6F'>&#62; called multiple times.</font>
<font color='#7F7E6F'>&#62;  -- by Kyle Gross at Fri Apr 29 12&#58;39&#58;39 UTC 2011</font>

-- by roy at Sun May 01 12&#58;13&#58;01 UTC 2011
</div><script type='text/javascript'>
        $('#show_1587034208').click(function() {
            $('#detail_1587034208').slideDown("normal");
            $('#show_1587034208').hide();
            $('#hide_1587034208').show();
        });
        $('#hide_1587034208').click(function() {
            $('#detail_1587034208').slideUp();
            $('#hide_1587034208').hide();
            $('#show_1587034208').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10312#1304080779'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-04-29T12:39:39+00:00">Apr 29, 2011 12:39 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1304080779">&nbsp;</a></div><pre>After looking, I can&#39;t find an answer to this.  I am adding VDT and John Hover to see if they might have anything to add.

HI,

We are trying to update our local GUMS server to include the most recent available list of OSG VOs.  To do this, I thought I would try (for the first time) to use the &#34;Merge Configuration&#34; feature of the GUMS web interface.  Up to now, we have made all changes manually and are a bit out of date.

I&#39;ve encountered two problems&#58;

1) on the page for &#34;Merge Configuration&#34; it presents me with a window that shows a pull-down menu that includes the line

Host to Group Mapping&#58; (Choices&#58; /DC=com/DC=example/OU=Services/CN=example.site.com or */?*.hpcc.ttu.edu are shown)   (in which all group to account mappings will be added)

I cannot seem to select the second entry (*/?*.hpcc.ttu.edu), which is the one that I think that I need - it just pops back up to the &#34;example.com&#34; entry.

2) If I proceed and put in the current location of the VO Package gums.template file as the Configuration URI&#58;

<a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template</a>

I get after a long delay the following error in the web interface&#58;
Merge configuration into current configuration, replacing user groups, account mappers, and group to account mappings with the same name.

Error merging configuration&#58; Database error&#58; Cannot open connection

The catalina.out for the tomcat server has lots of error messages, ending with the following.

Any help would be appreciated.

Thanks,
Alan

com.mysql.jdbc.exceptions.MySQLNonTransientConnectionException&#58; Could not create connection to database server. Attempted reconnect 3 times. Giving up.
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;980)
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;956)
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;926)

<div id='show_1090999724' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1090999724'>at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2253)
at com.mysql.jdbc.ConnectionImpl.&#60;init&#62;(ConnectionImpl.java&#58;718)
at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java&#58;298)
at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java&#58;282)
at java.sql.DriverManager.getConnection(DriverManager.java&#58;525)
at java.sql.DriverManager.getConnection(DriverManager.java&#58;140)
at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java&#58;66)
at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java&#58;76)
at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1.acquireResource(C3P0PooledConnectionPool.java&#58;66)
at com.mchange.v2.resourcepool.BasicResourcePool.assimilateResource(BasicResourcePool.java&#58;787)
at com.mchange.v2.resourcepool.BasicResourcePool.acquireUntil(BasicResourcePool.java&#58;548)
at com.mchange.v2.resourcepool.BasicResourcePool.access$000(BasicResourcePool.java&#58;35)
at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;972)
at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java&#58;148)
Caused by&#58; java.net.UnknownHostException&#58; @SERVER@
at java.net.InetAddress.getAllByName0(InetAddress.java&#58;1150)
at java.net.InetAddress.getAllByName(InetAddress.java&#58;1072)
at java.net.InetAddress.getAllByName(InetAddress.java&#58;1008)
at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java&#58;243)
at com.mysql.jdbc.MysqlIO.&#60;init&#62;(MysqlIO.java&#58;280)
at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2177)
... 13 more
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@24a118a5 -- Unexpectedly Broken!!!
While trying to acquire a needed new resource, we failed
to succeed more than the maximum number of allowed
acquisition attempts (30).
com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- Unexpectedly broken!!!
com.mchange.v2.resourcepool.ResourcePoolException&#58; Unexpected Break Stack Trace!
at com.mchange.v2.resourcepool.BasicResourcePool.unexpectedBreak(BasicResourcePool.java&#58;431)
at com.mchange.v2.resourcepool.BasicResourcePool.access$100(BasicResourcePool.java&#58;35)
at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;985)
at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java&#58;148)
com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- close() called multiple times.
</div><script type='text/javascript'>
        $('#show_1090999724').click(function() {
            $('#detail_1090999724').slideDown("normal");
            $('#show_1090999724').hide();
            $('#hide_1090999724').show();
        });
        $('#hide_1090999724').click(function() {
            $('#detail_1090999724').slideUp();
            $('#hide_1090999724').hide();
            $('#show_1090999724').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10312#1304009807'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-04-28T16:56:47+00:00">Apr 28, 2011 04:56 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1304009807">&nbsp;</a></div><pre>[by Alan Sill]

HI,

We are trying to update our local GUMS server to include the most recent available list of OSG VOs.  To do this, I thought I would try (for the first time) to use the &#34;Merge Configuration&#34; feature of the GUMS web interface.  Up to now, we have made all changes manually and are a bit out of date.

I&#39;ve encountered two problems&#58;

1) on the page for &#34;Merge Configuration&#34; it presents me with a window that shows a pull-down menu that includes the line

Host to Group Mapping&#58; (Choices&#58; /DC=com/DC=example/OU=Services/CN=example.site.com or */?*.hpcc.ttu.edu are shown)   (in which all group to account mappings will be added)

I cannot seem to select the second entry (*/?*.hpcc.ttu.edu), which is the one that I think that I need - it just pops back up to the &#34;example.com&#34; entry.

2) If I proceed and put in the current location of the VO Package gums.template file as the Configuration URI&#58;

<a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-package/gums.template</a>

I get after a long delay the following error in the web interface&#58;
Merge configuration into current configuration, replacing user groups, account mappers, and group to account mappings with the same name.

Error merging configuration&#58; Database error&#58; Cannot open connection

The catalina.out for the tomcat server has lots of error messages, ending with the following.

Any help would be appreciated.

Thanks,
Alan

com.mysql.jdbc.exceptions.MySQLNonTransientConnectionException&#58; Could not create connection to database server. Attempted reconnect 3 times. Giving up.
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;980)
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;956)
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java&#58;926)
at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2253)
<div id='show_1449245538' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1449245538'>at com.mysql.jdbc.ConnectionImpl.&#60;init&#62;(ConnectionImpl.java&#58;718)
at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java&#58;298)
at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java&#58;282)
at java.sql.DriverManager.getConnection(DriverManager.java&#58;525)
at java.sql.DriverManager.getConnection(DriverManager.java&#58;140)
at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java&#58;66)
at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java&#58;76)
at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1.acquireResource(C3P0PooledConnectionPool.java&#58;66)
at com.mchange.v2.resourcepool.BasicResourcePool.assimilateResource(BasicResourcePool.java&#58;787)
at com.mchange.v2.resourcepool.BasicResourcePool.acquireUntil(BasicResourcePool.java&#58;548)
at com.mchange.v2.resourcepool.BasicResourcePool.access$000(BasicResourcePool.java&#58;35)
at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;972)
at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java&#58;148)
Caused by&#58; java.net.UnknownHostException&#58; @SERVER@
at java.net.InetAddress.getAllByName0(InetAddress.java&#58;1150)
at java.net.InetAddress.getAllByName(InetAddress.java&#58;1072)
at java.net.InetAddress.getAllByName(InetAddress.java&#58;1008)
at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java&#58;243)
at com.mysql.jdbc.MysqlIO.&#60;init&#62;(MysqlIO.java&#58;280)
at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java&#58;2177)
... 13 more
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@24a118a5 -- Unexpectedly Broken!!!
While trying to acquire a needed new resource, we failed
to succeed more than the maximum number of allowed
acquisition attempts (30).
com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- Unexpectedly broken!!!
com.mchange.v2.resourcepool.ResourcePoolException&#58; Unexpected Break Stack Trace!
at com.mchange.v2.resourcepool.BasicResourcePool.unexpectedBreak(BasicResourcePool.java&#58;431)
at com.mchange.v2.resourcepool.BasicResourcePool.access$100(BasicResourcePool.java&#58;35)
at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java&#58;985)
at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java&#58;148)
com.mchange.v2.resourcepool.BasicResourcePool@17dbbc0c -- close() called multiple times.

</div><script type='text/javascript'>
        $('#show_1449245538').click(function() {
            $('#detail_1449245538').slideDown("normal");
            $('#show_1449245538').hide();
            $('#hide_1449245538').show();
        });
        $('#hide_1449245538').click(function() {
            $('#detail_1449245538').slideUp();
            $('#hide_1449245538').hide();
            $('#show_1449245538').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10312">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
