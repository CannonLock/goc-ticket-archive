<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[32197] Non Cancer jobs on Cancer Computer</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=32197" method="post">
<div class="page-header">
    <h3><span class="muted">32197</span> / Non Cancer jobs on Cancer Computer</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Rob Quick</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">CancerComputer_Miron_CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">SBGrid</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Rob Quick</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Community Support Center</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"><p><a target='_blank' href='32199'><b>32199</b> OSG_CA_CancerComputer - Glideins Going Held at Factory / Attempts to submit failed</a></p></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-03-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/32197", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/32197?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/32197?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Non%20Cancer%20jobs%20on%20Cancer%20Computer%20ISSUE%3D32197%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='32197#1488926912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-03-07T22:48:32+00:00">Mar 7, 2017 10:48 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1488926912">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.

Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='32197#1488386441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-03-01T16:40:41+00:00">Mar 1, 2017 04:40 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1488386441">&nbsp;</a></div><pre>Greetings all,

Any further updates or actions on this ticket? It appears that this has been resolved.

Thank you,</pre></div><div class='update_description'><i onclick="document.location='32197#1487368646'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-17T21:57:26+00:00">Feb 17, 2017 09:57 PM UTC</time><a class="anchor" name="1487368646">&nbsp;</a></div><pre>Put a whitelist in the START expression on your glideins&#58;

<a href='https&#58;//github.com/opensciencegrid/osg-flock/blob/master/gwms-frontend/frontend.xml#L22' target='_blank' rel='nofollow'>https&#58;//github.com/opensciencegrid/osg-flock/blob/master/gwms-frontend/frontend.xml#L22</a>

Let me know if you need more than that.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1487357827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-17T18:57:07+00:00">Feb 17, 2017 06:57 PM UTC</time><a class="anchor" name="1487357827">&nbsp;</a></div><pre>Hi Mick,

Basically, user jobs submitted to glideins sent to the CancerComputer [1] need to be filtered, only allowing cancer-related research through. I&#39;ll let Mats explain what he did with the OSG VO frontend configuration to do this easily.

Mats,

Can you provide Mick with the secret sauce for this filtering?

Marty Kandes
UCSD Glidein Factory Operations

[1]

<a href='http&#58;//www.cancercomputer.com' target='_blank' rel='nofollow'>http&#58;//www.cancercomputer.com</a>

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1487279149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-16T21:05:49+00:00">Feb 16, 2017 09:05 PM UTC</time><a class="anchor" name="1487279149">&nbsp;</a></div><pre>Hi Marty,

I&#39;m not familiar with CancerComputer. What do we need to do?

Thanks
--Mick

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Michael (Mick) Timony 888</pre></div><div class='update_description'><i onclick="document.location='32197#1487129944'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-15T03:39:04+00:00">Feb 15, 2017 03:39 AM UTC</time><a class="anchor" name="1487129944">&nbsp;</a></div><pre>SBGrid VO Frontend Admins,

Can you verify that you have  the proper job/project filtering in place for usage of the CancerComputer?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1487093910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-14T17:38:30+00:00">Feb 14, 2017 05:38 PM UTC</time><a class="anchor" name="1487093910">&nbsp;</a></div><pre>We have verified that the project filtering is working for the OSG VO. I would recommend reassigning this ticket to SBGrid and let them verify from their end.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1487090335'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-14T16:38:55+00:00">Feb 14, 2017 04:38 PM UTC</time><a class="anchor" name="1487090335">&nbsp;</a></div><pre>Hey all - so it seems there was an SBGrid job on February 7th that exited with a return value of 1; as that&#39;s the only job in recent history that hasn&#39;t been splinter, would checking it&#39;s logs make a good case to confirm everything is as expected in terms of constraint filtering?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486744602'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-10T16:36:42+00:00">Feb 10, 2017 04:36 PM UTC</time><a class="anchor" name="1486744602">&nbsp;</a></div><pre>Mats,

Does the automated RSV test glideins use the MIS VO? I&#39;m guessing that&#39;s the source of the MIS glideins.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1486676563'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-09T21:42:43+00:00">Feb 9, 2017 09:42 PM UTC</time><a class="anchor" name="1486676563">&nbsp;</a></div><pre>Ah, I was only talking about the OSG VO. mis is probably just test jobs as that is a special VO used by the operations center.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1486673388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-09T20:49:48+00:00">Feb 9, 2017 08:49 PM UTC</time><a class="anchor" name="1486673388">&nbsp;</a></div><pre>Hi Mats, there&#39;s a job submitted via the SBGrid user that&#39;s apparently approved for us, as well as one on &#39;mis&#39; which I believe also flows through the &#39;osg&#39; user, if this helps.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486672232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-09T20:30:32+00:00">Feb 9, 2017 08:30 PM UTC</time><a class="anchor" name="1486672232">&nbsp;</a></div><pre>Ian, currently the only project white listed for your machine is SPLINTER. We might have a few more cancer related projects, but I will have to do some digging, and asking the rest of the team, to find those projects. I will get back to you once I know more.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1486667803'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-09T19:16:43+00:00">Feb 9, 2017 07:16 PM UTC</time><a class="anchor" name="1486667803">&nbsp;</a></div><pre>The original ticket issue was regarding jobs being submitted to CC infra that didn&#39;t properly match the cancer-research-only specification; given that right now we are glut with SPLINTER jobs, would it make sense to leave this open until such time as some non-SPLINTER jobs can make it into the queue? Or has this been tested by manually holding back SPLINTER work frou our queue to see what else might make its way in?

I know the ticket was sidetracked a little, just don&#39;t want it to be closed without confirming the originating issue has been sorted &#58;)

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486661893'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-09T17:38:13+00:00">Feb 9, 2017 05:38 PM UTC</time><a class="anchor" name="1486661893">&nbsp;</a></div><pre>Ian,

I can confirm we&#39;re no longer seeing glideins go held due to the reverse DNS issue. Glidein performance looks quite good now. If you can confirm that you&#39;re no longer seeing any other problems on your end, then I think we&#39;re probably ready to close out this ticket.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1486507110'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-07T22:38:30+00:00">Feb 7, 2017 10:38 PM UTC</time><a class="anchor" name="1486507110">&nbsp;</a></div><pre>I believe so, at least any reverse-dns checks that I can accomplish (from various networks) show that it resolves properly.  Is the error still showing up in logs?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486506043'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-07T22:20:43+00:00">Feb 7, 2017 10:20 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1486506043">&nbsp;</a></div><pre>Hi Ian,

Were the recent changes made by your ISP successful in resolving the reverse DNS issue?

Thank you,</pre></div><div class='update_description'><i onclick="document.location='32197#1486144762'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-03T17:59:22+00:00">Feb 3, 2017 05:59 PM UTC</time><a class="anchor" name="1486144762">&nbsp;</a></div><pre>The root cause of the Reverse-DNS issue is now resolved -- it may take some time to propagate across various dns servers.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486136628'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-03T15:43:48+00:00">Feb 3, 2017 03:43 PM UTC</time><a class="anchor" name="1486136628">&nbsp;</a></div><pre>Ian,

At the moment, there are no longer any held glideins. So I would just leave your system up (i.e., not put it in downtime) and let the currently running glideins continue while you troubleshoot with the ISP.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1486136249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-03T15:37:29+00:00">Feb 3, 2017 03:37 PM UTC</time><a class="anchor" name="1486136249">&nbsp;</a></div><pre>So the reverse-dns issue is inconsistent but it&#39;s there.  I&#39;m working with our ISP to get this conflict resolved.  Should I put our facility in downtime until it is?  We are still receivingsome  jobs it looks like, as I&#39;ve got a full queue...

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486079290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-02T23:48:10+00:00">Feb 2, 2017 11:48 PM UTC</time><a class="anchor" name="1486079290">&nbsp;</a></div><pre>Yes, reverse-DNS seems to have gone away again from my end as well.  I&#39;ve put a request into our ISP to see what&#39;s up with that, hopefully it will be resolved shortly.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486078796'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-02T23:39:56+00:00">Feb 2, 2017 11:39 PM UTC</time><a class="anchor" name="1486078796">&nbsp;</a></div><pre>Ian, Mats,

I can confirm. I see 16 x 6-core glideins (96 cores) running that were submitted from the SDSC factory.

Ian,

Note, however, I also found many recently held glideins at the GOC and SDSC factories as well with hold reason [1] [2]. I&#39;ve attempted to removed these held glideins at the factories, but the newly spawned glideins return immediately with the same hold reason. I think this may be a reverse DNS lookup issue. Does that make sense?

Marty Kandes
UCSD Glidein Factory Operations

[1]

3417028.0   fesbgrid        2/2  21&#58;06 Error connecting to schedd osg.cancercomputer.com&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5008&#58;We are trying to connect to a daemon with certificate DN (/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=osg.cancercomputer.com), but the host name in the certificate does not match any DNS name associated with the host to which we are connecting (host name is &#39;162.253.252.130&#39;, IP is &#39;162.253.252.130&#39;, Condor connection address is &#39;&#60;162.253.252.130&#58;9619?addrs=162.253.252.130-9619&noUDP&sock=1842_e32a_3&#62;&#39;).  Check that DNS is correctly configured.  If the certificate is for a DNS alias, configure HOST_ALIAS in the daemon&#39;s configuration.  If you wish to use a daemon certificate that does not match the daemon&#39;s host name, make GSI_SKIP_HOST_CHECK_CERT_REGEX match the DN, or disable all host name checks by setting GSI_SKIP_HOST_CHECK=true or by defining GSI_DAEMON_NAME.&#92;n|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS

[2]

3417243.0   feosgflock      2/2  23&#58;20 Error sending files to schedd osg.cancercomputer.com&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5008&#58;We are trying to connect to a daemon with certificate DN (/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=osg.cancercomputer.com), but the host name in the certificate does not match any DNS name associated with the host to which we are connecting (host name is &#39;162.253.252.130&#39;, IP is &#39;162.253.252.130&#39;, Condor connection address is &#39;&#60;162.253.252.130&#58;9619?addrs=162.253.252.130-9619&noUDP&sock=1842_e32a_3&#62;&#39;).  Check that DNS is correctly configured.  If the certificate is for a DNS alias, configure HOST_ALIAS in the daemon&#39;s configuration.  If you wish to use a daemon certificate that does not match the daemon&#39;s host name, make GSI_SKIP_HOST_CHECK_CERT_REGEX match the DN, or disable all host name checks by setting GSI_SKIP_HOST_CHECK=true or by defining GSI_DAEMON_NAME.&#92;n|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1486062340'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-02T19:05:40+00:00">Feb 2, 2017 07:05 PM UTC</time><a class="anchor" name="1486062340">&nbsp;</a></div><pre>96 cores sounds right - some of the slots I see are metaslots.

The pilot job data will not update until the glidein jobs have finished.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1486060556'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-02T18:35:56+00:00">Feb 2, 2017 06:35 PM UTC</time><a class="anchor" name="1486060556">&nbsp;</a></div><pre>Hey Marty -- I&#39;ve got a full queue locally, yes.. 32 jobs running and another 76 idle and waiting for their turn.  All jobs were submitted or started about 1.5 days ago, and if memory serves I&#39;ve got a walltime of 72 hours so it&#39;ll be another 1.5 days of crunching before those jobs complete and the next batch begin.

Gracc results for Payload jobs summary are showing we seem to be on track as well, as per our usual ~2.1K/day wallhours spent on jobs, although the PilotJobsSummary does show nothing since the 31st which I guess is where the concern lies?  All jobs right now look to be SPLINTER.

Of note, we&#39;re providing 96 cores.  Does that track with what&#39;s known about the other facilities to make up ~110 (assuming that 110 is CPU cores and not something else, of course)?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1486058339'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-02T17:58:59+00:00">Feb 2, 2017 05:58 PM UTC</time><a class="anchor" name="1486058339">&nbsp;</a></div><pre>For what it is worth, OSG VO is seeing ~110 cores at the moment.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1486057427'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-02T17:43:47+00:00">Feb 2, 2017 05:43 PM UTC</time><a class="anchor" name="1486057427">&nbsp;</a></div><pre>Ian,

Do you see glideins pending in the local batch queue?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1485982014'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-01T20:46:54+00:00">Feb 1, 2017 08:46 PM UTC</time><a class="anchor" name="1485982014">&nbsp;</a></div><pre>It was until mid morning, yes, after which I cleared the downtime.  Is that 10&#58;58&#58;13 timestamp UTC by chance?  if so that aligns.  I cleared the downtime around 13&#58;00UTC (i think).

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1485975846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-01T19:04:06+00:00">Feb 1, 2017 07:04 PM UTC</time><a class="anchor" name="1485975846">&nbsp;</a></div><pre>I see in recent condor log activity that CE is down?

026 (4801242.000.000) 02/01 10&#58;58&#58;53 Detected Down Grid Resource
GridResource&#58; condor osg.cancercomputer.com osg.cancercomputer.com&#58;9619
...

Could you check if condor-ce service is up or anything in the condor logs there would tell what&#39;s wrong?

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32197#1485954900'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-02-01T13:15:00+00:00">Feb 1, 2017 01:15 PM UTC</time><a class="anchor" name="1485954900">&nbsp;</a></div><pre>OK we&#39;re back up; I expect there were probably some more failures that occurred overnight as everything settled, but the system is green and jobs look to be queueing and processing normally.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1485899538'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-31T21:52:18+00:00">Jan 31, 2017 09:52 PM UTC</time><a class="anchor" name="1485899538">&nbsp;</a></div><pre>Hi Marian -- I&#39;m actually in the process of shutting downthe whole cluster, as there&#39;s work on the power infrastructure scheduled to start in about an hour.  Once I&#39;m back online (less than 12h hopefully) I can certainly take a look and see what&#39;s going on, if anything is still looking out of the ordinary.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1485897215'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-31T21:13:35+00:00">Jan 31, 2017 09:13 PM UTC</time><a class="anchor" name="1485897215">&nbsp;</a></div><pre>Hi Ian,

checking back on the issue below - I know that Marty submitted few test jobs on Jan 18 and looking at job history seems like jobs were removed.

While checking job submission cycle from Factory to osg.cancercomputer.com I grepped through couple of submitted glideins and this was it happening with all&#58;

000 (4799617.000.000) 01/31 09&#58;54&#58;08 Job submitted from host&#58; &#60;169.228.38.36&#58;61138?addrs=169.228.38.36-61138&#62;
012 (4799617.000.000) 01/31 09&#58;55&#58;07 Job was held.
009 (4799617.000.000) 01/31 12&#58;27&#58;33 Job was aborted by the user.

This is going in circles, job gets held within a minute and then obviously removed by the system. We&#39;re not getting anything useful back in glidein logs that we can investigate further. Do you perhaps have any explanation of that or any hint if you check your side? From Factory submission side we have evidence that glidein won&#39;t make it to your schedd on first place&#58;

012 (4799617.000.000) 01/31 09&#58;55&#58;07 Job was held.
Error connecting to schedd osg.cancercomputer.com&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5008&#58;We are trying to connect to a daemon with certificate DN (/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=osg.cancercomputer.com), but the host name in the certificate does not match any DNS name associated with the host to which we are connecting (host name is &#39;162.253.252.130&#39;, IP is &#39;162.253.252.130&#39;, Condor connection address is &#39;&#60;162.253.252.130&#58;9619?addrs=162.253.252.130-9619&noUDP&sock=1817_e3ac_3&#62;&#39;).  Check that DNS is correctly configured.  If the certificate is for a DNS alias, configure HOST_ALIAS in the daemon&#39;s configuration.  If you wish to use a daemon certificate that does not match the daemon&#39;s host name, make GSI_SKIP_HOST_CHECK_CERT_REGEX match the DN, or disable all host name checks by setting GSI_SKIP_HOST_CHECK=true or by defining GSI_DAEMON_NAME.&#92;n|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS
Code 0 Subcode 0
...

Could you, please, have a look?

Thanks,
Marian
(gWMS Factory Ops)

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32197#1484268972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-13T00:56:12+00:00">Jan 13, 2017 12:56 AM UTC</time> by <b>ian@....</b><a class="anchor" name="1484268972">&nbsp;</a></div><pre>Thanks for the command lines!

So right now, I&#39;ve got the following output for the first command&#58;

# condor_ce_q -const
&#39;x509userproxysubject=?=&#34;/DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org&#34;&#39; -af&#58;h ClusterID Owner
JobStatus x509userproxysubject
ClusterID Owner  JobStatus x509userproxysubject

31869     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31870     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31871     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31872     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31873     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31874     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31875     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31876     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31877     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31878     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31879     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31880     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31881     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
<div id='show_1700802196' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1700802196'>Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31882     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31883     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31884     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31885     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31886     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31887     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31888     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31891     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31892     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31894     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31895     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31897     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
31898     sbgrid 1         /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org

None of these jobs are running yet, likely won&#39;t for another day or so
based on what I see in the queue above them.

In terms of running jobs, this might be of interest&#58;

# condor_ce_q -const &#39;JobStatus=?=2&#39; -af&#58;h ClusterID Owner JobStatus
x509userproxysubject
ClusterID Owner JobStatus x509userproxysubject

31733     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31734     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31735     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31736     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31737     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31738     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31739     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31740     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31741     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31742     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31743     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31744     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31745     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31746     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31747     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31748     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31749     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31750     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31751     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31752     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31753     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31754     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31755     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31756     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31757     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31758     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31759     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31760     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31761     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31762     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31763     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
31764     osg   2         /DC=com/DC=DigiCert-Grid/O=Open Science
Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu

Thanks,
Ian

On 12/01/17 05&#58;57 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1700802196').click(function() {
            $('#detail_1700802196').slideDown("normal");
            $('#show_1700802196').hide();
            $('#hide_1700802196').show();
        });
        $('#hide_1700802196').click(function() {
            $('#detail_1700802196').slideUp();
            $('#hide_1700802196').hide();
            $('#show_1700802196').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='32197#1484261856'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-12T22:57:36+00:00">Jan 12, 2017 10:57 PM UTC</time><a class="anchor" name="1484261856">&nbsp;</a></div><pre>Hi Ian,

maybe proxy information helps to locate &#39;sbgrid&#39; pilots created from the Factory towards you? [*]

On the HTCondor-CE side you can also track down to DN proxy subject I believe with something like this&#58;
$ condor_ce_q -const &#39;x509userproxysubject=?=&#34; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org&#34;&#39; -af&#58;h ClusterID Owner JobStatus x509userproxysubject

Could you give it a try if it shows anything? We&#39;d be interested in those which are in JobStatus=2 (running), so then you can also try to filter that out like&#58;
$ condor_ce_q -const &#39;JobStatus=?=2 && x509userproxysubject=?=&#34; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org&#34;&#39; -af&#58;h ClusterID Owner JobStatus x509userproxysubject

Hope that helps.

Thanks,
Marian
(gWMS Factory Ops)

[*]
subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org/CN=proxy
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
identity  &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
type      &#58; proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fesbgrid/glidein_gfactory_instance/credential_glidein-1-sbgrid-org_OSG_gWMSFrontend.main_607423
timeleft  &#58; 237&#58;57&#58;13
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO SBGrid extension information ===
VO        &#58; SBGrid
subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/glidein-1.sbgrid.org
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=hpc.sbgrid.org
attribute &#58; /SBGrid/Role=NULL/Capability=NULL
timeleft  &#58; 21&#58;57&#58;13
uri       &#58; hpc.sbgrid.org&#58;15002

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='32197#1484249429'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-12T19:30:29+00:00">Jan 12, 2017 07:30 PM UTC</time><a class="anchor" name="1484249429">&nbsp;</a></div><pre>All that I can tell at this point is that the &#39;osg&#39; user jobs currently running are running &#39;vina&#39;, which I believe has been common for SPLINTER jobs.  I can&#39;t find any info on the &#39;sbgrid&#39; user jobs that are in the queue, i think they may not  be staged yet.  CancerComputer is OK to potentially crunch other projects for a day or two until the logs propagate back.  Alternatively if you know how I can get job details out of what&#39;s queued in HTCondor_CE, I can send that to you in short order.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1484248731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-12T19:18:51+00:00">Jan 12, 2017 07:18 PM UTC</time><a class="anchor" name="1484248731">&nbsp;</a></div><pre>Ian, Mats,

I can confirm we see glideins have started running again at the site. However, can either of you confirm that they are landing they types of cancer-related user jobs you wanted? We don&#39;t have any glidein logs returned to the factory yet.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1484178663'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-11T23:51:03+00:00">Jan 11, 2017 11:51 PM UTC</time><a class="anchor" name="1484178663">&nbsp;</a></div><pre>Ian,

We had put your site in downtime on the factory, which blocked glidein submission, until the fix was in place.  I&#39;ve removed the downtime. You should begin to see glideins land again soon. We&#39;ll check back on this tomorrow to make sure everything is working correctly before closing out this ticket.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1484154903'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-11T17:15:03+00:00">Jan 11, 2017 05:15 PM UTC</time><a class="anchor" name="1484154903">&nbsp;</a></div><pre>Thanks everyone!  With the workaround in place this means jobs will begin to flow again?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1484148690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-11T15:31:30+00:00">Jan 11, 2017 03:31 PM UTC</time><a class="anchor" name="1484148690">&nbsp;</a></div><pre>We tracked the issue to a change in GlideinWMS&#58;

<a href='https&#58;//cdcvs.fnal.gov/redmine/issues/14952' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/issues/14952</a>

A work around is in place, so I think this ticket can be closed.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1483656919'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-05T22:55:19+00:00">Jan 5, 2017 10:55 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1483656919">&nbsp;</a></div><pre>Vince,

Mats will be back on Monday and will look into this then.

Rob</pre></div><div class='update_description'><i onclick="document.location='32197#1483569411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T22:36:51+00:00">Jan 4, 2017 10:36 PM UTC</time><a class="anchor" name="1483569411">&nbsp;</a></div><pre>Vince,

I think this is still a work in progress. Added Factory Ops in cc though so we can stay up-to-date.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='32197#1483568389'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-01-04T22:19:49+00:00">Jan 4, 2017 10:19 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1483568389">&nbsp;</a></div><pre>Hi all,

Checking back in on where we stand on a long term fix for this.  Please let me know if I can assist.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='32197#1482955852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-28T20:10:52+00:00">Dec 28, 2016 08:10 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482955852">&nbsp;</a></div><pre>Thanks for the quick action Jeff!</pre></div><div class='update_description'><i onclick="document.location='32197#1482955825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-28T20:10:25+00:00">Dec 28, 2016 08:10 PM UTC</time><a class="anchor" name="1482955825">&nbsp;</a></div><pre>I just put the entries in downtime and cleared all pilots from the queues.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32197#1482955552'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-28T20:05:52+00:00">Dec 28, 2016 08:05 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482955552">&nbsp;</a></div><pre>Let&#39;s do this until we can get Mats&#39; input. We need to do everything we can do honor our agreement to send Cancer Computer only cancer related work.

Rob</pre></div><div class='update_description'><i onclick="document.location='32197#1482950647'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-28T18:44:07+00:00">Dec 28, 2016 06:44 PM UTC</time><a class="anchor" name="1482950647">&nbsp;</a></div><pre>I have no control over the start expr from my end, that will have to be debugged from Mats&#39;s side.

But if he doesn&#39;t reply soon today I can temporarily disable all submission to CancerComputer from the factory end if needed.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32197#1482938131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-28T15:15:31+00:00">Dec 28, 2016 03:15 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482938131">&nbsp;</a></div><pre>One note, I know SPLINTER work dried up on Monday as a run fully completed.

See the 7-day graph at&#58; <a href='http&#58;//csiu.grid.iu.edu/osg-flock-remote/condor-stats/' target='_blank' rel='nofollow'>http&#58;//csiu.grid.iu.edu/osg-flock-remote/condor-stats/</a>

Is this START expression currently being interpreted as &#34;start only SPLINTER jobs if they are any in the queue, but if there are none running start other jobs&#34;??</pre></div><div class='update_description'><i onclick="document.location='32197#1482937936'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-28T15:12:16+00:00">Dec 28, 2016 03:12 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482937936">&nbsp;</a></div><pre>It looks like SPLINTER was the only thing running on the 24-26, but then sometime on the 26th other jobs started creeping in.

<a href='https&#58;//gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?var-VOName=All&var-Project=All&var-Facility=CancerComputer_Miron_CE&var-User=All&var-ExitCode=All&var-Probe=All&var-interval=1d' target='_blank' rel='nofollow'>https&#58;//gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?var-VOName=All&var-Project=All&var-Facility=CancerComputer_Miron_CE&var-User=All&var-ExitCode=All&var-Probe=All&var-interval=1d</a>

Mats and Jeff,

Please look into why this fix seems to have only worked temporarily. We should also turn off job submission to CancerComputer until we can assure them a permanent solution.

Rob</pre></div><div class='update_description'><i onclick="document.location='32197#1482881410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-27T23:30:10+00:00">Dec 27, 2016 11:30 PM UTC</time> by <b>ian@....</b><a class="anchor" name="1482881410">&nbsp;</a></div><pre>..or for that matter, any non-Medical-Science jobs?  we seem to have
been crunching both physics and engineering jobs within the last 24h...

Rob, are there any specific keywords you can think of that I might
find in the glidein logs or job submissions that I could easily grep
for, such that any job -not- containing those I can just condor_ce_rm
from my side?

On 27/12/16 11&#58;17 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32197#1482855462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-27T16:17:42+00:00">Dec 27, 2016 04:17 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482855462">&nbsp;</a></div><pre>Mats,

Can you think of a way we can actively monitor GlideIns to be sure there are no non-Cancer jobs getting to this resource? I found this by browsing accounting records, I&#39;d like to have a more active alert. Until we&#39;ve found something automated I will review activity daily.

Rob</pre></div><div class='update_description'><i onclick="document.location='32197#1482642190'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-25T05:03:10+00:00">Dec 25, 2016 05:03 AM UTC</time> by <b>ian@....</b><a class="anchor" name="1482642190">&nbsp;</a></div><pre>I ended up clearing all queued jobs on the 23rd, and gracc reports so far all jobs since then have been SPLINTER, so I think we are good to go with this temporary fix.

Thanks, and happy holidays!!
Ian

<font color='#7F7E6F'>&#62; On Dec 24, 2016, at 11&#58;49 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32197#1482605109'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T18:45:09+00:00">Dec 24, 2016 06:45 PM UTC</time> by <b>CCSUP</b><a class="anchor" name="1482605109">&nbsp;</a></div><pre>Hi,

Our mandate is to run, cancer, or cancer-related work only.

It was my understanding that some work was done by OSG to ensure workloads
from the SBG VO and a custom VO created for us. It would be our preference
to continue in this manner.

On Sat, Dec 24, 2016 at 11&#58;49 AM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='32197#1482598186'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T16:49:46+00:00">Dec 24, 2016 04:49 PM UTC</time><a class="anchor" name="1482598186">&nbsp;</a></div><pre>I have applied a temporary fix for this, but the fix will only be applied to new glideins. You can either wait it out for the existing glideins to cycle out, or you can remove all jobs (running and idle) and the new ones should have the fix.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1482586241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T13:30:41+00:00">Dec 24, 2016 01:30 PM UTC</time><a class="anchor" name="1482586241">&nbsp;</a></div><pre>I&#39;ll defer to Roy on the official decision, that&#39;s more his wheelhouse than mine.

I looked into the possibility of actively scraping and triggering condor_ce_rm on jobs that don&#39;t match a whitelist, but this looks like implementing this would take too long for the time I have available right now.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1482556423'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T05:13:43+00:00">Dec 24, 2016 05:13 AM UTC</time><a class="anchor" name="1482556423">&nbsp;</a></div><pre>I see the glideins, and the problem is related to the START expression. Part of it is missing in our glideins, and I&#39;m trying to figure out if it a bug in glideinwms or in our config. I will update this ticket when I know more, but with holidays I suspect it could take some time. Ian - do you want us to stop sending jobs? Until this is resolved you would get a mix of projects, many non-cancer related.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1482550669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T03:37:49+00:00">Dec 24, 2016 03:37 AM UTC</time><a class="anchor" name="1482550669">&nbsp;</a></div><pre>It looks like HTCondor-CE put a hold on nearly all of the jobs in the queue during our last round of updates/reboots, which is likely why we were showing as busy/unavailable.  I&#39;ve just released them all, and jobs seem to be starting up now.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1482549594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-24T03:19:54+00:00">Dec 24, 2016 03:19 AM UTC</time><a class="anchor" name="1482549594">&nbsp;</a></div><pre>Hi Rob -- thanks for the heads up.  So we have done some maintenance but nothing that aligns particularly well with this timeline (much of this was second/third week of December) . Also, the maintenance has been fairly minor -- system upgrades, essentially, which did require a reboot due to kernel replacement.  I *did* have a corrupt PBS server database that i had to regenerate, but that should not have affected anything related to HTCondor-CE and therefore (so far as I know) the glidein jobs should have been fine as well.

Half-baked theory, which i highly doubt is possible, but&#58; is it possible that the glidein job ids originally provisioned for splinter were recycled for other jobs, and for some reason my partial reset of PBS may have somehow pulled down the new non-splinter jobs with the re-used job-ids?  That&#39;s pretty much the only thing I can think of at this point as even a remote possibility.

I haven&#39;t done any log purging since we went online in the summer, so if there&#39;s anything I can mine to help with this please let me know.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Ian Stakenvicius 3890</pre></div><div class='update_description'><i onclick="document.location='32197#1482520803'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T19:20:03+00:00">Dec 23, 2016 07:20 PM UTC</time><a class="anchor" name="1482520803">&nbsp;</a></div><pre>Hi all,

The match expression Mats cites only refers to what we set explicitly in the factory&#58;
GLIDEIN_Site CancerComputer

I don&#39;t think any name change on the site site will influence this, factory operators set it by hand, and this has never changed from our end.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='32197#1482516617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T18:10:17+00:00">Dec 23, 2016 06:10 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482516617">&nbsp;</a></div><pre>Adding Roy and Ian.

Mats suspects that there was a name change at CancerComputer that is causing this issue. Did you make any adjustments to the resource name around the beginning of the month?

We are also not running currently so debugging is difficult, are you doing maintenance over the holiday break? Or do you have a heavy load that might be getting priority at the moment?

Thanks!
Rob</pre></div><div class='update_description'><i onclick="document.location='32197#1482512912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T17:08:32+00:00">Dec 23, 2016 05:08 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1482512912">&nbsp;</a></div><pre>Adding the CancerComputer Resource to this ticket. It looks like they may be either heavily loaded with local work or on a holiday maintenance, as we are currently not getting any glideins.</pre></div><div class='update_description'><i onclick="document.location='32197#1482509767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T16:16:07+00:00">Dec 23, 2016 04:16 PM UTC</time><a class="anchor" name="1482509767">&nbsp;</a></div><pre>I suspect our START expression is to blame. See&#58;

<a href='https&#58;//github.com/opensciencegrid/osg-flock/blob/master/gwms-frontend/frontend.xml#L22' target='_blank' rel='nofollow'>https&#58;//github.com/opensciencegrid/osg-flock/blob/master/gwms-frontend/frontend.xml#L22</a>

For example, if the site name has changed, we would not catch the projects with that expression. We are currently not getting any glideins from the site, so we are unable to debug at the moment.

/Mats

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='32197#1482507116'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T15:31:56+00:00">Dec 23, 2016 03:31 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1482507116">&nbsp;</a></div><pre>Added Jeff Dost to this ticket.</pre></div><div class='update_description'><i onclick="document.location='32197#1482507046'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-23T15:30:46+00:00">Dec 23, 2016 03:30 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1482507046">&nbsp;</a></div><pre>Rob,

I did not say OSG Connect was sending jobs to Cancer Computer. I said OSG-Connect jobs were getting routed to Cancer Computer and should not. Mats and Jeff (who I will cc) sat this up and open a GOC ticket. I assumed with Mats being part of OSG User Support, his backup during the holidays might be in the User Support group and could help shed some light.

We do and have routed jobs by ProjectName and VO (though I’m not sure we ever had SBGrid working on this resource), that is how we were able to say to Cancer Computer we would only send them work within their mission.

I will open a GOC ticket, since site support does not fall under the User Support umbrella.

Rob

From&#58; Rob Gardner &#60;rwg@....&#62;
Date&#58; Thursday, December 22, 2016 at 4&#58;58 PM
To&#58; &#34;Quick, Robert E&#34; &#60;rquick@....&#62;
Cc&#58; Mats Rynge &#60;rynge@....&#62;, &#34;user-support@....&#34; &#60;user-support@....&#62;
Subject&#58; Re&#58; OSG-Connect on Cancer Computer

OSG Connect does not send jobs directly to sites.  They go through GlideinWMS, and the OSG VO.  Not sure that we’ve ever controlled job routing by ProjectName?

On Dec 22, 2016, at 3&#58;55 PM, Quick, Robert E &#60;rquick@....&#62; wrote&#58;

Mats and Rob,

I was scanning GRACC while preparing an invite for Roy Chartier at Cancer Computer and came across this accounting it looks like non-cancer projects from OSG-Connect jobs are being routed to Cancer Computer.

<a href='https&#58;//gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?var-VOName=All&var-Project=All&var-Facility=CancerComputer_Miron_CE&var-User=All&var-ExitCode=All&var-Probe=All&var-interval=1d' target='_blank' rel='nofollow'>https&#58;//gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?var-VOName=All&var-Project=All&var-Facility=CancerComputer_Miron_CE&var-User=All&var-ExitCode=All&var-Probe=All&var-interval=1d</a>

I see entries for Duke-QCP, SourceCoding, ConnectTrain and others. I know these are not ‘cancer’ jobs. I thought we had a mechanism for sending only SBGrid and SPLINTER jobs to them.

I need to let Roy know about this, but would like to figure out where the issue was introduced first. Or maybe it’s a GRACC bug (I really hope this is the case). Please let me know if you have any insight!

Thanks!
Rob</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F32197">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 32197});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
