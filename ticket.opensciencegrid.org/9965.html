<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9965] Wrong value for GlueSubClusterLogicalCPUs</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9965" method="post">
<div class="page-header">
    <h3><span class="muted">9965</span> / Wrong value for GlueSubClusterLogicalCPUs</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">flavia </div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">flavia</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for updates</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-02-22</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">GIP Support <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=67416">67416</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9965", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9965#1300119894'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-14T16:24:54+00:00">Mar 14, 2011 04:24 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1300119894">&nbsp;</a></div><pre>My biggest apologies. Wrong math on my side.

Flavia
-- by Flavia Donno at Mon Mar 14 16&#58;23&#58;37 UTC 2011</pre></div><div class='update_description'><i onclick="document.location='9965#1300116909'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-14T15:35:09+00:00">Mar 14, 2011 03:35 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1300116909">&nbsp;</a></div><pre>Hi Brian--yes I realized after I sent the message that the GIP is
doing the math internally now.  but that leaves the question open
why Flavia thought that FNAL_GPGRID_1 and FNAL_FERMIGRID were bad
in the first place.  the counts on both of those sides
do indeed show GlueSubclusterLogicalCPUs=Node count * Logical CPU&#39;s per
node.

Is there a threshhold for small clusters?  On both of those
clusters I declare a one-node subcluster which is the gatekeeper itself.

Steve Timm

On Mon, 14 Mar 2011, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9965#1300116370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-14T15:26:10+00:00">Mar 14, 2011 03:26 PM UTC</time> by <b>bbockelm</b><a class="anchor" name="1300116370">&nbsp;</a></div><pre>Hi Steve,

Where do you see the incorrect documentation?  I just looked at the latest config.ini I could find, and this is the relevant text&#58;

; number of homogeneous nodes in the subcluster
node_count = NUMBER_OF_NODE

; Number of CPUs (physical chips) per node
cpus_per_node = #_PHYSICAL_CHIPS_PER_NODE
; Number of cores per node.
cores_per_node = #_CORES_PER_NODE
; For a dual-socket quad-core, you would put cpus_per_node=2 and
; cores_per_node=8

That appears to be correct.  Internally, the GIP will convert these numbers to the totals in the GLUE.

Brian</pre></div><div class='update_description'><i onclick="document.location='9965#1300115826'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-14T15:17:06+00:00">Mar 14, 2011 03:17 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1300115826">&nbsp;</a></div><pre>This is Steve Timm, site admin of FNAL_FERMIGRID and FNAL_GPGRID_1.
I happened to see this ticket because I am also on the osg-gip list.
I was not aware that either of our sites are included in the WLCG
Installed capacity.  Although we report to the interoperability BDII
we are not signatory to the WLCG MOU.

It appears that for GlueSubClusterPhysicalCPUs and GlueClusterLogicalCPUs
you now  want the total number of cpu&#39;s per subcluster and not the number
per node. I was not aware that this recommendation had changed.  Earlier
OSG documentation had recommended a per-node setting, and the
documentation of osg&#39;s config.ini still specifies that, even
though the GIP documentation in the OSG Twiki is now in compliance
with the WLCG recommendations in this ticket.

I will try to get FNAL_GPGRID_1 changed as soon as possible.
FNAL_FERMIGRID may be a bit more tricky as it is a customized
site that doesn&#39;t run a standard GIP but we will try to get
that done too.

Steve Timm

On Mon, 14 Mar 2011, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9965#1300114450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-14T14:54:10+00:00">Mar 14, 2011 02:54 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1300114450">&nbsp;</a></div><pre>Hi GOC,

Can you direct this to the corresponding support centers for FNAL_FERMIGRID and MMWT2_IU?  We can help them set the proper config option in their config.ini if appropriate.</pre></div><div class='update_description'><i onclick="document.location='9965#1300092414'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-03-14T08:46:54+00:00">Mar 14, 2011 08:46 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1300092414">&nbsp;</a></div><pre>Dear support,

What is the current status of this ticket?
Could you please update it accordingly?

Thank you.

Guenter
TPM
-- by Günter Grein at Mon Mar 14 08&#58;45&#58;55 UTC 2011</pre></div><div class='update_description'><i onclick="document.location='9965#1297761455'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T09:17:35+00:00">Feb 15, 2011 09:17 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1297761455">&nbsp;</a></div><pre>The following sites seems to publish a wrong number for GlueSubClusterLogicalCPUs. Could you please fix the value published according to the instructions on page 5 of&#58;
<a href='https&#58;//twiki.cern.ch/twiki/pub/LCG/WLCGCommonComputingReadinessChallenges/WLCG_GlueSchemaUsage-1.8.pdf' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/pub/LCG/WLCGCommonComputingReadinessChallenges/WLCG_GlueSchemaUsage-1.8.pdf</a>

Please, for OSG sites notify only the ROC.

Thanks.

Flavia

AEGIS01-IPB-SCL
AU-PPS
BG01-IPP
BG06-GPHI
BUDAPEST
CA-SCINET-T2
CA-VICTORIA-WESTGRID-T2
CERN-PROD
CNR-ILC-PISA
cpDIASie
CSCS-LCG2
CYFRONET-LCG2
DESY-HH
FNAL_FERMIGRID
FNAL_GPGRID_1
FZJ
FZK-LCG2
giNUIMie
GRISU-CYBERSAR-CAGLIARI
GRISU-ENEA-GRID
HG-02-IASA
HG-04-CTI-CEID
HG-05-FORTH
HG-06-EKT
HK-HKU-CC-01
IFJ-PAN-BG
<div id='show_2139805084' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2139805084'>IMCSUL
IN2P3-CC
IN2P3-CC-T2
IN2P3-LPC
INFN-BARI
INFN-BOLOGNA
INFN-CAGLIARI
INFN-CNAF
INFN-CNAF-LHCB
INFN-FRASCATI
INFN-LNL-2
INFN-MILANO-ATLASC
INFN-PADOVA
INFN-PISA
INFN-ROMA1
INFN-ROMA1-CMS
INFN-T1
INFN-TRIESTE
ITEP
ITPA-LCG2
JINR-LCG2
JP-HIROSHIMA-WLCG
LIP-Coimbra
LIP-Lisbon
mpUCDie
MWT2_IU
NCG-INGRID-PT
NIHAM
NIKHEF-ELPROD
prague_cesnet_lcg2
praguelcg2
PSNC
RAL-LCG2
ru-Moscow-GCRAS-LCG2
ru-Moscow-SINP-LCG2
ru-PNPI
RU-Protvino-IHEP
RU-SPbSU
Ru-Troitsk-INR-LCG2
SARA-MATRIX
SCAI
SFU-LCG2
SiGNET
SWITCH
SZTAKI
Taiwan-LCG2
TH-HAII
TW-FTT
TW-NCUHEP
TW-NTCU-HPC-01
UB-LCG2
UKI-LT2-Brunel
UKI-LT2-UCL-HEP
UKI-NORTHGRID-LIV-HEP
UKI-SCOTGRID-DURHAM
UKI-SCOTGRID-ECDF
UKI-SCOTGRID-GLASGOW
UKI-SOUTHGRID-BHAM-HEP
UKI-SOUTHGRID-RALPP
ULA-MERIDA
UNI-FREIBURG
UOGRID
WCSS-PPS

[Ticket Origin]
<a href='https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=67416' target='_blank' rel='nofollow'>https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=67416</a>

[Ticket History]

-- by Marco Bencivenni at Tue Feb 15 09&#58;04&#58;53 UTC 2011
</div><script type='text/javascript'>
        $('#show_2139805084').click(function() {
            $('#detail_2139805084').slideDown("normal");
            $('#show_2139805084').hide();
            $('#hide_2139805084').show();
        });
        $('#hide_2139805084').click(function() {
            $('#detail_2139805084').slideUp();
            $('#hide_2139805084').hide();
            $('#show_2139805084').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9965">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
