<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[6896] Problems with CEMon after update to 1.0.1</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6896" method="post">
<div class="page-header">
    <h3><span class="muted">6896</span> / Problems with CEMon after update to 1.0.1</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Peter Doherty</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-06-05</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">ReSS <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">SBGrid <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/6896", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6896#1244233398'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-05T20:23:18+00:00">Jun 5, 2009 08:23 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1244233398">&nbsp;</a></div><pre>Resolving</pre></div><div class='update_description'><i onclick="document.location='6896#1244142487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-04T19:08:07+00:00">Jun 4, 2009 07:08 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1244142487">&nbsp;</a></div><pre>I will close this tomorrow if I don&#39;t hear anything more.</pre></div><div class='update_description'><i onclick="document.location='6896#1244048112'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T16:55:12+00:00">Jun 3, 2009 04:55 PM UTC</time> by <b>Anthony Tiradani</b><a class="anchor" name="1244048112">&nbsp;</a></div><pre>Hi Parag, Peter,

I believe that SBGrid is reporting correctly now.  I have taken the
issues listed by Parag and put them in the GIP bug tracker.
(<a href='http&#58;//t2.unl.edu&#58;8094/ticket/27' target='_blank' rel='nofollow'>http&#58;//t2.unl.edu&#58;8094/ticket/27</a>)

To avoid these problems in the near future (until we fix things) please
make note of the following&#58;

1) Make sure that configure-osg.py has been run.  This will set the
correct permissions on the directories.

2) For GIP debugging purposes, run $VDT_LOCATION/gip/bin/gip_info
instead of osg-info-wrapper or any other method.  gip_info cleans up the
files in $VDT_LOCATION/gip/var/tmp so there will be no permissions
conflicts.  You may need to delete or move the log files in
$VDT_LOCATION/gip/var/logs.

I think this sums up the ticket.  Are there any outstanding issues or
can we close this ticket?

Thanks,

Anthony Tiradani
tiradani@....
+1 630 840 4479

Parag Mhashilkar wrote&#58;
<font color='#7F7E6F'>&#62; Hi Burt,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Regarding CEMon crashing on any info in stderr, you can find more info</font>
<font color='#7F7E6F'>&#62; on <a href='https&#58;//savannah.cern.ch/bugs/?45837' target='_blank' rel='nofollow'>https&#58;//savannah.cern.ch/bugs/?45837</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Looks like this was never tried out on new cemon(?). If so can the GIP</font>
<font color='#7F7E6F'>&#62; team try this out and if you can reproduce the issue I can open another</font>
<div id='show_1486027408' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1486027408'><font color='#7F7E6F'>&#62; ticket with cemon developers to get this resolved. If the bug still</font>
<font color='#7F7E6F'>&#62; exists can the error be atleast directed to some file rather</font>
<font color='#7F7E6F'>&#62; than /dev/null?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -</font>
<font color='#7F7E6F'>&#62; Thanks & Regards</font>
<font color='#7F7E6F'>&#62; =============================================================</font>
<font color='#7F7E6F'>&#62; Parag Mhashilkar</font>
<font color='#7F7E6F'>&#62; Fermi National Accelerator Laboratory, MS 120</font>
<font color='#7F7E6F'>&#62; Wilson & Kirk Road, Batavia, IL - 60510.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Location&#58; Wilson Hall, WH863</font>
<font color='#7F7E6F'>&#62; Phone&#58; +1 (630) 840-6530</font>
<font color='#7F7E6F'>&#62; Fax&#58; +1 (630) 840-2783</font>
<font color='#7F7E6F'>&#62; Email&#58; parag@....</font>
<font color='#7F7E6F'>&#62; =============================================================</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Wed, 2009-06-03 at 09&#58;17 -0500, Burt Holzman wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Parag,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks.  We&#39;ll look into it.  I do know that permisisons on</font>
<font color='#7F7E6F'>&#62;&#62; $GIP_LOCATION/var/{tmp,logs} are set correctly on fresh install, so this</font>
<font color='#7F7E6F'>&#62;&#62; indicates something is different about the upgrade process.  What</font>
<font color='#7F7E6F'>&#62;&#62; version was osg-east upgraded from and can we get a copy of the</font>
<font color='#7F7E6F'>&#62;&#62; vdt-install.log?</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; There is a long-standing issue with CEMon -- it crashes if data is</font>
<font color='#7F7E6F'>&#62;&#62; present in stderr.  This is the rationale for the osg-info-wrapper</font>
<font color='#7F7E6F'>&#62;&#62; redirect to /dev/null.  Additionally We&#39;ll do a better job of doing</font>
<font color='#7F7E6F'>&#62;&#62; exception handling and review what we are doing with logfiles.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; - B</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1486027408').click(function() {
            $('#detail_1486027408').slideDown("normal");
            $('#show_1486027408').hide();
            $('#hide_1486027408').show();
        });
        $('#hide_1486027408').click(function() {
            $('#detail_1486027408').slideUp();
            $('#hide_1486027408').hide();
            $('#show_1486027408').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1244041633'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T15:07:13+00:00">Jun 3, 2009 03:07 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1244041633">&nbsp;</a></div><pre>Hi,

This system had a clean install done in late April (the 15th I think)
with VDT 1.10.1u
Then on March 12 I used the vdt-upddator to update to 1.10.1v

I&#39;ve made the vdt-install and vdt-update logs available on public
webspace.

<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/vdt-install.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/vdt-install.log</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/vdt-update.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/vdt-update.log</a>

--Peter

On Jun 3, 2009, at 10&#58;28 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1244040912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T14:55:12+00:00">Jun 3, 2009 02:55 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1244040912">&nbsp;</a></div><pre>Hi Burt,

Regarding CEMon crashing on any info in stderr, you can find more info
on <a href='https&#58;//savannah.cern.ch/bugs/?45837' target='_blank' rel='nofollow'>https&#58;//savannah.cern.ch/bugs/?45837</a>

Looks like this was never tried out on new cemon(?). If so can the GIP
team try this out and if you can reproduce the issue I can open another
ticket with cemon developers to get this resolved. If the bug still
exists can the error be atleast directed to some file rather
than /dev/null?

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Wed, 2009-06-03 at 09&#58;17 -0500, Burt Holzman wrote&#58;
<font color='#7F7E6F'>&#62; Parag,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks.  We&#39;ll look into it.  I do know that permisisons on</font>
<font color='#7F7E6F'>&#62; $GIP_LOCATION/var/{tmp,logs} are set correctly on fresh install, so this</font>
<font color='#7F7E6F'>&#62; indicates something is different about the upgrade process.  What</font>
<font color='#7F7E6F'>&#62; version was osg-east upgraded from and can we get a copy of the</font>
<font color='#7F7E6F'>&#62; vdt-install.log?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; There is a long-standing issue with CEMon -- it crashes if data is</font>
<font color='#7F7E6F'>&#62; present in stderr.  This is the rationale for the osg-info-wrapper</font>
<div id='show_2033349453' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2033349453'><font color='#7F7E6F'>&#62; redirect to /dev/null.  Additionally We&#39;ll do a better job of doing</font>
<font color='#7F7E6F'>&#62; exception handling and review what we are doing with logfiles.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; - B</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2033349453').click(function() {
            $('#detail_2033349453').slideDown("normal");
            $('#show_2033349453').hide();
            $('#hide_2033349453').show();
        });
        $('#hide_2033349453').click(function() {
            $('#detail_2033349453').slideUp();
            $('#hide_2033349453').hide();
            $('#show_2033349453').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1244039291'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T14:28:11+00:00">Jun 3, 2009 02:28 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1244039291">&nbsp;</a></div><pre>Parag,

Thanks.  We&#39;ll look into it.  I do know that permisisons on
$GIP_LOCATION/var/{tmp,logs} are set correctly on fresh install, so this
indicates something is different about the upgrade process.  What
version was osg-east upgraded from and can we get a copy of the
vdt-install.log?

There is a long-standing issue with CEMon -- it crashes if data is
present in stderr.  This is the rationale for the osg-info-wrapper
redirect to /dev/null.  Additionally We&#39;ll do a better job of doing
exception handling and review what we are doing with logfiles.

- B

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1244036951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T13:49:11+00:00">Jun 3, 2009 01:49 PM UTC</time> by <b>VDT</b><a class="anchor" name="1244036951">&nbsp;</a></div><pre>Greetings from the VDT support system!

This message was generated automatically in response to the creation of a
ticket regarding&#58;

[vdt-support #-1] Open Science Grid&#58; Problems with CEMon after update to 1.0.1 ISSUE=6896 PROJ=71

Your original request is copied below for reference.

There is no need to reply to this message right now -- someone from the VDT
team will respond to you as soon as possible.  If you wish to view your
support ticket online, visit&#58;

<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5425' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5425</a>

Your ticket has been assigned an ID as follows&#58;

[vdt-support #5425]

Please include the ticket ID in the subject line of all future email about
this issue.  To do so, you may reply to this message.

Thank you for your interest in the VDT.

vdt-support@....

-------------------------------------------------------------------------
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6896#1244036711'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T13:45:11+00:00">Jun 3, 2009 01:45 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1244036711">&nbsp;</a></div><pre>Assigning the VDT and Burt and Tony from GIP. It looks like the permission and log errors that Parag mention need to be taken care of from at the VDT level, or the GIP level then to VDT. Either way, these issues will need to be addressed in the GIP package.</pre></div><div class='update_description'><i onclick="document.location='6896#1243971972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-02T19:46:12+00:00">Jun 2, 2009 07:46 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243971972">&nbsp;</a></div><pre>Hi,

GOC, please direct this issue GIP and appropriate group.

Peter and I had a debugging session today and we might have identified
the real source of the problem and it is not ress/cemon so far.

There are in fact three issues here -

1) Permissions on files in $GIP_LOCATION/var/logs/* and
$GIP_LOCATION/var/tmp&#58; Both these directories and its contents should be
owned by daemon or atleast write accessible by daemon. Tomcat runs as
daemon and if any of the files in these dir are created by root or
non-writable by daemon, osg-info-wrapper fails. This is not cemon issue.
GIP and/or OSG deployment team needs to figure out how to best resolve
this issue.

2) osg-info-wrapper redirects the error message to /dev/null. This is
really really bad. These error messages were crucial in identifying the
real source of the problem. Can the gip team change this to redirect the
error messages to a file? Maybe same as gip logs. Where ever this is
redirected, the crucial information should not be lost. Again this is
not cemon issue.

3) This is kind of similar to 1. In case of this site, permissions on
$GIP_LOCATION/var/logs/module.logs were not letting daemon to open the
file in append mode resulting in osg-info-wrapper exiting with non zero
code. This all would have been ok, but after fixing the permissions and
running the wrapper, gip did not write anything to the file. Probably, a
better alternative would have been to access the file only if you wanted
to write to it. But it is upto GIP group to decide about this.

I have attached the snapshot of error messages that were originally
redirected to /dev/null.

<div id='show_1939691996' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1939691996'>-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Mon, 2009-06-01 at 14&#58;49 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1939691996').click(function() {
            $('#detail_1939691996').slideDown("normal");
            $('#show_1939691996').hide();
            $('#hide_1939691996').show();
        });
        $('#hide_1939691996').click(function() {
            $('#detail_1939691996').slideUp();
            $('#hide_1939691996').hide();
            $('#show_1939691996').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1243867751'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-01T14:49:11+00:00">Jun 1, 2009 02:49 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243867751">&nbsp;</a></div><pre>Parag,

I&#39;ll take you up on that offer.
My schedule is pretty flexible today, so any time that works for you
is fine with me.
Do you want to send me your SSH public key?
What&#39;s your preferred method of communication?  Shared screen session,
jabber chat, campfire chat, phone?

--Peter

On Jun 1, 2009, at 10&#58;19 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243865952'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-01T14:19:12+00:00">Jun 1, 2009 02:19 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243865952">&nbsp;</a></div><pre>Hi Peter,

Since this has happened third time after resolving the issue, it may make sense to get together and try to look closer at the system. Is it possible to get temporary access to the system? When are you available today?

-Parag</pre></div><div class='update_description'><i onclick="document.location='6896#1243865228'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-01T14:07:08+00:00">Jun 1, 2009 02:07 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1243865228">&nbsp;</a></div><pre>Peter,

No, this ticket is still open, and Parag/ReSS-OPS is still on the ticket ... Parag, can you take a look?

-ag</pre></div><div class='update_description'><i onclick="document.location='6896#1243864331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-01T13:52:11+00:00">Jun 1, 2009 01:52 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243864331">&nbsp;</a></div><pre>CEMon spontaneously stopped reporting again, looks like it happened
Friday night, possibly just a few minutes after my last email.
Do you want me to open a new ticket for this issue?

--Peter</pre></div><div class='update_description'><i onclick="document.location='6896#1243624216'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T19:10:16+00:00">May 29, 2009 07:10 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243624216">&nbsp;</a></div><pre>That sounds fine.

Kyle, can you close this ticket?

Parag has helped me resolve the issue, Suchandra fixed the root cause.
CEMon has been successfully reporting to ReSS for over 24 hours now.
I intend to just not touch the software, and just let things run and
be happy.

Thanks all!

--Peter

On May 29, 2009, at 2&#58;22 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243621335'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-29T18:22:15+00:00">May 29, 2009 06:22 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243621335">&nbsp;</a></div><pre>Hi Peter,

If everything is working fine, can you please ask GOC o close the
ticket? In case there are any issues in future feel free to open a new
one.

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-28 at 16&#58;07 -0500, Parag Mhashilkar wrote&#58;
<font color='#7F7E6F'>&#62; Hmm.. less likely its my browser since I did a wget to the log file as</font>
<font color='#7F7E6F'>&#62; well. Maybe some cache in between. I see the latest logs now and looks</font>
<font color='#7F7E6F'>&#62; like cemon is indeed running the script every 5 mins</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; One thing I observed wrong in your config&#58; In the following tag</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#60;subscription id=&#34;subscription-https___osg-ress-1_fnal_gov_8443_ig_services_CEInfoCollector-OSG_CE-OLD_CLASSAD&#34; monitorConsumerURL=&#34;<a href='https&#58;//osg-ress-1.fnal.gov&#58;8443/ig/services/CEInfoCollector&#34' target='_blank' rel='nofollow'>https&#58;//osg-ress-1.fnal.gov&#58;8443/ig/services/CEInfoCollector&#34</a>; sslprotocol=&#34;SSLv3&#34; retryCount=&#34;-1&#34;&#62;</font>
<font color='#7F7E6F'>&#62; &#60;topic name=&#34;OSG_CE&#34;&#62;</font>
<font color='#7F7E6F'>&#62; &#60;dialect name=&#34;OLD_CLASSAD&#34;/&#62;</font>
<font color='#7F7E6F'>&#62; &#60;/topic&#62;</font>
<font color='#7F7E6F'>&#62; &#60;policy rate=&#34;600&#34;&#62;</font>
<font color='#7F7E6F'>&#62; &#60;query queryLanguage=&#34;ClassAd&#34;&#62;GlueCEStateWaitingJobs&#60;2&#60;/query&#62;</font>
<font color='#7F7E6F'>&#62; &#60;action name=&#34;SendNotification&#34; doActionWhenQueryIs=&#34;true&#34;/&#62;</font>
<font color='#7F7E6F'>&#62; &#60;action name=&#34;SendExpiredNotification&#34; doActionWhenQueryIs=&#34;false&#34;/&#62;</font>
<font color='#7F7E6F'>&#62; &#60;/policy&#62;</font>
<div id='show_886034966' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_886034966'><font color='#7F7E6F'>&#62; &#60;/subscription&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ========== The correct value for query is</font>
<font color='#7F7E6F'>&#62;     &#60;query queryLanguage=&#34;ClassAd&#34;&#62;&#60;![CDATA[GlueCEStateWaitingJobs&#60;2]]&#62;&#60;/query&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -</font>
<font color='#7F7E6F'>&#62; Thanks & Regards</font>
<font color='#7F7E6F'>&#62; =============================================================</font>
<font color='#7F7E6F'>&#62; Parag Mhashilkar</font>
<font color='#7F7E6F'>&#62; Fermi National Accelerator Laboratory, MS 120</font>
<font color='#7F7E6F'>&#62; Wilson & Kirk Road, Batavia, IL - 60510.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Location&#58; Wilson Hall, WH863</font>
<font color='#7F7E6F'>&#62; Phone&#58; +1 (630) 840-6530</font>
<font color='#7F7E6F'>&#62; Fax&#58; +1 (630) 840-2783</font>
<font color='#7F7E6F'>&#62; Email&#58; parag@....</font>
<font color='#7F7E6F'>&#62; =============================================================</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Thu, 2009-05-28 at 20&#58;43 +0000, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_886034966').click(function() {
            $('#detail_886034966').slideDown("normal");
            $('#show_886034966').hide();
            $('#hide_886034966').show();
        });
        $('#hide_886034966').click(function() {
            $('#detail_886034966').slideUp();
            $('#hide_886034966').hide();
            $('#show_886034966').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1243545012'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T21:10:12+00:00">May 28, 2009 09:10 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243545012">&nbsp;</a></div><pre>Hmm.. less likely its my browser since I did a wget to the log file as
well. Maybe some cache in between. I see the latest logs now and looks
like cemon is indeed running the script every 5 mins

One thing I observed wrong in your config&#58; In the following tag

&#60;subscription id=&#34;subscription-https___osg-ress-1_fnal_gov_8443_ig_services_CEInfoCollector-OSG_CE-OLD_CLASSAD&#34; monitorConsumerURL=&#34;<a href='https&#58;//osg-ress-1.fnal.gov&#58;8443/ig/services/CEInfoCollector&#34' target='_blank' rel='nofollow'>https&#58;//osg-ress-1.fnal.gov&#58;8443/ig/services/CEInfoCollector&#34</a>; sslprotocol=&#34;SSLv3&#34; retryCount=&#34;-1&#34;&#62;
&#60;topic name=&#34;OSG_CE&#34;&#62;
&#60;dialect name=&#34;OLD_CLASSAD&#34;/&#62;
&#60;/topic&#62;
&#60;policy rate=&#34;600&#34;&#62;
&#60;query queryLanguage=&#34;ClassAd&#34;&#62;GlueCEStateWaitingJobs&#60;2&#60;/query&#62;
&#60;action name=&#34;SendNotification&#34; doActionWhenQueryIs=&#34;true&#34;/&#62;
&#60;action name=&#34;SendExpiredNotification&#34; doActionWhenQueryIs=&#34;false&#34;/&#62;
&#60;/policy&#62;
&#60;/subscription&#62;

========== The correct value for query is
&#60;query queryLanguage=&#34;ClassAd&#34;&#62;&#60;![CDATA[GlueCEStateWaitingJobs&#60;2]]&#62;&#60;/query&#62;

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-28 at 20&#58;43 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243543392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T20:43:12+00:00">May 28, 2009 08:43 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243543392">&nbsp;</a></div><pre>I think that&#39;s just your browser caching the files, I can get the ones
from today.
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log</a>
I&#39;ve also added the gip log
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/gip.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/gip.log</a>

There is activity in the glite-ce-monitor.log every five minutes and
the gip.log every 10 minutes.

You are correct, I did not run the scripts as daemon, I ran them as
root.
I wish I knew what caused everything to suddenly start working again.

--Peter

On May 28, 2009, at 4&#58;16 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243541771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T20:16:11+00:00">May 28, 2009 08:16 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243541771">&nbsp;</a></div><pre>Hi Peter,

For some reason the logs are still from previous issue and end on May
19. Can you please update them again?

/OSG_CE/ALL is created by cemon internally at some point. If you look at
the cemonitor-config.xml, sensor id=&#34;sensor-osg-ce&#34; tag tells the cemon
to run the osg-ce sensor. Essentially, it run the configured exe given
by

&#60;property name=&#34;scriptURI&#34;
value=&#34;/opt/osg-east/glite/etc/glite-ce-ce-plugin/glite-ce-info&#34;/&#62;

If you trace the scripts executed, one of the script in the chain does
execute osg-info-wrapper. But this is GIP script and shouldn&#39;t have
anything to do with OSG_CE/ALL. We will need GIP experts to confirm
that.

Also, I am assuming you must have run the script as non-daemon user, so
quite unlikely that your running the command should have anything to do
with CEMon.

So there are two possibilities&#58;

1) Cemon is not running the sensor script every 600 sec. Will need the
updated cemon logs to verify it.

2) There is indeed some problem running gip or the gip output is not
consistent. Do you see any obvious issues from the gip log? We will need
to involve GIP group as I don&#39;t know much about the GIP.

-
Thanks & Regards
=============================================================
Parag Mhashilkar
<div id='show_643262960' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_643262960'>Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-28 at 19&#58;37 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_643262960').click(function() {
            $('#detail_643262960').slideDown("normal");
            $('#show_643262960').hide();
            $('#hide_643262960').show();
        });
        $('#hide_643262960').click(function() {
            $('#detail_643262960').slideUp();
            $('#hide_643262960').hide();
            $('#show_643262960').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1243539433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T19:37:13+00:00">May 28, 2009 07:37 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243539433">&nbsp;</a></div><pre>No, I just deleted the contents of cemonitor/
The directory is owned by daemon and writable by the owner.
What program/script actually creates the /OSG_CE/ALL directory and the
OSGCESensorEvent file in it?  Can I try running that manually and see
if it produces an error?

Okay, just moments before I clicked send on this email I noticed that
the OSG_CE/ALL directory was created, with the OSGCESensorEvent file
in it.  It was created at 15&#58;26.  The last command I ran was osg-info-
wrapper at 15&#58;25.
I have no idea how that happened.  I now see results in BDII.

I&#39;ve updated the log files on the public webspace, perhaps the clue
lies in one of them.

<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/authconfig.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/authconfig.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/cemonitor-config.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/cemonitor-config.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/ce-monitor.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/ce-monitor.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-info.out' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-info.out</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/osg-info-wrapper.output' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/osg-info-wrapper.output</a>

Thanks Parag!
--Peter

On May 28, 2009, at 3&#58;10 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243537811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T19:10:11+00:00">May 28, 2009 07:10 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243537811">&nbsp;</a></div><pre>Hi Peter,

Did you delete the contents $GLITE_LOCATION/var/cemonitor/* or the
directory itself? Note that $GLITE_LOCATION/var/cemonitor/ should be
owned by daemon so that cemon can write to it as tomcat is running as
daemon. If you deleted the cemon dir, $GLITE_LOCATION/var is owned by
root by default and cemon wont be able to create the required cemonitor
subdir. Is this the case?

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-28 at 18&#58;55 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243536911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T18:55:11+00:00">May 28, 2009 06:55 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243536911">&nbsp;</a></div><pre>When it stopped working on 5/24, nothing had changed.
It looks like it stopped working again yesterday afternoon too.  I did
an update of CentOS from 5.2 -&#62; 5.3 and rebooted into the new kernel.
I started up the VDT, but I guess it hasn&#39;t been reporting since then.
I had to reboot after a crash on the morning of 5/26 and things
continued to work after that reboot.
This morning I shutdown tomcat, cleared out the $GLITE_LOCATION/var/
cemonitor/ directory and restarted tomcat.  The OSG_CE/ALL directory
was not created, and things still aren&#39;t reporting to ReSS and BDII.
I can make the log files available to you again, if you think that
would help.

--Peter

On May 28, 2009, at 2&#58;42 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243535471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T18:31:11+00:00">May 28, 2009 06:31 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243535471">&nbsp;</a></div><pre>Hi Peter,

I was periodically probing ReSS to see if your sites appears, but it is
still not showing up. That&#39;s bit strange.
javax.naming.NameNotFoundException&#58; OSG_CE/ALL appears whenever you
start tomcat. Since the latest release cemon is configured to clean up
the var dir so as to pick up any changes made during the restart. So
seeing this exception till gip is run internally is quite common.

Can you please give me context to the changes done if any? Also have you
kept tomcat running since then?

Ress central services are running in central timezone.

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-28 at 14&#58;01 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243519273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T14:01:13+00:00">May 28, 2009 02:01 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243519273">&nbsp;</a></div><pre>Thanks for fixing that Suchandra,

CEMon was running fine for a while, but not anymore.
I had to restart Tomcat once to get it going, and it seems to have
stopped again.

Can anyone tell me what timezone ReSS is using?
<a href='https&#58;//osg-ress-1.fnal.gov&#58;8443/ReSS/ReSS-prd-History.html' target='_blank' rel='nofollow'>https&#58;//osg-ress-1.fnal.gov&#58;8443/ReSS/ReSS-prd-History.html</a>

glite-ce-monitor.log shows errors like those below, and the
$VDT_LOCATION/glite/var/cemonitor/OSG_CE  directory is empty again.

Has anyone every considered having all the components of OSG use a
central directory for their logs?  It would be a lot easier to
troubleshoot things if the log files were in one place, rather than
jumping between a dozen directories just trying to remember where each
log is stored.

Thanks,
--Peter

28 May 2009 09&#58;48&#58;21,993 org.glite.ce.monitor.holder.TopicHolder -
TopicHolder getEvents&#58; retrieving events from topic OSG_CE...
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.commonj.jndi.provider.fscachedprovider.CacheLock -
Locking OSG_CE/ALL code 3
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.commonj.jndi.provider.fscachedprovider.CacheLock - Locked
OSG_CE/ALL code 3
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.commonj.jndi.provider.fscachedprovider.CacheLock -
Unlocking OSG_CE/ALL code 3
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.commonj.jndi.provider.fscachedprovider.CacheLock -
Removing subtree rooted at OSG_CE
<div id='show_1513011756' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1513011756'>28 May 2009 09&#58;48&#58;21,994
org.glite.ce.commonj.jndi.provider.fscachedprovider.CacheLock -
Unlocked OSG_CE/ALL code 3
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.monitor.holder.TopicEventInfoPersistent -
javax.naming.NameNotFoundException&#58; OSG_CE/ALL
28 May 2009 09&#58;48&#58;21,994 org.glite.ce.monitor.holder.TopicHolder -
TopicHolder getEvents&#58; retrieving events from topic OSG_CE DONE!!!
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.monitor.holder.NotificationHolder - run() - found 0 events
28 May 2009 09&#58;48&#58;21,994
org.glite.ce.monitor.holder.NotificationHolder - run() - found 0 events
28 May 2009 09&#58;48&#58;21,995
org.glite.ce.monitor.holder.NotificationHolder - the notification
doesn&#39;t contains messages to be notified! [aborted]
28 May 2009 09&#58;48&#58;21,995
org.glite.ce.monitor.holder.NotificationHolder - the notification
doesn&#39;t contains messages to be notified! [aborted]
</div><script type='text/javascript'>
        $('#show_1513011756').click(function() {
            $('#detail_1513011756').slideDown("normal");
            $('#show_1513011756').hide();
            $('#hide_1513011756').show();
        });
        $('#hide_1513011756').click(function() {
            $('#detail_1513011756').slideUp();
            $('#hide_1513011756').hide();
            $('#show_1513011756').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1243370410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-26T20:40:10+00:00">May 26, 2009 08:40 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1243370410">&nbsp;</a></div><pre>I&#39;ve changed the config.ini permissions to be less restrictive (i.e.
0644).

Suchandra

---
Suchandra Thapa
sthapa@....
Computation Institute
Research Institutes Bldg, Ste 421
5640 S Ellis Avenue
Chicago, IL 60637 USA</pre></div><div class='update_description'><i onclick="document.location='6896#1243256491'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-25T13:01:31+00:00">May 25, 2009 01:01 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1243256491">&nbsp;</a></div><pre>Rob and Suchandra, Peter Doherty points out that the default permission config.ini is too restrictive. See Peter&#39;s note from  May 22, 2009 10&#58;46 PM. Can you please acknowledge if this is a problem, and when you will be able to fix it? (so we can close this GOC ticket)??&#58; Thanks

Peter and Parag, so glad you were able to resolve the issue. And thanks Parag for helping out.

Kyle, I am keeping this ticket open till Rob/Suchandra let us know they will fix the permissions., and moving myself to be CCed instead of being assigned to be kept in the loop.

Cheers, -ag</pre></div><div class='update_description'><i onclick="document.location='6896#1243035611'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-22T23:40:11+00:00">May 22, 2009 11:40 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243035611">&nbsp;</a></div><pre>Hi Peter,

Yep. Looks like you are reporting to ReSS <a href='https&#58;//osg-ress-1.fnal.gov&#58;8443/ReSS/ReSS-prd-History.html' target='_blank' rel='nofollow'>https&#58;//osg-ress-1.fnal.gov&#58;8443/ReSS/ReSS-prd-History.html</a>

If the file is owned by root and permissions 600, I can clearly see the issue. Tomcat runs as user daemon and will not be able to access it.

GOC, please redirect this issue to GIP.

-Parag</pre></div><div class='update_description'><i onclick="document.location='6896#1243032371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-22T22:46:11+00:00">May 22, 2009 10:46 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243032371">&nbsp;</a></div><pre>I was in the process of composing an email to answer your questions
about the three scripts and their exit codes when I stumbled upon
something, and I believe I have fixed the problem.

$VDT_LOCATION/gip/var/logs/gip.log had this&#58;

2009-05-22 18&#58;14&#58;20,593 GIP&#58;ERROR /opt/osg-east/gip/lib/python/
gip_osg.py&#58;145&#58;  FATAL ERROR&#58; cannot read config.ini!

That is the one difference I made during the install between the two
cluster I upgraded.  I converted this cluster to the new config.ini
format.  The default perms on the file were 600.  I left it alone.
I just chmod 644 the file, and just to be sure, I reran configure-
osg.py and restarted tomcat.

The log files for both glite-ce-monitor.log and gip.log look better,
and the OSG_CE/ALL directory has been created, and has a
OSGCESensorEvent file in it.
This is looking very good.
Okay, as I typed this I can now see results at <a href='http&#58;//is1.grid.iu.edu/cgi-bin/status.cgi' target='_blank' rel='nofollow'>http&#58;//is1.grid.iu.edu/cgi-bin/status.cgi</a>

Yeah!
So it wasn&#39;t really anything I did.  The problem is that the default
permissions on config.ini are too restrictive and it breaks GIP.

Hopefully someone from the GOC is still following this ticket so they
can relay this information to whoever maintains the config files and
scripts.  Suchandra?

Have a good Memorial Day weekend everyone!

--Peter

On May 22, 2009, at 4&#58;37 PM, Open Science Grid FootPrints wrote&#58;

<div id='show_1010705704' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1010705704'><font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1010705704').click(function() {
            $('#detail_1010705704').slideDown("normal");
            $('#show_1010705704').hide();
            $('#hide_1010705704').show();
        });
        $('#hide_1010705704').click(function() {
            $('#detail_1010705704').slideUp();
            $('#hide_1010705704').hide();
            $('#show_1010705704').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1243024633'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-22T20:37:13+00:00">May 22, 2009 08:37 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243024633">&nbsp;</a></div><pre>Hi Peter,

GlueSiteUniqueID & GlueSubClusterUniqueID signify two different things
so they can have different values.

Your site is not reporting because, OSG_CE/ALL is not being created.
What you sent me is ok and output from one of the three scripts. Sorry,
I wasn&#39;t clear in my last email about the steps you should take.

Run following 3 commands and see if they exit with non zero exit code or
write anything to std err. Essentially they should produce same output.
Since the output already passes the verify-gip-output-for-cemon, I am
more interested in the exit code of these scripts and if there is
anything printed to std err

1) /opt/osg-east/glite/etc/glite-ce-ce-plugin/glite-ce-info
2) /opt/osg-east/gip/libexec/osg-info-wrapper
3) /opt/osg-east/gip/libexec/osg_info_wrapper.py

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Fri, 2009-05-22 at 20&#58;07 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243022831'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-22T20:07:11+00:00">May 22, 2009 08:07 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1243022831">&nbsp;</a></div><pre>Parag,

Here is the output from &#34;/opt/osg-east/glite/etc/glite-ce-ce-plugin/
glite-ce-info&#34;
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-info.out' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-info.out</a>

Does it matter that these items have the same value?
GlueSiteUniqueID
GlueSubClusterUniqueID

I don&#39;t know if this is relevant, but the OSG_CE/ALL directory doesn&#39;t
exist.  I guess it&#39;s not being created because of whatever the main
error is.

[root@osg-east OSG_CE]# pwd
/opt/osg-east/glite/var/cemonitor/OSG_CE
[root@osg-east OSG_CE]# ls -l
total 0
[root@osg-east OSG_CE]#

Thanks Parag,

--Peter

On May 22, 2009, at 3&#58;37 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1243021031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-22T19:37:11+00:00">May 22, 2009 07:37 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1243021031">&nbsp;</a></div><pre>Hi Peter,

I looked at the logs and I am not sure why CEMon is not able to find
OSG_CE/ALL even after running for 1 hour. Before I bump it to the CEMon
developers, I would like to check few things.

Can you please check the following -

Try to run few scripts as the CEMon would do -

- Starting with cemonitor-config.xml script from scriptURI for
sensor-osg-ce.
&#34;/opt/osg-east/glite/etc/glite-ce-ce-plugin/glite-ce-info&#34;

- /opt/osg-east/glite/etc/glite-ce-ce-plugin/glite-ce-info internally
runs the gip script /opt/osg-east/gip/libexec/osg-info-wrapper

and then the script /opt/osg-east/gip/libexec/osg_info_wrapper.py

Let me know if any of this error out.

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-21 at 19&#58;10 +0000, Open Science Grid FootPrints wrote&#58;
<div id='show_1498354765' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1498354765'><font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1498354765').click(function() {
            $('#detail_1498354765').slideDown("normal");
            $('#show_1498354765').hide();
            $('#hide_1498354765').show();
        });
        $('#hide_1498354765').click(function() {
            $('#detail_1498354765').slideUp();
            $('#hide_1498354765').hide();
            $('#show_1498354765').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6896#1242933013'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T19:10:13+00:00">May 21, 2009 07:10 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1242933013">&nbsp;</a></div><pre>Sorry, my bad, I missed them in your original ticket. I am looking at
them now.

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-21 at 18&#58;52 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1242931931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T18:52:11+00:00">May 21, 2009 06:52 PM UTC</time> by <b>Peter Doherty</b><a class="anchor" name="1242931931">&nbsp;</a></div><pre>Oh, sorry, did the original links I posted in my first email not work
for you?
Here&#39;s the latest&#58;

<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/authconfig.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/authconfig.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out.1' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out.1</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out.2' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out.2</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/cemonitor-config.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/cemonitor-config.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/ce-monitor.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/ce-monitor.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.1' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.1</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.2' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.2</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.3' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.3</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.4' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.4</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.5' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.5</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.6' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.6</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.7' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log.7</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/osg-info-wrapper.output' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/osg-info-wrapper.output</a>

On May 21, 2009, at 2&#58;34 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1242930855'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T18:34:15+00:00">May 21, 2009 06:34 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1242930855">&nbsp;</a></div><pre>You can find cemon log in $GLITE_LOCATION/var/log/

and Tomcat log in ...

$VDT_LOCATION/tomcat/v55/logs/catalina.out

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-21 at 18&#58;16 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1242929771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T18:16:11+00:00">May 21, 2009 06:16 PM UTC</time> by <b>SBGrid</b><a class="anchor" name="1242929771">&nbsp;</a></div><pre>Parag,

Specifically which log files do you need?

--Peter

On May 21, 2009, at 2&#58;05 PM, osg@.... wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1242929051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T18:04:11+00:00">May 21, 2009 06:04 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1242929051">&nbsp;</a></div><pre>Hi Peter,

Can you put the cemon and tomcat logs somewhere on the web I can look
at?

Based on your description, looks like the gip is configured and its
output is ok with cemon. Hopefully cemon logs would provide more hints.

-
Thanks & Regards
=============================================================
Parag Mhashilkar
Fermi National Accelerator Laboratory, MS 120
Wilson & Kirk Road, Batavia, IL - 60510.

Location&#58; Wilson Hall, WH863
Phone&#58; +1 (630) 840-6530
Fax&#58; +1 (630) 840-2783
Email&#58; parag@....
=============================================================

On Thu, 2009-05-21 at 17&#58;30 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6896#1242927022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T17:30:22+00:00">May 21, 2009 05:30 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1242927022">&nbsp;</a></div><pre>Parag et al.,

Can you please help Peter with this CEMon problem he is having on his resource? Complete details including Peter&#39;s very complete error report is available here&#58; <a href='https&#58;//oim.grid.iu.edu/gocticket/viewer?id=6896' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/viewer?id=6896</a>

Thanks! -ag</pre></div><div class='update_description'><i onclick="document.location='6896#1242925596'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-21T17:06:36+00:00">May 21, 2009 05:06 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1242925596">&nbsp;</a></div><pre>Peter,

I&#39;ve tried some basic troubleshooting and I must be missing something.  I&#39;m going to
ask our infrastructure team to try and help out.

Arvind,

Could you please see if you can diagnose Peter&#39;s problem?

Kyle</pre></div><div class='update_description'><i onclick="document.location='6896#1242752276'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-19T16:57:56+00:00">May 19, 2009 04:57 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1242752276">&nbsp;</a></div><pre>Hello.
This is going to be long.  I apologize, I&#39;m trying to be thorough.
I noticed that our sites were no longer reporting ReSS or BDII information yesterday.  I noticed that they stopped reporting immediately after I updated to OSG 1.0.1.
After doing some reading of the Twiki and old GOC tickets I am still unable to get one site running properly.  On abitibi.sbgrid.org (SBGrid-Harvard-Exp) I managed to get it working again by&#58;
Stopping tomcat
deleting the files in $VDT_LOCATION/glite/var/cemonitor/
Restarting tomcat

This did not work for osg-east.hms.harvard.edu (SBGrid-Harvard-East)
Admittedly, I had already started tinkering with CEMon before I tried that step, but I believe I have reverted any changes made, and I still can&#39;t get it working.

I carefully followed the steps at&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/ResourceSelection/CEMonTroubleshootingGuide' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ResourceSelection/CEMonTroubleshootingGuide</a>

Here are my results.  Thanks for any help you can offer!
--Peter

Also note that I have made the log files and config files available that are requested in that twiki document.
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/authconfig.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/authconfig.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/catalina.out</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/cemonitor-config.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/cemonitor-config.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/ce-monitor.xml' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/ce-monitor.xml</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/glite-ce-monitor.log</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/index.html' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/index.html</a>
<a href='http&#58;//osg-east.hms.harvard.edu&#58;8080/osg-info-wrapper.output' target='_blank' rel='nofollow'>http&#58;//osg-east.hms.harvard.edu&#58;8080/osg-info-wrapper.output</a>

Step 1.
# condor_status -pool osg-ress-1.fnal.gov -l -constraint &#34;GlueCEInfoHostName == &#92;&#34;osg-east.hms.harvard.edu&#92;&#34;&#34;

No output

Step 2.

# grep SSLCertificate /opt/osg-east/apache/conf/extra/httpd-ssl.conf
SSLCertificateFile /etc/grid-security/http/httpcert.pem
<div id='show_318957203' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_318957203'>SSLCertificateKeyFile /etc/grid-security/http/httpkey.pem

# ls -l /etc/grid-security/http/http*
-r--r--r-- 1 daemon root 1509 Apr 14 11&#58;56 /etc/grid-security/http/httpcert.pem
-r-------- 1 daemon root 1679 Apr 14 11&#58;56 /etc/grid-security/http/httpkey.pem

# cat /opt/osg-east/glite/etc/glite-ce-monitor/authconfig.xml
&#60;!-- Simple example of authorization configuration file --&#62;
&#60;!-- It contains only one PDP, for gridmap file definitions --&#62;
&#60;configuration id=&#34;cemonitor-authz&#34;&#62;
&#60;plugin name=&#34;pdp&#34;
classname=&#34;org.glite.security.authz.pdp.GridMapServicePDP&#34;&#62;
&#60;parameter name=&#34;gridMapFile&#34; type=&#34;string&#34;
value=&#34;/etc/grid-security/grid-mapfile&#34; /&#62;
&#60;/plugin&#62;
&#60;/configuration&#62;

# ls -l /etc/grid-security/grid-mapfile
-rw-r--r-- 1 root root 0 May 18 17&#58;27 /etc/grid-security/grid-mapfile

(This step is outdated I believe.  the new configure_cemon script doesn&#39;t check for this file.  One of the site I support doesn&#39;t have this file at all.  This file had not been modified in months, and during my testing yesterday I removed it and created an empty file, it didn&#39;t have any effect)

# openssl x509 -dates -in /etc/grid-security/http/httpcert.pem   -noout
notBefore=Apr 14 15&#58;52&#58;04 2009 GMT
notAfter=Apr 14 15&#58;52&#58;04 2010 GMT

Step 3.
# ps -efw |grep tomcat
daemon   17101     1  0 11&#58;10 pts/0    00&#58;00&#58;07 /opt/osg-east/jdk1.6/bin/java -Djava.util.logging.config.file=/opt/osg-east/tomcat/v55/conf/logging.properties -server -Xmx256M -XX&#58;MaxPermSize=256m -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Dorg.globus.wsrf.container.persistence.dir=/opt/osg-east/vdt-app-data/globus/persisted -Djava.endorsed.dirs=/opt/osg-east/tomcat/v55/common/endorsed -classpath &#58;/opt/osg-east/tomcat/v55/bin/bootstrap.jar&#58;/opt/osg-east/tomcat/v55/bin/commons-logging-api.jar -Dcatalina.base=/opt/osg-east/tomcat/v55 -Dcatalina.home=/opt/osg-east/tomcat/v55 -Djava.io.tmpdir=/opt/osg-east/tomcat/v55/temp org.apache.catalina.startup.Bootstrap start

# ps -efw |grep apache
daemon    4707 17042  0 11&#58;41 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
apache    4876 27465  0 May18 ?        00&#58;00&#58;00 /usr/sbin/httpd
daemon    4947 17042  0 11&#58;42 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
apache    8719 27465  0 May18 ?        00&#58;00&#58;00 /usr/sbin/httpd
root     13095 14065  0 12&#58;20 pts/0    00&#58;00&#58;00 grep apache
apache   14781 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   15107 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   15290 27465  0 May18 ?        00&#58;00&#58;00 /usr/sbin/httpd
root     17042     1  0 11&#58;10 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
daemon   17090 17042  0 11&#58;10 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
daemon   17091 17042  0 11&#58;10 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
daemon   17093 17042  0 11&#58;10 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
daemon   17094 17042  0 11&#58;10 ?        00&#58;00&#58;00 /opt/osg-east/apache/bin/httpd -d /opt/osg-east/apache -k start -f /opt/osg-east/apache/conf/httpd.conf
daemon   17101     1  0 11&#58;10 pts/0    00&#58;00&#58;07 /opt/osg-east/jdk1.6/bin/java -Djava.util.logging.config.file=/opt/osg-east/tomcat/v55/conf/logging.properties -server -Xmx256M -XX&#58;MaxPermSize=256m -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Dorg.globus.wsrf.container.persistence.dir=/opt/osg-east/vdt-app-data/globus/persisted -Djava.endorsed.dirs=/opt/osg-east/tomcat/v55/common/endorsed -classpath &#58;/opt/osg-east/tomcat/v55/bin/bootstrap.jar&#58;/opt/osg-east/tomcat/v55/bin/commons-logging-api.jar -Dcatalina.base=/opt/osg-east/tomcat/v55 -Dcatalina.home=/opt/osg-east/tomcat/v55 -Djava.io.tmpdir=/opt/osg-east/tomcat/v55/temp org.apache.catalina.startup.Bootstrap start
apache   20658 27465  0 May18 ?        00&#58;00&#58;00 /usr/sbin/httpd
apache   24431 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   24932 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   25068 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   25976 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   27975 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd
apache   28060 27465  0 May18 ?        00&#58;00&#58;01 /usr/sbin/httpd

Visiting this site produces a 404 error on all the clusters I support.  But two of them are correctly reporting to BDII nonetheless
<a href='https&#58;//osg-east.hms.harvard.edu&#58;8443/ce-monitor/TopicList' target='_blank' rel='nofollow'>https&#58;//osg-east.hms.harvard.edu&#58;8443/ce-monitor/TopicList</a>
<a href='https&#58;//abitibi.sbgrid.org&#58;8443/ce-monitor/TopicList' target='_blank' rel='nofollow'>https&#58;//abitibi.sbgrid.org&#58;8443/ce-monitor/TopicList</a>
<a href='https&#58;//tuscany.med.harvard.edu&#58;8443/ce-monitor/TopicList' target='_blank' rel='nofollow'>https&#58;//tuscany.med.harvard.edu&#58;8443/ce-monitor/TopicList</a>

Step 4.

[root@osg-east httpd]# $VDT_LOCATION/gip/libexec/osg-info-wrapper &#62;/tmp/out 2&#62;/tmp/err
[root@osg-east httpd]# cat /tmp/err
No output, there were no errors.

[root@osg-east httpd]# ./verify-gip-for-cemon-wrapper  /tmp/out

&#60;snip&#62;
Info for CLASSAD #59 **********************
CE osg-east.hms.harvard.edu&#58;2119/jobmanager-condor-default
Cluster osg-east.hms.harvard.edu
SubCluster SBGrid-Harvard-East
VO View  cms
SE osg-east.hms.harvard.edu
SA default
Info for CLASSAD #60 **********************
CE osg-east.hms.harvard.edu&#58;2119/jobmanager-condor-default
Cluster osg-east.hms.harvard.edu
SubCluster SBGrid-Harvard-East
VO View  cms
SE SBGrid-Harvard-East_classicSE
SA SBGrid-Harvard-East_classicSE
Info for CLASSAD #61 **********************
CE osg-east.hms.harvard.edu&#58;2119/jobmanager-condor-default
Cluster osg-east.hms.harvard.edu
SubCluster SBGrid-Harvard-East
VO View  fermilab
SE osg-east.hms.harvard.edu
SA default
Info for CLASSAD #62 **********************
CE osg-east.hms.harvard.edu&#58;2119/jobmanager-condor-default
Cluster osg-east.hms.harvard.edu
SubCluster SBGrid-Harvard-East
VO View  fermilab
SE SBGrid-Harvard-East_classicSE
SA SBGrid-Harvard-East_classicSE

Step 5.

[root@osg-east verify-gip-for-cemon]# iptables --list
Chain INPUT (policy ACCEPT)
target     prot opt source               destination

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination

Step 6.

I edited the $VDT_LOCATION/tomcat/v55/webapps/ce-monitor/WEB-INF/classes/log4j.properties file to increase logging output

[META Information for OSG GOC Support Staff]
Resource where user is having this issue&#58; SBGrid-Harvard-East(142)
Selecting SBGrid(FP name&#58; SBGrid) for Destination VO since it has the highest resource ownership.
Primary Admin for SBGrid-Harvard-East is Peter Doherty and has been CC&#39;d.
</div><script type='text/javascript'>
        $('#show_318957203').click(function() {
            $('#detail_318957203').slideDown("normal");
            $('#show_318957203').hide();
            $('#hide_318957203').show();
        });
        $('#hide_318957203').click(function() {
            $('#detail_318957203').slideUp();
            $('#hide_318957203').hide();
            $('#show_318957203').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6896">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
