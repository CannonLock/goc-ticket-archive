<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9662] suspended glideins on GLOW-CMS</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9662" method="post">
<div class="page-header">
    <h3><span class="muted">9662</span> / suspended glideins on GLOW-CMS</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jeffrey Michael Dost</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">GLOW-CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/resource</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jeffrey Michael Dost</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for a reply</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-02-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">USCMS <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9662", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9662#1297796166'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T18:56:06+00:00">Feb 15, 2011 06:56 PM UTC</time> by <b>USCMS</b><a class="anchor" name="1297796166">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolved by GOC
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='9662#1297795777'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T18:49:37+00:00">Feb 15, 2011 06:49 PM UTC</time><a class="anchor" name="1297795777">&nbsp;</a></div><pre>Hi Dan,

In the past this was more of an issue for the glideins because when they went suspended, the factory would no longer mark them as being in an idle state but in an unknown state.  This would allow more glideins to start, those would get suspended, and soon we&#39;d have a huge pile up of suspended jobs at a site.  Since I first opened this ticket, we have changed the policy to keep suspended jobs marked as idle.  This prevents the pile ups from forming, but the tradeoff is no new glideins will start if a large number of them are idle and suspended.

That said, since we change our policy, the worst that can happen is that new glideins will take longer to start, but I would say it is not a critical problem on our end either.

I say we close the ticket and if this does become an issue in the future I&#39;ll just open a new one.

Thanks,

-- by Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='9662#1297793648'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T18:14:08+00:00">Feb 15, 2011 06:14 PM UTC</time> by <b>GLOW-TECH</b><a class="anchor" name="1297793648">&nbsp;</a></div><pre>Sorry for the silence on my end.  We don&#39;t yet have a solution to this
problem.  We have discussed it with the Condor developers.  There are
some ideas, but these require some development time.  We don&#39;t currently
have an estimate of when this work will be done.

Our impression is that this problem is annoying but not critical.
Please let us know if it is causing major problems.

--Dan

On 2/15/11 11&#58;33 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9662#1297791216'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T17:33:36+00:00">Feb 15, 2011 05:33 PM UTC</time><a class="anchor" name="1297791216">&nbsp;</a></div><pre>Hi Alain,

Sorry for not responding sooner, but we would like to ask if Dan has any more thoughts on the issue.

Otherwise, you may close it.

Thanks,
Jeff

-- by Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='9662#1297782582'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-15T15:09:42+00:00">Feb 15, 2011 03:09 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1297782582">&nbsp;</a></div><pre>Greetings all,

What&#39;s the latest update on this issue?  Can we close out this ticket or does it still need to remain open?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9662#1297174811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-08T14:20:11+00:00">Feb 8, 2011 02:20 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1297174811">&nbsp;</a></div><pre>Greetings all,

What&#39;s the latest update on this issue?  Can we close out this ticket or does it still need to remain open?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9662#1295630034'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-21T17:13:54+00:00">Jan 21, 2011 05:13 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1295630034">&nbsp;</a></div><pre>Greetings all,

What&#39;s the latest update on this issue?  Can we close out this ticket or does it still need to remain open?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9662#1294157708'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-04T16:15:08+00:00">Jan 4, 2011 04:15 PM UTC</time> by <b>GLOW-TECH</b><a class="anchor" name="1294157708">&nbsp;</a></div><pre>The current policies that are in place should only suspend CMS
processes, not jobs from other VOs, such as HCC.

We have three tiers of CMS batch slots&#58; &#39;slow&#39;, &#39;fast&#39;, and &#39;express&#39;.
Slow slots are suspended to allow fast or express slots to run jobs.
Fast slots are suspended to allow express slots to run.  MC jobs run in
&#39;slow&#39;, user analysis jobs run in &#39;fast&#39;, and the CMS priority analysis
user runs in &#39;express&#39; slots.  Jobs from non-CMS VOs are currently
evicted rather than being suspended, because we don&#39;t want to risk
trapping other people&#39;s jobs for extended periods of times, in case that
is problematic for them.  For CMS gidein jobs, being suspended for
longer than the job lease duration is problematic.  It hasn&#39;t been a
huge problem, because all glidein activity at our site is taking place
in the &#39;fast&#39; or &#39;express&#39; slots, and it is not common for express slots
to be busy for long periods of time, so long suspensions of glideins are
uncommon.  However, it has occasionally been a problem, and so we need
to do something about it.

--Dan

On 1/3/11 12&#58;52 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9662#1294080749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-03T18:52:29+00:00">Jan 3, 2011 06:52 PM UTC</time><a class="anchor" name="1294080749">&nbsp;</a></div><pre>Hi Dan,
Could you please briefly outline the suspension/unsuspension policies for glideins for VOs HCC and CMS? It may be that this isn&#39;t a problem at all, but we would like to know the full details so that we can have a meaningful discussion.

Thanks,

Ian
OSG Glidein Factory Support

-- by Ian MacNeill</pre></div><div class='update_description'><i onclick="document.location='9662#1294066214'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-01-03T14:50:14+00:00">Jan 3, 2011 02:50 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1294066214">&nbsp;</a></div><pre>Greetings all,

What&#39;s the latest update on this issue?  Can we close out this ticket or does it still need to remain open?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9662#1291422084'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-04T00:21:24+00:00">Dec 4, 2010 12:21 AM UTC</time><a class="anchor" name="1291422084">&nbsp;</a></div><pre>Hi Dan,

When jobs get suspended like this do they eventually come out of their suspended state?  If they will, I&#39;ll hold off on removing them.

Jeff

-- by Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='9662#1291416067'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-03T22:41:07+00:00">Dec 3, 2010 10:41 PM UTC</time> by <b>GLOW-TECH</b><a class="anchor" name="1291416067">&nbsp;</a></div><pre>I looked into cases of CMS jobs getting suspended at our site.  This is
expected when the priority CMS user is active, and indeed, I see that
the priority user has been running jobs.

Since suspension can create problems for glidein jobs, we will need to
think about what to do.

--Dan

On 12/3/10 4&#58;29 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9662#1291415347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-03T22:29:07+00:00">Dec 3, 2010 10:29 PM UTC</time> by <b>GLOW-TECH</b><a class="anchor" name="1291415347">&nbsp;</a></div><pre>Our site does use process suspension in some cases to implement priority
access to nodes.  If this causes problems for the HCC VO, we could
restrict HCC to slots that do not do this.  Previously, we did restrict
HCC in this way, but Brian asked us to let HCC loose on our GLOW
cluster, which is somewhat of a wild-west with respect to preemption.

You also mentioned that some CMS jobs were getting suspended.  That is
less expected.  I&#39;ll see if I can understand what is going on in that case.

Thanks,
--Dan

On 12/3/10 1&#58;20 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9662#1291402596'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-03T18:56:36+00:00">Dec 3, 2010 06:56 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1291402596">&nbsp;</a></div><pre>[by Jeffrey Michael Dost]

Hi,

For the last two days we see about 600 glideins with
GridJobStatus = &#34;SUSPENDED&#34;

Most of them are submitted as VO HCC, but about 13 are VO CMS.

This is occurring at
gatekeeper=&#34;cmsgrid01.hep.wisc.edu&#58;2119/jobmanager-condor&#34;
gridtype=&#34;gt2&#34;

Can you have a look and let us know why this might be happening?  We&#39;ll just remove the jobs around 5 pm PST today if you don&#39;t get a chance to response before then.

Thanks,
Jeff Dost
OSG Glidein Factory Operations</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9662">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
