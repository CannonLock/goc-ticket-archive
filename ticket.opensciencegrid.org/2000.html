<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2000] Use of user home areas--limits?</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2000" method="post">
<div class="page-header">
    <h3><span class="muted">2000</span> / Use of user home areas--limits?</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Steven Timm</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Review ticket</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2006-08-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2000", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2000?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2000?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Use%20of%20user%20home%20areas--limits%3F%20ISSUE%3D2000%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2000#1155321838'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-11T18:43:58+00:00">Aug 11, 2006 06:43 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1155321838">&nbsp;</a></div><pre>Ways to address this issue are being discussed by the interop group. It will be
addressed outside of the operations scope. Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='2000#1154371604'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-31T18:46:44+00:00">Jul 31, 2006 06:46 PM UTC</time> by <b>leighg</b><a class="anchor" name="1154371604">&nbsp;</a></div><pre>as this is an interoperabilty issue, re-assigned to Rob</pre></div><div class='update_description'><i onclick="document.location='2000#1149794543'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-06-08T19:22:23+00:00">Jun 8, 2006 07:22 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1149794543">&nbsp;</a></div><pre>Reassigning these tickets. Rob will be unavailable to work on them.</pre></div><div class='update_description'><i onclick="document.location='2000#1149190488'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-06-01T19:34:48+00:00">Jun 1, 2006 07:34 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1149190488">&nbsp;</a></div><pre>Rob, I moved the NAD to June 2, tomorrow. Was this brought up at the recent ITB
meeting? Is there anything new to add? Could you please provide an update? Thanks!

Tim</pre></div><div class='update_description'><i onclick="document.location='2000#1147912791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-05-18T00:39:51+00:00">May 18, 2006 12:39 AM UTC</time> by <b>swenz</b><a class="anchor" name="1147912791">&nbsp;</a></div><pre>Ticket was expired and showing up in SD-view in TickMon. Tim and Rob were the default
assignees when ticket was migrated over, however, Leigh is back now. Taking Tim off
as an assignee. Flagging to tomorrow a.m. for Rob to review and make it is indeed an
engineering ticket. Also, please assign Leigh if necessary.</pre></div><div class='update_description'><i onclick="document.location='2000#1147841688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-05-17T04:54:48+00:00">May 17, 2006 04:54 AM UTC</time> by <b>Adam Williamson</b><a class="anchor" name="1147841688">&nbsp;</a></div><pre>**This Ticket was moved from Project OpenScienceGrid**<br>
<br></pre></div><div class='update_description'><i onclick="document.location='2000#0'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="1970-01-01T00:00:00+00:00">Jan 1, 1970 12:00 AM UTC</time> by <b>Tim Silvers&#58;<br></b><a class="anchor" name="0">&nbsp;</a></div><pre>Assigning these tickets to me and Rob in Leigh&#39;s absence.<br>
<br>


This was discussed at the meeting held 3/31/2006 at the LCG interop.<br>
Laurence will check on the usaage of $HOME within the LCG to determine<br>
requirements/specifications.  We will await word<br>
<br>


Ruth emailed to say that she was working on a Policy for Federation with other Grid<br>
Infrastructures<br>
<br>
oops wrong email paste..<br>
<br>
Ruth-<br>
<br>
We just discussed the status of LCG interop. for 0.4.1<br>
at the GOC meeting, so this issue is fresh on my mind.<br>
<br>
1) Trouble ticket exchange<br>
<br>
GGUS -&#62; GOC this is in development and we are on track for<br>
delivery of perl scripts which handle creating and<br>
assigning tickets to support centers.<br>
GOC -&#62; GGUS  We currently think that we will just send an<br>
email for ticket generation.  Marco Verlato<br>
would prefer a web services client <br>
which interacts as a LCG ROC which is more work<br>
for us.<br>
<br>
2) Cross-site registrations between the OSG RegDB and EGEE GOCDB2<br>
<br>
Currently, as I mentioned on Thursday, they prefer we register<br>
each OSG site in the GOCDB2.  I would much rather register with<br>
<div id='show_1590213335' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1590213335'>the GOCDB2 as a &#34;grid&#34; instead of as a ROC with sites.<br>
<br>
3) CE storage policies/requirements, use of $HOME by the RB and<br>
LCG applications<br>
<br>
4) We are still awaiting creation of the LCG Interoperabilty VO.<br>
This will drive the SFTs and restricts actual integration efforts.<br>
<br>
One issue that comes up in each area is that there is no<br>
policy and procedures to refer to when technical solutions<br>
are being developed. This is tending to create an imbalance<br>
regarding deviations from the current LCG policies for this effort.<br>
This means that they tend to expect us to do it thier way.<br>
An example of this would be the ROC representation within the<br>
GOCDB2 system.<br>
<br>
It will be hard to go further without an agreement with LCG management<br>
and an OSG policy on these matters. Of course we will be available<br>
to try to assist in the process as needed.<br>
<br>
leigh<br>
<br>


hmm email to goc@tick seem to not work?<br>
Date&#58; Tue, 7 Mar 2006 09&#58;24&#58;10 -0500<br>
From&#58; leighg@....<br>
To&#58; goc@...., osg@....<br>
Subject&#58; Re&#58; Fwd&#58; audit a couple of resource admins.. ISSUE=1230<br>
In-Reply-To&#58; &#60;043F9145-09D0-4ADB-9A30-566D3EC7ACE0@....&#62;<br>
User-Agent&#58; Mutt/1.5.8i <br>
<br>
I just added Rob to the ticket in case he can help here also, <br>
but here is what I think is needed&#58;<br>
<br>
1) Find and review the service agreement&#58; <br>
<a href='http&#58;//osg-docdb.opensciencegrid.org/cgi-bin/RetrieveFile?docid=87&amp' target='_blank' rel='nofollow'>http&#58;//osg-docdb.opensciencegrid.org/cgi-bin/RetrieveFile?docid=87&amp</a>;extension=pdf<br>
<br>
2) Make a list of questions&#58; <br>
The first being  &#34;Have you read the OSG Service agreement?&#34;<br>
3) Find the contact phone numbers for<br>
CALTECH  Suresh Singh &#60;suresh@....&#62; <br>
OU Horst <a href='http&#58;//www.nhn.ou.edu/' target='_blank' rel='nofollow'>http&#58;//www.nhn.ou.edu/</a>~hs/<br>
4) Call them let them know who you are and that you were asked to<br>
interview them WRT the Servcie Agreement for a survey.<br>
Go throught the list of questions, writing down<br>
the answers.<br>
5) udpate the ticket, send email to ruth with the results.<br>
<br>
leigh<br>
<br>


At the 3/7 Operations Meeting Steve said he sent this to us, we said it should go to Integration Team, <br>
IT said send it to GOC, and Ruth has been made aware of the ticket. We need a policy and so far no <br>
one is addressing this issue. Discussion will happen with LCG this week perhaps. Get update from <br>
Leigh Monday 3/13.<br>
<br>


Hi. The following correspondence from Steve Timm at Fermilab  <br>
summarizes an issue that he brought up concerning the lack of size  <br>
limits on home directories and the potential issues this may cause  <br>
which needs to be discussed amongst this integration group.<br>
<br>
Thank You,<br>
OSG Grid Operations Center<br>
goc@...., 317-278-9699<br>
Visit the OSG Support Page&#58;<br>
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a><br>
<br>
Begin forwarded message&#58;<br>
<br>
<font color='#7F7E6F'>&#62; From&#58; Steven Timm &#60;timm@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Date&#58; March 2, 2006 2&#58;26&#58;08 PM EST<br></font>
<font color='#7F7E6F'>&#62; To&#58; &#34;Silvers, Tim&#34; &#60;tsilver@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; Fwd&#58; Use of user home areas--limits? --ISSUE=1094<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; This is, as I said in the ticket, a policy discussion. I submitted<br></font>
<font color='#7F7E6F'>&#62; this ticket in hopes that someone would figure out what OSG<br></font>
<font color='#7F7E6F'>&#62; policy on this is going to be.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; The summary as I understand it is this&#58;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; LCG policy doesn&#39;t see anything wrong with putting a 2MB tarball,<br></font>
<font color='#7F7E6F'>&#62; or bigger, in the user home directory $GRAM_SCRATCH_DIR<br></font>
<font color='#7F7E6F'>&#62; which is created by globus at the beginning of the job.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; OSG has no policy on the size of the home area as far as I can tell<br></font>
<font color='#7F7E6F'>&#62; but many OSG sites including mine restrict its size with quotas,<br></font>
<font color='#7F7E6F'>&#62; and the usage cases say that these tarballs should be put in $APP<br></font>
<font color='#7F7E6F'>&#62; or $DATA, not in the home directory.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; So this is for the policy-makers to work out.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; Steve Timm<br></font>
<br>
Long description follows&#58;<br>
<br>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; Begin forwarded message&#58;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; From&#58; Sanjay Padhi &#60;spadhi@....&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Date&#58; February 24, 2006 11&#58;22&#58;37 AM EST<br></font>
<font color='#7F7E6F'>&#62; &#62; To&#58; Steven Timm &#60;timm@....&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Cc&#58; Ruth Pordes &#60;ruth@....&#62;, Frederick Luehring<br></font>
<font color='#7F7E6F'>&#62; &#62; &#60;luehring@....&#62;, Grid Ops &#60;goc@....&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Subject&#58; Re&#58; Use of user home areas--limits?<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Ok.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; One clarification.. It appears that the LCG jobs are doing<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; the globus-url-copy of the tarball into the<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; /home/usatlas1/gram_scratch_xxxxxxxxx as part of the job  <br></font>
<font color='#7F7E6F'>&#62; submission,<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; when the globus-job-manager first starts up. Is this correct? If<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; so, then it would not be possible to use $_CONDOR_SCRATCH_DIR since<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; this isn&#39;t defined until the job actually starts to run on<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; a worker node in condor.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; 1. Can you please check the user name who is submitted the job and<br></font>
<font color='#7F7E6F'>&#62; &#62; doing<br></font>
<font color='#7F7E6F'>&#62; &#62; the above mentioned operation. Is it Rod Walker ??. (I think he<br></font>
<font color='#7F7E6F'>&#62; &#62; is the<br></font>
<font color='#7F7E6F'>&#62; &#62; only one except me from LCG who can submit uniformly).<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Try using vdt-get-job-info for the pool account inorder to get the<br></font>
<font color='#7F7E6F'>&#62; &#62; associated user name.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; 2. The rules are to do the operation once the job goes to the<br></font>
<font color='#7F7E6F'>&#62; &#62; Worker node<br></font>
<font color='#7F7E6F'>&#62; &#62; (I mean at execute node) at that time we already have either<br></font>
<font color='#7F7E6F'>&#62; &#62; $_CONDOR_SCRATCH_DIR or $EDG_WL_SCRATCH defined. For initial<br></font>
<font color='#7F7E6F'>&#62; &#62; submission a<br></font>
<font color='#7F7E6F'>&#62; &#62; smallish tarball of size about 2.XX MB can be allowed per job to<br></font>
<font color='#7F7E6F'>&#62; &#62; end up at<br></font>
<font color='#7F7E6F'>&#62; &#62; the pool user account.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; It&#39;s OK for now, we will just keep bumping up your quota. But<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; already<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; we have bumped it from 50MB to 1 GB and you&#39;re still filling it up.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; The Glue Schema as being populated by the default configuration<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; scripts at the moment doesn&#39;t mention the idea of a user home<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; directory<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; at all, much less that it could have a quota. Nor, by default,<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; do the monitoring scripts look for possible quotas on $APP or $DATA<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; directories.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Well the solution is not bumping up the quota. If you wish to go<br></font>
<font color='#7F7E6F'>&#62; &#62; into the<br></font>
<font color='#7F7E6F'>&#62; &#62; interoperability mode, we have to accomodate both the worlds. Lets<br></font>
<font color='#7F7E6F'>&#62; &#62; try to<br></font>
<font color='#7F7E6F'>&#62; &#62; understand the problem ... ok ??<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Please let me know the info about the user.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Regards,<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Sanjay<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;</font>

<font color='#7F7E6F'>&#62; Begin forwarded message&#58;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; From&#58; Steven Timm &#60;timm@....&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Date&#58; February 24, 2006 11&#58;10&#58;15 AM EST<br></font>
<font color='#7F7E6F'>&#62; &#62; To&#58; Sanjay Padhi &#60;spadhi@....&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Cc&#58; Ruth Pordes &#60;ruth@....&#62;, Frederick Luehring<br></font>
<font color='#7F7E6F'>&#62; &#62; &#60;luehring@....&#62;, Grid Ops &#60;goc@....&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; Subject&#58; Re&#58; Use of user home areas--limits?<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; On Fri, 24 Feb 2006, Sanjay Padhi wrote&#58;<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Thanks Ruth.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; I think we (me and Steven) went through the gluecepolicy issues  <br></font>
<font color='#7F7E6F'>&#62; very<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; recently (until yesterday), I hope he could have mentioned that to<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; me.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; I didn&#39;t mention this policy yesterdaybecause (1) the corresponding<br></font>
<font color='#7F7E6F'>&#62; &#62; OSG policy really doesn&#39;t exist as yet, and (2) I only discovered<br></font>
<font color='#7F7E6F'>&#62; &#62; this morning<br></font>
<font color='#7F7E6F'>&#62; &#62; that the jobs had once again used the available quota up.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; About the scratch areas, if I am not wrong the LCG policies<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; DEMANDS it to<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; run on the area located (in terms of this case it means  <br></font>
<font color='#7F7E6F'>&#62; gram_scratch)<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; UNLESS&#58;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; 1. _CONDOR_SCRATCH_DIR is defined<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62; On my cluster, _CONDOR_SCRATCH_DIR is defined, but it is only  <br></font>
<font color='#7F7E6F'>&#62; created<br></font>
<font color='#7F7E6F'>&#62; &#62; at run time on a job by job basis. There is no easy way to declare<br></font>
<font color='#7F7E6F'>&#62; &#62; it to the glue schema or the other OSG monitoring things which<br></font>
<font color='#7F7E6F'>&#62; &#62; broadcast the $WN_TMP location. There are internal discussions<br></font>
<font color='#7F7E6F'>&#62; &#62; going on within OSG at the moment to figure out<br></font>
<font color='#7F7E6F'>&#62; &#62; the best way to do it.<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; or<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; 2. EDG_WL_SCRATCH is defined.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; If so then the job runs at _CONDOR_SCRATCH_DIR or  <br></font>
<font color='#7F7E6F'>&#62; EDG_WL_SCRATCH. The<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; simplest solution is to define these variables to $wntmp (in OSG<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; terminology) else you will have to deal with the quota issues for<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; the lcg<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; jobs.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Hope its alright.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;</font>

<font color='#7F7E6F'>&#62; &#62; On Feb 24, 2006, at 9&#58;12 AM, Steven Timm wrote&#58;<br></font>
<font color='#7F7E6F'>&#62; &#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; The closest thing we have to a policy at the moment regarding<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; usage of home areas is on the Integration Twiki and reads as  <br></font>
<font color='#7F7E6F'>&#62; follows&#58;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Each CE administrator will provide for the correct functioning of<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; the client software (Globus and SRM&#58; access to the users proxy,<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; gass_cache mechanism) for all the jobs running on the CE (on the<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; headnode using fork and on the worker nodes using condor/lsf/<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; pbs/...). Normally this requires a shared $HOME directory but the<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; administrator is free to use other mechanisms (LCG) and this is<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; hidden from the users. Users should have no other assumption about<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; the CE different from what is stated in this document. It is<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; unsafe to make assumptions about the existence and characteristics<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; (size, being shared, ...) of the $HOME directory.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; ----------------------------------------------<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; From the beginning I have had quite draconian quotas on this home<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; area for all grid users, 50MB per user. Now that (usatlas) jobs<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; are coming inbound from the LCG, I am discovering that they tend to<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; use more space in this area. At first it was a 1MB tarball per job,<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; now 2.2MB per job, and seems to be growing rapidly. With 230 jobs<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; submitted that adds up in a hurry. And if the user runs out of<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; quota during this process, it can make quite a mess. Lots<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; of globus-job-manager processes get hung.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; To be precise, I have seen a large number of usatlas jobs, coming<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; via LCG RB, begin<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; by doing globus-url-copy of an initial tarball into<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; /home/usatlas1/gram_scratch_xxxxxxxxxx. Although this is<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; the default directory that globus gives you for a scratch  <br></font>
<font color='#7F7E6F'>&#62; directory,<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; it is not what well-formed OSG jobs ought to be using. Unless<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; we make a firm policy on this, we will end up being even more<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; tied to the shared home directories than we already are.<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Steve<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62;<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; --<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; ------------------------------------------------------------------<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Steven C. Timm, Ph.D (630) 840-8525 timm@.... http&#58;//<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; home.fnal.gov/~timm/<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Fermilab Computing Div/Core Support Services Dept./Scientific<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Computing Section<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Assistant Group Leader, Farms and Clustered Systems Group<br></font>
<font color='#7F7E6F'>&#62; &#62;&#62; Lead of Computing Farms Team<br></font>
<br>


I sent email today (3/2) to Steve Timm requesting an update on this ticket.<br>
<br>


Begin forwarded message&#58;<br>
<br>
<font color='#7F7E6F'>&#62; From&#58; Sanjay Padhi &#60;spadhi@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Date&#58; February 24, 2006 11&#58;22&#58;37 AM EST<br></font>
<font color='#7F7E6F'>&#62; To&#58; Steven Timm &#60;timm@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Cc&#58; Ruth Pordes &#60;ruth@....&#62;, Frederick Luehring  <br></font>
<font color='#7F7E6F'>&#62; &#60;luehring@....&#62;, Grid Ops &#60;goc@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; Use of user home areas--limits?<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; Ok.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; One clarification.. It appears that the LCG jobs are doing<br></font>
<font color='#7F7E6F'>&#62;&#62; the globus-url-copy of the tarball into the<br></font>
<font color='#7F7E6F'>&#62;&#62; /home/usatlas1/gram_scratch_xxxxxxxxx as part of the job submission,<br></font>
<font color='#7F7E6F'>&#62;&#62; when the globus-job-manager first starts up.  Is this correct?  If<br></font>
<font color='#7F7E6F'>&#62;&#62; so, then it would not be possible to use $_CONDOR_SCRATCH_DIR since<br></font>
<font color='#7F7E6F'>&#62;&#62; this isn&#39;t defined until the job actually starts to run on<br></font>
<font color='#7F7E6F'>&#62;&#62; a worker node in condor.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; 1. Can you please check the user name who is submitted the job and  <br></font>
<font color='#7F7E6F'>&#62; doing<br></font>
<font color='#7F7E6F'>&#62;    the above mentioned operation. Is it Rod Walker ??. (I think he  <br></font>
<font color='#7F7E6F'>&#62; is the<br></font>
<font color='#7F7E6F'>&#62;    only one except me from LCG who can submit uniformly).<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;  Try using vdt-get-job-info for the pool account inorder to get the<br></font>
<font color='#7F7E6F'>&#62; associated user name.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; 2. The rules are to do the operation once the job goes to the  <br></font>
<font color='#7F7E6F'>&#62; Worker node<br></font>
<font color='#7F7E6F'>&#62; (I mean at execute node) at that time we already have either<br></font>
<font color='#7F7E6F'>&#62; $_CONDOR_SCRATCH_DIR or $EDG_WL_SCRATCH defined. For initial  <br></font>
<font color='#7F7E6F'>&#62; submission a<br></font>
<font color='#7F7E6F'>&#62; smallish tarball of size about 2.XX MB can be allowed per job to  <br></font>
<font color='#7F7E6F'>&#62; end up at<br></font>
<font color='#7F7E6F'>&#62; the pool user account.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; It&#39;s OK for now, we will just keep bumping up your quota.  But  <br></font>
<font color='#7F7E6F'>&#62;&#62; already<br></font>
<font color='#7F7E6F'>&#62;&#62; we have bumped it from 50MB to 1 GB and you&#39;re still filling it up.<br></font>
<font color='#7F7E6F'>&#62;&#62; The Glue Schema as being populated by the default configuration<br></font>
<font color='#7F7E6F'>&#62;&#62; scripts at the moment doesn&#39;t mention the idea of a user home  <br></font>
<font color='#7F7E6F'>&#62;&#62; directory<br></font>
<font color='#7F7E6F'>&#62;&#62; at all, much less that it could have a quota.  Nor, by default,<br></font>
<font color='#7F7E6F'>&#62;&#62; do the monitoring scripts look for possible quotas on $APP or $DATA<br></font>
<font color='#7F7E6F'>&#62;&#62; directories.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; Well the solution is not bumping up the quota. If you wish to go  <br></font>
<font color='#7F7E6F'>&#62; into the<br></font>
<font color='#7F7E6F'>&#62; interoperability mode, we have to accomodate both the worlds. Lets  <br></font>
<font color='#7F7E6F'>&#62; try to<br></font>
<font color='#7F7E6F'>&#62; understand the problem ... ok ??<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;  Please let me know the info about the user.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;  Regards,<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;    Sanjay<br></font>
<br>


Begin forwarded message&#58;<br>
<br>
<font color='#7F7E6F'>&#62; From&#58; Steven Timm &#60;timm@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Date&#58; February 24, 2006 11&#58;10&#58;15 AM EST<br></font>
<font color='#7F7E6F'>&#62; To&#58; Sanjay Padhi &#60;spadhi@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Cc&#58; Ruth Pordes &#60;ruth@....&#62;, Frederick Luehring  <br></font>
<font color='#7F7E6F'>&#62; &#60;luehring@....&#62;, Grid Ops &#60;goc@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; Use of user home areas--limits?<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; On Fri, 24 Feb 2006, Sanjay Padhi wrote&#58;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; Thanks Ruth.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; I think we (me and Steven) went through the gluecepolicy issues very<br></font>
<font color='#7F7E6F'>&#62;&#62; recently (until yesterday), I hope he could have mentioned that to  <br></font>
<font color='#7F7E6F'>&#62;&#62; me.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; I didn&#39;t mention this policy yesterdaybecause (1) the corresponding  <br></font>
<font color='#7F7E6F'>&#62; OSG policy really doesn&#39;t exist as yet, and (2) I only discovered  <br></font>
<font color='#7F7E6F'>&#62; this morning<br></font>
<font color='#7F7E6F'>&#62; that the jobs had once again used the available quota up.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; About the scratch areas, if I am not wrong the LCG policies  <br></font>
<font color='#7F7E6F'>&#62;&#62; DEMANDS it to<br></font>
<font color='#7F7E6F'>&#62;&#62; run on the area located (in terms of this case it means gram_scratch)<br></font>
<font color='#7F7E6F'>&#62;&#62; UNLESS&#58;<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; 1. _CONDOR_SCRATCH_DIR is defined<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; On my cluster, _CONDOR_SCRATCH_DIR is defined, but it is only created<br></font>
<font color='#7F7E6F'>&#62; at run time on a job by job basis.  There is no easy way to declare  <br></font>
<font color='#7F7E6F'>&#62; it to the glue schema or the other OSG monitoring things which  <br></font>
<font color='#7F7E6F'>&#62; broadcast the $WN_TMP location.  There are internal discussions  <br></font>
<font color='#7F7E6F'>&#62; going on within OSG at the moment to figure out<br></font>
<font color='#7F7E6F'>&#62; the best way to do it.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; or<br></font>
<font color='#7F7E6F'>&#62;&#62; 2. EDG_WL_SCRATCH is defined.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; If so then the job runs at _CONDOR_SCRATCH_DIR or EDG_WL_SCRATCH. The<br></font>
<font color='#7F7E6F'>&#62;&#62; simplest solution is to define these variables to $wntmp (in OSG<br></font>
<font color='#7F7E6F'>&#62;&#62; terminology) else you will have to deal with the quota issues for  <br></font>
<font color='#7F7E6F'>&#62;&#62; the lcg<br></font>
<font color='#7F7E6F'>&#62;&#62; jobs.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; Hope its alright.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<br>


Begin forwarded message&#58;<br>
<br>
<font color='#7F7E6F'>&#62; From&#58; Sanjay Padhi &#60;spadhi@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Date&#58; February 24, 2006 10&#58;58&#58;51 AM EST<br></font>
<font color='#7F7E6F'>&#62; To&#58; Ruth Pordes &#60;ruth@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Cc&#58; Steven Timm &#60;timm@....&#62;, Frederick Luehring  <br></font>
<font color='#7F7E6F'>&#62; &#60;luehring@....&#62;, Grid Ops &#60;goc@....&#62;<br></font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; Use of user home areas--limits?<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; Thanks Ruth.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;  I think we (me and Steven) went through the gluecepolicy issues very<br></font>
<font color='#7F7E6F'>&#62; recently (until yesterday), I hope he could have mentioned that to me.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; About the scratch areas, if I am not wrong the LCG policies DEMANDS  <br></font>
<font color='#7F7E6F'>&#62; it to<br></font>
<font color='#7F7E6F'>&#62; run on the area located (in terms of this case it means gram_scratch)<br></font>
<font color='#7F7E6F'>&#62; UNLESS&#58;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; 1. _CONDOR_SCRATCH_DIR is defined<br></font>
<font color='#7F7E6F'>&#62; or<br></font>
<font color='#7F7E6F'>&#62; 2. EDG_WL_SCRATCH is defined.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;  If so then the job runs at _CONDOR_SCRATCH_DIR or EDG_WL_SCRATCH. The<br></font>
<font color='#7F7E6F'>&#62; simplest solution is to define these variables to $wntmp (in OSG<br></font>
<font color='#7F7E6F'>&#62; terminology) else you will have to deal with the quota issues for  <br></font>
<font color='#7F7E6F'>&#62; the lcg<br></font>
<font color='#7F7E6F'>&#62; jobs.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;  Hope its alright.<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62; Regards,<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;   Sanjay<br></font>
<br>


<font color='#7F7E6F'>&#62; On Feb 24, 2006, at 9&#58;12 AM, Steven Timm wrote&#58;<br></font>
<font color='#7F7E6F'>&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; The closest thing we have to a policy at the moment regarding<br></font>
<font color='#7F7E6F'>&#62;&#62; usage of home areas is on the Integration Twiki and reads as follows&#58;<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; Each CE administrator will provide for the correct functioning of  <br></font>
<font color='#7F7E6F'>&#62;&#62; the client software (Globus and SRM&#58; access to the users proxy,  <br></font>
<font color='#7F7E6F'>&#62;&#62; gass_cache mechanism) for all the jobs running on the CE (on the  <br></font>
<font color='#7F7E6F'>&#62;&#62; headnode using fork and on the worker nodes using condor/lsf/ <br></font>
<font color='#7F7E6F'>&#62;&#62; pbs/...). Normally this requires a shared $HOME directory but the  <br></font>
<font color='#7F7E6F'>&#62;&#62; administrator is free to use other mechanisms (LCG) and this is  <br></font>
<font color='#7F7E6F'>&#62;&#62; hidden from the users. Users should have no other assumption about  <br></font>
<font color='#7F7E6F'>&#62;&#62; the CE different from what is stated in this document. It is  <br></font>
<font color='#7F7E6F'>&#62;&#62; unsafe to make assumptions about the existence and characteristics  <br></font>
<font color='#7F7E6F'>&#62;&#62; (size, being shared, ...) of the $HOME directory.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; ----------------------------------------------<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; From the beginning I have had quite draconian quotas on this home<br></font>
<font color='#7F7E6F'>&#62;&#62; area for all grid users, 50MB per user.  Now that (usatlas) jobs  <br></font>
<font color='#7F7E6F'>&#62;&#62; are coming inbound from the LCG, I am discovering that they tend to<br></font>
<font color='#7F7E6F'>&#62;&#62; use more space in this area.  At first it was a 1MB tarball per job,<br></font>
<font color='#7F7E6F'>&#62;&#62; now 2.2MB per job, and seems to be growing rapidly.  With 230 jobs<br></font>
<font color='#7F7E6F'>&#62;&#62; submitted that adds up in a hurry.  And if the user runs out of<br></font>
<font color='#7F7E6F'>&#62;&#62; quota during this process, it can make quite a mess.  Lots<br></font>
<font color='#7F7E6F'>&#62;&#62; of globus-job-manager processes get hung.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; To be precise, I have seen a large number of usatlas jobs, coming  <br></font>
<font color='#7F7E6F'>&#62;&#62; via LCG RB, begin<br></font>
<font color='#7F7E6F'>&#62;&#62; by doing globus-url-copy of an initial tarball into<br></font>
<font color='#7F7E6F'>&#62;&#62; /home/usatlas1/gram_scratch_xxxxxxxxxx. Although this is<br></font>
<font color='#7F7E6F'>&#62;&#62; the default directory that globus gives you for a scratch directory,<br></font>
<font color='#7F7E6F'>&#62;&#62; it is not what well-formed OSG jobs ought to be using.  Unless<br></font>
<font color='#7F7E6F'>&#62;&#62; we make a firm policy on this, we will end up being even more<br></font>
<font color='#7F7E6F'>&#62;&#62; tied to the shared home directories than we already are.<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; Steve<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62;<br></font>
<font color='#7F7E6F'>&#62;&#62; -- <br></font>
<font color='#7F7E6F'>&#62;&#62; ------------------------------------------------------------------<br></font>
<font color='#7F7E6F'>&#62;&#62; Steven C. Timm, Ph.D  (630) 840-8525  timm@....  http&#58;// <br></font>
<font color='#7F7E6F'>&#62;&#62; home.fnal.gov/~timm/<br></font>
<font color='#7F7E6F'>&#62;&#62; Fermilab Computing Div/Core Support Services Dept./Scientific  <br></font>
<font color='#7F7E6F'>&#62;&#62; Computing Section<br></font>
<font color='#7F7E6F'>&#62;&#62; Assistant Group Leader, Farms and Clustered Systems Group<br></font>
<font color='#7F7E6F'>&#62;&#62; Lead of Computing Farms Team<br></font>
<br>
---------------------------<br>
<br>
<br>
The following data is incompatible with the receiving project&#58;<br>
Field&#58; Status (The original Status was not recognized. Defaulted to &#34;Open&#34;)  <br>
Original Data&#58; ENG-Active<br>
Field&#58; Ticket-Type (Not a valid choice for this Project field )  <br>
Original Data&#58; Tracking<br>
Field&#58; Originating VO Support Center (Not a valid choice for this Project field )  <br>
Original Data&#58; USATLAS Support Center<br>
Field&#58; Destination VO Support Center (Not a valid choice for this Project field )  <br>
Original Data&#58; OSG Support Center<br>
Field&#58; Short Description (Project field not present)  <br>
Original Data&#58; Use of user home areas--limits?<br>
</div><script type='text/javascript'>
        $('#show_1590213335').click(function() {
            $('#detail_1590213335').slideDown("normal");
            $('#show_1590213335').hide();
            $('#hide_1590213335').show();
        });
        $('#hide_1590213335').click(function() {
            $('#detail_1590213335').slideUp();
            $('#hide_1590213335').hide();
            $('#show_1590213335').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2000">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2000});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
