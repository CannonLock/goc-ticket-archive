<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[18255] LIGO not listed among VOs for new certificate</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=18255" method="post">
<div class="page-header">
    <h3><span class="muted">18255</span> / LIGO not listed among VOs for new certificate</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Cregg Yancey</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">LIGO</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Cregg Yancey</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">LIGO</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-12-09</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">LIGO <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/18255", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='18255#1386711720'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T21:42:00+00:00">Dec 10, 2013 09:42 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1386711720">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='18255#1386696971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T17:36:11+00:00">Dec 10, 2013 05:36 PM UTC</time> by <b>cyancey@....</b><a class="anchor" name="1386696971">&nbsp;</a></div><pre>Thanks, so much for your help, Brian.  Yes, I&#39;m able to log into the cluster using ligo-proxy-init.

Like I said, I was confused due to the initial email regarding my DOEGrid certificate.  This new system of just using our ligo.org&#60;<a href='http&#58;//ligo.org&#62' target='_blank' rel='nofollow'>http&#58;//ligo.org&#62</a>; login definitely feels much easier, so far, than the hassle of worrying over certificates and having to renew them every year.

I apologize if I seemed snippy at some points.  It&#39;s just that I wanted to make sure that I&#39;m able to continue to log into the cluster and not get locked out due to an expired certificate.  I had accidentally let my certificate expire once before, and it was a bit of a process getting reinstated; it was quite embarrassing, and I was just trying to make sure I was not running into a situation where it may happen again due to process difficulties.  But this makes things so much simpler.

Again, thanks so much for helping me with this.

On Dec 10, 2013, at 12&#58;15 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='18255#1386695710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T17:15:10+00:00">Dec 10, 2013 05:15 PM UTC</time> by <b>Brian Moe</b><a class="anchor" name="1386695710">&nbsp;</a></div><pre>ligo-proxy-init will let you log into LIGO clusters and you no longer need
to worry about certificates.

The bit about the OSG CA is for users of the Open Science Grid.  There are
very few
LIGO users who use OSG resources.  If you were one of them, you would know.

With respect to LIGO credentials, your DOEGrids certificate is being
replaced by
a LIGO CA certificate which is managed for you in a central location.
ligo-proxy-init
will retrieve a proxy for that certificate which can be used to access
LIGO services.

Do not worry about this notice, it should not apply to you.

So are you able to log into a cluster using ligo-proxy-init?

Brian

On Tue, 10 Dec 2013 10&#58;54&#58;00 -0600, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18255#1386694450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T16:54:10+00:00">Dec 10, 2013 04:54 PM UTC</time> by <b>cyancey@....</b><a class="anchor" name="1386694450">&nbsp;</a></div><pre>Okay, I&#39;ve just upgraded my LDG client (I was at 5.2.8, and the new client is at 5.2.12).  However, I&#39;m still a little unclear what I need to do about this expiring DOEGrid certificate.  Do I still need to get a new Open Science Grid certificate to log into the clusters (this is what the DOEGrids email that I received is saying that I needed to do), or are we now just using the ligo.org&#60;<a href='http&#58;//ligo.org&#62' target='_blank' rel='nofollow'>http&#58;//ligo.org&#62</a>; login as specified on the web page?

Just to add a bit more context, here is a copy of the email I just recently received (with key information blacked-out for security)&#58;

**STOP!  IMPORTANT NOTICE&#58;  DOEGrids CA stopped issuing new certificates and renewals. DOEGrids customers are being transitioned (<a href='https&#58;//twiki.grid.iu.edu/bin/view/Security/OSGCATransition2012' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Security/OSGCATransition2012</a>) to a new CA managed by the Open Science Grid (OSG). All users must begin using the new OSG CA as soon as possible. To do so, visit&#58; idmanager.opensciencegrid.org&#60;<a href='http&#58;//idmanager.opensciencegrid.org&#62' target='_blank' rel='nofollow'>http&#58;//idmanager.opensciencegrid.org&#62</a>;  Please contact your RA with any questions or concerns.  All DOE Grids certificates issued or renewed prior to March 23, 2013 will continue to stay active and supported until they expire.**

If you are a member of CMS and if you already have a CERN user account, then you should get a certificate from CERN CA. Please consult the CMS wiki page explaining this process at<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/EndUsers#OSG_PKI_Transition_Impact_on_End.' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/EndUsers#OSG_PKI_Transition_Impact_on_End.</a> If for any reason you cannot get a CERN CA certificate, then please go to OSG CA.

The following certificate is going to expire on
Fri Jan 03 06&#58;28&#58;28 PST 2014
Serial number = ######
SubjectDN = CN=##################,OU=People,DC=doegrids,DC=org

To obtain a new OSG user certificate please visit the following links&#58;
<a href='https&#58;//oim.grid.iu.edu/oim/certificate' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificate</a>
<a href='https&#58;//www.racf.bnl.gov/docs/howto/grid/osg-certificates#request-cert' target='_blank' rel='nofollow'>https&#58;//www.racf.bnl.gov/docs/howto/grid/osg-certificates#request-cert</a>

You will continue receiving these notices until expiration.

This was the email that precipitated my confusion.  So, I&#39;m just wondering, now, if we still need to do what this email is suggesting, or do we just use ligo-proxy-init (deprecating the old grid-proxy-init) with our ligo.org&#60;<a href='http&#58;//ligo.org&#62' target='_blank' rel='nofollow'>http&#58;//ligo.org&#62</a>; login now and no longer worry about certificates.

On Dec 10, 2013, at 11&#58;30 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='18255#1386693009'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T16:30:09+00:00">Dec 10, 2013 04:30 PM UTC</time> by <b>Brian Moe</b><a class="anchor" name="1386693009">&nbsp;</a></div><pre>Oh sorry.  For some reason I thought you were talking about service/host
certificates.

For LIGO users, you no longer have to maintain your own certificates.
Instructions are
here&#58;

<a href='https&#58;//wiki.ligo.org/LDG/GridCredentials' target='_blank' rel='nofollow'>https&#58;//wiki.ligo.org/LDG/GridCredentials</a>

Brian

On Tue, 10 Dec 2013 10&#58;12&#58;00 -0600, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18255#1386691931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T16:12:11+00:00">Dec 10, 2013 04:12 PM UTC</time> by <b>cyancey@....</b><a class="anchor" name="1386691931">&nbsp;</a></div><pre>I just recently received the email saying that my DOEGrids certification that allows me to remotely log into the various LIGO clusters is about to expire.  At the same time, it mentions that the DOEGrids certificates are being deprecated for the new Open Science certificates.  I went to the website to obtain a new certificate for Open Science, since we can no longer renew the DOEGrids certificate.  At the bottom of the new certificate request form, there is a pulldown where we are supposed to select our Virtual Organization, however, LIGO is not listed.

I went to the link you gave me, but the wiki is very scant on specific details.  From where do we obtain the template file?  Is it just a text file that we write in the format shown?  What do we name it?  Where do we save it?  In what directory should we be applying the commands listed, because those commands shown are looking for specific files that should be in the same directory in which we execute the command.

What is happening with the former method of logging into the clusters with gsissh, grid-proxy-init, etc.?  Will that still be used, or should we uninstall it and install something different? What&#39;s the uninstall command, if so?

There&#39;s really just not enough information and detail regarding this transition, unless I somehow missed a prior email on it.

On Dec 9, 2013, at 12&#58;30 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='18255#1386610214'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-09T17:30:14+00:00">Dec 9, 2013 05:30 PM UTC</time> by <b>Brian Moe</b><a class="anchor" name="1386610214">&nbsp;</a></div><pre>Hi Cregg,

If you mean to be transitioning to the the LIGO CA, instructions for
getting a LIGO CA host certificate are here&#58;

<a href='https&#58;//wiki.ligo.org/AuthProject/CertificateAuthorityServiceCertRequest' target='_blank' rel='nofollow'>https&#58;//wiki.ligo.org/AuthProject/CertificateAuthorityServiceCertRequest</a>

Brian

On Mon, 09 Dec 2013 10&#58;49&#58;00 -0600, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='18255#1386607798'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-09T16:49:58+00:00">Dec 9, 2013 04:49 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1386607798">&nbsp;</a></div><pre>I&#39;m trying to transition from the DOEGrids certificate to this new certificate system; however LIGO is not being listed as one of the VOs in the pull-down at the bottom of the request form.

by Cregg Yancey (guest)</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F18255">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
