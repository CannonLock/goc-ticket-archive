<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30803] transfer errors for transfers from CA-MCGILL-CLUMEQ-T2 to NET2</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30803" method="post">
<div class="page-header">
    <h3><span class="muted">30803</span> / transfer errors for transfers from CA-MCGILL-CLUMEQ-T2 to NET2</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">blazek </div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">blazek</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-08-22</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=123285">123285</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=26382">26382</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30803", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30803?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30803?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20transfer%20errors%20for%20transfers%20from%20CA-MCGILL-CLUMEQ-T2%20to%20NET2%20ISSUE%3D30803%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30803#1471635074'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T19:31:14+00:00">Aug 19, 2016 07:31 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471635074">&nbsp;</a></div><pre>Re-opened
<a href='https&#58;//ggus.eu/?mode=ticket_info&ticket_id=123465' target='_blank' rel='nofollow'>https&#58;//ggus.eu/?mode=ticket_info&ticket_id=123465</a>

-- by Gen Kawamura at Thu Aug 18 12&#58;41&#58;04 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a></pre></div><div class='update_description'><i onclick="document.location='30803#1471635043'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T19:30:43+00:00">Aug 19, 2016 07:30 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1471635043">&nbsp;</a></div><pre>Hello All,

Is there any news on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='30803#1471287427'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T18:57:07+00:00">Aug 15, 2016 06:57 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1471287427">&nbsp;</a></div><pre>Hello All,

Is there any news on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='30803#1470858929'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T19:55:29+00:00">Aug 10, 2016 07:55 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470858929">&nbsp;</a></div><pre>Hi there
Let me have a look
Simon

-- by Simon Nderitu at Wed Aug 10 15&#58;39&#58;56 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a></pre></div><div class='update_description'><i onclick="document.location='30803#1470841159'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T14:59:19+00:00">Aug 10, 2016 02:59 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470841159">&nbsp;</a></div><pre>Hi Petr,

We aren&#39;t using an adaptive firewall at our end. A site is either blocked or
not blocked, and McGill is not blocked on and of the gridftp endpoints. We&#39;re
also seeing connections from McGill on our gridftp endpoints and some transfers
are succeeding among the timeouts (see attached screenshot).

I can download your test file just fine.

Maybe your theory is correct and there is an adaptive firewall at the McGill
end. Do we have anyone from McGill on this thread?

- Saul & Augustine

On Mon Aug 08 14&#58;15&#58;15 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Thanks for your insight about network status. My personal suspect</font>
<font color='#7F7E6F'>&#62; right</font>
<font color='#7F7E6F'>&#62; now would be some &#34;clever&#34; firewall (IDS/IPS) on the path that blocks</font>
<font color='#7F7E6F'>&#62; &#34;suspicious traffic&#34; (e.g. with high number of connections per second</font>
<font color='#7F7E6F'>&#62; or with huge bandwidth used by data transfers). Do you use some kind</font>
<font color='#7F7E6F'>&#62; of</font>
<font color='#7F7E6F'>&#62; adaptive firewall (and do you have access to its log files)?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; You can test data transfers by hand directly with globus-url-copy&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On at3.bu.edu</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] globus-url-copy -dbg -v</font>
<font color='#7F7E6F'>&#62; <a href='gsiftp&#58;//gridftp02.clumeq.mcgill.ca&#58;2811//lb/grid-' target='_blank' rel='nofollow'>gsiftp&#58;//gridftp02.clumeq.mcgill.ca&#58;2811//lb/grid-</a></font>
<font color='#7F7E6F'>&#62; data/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-</font>
<font color='#7F7E6F'>&#62; MCGILL-CLUMEQ-T2_DATADISK.file0.rnd</font>
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_131187323' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_131187323'><font color='#7F7E6F'>&#62; # On gridftp02.clumeq.mcgill.ca</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] globus-url-copy -dbg -v</font>
<font color='#7F7E6F'>&#62;</font>
<a href='gsiftp&#58;//at3.bu.edu//gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd' target='_blank' rel='nofollow'>gsiftp&#58;//at3.bu.edu//gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd</a>
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Very simple script with endless loop of globus-url-copy (+ date +</font>
<font color='#7F7E6F'>&#62; sleep) could provide you info when transfers works and when fails (OK,</font>
<font color='#7F7E6F'>&#62; in a real world you probably have more GridFTP servers, so the real</font>
<font color='#7F7E6F'>&#62; test will be probably more complicated...).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Full test of data transfer (including communication with SRM) can be</font>
<font color='#7F7E6F'>&#62; done using &#34;gfal-copy&#34; (or &#34;lcg-cp&#34; or &#34;srmcp&#34; or &#34;srm-copy&#34;) command&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On atlas.bu.edu</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] rm -rf /tmp/aaa</font>
<font color='#7F7E6F'>&#62; [user@....] gfal-copy -v</font>
<font color='#7F7E6F'>&#62;</font>
&#39;<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-</a>
<font color='#7F7E6F'>&#62; MCGILL-CLUMEQ-T2_DATADISK.file0.rnd&#39;</font>
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On storm02.clumeq.mcgill.ca</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] rm -rf /tmp/aaa</font>
<font color='#7F7E6F'>&#62; [user@....] gfal-copy -v</font>
<font color='#7F7E6F'>&#62;</font>
&#39;<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd&#39' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd&#39</a>;
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Petr Vokac at Mon Aug 08 14&#58;13&#58;06 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi All,</font>
<font color='#7F7E6F'>&#62; I&#39;m afraid I don&#39;t see any evidence of an obvious network problem</font>
<font color='#7F7E6F'>&#62; here,</font>
<font color='#7F7E6F'>&#62; e.g.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//ps-bandwidth.clumeq.mcgill.ca/perfsonar-' target='_blank' rel='nofollow'>http&#58;//ps-bandwidth.clumeq.mcgill.ca/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=132.206.245.253&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//atlas-npt2.bu.edu/perfsonar-' target='_blank' rel='nofollow'>http&#58;//atlas-npt2.bu.edu/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=192.5.207.252&dest=132.206.245.253&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; network performs very well both ways. Same for Univ. of Toronto&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//ps-bandwidth.scinet.utoronto.ca/perfsonar-' target='_blank' rel='nofollow'>http&#58;//ps-bandwidth.scinet.utoronto.ca/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=142.150.19.60&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//atlas-npt2.bu.edu/perfsonar-' target='_blank' rel='nofollow'>http&#58;//atlas-npt2.bu.edu/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=192.5.207.252&dest=142.150.19.60&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Now those are sparse measurements (just once a day), so this doesn&#39;t</font>
<font color='#7F7E6F'>&#62; rule out issues during the day, but if I understand DDM graph</font>
<font color='#7F7E6F'>&#62; correctly, failures are being reported consistently [1]. There is some</font>
<font color='#7F7E6F'>&#62; packet loss reported for the links, but it&#39;s clearly not accompanied</font>
<font color='#7F7E6F'>&#62; by</font>
<font color='#7F7E6F'>&#62; loss of throughput, so I wouldn&#39;t consider it indicative of an actual</font>
<font color='#7F7E6F'>&#62; network issue.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Marian</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [1]</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&date.interval=720&dst.cloud=(US)&dst.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&dst.tier=(2)&dst.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP)&grouping.dst=(site)&grouping.src=(site)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&src.cloud=(CA)&src.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&src.tier=(2)&src.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP)&tab=transfer_plots</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Marian Babik at Mon Aug 08 08&#58;23&#58;01 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; keep observing these errors&#58; there have been 2,100 of them in the past</font>
<font color='#7F7E6F'>&#62; 4 hrs</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22US%22&d.error_code=186&d.state=(TRANSFER_FAILED)&date.from=201608071740&date.interval=0&date.to=201608072140&dst.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP)&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by blazek at Sun Aug 07 21&#58;52&#58;41 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Mon Aug 08 18&#58;14&#58;10 UTC 2016</font>
-- by youssef@.... at Wed Aug 10 14&#58;59&#58;01 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26382
</div><script type='text/javascript'>
        $('#show_131187323').click(function() {
            $('#detail_131187323').slideDown("normal");
            $('#show_131187323').hide();
            $('#hide_131187323').show();
        });
        $('#hide_131187323').click(function() {
            $('#detail_131187323').slideUp();
            $('#hide_131187323').hide();
            $('#show_131187323').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30803#1470839855'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T14:37:35+00:00">Aug 10, 2016 02:37 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470839855">&nbsp;</a></div><pre>Thanks very much Petr,

We&#39;ll try your stuff below. - Saul

On Mon Aug 08 14&#58;15&#58;15 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Thanks for your insight about network status. My personal suspect</font>
<font color='#7F7E6F'>&#62; right</font>
<font color='#7F7E6F'>&#62; now would be some &#34;clever&#34; firewall (IDS/IPS) on the path that blocks</font>
<font color='#7F7E6F'>&#62; &#34;suspicious traffic&#34; (e.g. with high number of connections per second</font>
<font color='#7F7E6F'>&#62; or with huge bandwidth used by data transfers). Do you use some kind</font>
<font color='#7F7E6F'>&#62; of</font>
<font color='#7F7E6F'>&#62; adaptive firewall (and do you have access to its log files)?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; You can test data transfers by hand directly with globus-url-copy&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On at3.bu.edu</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] globus-url-copy -dbg -v</font>
<font color='#7F7E6F'>&#62; <a href='gsiftp&#58;//gridftp02.clumeq.mcgill.ca&#58;2811//lb/grid-' target='_blank' rel='nofollow'>gsiftp&#58;//gridftp02.clumeq.mcgill.ca&#58;2811//lb/grid-</a></font>
<font color='#7F7E6F'>&#62; data/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-</font>
<font color='#7F7E6F'>&#62; MCGILL-CLUMEQ-T2_DATADISK.file0.rnd</font>
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On gridftp02.clumeq.mcgill.ca</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] globus-url-copy -dbg -v</font>
<font color='#7F7E6F'>&#62;</font>
<a href='gsiftp&#58;//at3.bu.edu//gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd' target='_blank' rel='nofollow'>gsiftp&#58;//at3.bu.edu//gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd</a>
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Very simple script with endless loop of globus-url-copy (+ date +</font>
<div id='show_439549475' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_439549475'><font color='#7F7E6F'>&#62; sleep) could provide you info when transfers works and when fails (OK,</font>
<font color='#7F7E6F'>&#62; in a real world you probably have more GridFTP servers, so the real</font>
<font color='#7F7E6F'>&#62; test will be probably more complicated...).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Full test of data transfer (including communication with SRM) can be</font>
<font color='#7F7E6F'>&#62; done using &#34;gfal-copy&#34; (or &#34;lcg-cp&#34; or &#34;srmcp&#34; or &#34;srm-copy&#34;) command&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On atlas.bu.edu</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] rm -rf /tmp/aaa</font>
<font color='#7F7E6F'>&#62; [user@....] gfal-copy -v</font>
<font color='#7F7E6F'>&#62;</font>
&#39;<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-</a>
<font color='#7F7E6F'>&#62; MCGILL-CLUMEQ-T2_DATADISK.file0.rnd&#39;</font>
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # On storm02.clumeq.mcgill.ca</font>
<font color='#7F7E6F'>&#62; [user@....] voms-proxy-init -key</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.key -cert</font>
<font color='#7F7E6F'>&#62; my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas</font>
<font color='#7F7E6F'>&#62; [user@....] rm -rf /tmp/aaa</font>
<font color='#7F7E6F'>&#62; [user@....] gfal-copy -v</font>
<font color='#7F7E6F'>&#62;</font>
&#39;<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd&#39' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd&#39</a>;
<font color='#7F7E6F'>&#62; file&#58;///tmp/aaa</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Petr Vokac at Mon Aug 08 14&#58;13&#58;06 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi All,</font>
<font color='#7F7E6F'>&#62; I&#39;m afraid I don&#39;t see any evidence of an obvious network problem</font>
<font color='#7F7E6F'>&#62; here,</font>
<font color='#7F7E6F'>&#62; e.g.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//ps-bandwidth.clumeq.mcgill.ca/perfsonar-' target='_blank' rel='nofollow'>http&#58;//ps-bandwidth.clumeq.mcgill.ca/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=132.206.245.253&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//atlas-npt2.bu.edu/perfsonar-' target='_blank' rel='nofollow'>http&#58;//atlas-npt2.bu.edu/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=192.5.207.252&dest=132.206.245.253&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; network performs very well both ways. Same for Univ. of Toronto&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//ps-bandwidth.scinet.utoronto.ca/perfsonar-' target='_blank' rel='nofollow'>http&#58;//ps-bandwidth.scinet.utoronto.ca/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=142.150.19.60&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//atlas-npt2.bu.edu/perfsonar-' target='_blank' rel='nofollow'>http&#58;//atlas-npt2.bu.edu/perfsonar-</a></font>
<font color='#7F7E6F'>&#62;</font>
graphs/graphWidget.cgi?source=192.5.207.252&dest=142.150.19.60&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Now those are sparse measurements (just once a day), so this doesn&#39;t</font>
<font color='#7F7E6F'>&#62; rule out issues during the day, but if I understand DDM graph</font>
<font color='#7F7E6F'>&#62; correctly, failures are being reported consistently [1]. There is some</font>
<font color='#7F7E6F'>&#62; packet loss reported for the links, but it&#39;s clearly not accompanied</font>
<font color='#7F7E6F'>&#62; by</font>
<font color='#7F7E6F'>&#62; loss of throughput, so I wouldn&#39;t consider it indicative of an actual</font>
<font color='#7F7E6F'>&#62; network issue.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Marian</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [1]</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&date.interval=720&dst.cloud=(US)&dst.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&dst.tier=(2)&dst.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP)&grouping.dst=(site)&grouping.src=(site)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&src.cloud=(CA)&src.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&src.tier=(2)&src.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP)&tab=transfer_plots</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Marian Babik at Mon Aug 08 08&#58;23&#58;01 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; keep observing these errors&#58; there have been 2,100 of them in the past</font>
<font color='#7F7E6F'>&#62; 4 hrs</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22US%22&d.error_code=186&d.state=(TRANSFER_FAILED)&date.from=201608071740&date.interval=0&date.to=201608072140&dst.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP)&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by blazek at Sun Aug 07 21&#58;52&#58;41 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Mon Aug 08 18&#58;14&#58;10 UTC 2016</font>
-- by youssef@.... at Wed Aug 10 14&#58;37&#58;27 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26382
</div><script type='text/javascript'>
        $('#show_439549475').click(function() {
            $('#detail_439549475').slideDown("normal");
            $('#show_439549475').hide();
            $('#hide_439549475').show();
        });
        $('#hide_439549475').click(function() {
            $('#detail_439549475').slideUp();
            $('#hide_439549475').hide();
            $('#show_439549475').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30803#1470680050'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T18:14:10+00:00">Aug 8, 2016 06:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470680050">&nbsp;</a></div><pre>Thanks for your insight about network status. My personal suspect right now would be some &#34;clever&#34; firewall (IDS/IPS) on the path that blocks &#34;suspicious traffic&#34; (e.g. with high number of connections per second or with huge bandwidth used by data transfers). Do you use some kind of adaptive firewall (and do you have access to its log files)?

You can test data transfers by hand directly with globus-url-copy&#58;

# On at3.bu.edu
[user@....] voms-proxy-init -key my-certificate-registered-in-atlas-vo.key -cert my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas
[user@....] globus-url-copy -dbg -v <a href='gsiftp&#58;//gridftp02.clumeq.mcgill.ca&#58;2811//lb/grid-data/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-MCGILL-CLUMEQ-T2_DATADISK.file0.rnd' target='_blank' rel='nofollow'>gsiftp&#58;//gridftp02.clumeq.mcgill.ca&#58;2811//lb/grid-data/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-MCGILL-CLUMEQ-T2_DATADISK.file0.rnd</a> file&#58;///tmp/aaa

# On gridftp02.clumeq.mcgill.ca
[user@....] voms-proxy-init -key my-certificate-registered-in-atlas-vo.key -cert my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas
[user@....] globus-url-copy -dbg -v <a href='gsiftp&#58;//at3.bu.edu//gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd' target='_blank' rel='nofollow'>gsiftp&#58;//at3.bu.edu//gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd</a> file&#58;///tmp/aaa

Very simple script with endless loop of globus-url-copy (+ date + sleep) could provide you info when transfers works and when fails (OK, in a real world you probably have more GridFTP servers, so the real test will be probably more complicated...).

Full test of data transfer (including communication with SRM) can be done using &#34;gfal-copy&#34; (or &#34;lcg-cp&#34; or &#34;srmcp&#34; or &#34;srm-copy&#34;) command&#58;

# On atlas.bu.edu
[user@....] voms-proxy-init -key my-certificate-registered-in-atlas-vo.key -cert my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas
[user@....] rm -rf /tmp/aaa
[user@....] gfal-copy -v &#39;<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-MCGILL-CLUMEQ-T2_DATADISK.file0.rnd&#39' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/user/ddmadmin/30/18/sonar.test.CA-MCGILL-CLUMEQ-T2_DATADISK.file0.rnd&#39</a>; file&#58;///tmp/aaa

# On storm02.clumeq.mcgill.ca
[user@....] voms-proxy-init -key my-certificate-registered-in-atlas-vo.key -cert my-certificate-registered-in-atlas-vo.crt -voms atlas&#58;/atlas
[user@....] rm -rf /tmp/aaa
[user@....] gfal-copy -v &#39;<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd&#39' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/user/ddmadmin/f3/4b/sonar.test.NET2_DATADISK.file0.rnd&#39</a>; file&#58;///tmp/aaa

-- by Petr Vokac at Mon Aug 08 14&#58;13&#58;06 UTC 2016

Hi All,
I&#39;m afraid I don&#39;t see any evidence of an obvious network problem here, e.g.
<a href='http&#58;//ps-bandwidth.clumeq.mcgill.ca/perfsonar-graphs/graphWidget.cgi?source=132.206.245.253&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m' target='_blank' rel='nofollow'>http&#58;//ps-bandwidth.clumeq.mcgill.ca/perfsonar-graphs/graphWidget.cgi?source=132.206.245.253&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m</a>
<a href='http&#58;//atlas-npt2.bu.edu/perfsonar-graphs/graphWidget.cgi?source=192.5.207.252&dest=132.206.245.253&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m' target='_blank' rel='nofollow'>http&#58;//atlas-npt2.bu.edu/perfsonar-graphs/graphWidget.cgi?source=192.5.207.252&dest=132.206.245.253&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m</a>

network performs very well both ways. Same for Univ. of Toronto&#58;
<a href='http&#58;//ps-bandwidth.scinet.utoronto.ca/perfsonar-graphs/graphWidget.cgi?source=142.150.19.60&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m' target='_blank' rel='nofollow'>http&#58;//ps-bandwidth.scinet.utoronto.ca/perfsonar-graphs/graphWidget.cgi?source=142.150.19.60&dest=192.5.207.252&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m</a>
<div id='show_457627795' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_457627795'><a href='http&#58;//atlas-npt2.bu.edu/perfsonar-graphs/graphWidget.cgi?source=192.5.207.252&dest=142.150.19.60&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m' target='_blank' rel='nofollow'>http&#58;//atlas-npt2.bu.edu/perfsonar-graphs/graphWidget.cgi?source=192.5.207.252&dest=142.150.19.60&url=http%3A%2F%2Flocalhost%2Fesmond%2Fperfsonar%2Farchive%2F#timeframe=1m</a>

Now those are sparse measurements (just once a day), so this doesn&#39;t rule out issues during the day, but if I understand DDM graph correctly, failures are being reported consistently [1]. There is some packet loss reported for the links, but it&#39;s clearly not accompanied by loss of throughput, so I wouldn&#39;t consider it indicative of an actual network issue.

Cheers,
Marian

[1] <a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=</a>(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&date.interval=720&dst.cloud=(US)&dst.site=(-TEST,-RDF,-AWS,-CEPH)&dst.tier=(2)&dst.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&grouping.dst=(site)&grouping.src=(site)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&src.cloud=(CA)&src.site=(-TEST,-RDF,-AWS,-CEPH)&src.tier=(2)&src.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&tab=transfer_plots

-- by Marian  Babik at Mon Aug 08 08&#58;23&#58;01 UTC 2016

keep observing these errors&#58; there have been 2,100 of them in the past 4 hrs

<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=</a>(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22US%22&d.error_code=186&d.state=(TRANSFER_FAILED)&date.from=201608071740&date.interval=0&date.to=201608072140&dst.site=(-TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.site=(-TEST,-RDF,-AWS,-CEPH)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&tab=details

-- by blazek at Sun Aug 07 21&#58;52&#58;41 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a>
</div><script type='text/javascript'>
        $('#show_457627795').click(function() {
            $('#detail_457627795').slideDown("normal");
            $('#show_457627795').hide();
            $('#hide_457627795').show();
        });
        $('#hide_457627795').click(function() {
            $('#detail_457627795').slideUp();
            $('#hide_457627795').hide();
            $('#show_457627795').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30803#1470385090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-05T08:18:10+00:00">Aug 5, 2016 08:18 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470385090">&nbsp;</a></div><pre>Sent TEAM notification mail to mail address augustin@....;youssef@....;augustine@....;

-- by Petr Vokac at Fri Aug 05 08&#58;17&#58;41 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a></pre></div><div class='update_description'><i onclick="document.location='30803#1470348557'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-04T22:09:17+00:00">Aug 4, 2016 10:09 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470348557">&nbsp;</a></div><pre>Greetings Blazek,

This problem has a month or two long history where we see timeouts and
associated packet loss within the Canadian network. The problem has occurred
both for McGill and for U.Toronto. There is packet loss on the route to McGill
again now, also. Here is some background information&#58;

<a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-06/McGill_timeouts_to_NET2/

Could you please reclassify this ticket so that the WAN/perfsonar guys are
notified? I think that&#39;s the best thing to do at this point.

Thanks a bunch,

- Saul

On Thu Aug 04 17&#58;51&#58;10 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Obsserving 2k+ transfer errors for transfers from CA-MCGILL-CLUMEQ-T2</font>
<font color='#7F7E6F'>&#62; to NET2 in the past 4 hrs. The error message is</font>
<font color='#7F7E6F'>&#62; TRANSFER Transfer canceled because the gsiftp performance marker</font>
<font color='#7F7E6F'>&#62; timeout of 360 seconds has been exceeded, or all performance markers</font>
<font color='#7F7E6F'>&#62; during that period indicated zero bytes transferred.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 2016-08-04</font>
<font color='#7F7E6F'>&#62; 21&#58;39&#58;07 mc12_8TeV&#58;NTUP_COMMON.01445374._000893.root.1 #186</font>
<font color='#7F7E6F'>&#62; TRANSFER_FAILED</font>
<font color='#7F7E6F'>&#62; TOOL ID rucio-conveyor</font>
<font color='#7F7E6F'>&#62; SRC SITE CA-MCGILL-CLUMEQ-T2_DATADISK</font>
<font color='#7F7E6F'>&#62; SRC</font>
<font color='#7F7E6F'>&#62; URL</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1</a>
<font color='#7F7E6F'>&#62; DST SITE NET2_DATADISK</font>
<font color='#7F7E6F'>&#62; DST</font>
<font color='#7F7E6F'>&#62; URL</font>
<div id='show_1273568637' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1273568637'><font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1</a>
<font color='#7F7E6F'>&#62; TRANSFER ID 62e90129-a600-56b9-bdbf-2a65bce0f970</font>
<font color='#7F7E6F'>&#62; TRANSFER ENDPOINT <a href='https&#58;//fts.usatlas.bnl.gov&#58;8446' target='_blank' rel='nofollow'>https&#58;//fts.usatlas.bnl.gov&#58;8446</a></font>
<font color='#7F7E6F'>&#62; ERROR MSG TRANSFER Transfer canceled because the gsiftp performance</font>
<font color='#7F7E6F'>&#62; marker timeout of 360 seconds has been exceeded, or all performance</font>
<font color='#7F7E6F'>&#62; markers during that period indicated zero bytes transferred</font>
<font color='#7F7E6F'>&#62; ACTIVITY Data Brokering</font>
<font color='#7F7E6F'>&#62; FILE SIZE 1415907194 bytes</font>
<font color='#7F7E6F'>&#62; DURATION 369.697 s</font>
<font color='#7F7E6F'>&#62; DATASET MONITORING Details on Rucio UI&#58; file</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22US%22&d.error_code=186&d.state=(TRANSFER_FAILED)&date.from=201608041740&date.interval=0&date.to=201608042140&dst.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.site=(-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP)&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket History]</font>
<font color='#7F7E6F'>&#62; Subject&#58; transfer errors for transfers from CA-MCGILL-CLUMEQ-T2 to</font>
<font color='#7F7E6F'>&#62; NET2</font>
<font color='#7F7E6F'>&#62; Ticket Type&#58; TEAM</font>
<font color='#7F7E6F'>&#62; CC&#58; atlas-support-cloud-US@....; atlas-support-cloud-CA@....;</font>
<font color='#7F7E6F'>&#62; -- by blazek at Thu Aug 04 21&#58;50&#58;40 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=30803#1470347458' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=30803#1470347458</a></font>
-- by youssef@.... at Thu Aug 04 22&#58;09&#58;09 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26382
</div><script type='text/javascript'>
        $('#show_1273568637').click(function() {
            $('#detail_1273568637').slideDown("normal");
            $('#show_1273568637').hide();
            $('#hide_1273568637').show();
        });
        $('#hide_1273568637').click(function() {
            $('#detail_1273568637').slideUp();
            $('#hide_1273568637').hide();
            $('#show_1273568637').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30803#1470347458'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-04T21:50:58+00:00">Aug 4, 2016 09:50 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470347458">&nbsp;</a></div><pre>Obsserving 2k+ transfer errors for transfers from  CA-MCGILL-CLUMEQ-T2 to NET2 in the past 4 hrs. The error message is
TRANSFER Transfer canceled because the gsiftp performance marker timeout of 360 seconds has been exceeded, or all performance markers during that period indicated zero bytes transferred.

2016-08-04 21&#58;39&#58;07	mc12_8TeV&#58;NTUP_COMMON.01445374._000893.root.1	#186	TRANSFER_FAILED
TOOL ID	rucio-conveyor
SRC SITE	CA-MCGILL-CLUMEQ-T2_DATADISK
SRC URL	<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1</a>
DST SITE	NET2_DATADISK
DST URL	<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/mc12_8TeV/94/0b/NTUP_COMMON.01445374._000893.root.1</a>
TRANSFER ID	62e90129-a600-56b9-bdbf-2a65bce0f970
TRANSFER ENDPOINT	<a href='https&#58;//fts.usatlas.bnl.gov&#58;8446' target='_blank' rel='nofollow'>https&#58;//fts.usatlas.bnl.gov&#58;8446</a>
ERROR MSG	TRANSFER Transfer canceled because the gsiftp performance marker timeout of 360 seconds has been exceeded, or all performance markers during that period indicated zero bytes transferred
ACTIVITY	Data Brokering
FILE SIZE	1415907194 bytes
DURATION	369.697 s
DATASET MONITORING	Details on Rucio UI&#58;  file

<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=</a>(Data+Brokering,Data+Consolidation,Deletion,Express,Functional+Test,Group+Subscriptions,Production,Production+Input,Production+Output,Recovery,Staging,T0+Export,T0+Tape,User+Subscriptions,default,on)&d.dst.cloud=%22US%22&d.error_code=186&d.state=(TRANSFER_FAILED)&date.from=201608041740&date.interval=0&date.to=201608042140&dst.site=(-TEST,-RDF,-AWS,-CEPH)&dst.tier=(0,1,2)&dst.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&m.content=(d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc)&samples=true&src.site=(-TEST,-RDF,-AWS,-CEPH)&src.tier=(0,1,2)&src.token=(-TEST,-CEPH,-PPS,-GRIDFTP)&tab=details

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123285</a>

[Ticket History]
Subject&#58; transfer errors for transfers from  CA-MCGILL-CLUMEQ-T2 to NET2
Ticket Type&#58; TEAM
CC&#58; atlas-support-cloud-US@....; atlas-support-cloud-CA@....;
-- by blazek at Thu Aug 04 21&#58;50&#58;40 UTC 2016</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30803">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
