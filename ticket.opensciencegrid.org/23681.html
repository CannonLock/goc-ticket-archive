<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[23681] enable CMS_T3_US_Omaha_tusker_gpu for the GLOW VO</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=23681" method="post">
<div class="page-header">
    <h3><span class="muted">23681</span> / enable CMS_T3_US_Omaha_tusker_gpu for the GLOW VO</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Nathan Yehle</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">GLOW</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Nathan Yehle</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">GLOW-TECH</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-04-29</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GLOW-TECH <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/23681", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/23681?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/23681?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20enable%20CMS_T3_US_Omaha_tusker_gpu%20for%20the%20GLOW%20VO%20ISSUE%3D23681%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='23681#1439931300'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-18T20:55:00+00:00">Aug 18, 2015 08:55 PM UTC</time><a class="anchor" name="1439931300">&nbsp;</a></div><pre>We have icecube gpu jobs now so I am reopening this issue,.  I am trying to submit into these two ce&#39;s but I don&#39;t see anything running yet I will let you know if it starts working, I realized I never changed GPUs to gpus, I changed that now and reconfig&#39;d so maybe it will work...  glidein2 detects jobs in queue matching requestgpus&#62;0 but doesn&#39;t seem to make any relevant glideins to match the jobs.

2015-08-18 15&#58;51&#58;52,292] INFO&#58;             Jobs in schedd queues                 |         Glideins        |       Cores       |    Request
[2015-08-18 15&#58;51&#58;52,292] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total  Idle   Run  Fail | Total  Idle   Run | Idle MaxRun Down Factory
[2015-08-18 15&#58;51&#58;52,292] INFO&#58;  3389( 6777  3389  3348     0)    36(    0 10000) |     0     0     0     0 |     0     0     0 |    10  3898 Up   HCC_US_Omaha_crane_gpu@gfactory_instance@SDSC@....
[2015-08-18 15&#58;51&#58;52,323] INFO&#58;  3389( 6777  3389  3348     0)    36(    0 10000) |     0     0     0     0 |     0     0     0 |    10  3898 Up   HCC_US_Omaha_crane_gpu@gfactory_instance@OSGGOC@....
[2015-08-18 15&#58;51&#58;52,324] INFO&#58;             Jobs in schedd queues                 |         Glideins        |       Cores       |    Request
[2015-08-18 15&#58;51&#58;52,324] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total  Idle   Run  Fail | Total  Idle   Run | Idle MaxRun Down Factory
[2015-08-18 15&#58;51&#58;52,324] INFO&#58;  6778(13554  6778  6696     0)    72(    0 20000) |     0     0     0     0 |     0     0     0 |    20  7796 Up   Sum of useful factories
[2015-08-18 15&#58;51&#58;52,325] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0     0 |     0     0     0 |     0     0 Down Sum of down factories
[2015-08-18 15&#58;51&#58;52,325] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0     0 |     0     0     0 |     0     0 Down Unmatched

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1430328524'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T17:28:44+00:00">Apr 29, 2015 05:28 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1430328524">&nbsp;</a></div><pre>Thanks for the update. We can either reopen this later or open a new ticket once that is fixed.

~Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1430323774'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T16:09:34+00:00">Apr 29, 2015 04:09 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1430323774">&nbsp;</a></div><pre>afaik we are banned from nebraska which prevents this from going forward?  you can close this one for now
-n
On Apr 28, 2015, at 2&#58;42 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23681#1430250135'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-28T19:42:15+00:00">Apr 28, 2015 07:42 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1430250135">&nbsp;</a></div><pre>Hi Nathan,

Do you want to close this and reopen when you have more time or would you like me to set this out for a specific date and ping you again?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1429564093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-20T21:08:13+00:00">Apr 20, 2015 09:08 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1429564093">&nbsp;</a></div><pre>Yes it didn’t work.  I might have time for this later but since icecube has no local demand its delayed for now.
-N
On Apr 15, 2015, at 11&#58;54 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23681#1429116851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-15T16:54:11+00:00">Apr 15, 2015 04:54 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1429116851">&nbsp;</a></div><pre>Hello Nate,

Were you able to make the changes that Derek suggested and retest?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1428355927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-06T21:32:07+00:00">Apr 6, 2015 09:32 PM UTC</time><a class="anchor" name="1428355927">&nbsp;</a></div><pre>Hi Nate,

I was only able to get this working when gpus was all lowercase in my frontend.xml.  In your xml, it is GPUs.  Try changing the attribute name to &#34;gpus&#34;, then reconfiguring.  And then waiting for the glideins to flush through... may take a bit.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1428355691'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-06T21:28:11+00:00">Apr 6, 2015 09:28 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1428355691">&nbsp;</a></div><pre>Still doesn’t work even with his GPU XML.

I see a job in queue on the gwms side&#58; /var/log/gwms-frontend/group_glowGPU/glowGPU.info.log

[2015-04-06 16&#58;23&#58;10,761] INFO&#58; Jobs found total 1 idle 1 (old 1, grid 0, voms 0) running 0
[2015-04-06 16&#58;23&#58;10,761] INFO&#58; Glideins found total 1 idle 1 running 0 limit 100000 curb 90000
[2015-04-06 16&#58;23&#58;10,761] INFO&#58; Updating usermap
[2015-04-06 16&#58;23&#58;10,762] INFO&#58; Match
[2015-04-06 16&#58;23&#58;10,762] INFO&#58; Counting subprocess created
[2015-04-06 16&#58;23&#58;10,767] INFO&#58; All children terminated
[2015-04-06 16&#58;23&#58;10,767] INFO&#58; Total matching idle 1 (old 1) running 0 limit 10000
[2015-04-06 16&#58;23&#58;10,768] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-04-06 16&#58;23&#58;10,768] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-04-06 16&#58;23&#58;10,768] INFO&#58;     1(    1     0     1     0)     0(    0 10000) |     1     1     0 |     0     2 Up   CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC@....
[2015-04-06 16&#58;23&#58;10,769] INFO&#58;     1(    1     1     1     0)     0(    0 10000) |     0     0     0 |     1     2 Up   CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@OSGGOC@....

I submitted this job on submit-4&#58;[nyehle@submit-4 ~]$ cat gpu.submit
job = bandwidthTest
universe = vanilla
executable = $(job)
log = $(job)_$(Cluster).log
should_transfer_files = YES
when_to_transfer_output = ON_EXIT
output = $(job)_$(Cluster)_$(Process).out
request_gpus=1
+WantGlidein = true
queue

here is my attempt at some frontend.xml&#58;

[root@glidein2 group_glowGPU]# cat /etc/gwms-frontend/frontend.xml
&#60;frontend advertise_delay=&#34;5&#34; frontend_name=&#34;chtc2&#34; loop_delay=&#34;120&#34; advertise_with_multiple=&#34;True&#34; advertise_with_tcp=&#34;True&#34; frontend_monitor_index_page=&#34;False&#34; frontend_versioning=&#34;False&#34;&#62;
&#60;log_retention&#62;
&#60;process_logs&#62;
&#60;process_log extension=&#34;info&#34; max_days=&#34;7.0&#34; max_mbytes=&#34;100.0&#34; min_days=&#34;3.0&#34; msg_types=&#34;INFO&#34;/&#62;
<div id='show_1699001042' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1699001042'>&#60;process_log extension=&#34;err&#34; max_days=&#34;7.0&#34; max_mbytes=&#34;100.0&#34; min_days=&#34;3.0&#34; msg_types=&#34;DEBUG,ERR,WARN,EXCEPTION&#34;/&#62;
&#60;/process_logs&#62;
&#60;/log_retention&#62;
&#60;match match_expr=&#34;True&#34;&#62;
&#60;factory query_expr=&#39;True&#39;&#62;&#39;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;collectors&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=gfactory-1.t2.ucsd.edu&#34; comment=&#34;Default factory collector&#34; factory_identity=&#34;gfactory@....&#34; my_identity=&#34;feglow@....&#34;  node=&#34;gfactory-1.t2.ucsd.edu&#34;/&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein.grid.iu.edu&#34; comment=&#34;Default factory collector&#34; factory_identity=&#34;gfactory@....&#34; my_identity=&#34;feglow@....&#34; node=&#34;glidein.grid.iu.edu&#34;/&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein-int.grid.iu.edu&#34; comment=&#34;Define factory collector globally for simplicity&#34; factory_identity=&#34;gfactory@....&#34; my_identity=&#34;feglowitb@....&#34; node=&#34;glidein-int.grid.iu.edu&#34;/&#62;
&#60;/collectors&#62;
&#60;/factory&#62;
&#60;job comment=&#34;Define job constraint and schedds globally for simplicity&#34; query_expr=&#34;(JobUniverse==5)&amp;&amp;(GLIDEIN_Is_Monitor =!= TRUE)&amp;&amp;(JOB_Is_Monitor =!= TRUE) &amp;&amp; (WantGlidein =?= TRUE)&#34;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;schedds&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=submit-1.chtc.wisc.edu&#34; comment=&#34;htcondor-inf@....&#34; fullname=&#34;submit-1.chtc.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=submit-2.chtc.wisc.edu&#34; comment=&#34;htcondor-inf@....&#34; fullname=&#34;submit-2.chtc.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=submit-3.chtc.wisc.edu&#34; comment=&#34;htcondor-inf@....&#34; fullname=&#34;submit-3.chtc.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=submit-4.chtc.wisc.edu&#34; comment=&#34;htcondor-inf@....&#34; fullname=&#34;submit-4.chtc.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=submit-5.chtc.wisc.edu&#34; comment=&#34;htcondor-inf@....&#34; fullname=&#34;submit-5.chtc.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=skua.icecube.wisc.edu&#34; comment=&#34;Vladimir Brik&#34; fullname=&#34;skua.icecube.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=sub-1.icecube.wisc.edu&#34; comment=&#34;Vladimir Brik&#34; fullname=&#34;skua.icecube.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=sub-simprod.icecube.wisc.edu&#34; comment=&#34;Vladimir Brik&#34; fullname=&#34;sub-iceprod.icecube.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=exocet.bmrb.wisc.edu&#34; comment=&#34;Jon Wedell&#58; wedell@....&#34; fullname=&#34;exocet.bmrb.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=login01.hep.wisc.edu&#34; comment=&#34;Dan Bradley&#58; dan@....&#34; fullname=&#34;login01.hep.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=login03.hep.wisc.edu&#34; comment=&#34;Dan Bradley&#58; dan@....&#34; fullname=&#34;login03.hep.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=login05.hep.wisc.edu&#34; comment=&#34;Dan Bradley&#58; dan@....&#34; fullname=&#34;login05.hep.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=login06.hep.wisc.edu&#34; comment=&#34;Dan Bradley&#58; dan@....&#34; fullname=&#34;login06.hep.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=deepdivesubmit.chtc.wisc.edu&#34; comment=&#34;tim@....&#34; fullname=&#34;deepdivesubmit.chtc.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=simon.stat.wisc.edu&#34; comment=&#34;chenlian@....&#34; fullname=&#34;simon.stat.wisc.edu&#34;/&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=ucsbsubmit.chtc.wisc.edu&#34; comment=&#34;rich@....&#34; fullname=&#34;ucsbsubmit.chtc.wisc.edu&#34;/&#62;
&#60;/schedds&#62;
&#60;/job&#62;
&#60;/match&#62;
&#60;monitor base_dir=&#34;/var/lib/gwms-frontend/web-area/monitor&#34; flot_dir=&#34;/usr/share/javascriptrrd/flot&#34; javascriptRRD_dir=&#34;/usr/share/javascriptrrd/js&#34; jquery_dir=&#34;/usr/share/javascriptrrd/flot&#34;/&#62;
&#60;security classad_proxy=&#34;/etc/condor/certs/glidein.proxy&#34; proxy_DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein/glidein2.chtc.wisc.edu&#34; proxy_selection_plugin=&#34;ProxyAll&#34; security_name=&#34;glowVO2&#34; sym_key=&#34;aes_256_cbc&#34;&#62;
&#60;credentials&#62;
&#60;credential absfname=&#34;/etc/condor/certs/pilot.proxy&#34; security_class=&#34;frontend&#34; trust_domain=&#34;grid&#34; type=&#34;grid_proxy&#34;/&#62;
&#60;/credentials&#62;
&#60;/security&#62;
&#60;stage base_dir=&#34;/var/lib/gwms-frontend/web-area/stage&#34; use_symlink=&#34;True&#34; web_base_url=&#34;<a href='http&#58;//glidein2.chtc.wisc.edu/vofrontend/stage&#34' target='_blank' rel='nofollow'>http&#58;//glidein2.chtc.wisc.edu/vofrontend/stage&#34</a>;/&#62;
&#60;work base_dir=&#34;/var/lib/gwms-frontend/vofrontend&#34; base_log_dir=&#34;/var/log/gwms-frontend&#34;/&#62;
&#60;attrs&#62;
&#60;attr name=&#34;GLIDECLIENT_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;TARGET.WantGlidein&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Rank&#34; glidein_publish=&#34;False&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;1&#34;/&#62;
&#60;attr name=&#34;GLIDEIN_Expose_Grid_Env&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;True&#34;/&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;OPTIONAL&#34;/&#62;
&#60;attr name=&#34;USE_MATCH_AUTH&#34; glidein_publish=&#34;False&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;True&#34;/&#62;
&#60;/attrs&#62;
&#60;groups&#62;
&#60;group name=&#34;IceCube&#34; enabled=&#34;True&#34;&#62;
&#60;config&#62;
&#60;idle_glideins_per_entry max=&#34;100&#34; reserve=&#34;5&#34;/&#62;
&#60;idle_vms_per_entry curb=&#34;5&#34; max=&#34;100&#34;/&#62;
&#60;running_glideins_per_entry max=&#34;10000&#34; relative_to_queue=&#34;1.15&#34;/&#62;
&#60;/config&#62;
&#60;match match_expr=&#34;True&#34; start_expr=&#39;TARGET.Group =?= &#34;IceCube&#34; &amp;&amp; isUndefined(TARGET.RequestGpus)&#39;&#62;
&#60;factory query_expr=&#39;GLIDEIN_ResourceName == &#34;DESY-ZN&#34; &#124;&#124; (stringListMember(&#34;glowVO&#34;, GLIDEIN_Supported_VOs) &amp;&amp; (GLIDEIN_ResourceName =!= &#34;USCMS-FNAL-WC1&#34;) &amp;&amp; (GLIDEIN_ResourceName =!= &#34;FNAL_FERMIGRID&#34;) &amp;&amp; GLIDEIN_ResourceName =!= &#34;GLOW&#34;)&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;collectors&#62;
&#60;/collectors&#62;
&#60;/factory&#62;
&#60;job query_expr=&#39;Group =?= &#34;IceCube&#34; &amp;&amp; isUndefined(RequestGpus) &amp;&amp; WantGlidein&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;schedds&#62;
&#60;/schedds&#62;
&#60;/job&#62;
&#60;/match&#62;
&#60;security&#62;
&#60;credentials&#62;
&#60;/credentials&#62;
&#60;/security&#62;
&#60;attrs&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;NEVER&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &lt;= GLIDEIN_ToDie-CurrentTime)) &#34;/&#62;
&#60;/attrs&#62;
&#60;files&#62;
&#60;/files&#62;
&#60;/group&#62;

&#60;group name=&#34;CHTCSubmit&#34; enabled=&#34;True&#34;&#62;
&#60;config&#62;
&#60;idle_glideins_per_entry max=&#34;100&#34; reserve=&#34;5&#34;/&#62;
&#60;idle_vms_per_entry curb=&#34;5&#34; max=&#34;100&#34;/&#62;
&#60;running_glideins_per_entry max=&#34;10000&#34; relative_to_queue=&#34;1.15&#34;/&#62;
&#60;/config&#62;
&#60;match match_expr=&#34;True&#34; start_expr=&#39;( TARGET.IsCHTCSubmit =?= True ) &amp;&amp; isUndefined(TARGET.RequestGpus)&#39;&#62;
&#60;factory query_expr=&#39;stringListMember(&#34;glowVO&#34;, GLIDEIN_Supported_VOs) &amp;&amp; GLIDEIN_ResourceName =!= &#34;GLOW&#34; &amp;&amp; GLIDEIN_ResourceName =!= &#34;DESY-ZN&#34; &amp;&amp; GLIDEIN_ResourceName =!= &#34;CA-SCINET-T2&#34;&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;collectors&#62;
&#60;/collectors&#62;
&#60;/factory&#62;
&#60;job query_expr=&#39;IsCHTCSubmit &amp;&amp; isUndefined(RequestGpus) &amp;&amp; WantGlidein&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;schedds&#62;
&#60;/schedds&#62;
&#60;/job&#62;
&#60;/match&#62;
&#60;security&#62;
&#60;credentials&#62;
&#60;/credentials&#62;
&#60;/security&#62;
&#60;attrs&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;NEVER&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &lt;= GLIDEIN_ToDie-CurrentTime)) &amp;&amp; TARGET.IsCHTCSubmit&#34;/&#62;
&#60;/attrs&#62;
&#60;files&#62;
&#60;/files&#62;
&#60;/group&#62;
&#60;group name=&#34;glowGPU&#34; enabled=&#34;True&#34;&#62;
&#60;config&#62;
&#60;idle_glideins_per_entry max=&#34;100&#34; reserve=&#34;5&#34;/&#62;
&#60;idle_vms_per_entry curb=&#34;5&#34; max=&#34;100&#34;/&#62;
&#60;running_glideins_per_entry max=&#34;10000&#34; relative_to_queue=&#34;1.15&#34;/&#62;
&#60;/config&#62;
&#60;match match_expr=&#34;True&#34; start_expr=&#39;(TARGET.Requestgpus &#62;= 1)&#39;&#62;
&#60;factory query_expr=&#39;stringListMember(&#34;glowGPU&#34;, GLIDEIN_Supported_VOs)&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;collectors&#62;
&#60;/collectors&#62;
&#60;/factory&#62;
&#60;job query_expr=&#39;(JobUniverse==5)&amp;&amp;(GLIDEIN_Is_Monitor =!= TRUE)&amp;&amp;(JOB_Is_Monitor =!= TRUE)&amp;&amp;(isUndefined(Requestgpus)=?=False) &amp;&amp; WantGlidein&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;schedds&#62;
&#60;/schedds&#62;
&#60;/job&#62;
&#60;/match&#62;
&#60;security&#62;
&#60;credentials&#62;
&#60;/credentials&#62;
&#60;/security&#62;
&#60;attrs&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;NEVER&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &lt;= GLIDEIN_ToDie-CurrentTime))&#34;/&#62;
&#60;attr name=&#34;GPUs&#34; value=&#34;1&#34; parameter=&#34;True&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; type=&#34;int&#34;/&#62;
&#60;/attrs&#62;
&#60;files&#62;
&#60;/files&#62;
&#60;/group&#62;

&#60;group name=&#34;main&#34; enabled=&#34;True&#34;&#62;
&#60;config&#62;
&#60;idle_glideins_per_entry max=&#34;100&#34; reserve=&#34;5&#34;/&#62;
&#60;idle_vms_per_entry curb=&#34;5&#34; max=&#34;100&#34;/&#62;
&#60;running_glideins_per_entry max=&#34;10000&#34; relative_to_queue=&#34;1.15&#34;/&#62;
&#60;/config&#62;
&#60;match match_expr=&#34;True&#34; start_expr=&#39;TARGET.IsCHTCSubmit=!=True &amp;&amp; TARGET.Group=!=&#34;IceCube&#34; &amp;&amp; isUndefined(TARGET.RequestGpus)&#39;&#62;
&#60;factory query_expr=&#39;stringListMember(&#34;glowVO&#34;, GLIDEIN_Supported_VOs) &amp;&amp; GLIDEIN_ResourceName =!= &#34;USCMS-FNAL-WC1&#34;  &amp;&amp; GLIDEIN_ResourceName =!= &#34;FNAL_FERMIGRID&#34; &amp;&amp; GLIDEIN_ResourceName =!= &#34;DESY-ZN&#34; &amp;&amp; GLIDEIN_ResourceName =!= &#34;GLOW&#34; &amp;&amp; GLIDEIN_ResourceName =!= &#34;CA-SCINET-T2&#34;&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;collectors&#62;
&#60;/collectors&#62;
&#60;/factory&#62;
&#60;job query_expr=&#39;isUndefined(IsCHTCSubmit) &amp;&amp; Group=!=&#34;IceCube&#34; &amp;&amp; isUndefined(RequestGpus) &amp;&amp; WantGlidein&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;schedds&#62;
&#60;/schedds&#62;
&#60;/job&#62;
&#60;/match&#62;
&#60;security&#62;
&#60;credentials&#62;
&#60;/credentials&#62;
&#60;/security&#62;
&#60;attrs&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;NEVER&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &lt;= GLIDEIN_ToDie-CurrentTime))&#34;/&#62;
&#60;/attrs&#62;
&#60;files&#62;
&#60;/files&#62;
&#60;/group&#62;
&#60;/groups&#62;
&#60;collectors&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein/glidein2.chtc.wisc.edu&#34; node=&#34;glidein2.chtc.wisc.edu&#58;9618&#34; secondary=&#34;False&#34;/&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein/glidein2.chtc.wisc.edu&#34; node=&#34;glidein2.chtc.wisc.edu&#58;9620-9689&#34; secondary=&#34;True&#34;/&#62;
&#60;/collectors&#62;
&#60;files&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/set_default_memory&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; comment=&#34;use better memory estimate&#34; const=&#34;True&#34; executable=&#34;True&#34; untar=&#34;False&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/advertise_os_info&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; comment=&#34;OSIssue, GLIBC version&#34; const=&#34;True&#34; executable=&#34;True&#34; untar=&#34;False&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/parrot.tgz&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; const=&#34;True&#34; executable=&#34;False&#34; untar=&#34;True&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options absdir_outattr=&#34;GLIDEIN_PARROT&#34; cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/parrot_cfg_wisc&#34; relfname=&#34;parrot_cfg&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; const=&#34;True&#34; executable=&#34;False&#34; untar=&#34;False&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/parrot_setup&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; const=&#34;True&#34; executable=&#34;True&#34; untar=&#34;False&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/cvmfs_job_wrapper&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; const=&#34;True&#34; executable=&#34;False&#34; untar=&#34;False&#34; wrapper=&#34;True&#34;&#62;
&#60;untar_options cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/cms_siteconf.tgz&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; const=&#34;True&#34; executable=&#34;False&#34; untar=&#34;True&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options absdir_outattr=&#34;GLIDEIN_CMS_SITECONF&#34; cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;file absfname=&#34;/opt/wisc_glidein_scripts/parrot_cms_setup&#34; after_entry=&#34;True&#34; after_group=&#34;False&#34; const=&#34;True&#34; executable=&#34;True&#34; untar=&#34;False&#34; wrapper=&#34;False&#34;&#62;
&#60;untar_options cond_attr=&#34;TRUE&#34;/&#62;
&#60;/file&#62;
&#60;/files&#62;
&#60;/frontend&#62;

On Apr 2, 2015, at 8&#58;24 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1699001042').click(function() {
            $('#detail_1699001042').slideDown("normal");
            $('#show_1699001042').hide();
            $('#hide_1699001042').show();
        });
        $('#hide_1699001042').click(function() {
            $('#detail_1699001042').slideUp();
            $('#hide_1699001042').hide();
            $('#show_1699001042').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='23681#1427981096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-02T13:24:56+00:00">Apr 2, 2015 01:24 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1427981096">&nbsp;</a></div><pre>Hello Nate,

Have you had time to review Derek&#39;s last post?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1427481906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-27T18:45:06+00:00">Mar 27, 2015 06:45 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1427481906">&nbsp;</a></div><pre>Hi Nate,

Do you have an update on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1426800042'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-19T21:20:42+00:00">Mar 19, 2015 09:20 PM UTC</time><a class="anchor" name="1426800042">&nbsp;</a></div><pre>request_gpus should work.  But it may take some configuration work from Nate.

Nate, here is my frontend configuration which makes request_gpus = 1 work.  The most important bit is the attrs section, which sets the start expression for the glidein, and the gpus attribute for the glidein to advertise.

&#60;group name=&#34;gpu&#34; enabled=&#34;True&#34;&#62;
&#60;config&#62;
&#60;idle_glideins_per_entry max=&#34;20&#34; reserve=&#34;5&#34;/&#62;
&#60;idle_vms_per_entry curb=&#34;5&#34; max=&#34;100&#34;/&#62;
&#60;idle_vms_total curb=&#34;200&#34; max=&#34;1000&#34;/&#62;
&#60;processing_workers matchmakers=&#34;3&#34;/&#62;
&#60;running_glideins_per_entry max=&#34;10000&#34; relative_to_queue=&#34;1.15&#34;/&#62;
&#60;running_glideins_total curb=&#34;90000&#34; max=&#34;100000&#34;/&#62;
&#60;/config&#62;
&#60;match match_expr=&#34;True&#34; start_expr=&#34;(TARGET.Requestgpus &#62;= 1)&#34;&#62;
&#60;factory query_expr=&#39;((stringListMember(&#34;HCCGPU&#34;, GLIDEIN_Supported_VOs)))&#39;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;collectors&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein.grid.iu.edu&#34; comment=&#34;Define factory collector globally for simplicity&#34; factory_identity=&#34;gfactory@....&#34; my_identity=&#34;unlfe@....&#34; node=&#34;glidein.grid.iu.edu&#34;/&#62;
&#60;collector DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=gfactory-1.t2.ucsd.edu&#34; comment=&#34;Define factory collector globally for simplicity&#34; factory_identity=&#34;gfactory@....&#34; my_identity=&#34;unlfe@....&#34; node=&#34;gfactory-1.t2.ucsd.edu&#34;/&#62;
&#60;/collectors&#62;
&#60;/factory&#62;
&#60;job comment=&#34;Define job constraint and schedds globally for simplicity&#34; query_expr=&#34;(UsesCloudFactory=!=TRUE)&amp;&amp;(JobUniverse==5)&amp;&amp;(GLIDEIN_Is_Monitor =!= TRUE)&amp;&amp;(JOB_Is_Monitor =!= TRUE)&amp;&amp;(isUndefined(Requestgpus)=?=False)&#34;&#62;
&#60;match_attrs&#62;
&#60;/match_attrs&#62;
&#60;schedds&#62;
&#60;schedd DN=&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein.unl.edu&#34; fullname=&#34;glidein.unl.edu&#34;/&#62;
&#60;/schedds&#62;
&#60;/job&#62;
&#60;/match&#62;
&#60;security&#62;
&#60;credentials&#62;
&#60;credential absfname=&#34;/tmp/x509up_u495&#34; security_class=&#34;frontend&#34; trust_domain=&#34;grid&#34; type=&#34;grid_proxy&#34;/&#62;
&#60;/credentials&#62;
&#60;/security&#62;
<div id='show_1934949300' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1934949300'>&#60;attrs&#62;
&#60;attr name=&#34;gpus&#34; value=&#34;1&#34; parameter=&#34;True&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; type=&#34;int&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;TARGET.Requestgpus&gt;=1&#34;/&#62;
&#60;/attrs&#62;
&#60;files&#62;
&#60;/files&#62;
&#60;/group&#62;

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605
</div><script type='text/javascript'>
        $('#show_1934949300').click(function() {
            $('#detail_1934949300').slideDown("normal");
            $('#show_1934949300').hide();
            $('#hide_1934949300').show();
        });
        $('#hide_1934949300').click(function() {
            $('#detail_1934949300').slideUp();
            $('#hide_1934949300').hide();
            $('#show_1934949300').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='23681#1426706779'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-18T19:26:19+00:00">Mar 18, 2015 07:26 PM UTC</time><a class="anchor" name="1426706779">&nbsp;</a></div><pre>Hello again,

I found out I can match those resources by adding this to the submit file&#58;

+requestgpus = true

is that the way to go?

What would it take to get the &#34;request_gpus = 1&#34; working for selecting these resources? We end up having gpu resources scattered in various pools, and it would be nice to be able to match them in the same way.

Gonzalo

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Gonzalo Merino 1270</pre></div><div class='update_description'><i onclick="document.location='23681#1426705189'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-18T18:59:49+00:00">Mar 18, 2015 06:59 PM UTC</time><a class="anchor" name="1426705189">&nbsp;</a></div><pre>Nice!

We will try and test this.

One question, on our side (icecube submit node) a job that simply has &#34;request_gpus = 1&#34; in the submit file will automagically match to those resources?

Gonzalo

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Gonzalo Merino 1270</pre></div><div class='update_description'><i onclick="document.location='23681#1426701133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-18T17:52:13+00:00">Mar 18, 2015 05:52 PM UTC</time><a class="anchor" name="1426701133">&nbsp;</a></div><pre>Hi all,

The factory monitoring does show that there have been glideins running over the last few days. But it&#39;s also reporting these glideins went unmatched, running no user jobs. However, these monitoring stats can be finicky for multicore entries. I&#39;m guessing gpu entries aren&#39;t much better. Can anyone confirm that they had gpu test jobs run successfully?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='23681#1426272054'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-13T18:40:54+00:00">Mar 13, 2015 06:40 PM UTC</time><a class="anchor" name="1426272054">&nbsp;</a></div><pre>Interesting... The factory monitoring claims that the gpu group has at least 1 glidein running currently.  Could you re-run the command now?  It may have been temporarily gone.  Or maybe break down the command, see if anything is reporting a gpu?

condor_status -l | grep -i gpu

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1426190461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T20:01:01+00:00">Mar 12, 2015 08:01 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1426190461">&nbsp;</a></div><pre>It returns nothing.
[nyehle@glidein2 ~]$ condor_status -l -const &#39;GLIDEIN_Entry_Name =?= &#34;CMS_T3_US_Omaha_tusker_gpu&#34;&#39; | grep -i gpu
[nyehle@glidein2 ~]$

-Nate
On Mar 12, 2015, at 2&#58;33 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23681#1426188828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T19:33:48+00:00">Mar 12, 2015 07:33 PM UTC</time><a class="anchor" name="1426188828">&nbsp;</a></div><pre>What does the following command report&#58;

condor_status -l -const &#39;GLIDEIN_Entry_Name =?= &#34;CMS_T3_US_Omaha_tusker_gpu&#34;&#39; | grep -i gpu

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1426186942'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T19:02:22+00:00">Mar 12, 2015 07:02 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1426186942">&nbsp;</a></div><pre>I tried following the instructions and they did not work.  sorry I can’t tell you more.
-N
On Mar 12, 2015, at 1&#58;58 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23681#1426186732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T18:58:52+00:00">Mar 12, 2015 06:58 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1426186732">&nbsp;</a></div><pre>Hi Nate,

Any update on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1425672936'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-06T20:15:36+00:00">Mar 6, 2015 08:15 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1425672936">&nbsp;</a></div><pre>Hi Nate,

Any update on this?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1424813359'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-24T21:29:19+00:00">Feb 24, 2015 09:29 PM UTC</time><a class="anchor" name="1424813359">&nbsp;</a></div><pre>The logfile looks correct.  I presume now there is some issue with the glidein attributes not advertising that they have GPU&#39;s available.  Check the glideins that are coming from the gpu entry points for references to gpus&#58;

condor_status -l -const &#39;GLIDEIN_Entry_Name =?= &#34;CMS_T3_US_Omaha_tusker_gpu&#34;&#39; | grep -i gpu

It should have something about gpus.  Preferably, we would see something like&#58;
GPUS = 1

But, since your jobs are not running, I would be willing to be they are not advertising the correct attribute.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1424812725'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-24T21:18:45+00:00">Feb 24, 2015 09:18 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1424812725">&nbsp;</a></div><pre>I did this&#58;
&#34;Did you restart & reconfig? I just asked the glideinwms-support list, and it appears this is the correct configuration.”

I see the job in the info file&#58;
[2015-02-24 15&#58;15&#58;30,866] INFO&#58; Total matching idle 1 (old 1) running 0 limit 10000
[2015-02-24 15&#58;15&#58;30,867] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-24 15&#58;15&#58;30,867] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-24 15&#58;15&#58;30,867] INFO&#58;     1(    1     1     1     0)     0(    0 10000) |     0     0     0 |     1     2 Up   CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC@....
[2015-02-24 15&#58;15&#58;30,868] INFO&#58;     1(    1     1     1     0)     0(    0 10000) |     0     0     0 |     1     2 Up   CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@OSGGOC@....

But it never runs.

Here is the job I used&#58;
[nyehle@submit-4 ~]$ cat gpu.submit
job = bandwidthTest
universe = vanilla
executable = $(job)
log = $(job)_$(Cluster).log
should_transfer_files = YES
when_to_transfer_output = ON_EXIT
output = $(job)_$(Cluster)_$(Process).out
request_gpus=1
+WantGlidein = true
requirements = IS_GLIDEIN
queue

-Nate

On Feb 24, 2015, at 2&#58;58 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23681#1424811529'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-24T20:58:49+00:00">Feb 24, 2015 08:58 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1424811529">&nbsp;</a></div><pre>Hi Nathan,

Do you have any updates on this ?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1424212404'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-17T22:33:24+00:00">Feb 17, 2015 10:33 PM UTC</time><a class="anchor" name="1424212404">&nbsp;</a></div><pre>Did you restart & reconfig?  I just asked the glideinwms-support list, and it appears this is the correct configuration.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1424205804'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-17T20:43:24+00:00">Feb 17, 2015 08:43 PM UTC</time><a class="anchor" name="1424205804">&nbsp;</a></div><pre>I added your requested line and restated glidein, the jobs still do not match.
-Nate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1424193461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-17T17:17:41+00:00">Feb 17, 2015 05:17 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1424193461">&nbsp;</a></div><pre>You do have glideins running on tusker GPU nodes.  But they are just sitting idle.  So I presume that they are not matching the jobs.

I believe you have to add something to that attrs with GPUs.  Something like&#58;
&#60;attr name=&#34;GPUs&#34; value=&#34;1&#34; parameter=&#34;True&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; type=&#34;int&#34; &#62;

-Derek

<font color='#7F7E6F'>&#62; On Feb 17, 2015, at 10&#58;45 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23681#1424191554'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-17T16:45:54+00:00">Feb 17, 2015 04:45 PM UTC</time><a class="anchor" name="1424191554">&nbsp;</a></div><pre>updated my config in the url I sent earlier.
Then I submit a gpu job locked to glidein only, and it doesn&#39;t run.
I do see it show up in /var/log/gwms-frontend/group_glowGPU/glowGPU.info.log

[2015-02-17 10&#58;43&#58;03,575] INFO&#58; Total matching idle 1 (old 1) running 0 limit 10000
[2015-02-17 10&#58;43&#58;03,576] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-17 10&#58;43&#58;03,576] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-17 10&#58;43&#58;03,576] INFO&#58;     1(    1     0     1     0)     0(    0 10000) |     2     2     0 |     0     2 Up   CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC@....
[2015-02-17 10&#58;43&#58;03,577] INFO&#58;     1(    1     0     1     0)     0(    0 10000) |     2     2     0 |     0     2 Up   CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@OSGGOC@....
[2015-02-17 10&#58;43&#58;03,577] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-17 10&#58;43&#58;03,577] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-17 10&#58;43&#58;03,577] INFO&#58;     2(    2     0     2     0)     0(    0 20000) |     4     4     0 |     0     4 Up   Sum of useful factories
[2015-02-17 10&#58;43&#58;03,577] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Sum of down factories
[2015-02-17 10&#58;43&#58;03,578] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Unmatched

here is my submit file&#58;
[nyehle@submit-4 ~]$ cat gpu.submit
job = bandwidthTest
universe = vanilla
executable = $(job)
log = $(job)_$(Cluster).log
should_transfer_files = YES
when_to_transfer_output = ON_EXIT
output = $(job)_$(Cluster)_$(Process).out
request_gpus=1
+WantGlidein = true
requirements = IS_GLIDEIN
queue

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1423768431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-12T19:13:51+00:00">Feb 12, 2015 07:13 PM UTC</time><a class="anchor" name="1423768431">&nbsp;</a></div><pre>To be clear, the gpu group should have 1 and only 1 matching entrypoint.  Any more is a problem, and any less is a problem.

The DetectedGPUS should not be in the factory expr.  Only the stringListMember searching for the glowGPU.

If I where you, I would work my way backwards.  Start with only the stringListMember(&#34;glowVO&#34;, GLIDEIN_Supported_VOs) in the factory exprs, and work my way back from there.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423767555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-12T18:59:15+00:00">Feb 12, 2015 06:59 PM UTC</time> by <b>nyehle@....</b><a class="anchor" name="1423767555">&nbsp;</a></div><pre>Trying to restrict glowGPU updated my frontend like  this&#58;

<a href='http&#58;//glidein2.chtc.wisc.edu/frontend.xml' target='_blank' rel='nofollow'>http&#58;//glidein2.chtc.wisc.edu/frontend.xml</a>

for gpu group
&#60;match match_expr=&#34;True&#34; start_expr=&#34;(TARGET.RequiresWholeMachine =!= True) && (TARGET.ITB_Sites =!= True) && (TARGET.ITB_Factory =!= True) && isUndefined(TARGET.DESIRED_Resources) && (TARGET.RequestGpus &#62;= 1)&#34;&#62;&#60;factory query_expr=&#34;((stringListMember(&#34;glowGPU&#34;, GLIDEIN_Supported_VOs))) && TARGET.DetectedGPUs&#62;=1”&#62;

before I did this restriction the gpu group info file had lots of matches, now its at 0

the #s of down unmatched are diff for each info so I think something might be working?  now gpu doesnt seem to match all of my nongpu jobs with the above restrictions..but still no jobs running on glidein2 yet…
thanks for listening !
-N

gpuinfo
[2015-02-12 12&#58;53&#58;38,102] INFO&#58; Total matching idle 0 (old 0) running 0 limit 10000
[2015-02-12 12&#58;53&#58;38,103] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;53&#58;38,103] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;53&#58;38,103] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;53&#58;38,103] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;53&#58;38,104] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Up   Sum of useful factories
[2015-02-12 12&#58;53&#58;38,104] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Sum of down factories
[2015-02-12 12&#58;53&#58;38,104] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Unmatched

main info
[2015-02-12 12&#58;53&#58;43,957] INFO&#58; Total matching idle 28114 (old 27683) running 8642 limit 10000
[2015-02-12 12&#58;53&#58;43,957] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;53&#58;43,958] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;53&#58;43,958] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;53&#58;43,958] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;53&#58;43,958] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Up   Sum of useful factories
[2015-02-12 12&#58;53&#58;43,958] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Sum of down factories
[2015-02-12 12&#58;53&#58;43,958] INFO&#58; 28114(28114 28114 27683 28114)  8642(    0     0) |     0     0     0 |     0     0 Down Unmatched

dezy-zn info
[2015-02-12 12&#58;53&#58;42,344] INFO&#58; Total matching idle 26053 (old 25710) running 3521 limit 10000
<div id='show_1824725607' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1824725607'>[2015-02-12 12&#58;53&#58;42,345] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;53&#58;42,345] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;53&#58;42,345] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;53&#58;42,345] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;53&#58;42,345] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Up   Sum of useful factories
[2015-02-12 12&#58;53&#58;42,346] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Sum of down factories
[2015-02-12 12&#58;53&#58;42,346] INFO&#58; 26053(26053 26053 25710 26053)  3521(    0     0) |     0     0     0 |     0     0 Down Unmatched

fnal info
[2015-02-12 12&#58;56&#58;07,390] INFO&#58; Total matching idle 2063 (old 2008) running 5057 limit 10000
[2015-02-12 12&#58;56&#58;07,391] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;56&#58;07,391] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;56&#58;07,391] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-12 12&#58;56&#58;07,392] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-12 12&#58;56&#58;07,392] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Up   Sum of useful factories
[2015-02-12 12&#58;56&#58;07,392] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Sum of down factories
[2015-02-12 12&#58;56&#58;07,392] INFO&#58;  2063( 2063  2063  2008  2063)  5057(    0     0) |     0     0     0 |     0     0 Down Unmatched
[2015-02-12 12&#58;56&#58;07,392] INFO&#58; Advertising global requests

On Feb 12, 2015, at 12&#58;47 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1824725607').click(function() {
            $('#detail_1824725607').slideDown("normal");
            $('#show_1824725607').hide();
            $('#hide_1824725607').show();
        });
        $('#hide_1824725607').click(function() {
            $('#detail_1824725607').slideUp();
            $('#hide_1824725607').hide();
            $('#show_1824725607').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='23681#1423766856'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-12T18:47:36+00:00">Feb 12, 2015 06:47 PM UTC</time><a class="anchor" name="1423766856">&nbsp;</a></div><pre>The *.err.log usually doesn&#39;t have that much interesting information.  The *.info.log is usually much better.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423765543'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-12T18:25:43+00:00">Feb 12, 2015 06:25 PM UTC</time><a class="anchor" name="1423765543">&nbsp;</a></div><pre><a href='http&#58;//glidein2.chtc.wisc.edu/frontend.xml' target='_blank' rel='nofollow'>http&#58;//glidein2.chtc.wisc.edu/frontend.xml</a>  trying this
doesn&#39;t seem to be working

I only see these type of messages in glowGPU not in the other groups&#58;

==&#62; /var/log/gwms-frontend/group_glowGPU/glowGPU.err.log &#60;==
[2015-02-12 12&#58;23&#58;42,605] DEBUG&#58; glideinFrontendInterface&#58;738&#58; In create Advertize work
[2015-02-12 12&#58;23&#58;42,606] DEBUG&#58; glideinFrontendInterface&#58;773&#58; Checking Credential file /etc/condor/certs/pilot.proxy ...
[2015-02-12 12&#58;23&#58;42,620] DEBUG&#58; glideinFrontendInterface&#58;811&#58; Advertizing credential /etc/condor/certs/pilot.proxy with (0 idle, 0 max run) for request CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC
[2015-02-12 12&#58;23&#58;42,621] DEBUG&#58; glideinFrontendInterface&#58;820&#58; Writing /tmp/gfi_ad_gc_1_373765422_17289
[2015-02-12 12&#58;23&#58;42,621] DEBUG&#58; glideinFrontendInterface&#58;1090&#58; CONDOR ADVERTISE /tmp/gfi_ad_gc_1_373765422_17289 UPDATE_MASTER_AD gfactory-1.t2.ucsd.edu True
[2015-02-12 12&#58;23&#58;47,804] DEBUG&#58; glideinFrontendInterface&#58;738&#58; In create Advertize work
[2015-02-12 12&#58;23&#58;47,805] DEBUG&#58; glideinFrontendInterface&#58;773&#58; Checking Credential file /etc/condor/certs/pilot.proxy ...
[2015-02-12 12&#58;23&#58;47,805] DEBUG&#58; glideinFrontendInterface&#58;811&#58; Advertizing credential /etc/condor/certs/pilot.proxy with (0 idle, 0 max run) for request CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@OSGGOC
[2015-02-12 12&#58;23&#58;47,805] DEBUG&#58; glideinFrontendInterface&#58;820&#58; Writing /tmp/gfi_ad_gc_2_373765427_17289

one change was this time I did a reconfig and then a restart I wasn&#39;t doing that before...learning!
here is my config&#58;
<a href='http&#58;//glidein2.chtc.wisc.edu/frontend.xml' target='_blank' rel='nofollow'>http&#58;//glidein2.chtc.wisc.edu/frontend.xml</a>
-N

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1423761321'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-12T17:15:21+00:00">Feb 12, 2015 05:15 PM UTC</time><a class="anchor" name="1423761321">&nbsp;</a></div><pre>Hi Nate,

Sorry it broke your glidein.  It&#39;s not clear to me why it would have, but I&#39;m certainly not an expert on condor expressions.

The GLIDEIN_ResourceName query expr will not work for the GPU entry point, on purpose.  We explicitly do not want any non-gpu jobs running on the GPU resources.  If we did the query_expr was what you have below, then the gpu entrypoint would also be available to your main group.  The different expressions you have in the frontend.xml is because every entrypoint has the glowVO, and each group is only selecting a subset of those entrypoints.

We want a completely disjoint set of entrypoints that support the glowGPU vo&#58;
condor_status -p gfactory-1.t2.ucsd.edu -any -const &#39;stringlistmember(&#34;glowGPU&#34;,GLIDEIN_Supported_VOs) && MyType == &#34;glidefactory&#34;&#39; -wide

With your global definition of the factory query_exprs, it will be impossible to select a disjoint set with a different VO.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423760388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-12T16:59:48+00:00">Feb 12, 2015 04:59 PM UTC</time><a class="anchor" name="1423760388">&nbsp;</a></div><pre>I dont see this working anyway since I dont see tuskergpu in our list

[nyehle@glidein2 ~]$ condor_status -p gfactory-1.t2.ucsd.edu -any -const &#39;MyType == &#34;glidefactory&#34;&#39;  -wide | grep -i gpu
glidefactory       None               CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC

vs

[nyehle@glidein2 ~]$ condor_status -p gfactory-1.t2.ucsd.edu -any -const &#39;stringlistmember(&#34;glowVO&#34;,GLIDEIN_Supported_VOs) && MyType == &#34;glidefactory&#34;&#39;  -wide | grep gpu

Also I need to explain what my queues are for what you wrote as xml seems not to work with them and now I&#39;ve broken my glidein &#58;(
DESY-ZN is for icecube only
FNAL is for submit1-5 only
main is for everyone
glowGPU is for jobs with (RequestGpus &#62;= 1)

what             &#60;factory query_expr=&#39;(GLIDEIN_ResourceName == &#34;DESY-ZN&#34;)&#39;&#62;  should I use for the gpu site?  I would like to use that like we used to use.
for now ill try  &#60;factory query_expr=&#39;(GLIDEIN_ResourceName == &#34;CMS_T3_US_Omaha_tusker_gpu&#34;)&#39;&#62;
for my  &#60;group name=&#34;glowGPU&#34; enabled=&#34;True&#34;&#62;
I&#39;ll update the ticket with my frontend.xml again soon.
-Nate

-Nate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1423692598'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-11T22:09:58+00:00">Feb 11, 2015 10:09 PM UTC</time><a class="anchor" name="1423692598">&nbsp;</a></div><pre>As I suspected, the global factory match exprs are always &#39;anded&#39; with the group match expressions.  Therefore, you have to re-write some of your frontend.xml file, extracting the factory exprs from the global scope down to the group scope.

I did a first pass of converting your frontend.xml file to have only group factory match_exprs&#58;
<a href='https&#58;//gist.github.com/djw8605/2e319df6f7d6123560db' target='_blank' rel='nofollow'>https&#58;//gist.github.com/djw8605/2e319df6f7d6123560db</a>

You can see the differences in the first revision&#58;
<a href='https&#58;//gist.github.com/djw8605/2e319df6f7d6123560db/revisions' target='_blank' rel='nofollow'>https&#58;//gist.github.com/djw8605/2e319df6f7d6123560db/revisions</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423691794'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-11T21:56:34+00:00">Feb 11, 2015 09:56 PM UTC</time><a class="anchor" name="1423691794">&nbsp;</a></div><pre>Hi,

Nope, something is still wrong.  You shouldn&#39;t see any mention of the Nebraska_Red* entry points, or the antaeus_serial entry point.

I think it has something to do with how you have query exprs in both the global scope and the group scope.  I don&#39;t think the group scope overrides the global query expression, rather, they are && together (or something like that).

I&#39;ll ask the glideinwms-support list quick for a recommendation.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423691036'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-11T21:43:56+00:00">Feb 11, 2015 09:43 PM UTC</time><a class="anchor" name="1423691036">&nbsp;</a></div><pre>Hi I made this change in the factory query expr section of glowGPU&#58;

[root@glidein2 gwms-frontend]# diff frontend.xml frontend.xml.broke
58c58
&#60;                &#60;factory query_expr=&#39;((stringListMember(&#34;glowGPU&#34;, GLIDEIN_Supported_VOs)))&#39;&#62;
---

here is the contents of my xml file now&#58;
<a href='http&#58;//pages.cs.wisc.edu/' target='_blank' rel='nofollow'>http&#58;//pages.cs.wisc.edu/</a>~nyehle/frontend.xml

after restarting here is what I see, is it working?

[2015-02-11 15&#58;42&#58;03,673] INFO&#58; Iteration at Wed Feb 11 15&#58;42&#58;03 2015
[2015-02-11 15&#58;42&#58;03,673] INFO&#58; Querying schedd, entry, and glidein status using child processes.
[2015-02-11 15&#58;43&#58;03,823] INFO&#58; All children terminated
[2015-02-11 15&#58;43&#58;03,898] INFO&#58; Jobs found total 12433 idle 3998 (old 3716, grid 0, voms 0) running 8435
[2015-02-11 15&#58;43&#58;03,922] INFO&#58; Glideins found total 186 idle 0 running 186 limit 100000 curb 90000
[2015-02-11 15&#58;43&#58;03,923] INFO&#58; Updating usermap
[2015-02-11 15&#58;43&#58;03,923] INFO&#58; Match
[2015-02-11 15&#58;43&#58;03,923] INFO&#58; Counting subprocess created
[2015-02-11 15&#58;43&#58;04,019] INFO&#58; All children terminated
[2015-02-11 15&#58;43&#58;04,019] INFO&#58; Total matching idle 3998 (old 3716) running 8435 limit 10000
[2015-02-11 15&#58;43&#58;04,020] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-11 15&#58;43&#58;04,020] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-11 15&#58;43&#58;04,023] INFO&#58;     0(    0     0     0     0)     0(    0     0) |    11     0    11 |     0     0 Down CMS_T2_US_Nebraska_Red@v3_0@OSGGOC@....
[2015-02-11 15&#58;43&#58;04,024] INFO&#58;     0(    0     0     0     0)     0(    0     0) |    81     0    81 |     0     0 Down CMS_T2_US_Nebraska_Red_gw1@v3_0@OSGGOC@....
[2015-02-11 15&#58;43&#58;04,025] INFO&#58;     0(    0     0     0     0)     0(    0     0) |    72     0    72 |     0     0 Down CMS_T2_US_Nebraska_Red_gw2@v3_0@OSGGOC@....
[2015-02-11 15&#58;43&#58;04,027] INFO&#58;     0(    0     0     0     0)     0(    0     0) |    12     0    12 |     0     0 Down CMS_T2_US_UCSD_gw6@v3_0@OSGGOC@....
[2015-02-11 15&#58;43&#58;04,028] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     7     0     7 |     0     0 Down CMS_T2_US_UCSD_gw7@v3_0@OSGGOC@....
[2015-02-11 15&#58;43&#58;04,030] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     3     0     3 |     0     0 Down CMS_T3_US_TTU_antaeus_serial@v3_0@OSGGOC@....
[2015-02-11 15&#58;43&#58;04,030] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-11 15&#58;43&#58;04,030] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-11 15&#58;43&#58;04,030] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Up   Sum of useful factories
[2015-02-11 15&#58;43&#58;04,030] INFO&#58;     0(    0     0     0     0)     0(    0     0) |   186     0   186 |     0     0 Down Sum of down factories
[2015-02-11 15&#58;43&#58;04,030] INFO&#58;  3998( 3998  3998  3716  3998)  8435(    0     0) |     0     0     0 |     0     0 Down Unmatched
<div id='show_1879513375' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1879513375'>[2015-02-11 15&#58;43&#58;04,031] INFO&#58; Advertising global requests
[2015-02-11 15&#58;43&#58;09,390] INFO&#58; Advertising glidein requests
[2015-02-11 15&#58;43&#58;09,390] INFO&#58; Done advertising requests
[2015-02-11 15&#58;43&#58;09,390] INFO&#58; Advertising 0 glideresource classads to the user pool
[2015-02-11 15&#58;43&#58;09,390] INFO&#58; There are 0 classads to advertise
[2015-02-11 15&#58;43&#58;09,390] INFO&#58; Done advertising glideresource classads
[2015-02-11 15&#58;43&#58;09,402] INFO&#58; iterate_one status&#58; None
[2015-02-11 15&#58;43&#58;09,402] INFO&#58; Writing stats
[2015-02-11 15&#58;43&#58;09,406] INFO&#58; Sleep

-nate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899
</div><script type='text/javascript'>
        $('#show_1879513375').click(function() {
            $('#detail_1879513375').slideDown("normal");
            $('#show_1879513375').hide();
            $('#hide_1879513375').show();
        });
        $('#hide_1879513375').click(function() {
            $('#detail_1879513375').slideUp();
            $('#hide_1879513375').hide();
            $('#show_1879513375').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='23681#1423168812'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-05T20:40:12+00:00">Feb 5, 2015 08:40 PM UTC</time><a class="anchor" name="1423168812">&nbsp;</a></div><pre>Judging by the info file, it looks like the factory query expression is incorrect.  What is the value of the query_expr in the &#60;factory&#62; tag?  It should be&#58;
&#60;factory query_expr=&#39;((stringListMember(&#34;glowGPU&#34;, GLIDEIN_Supported_VOs)))&#39;&#62;

Feel free to upload the frontend.xml file here and we can take a look at it if the problem isn&#39;t listed above.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423167082'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-05T20:11:22+00:00">Feb 5, 2015 08:11 PM UTC</time><a class="anchor" name="1423167082">&nbsp;</a></div><pre>I see something like this over and over again in the glowgpu info
[root@glidein2 group_glowGPU]# ls -l /var/log/gwms-frontend/group_glowGPU
total 3144
-rw-r--r-- 1 frontend frontend 2477390 Feb  5 14&#58;09 glowGPU.err.log
-rw-r--r-- 1 frontend frontend  735214 Feb  5 14&#58;09 glowGPU.info.log

cat glowGPU.info.log
[2015-02-05 13&#58;49&#58;16,067] INFO&#58; Iteration at Thu Feb  5 13&#58;49&#58;16 2015
[2015-02-05 13&#58;49&#58;16,068] INFO&#58; Querying schedd, entry, and glidein status using child processes.
[2015-02-05 13&#58;50&#58;26,909] INFO&#58; All children terminated
[2015-02-05 13&#58;50&#58;26,913] INFO&#58; Jobs found total 942 idle 238 (old 0, grid 0, voms 0) running 704
[2015-02-05 13&#58;50&#58;26,915] INFO&#58; Glideins found total 25 idle 2 running 23 limit 100000 curb 90000
[2015-02-05 13&#58;50&#58;26,916] INFO&#58; Updating usermap
[2015-02-05 13&#58;50&#58;26,916] INFO&#58; Match
[2015-02-05 13&#58;50&#58;26,916] INFO&#58; Counting subprocess created
[2015-02-05 13&#58;50&#58;26,976] INFO&#58; All children terminated
[2015-02-05 13&#58;50&#58;26,977] INFO&#58; Total matching idle 238 (old 0) running 704 limit 10000
[2015-02-05 13&#58;50&#58;26,977] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-05 13&#58;50&#58;26,977] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-05 13&#58;50&#58;26,978] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Down CMSHTPC_T3_US_Omaha_tusker@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,978] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_BR_SPRACE@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,979] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_BR_SPRACE_HighMem_4GB@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,979] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Caltech_cit2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,980] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Caltech_cit2_bigmem@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,980] INFO&#58;     5(  238     4     0     0)   704(    0 10000) |     1     1     0 |     1     6 Up   CMS_T2_US_Caltech_cit@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,981] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Caltech_cit_bigmem@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,981] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Caltech_itbce@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,983] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Nebraska_Red@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,983] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Nebraska_Red_gw1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,984] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Nebraska_Red_gw2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,984] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Purdue_hadoop@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,985] INFO&#58;     5(  238     5     0     0)   704(    3 10000) |     3     0     3 |     1    10 Up   CMS_T2_US_UCSD_gw6@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,985] INFO&#58;     5(  238     5     0     0)   704(    3 10000) |     3     0     3 |     1    10 Up   CMS_T2_US_UCSD_gw7@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,986] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Vanderbilt_ce1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,986] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T2_US_Vanderbilt_ce2@v3_0@OSGGOC@....
<div id='show_1300267811' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1300267811'>[2015-02-05 13&#58;50&#58;26,986] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T3_US_FIT_uscms1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,987] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T3_US_Omaha_crane@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,987] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T3_US_Omaha_tusker@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,988] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Down CMS_T3_US_Omaha_tusker_long_3d@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,988] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T3_US_TTU_antaeus_serial@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,989] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   CMS_T3_US_UCD_cms@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,989] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Engage_US_MWT2_iut2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,990] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Engage_US_MWT2_osg@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,990] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Engage_US_MWT2_uct2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,991] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Engage_US_Nebraska_sh-ce1_bigmem@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,991] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Engage_US_SWT2_gk01_bigmem@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,991] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Engage_US_SWT2_gk04@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,992] INFO&#58;     5(  238     5     0     0)   704(    3 10000) |     3     0     3 |     1    10 Up   Glow_DE_DESY_cream@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,992] INFO&#58;     5(  238     4     0     0)   704(    6 10000) |     7     1     6 |     1    13 Up   Glow_US_Syracuse_condor@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,993] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   Gluex_US_NUMEP_grid1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,993] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Down HCCHTPC_T2_US_UCSD_gw2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,994] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Down HCCHTPC_US_Clemson-Palmetto@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,994] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCCHTPC_US_Nebraska_sh-ce1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,995] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCCHTPC_US_OU_OSCER_ATLAS@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,995] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_BR_UNESP@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,995] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_BR_UNESP_long_4d@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,996] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_BNL_gk01@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,996] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_BNL_gk02@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,997] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_BU_atlas-net2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,997] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_BU_atlas-net2_long@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,998] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_Beocat_osg-ce@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,998] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_Cornell_nys1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,999] INFO&#58;     5(  238     5     0     0)   704(    1 10000) |     1     0     1 |     1     7 Up   HCC_US_Michigan_gate02@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;26,999] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_OU_OSCER_ATLAS@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,000] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   HCC_US_SWT2_gk01@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,000] INFO&#58;     5(  238     5     0     0)   704(    5 10000) |     5     0     5 |     1    12 Up   HCC_US_UConn_gluskap@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,000] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   OSG_BR_UNESP_medium@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,001] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   OSG_US_FNAL_ce3@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,001] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     2     0     2 |     1     6 Up   OSG_US_Fermigridosg1_rhel6@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,002] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   OSG_US_MWT2_mwt2@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,002] INFO&#58;     5(  238     5     0     0)   704(    0 10000) |     0     0     0 |     1     6 Up   SBGRID_US_Nebraska_sh-ce1@v3_0@OSGGOC@....
[2015-02-05 13&#58;50&#58;27,003] INFO&#58;             Jobs in schedd queues                 |      Glideins     |   Request
[2015-02-05 13&#58;50&#58;27,003] INFO&#58; Idle (match  eff   old  uniq )  Run ( here  max ) | Total Idle   Run  | Idle MaxRun Down Factory
[2015-02-05 13&#58;50&#58;27,003] INFO&#58;   240(11424   238     0     0) 33792(   21  480k) |    25     2    23 |    48   314 Up   Sum of useful factories
[2015-02-05 13&#58;50&#58;27,003] INFO&#58;    20(  952    20     0     0)  2816(    0 40000) |     0     0     0 |     4    24 Down Sum of down factories
[2015-02-05 13&#58;50&#58;27,003] INFO&#58;     0(    0     0     0     0)     0(    0     0) |     0     0     0 |     0     0 Down Unmatched
[2015-02-05 13&#58;50&#58;27,003] INFO&#58; Advertising global requests
[2015-02-05 13&#58;50&#58;32,069] INFO&#58; Advertising glidein requests
[2015-02-05 13&#58;50&#58;32,700] INFO&#58; Done advertising requests
[2015-02-05 13&#58;50&#58;32,700] INFO&#58; Advertising 52 glideresource classads to the user pool
[2015-02-05 13&#58;50&#58;32,700] INFO&#58; There are 52 classads to advertise
[2015-02-05 13&#58;50&#58;32,786] INFO&#58; Done advertising glideresource classads
[2015-02-05 13&#58;50&#58;32,788] INFO&#58; iterate_one status&#58; None
[2015-02-05 13&#58;50&#58;32,788] INFO&#58; Writing stats
[2015-02-05 13&#58;50&#58;32,850] INFO&#58; Sleep

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899
</div><script type='text/javascript'>
        $('#show_1300267811').click(function() {
            $('#detail_1300267811').slideDown("normal");
            $('#show_1300267811').hide();
            $('#hide_1300267811').show();
        });
        $('#hide_1300267811').click(function() {
            $('#detail_1300267811').slideUp();
            $('#hide_1300267811').hide();
            $('#show_1300267811').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='23681#1423164947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-05T19:35:47+00:00">Feb 5, 2015 07:35 PM UTC</time><a class="anchor" name="1423164947">&nbsp;</a></div><pre>Judging by the entrypoints listed, It appears that it is not working.  What does the *.info.log file look like?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1423157679'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-05T17:34:39+00:00">Feb 5, 2015 05:34 PM UTC</time><a class="anchor" name="1423157679">&nbsp;</a></div><pre>Hi i did as you ask I think its working now?  Can someone try to send some jobs?  Also note the CHTC has some local gpus too if you want to make the jobs match the OSG and the CHTC GPUs that would be nice.
-Nate

[root@glidein2 gwms-frontend]# tail group_glowGPU/glowGPU.err.log
[2015-02-05 11&#58;33&#58;10,223] DEBUG&#58; glideinFrontendInterface&#58;738&#58; In create Advertize work
[2015-02-05 11&#58;33&#58;10,223] DEBUG&#58; glideinFrontendInterface&#58;773&#58; Checking Credential file /etc/condor/certs/pilot.proxy ...
[2015-02-05 11&#58;33&#58;10,224] DEBUG&#58; glideinFrontendInterface&#58;811&#58; Advertizing credential /etc/condor/certs/pilot.proxy with (4 idle, 7 max run) for request OSG_US_MWT2_mwt2@v3_0@OSGGOC
[2015-02-05 11&#58;33&#58;10,224] DEBUG&#58; glideinFrontendInterface&#58;820&#58; Writing /tmp/gfi_ad_gc_1_373157590_18909
[2015-02-05 11&#58;33&#58;10,224] DEBUG&#58; glideinFrontendInterface&#58;738&#58; In create Advertize work
[2015-02-05 11&#58;33&#58;10,224] DEBUG&#58; glideinFrontendInterface&#58;773&#58; Checking Credential file /etc/condor/certs/pilot.proxy ...
[2015-02-05 11&#58;33&#58;10,224] DEBUG&#58; glideinFrontendInterface&#58;811&#58; Advertizing credential /etc/condor/certs/pilot.proxy with (4 idle, 7 max run) for request SBGRID_US_Nebraska_sh-ce1@v3_0@OSGGOC
[2015-02-05 11&#58;33&#58;10,225] DEBUG&#58; glideinFrontendInterface&#58;820&#58; Writing /tmp/gfi_ad_gc_1_373157590_18909
[2015-02-05 11&#58;33&#58;10,225] DEBUG&#58; glideinFrontendInterface&#58;1090&#58; CONDOR ADVERTISE /tmp/gfi_ad_gc_1_373157590_18909 UPDATE_MASTER_AD glidein.grid.iu.edu True
[2015-02-05 11&#58;33&#58;10,616] DEBUG&#58; classadSupport&#58;352&#58; CONDOR ADVERTISE /tmp/gfi_ar_373157590_18909 UPDATE_AD_GENERIC None True True

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1423094145'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-04T23:55:45+00:00">Feb 4, 2015 11:55 PM UTC</time><a class="anchor" name="1423094145">&nbsp;</a></div><pre>Hi Nate,

Perhaps you forgot to run the reconfig command before restarting? Assuming you&#39;re running from rpms&#58;
service gwms-frontend reconfig

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='23681#1423067693'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-04T16:34:53+00:00">Feb 4, 2015 04:34 PM UTC</time><a class="anchor" name="1423067693">&nbsp;</a></div><pre>I tried adding that xml and restarting but it must not have worked as I don&#39;t see logs getting created for it...
[root@glidein2 ~]# cd /var/log/gwms-frontend/
[root@glidein2 gwms-frontend]# ls
frontend  group_DESY  group_DESY-ZN  group_FNAL  group_main

-Nate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1423052295'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-04T12:18:15+00:00">Feb 4, 2015 12:18 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1423052295">&nbsp;</a></div><pre>Hello Nate,

Do you have an update on the status of your jobs?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1422473094'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-28T19:24:54+00:00">Jan 28, 2015 07:24 PM UTC</time><a class="anchor" name="1422473094">&nbsp;</a></div><pre>Just a note that on the factory side of things, we have the VO entered as &#34;glowGPU&#34;, which matches in the gist that Derek posted below, so there shouldn&#39;t be any limitations on the factory end. Let us know if we need to change it to something else for any reason.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='23681#1422470642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-28T18:44:02+00:00">Jan 28, 2015 06:44 PM UTC</time><a class="anchor" name="1422470642">&nbsp;</a></div><pre>Hi Nate,

Have you been successful in running GPU jobs?  Did the jobs match the GPU nodes?

-Derek

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1422392281'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-27T20:58:01+00:00">Jan 27, 2015 08:58 PM UTC</time><a class="anchor" name="1422392281">&nbsp;</a></div><pre>Hello I have added the requested XML to our glidein2.chtc.wisc.edu then restarted condor then restarted gwms, I will be testing to see if we can match GPU jobs there now.
-Nate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><div class='update_description'><i onclick="document.location='23681#1421959450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-22T20:44:10+00:00">Jan 22, 2015 08:44 PM UTC</time><a class="anchor" name="1421959450">&nbsp;</a></div><pre>Adding myself CC to this ticket, and removing unnecessary HCC admins.

At the beginning Nate is asking for the GLOW VO to be added to the list of supported VO&#39;s for a glideinwms factory endpoint.  Note, this has nothing to do with the site configuration, and everything to do with the glideinwms factory configuration.

BUT!!!!! the glowGPU group is already supported for the gpu entrypoint.  This was on purpose to be named separate from the regular glow supported VO.  Therefore, Nate, you need to add a new group to the glideinwms frontend.xml to query for the glowGPU supported VO rather than the glow vo.  This group should also query the local job queue for only jobs that submit with GPU resources requested.  See <a href='https&#58;//gist.github.com/djw8605/dea87a5fd76e3c49a6ae' target='_blank' rel='nofollow'>https&#58;//gist.github.com/djw8605/dea87a5fd76e3c49a6ae</a> for an example snippet for the group configuration.

I&#39;m adding the osg-gfactory-support to the CC list on this email, though they should not need to take any action at this time.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Derek Weitzel 605</pre></div><div class='update_description'><i onclick="document.location='23681#1421957811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-22T20:16:51+00:00">Jan 22, 2015 08:16 PM UTC</time><a class="anchor" name="1421957811">&nbsp;</a></div><pre>Adding Josh and Mako, the primary Crane (Omaha) admins, to the ticket. They should be able to get this sorted.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='23681#1421951784'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-22T18:36:24+00:00">Jan 22, 2015 06:36 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1421951784">&nbsp;</a></div><pre>Hello Garhan,

We were wondering if you could review this ticket and provide any assistance. We though that you might know how to handle this, or the person in Omaha that should be notified.
Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1421904214'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-22T05:23:34+00:00">Jan 22, 2015 05:23 AM UTC</time><a class="anchor" name="1421904214">&nbsp;</a></div><pre>Hi Chris.

This sounds good to me. He might know how to handle this, or the person in Omaha that should be notified.

thanks,
Gonzalo

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Gonzalo Merino 1270</pre></div><div class='update_description'><i onclick="document.location='23681#1421864198'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-21T18:16:38+00:00">Jan 21, 2015 06:16 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1421864198">&nbsp;</a></div><pre>Hi Gonzalo,

I can add Garhan Attebury, If you would like. He is one of the admins for Crane-CE1, which is part of Nebraska-Omaha.

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1421857724'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-21T16:28:44+00:00">Jan 21, 2015 04:28 PM UTC</time><a class="anchor" name="1421857724">&nbsp;</a></div><pre>Adding Nathan Yehle to this, he&#39;s our current OSG lead.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Aaron Moate 894</pre></div><div class='update_description'><i onclick="document.location='23681#1421788621'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-20T21:17:01+00:00">Jan 20, 2015 09:17 PM UTC</time><a class="anchor" name="1421788621">&nbsp;</a></div><pre>Hello,

I think this is a request for the CMS_T3_US_Omaha sysadmins to configure their site such that opportunistic jobs from the GLOW VO are accepted to be run in the tusker_gpu resource.

I would say the site administrators of the Nebrasks-Omaha site should get involved in this ticket somehow. OIM indicates the support center for that site is CSC. I am not sure what that implies.

Is there some way for this ticket to be assigned to the Nebrasks-Omaha site?

thanks,
Gonzalo

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Gonzalo Merino 1270</pre></div><div class='update_description'><i onclick="document.location='23681#1421776975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-20T18:02:55+00:00">Jan 20, 2015 06:02 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1421776975">&nbsp;</a></div><pre>I have added Arron to this ticket for assistance.

Arron, if you could review this request and provide an update, we would appreciate it.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1421096284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-12T20:58:04+00:00">Jan 12, 2015 08:58 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1421096284">&nbsp;</a></div><pre>Hello Dan,

Have you had time to review this request?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='23681#1420654890'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-01-07T18:21:30+00:00">Jan 7, 2015 06:21 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1420654890">&nbsp;</a></div><pre>Hi Can CMS_T3_US_Omaha_tusker_gpu be added the our list of supported CEs? The IceCube team at the UW wants to use this resources via our GLOW VO through our glide in server glidein2.chtc.wisc.edu.

running condor_status shows these two&#58;

CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC HCCGPU,OSGVOGPU,SBGridGPU,glowGPU
CMS_T3_US_Omaha_tusker_gpu@gfactory_instance@SDSC@osg-flock-grid-iu-edu_OSG_gWMSFrontend.gpu HCCGPU,OSGVOGPU,SBGridGPU,glowGPU

but constrained for GLOWVO supported ones only we don’t see it in the list

condor_status -any -p gfactory-1.t2.ucsd.edu -const &#39;stringlistimember(&#34;glowVO&#34;,GLIDEIN_Supported_VOs)&#39; -f &#34;%s &#34; Name -f &#34;%s&#92;n&#34; GLIDEIN_Supported_VOs | grep CMS_T3_US_Omaha_tusker_gpu

Can it be added?
Thanks.
-Nate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Nathan Yehle 899</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F23681">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 23681});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
