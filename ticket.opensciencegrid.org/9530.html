<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9530] SAM test jobs at OU_OSCER_ATLAS going to random LSF queues?</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9530" method="post">
<div class="page-header">
    <h3><span class="muted">9530</span> / SAM test jobs at OU_OSCER_ATLAS going to random LSF queues?</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Horst Severini</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Horst Severini</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-11-15</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=64057">64057</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9530", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9530?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9530?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20SAM%20test%20jobs%20at%20OU_OSCER_ATLAS%20going%20to%20random%20LSF%20queues%3F%20ISSUE%3D9530%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9530#1291061737'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-29T20:15:37+00:00">Nov 29, 2010 08:15 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1291061737">&nbsp;</a></div><pre>Closing based on Horst&#39;s update.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='9530#1289405107'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-10T16:05:07+00:00">Nov 10, 2010 04:05 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1289405107">&nbsp;</a></div><pre>Hi again,

I just checked again, and adding the

queue_exclude=webmo,bb_q,caps_lead10,etc

to our config.ini did indeed fix the problem, see below.
So I think we can close this ticket again.

Thanks a lot for all your help,

Horst

----
[hs@ouhep1 ~]$ curl
&#39;<a href='http&#58;//is.grid.iu.edu/data/cemon_processed_osg/grid1.oscer.ou.edu.processed&#39' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/data/cemon_processed_osg/grid1.oscer.ou.edu.processed&#39</a>; |
grep &#34;dn&#58; GlueCEUniqueID&#34;
% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
Dload  Upload   Total   Spent    Left  Speed
0  312k    0  2640    0     0  24291      0  0&#58;00&#58;13 --&#58;--&#58;--  0&#58;00&#58;13
24291dn&#58;
GlueCEUniqueID=grid1.oscer.ou.edu&#58;2119/jobmanager-lsf-hep,mds-vo-name=OU_OSCER_A
TLAS,mds-vo-name=local,o=grid
dn&#58;
GlueCEUniqueID=grid1.oscer.ou.edu&#58;2119/jobmanager-lsf-hep_debug,mds-vo-name=OU_O
SCER_ATLAS,mds-vo-name=local,o=grid
dn&#58;
GlueCEUniqueID=grid1.oscer.ou.edu&#58;2119/jobmanager-lsf-hcc_q,mds-vo-name=OU_OSCER
_ATLAS,mds-vo-name=local,o=grid
100  312k  100  312k    0     0  1099k      0 --&#58;--&#58;-- --&#58;--&#58;-- --&#58;--&#58;-- 1770k</pre></div><div class='update_description'><i onclick="document.location='9530#1289240049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T18:14:09+00:00">Nov 8, 2010 06:14 PM UTC</time> by <b>hs@....</b><a class="anchor" name="1289240049">&nbsp;</a></div><pre>Hi Burt,

<font color='#7F7E6F'>&#62; Try the queue_exclude line, it should do what you want.  You&#39;re running</font>
<font color='#7F7E6F'>&#62; GIP 1.1.8, which supports it (I believe this has worked since GIP 1.0, even).</font>

okay, we&#39;ll try that, and see if that gets picked up automatically without
having to re-configure anything.

So you&#39;re saying that should show up -- or rather, they should disappear --
in this command?

curl &#39;<a href='http&#58;//is.grid.iu.edu/data/cemon_processed_osg/grid1.oscer.ou.edu.processed&#39' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/data/cemon_processed_osg/grid1.oscer.ou.edu.processed&#39</a>; | grep &#34;dn&#58; GlueCEUniqueID&#34;

We&#39;ll let you know how it goes.

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='9530#1289239326'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T18:02:06+00:00">Nov 8, 2010 06:02 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1289239326">&nbsp;</a></div><pre>Hi, Horst.

Try the queue_exclude line, it should do what you want.  You&#39;re running
GIP 1.1.8, which supports it (I believe this has worked since GIP 1.0,
even).

Ordinarily, you could also remove it by hand (or via the right tools)
from the rvf file, but there was a bug I found and fixed only 3 weeks
ago, so that won&#39;t work right until we release GIP 1.1.13.

- B

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9530#1289237808'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T17:36:48+00:00">Nov 8, 2010 05:36 PM UTC</time><a class="anchor" name="1289237808">&nbsp;</a></div><pre>Hi Horst,

I&#39;m adding the GIP support group.  Burt has been in this code most recently, and might be able to recall things I&#39;ve missed.  He&#39;s previously pointed out things that I thought should have worked, but in reality didn&#39;t in the LSF code.

Yes, you can add queue_exclude line to anywhere in the LSF section.  The GIP will pick this up on its next run (should be every 15 minutes) without reconfiguring the OSG.  You shouldn&#39;t need a downtime.

I believe lsf.rvf updates require you to run one of the Globus tools (can&#39;t recall which), and hence a downtime.  You can probably edit that file (in addition to the config.ini change) and re-configure when it is next convenient for your site.

Brian

-- by Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='9530#1289237346'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T17:29:06+00:00">Nov 8, 2010 05:29 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1289237346">&nbsp;</a></div><pre>Hi Brian,

thanks for that info.

So you&#39;re saying that the best way to handle this is simply to add
something like

queue_exclude=webmo,bb_q,caps_lead10,etc

in the [LSF] section of our config.ini? Anywhere in that section?

Can we then run a configure-osg -c without having to shut down the CE?
Do we have to run configure-gip as well?
We can&#39;t afford a downtime right now.

Also, we&#39;re currently at this version&#58;

You have installed a subset of VDT version 2.0.0p17&#58;
Generic Information Provider 1.1.      UPDATE AVAILABLE [1.1.12]

Is &#39;queue_exclude&#39; already supported in that version?

If not, can we just go ahead and remove all non-grid queues from lsf.rvf
for now? I suppose we&#39;ll still have to re-run configure-osg --
and possibly configure-gip as well?

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='9530#1289234650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T16:44:10+00:00">Nov 8, 2010 04:44 PM UTC</time><a class="anchor" name="1289234650">&nbsp;</a></div><pre>Hi Horst,

This appears to be a GIP issue; you can see that you are advertising many more queues from here&#58;

curl &#39;<a href='http&#58;//is.grid.iu.edu/data/cemon_processed_osg/grid1.oscer.ou.edu.processed&#39' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/data/cemon_processed_osg/grid1.oscer.ou.edu.processed&#39</a>; | grep &#34;dn&#58; GlueCEUniqueID&#34;

Are all these queues listed in lsf.rvf?  The two ways of removing queues are removing them from that file or blacklisting it through the GIP configuration.  The GIP configuration is noted in the CE install&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementInstall#Configuration_of_the_Generic_Inf' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementInstall#Configuration_of_the_Generic_Inf</a>

(Actually, it talks about PBS, but the same should apply for LSF).  In your config.ini, you can do&#58;

[LSF]
queue_exclude=webmo,bb_q,caps_lead10,etc

However, the recommended way is to keep the lsf.rvf correct.

Brian

-- by Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='9530#1289234415'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T16:40:15+00:00">Nov 8, 2010 04:40 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1289234415">&nbsp;</a></div><pre>Sending to GGUS.</pre></div><div class='update_description'><i onclick="document.location='9530#1289234290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T16:38:10+00:00">Nov 8, 2010 04:38 PM UTC</time><a class="anchor" name="1289234290">&nbsp;</a></div><pre>Hi,

This is not an rsv-sam issue, we should remove the list.  RSV-SAM is only for issues related to the upload of RSV results to SAM.

Probably the better destination is a GGUS ticket.

Brian

-- by Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='9530#1289229015'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T15:10:15+00:00">Nov 8, 2010 03:10 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1289229015">&nbsp;</a></div><pre>SEnding to rsv-sam&#58;

Hi all,

we see usatlas1 jobs go to various LSF queues at OU_OSCER_ATLAS --
grid1.oscer.ou.edu/jobmanager-lsf -- and we&#39;re wondering if those jobs
could come from the WLCG SAM framework?

First I thought they might be coming from Alessandro de Salvo&#39;s
sw-mgr frameworkwhich installs all the ATLAS software releases,
but he assures me that they&#39;re not, and suggested it might be SAM
who&#39;s sending them, since they&#39;re supposedly sent any queues discovered
in the BDII?

Could you please investigate? It would be nice to somehow prevent that
from happening, since these random jobs are not very useful,
and are causing concern with the OSCER admins.

All ATLAS jobs should only be sent to the &#39;hep&#39; queue.

Here are some examples from the LSF bojbs command&#58;

----
4152749 usatlas PEND  debug_test grid1                   *000000&#39;&#34;  Nov  3 11&#58;50
4154639 usatlas PEND  debug_test grid1                   *000000&#39;&#34;  Nov  4 03&#58;50
----

See below for the complete output of &#39;bjobs -l&#39; for one of them.

Thanks a lot,

Horst

----

<div id='show_1310283741' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1310283741'>Show More

[usatlas1@grid1 ~]$ bjobs -l 4152749

Job &#60;4152749&#62;, User &#60;usatlas1&#62;, Project &#60;default&#62;, Status &#60;PEND&#62;, Queue &#60;debug_
test&#62;, Command &#60;#! /bin/sh; #BSUB -M 2000000;#BSUB -R &#34;rus
age[mem=2000]&#34;;#BSUB -e /home/usatlas1/.globus/job/grid1.o
scer.ou.edu/25887.1288803004/stderr;#BSUB -i /dev/null;#BS
UB -n 1;#BSUB -o /home/usatlas1/.globus/job/grid1.oscer.ou
.edu/25887.1288803004/stdout;#BSUB -q debug_test;  HOME=&#34;/
home/usatlas1&#34;; export HOME;OSG_DATA=&#34;/hep/data/griddata&#34;;
export OSG_DATA;LD_LIBRARY_PATH=&#34;/opt/osg-1.2.0/subversio
n/lib&#58;/opt/osg-1.2.0/apache/lib&#58;/opt/osg-1.2.0/MonaLisa/Se
rvice/VDTFarm/pgsql/lib&#58;/opt/osg-1.2.0/prima/lib&#58;/opt/osg-
1.2.0/curl/lib&#58;/opt/osg-1.2.0/glite/lib64&#58;/opt/osg-1.2.0/g
lite/lib&#58;/opt/osg-1.2.0/mysql5/lib/mysql&#58;/opt/osg-1.2.0/gl
obus/lib&#58;/opt/osg-1.2.0/berkeley-db/lib&#58;/opt/osg-1.2.0/exp
at/lib&#58;&#34;; export LD_LIBRARY_PATH;OSG_GLEXEC_LOCATION=&#34;UNAV
AILABLE&#34;; export OSG_GLEXEC_LOCATION;GRID3_TMP_WN_DIR=&#34;$LS
F_SCRATCH&#34;; export GRID3_TMP_WN_DIR;GRID3_TMP_DIR=&#34;/hep/da
ta/griddata&#34;; export GRID3_TMP_DIR;OSG_LOCATION=&#34;/opt/osg-
1.2.0&#34;; export OSG_LOCATION;OSG_HOSTNAME=&#34;grid1.oscer.ou.e
du&#34;; export OSG_HOSTNAME;OSG_STORAGE_ELEMENT=&#34;True&#34;; expor
t OSG_STORAGE_ELEMENT;OSG_JOB_CONTACT=&#34;grid1.oscer.ou.edu/
jobmanager-lsf&#34;; export OSG_JOB_CONTACT;GRID3_SITE_NAME=&#34;O
U_OSCER_ATLAS&#34;; export GRID3_SITE_NAME;OSG_APP=&#34;/home/grid
app&#34;; export OSG_APP;EDG_WL_JOBID=&#34;<a href='https&#58;//wms208.cern.ch&#58' target='_blank' rel='nofollow'>https&#58;//wms208.cern.ch&#58</a>;
9000/ffP4QmJl37PSRK-GQgWPuA&#34;; export EDG_WL_JOBID;GRID3_BA
SE_DIR=&#34;/opt/osg-1.2.0&#34;; export GRID3_BASE_DIR;GRID3_DATA_
DIR=&#34;/hep/data/griddata&#34;; export GRID3_DATA_DIR;OSG_DEFAUL
T_SE=&#34;UNAVAILABLE&#34;; export OSG_DEFAULT_SE;OSG_GRID=&#34;/home/
gridapp/osgwn&#34;; export OSG_GRID;LOGNAME=&#34;usatlas1&#34;; export
LOGNAME;OSG_SQUID_LOCATION=&#34;UNAVAILABLE&#34;; export OSG_SQUI
D_LOCATION;GLOBUS_GRAM_JOB_CONTACT=&#34;<a href='https&#58;//grid1.oscer.ou' target='_blank' rel='nofollow'>https&#58;//grid1.oscer.ou</a>
.edu&#58;63567/25887/1288803004/&#34;; export GLOBUS_GRAM_JOB_CONT
ACT;GLOBUS_LOCATION=&#34;/home/gridapp/osgwn/globus&#34;; export G
LOBUS_LOCATION;GLOBUS_REMOTE_IO_URL=&#34;/home/usatlas1/.globu
s/job/grid1.oscer.ou.edu/25887.1288803004/remote_io_url&#34;;
export GLOBUS_REMOTE_IO_URL;OSG_SITE_NAME=&#34;OU_OSCER_ATLAS&#34;
; export OSG_SITE_NAME;GLOBUS_GRAM_MYJOB_CONTACT=&#34;URLx-nex
us&#58;//grid1.oscer.ou.edu&#58;64309/&#34;; export GLOBUS_GRAM_MYJOB_
CONTACT;OSG_SITE_WRITE=&#34;/hep/data/griddata&#34;; export OSG_SI
TE_WRITE;GRID3_APP_DIR=&#34;/home/gridapp&#34;; export GRID3_APP_D
IR;OSG_WN_TMP=&#34;$LSF_SCRATCH&#34;; export OSG_WN_TMP;SCRATCH_DI
RECTORY=&#34;/home/usatlas1//gram_scratch_Kg0vyJy83n&#34;; export
SCRATCH_DIRECTORY;X509_USER_PROXY=&#34;/home/usatlas1/.globus/
job/grid1.oscer.ou.edu/25887.1288803004/x509_up&#34;; export X
509_USER_PROXY;OSG_SITE_READ=&#34;/hep/data/griddata&#34;; export
OSG_SITE_READ;     if test &#39;X${LD_LIBRARY_PATH}&#39; != &#39;X&#39;;
then;
LD_LIBRARY_PATH=&#34;${LD_LIBRARY_PATH}&#58;&#34;;      else;
LD_L
IBRARY_PATH=&#34;&#34;;    fi;     export LD_LIBRARY_PATH;cd
/home/usatla
s1//gram_scratch_Kg0vyJy83n;/home/usatlas1/.globus/.gass_c
ache/local/md5/16/929e3c5aa7bd6d1af912a9f201d08c/md5/57/3c
6b444ae305d244954729ce6565c2/data &#34;&#39;UI=000000&#58;NS=000000000
4&#58;WM=000004&#58;BH=0000000000&#58;JSS=000003&#58;LM=000000&#58;LRMS=000000
&#58;APP=000000&#58;LBS=000000&#39;&#34; &#62;
Wed Nov  3 11&#58;50&#58;14&#58; Submitted from host &#60;grid1&#62;, CWD &#60;$HOME&#62;, Input File &#60;/dev
/null&#62;, Output File &#60;/home/usatlas1/.globus/job/grid1.osce
r.ou.edu/25887.1288803004/stdout&#62;, Error File &#60;/home/usatl
as1/.globus/job/grid1.oscer.ou.edu/25887.1288803004/stderr
, Re-runnable, Requested Resources &#60;rusage[mem=2000]&#62;;

MEMLIMIT
2000000 K
PENDING REASONS&#58;
The schedule of the job is postponed for a while;

SCHEDULING PARAMETERS&#58;
r15s   r1m  r15m   ut      pg    io   ls    it    tmp    swp    mem
loadSched   -     -     -     -       -     -    -     -     -      -      -
loadStop    -     -     -     -       -     -    -     -     -      -      -
</div><script type='text/javascript'>
        $('#show_1310283741').click(function() {
            $('#detail_1310283741').slideDown("normal");
            $('#show_1310283741').hide();
            $('#hide_1310283741').show();
        });
        $('#hide_1310283741').click(function() {
            $('#detail_1310283741').slideUp();
            $('#hide_1310283741').hide();
            $('#show_1310283741').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9530#1289228971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-08T15:09:31+00:00">Nov 8, 2010 03:09 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1289228971">&nbsp;</a></div><pre>[Horst Severini]

Hi all,

we see usatlas1 jobs go to various LSF queues at OU_OSCER_ATLAS --
grid1.oscer.ou.edu/jobmanager-lsf -- and we&#39;re wondering if those jobs
could come from the WLCG SAM framework?

First I thought they might be coming from Alessandro de Salvo&#39;s
sw-mgr frameworkwhich installs all the ATLAS software releases,
but he assures me that they&#39;re not, and suggested it might be SAM
who&#39;s sending them, since they&#39;re supposedly sent any queues discovered
in the BDII?

Could you please investigate? It would be nice to somehow prevent that
from happening, since these random jobs are not very useful,
and are causing concern with the OSCER admins.

All ATLAS jobs should only be sent to the &#39;hep&#39; queue.

Here are some examples from the LSF bojbs command&#58;

----
4152749 usatlas PEND  debug_test grid1                   *000000&#39;&#34;  Nov  3 11&#58;50
4154639 usatlas PEND  debug_test grid1                   *000000&#39;&#34;  Nov  4 03&#58;50
----

See below for the complete output of &#39;bjobs -l&#39; for one of them.

Thanks a lot,

Horst

----
[usatlas1@grid1 ~]$ bjobs -l 4152749
<div id='show_1352521986' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1352521986'>
Job &#60;4152749&#62;, User &#60;usatlas1&#62;, Project &#60;default&#62;, Status &#60;PEND&#62;, Queue &#60;debug_
test&#62;, Command &#60;#! /bin/sh; #BSUB -M 2000000;#BSUB -R &#34;rus
age[mem=2000]&#34;;#BSUB -e /home/usatlas1/.globus/job/grid1.o
scer.ou.edu/25887.1288803004/stderr;#BSUB -i /dev/null;#BS
UB -n 1;#BSUB -o /home/usatlas1/.globus/job/grid1.oscer.ou
.edu/25887.1288803004/stdout;#BSUB -q debug_test;  HOME=&#34;/
home/usatlas1&#34;; export HOME;OSG_DATA=&#34;/hep/data/griddata&#34;;
export OSG_DATA;LD_LIBRARY_PATH=&#34;/opt/osg-1.2.0/subversio
n/lib&#58;/opt/osg-1.2.0/apache/lib&#58;/opt/osg-1.2.0/MonaLisa/Se
rvice/VDTFarm/pgsql/lib&#58;/opt/osg-1.2.0/prima/lib&#58;/opt/osg-
1.2.0/curl/lib&#58;/opt/osg-1.2.0/glite/lib64&#58;/opt/osg-1.2.0/g
lite/lib&#58;/opt/osg-1.2.0/mysql5/lib/mysql&#58;/opt/osg-1.2.0/gl
obus/lib&#58;/opt/osg-1.2.0/berkeley-db/lib&#58;/opt/osg-1.2.0/exp
at/lib&#58;&#34;; export LD_LIBRARY_PATH;OSG_GLEXEC_LOCATION=&#34;UNAV
AILABLE&#34;; export OSG_GLEXEC_LOCATION;GRID3_TMP_WN_DIR=&#34;$LS
F_SCRATCH&#34;; export GRID3_TMP_WN_DIR;GRID3_TMP_DIR=&#34;/hep/da
ta/griddata&#34;; export GRID3_TMP_DIR;OSG_LOCATION=&#34;/opt/osg-
1.2.0&#34;; export OSG_LOCATION;OSG_HOSTNAME=&#34;grid1.oscer.ou.e
du&#34;; export OSG_HOSTNAME;OSG_STORAGE_ELEMENT=&#34;True&#34;; expor
t OSG_STORAGE_ELEMENT;OSG_JOB_CONTACT=&#34;grid1.oscer.ou.edu/
jobmanager-lsf&#34;; export OSG_JOB_CONTACT;GRID3_SITE_NAME=&#34;O
U_OSCER_ATLAS&#34;; export GRID3_SITE_NAME;OSG_APP=&#34;/home/grid
app&#34;; export OSG_APP;EDG_WL_JOBID=&#34;<a href='https&#58;//wms208.cern.ch&#58' target='_blank' rel='nofollow'>https&#58;//wms208.cern.ch&#58</a>;
9000/ffP4QmJl37PSRK-GQgWPuA&#34;; export EDG_WL_JOBID;GRID3_BA
SE_DIR=&#34;/opt/osg-1.2.0&#34;; export GRID3_BASE_DIR;GRID3_DATA_
DIR=&#34;/hep/data/griddata&#34;; export GRID3_DATA_DIR;OSG_DEFAUL
T_SE=&#34;UNAVAILABLE&#34;; export OSG_DEFAULT_SE;OSG_GRID=&#34;/home/
gridapp/osgwn&#34;; export OSG_GRID;LOGNAME=&#34;usatlas1&#34;; export
LOGNAME;OSG_SQUID_LOCATION=&#34;UNAVAILABLE&#34;; export OSG_SQUI
D_LOCATION;GLOBUS_GRAM_JOB_CONTACT=&#34;<a href='https&#58;//grid1.oscer.ou' target='_blank' rel='nofollow'>https&#58;//grid1.oscer.ou</a>
.edu&#58;63567/25887/1288803004/&#34;; export GLOBUS_GRAM_JOB_CONT
ACT;GLOBUS_LOCATION=&#34;/home/gridapp/osgwn/globus&#34;; export G
LOBUS_LOCATION;GLOBUS_REMOTE_IO_URL=&#34;/home/usatlas1/.globu
s/job/grid1.oscer.ou.edu/25887.1288803004/remote_io_url&#34;;
export GLOBUS_REMOTE_IO_URL;OSG_SITE_NAME=&#34;OU_OSCER_ATLAS&#34;
; export OSG_SITE_NAME;GLOBUS_GRAM_MYJOB_CONTACT=&#34;URLx-nex
us&#58;//grid1.oscer.ou.edu&#58;64309/&#34;; export GLOBUS_GRAM_MYJOB_
CONTACT;OSG_SITE_WRITE=&#34;/hep/data/griddata&#34;; export OSG_SI
TE_WRITE;GRID3_APP_DIR=&#34;/home/gridapp&#34;; export GRID3_APP_D
IR;OSG_WN_TMP=&#34;$LSF_SCRATCH&#34;; export OSG_WN_TMP;SCRATCH_DI
RECTORY=&#34;/home/usatlas1//gram_scratch_Kg0vyJy83n&#34;; export
SCRATCH_DIRECTORY;X509_USER_PROXY=&#34;/home/usatlas1/.globus/
job/grid1.oscer.ou.edu/25887.1288803004/x509_up&#34;; export X
509_USER_PROXY;OSG_SITE_READ=&#34;/hep/data/griddata&#34;; export
OSG_SITE_READ;     if test &#39;X${LD_LIBRARY_PATH}&#39; != &#39;X&#39;;
then;
LD_LIBRARY_PATH=&#34;${LD_LIBRARY_PATH}&#58;&#34;;      else;
LD_L
IBRARY_PATH=&#34;&#34;;    fi;     export LD_LIBRARY_PATH;cd
/home/usatla
s1//gram_scratch_Kg0vyJy83n;/home/usatlas1/.globus/.gass_c
ache/local/md5/16/929e3c5aa7bd6d1af912a9f201d08c/md5/57/3c
6b444ae305d244954729ce6565c2/data &#34;&#39;UI=000000&#58;NS=000000000
4&#58;WM=000004&#58;BH=0000000000&#58;JSS=000003&#58;LM=000000&#58;LRMS=000000
&#58;APP=000000&#58;LBS=000000&#39;&#34; &#62;
Wed Nov  3 11&#58;50&#58;14&#58; Submitted from host &#60;grid1&#62;, CWD &#60;$HOME&#62;, Input File &#60;/dev
/null&#62;, Output File &#60;/home/usatlas1/.globus/job/grid1.osce
r.ou.edu/25887.1288803004/stdout&#62;, Error File &#60;/home/usatl
as1/.globus/job/grid1.oscer.ou.edu/25887.1288803004/stderr
, Re-runnable, Requested Resources &#60;rusage[mem=2000]&#62;;

MEMLIMIT
2000000 K
PENDING REASONS&#58;
The schedule of the job is postponed for a while;

SCHEDULING PARAMETERS&#58;
r15s   r1m  r15m   ut      pg    io   ls    it    tmp    swp    mem
loadSched   -     -     -     -       -     -    -     -     -      -      -
loadStop    -     -     -     -       -     -    -     -     -      -      -

</div><script type='text/javascript'>
        $('#show_1352521986').click(function() {
            $('#detail_1352521986').slideDown("normal");
            $('#show_1352521986').hide();
            $('#hide_1352521986').show();
        });
        $('#hide_1352521986').click(function() {
            $('#detail_1352521986').slideUp();
            $('#hide_1352521986').hide();
            $('#show_1352521986').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9530">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 9530});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
