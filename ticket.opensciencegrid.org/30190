<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30190] /etc/gratia/pbs-lsf/ProbeConfig</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30190" method="post">
<div class="page-header">
    <h3><span class="muted">30190</span> / /etc/gratia/pbs-lsf/ProbeConfig</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Daniel Caunt</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Daniel Caunt</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for User Response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-07-07</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=30190", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30190?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30190?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20%2Fetc%2Fgratia%2Fpbs-lsf%2FProbeConfig%20ISSUE%3D30190%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30190#1467896487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T13:01:27+00:00">Jul 7, 2016 01:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1467896487">&nbsp;</a></div><pre>Closing as requested.

Thank you</pre></div><div class='update_description'><i onclick="document.location='30190#1467741791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-05T18:03:11+00:00">Jul 5, 2016 06:03 PM UTC</time><a class="anchor" name="1467741791">&nbsp;</a></div><pre>Hi Edgar,

I think this answers all my questions.  This ticket can be closed.  Thanks, Mat, for the help.  If anything else comes up regarding this, I&#39;ll open a new ticket.

Thanks!
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1467739376'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-05T17:22:56+00:00">Jul 5, 2016 05:22 PM UTC</time><a class="anchor" name="1467739376">&nbsp;</a></div><pre>Hi Dan,

Do you have anything else we can help you with, or can we close this ticket?

Edgar
OSG Software Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='30190#1467153493'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-28T22:38:13+00:00">Jun 28, 2016 10:38 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1467153493">&nbsp;</a></div><pre>443 is probably correct. It seems like a deficiency in osg-configure to use the same value for SSLHost as CollectorHost (the non-SSL upload host), but it looks like UseSSL is turned off by default, so the value of SSLHost doesn&#39;t matter.

-Mat</pre></div><div class='update_description'><i onclick="document.location='30190#1467137060'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-28T18:04:20+00:00">Jun 28, 2016 06:04 PM UTC</time><a class="anchor" name="1467137060">&nbsp;</a></div><pre>Thanks, Mat, for the explanation.  The only thing I&#39;m still confused about is osg-configure changing the SSLHost value to &#34;gratia-osg-prod.opensciencegrid.org&#58;80&#34; when the RPM installation set it to &#34;gratia-osg-prod.opensciencegrid.org&#58;443&#34;.  Which one is correct?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1466778317'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T14:25:17+00:00">Jun 24, 2016 02:25 PM UTC</time><a class="anchor" name="1466778317">&nbsp;</a></div><pre>Hi Elizabeth,

Sorry, I&#39;ve been so busy with migrating our worker nodes to HTCondor-CE that I haven&#39;t had time to follow up with this.  I do intend to next week, though.  I did notice that the ProbeConfig file changed again on our CE, so there&#39;s something that I&#39;m still missing.  Unfortunately, my auditor had stopped due to a CE reboot and I wasn&#39;t able to determine what changed the file.  I started the auditor again so hopefully I&#39;ll catch it this time.  I&#39;ll reply again soon.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1466777961'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T14:19:21+00:00">Jun 24, 2016 02:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1466777961">&nbsp;</a></div><pre>Is there anything further on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='30190#1466024456'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T21:00:56+00:00">Jun 15, 2016 09:00 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1466024456">&nbsp;</a></div><pre>osg-configure doesn&#39;t catch changes, it makes changes.

If you want to use Puppet to manage your ProbeConfig files, you should set &#34;enabled = False&#34; in 30-gratia.ini so that osg-configure will leave all of them alone.

-Mat</pre></div><div class='update_description'><i onclick="document.location='30190#1466020088'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T19:48:08+00:00">Jun 15, 2016 07:48 PM UTC</time><a class="anchor" name="1466020088">&nbsp;</a></div><pre>Thanks, Mat.  So, since the jobmanager probe is being defined in the &#34;probes&#34; option of /etc/osg/config.d/30-gratia.ini as&#58;

probes = %(osg-jobmanager-gratia)s,%(osg-gridftp-gratia)s

this means that osg-configure will catch any changes made to /etc/gratia/pbs-lsf/ProbeConfig, correct?

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1466019532'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T19:38:52+00:00">Jun 15, 2016 07:38 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1466019532">&nbsp;</a></div><pre>Hi Dan,

osg-configure does configure gratia probes based on the values in /etc/osg/config.d/30-gratia.ini -- check the &#34;probes&#34; option in that file.
However, the default is to only configure the &#34;jobmanager&#34; and &#34;gridftp&#34; probes, and leave the other probes alone.

-Mat</pre></div><div class='update_description'><i onclick="document.location='30190#1466010606'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T17:10:06+00:00">Jun 15, 2016 05:10 PM UTC</time><a class="anchor" name="1466010606">&nbsp;</a></div><pre>Carl,

Thanks for confirming the osg-configure options that I used.  Since we began speaking about this, the ProbeConfig file has not changed, so we may be in the clear.  Perhaps the old config had been in the system somewhere initially but has since been flushed out.  I have rebooted the CE several times and still the file remains as-is, so that&#39;s a good sign.

One thing that&#39;s still a bit confusing to me, however, is that /etc/gratia/pbs-lsf/ProbeConfig.rpmnew initially had&#58;

ProbeName=&#34;pbs-lsf&#58;@PROBE_HOST@&#34;

I just want to make sure that &#34;lsf&#58;net2.rc.fas.harvard.edu&#34; is a valid value for this.  Is it okay to be using &#34;lsf&#34; rather than &#34;pbs-lsf&#34;?

Also, to be sure that we have the correct SSLHost value, it definitely should be 443 and not 80, correct?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1466009657'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T16:54:17+00:00">Jun 15, 2016 04:54 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1466009657">&nbsp;</a></div><pre>I think what you ran is normal (osg-configure -v; osg-configure -c) ... There may be some osg-configure config options that affect the probes, but none that I would expect to put the old versions back like you&#39;re seeing (which is why I suspect it might be puppet&#39;s doing) ...

Mat, can you think of anything in osg-configure that might be causing the problem Dan is seeing, with the ProbeConfig settings getting reverted on upgrades?

Dan, did your &#39;auditctl&#39; command reveal anything?

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='30190#1465585771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T19:09:31+00:00">Jun 10, 2016 07:09 PM UTC</time><a class="anchor" name="1465585771">&nbsp;</a></div><pre>Are there particular osg-configure flags that I should use?  After upgrading and editing all necessary config files, I ran &#34;osg-configure -v; osg-configure -c&#34;.  I don&#39;t remember seeing anything in the OSG upgrade documentation about running any particular osg-configure commands.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1465585397'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T19:03:17+00:00">Jun 10, 2016 07:03 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1465585397">&nbsp;</a></div><pre>I guess maybe puppet is putting back the old version of the file, but I&#39;m not a puppet expert.

Are you by any chance re-running osg-configure each time after the upgrade?  Maybe that could be putting old configured values back, but I&#39;m guessing that&#39;s not it...

Hopefully your auditctl command will reveal something...

Carl</pre></div><div class='update_description'><i onclick="document.location='30190#1465583884'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T18:38:04+00:00">Jun 10, 2016 06:38 PM UTC</time><a class="anchor" name="1465583884">&nbsp;</a></div><pre>Carl,

Hopefully this will tell me something&#58;

auditctl -w /etc/gratia/pbs-lsf/ProbeConfig -p w -k probe_changes

But if you have any ideas in the meantime, please let me know.

Thanks!
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1465582796'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T18:19:56+00:00">Jun 10, 2016 06:19 PM UTC</time><a class="anchor" name="1465582796">&nbsp;</a></div><pre>Hi Carl,

No, the new /etc/gratia/pbs-lsf/ProbeConfig.rpmnew created by the yum upgrade contained

SSLHost=&#34;gratia-osg-prod.opensciencegrid.org&#58;443&#34;

So, that&#39;s what I entered into the ProbeConfig file that our Puppet master manages for our CE.  But several times since applying that new ProbeConfig to our CE, I notice that Puppet sees a change in /etc/gratia/pbs-lsf/ProbeConfig (namely, that 443 has been changed to 80) and so it changes it back (to 443).  I&#39;m not sure what program on the CE is changing it to 80, though I&#39;d have to assume that it&#39;s some part of OSG.

The same thing is happening with the &#34;ProbeName=&#34;lsf&#58;net2.rc.fas.harvard.edu&#34;&#34; entry in that same file.  Something keeps changing it to &#34;ProbeName=&#34;pbs&#58;net2.rc.fas.harvard.edu&#34;&#34;

Any idea what could be causing this change?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='30190#1465582653'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T18:17:33+00:00">Jun 10, 2016 06:17 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1465582653">&nbsp;</a></div><pre>Just for explanation; I would expect that if you had modifications in your installed /etc/gratia/pbs-lsf/ProbeConfig, then an upgrade would create /etc/gratia/pbs-lsf/ProbeConfig.rpmnew with the defaults, including SSLHost=&#34;gratia-osg-prod.opensciencegrid.org&#58;443&#34; (not 80) ...

The contents of /etc/gratia/pbs-lsf/ProbeConfig should not get changed at all by an upgrade if you have modifications; so if you had SSLHost=&#34;gratia-osg-prod.opensciencegrid.org&#58;80&#34; and ProbeName=&#34;pbs&#58;net2.rc.fas.harvard.edu&#34; before the upgrade, it&#39;ll remain that way after the upgrade.

But let me know if I&#39;m misunderstanding anything...

Thanks!
Carl</pre></div><div class='update_description'><i onclick="document.location='30190#1465578457'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T17:07:37+00:00">Jun 10, 2016 05:07 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1465578457">&nbsp;</a></div><pre>Assigning to myself to take a look...

So, this sounds odd... Are you saying that the new /etc/gratia/pbs-lsf/ProbeConfig.rpmnew created by the yum upgrade contains

SSLHost=&#34;gratia-osg-prod.opensciencegrid.org&#58;80&#34;

?

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='30190#1465485119'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-09T15:11:59+00:00">Jun 9, 2016 03:11 PM UTC</time> by <b>echism</b><a class="anchor" name="1465485119">&nbsp;</a></div><pre>Software,

Any thoughts?

Thank you</pre></div><div class='update_description'><i onclick="document.location='30190#1465334775'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T21:26:15+00:00">Jun 7, 2016 09:26 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465334775">&nbsp;</a></div><pre>Hi,

Today, I upgraded from OSG 3.2 to OSG 3.3.  The upgrade process created /etc/gratia/pbs-lsf/ProbeConfig.rpmnew so I merged in our local changes to this new version of ProbeConfig and replaced the old /etc/gratia/pbs-lsf/ProbeConfig.  However, OSG (I&#39;m assuming) keeps changing some entries in the file from the original contents.  Specifically, it keeps changing&#58;

SSLHost=&#34;gratia-osg-prod.opensciencegrid.org&#58;443&#34;

to&#58;

SSLHost=&#34;gratia-osg-prod.opensciencegrid.org&#58;80&#34;

even though the original /etc/gratia/pbs-lsf/ProbeConfig.rpmnew said 443.  And it keeps changing&#58;

ProbeName=&#34;lsf&#58;net2.rc.fas.harvard.edu&#34;

to&#58;

ProbeName=&#34;pbs&#58;net2.rc.fas.harvard.edu&#34;

I imagine that it may be doing this because we have HTCondor-CE configured for PBS/SLURM, but we&#39;re still running GRAM/LSF until our migration to HTCondor-CE/SLURM is complete.

Can you tell me what&#39;s changing this file and help me figure out which values are correct?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30190">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 30190});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
