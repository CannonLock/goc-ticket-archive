<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12963] VOMS server does not send outgoing mail</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12963" method="post">
<div class="page-header">
    <h3><span class="muted">12963</span> / VOMS server does not send outgoing mail</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alan Sill</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Alan Sill</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for an update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-01-22</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=88566">88566</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12963", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12963?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12963?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20VOMS%20server%20does%20not%20send%20outgoing%20mail%20ISSUE%3D12963%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12963#1358497544'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-18T08:25:44+00:00">Jan 18, 2013 08:25 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358497544">&nbsp;</a></div><pre>it was missing the javamail.jar in $CATALINA_HOME/lib

fixed by running this command as root (it isn&#39;t reported in the OSG install guide)&#58;

build-jar-repository -s ${CATALINA_HOME}/lib javamail

there was also a typo into tomcat6.conf

-- by Alessandro Paolini at Fri Jan 18 08&#58;24&#58;49 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358441749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T16:55:49+00:00">Jan 17, 2013 04:55 PM UTC</time><a class="anchor" name="1358441749">&nbsp;</a></div><pre>Thank Andrea for the suggestion and thank Alessandro for pointing out the typo. I tested and it works. I received the confirmation email upon registration request. You may close this ticket now. Thank you all very much for the help!

Thanks,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1358437231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T15:40:31+00:00">Jan 17, 2013 03:40 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358437231">&nbsp;</a></div><pre>As wrote previously, it seems you&#39;re missing the javamail.jar in $CATALINA_HOME/lib. I guess this is a shortcoming of the OSG install guide, as YAIM correctly configures javamail on SL6.

This command (run as root)&#58;

build-jar-repository -s ${CATALINA_HOME}/lib javamail

should fix your issue, assuming the jpackage-utils package is installed.

-- by Andrea Ceccanti at Thu Jan 17 15&#58;39&#58;55 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358436630'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T15:30:30+00:00">Jan 17, 2013 03:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358436630">&nbsp;</a></div><pre>hi Amy,
in the tomcat6.conf you pasted, there is the wrong line&#58;
ATALINA_OPTS=&#34;${CATALINA_OPTS} -XX&#58;MaxPermSize=256m&#34;

it should be
CATALINA_OPTS=&#34;${CATALINA_OPTS} -XX&#58;MaxPermSize=256m&#34;

is it just a typo error in pasting the file into the ticket?

Cheers,
Alessandro

-- by Alessandro Paolini at Thu Jan 17 15&#58;29&#58;29 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358432682'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T14:24:42+00:00">Jan 17, 2013 02:24 PM UTC</time><a class="anchor" name="1358432682">&nbsp;</a></div><pre>Also, there are these files, &#34;/usr/share/voms-admin/tools/lib/commons-email-1.1.jar&#34;, &#34;/usr/share/voms-admin/tools/lib/mail-1.4.jar&#34; and &#34;/usr/share/voms-admin/tools/lib/activation-1.1.jar&#34;. &#34;javamail.jar&#34; and &#34;activation.jar&#34; are in &#34;/usr/share/java&#34;.

Thanks,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1358432429'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T14:20:29+00:00">Jan 17, 2013 02:20 PM UTC</time><a class="anchor" name="1358432429">&nbsp;</a></div><pre>Tomcat6 on CentOS6.3. Used yum to install tomcat6. Tomcat&#39;s trust manager was configured too. The configuration file of Tomcat &#34;tomcat6.conf&#34; is shown as following.

# System-wide configuration file for tomcat6 services
# This will be sourced by tomcat6 and any secondary service
# Values will be overridden by service-specific configuration
# files in /etc/sysconfig
#
# Use this one to change default values for all services
# Change the service specific ones to affect only one service
# (see, for instance, /etc/sysconfig/tomcat6)
#

# Where your java installation lives
# JAVA_HOME=&#34;/usr/lib/jvm/jre-1.6.0-openjdk.x86_64&#34;           --------------------&#62;  I also tried to set up JAVA_HOME here, but then Tomcat6 failed to restart.

# Where your tomcat installation lives
CATALINA_BASE=&#34;/usr/share/tomcat6&#34;
CATALINA_HOME=&#34;/usr/share/tomcat6&#34;
JASPER_HOME=&#34;/usr/share/tomcat6&#34;
CATALINA_TMPDIR=&#34;/var/cache/tomcat6/temp&#34;

# You can pass some parameters to java here if you wish to
#JAVA_OPTS=&#34;-Xminf0.1 -Xmaxf0.3&#34;

# Use JAVA_OPTS to set java.library.path for libtcnative.so
#JAVA_OPTS=&#34;-Djava.library.path=/usr/lib64&#34;

# Cannot resolve user database reference - naming-factory-dbcp
# the real problem is a cnfe that is avoided by configuring
# the -Djavax.sql.DataSource.Factory. This fixes the rpm install.
JAVA_OPTS=&#34;${JAVA_OPTS} -Djavax.sql.DataSource.Factory=org.apache.commons.dbcp.BasicDataSourceFactory&#34;

# What user should run tomcat
TOMCAT_USER=&#34;tomcat&#34;

<div id='show_1080958226' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1080958226'># You can change your tomcat locale here
#LANG=&#34;en_US&#34;

# Run tomcat under the Java Security Manager
SECURITY_MANAGER=&#34;false&#34;

# Time to wait in seconds, before killing process
SHUTDOWN_WAIT=&#34;30&#34;

# Whether to annoy the user with &#34;attempting to shut down&#34; messages or not
SHUTDOWN_VERBOSE=false

# Set the TOMCAT_PID location
CATALINA_PID=&#34;/var/run/tomcat6.pid&#34;

# Connector port is 8080 for this tomcat6 instance
#CONNECTOR_PORT=&#34;8080&#34;

# If you wish to further customize your tomcat environment,
# put your own definitions here
# (i.e. LD_LIBRARY_PATH for some jdbc drivers)
ATALINA_OPTS=&#34;${CATALINA_OPTS} -XX&#58;MaxPermSize=256m&#34;
JAVA_OPTS=&#34;${JAVA_OPTS} -Xmx2048m&#34;
JAVA_ENDORSED_DIRS=&#34;${JAVA_ENDORSED_DIRS}&#58;/usr/share/voms-admin/endorsed&#34;

Thanks.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262
</div><script type='text/javascript'>
        $('#show_1080958226').click(function() {
            $('#detail_1080958226').slideDown("normal");
            $('#show_1080958226').hide();
            $('#hide_1080958226').show();
        });
        $('#hide_1080958226').click(function() {
            $('#detail_1080958226').slideUp();
            $('#hide_1080958226').hide();
            $('#show_1080958226').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12963#1358426885'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T12:48:05+00:00">Jan 17, 2013 12:48 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358426885">&nbsp;</a></div><pre>Hi Alan,
which version of tomcat is installed, and how did you configure it?

cheers,
Alessandro

-- by Alessandro Paolini at Thu Jan 17 12&#58;47&#58;53 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358423830'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T11:57:10+00:00">Jan 17, 2013 11:57 AM UTC</time> by <b>TIGRE</b><a class="anchor" name="1358423830">&nbsp;</a></div><pre>We installed VOMS using OSG rpms.

Alan</pre></div><div class='update_description'><i onclick="document.location='12963#1358410419'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T08:13:39+00:00">Jan 17, 2013 08:13 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358410419">&nbsp;</a></div><pre>-- by Alessandro Paolini at Thu Jan 17 08&#58;12&#58;56 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358408368'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T07:39:28+00:00">Jan 17, 2013 07:39 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358408368">&nbsp;</a></div><pre>Back to DMSU as this seems to be a configuration issue and many crucial questions to understand the issue were not asked.Was TOMCAT configured using YAIM? Did you install packages from the EMI or UMD repository?
Which version of TOMCAT? On which OS?

It seems the issue is that javamail is not correctly installed on your tomcat installation, but
the mail jar shouldn&#39;t be installed in the JRE but in the TOMCAT lib. The precise path depends on the version of tomcat.

-- by Andrea Ceccanti at Thu Jan 17 07&#58;38&#58;28 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358359650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-16T18:07:30+00:00">Jan 16, 2013 06:07 PM UTC</time><a class="anchor" name="1358359650">&nbsp;</a></div><pre>Thanks Alessandro. More updates here, I tried to setup the environmental variable $JAVA_HOME to &#34;/usr/lib/jvm/jre-1.6.0-openjdk.x86_64&#34;, and copied &#34;mail-1.4.jar&#34; and &#34;activation-1.1.jar&#34; to &#34;/usr/lib/jvm/jre-1.6.0-openjdk.x86_64/lib&#34;, also added the library path to $LD_LIBRARY, then restarted tomcat6 service, but I still couldn&#39;t receive the confirmation email and I got the same message &#34;java.lang.NoClassDefFoundError - javax/mail/Message&#34; in the log file.

Thanks,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1358323387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-16T08:03:07+00:00">Jan 16, 2013 08:03 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358323387">&nbsp;</a></div><pre>hi Amy,.
I asked the developers and it seems it is missing a jar file, I&#39;m assigning the ticket to 3rd level

cheers,
Alessandro

-- by Alessandro Paolini at Wed Jan 16 08&#58;02&#58;31 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1358264247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T15:37:27+00:00">Jan 15, 2013 03:37 PM UTC</time><a class="anchor" name="1358264247">&nbsp;</a></div><pre>Hi All,

Sorry for my late response. After a registration request is submitted, in the log, it shows a messages of &#34;ERROR [NotificationService] - Error dispatching email notification &#39;org.glite.security.voms.admin.notification.messages.ConfirmRequest@185641ad[subject=&#39;[VOMS Admin] Your membership request for VO pegrid&#39;,recipients=&#39;amy.wang@....&#39;]&#39;&#58; java.lang.NoClassDefFoundError - javax/mail/Message&#34;.

The parameter &#34;voms.notification.notify&#34; in voms.service.properties is set to &#34;=all&#34;.

Thanks,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1358258009'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T13:53:29+00:00">Jan 15, 2013 01:53 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358258009">&nbsp;</a></div><pre>Requestor asked for reply several times. Still waiting for reply.

-- by Zdeněk Šustr at Tue Jan 15 13&#58;52&#58;22 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1357656935'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-08T14:55:35+00:00">Jan 8, 2013 02:55 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1357656935">&nbsp;</a></div><pre>The relevant code seems to be&#58;

NotificationRunner class, run() method&#58;

which calls EmailNotification.send(), and an exception is thrown.

No further clues from which step there the exception comes,
let&#39;s wait for further user input.

-- by Ales Krenek at Tue Jan 08 14&#58;54&#58;49 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1357638723'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-08T09:52:03+00:00">Jan 8, 2013 09:52 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1357638723">&nbsp;</a></div><pre>hi Amy,
it isn&#39;t clear to me if, with the log level increased, you see any information regarding the notifications in the log

cheers,
Alessandro

-- by Alessandro Paolini at Tue Jan 08 09&#58;51&#58;31 UTC 2013

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1356128150'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-21T22:15:50+00:00">Dec 21, 2012 10:15 PM UTC</time><a class="anchor" name="1356128150">&nbsp;</a></div><pre>Hi Alessandro,

Thanks a lot! Based on your suggestions, I tried to set the settings on several different ways, but all of them didn&#39;t work, As a test user, I still cannot receive any confirmation emails upon registration requests.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1356080473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-21T09:01:13+00:00">Dec 21, 2012 09:01 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1356080473">&nbsp;</a></div><pre>hi,
comparing your file with one on our server, I see that you miss some settings, probably because you do ot use yaim for configuring the server.

for example, it is missing this
## The VOMS service hostname
voms.hostname = voms.hpcc.ttu.edu

but I don&#39;t know if it is relevant

then it is missing also this parameter&#58;

voms.notification.notify = all

EXPLANATION of its values&#58;
# Administrator notification behaviour.
#
# When the value is &#34;admins&#34;, notifications resulting from user requests are sent only to administrators that can handle
# the requests. If no such administrator is found, the service email address is used instead.
#
# When the value is &#34;service&#34;, notifications are sent *only* to the service email address specified at VO
# configuration time.
#
# When the value is &#34;all&#34;, notifications are sent to admins *and* the service email address.

however, if you set the loglevel to debug as suggested yesterday, you may find the exact errors when the server tries to send the notifications to users or VO-admins

cheers,
Alessandro

-- by Alessandro Paolini at Fri Dec 21 09&#58;00&#58;24 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1356023328'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-20T17:08:48+00:00">Dec 20, 2012 05:08 PM UTC</time><a class="anchor" name="1356023328">&nbsp;</a></div><pre>Thank you Alessandro for your suggestion. The logback.runtime.xml file has the same settings as you mentioned. It could be something else wrong. The file voms.service.properties files is shown as following (Not able to add an attachment). Thanks.

root@voms suragrid]# cat voms.service.properties
## Should the registration service be enabled?
voms.request.webui.enabled = true
## Should the VOMS SAML service be enabled? (disabled by default)
##
## voms.aa.activate_saml_endpoint = true

## voms ca updater configuration
voms.cafiles = /etc/grid-security/certificates/*.0

# voms ca updater period in seconds
voms.cafiles.period = 1800

## voms notification facility
voms.notification.email-address = SURAgrid-VO-Admins@....
##
##This machine has to send through TTU basic.smtp.ttu.edu, but has now
##been configured to do so directly in the postfix installation
voms.notification.smtp-server = basic.smtp.ttu.edu
##voms.notification.smtp-server = localhost
# voms.notification.username = ...
# voms.notification.password = ...
# voms.notification.use_tls = false

## should the vo be configured to be read accessible for authenticated clients?
## (mkgridmap clients need this!)
voms.read-access-for-authenticated-clients = True

## voms trusted admin settings
voms.trusted.admin.subject =  /DC=org/DC=doegrids/OU=Services/CN=http/voms.hpcc.ttu.edu
voms.trusted.admin.ca = /DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1

## voms pagination options
<div id='show_1975081366' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1975081366'>voms.pagination.user.max.results.per.page = 20
voms.pagination.group.max.results.per.page = 20
voms.pagination.role.max.results.per.page = 10
voms.pagination.attributes.max.results.per.page = 50

## voms request options

## Time in seconds that unconfirmed requests are kept
## inside the voms database.
voms.request.vo_membership.lifetime = 86400

## Should voms-admin send a warning email to the user when
## his/her uncorfimed request is removed from the database?
voms.request.vo_membership.warn_when_expired = true

## Should voms-admin generate gridmapfiles that encode the
## email part of the DN using the &#34;emailAddress&#34; format in addition
## to the &#34;Email=&#34; format used by default?
voms.mkgridmap.translate_dn_email_format = false

## Should the webui always show full DNs (instead of just the first CN)?
# voms.webapp.always-show-full-dns = true

## AUP options

voms.aup.vo_aup.initial_url =  file&#58;////etc/voms-admin/suragrid/vo-aup.txt

#### Add other options after this line
voms.csrf.log_only = true

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262
</div><script type='text/javascript'>
        $('#show_1975081366').click(function() {
            $('#detail_1975081366').slideDown("normal");
            $('#show_1975081366').hide();
            $('#hide_1975081366').show();
        });
        $('#hide_1975081366').click(function() {
            $('#detail_1975081366').slideUp();
            $('#hide_1975081366').hide();
            $('#show_1975081366').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12963#1355990985'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-20T08:09:45+00:00">Dec 20, 2012 08:09 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1355990985">&nbsp;</a></div><pre>hi Amy,
you may try to set the DEBUG level for the voms-admin logs.

In the file /etc/voms-admin/&#60;VO&#62;/logback.runtime.xml change in DEBUG the vaule of&#58;

&#60;!--
This logger controls the MAIN voms admin log messages. Set the level to DEBUG
for maximum detail.
--&#62;
&#60;logger name=&#34;org.glite.security.voms.admin&#34; level=&#34;INFO&#34; /&#62;

then restart tomcat6

since you upgraded the server, could you please attache again the file voms.service.properties for a VO?

cheers,
Alessandro

-- by Alessandro Paolini at Thu Dec 20 08&#58;09&#58;10 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1355938810'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T17:40:10+00:00">Dec 19, 2012 05:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1355938810">&nbsp;</a></div><pre>I am reassigning this to another GOC staffer in anticipation of my leave.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12963#1355938666'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T17:37:46+00:00">Dec 19, 2012 05:37 PM UTC</time><a class="anchor" name="1355938666">&nbsp;</a></div><pre>The issue is still there. Users are not getting confirmation emails upon the registrations. Someone could help? Thanks.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1355938196'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T17:29:56+00:00">Dec 19, 2012 05:29 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1355938196">&nbsp;</a></div><pre>Hi,
So at this point I&#39;m confused as to the state of this ticket. Can you summarize how things are going? Previous comments make it look like the mail issue was solved by switching to a local mail server. Is that not the case, or did things break again when you upgraded to the newest VOMS?
-Mat</pre></div><div class='update_description'><i onclick="document.location='12963#1355937371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-19T17:16:11+00:00">Dec 19, 2012 05:16 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1355937371">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by SYSTEM at Mon Dec 03 23&#58;59&#58;02 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1353343381'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-19T16:43:01+00:00">Nov 19, 2012 04:43 PM UTC</time><a class="anchor" name="1353343381">&nbsp;</a></div><pre>On the server, voms-admin is now updated to version 2.7.0, and voms is updated to version 2.0.8-1. The services were stopped before the updates, and they were restarted after. However the same issue is still there, the updated doesn&#39;t fix it.

Please let us know if you have any suggestions. Thanks very much.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1353336855'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-19T14:54:15+00:00">Nov 19, 2012 02:54 PM UTC</time><a class="anchor" name="1353336855">&nbsp;</a></div><pre>Thanks!  Can the GOC tell me whether this is released now in the current OSG version?  At present we have

[root@voms ~]# osg-version
OSG 3.1.10

Please let us know if there are any special update instructions beyond a yum update.

Alan

by /DC=org/DC=doegrids/OU=People/CN=Alan Sill 503049</pre></div><div class='update_description'><i onclick="document.location='12963#1353334460'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-19T14:14:20+00:00">Nov 19, 2012 02:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1353334460">&nbsp;</a></div><pre>The problem was that to send e-mail off site using the IU mail exchange required authentication. We switched to a local mail and all was well

-- by Alessandro Paolini at Mon Nov 19 14&#58;13&#58;42 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1353334148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-19T14:09:08+00:00">Nov 19, 2012 02:09 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1353334148">&nbsp;</a></div><pre>The problem was that to send e-mail off site using the IU mail exchange required authentication. We switched to a local mail and all was well.
S

On Nov 16, 2012, at 4&#58;21 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12963#1353315210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-19T08:53:30+00:00">Nov 19, 2012 08:53 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1353315210">&nbsp;</a></div><pre>Dear Alan,
I see that the voms-admin version is old, please update it to the latest one 2.7.0&#58;
<a href='http&#58;//www.eu-emi.eu/products/-/asset_publisher/1gkD/content/voms-1' target='_blank' rel='nofollow'>http&#58;//www.eu-emi.eu/products/-/asset_publisher/1gkD/content/voms-1</a>
<a href='http&#58;//www.eu-emi.eu/products/-/asset_publisher/1gkD/content/voms-admin-1' target='_blank' rel='nofollow'>http&#58;//www.eu-emi.eu/products/-/asset_publisher/1gkD/content/voms-admin-1</a>

then try again to set voms.notification.smtp-server = basic.smtp.ttu.edu, restart the services and see what happens

cheers,
Alessandro

-- by Alessandro Paolini at Mon Nov 19 08&#58;52&#58;52 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1353313347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-19T08:22:27+00:00">Nov 19, 2012 08:22 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1353313347">&nbsp;</a></div><pre>-- by Alessandro Paolini at Mon Nov 19 08&#58;21&#58;47 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=88566</a></pre></div><div class='update_description'><i onclick="document.location='12963#1353100894'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-16T21:21:34+00:00">Nov 16, 2012 09:21 PM UTC</time> by <b>echism</b><a class="anchor" name="1353100894">&nbsp;</a></div><pre>Hey Scott,

Didn&#39;t we go through a problem where our VOMS server wouldn&#39;t send mail? Do you remember what the problem was? Someone else is reporting a similar deal.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12963#1352483620'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-09T17:53:40+00:00">Nov 9, 2012 05:53 PM UTC</time><a class="anchor" name="1352483620">&nbsp;</a></div><pre>That is not the case. We have tried it both ways&#58; either by specifying the relay server explicitly (now commented out), or by setting the smtp server to localhost (as it is now, with postfix configured to handle the relay itself).

VOMS is simply not succeeding, internally, to send the mail.

Alan

by /DC=org/DC=doegrids/OU=People/CN=Alan Sill 503049</pre></div><div class='update_description'><i onclick="document.location='12963#1352483604'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-09T17:53:24+00:00">Nov 9, 2012 05:53 PM UTC</time><a class="anchor" name="1352483604">&nbsp;</a></div><pre>Hi Elizabeth,

Thanks for your reply. We have tried that way and it didn&#39;t work. Then we changed the smtp server to &#34;localhost&#34;, but it still doesn&#39;t work.

Thanks,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='12963#1352482856'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-09T17:40:56+00:00">Nov 9, 2012 05:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1352482856">&nbsp;</a></div><pre>Alan,

The SMTP server section is not filled out. The section with the smtp server specified is commented out and the uncommented section doesn&#39;t match it. Could you try specifying the server?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12963#1352404228'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-08T19:50:28+00:00">Nov 8, 2012 07:50 PM UTC</time><a class="anchor" name="1352404228">&nbsp;</a></div><pre>On the VOMS server, we tried to modify the file &#34;/etc/voms-admin/dream/voms.service.properties&#34; and the tests failed. The current settings are shown as following.

[root@voms suragrid]# cat voms.service.properties

## Should the registration service be enabled?
voms.request.webui.enabled = true

## Should the VOMS SAML service be enabled? (disabled by default)
##
## voms.aa.activate_saml_endpoint = true

## voms ca updater configuration
voms.cafiles = /etc/grid-security/certificates/*.0

# voms ca updater period in seconds
voms.cafiles.period = 1800

## voms notification facility
voms.notification.email-address = SURAgrid-VO-Admins@....
##
##This machine has to send through TTU basic.smtp.ttu.edu, but has now
##been configured to do so directly in the postfix installation
##voms.notification.smtp-server = basic.smtp.ttu.edu
##
voms.notification.smtp-server = localhost
# voms.notification.username = ...
# voms.notification.password = ...
# voms.notification.use_tls = false

## should the vo be configured to be read accessible for authenticated clients?
## (mkgridmap clients need this!)
voms.read-access-for-authenticated-clients = True

## voms trusted admin settings
voms.trusted.admin.subject =  /DC=org/DC=doegrids/OU=Services/CN=http/voms.hpcc.ttu.edu
<div id='show_1173928471' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1173928471'>voms.trusted.admin.ca = /DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1

## voms pagination options
voms.pagination.user.max.results.per.page = 20
voms.pagination.group.max.results.per.page = 20
voms.pagination.role.max.results.per.page = 10
voms.pagination.attributes.max.results.per.page = 50

## voms request options

## Time in seconds that unconfirmed requests are kept
## inside the voms database.
voms.request.vo_membership.lifetime = 86400

## Should voms-admin send a warning email to the user when
## his/her uncorfimed request is removed from the database?
voms.request.vo_membership.warn_when_expired = true

## Should voms-admin generate gridmapfiles that encode the
## email part of the DN using the &#34;emailAddress&#34; format in addition
## to the &#34;Email=&#34; format used by default?
voms.mkgridmap.translate_dn_email_format = false

## Should the webui always show full DNs (instead of just the first CN)?
# voms.webapp.always-show-full-dns = true

## AUP options

voms.aup.vo_aup.initial_url =  file&#58;////etc/voms-admin/suragrid/vo-aup.txt

#### Add other options after this line
voms.csrf.log_only = true

Is there something wrong? or is there an option we are missing? Thanks.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262
</div><script type='text/javascript'>
        $('#show_1173928471').click(function() {
            $('#detail_1173928471').slideDown("normal");
            $('#show_1173928471').hide();
            $('#hide_1173928471').show();
        });
        $('#hide_1173928471').click(function() {
            $('#detail_1173928471').slideUp();
            $('#hide_1173928471').hide();
            $('#show_1173928471').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12963#1352403080'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-11-08T19:31:20+00:00">Nov 8, 2012 07:31 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1352403080">&nbsp;</a></div><pre>[by Alan Sill]

Our recently replaced VOMS server, serving 3 VOs of which 2 are OSG VOs, does not seem to send mail upon user registration or other actions that should trigger outgoing mail.  We have tested that mail can be sent from that machine, and have tried different settings for the outgoing mail server.  It is behaving as if some element of the software used by the VOMS service is missing.

The server does have postfix, but sendmail is not installed.  Is this needed by VOMS, or is there some other dependency that might be missing for sending mail?  How can we test this further?

Here is an example error message for one of our VOs resulting from a user attempt to register&#58;

2012-11-07 16&#58;13&#58;43.660Z - ERROR [NotificationService] - Error dispatching email notification &#39;org.glite.security.voms.admin.notification.messages.ConfirmRequest@72b83842[subject=&#39;[VOMS Admin] Your membership request for VO pegrid&#39;,recipients=&#39;amy.wang@....&#39;]&#39;&#58; javax/mail/Message

(Note it would be helpful if the VOMS service or voms-admin command-line options also included a feature to allow the service to send a test email.)

Is there a setting we can make for the log file that would allow us to see the email sending process in more detail?

Here is a listing of all rpms currently installed on the machine that contain the string &#34;mail&#34; in their name&#58;

[root@voms ~]# rpm -qa | grep mail
mailcap-2.1.31-2.el6.noarch
classpathx-mail-1.1.1-9.4.el6.noarch
mailx-12.4-6.el6.x86_64</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12963">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 12963});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
