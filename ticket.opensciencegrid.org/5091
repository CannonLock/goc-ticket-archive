<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5091] Resource Registration for Gridplexus</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5091" method="post">
<div class="page-header">
    <h3><span class="muted">5091</span> / Resource Registration for Gridplexus</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Robert Rusinko</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-11-06</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5091", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5091?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5091?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Resource%20Registration%20for%20Gridplexus%20ISSUE%3D5091%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5091#1225722899'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-11-03T14:34:59+00:00">Nov 3, 2008 02:34 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225722899">&nbsp;</a></div><pre>Hi Robert.

Yes, the site_verify last week passed, so you were added to VORS. I see that you&#39;re only
supporting the MIS VO, so you will want to remedy that, I presume; I can&#39;t recall which VO&#39;s you
planned to support. Also, if you&#39;re still using the grid-mapfile for authentication, you can undo that
and revert back to GUMS. Just rename the file RENAME_ME_gsi-authz.conf (or whatever you called
it) back to gsi-authz.conf. If GUMS is your authentication method it will make PRIMA callouts and
you&#39;ll see those in the log ($VDT_LOCATION/globus/var/globus-gatekeeper.log).

The issue with Gridplexus not reporting to our CEMon/BDII aggregator persists. I previously sent
you the troubleshooting guide. Please review it and see if you can determine why Gridplexus is not
reporting. The log for the CEMon service you should look at (one of them anyway) is
$VDT_LOCATION/glite/var/log/glite-ce-monitor.log and in it you should see entries similar to...

03 Nov 2008 14&#58;29&#58;20,787 org.glite.ce.monitor.holder.NotificationHolder - Sending notifica
tion (containing 1 events) to <a href='https&#58;//osg-ress-4.fnal.gov&#58;8443/ig/services/CEInfoCollector' target='_blank' rel='nofollow'>https&#58;//osg-ress-4.fnal.gov&#58;8443/ig/services/CEInfoCollector</a>
...
03 Nov 2008 14&#58;29&#58;35,678 org.glite.ce.monitor.holder.NotificationHolder - [done]
03 Nov 2008 14&#58;29&#58;35,681 org.glite.ce.monitor.holder.NotificationHolder - Sending notifica
tion (containing 1 events) to <a href='http&#58;//is.grid.iu.edu&#58;14001' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu&#58;14001</a> ...

If you visit <a href='http&#58;//is.grid.iu.edu/' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/</a> you can see that you once reported data. Tomcat must be running
in order for CEMon to send data out on port 14001 to our collector. It isn&#39;t critical that you report
data to our collector, which is why we have closed this ticket. We are however happy to assist you
resolve this issue. But my guess is that something stopped running on the CE since you once
reported data to us. I doubt it is a configuration issue.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225486272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-31T20:51:12+00:00">Oct 31, 2008 08:51 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225486272">&nbsp;</a></div><pre>Tim,

Your test was successful, correct?  The log entries did not seem to
report issues.  I reloaded the CE last night using 1.10.1m.

Thanks for your help on this one.
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225483531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-31T20:05:31+00:00">Oct 31, 2008 08:05 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225483531">&nbsp;</a></div><pre>I&#39;ve added the Resource to VORS. The site_verify data will appear with the latest scan results on
the next cycle (within an hour). In the meantime you can see the latest scan at
<a href='http&#58;//scan.grid.iu.edu' target='_blank' rel='nofollow'>http&#58;//scan.grid.iu.edu</a> The Resource has also been added to the CEMon/BDII aggregator service,
<a href='http&#58;//is.grid.iu.edu/' target='_blank' rel='nofollow'>http&#58;//is.grid.iu.edu/</a> It is not reporting data there currently. To troubleshoot this issue, see...

<a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/ResourceSelection/CEMonTroubleshootingGuide' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/ResourceSelection/CEMonTroubleshootingGuide</a>

I&#39;m closing this ticket...finally. &#58;)

Thank you,
Tim
OSG Grid Operations Center</pre></div><div class='update_description'><i onclick="document.location='5091#1225466840'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-31T15:27:20+00:00">Oct 31, 2008 03:27 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225466840">&nbsp;</a></div><pre>Done.

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225465176'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-31T14:59:36+00:00">Oct 31, 2008 02:59 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225465176">&nbsp;</a></div><pre>Robert,

We&#39;re getting very close, I believe. I can read your host certificate with the openssl command now,
but I still can&#39;t authenticate. However, that may be easily remedied. It appears as though the local
user account for &#39;mis&#39; does not exist...

$ globus-url-copy file&#58;///home/ce-scan/.globus/foo <a href='gsiftp&#58;//CE01.OSG.gridplexus.net/tmp/foo' target='_blank' rel='nofollow'>gsiftp&#58;//CE01.OSG.gridplexus.net/tmp/foo</a>

error&#58; globus_ftp_client_state.c&#58;globus_l_ftp_client_connection_error&#58;3805&#58;
the server responded with an error
530 530-Login incorrect. &#58; globus_i_gfs_data.c&#58;globus_l_gfs_data_authorize&#58;1050&#58;
530-Mapped user &#39;mis&#39; is invalid.
530 End.

Verbose error follows&#58;
globus_ftp_client_state.c&#58;globus_l_ftp_client_connection_error&#58;3805&#58;
the server responded with an error
530 530-Login incorrect. &#58; globus_i_gfs_data.c&#58;globus_l_gfs_data_authorize&#58;1050&#58;
530-Mapped user &#39;mis&#39; is invalid.
530 End.

Could you create this user please? It also needs a home directory.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225409771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-30T23:36:11+00:00">Oct 30, 2008 11:36 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225409771">&nbsp;</a></div><pre>Tim,

Thanks for checking.  Here are the log entries from the syslog-ng&#58;

2008-10-30T10&#58;37&#58;26-04&#58;00 CE01.OSG.gridplexus.net -- MARK --
2008-10-30T10&#58;57&#58;26-04&#58;00 CE01.OSG.gridplexus.net -- MARK --
2008-10-30T11&#58;10&#58;24-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
TIME&#58; Thu Oct 30 07&#58;10&#58;24 2008
2008-10-30T11&#58;10&#58;24-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
PID&#58; 12255 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=12255 starting at Thu Oct 30 07&#58;10&#58;24 2008
2008-10-30T11&#58;10&#58;24-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
2008-10-30T11&#58;10&#58;24-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
TIME&#58; Thu Oct 30 07&#58;10&#58;24 2008
2008-10-30T11&#58;10&#58;24-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
PID&#58; 12255 -- Failure&#58; error check net_setup_anon_listener bind&#58; Address
already in use
2008-10-30T11&#58;10&#58;30-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
TIME&#58; Thu Oct 30 07&#58;10&#58;30 2008
2008-10-30T11&#58;10&#58;30-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
PID&#58; 13322 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=13322 starting at Thu Oct 30 07&#58;10&#58;30 2008
2008-10-30T11&#58;10&#58;30-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
2008-10-30T11&#58;10&#58;30-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
TIME&#58; Thu Oct 30 07&#58;10&#58;30 2008
2008-10-30T11&#58;10&#58;30-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
PID&#58; 13322 -- Failure&#58; error check net_setup_anon_listener bind&#58; Address
already in use
2008-10-30T11&#58;10&#58;57-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
TIME&#58; Thu Oct 30 07&#58;10&#58;57 2008
2008-10-30T11&#58;10&#58;57-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
PID&#58; 13364 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=13364 starting at Thu Oct 30 07&#58;10&#58;57 2008
<div id='show_1859377207' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1859377207'>2008-10-30T11&#58;10&#58;57-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
2008-10-30T11&#58;10&#58;57-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
TIME&#58; Thu Oct 30 07&#58;10&#58;57 2008
2008-10-30T11&#58;10&#58;57-04&#58;00 CE01.OSG.gridplexus.net globus_gatekeeper_log
PID&#58; 13364 -- Failure&#58; error check net_setup_anon_listener bind&#58; Address
already in use

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1859377207').click(function() {
            $('#detail_1859377207').slideDown("normal");
            $('#show_1859377207').hide();
            $('#hide_1859377207').show();
        });
        $('#hide_1859377207').click(function() {
            $('#detail_1859377207').slideUp();
            $('#hide_1859377207').hide();
            $('#show_1859377207').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1225405991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-30T22:33:11+00:00">Oct 30, 2008 10:33 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225405991">&nbsp;</a></div><pre>Tim,

I found an issue in one of the route tables that may have been driving
some of the packets you sent into the bit bucket.  An interface card
was  changed to a dual port, the eth number changed and the route was
using the old number (sound of head banging on wall).

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225370988'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-30T12:49:48+00:00">Oct 30, 2008 12:49 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225370988">&nbsp;</a></div><pre>Sorry, here&#39;s the link I meant to send&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/TroubleshootingJobsAdmins' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/TroubleshootingJobsAdmins</a></pre></div><div class='update_description'><i onclick="document.location='5091#1225366981'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-30T11:43:01+00:00">Oct 30, 2008 11:43 AM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225366981">&nbsp;</a></div><pre>Robert,

I am not sure this would apply since the error in the globus-gatekeeper.log may not be the one
described, but this is a good document to look through. We obviously trust the CA that issued your
certificate or we&#39;d have a ton of failures, but I did check it anyway. I also verified the CRL is not
expired. I recall you were using EDT and not GMT/UTC, but the time was still correct at last check.
Hopefully we can resolve this soon.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225365184'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-30T11:13:04+00:00">Oct 30, 2008 11:13 AM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225365184">&nbsp;</a></div><pre>Robert,

I tried this morning...

date ; globusrun -a -r ce01.osg.gridplexus.net
Thu Oct 30 11&#58;10&#58;30 GMT 2008

GRAM Authentication test failure&#58; connecting to the job manager failed.  Possible reasons&#58; job
terminated, invalid job contact, network problems, ...

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225232716'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T22:25:16+00:00">Oct 28, 2008 10:25 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225232716">&nbsp;</a></div><pre>Tim,

I verified the connection to port 2119.  One item that came to mind is
the entry in hosts.allow, changed the entries from the individual
services to just ALL.   If connectivity still seems an issue, I can run
tcpdump and check for strange routing issues.  However, I still get the
same failure  messages with the following executed on the CE&#58;

globusrun -a -r CE01.OSG.gridplexus.net
globus-job-run CE01.OSG.gridplexus.net/jobmanager-fork /usr/bin/id

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225226231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T20:37:11+00:00">Oct 28, 2008 08:37 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225226231">&nbsp;</a></div><pre>Tim,

The firewall is open per the wiki and I do check the logs for messages.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225222524'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T19:35:24+00:00">Oct 28, 2008 07:35 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225222524">&nbsp;</a></div><pre>Robert,

I think the issue is perhaps the firewall. What has led me to this conclusion is the following, which I
was going to send to osg-sites, but this is probably the best place for it.

Well, we&#39;ve made some progress, but the problem of not being able to authenticate from the host
here at the GOC persists.

One issue was with the host certificate; the CN contained &#34;CE/&#60;hostname&#62;&#34; and now it just
includes the hostname. Globus seems to accept &#34;CN=host/&#60;hostname&#62;&#34; or just &#34;CN=&#60;hostname&#62;&#34;
but it doesn&#39;t like &#34;CE&#34; in front, which is pretty much an OSG term, I believe. I searched
Globus.org for info but didn&#39;t find anything specific in this regard. Still, it caused problems.

Robert, the admin, was able to provide the data I requested in order to verify the new certificate is
in place and readable&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementPostInstall' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementPostInstall</a>

Trying to verify the certificate from our host at the GOC, I receive an error about the SSL version
not matching.

$ openssl s_client -ssl3 -cert ~/.globus/usercert.pem -key ~/.globus/userkey.pem -CApath
/etc/grid-security/certificates -connect ce01.osg.gridplexus.net&#58;2119
Enter PEM pass phrase&#58;
CONNECTED(00000003)
7340&#58;error&#58;1408F10B&#58;SSL routines&#58;SSL3_GET_RECORD&#58;wrong version number&#58;s3_pkt.c&#58;286&#58;

So I also tried ssl2 and tls1. The former gives the error above while the latter is&#58;

$ openssl s_client -ssl2 -cert ~/.globus/usercert.pem -key ~/.globus/userkey.pem -CApath
/etc/grid-security/certificates -connect CE01.OSG.gridplexus.net&#58;2119
Enter PEM pass phrase&#58;
CONNECTED(00000003)
8698&#58;error&#58;1407F0E5&#58;SSL routines&#58;SSL2_WRITE&#58;ssl handshake failure&#58;s2_pkt.c&#58;428&#58;

<div id='show_572574306' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_572574306'>So I tried a couple other things and now I suspect the firewall is too restrictive&#58;

$ globusrun -a -r ce01.os.gridplexus.net

GRAM Authentication test failure&#58; the connection to the server failed (check host and port)

$ globus-url-copy -v file&#58;///home/tsilver/.globus/test_gsiftp_file
<a href='gsiftp&#58;//ce01.os.gridplexus.net/tmp/' target='_blank' rel='nofollow'>gsiftp&#58;//ce01.os.gridplexus.net/tmp/</a>
Source&#58; file&#58;///home/tsilver/.globus/
Dest&#58;   <a href='gsiftp&#58;//ce01.os.gridplexus.net/tmp/' target='_blank' rel='nofollow'>gsiftp&#58;//ce01.os.gridplexus.net/tmp/</a>
test_gsiftp_file

error&#58; globus_xio&#58; Unable to connect to ce01.os.gridplexus.net&#58;2811
globus_xio&#58; globus_libc_getaddrinfo failed.
globus_common&#58; Name or service not known

Port 2811 is not open, as suggested in the install guide
(<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementPostInstall' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementPostInstall</a>), so I
suspect other ports are also blocked considering we&#39;ve had to request that you open port 2119 as
well as allow access to the host from the machine we run site_verify scans from at the GOC.

Please review that post install document on the TWiki and be sure those ports are open to the host.

Thanks,

Tim
</div><script type='text/javascript'>
        $('#show_572574306').click(function() {
            $('#detail_572574306').slideDown("normal");
            $('#show_572574306').hide();
            $('#hide_572574306').show();
        });
        $('#hide_572574306').click(function() {
            $('#detail_572574306').slideUp();
            $('#hide_572574306').hide();
            $('#show_572574306').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1225220663'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T19:04:23+00:00">Oct 28, 2008 07:04 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225220663">&nbsp;</a></div><pre>Robert,

I plan to submit this to the osg-sites list for assistance. Are the errors in the globus-gatekeeper.log
still the same as before (Address already in use)? At this point I&#39;m running out of ideas.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225209853'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T16:04:13+00:00">Oct 28, 2008 04:04 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225209853">&nbsp;</a></div><pre>Tim,

Used the $VDT_LOCATION and received the &#39;OK&#39;.

openssl x509 -in /etc/grid-security/hostcert.pem  -subject  -noout
subject= /DC=org/DC=doegrids/OU=Services/CN=CE01.OSG.gridplexus.net
openssl verify -CApath  $VDT_LOCATION/globus/TRUSTED_CA/  -purpose
sslserver /etc/grid-security/hostcert.pem
/etc/grid-security/hostcert.pem&#58; OK

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225207622'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T15:27:02+00:00">Oct 28, 2008 03:27 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225207622">&nbsp;</a></div><pre>Robert,

My $VDT_LOCATION is /usr/local/grid, but is yours? Make sure the CApath points to
$VDT_LOCATION/globus/TRUSTED_CA/ I think that may be the problem. That or the command doesn&#39;t
like the certificate due to the mixed case perhaps.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225203920'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T14:25:20+00:00">Oct 28, 2008 02:25 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225203920">&nbsp;</a></div><pre>Tim,

The CN looks ok, still have the error 20 message.

openssl x509 -in /etc/grid-security/hostcert.pem -subject -noout
subject= /DC=org/DC=doegrids/OU=Services/CN=CE01.OSG.gridplexus.net

openssl verify -CApath /usr/local/grid/globus/TRUSTED_CA/ -purpose
sslserver /etc/grid-security/hostcert.pem
/etc/grid-security/hostcert.pem&#58;
/DC=org/DC=doegrids/OU=Services/CN=CE01.OSG.gridplexus.net
error 20 at 0 depth lookup&#58;unable to get local issuer certificate

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225198768'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T12:59:28+00:00">Oct 28, 2008 12:59 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225198768">&nbsp;</a></div><pre>Robert,

With that command, you need to be sure the CApath is pointing to the correct directly. In current
OSG installations /etc/grid-security/certificates doesn&#39;t exist. For instance, on my ITB node using
the VDT 1.10.1 package...

$ sudo openssl verify -CApath /usr/local/grid/globus/TRUSTED_CA/ -purpose sslserver /etc/grid-
security/http/httpcert.pem
/etc/grid-security/http/httpcert.pem&#58; OK

$ sudo openssl verify -CApath /usr/local/grid/globus/TRUSTED_CA/ -purpose sslserver /etc/grid-
security/hostcert.pem
/etc/grid-security/hostcert.pem&#58; OK

And while you&#39;re verifying your host certificate, be sure permissions are set correctly. The
certificate should be readable by all users, and the key should be readable only by the owner. And
run the command to verify your certificate does not include the &#34;CE/&#34; in front of the host name. I
did change it before I approved it, but it is possible that this didn&#39;t work as I expected.

Again, on my node...

$ openssl x509 -in /etc/grid-security/hostcert.pem -subject -noout
subject= /DC=org/DC=doegrids/OU=Services/CN=cobra.uits.indiana.edu

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225127411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-27T17:10:11+00:00">Oct 27, 2008 05:10 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225127411">&nbsp;</a></div><pre>Tim,

The  openssl verify -CApath /etc/grid-security/certificates -purpose
sslclient ~/.globus/usercert.pem, returns&#58;
error 20 at 0 depth lookup&#58;unable to get local issuer certificate

Is this due to the change we made to remove Gums?

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1225123242'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-27T16:00:42+00:00">Oct 27, 2008 04:00 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225123242">&nbsp;</a></div><pre>Hi Robert,

I still think a problem exists with the certificate. When I run the openssl command to the host I get
connected, but then immediately disconnected...

$ openssl s_client -ssl3 -cert ~/.globus/GridScan_cert20071222.pem -key
~/.globus/GridScan_key20071222.pem -CApath /etc/grid-security/certificates -connect
CE01.OSG.gridplexus.net&#58;2119
Enter PEM pass phrase&#58;
CONNECTED(00000003)
30966&#58;error&#58;1408F10B&#58;SSL routines&#58;SSL3_GET_RECORD&#58;wrong version number&#58;s3_pkt.c&#58;286&#58;

If you look at the documentation, <a href='http&#58;//www.globus.org/toolkit/docs/4.0/security/prewsaa/admin-' target='_blank' rel='nofollow'>http&#58;//www.globus.org/toolkit/docs/4.0/security/prewsaa/admin-</a>
index.html#id2531846, it suggests looking through the ssl logs. My tests were done just before noon
EDT or 1600 UTC/GMT today.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1225120571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-27T15:16:11+00:00">Oct 27, 2008 03:16 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1225120571">&nbsp;</a></div><pre>Tim,

Did a vdt-control --off, verify no 2119 port usage. Then vdt-control --on,

lsof -i | grep globus-gatekeeper
xinetd    10025   root    5u  IPv4 4014946       TCP *&#58;globus-gatekeeper
(LISTEN)

netstat -nl | grep 2119
tcp        0      0 0.0.0.0&#58;2119
0.0.0.0&#58;*                   LISTEN

cat /etc/xinetd.d/globus-gatekeeper
service globus-gatekeeper
{
socket_type = stream
protocol    = tcp
wait        = no
user        = daemon
instances   = UNLIMITED
cps         = 400 10
server      = /opt/osg-1.0.0/vdt/services/vdt-run-globus-gatekeeper.sh
disable     = no
}

cat /opt/osg-1.0.0/vdt/services/vdt-run-globus-gatekeeper.sh
#!/bin/sh

. /opt/osg-1.0.0/setup.sh
exec /opt/osg-1.0.0/globus/sbin/globus-gatekeeper -conf
/opt/osg-1.0.0/globus/etc/globus-gatekeeper.conf

cat /opt/osg-1.0.0/globus/etc/globus-gatekeeper.conf
-x509_cert_dir /opt/osg-1.0.0/globus/TRUSTED_CA
-x509_user_cert /etc/grid-security/hostcert.pem
<div id='show_380362548' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_380362548'>-x509_user_key /etc/grid-security/hostkey.pem
-gridmap /etc/grid-security/grid-mapfile
-home /opt/osg-1.0.0/globus
-e libexec
-logfile var/globus-gatekeeper.log
-port 2119
-grid_services etc/grid-services
-inetd
-acctfile var/accounting.log

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_380362548').click(function() {
            $('#detail_380362548').slideDown("normal");
            $('#show_380362548').hide();
            $('#hide_380362548').show();
        });
        $('#hide_380362548').click(function() {
            $('#detail_380362548').slideUp();
            $('#hide_380362548').hide();
            $('#show_380362548').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1225111105'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-27T12:38:25+00:00">Oct 27, 2008 12:38 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1225111105">&nbsp;</a></div><pre>Robert,

This is the same error you produced before and at that time I asked the osg-sites list for
assistance. Here are some of the suggestions...

Greetings,

During the boot process, there are daemons that simply grab an available
port and start listening on it. I have seen this when rpc.statd takes
the cupsd (ipp) port. I generally can find the culprit by&#58;

lsof -i | grep 2119

or if 2119 is defined in /etc/services as globus-gatekeeper, then

lsof -i | grep globus-gatekeeper

should tell you who has taken port 2119.

Hope this helps,
doug

Hi all,

not sure this will help, but occasionally our xinetd gets screwed up a bit,
and we get weird responses, and a restart of xinetd usually sixes that.

Just an idea,

Horst

Can you please send the xinetd/inetd entry for the gatekeeper?
Basically, it sounds like the gatekeeper is either running without the
-inetd flag or as a non-root user.  Those are the two things I can see
in a quick scan of the code that would result in GRAM trying to use
<div id='show_143526011' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_143526011'>net_setup_listener to find a port instead of just binding to 2119.

Charles

Finally, you can see if anything is listening on port 2119 with the netstat command. I look forward
to hearing from you again soon.

Tim
</div><script type='text/javascript'>
        $('#show_143526011').click(function() {
            $('#detail_143526011').slideDown("normal");
            $('#show_143526011').hide();
            $('#hide_143526011').show();
        });
        $('#hide_143526011').click(function() {
            $('#detail_143526011').slideUp();
            $('#hide_143526011').hide();
            $('#show_143526011').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1224871511'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-24T18:05:11+00:00">Oct 24, 2008 06:05 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224871511">&nbsp;</a></div><pre>Tim.

No entries in logs.  Looks like something did not restart correctly this
morning.  I did another vdt-control off/on cycle.  Then a
globusrun -a -r CE01.OSG.gridplexus.net.  Gatekeeper log is below.  Note
that only your earlier attempt is logged and my last attempt shows the
address in use.

/opt/osg/globus/var/globus-gatekeeper.log&#58;
TIME&#58; Fri Oct 24 10&#58;47&#58;10 2008
PID&#58; 27970 -- Notice&#58; 6&#58; Got connection 129.79.4.64 at Fri Oct 24
10&#58;47&#58;10 2008
TIME&#58; Fri Oct 24 11&#58;13&#58;21 2008
PID&#58; 5978 -- Notice&#58; 5&#58; Gatekeeper received signal&#58;15
Failure&#58; Gatekeeper shutdown on signal&#58;15
TIME&#58; Fri Oct 24 11&#58;13&#58;21 2008
PID&#58; 5978 -- Failure&#58; Gatekeeper shutdown on signal&#58;15
TIME&#58; Fri Oct 24 13&#58;54&#58;00 2008
PID&#58; 27970 -- Notice&#58; 5&#58; Gatekeeper received signal&#58;15
Failure&#58; Gatekeeper shutdown on signal&#58;15
TIME&#58; Fri Oct 24 13&#58;54&#58;00 2008
PID&#58; 27970 -- Failure&#58; Gatekeeper shutdown on signal&#58;15
TIME&#58; Fri Oct 24 13&#58;55&#58;40 2008
PID&#58; 7526 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=7526 starting at Fri Oct 24 13&#58;55&#58;40 2008
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
TIME&#58; Fri Oct 24 13&#58;55&#58;40 2008
PID&#58; 7526 -- Failure&#58; error check net_setup_anon_listener bind&#58; Address
already in use

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224868875'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-24T17:21:15+00:00">Oct 24, 2008 05:21 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224868875">&nbsp;</a></div><pre>Robert,

Did we get blocked by the firewall again? I get blocked on port 2119...

$ date ; globusrun -a -r CE01.OSG.gridplexus.net
Fri Oct 24 17&#58;17&#58;31 GMT 2008

GRAM Authentication test failure&#58; connecting to the job manager failed.  Possible reasons&#58; job
terminated, invalid job contact, network problems, ...
ce-scan@grid01 .globus $ !openssl
openssl s_client -ssl3 -cert ~/.globus/GridScan_cert20071222.pem -key
~/.globus/GridScan_key20071222.pem -CApath /etc/grid-security/certificates -connect
CE01.OSG.gridplexus.net&#58;2119
Enter PEM pass phrase&#58;
connect&#58; Connection refused
connect&#58;errno=29

$ telnet ce01.osg.gridplexus.net 2119
Trying 216.105.97.67...
telnet&#58; connect to address 216.105.97.67&#58; Connection refused

Again, we&#39;re coming from 129.79.4.64.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224862151'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-24T15:29:11+00:00">Oct 24, 2008 03:29 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224862151">&nbsp;</a></div><pre>Tim,

Done.  Performed vdt-control off/on all services.  Only did
globus-gatekeeper  last night (it was late).

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224860066'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-24T14:54:26+00:00">Oct 24, 2008 02:54 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224860066">&nbsp;</a></div><pre>Robert,

The problem with the cert-request command was due to &#34;-service CE&#34;. If you&#39;re obtaining a host
certificate I would recommend sticking to the command suggested in the release documentation&#58;

cert-request -ou s -dir . -label my-host

When you retrieve the certificate you can use the prefix option&#58;

cert-retrieve  -serial 0xYYYY -label my-host -dir . -prefix host

The documentation is at <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates</a>

I ran another authentication test and it appears that the CE is still using the old certificate. Did you
restart the services? I would recommend running vdt-control --off and then vdt-control --on. Do
this and contact me again. Here is how I determined you&#39;re using the bad host certificate&#58;

$ openssl s_client -ssl3 -cert ~/.globus/GridScan_cert20071222.pem -key
~/.globus/GridScan_key20071222.pem -CApath /etc/grid-security/certificates -connect
CE01.OSG.gridplexus.net&#58;2119

[snip]
subject=/DC=org/DC=doegrids/OU=Services/CN=CE/CE01.OSG.gridplexus.net
[snip]

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224810131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-24T01:02:11+00:00">Oct 24, 2008 01:02 AM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224810131">&nbsp;</a></div><pre>Tim,

The new CA is installed.  Quick check shows&#58;

/opt/osg/globus/var/globus-gatekeeper.log&#58;
GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000
TIME&#58; Thu Oct 23 20&#58;12&#58;53 2008
PID&#58; 28325 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224793032'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T20:17:12+00:00">Oct 23, 2008 08:17 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224793032">&nbsp;</a></div><pre>Tim,

Good catch.  Here is the code&#58;
cert-request  -ou s -dir . -label &#34;host&#34; -host
&#34;CE01.OSG.gridplexus.net&#34; -service CE -email ,etc, etc

The above was executed from a new directory,
/etc/grid-security/temp-20081823.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224791411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T19:50:11+00:00">Oct 23, 2008 07:50 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224791411">&nbsp;</a></div><pre>Tim,

Done.  Request # 39547.  Please review and let me know if anything in
the request looks incorrect.   I am unable to account for the extra
&#34;CE/&#34;.  However, some issues in a prior request were related to the use
of quotes.  Thanks for digging this one up.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224791396'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T19:49:56+00:00">Oct 23, 2008 07:49 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224791396">&nbsp;</a></div><pre>Robert,

I just approved the new host certificate. However, again you had &#34;CE/&#60;hostname&#62;&#34; in the certificate.
So I removed the &#34;CE/&#34; from it to prevent more problems. I believe you can have &#34;host/&#34; in front of
the CN if you want to add a prefix, but nothing else for a host certificate. What is the command you
issued to request this certificate? You might be meaning to set a prefix for the .pem files.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224781632'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T17:07:12+00:00">Oct 23, 2008 05:07 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224781632">&nbsp;</a></div><pre>Robert,

After much research, I believe the issue is with the host certificate. You are the only one who has
requested a host certificate from DOEGrids with a &#34;CE/&#34; in the common name (CN) of the
certificate. Globus must try to query the hostname via DNS and match it to the hostname on the
certificate. If it doesn&#39;t match, it won&#39;t accept it. And with your DN, the CN includes the preceding
&#34;/CE&#34;, looking like a service certificate, and to Globus, it invalidates the certificate for qualifying it
as a valid host certificate.

So to resolve this issue, you must request a new one and we will need to revoke the current
certificate. I can approve the new one as soon as it comes through the system; I do have a
meeting at 1&#58;30 EDT but will return within an hour or so. Do not toss away the current host
certificates just yet; save them to backup files and we&#39;ll see what happens with the clean certificate
once it is issued to you.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224776471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T15:41:11+00:00">Oct 23, 2008 03:41 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224776471">&nbsp;</a></div><pre>Tim,

I had seen that note also.  I am not using an alias and nslookup
(forward/reverse)/hostname -f,  return the correct name.

cat $VDT_LOCATION/globus/etc/globus-job-manager.conf
-home &#34;/opt/osg-1.0.0/globus&#34;
-globus-gatekeeper-host ce01.osg.gridplexus.net

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224775931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T15:32:11+00:00">Oct 23, 2008 03:32 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224775931">&nbsp;</a></div><pre>Tim,

GUMS is on GS01.OSG.gridplexus.net.

fyi, I saw a few firewall log entries from yesterday .  Let me know
off-list  any additional white list ip.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224774770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T15:12:50+00:00">Oct 23, 2008 03:12 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224774770">&nbsp;</a></div><pre>Could this be a virtual machine? I see you requested several certificates for the same host. And I can&#39;t
get to <a href='https&#58;//ce01.osg.gridplexus.net&#58;8443' target='_blank' rel='nofollow'>https&#58;//ce01.osg.gridplexus.net&#58;8443</a> to access the GUMS server. Most groups don&#39;t put GUMS
or VOMS on the same host with the CE. In fact, I believe it is discouraged.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224774635'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T15:10:35+00:00">Oct 23, 2008 03:10 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224774635">&nbsp;</a></div><pre>Hi Robert,

And good morning to you as well. &#58;) I was working on this a bit earlier this morning but got
distracted with some other tasks. In my diagnoses I was not able to reproduce the problem. But,
there is hope. I have seen the error you reported before&#58;

&#34;Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000&#34;

And what I found was a TWiki entry, <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates</a> that states this is due
to a host certificate issue&#58;

&#34;Do not use a host&#39;s DNS alias when requesting a host certificate. Use the authoritative DNS name.
Failing to do so can cause GSS authentication failures similar to the following when a user tries to
authenticate to the host after your certificate is installed&#58;
GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000&#34;

A DNS lookup on this end cannot confirm that you are using an alias. Can you answer whether this
is the case? If you are using an alias, you will need to request new certificates that match the
actual DNS name for the machine.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224767471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T13:11:11+00:00">Oct 23, 2008 01:11 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224767471">&nbsp;</a></div><pre>Tim,

Good morning.

ls -l /etc/grid-security/grid-mapfile ; grep -i gridscan
/etc/grid-security/grid-mapfile
-rw-r--r-- 1 root root 482508 Oct 23 03&#58;34 /etc/grid-security/grid-mapfile
&#34;/DC=org/DC=doegrids/OU=People/CN=Tim Silvers (GridScan) 387103&#34; mis

ls -l /home/
drwx------ 2 globus     globus     4096 Oct 20 16&#58;14 globus

/opt/osg/globus/var/globus-gatekeeper.log
TIME&#58; Thu Oct 23 08&#58;35&#58;29 2008
PID&#58; 13464 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000
TIME&#58; Thu Oct 23 08&#58;35&#58;59 2008
PID&#58; 13472 -- Notice&#58; 6&#58; Got connection 129.79.4.64 at Thu Oct 23
08&#58;35&#58;59 2008
GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000
TIME&#58; Thu Oct 23 08&#58;35&#58;59 2008
PID&#58; 13472 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000
TIME&#58; Thu Oct 23 08&#58;36&#58;14 2008
PID&#58; 13475 -- Notice&#58; 6&#58; Got connection 129.79.4.64 at Thu Oct 23
08&#58;36&#58;14 2008
GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
<div id='show_277154884' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_277154884'>Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000
TIME&#58; Thu Oct 23 08&#58;36&#58;14 2008
PID&#58; 13475 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

/var/log/messages
Oct 22 16&#58;36&#58;09 CE01 GRAM gatekeeper[29912]&#58; GSS failed Major&#58;000d0000
Minor&#58;00000001 Token&#58;00000000
Oct 23 08&#58;35&#58;29 CE01 GRAM gatekeeper[13464]&#58; Got connection 129.79.4.64
at Thu Oct 23 08&#58;35&#58;29 2008
Oct 23 08&#58;35&#58;29 CE01 GRAM gatekeeper[13464]&#58; GSS failed Major&#58;000d0000
Minor&#58;00000001 Token&#58;00000000
Oct 23 08&#58;35&#58;59 CE01 GRAM gatekeeper[13472]&#58; Got connection 129.79.4.64
at Thu Oct 23 08&#58;35&#58;59 2008
Oct 23 08&#58;35&#58;59 CE01 GRAM gatekeeper[13472]&#58; GSS failed Major&#58;000d0000
Minor&#58;00000001 Token&#58;00000000
Oct 23 08&#58;36&#58;14 CE01 GRAM gatekeeper[13475]&#58; Got connection 129.79.4.64
at Thu Oct 23 08&#58;36&#58;14 2008
Oct 23 08&#58;36&#58;14 CE01 GRAM gatekeeper[13475]&#58; GSS failed Major&#58;000d0000
Minor&#58;00000001 Token&#58;00000000

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_277154884').click(function() {
            $('#detail_277154884').slideDown("normal");
            $('#show_277154884').hide();
            $('#hide_277154884').show();
        });
        $('#hide_277154884').click(function() {
            $('#detail_277154884').slideUp();
            $('#hide_277154884').hide();
            $('#show_277154884').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1224765568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T12:39:28+00:00">Oct 23, 2008 12:39 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224765568">&nbsp;</a></div><pre>Robert,

We&#39;re still failing to authenticate. Could you again review the logs for errors and confirm that our
DN&#58;

/DC=org/DC=doegrids/OU=People/CN=Tim Silvers (GridScan) 387103

is in the grid-mapfile? Also be sure the home directory exists and is writable. Here is the time of
the test and the output...

$ date ; globusrun -a -r ce01.osg.gridplexus.net
Thu Oct 23 12&#58;36&#58;14 GMT 2008

GRAM Authentication test failure&#58; an authorization operation failed

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224706273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-22T20:11:13+00:00">Oct 22, 2008 08:11 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224706273">&nbsp;</a></div><pre>Tim,

Done.

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224705020'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-22T19:50:20+00:00">Oct 22, 2008 07:50 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224705020">&nbsp;</a></div><pre>Robert,

We&#39;re making progress. You are using GUMS, but if you could, please revert to using a grid-mapfile
for testing purposes. To easily do this, rename /etc/grid-security/gsi-authz.conf to something else,
I use RENAME_ME_gsi-authz.conf. Then update the grid-mapfile. To do this&#58;

cd $VDT_LOCATION
source setup.sh
edg-mkgridmap

Verify the grid-mapfile is new and grep for our DN.

ls -l /etc/grid-security/grid-mapfile ; grep -i gridscan /etc/grid-security/grid-mapfile

Confirm these changes and we&#39;ll try again.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224697631'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-22T17:47:11+00:00">Oct 22, 2008 05:47 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224697631">&nbsp;</a></div><pre>Tim,

Good hint on the /etc/xinetd.d/globus-gatekeeper.  I did a vdt-control
off on globus-gatekeeper and did a manual start using
/opt/osg-1.0.0/globus/sbin/globus-gatekeeper -conf
/opt/osg-1.0.0/globus/etc/globus-gatekeeper.conf.  A telnet localhost
2119 connected.

Site_verify.pl returns&#58;
Checking if remote host is reachable&#58; PASS
Checking for a running gatekeeper&#58; YES; port 2119
Checking authentication&#58; FAIL

cat $GLOBUS_LOCATION/var/globus-gatekeeper.log
TIME&#58; Wed Oct 22 13&#58;18&#58;11 2008
PID&#58; 13615 -- Notice&#58; 6&#58; Got connection 10.5.1.102 at Wed Oct 22
13&#58;18&#58;11 2008

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Wed Oct 22 13&#58;18&#58;11 2008
PID&#58; 13615 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

cat /etc/xinetd.d/globus-gatekeeper
service globus-gatekeeper
{
socket_type = stream
protocol    = tcp
wait        = no
<div id='show_1867711150' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1867711150'>user        = daemon
instances   = UNLIMITED
cps         = 400 10
server      = /opt/osg-1.0.0/vdt/services/vdt-run-globus-gatekeeper.sh
disable     = no
}

cat opt/osg-1.0.0/vdt/services/vdt-run-globus-gatekeeper.sh
#!/bin/sh

. /opt/osg-1.0.0/setup.sh
exec /opt/osg-1.0.0/globus/sbin/globus-gatekeeper -conf
/opt/osg-1.0.0/globus/etc/globus-gatekeeper.conf

cat /opt/osg-1.0.0/globus/etc/globus-gatekeeper.conf
-x509_cert_dir /opt/osg-1.0.0/globus/TRUSTED_CA
-x509_user_cert /etc/grid-security/hostcert.pem
-x509_user_key /etc/grid-security/hostkey.pem
-gridmap /etc/grid-security/grid-mapfile
-home /opt/osg-1.0.0/globus
-e libexec
-logfile var/globus-gatekeeper.log
-port 2119
-grid_services etc/grid-services
-inetd
-acctfile var/accounting.log

I send a subscribe email for osg-sites.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1867711150').click(function() {
            $('#detail_1867711150').slideDown("normal");
            $('#show_1867711150').hide();
            $('#hide_1867711150').show();
        });
        $('#hide_1867711150').click(function() {
            $('#detail_1867711150').slideUp();
            $('#hide_1867711150').hide();
            $('#show_1867711150').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1224687903'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-22T15:05:03+00:00">Oct 22, 2008 03:05 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224687903">&nbsp;</a></div><pre>Robert,

I sent a request for help to the osg-sites list, to which you are not subscribed, but should be; it is a
great source of information for many administrators, and a great place to get assistance. Here is
what they had to say regarding the problem.

Can you please send the xinetd/inetd entry for the gatekeeper?
Basically, it sounds like the gatekeeper is either running without the
-inetd flag or as a non-root user.  Those are the two things I can see
in a quick scan of the code that would result in GRAM trying to use
net_setup_listener to find a port instead of just binding to 2119.

Charles

not sure this will help, but occasionally our xinetd gets screwed up a bit,
and we get weird responses, and a restart of xinetd usually sixes that.

Could you followup on this please?

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224679778'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-22T12:49:38+00:00">Oct 22, 2008 12:49 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224679778">&nbsp;</a></div><pre>Robert,

Are you saying that even when you initiate a proxy on the local host and run the globusrun command,
it fails to authenticate? That is not what we want to see, obviously. And the error is the same as the
one you just sent to me? The &#34;Address already in use&#34; error?

I&#39;ve sent this out to the osg-sites list for help. I have searched for an answer, but I am not turning up
anything.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224617892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-21T19:38:12+00:00">Oct 21, 2008 07:38 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224617892">&nbsp;</a></div><pre>Tim,

The log entries&#58;

tail /var/log/messages
Oct 21 11&#58;03&#58;45 CE01 xinetd[14004]&#58; START&#58; globus-gatekeeper pid=1411
from=129.79.4.64
Oct 21 11&#58;03&#58;45 CE01 GRAM gatekeeper[1411]&#58;
/opt/osg-1.0.0/globus/sbin/globus-gatekeeper pid=1411 starting at Tue
Oct 21 11&#58;03&#58;45 2008
Oct 21 11&#58;03&#58;45 CE01 GRAM gatekeeper[1411]&#58; error check
net_setup_anon_listener bind&#58; Address already in use
Oct 21 11&#58;03&#58;45 CE01 xinetd[14004]&#58; EXIT&#58; globus-gatekeeper status=1
pid=1411 duration=0(sec)

/opt/osg/globus/var/globus-gatekeeper.log
Oct 21 11&#58;03&#58;45 CE01 xinetd[14004]&#58; START&#58; globus-gatekeeper pid=1411
from=129.79.4.64
Oct 21 11&#58;03&#58;45 CE01 GRAM gatekeeper[1411]&#58;
/opt/osg-1.0.0/globus/sbin/globus-gatekeeper pid=1411 starting at Tue
Oct 21 11&#58;03&#58;45 2008
Oct 21 11&#58;03&#58;45 CE01 GRAM gatekeeper[1411]&#58; error check
net_setup_anon_listener bind&#58; Address already in use
Oct 21 11&#58;03&#58;45 CE01 xinetd[14004]&#58; EXIT&#58; globus-gatekeeper status=1
pid=1411 duration=0(sec)

Also, I receive the same errors using the globusrun.  I did a full
vdt-control off/on cycle prior to using the globusrun.

Thanks,

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224602035'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-21T15:13:55+00:00">Oct 21, 2008 03:13 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224602035">&nbsp;</a></div><pre>Robert,

Thanks for the log information. Have you also looked in /var/log/messages? And if you could,
please send us your globus-gatekeeper.log? You might need to host it on a web server since it
might be several megs in size (mine is ~14MB). I want to specifically look at what happened in the
log at the time of my most recent test...

$ date ; globusrun -a -r ce01.osg.gridplexus.net
Tue Oct 21 15&#58;03&#58;45 GMT 2008

GRAM Authentication test failure&#58; connecting to the job manager failed.  Possible reasons&#58; job
terminated, invalid job contact, network problems, ...

Also, on the &#34;Address already in use&#34; error, I can replicate this on my ITB node by executing&#58;

globus/sbin/globus-gatekeeper -conf globus/etc/globus-gatekeeper.conf

Which outputs&#58;

Gatekeeper running as daemon, ignoring -inetd!

Watching the log, I saw the same  &#34;Address already in use&#34; error you reported. So I don&#39;t know
that this error is in any way related to the failures we have authenticating to the Resource. I look
forward to receiving your log.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224534370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T20:26:10+00:00">Oct 20, 2008 08:26 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224534370">&nbsp;</a></div><pre>Tim,

Here are log entries&#58;

/opt/osg/globus/var/log/gridftp-auth.log
[9549] Mon Oct 20 15&#58;47&#58;10 2008 &#58;&#58; Server started in inetd mode.
[9549] Mon Oct 20 15&#58;47&#58;10 2008 &#58;&#58; Configuration read from
/opt/osg-1.0.0/globus/etc/gridftp.conf
[9549] Mon Oct 20 15&#58;47&#58;10 2008 &#58;&#58; New connection from&#58;
grid01.uits.indiana.edu&#58;42760
[9549] Mon Oct 20 15&#58;47&#58;10 2008 &#58;&#58; Closed connection from
grid01.uits.indiana.edu&#58;42760

/opt/osg/globus/var/globus-gatekeeper.log
TIME&#58; Mon Oct 20 15&#58;46&#58;23 2008
PID&#58; 9527 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=9527 starting at Mon Oct 20 15&#58;46&#58;23 2008
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
TIME&#58; Mon Oct 20 15&#58;46&#58;23 2008
PID&#58; 9527 -- Failure&#58; error check net_setup_anon_listener bind&#58; Address
already in use

However&#58;
/opt/osg-1.0.0/globus/sbin/globus-gatekeeper  -test
Testing gatekeeper
Local user id (uid)      &#58; root
Home directory           &#58; /
Libexec directory        &#58; /libexec
Gatekeeper subject name  &#58;
&#34;/DC=org/DC=doegrids/OU=Services/CN=CE/CE01.OSG.gridplexus.net&#34;
Gatekeeper test complete &#58; Success!

Gatekeeper shutting down!

Open Science Grid FootPrints wrote&#58;
<div id='show_2006337701' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2006337701'><font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2006337701').click(function() {
            $('#detail_2006337701').slideDown("normal");
            $('#show_2006337701').hide();
            $('#hide_2006337701').show();
        });
        $('#hide_2006337701').click(function() {
            $('#detail_2006337701').slideUp();
            $('#hide_2006337701').hide();
            $('#show_2006337701').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1224532270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T19:51:10+00:00">Oct 20, 2008 07:51 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224532270">&nbsp;</a></div><pre>Robert,

Authentication still fails.

$ globusrun -a -r  CE01.OSG.gridplexus.net

GRAM Authentication test failure&#58; connecting to the job manager failed.  Possible reasons&#58; job
terminated, invalid job contact, network problems, ...

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1224531311'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T19:35:11+00:00">Oct 20, 2008 07:35 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224531311">&nbsp;</a></div><pre>Tim,

The site should be ready for another test.  I have check the past list
of issues and they seem ok.  Please try a test and let me know how it
goes.

Thanks,
Robert

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Tim,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The raid array went south and I needed to reload (again).  Let&#39;s</font>
<font color='#7F7E6F'>&#62; regroup on Monday.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Robert Rusinko wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Tim,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Good progress has been made, as I went ahead and did a few</font>
<font color='#7F7E6F'>&#62;&#62; hardware/software upgrades since the site was down.  I should be</font>
<font color='#7F7E6F'>&#62;&#62; ready for a test tomorrow, but let&#39;s schedule for Friday (allowing</font>
<font color='#7F7E6F'>&#62;&#62; time to open firewall on Thursday).</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; Robert</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224204670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-17T00:51:10+00:00">Oct 17, 2008 12:51 AM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224204670">&nbsp;</a></div><pre>Tim,

The raid array went south and I needed to reload (again).  Let&#39;s regroup
on Monday.

Thanks,
Robert

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Tim,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Good progress has been made, as I went ahead and did a few</font>
<font color='#7F7E6F'>&#62; hardware/software upgrades since the site was down.  I should be ready</font>
<font color='#7F7E6F'>&#62; for a test tomorrow, but let&#39;s schedule for Friday (allowing time to</font>
<font color='#7F7E6F'>&#62; open firewall on Thursday).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224075971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-15T13:06:11+00:00">Oct 15, 2008 01:06 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1224075971">&nbsp;</a></div><pre>Tim,

Good progress has been made, as I went ahead and did a few
hardware/software upgrades since the site was down.  I should be ready
for a test tomorrow, but let&#39;s schedule for Friday (allowing time to
open firewall on Thursday).

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1224010255'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-14T18:50:55+00:00">Oct 14, 2008 06:50 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1224010255">&nbsp;</a></div><pre>Hey Robert,

At last check, you were hoping by the end of last week to have the CE working. Checking today, we
cannot authenticate. How is your progress going?

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1223501651'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-08T21:34:11+00:00">Oct 8, 2008 09:34 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1223501651">&nbsp;</a></div><pre>Tim,

In working the globus issue,  globus got worse.  I am rebuilding the CE
now for a start fresh.  Should be done by the weekend.

Thanks for checking.
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1223497048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-08T20:17:28+00:00">Oct 8, 2008 08:17 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1223497048">&nbsp;</a></div><pre>Hi Robert,

I hope things are going well. Following up, the authentication is hanging for now and timing out. Let
me know if there is anything I can do.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1222961770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-02T15:36:10+00:00">Oct 2, 2008 03:36 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222961770">&nbsp;</a></div><pre>Tim,

I tried the following using &#39;globus&#39; and permission was denied.   The
permissions looked ok.  However, in the process to &#39;fix&#39;, I broke
globus.  I will reload the CE and start fresh.  I will let you know how
it goes.

openssl x509 -in /etc/grid-security/containercert.pem -text -noout
openssl rsa -in /etc/grid-security/containerkey.pem -text -noout

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222882515'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-01T17:35:15+00:00">Oct 1, 2008 05:35 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1222882515">&nbsp;</a></div><pre>Robert,

I&#39;m looking at my ITB node running the OSG 1.0 stack and I see that my container[key|cert].pem
files are both owned by globus, just as yours are. Permissions on mine are 444 on the cert, and 400
on the key. Can you run the following?

On the containercert.pem, run...

openssl x509 -in /etc/grid-security/containerkey.pem -text -noout

On the containerkey.pem, run...

openssl rsa -in /etc/grid-security/containerkey.pem -text -noout

In each case you should see details in the output, not errors. You might actually prefer to run these
commands as the globus user instead of root.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1222803190'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T19:33:10+00:00">Sep 30, 2008 07:33 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222803190">&nbsp;</a></div><pre>Tim,

Thanks for the test today.  The relevant log entries&#58;

From /opt/osg/globus/var/container-real.log&#58;

2008-09-30 15&#58;06&#58;46,330 ERROR container.GSIServiceThread
[ServiceThread-131,process&#58;147] Error processing request
. Caused by Failed to load credentials. Caused by
java.io.FileNotFoundException&#58; /etc/grid-security/containercert.pem
(Permission denied)

From /opt/osg/globus/var/globus-gatekeeper.log&#58;

TIME&#58; Tue Sep 30 14&#58;58&#58;18 2008  PID&#58; 7516 -- Notice&#58; 6&#58;
/opt/osg-1.0.0/globus/sbin/globus-gatekeeper pid=7516 starting at Tue
Sep 30 14&#58;58&#58;18 2008
TIME&#58; Tue Sep 30 14&#58;58&#58;18 2008  PID&#58; 7516 -- Failure&#58; GSS failed to get
server credentials

Seems a file issue again.

ls -l /etc/grid-security/containercert.pem
-rw-r--r-- 1 globus globus 1505 Aug 26 11&#58;48
/etc/grid-security/containercert.pem

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222801319'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-30T19:01:59+00:00">Sep 30, 2008 07:01 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1222801319">&nbsp;</a></div><pre>Robert,

Glad the Apache issue got resolved, but we still have a problem; we cannot authenticate to that
Resource. What are you seeing in the globus-gatekeeper.log? I tested shortly before 3PM EDT today,
September 30.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1222726870'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T22:21:10+00:00">Sep 29, 2008 10:21 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222726870">&nbsp;</a></div><pre>All,

I found the actual ca&#39;s (cut/paste error in the original copy command)
and installed.  Apache started.  This issue is now resolved.  Please try
a site verify.  Let me know how it goes.

Thanks for your help.

Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222720211'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T20:30:11+00:00">Sep 29, 2008 08:30 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222720211">&nbsp;</a></div><pre>sslkeyfile=&#34;/etc/grid-security/http/httpkey.pem&#34;
SSLCertificateKeyFile /etc/grid-security/http/httpkey.pem

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222717515'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T19:45:15+00:00">Sep 29, 2008 07:45 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1222717515">&nbsp;</a></div><pre>Robert,

Before we get on the phone at 4&#58;30, could you check two files for me? Both are in
$VDT_LOCATION.

apache/conf/extra/httpd-ssl.conf -- where does SSLCertificateKeyFile point? Is it pointing to the
key file?

glite/etc/glite-ce-monitor/cemonitor-config.xml -- sslkeyfile should point to the key file too.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1222716431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T19:27:11+00:00">Sep 29, 2008 07:27 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222716431">&nbsp;</a></div><pre>openssl x509 -in /etc/grid-security/http/httpcert.pem -noout -subject
-issuer -enddate
subject= /DC=org/DC=doegrids/OU=Services/CN=http/CE01.OSG.gridplexus.net
issuer= /DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1
notAfter=Sep  5 15&#58;03&#58;55 2009 GMT

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222713190'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T18:33:10+00:00">Sep 29, 2008 06:33 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222713190">&nbsp;</a></div><pre>Robert,

Yes, I meant extra/ and not extras/

Please run this, if you can, before our phone call&#58;

openssl x509 -in /etc/grid-security/http/httpcert.pem -noout -subject
-issuer -enddate

Cheers,
Arvind

On 9/29/2008 2&#58;10 PM, Robert Rusinko pondered&#58;
<font color='#7F7E6F'>&#62; Robert Rusinko wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Arvind,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The files are attached.  Is $VDT_LOCATION/apache/  conf</font>
<font color='#7F7E6F'>&#62;&#62; /extra/httpd-ssl.conf correct (you asked for</font>
<font color='#7F7E6F'>&#62;&#62; $VDT_LOCATION/apache/extras/httpd-ssl.conf)?</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; Robert</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222711750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T18:09:10+00:00">Sep 29, 2008 06:09 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222711750">&nbsp;</a></div><pre>Arvind,

The files are attached.  Is $VDT_LOCATION/apache/  conf
/extra/httpd-ssl.conf correct (you asked for
$VDT_LOCATION/apache/extras/httpd-ssl.conf)?

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222709590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-29T17:33:10+00:00">Sep 29, 2008 05:33 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1222709590">&nbsp;</a></div><pre>Robert,

Before our phone call this afternoon at 4&#58;30 EDT, I&#39;d like the following
information&#58;

* cat $VDT_LOCATION/apache/conf/httpd.conf
* cat $VDT_LOCATION/apache/extras/httpd-ssl.conf

I think I have the rest of the information (permissions, etc.) that I
need in the ticket...

Thanks,
Arvind</pre></div><div class='update_description'><i onclick="document.location='5091#1222185250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-23T15:54:10+00:00">Sep 23, 2008 03:54 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1222185250">&nbsp;</a></div><pre>Tim,

Removed the http[cert|key].pem files from /etc/grid-security and
verified the etc/grid-security/http/httpcert.pem.  Executed
$VDT_LOCATION/monitoring/configure-osg.py -cd and
/opt/osg-1.0.0/vdt/setup/configure_apache.

Received same errors on restart of apache (vdt-control --on apache).

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1222179052'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-23T14:10:52+00:00">Sep 23, 2008 02:10 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1222179052">&nbsp;</a></div><pre>Robert,

Apache can&#39;t seem to read the key. The permissions look good for the httpcert/httpkey pem files.

- Remove the http[cert|key].pem files from /etc/grid-security. We only want the one in the
/etc/grid-security/http directory.
- Verify you can read the httpcert.pem file by issuing the command...
openssl x509 -text -noout -in /etc/grid-security/http/httpcert.pem
- Verify that you&#39;re running Globus Web Services under the globus user account, and not daemon.
See <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GlobusWebServicesInstall' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GlobusWebServicesInstall</a> and <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates</a> (the first Note).
- Try to start apache again.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1221926590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-20T16:03:10+00:00">Sep 20, 2008 04:03 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221926590">&nbsp;</a></div><pre>Elizabeth,

Here are the current contents of /etc/grid-security and
/etc/grid-security/http.

ls -l /etc/grid-security/
total 44
-rw-r--r-- 1 globus globus 1505 Aug 26 11&#58;48 containercert.pem
-r-------- 1 globus globus 1675 Aug 26 11&#58;49 containerkey.pem
-rw-r--r-- 1 root   root     74 Sep  8 13&#58;34 grid-mapfile
-rw-r--r-- 1 root   root      0 Aug 25 14&#58;38 grid-mapfile.new
-rw-r--r-- 1 root   root     94 Aug 25 14&#58;46 gsi-authz.conf
-rw-r--r-- 1 root   root   1505 Aug 25 18&#58;54 hostcert.pem
-r-------- 1 root   root   1675 Aug 25 18&#58;54 hostkey.pem
drwxr-xr-x 2 daemon daemon 4096 Sep  8 10&#58;41 http
-r--r--r-- 1 daemon daemon 1509 Sep  8 11&#58;00 httpcert.pem
-r-------- 1 daemon daemon 1509 Sep  8 11&#58;00 httpkey.pem
-rw-r--r-- 1 root   root   1038 Aug 25 14&#58;46 prima-authz.conf
drwxr-xr-x 2 root   root   4096 Aug  3 15&#58;26 vomsdir

ls -l /etc/grid-security/http
total 8
-rw-r--r-- 1 daemon daemon 1509 Sep  8 11&#58;03 httpcert.pem
-r-------- 1 daemon daemon 1509 Sep  8 10&#58;41 httpkey.pem

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221874995'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-20T01:43:15+00:00">Sep 20, 2008 01:43 AM UTC</time> by <b>echism</b><a class="anchor" name="1221874995">&nbsp;</a></div><pre>Rob,

I have to look into it to refresh, but I believe the hostcert/key  are supposed to be
up one dir from where you have them, in /etc/grid-security.

I will try to confirm on Monday.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='5091#1221690970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-17T22:36:10+00:00">Sep 17, 2008 10:36 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221690970">&nbsp;</a></div><pre>Elizabeth,

Still unable to start apache.

### 2008-09-17 18&#58;31&#58;41 vdt-control(do_init) starting apache&#58;
/etc/rc.d/init.d/apache start
### 2008-09-17 18&#58;31&#58;41 vdt-control(system) /etc/rc.d/init.d/apache
start start
### 2008-09-17 18&#58;31&#58;41 vdt-control(do_init) starting &#39;apache&#39; failed&#58; 256

[Wed Sep 17 18&#58;31&#58;41 2008] [info] Loading certificate & private key of
SSL-aware server
[Wed Sep 17 18&#58;31&#58;41 2008] [error] Init&#58; Private key not found
[Wed Sep 17 18&#58;31&#58;41 2008] [error] SSL Library Error&#58; 218710120
error&#58;0D094068&#58;asn1 encoding routines&#58;d2i_ASN1_SET&#58;bad tag
[Wed Sep 17 18&#58;31&#58;41 2008] [error] SSL Library Error&#58; 218529960
error&#58;0D0680A8&#58;asn1 encoding routines&#58;ASN1_CHECK_TLEN&#58;wrong tag
[Wed Sep 17 18&#58;31&#58;41 2008] [error] SSL Library Error&#58; 218595386
error&#58;0D07803A&#58;asn1 encoding routines&#58;ASN1_ITEM_EX_D2I&#58;nested asn1 error
[Wed Sep 17 18&#58;31&#58;41 2008] [error] SSL Library Error&#58; 218734605
error&#58;0D09A00D&#58;asn1 encoding routines&#58;d2i_PrivateKey&#58;ASN1 lib

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221684896'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-17T20:54:56+00:00">Sep 17, 2008 08:54 PM UTC</time> by <b>echism</b><a class="anchor" name="1221684896">&nbsp;</a></div><pre>Sorry for the delay! Here is some globus toolkit documentation&#58;

<a href='http&#58;//www.globus.org/toolkit/docs/4.0/admin/docbook/ch06.html' target='_blank' rel='nofollow'>http&#58;//www.globus.org/toolkit/docs/4.0/admin/docbook/ch06.html</a>

which states&#58;

root# ls -l *.pem
-rw-r--r-- 1 globus globus 1785 Oct 14 14&#58;47 containercert.pem
-r-------- 1 globus globus  887 Oct 14 14&#58;47 containerkey.pem
-rw-r--r-- 1 root   root   1785 Oct 14 14&#58;42 hostcert.pem
-r-------- 1 root   root    887 Sep 29 09&#58;59 hostkey.pem

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='5091#1221659471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-17T13:51:11+00:00">Sep 17, 2008 01:51 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221659471">&nbsp;</a></div><pre>Any feedback on the permissions?

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Elizabeth,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; From /opt/osg/globus/var/container-real.log&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 2008-09-15 11&#58;06&#58;42,032 ERROR container.GSIServiceThread</font>
<font color='#7F7E6F'>&#62; [ServiceThread-132,process&#58;147] Error processing request</font>
<font color='#7F7E6F'>&#62; . Caused by Failed to load credentials. Caused by</font>
<font color='#7F7E6F'>&#62; java.io.FileNotFoundException&#58; /etc/grid-security/containercert.pem</font>
<font color='#7F7E6F'>&#62; (Permission denied)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ls -l /etc/grid-security/containercert.pem</font>
<font color='#7F7E6F'>&#62; -r--r--r-- 1 root root 1505 Aug 26 11&#58;48</font>
<font color='#7F7E6F'>&#62; /etc/grid-security/containercert.pem</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; From /opt/osg/apache/logs/error_log&#58;</font>
<font color='#7F7E6F'>&#62; [Mon Sep 15 09&#58;35&#58;29 2008] [info] Loading certificate & private key of</font>
<font color='#7F7E6F'>&#62; SSL-aware server</font>
<font color='#7F7E6F'>&#62; [Mon Sep 15 09&#58;35&#58;29 2008] [error] Init&#58; Private key not found</font>
<font color='#7F7E6F'>&#62; [Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218710120</font>
<font color='#7F7E6F'>&#62; error&#58;0D094068&#58;asn1 encoding routines&#58;d2i_ASN1_SET&#58;bad tag</font>
<font color='#7F7E6F'>&#62; [Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218529960</font>
<font color='#7F7E6F'>&#62; error&#58;0D0680A8&#58;asn1 encoding routines&#58;ASN1_CHECK_TLEN&#58;wrong tag</font>
<font color='#7F7E6F'>&#62; [Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218595386</font>
<font color='#7F7E6F'>&#62; error&#58;0D07803A&#58;asn1 encoding routines&#58;ASN1_ITEM_EX_D2I&#58;nested asn1 error</font>
<font color='#7F7E6F'>&#62; [Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218734605</font>
<font color='#7F7E6F'>&#62; error&#58;0D09A00D&#58;asn1 encoding routines&#58;d2i_PrivateKey&#58;ASN1 lib</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ls -l /etc/grid-security/http</font>
<font color='#7F7E6F'>&#62; total 8</font>
<div id='show_1101879472' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1101879472'><font color='#7F7E6F'>&#62; -rw-r--r-- 1 daemon daemon 1509 Sep  8 11&#58;03 httpcert.pem</font>
<font color='#7F7E6F'>&#62; -rw------- 1 daemon daemon 1509 Sep  8 10&#58;41 httpkey.pem</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It seems the permission/owner is incorrect for the above files.  What</font>
<font color='#7F7E6F'>&#62; is the correct setup?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1101879472').click(function() {
            $('#detail_1101879472').slideDown("normal");
            $('#show_1101879472').hide();
            $('#hide_1101879472').show();
        });
        $('#hide_1101879472').click(function() {
            $('#detail_1101879472').slideUp();
            $('#hide_1101879472').hide();
            $('#show_1101879472').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1221491891'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-15T15:18:11+00:00">Sep 15, 2008 03:18 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221491891">&nbsp;</a></div><pre>Elizabeth,

From /opt/osg/globus/var/container-real.log&#58;

2008-09-15 11&#58;06&#58;42,032 ERROR container.GSIServiceThread
[ServiceThread-132,process&#58;147] Error processing request
. Caused by Failed to load credentials. Caused by
java.io.FileNotFoundException&#58; /etc/grid-security/containercert.pem
(Permission denied)

ls -l /etc/grid-security/containercert.pem
-r--r--r-- 1 root root 1505 Aug 26 11&#58;48
/etc/grid-security/containercert.pem

From /opt/osg/apache/logs/error_log&#58;
[Mon Sep 15 09&#58;35&#58;29 2008] [info] Loading certificate & private key of
SSL-aware server
[Mon Sep 15 09&#58;35&#58;29 2008] [error] Init&#58; Private key not found
[Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218710120
error&#58;0D094068&#58;asn1 encoding routines&#58;d2i_ASN1_SET&#58;bad tag
[Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218529960
error&#58;0D0680A8&#58;asn1 encoding routines&#58;ASN1_CHECK_TLEN&#58;wrong tag
[Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218595386
error&#58;0D07803A&#58;asn1 encoding routines&#58;ASN1_ITEM_EX_D2I&#58;nested asn1 error
[Mon Sep 15 09&#58;35&#58;29 2008] [error] SSL Library Error&#58; 218734605
error&#58;0D09A00D&#58;asn1 encoding routines&#58;d2i_PrivateKey&#58;ASN1 lib

ls -l /etc/grid-security/http
total 8
-rw-r--r-- 1 daemon daemon 1509 Sep  8 11&#58;03 httpcert.pem
-rw------- 1 daemon daemon 1509 Sep  8 10&#58;41 httpkey.pem

It seems the permission/owner is incorrect for the above files.  What is
the correct setup?

<div id='show_1840122945' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1840122945'>Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1840122945').click(function() {
            $('#detail_1840122945').slideDown("normal");
            $('#show_1840122945').hide();
            $('#hide_1840122945').show();
        });
        $('#hide_1840122945').click(function() {
            $('#detail_1840122945').slideUp();
            $('#hide_1840122945').hide();
            $('#show_1840122945').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1221248354'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-12T19:39:14+00:00">Sep 12, 2008 07:39 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221248354">&nbsp;</a></div><pre>Elizabeth,

Now I finally have an entry in   /opt/osg/globus/var/globus-gatekeeper.log.

TIME&#58; Fri Sep 12 13&#58;45&#58;09 2008
PID&#58; 14261 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=14261 starting at Fri Sep 12 13&#58;45&#58;09 2008
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
TIME&#58; Fri Sep 12 13&#58;45&#58;09 2008
PID&#58; 14261 -- Failure&#58; error check net_setup_anon_listener bind&#58;
Address already in use

Thank,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221248351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-12T19:39:11+00:00">Sep 12, 2008 07:39 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221248351">&nbsp;</a></div><pre>Elizabeth,

Now I finally have an entry in   /opt/osg/globus/var/globus-gatekeeper.log.

TIME&#58; Fri Sep 12 13&#58;45&#58;09 2008
PID&#58; 14261 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=14261 starting at Fri Sep 12 13&#58;45&#58;09 2008
Failure&#58; error check net_setup_anon_listener bind&#58; Address already in use
TIME&#58; Fri Sep 12 13&#58;45&#58;09 2008
PID&#58; 14261 -- Failure&#58; error check net_setup_anon_listener bind&#58;
Address already in use

Thank,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221245254'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-12T18:47:34+00:00">Sep 12, 2008 06:47 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1221245254">&nbsp;</a></div><pre>Hi Robert,

We&#39;re still receiving a failure on the authentication. I&#39;m going on vacation, so Elizabeth will assist you
with this ticket until my return.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1221229452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-12T14:24:12+00:00">Sep 12, 2008 02:24 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221229452">&nbsp;</a></div><pre>Tim,

I found entries on xinetd libwrap in messages and have now modified
host.allow.  Thanks for your patience on this one.

Robert

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Tim,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The globus-gatekeeper-log is empty.  Apache is a know issue.  However,</font>
<font color='#7F7E6F'>&#62; in case another process is missing I have attached the vdt-install.log</font>
<font color='#7F7E6F'>&#62; for the CE restart this morning (include apache/logs/error_log and</font>
<font color='#7F7E6F'>&#62; container-real.log).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221150433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-11T16:27:13+00:00">Sep 11, 2008 04:27 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221150433">&nbsp;</a></div><pre>Tim,

The globus-gatekeeper-log is empty.  Apache is a know issue.  However,
in case another process is missing I have attached the vdt-install.log
for the CE restart this morning (include apache/logs/error_log and
container-real.log).

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221147578'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-11T15:39:38+00:00">Sep 11, 2008 03:39 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1221147578">&nbsp;</a></div><pre>Robert,

We&#39;re still not getting through. Same error. I tried authentication and it failed. So then I tried the
globus-url-copy command, which can provide more detailed error messages than globusrun.
However, the error isn&#39;t helpful (see details below). If you can investigate the logs, that would be
helpful. In particular, the globus-gatekeeper.log. Perhaps you can post it somewhere so that we can
review it, or attach it to your reply.

Tim

ce-scan@grid01 .globus $ globusrun -a -r ce01.osg.gridplexus.net

GRAM Authentication test failure&#58; connecting to the job manager failed.  Possible reasons&#58; job
terminated, invalid job contact, network problems, ...
ce-scan@grid01 .globus $ vi foo
ce-scan@grid01 .globus $ globus-url-copy file&#58;///home/ce-scan/.globus/foo
<a href='gsiftp&#58;//ce01.osg.gridplexus.net/tmp/foo' target='_blank' rel='nofollow'>gsiftp&#58;//ce01.osg.gridplexus.net/tmp/foo</a>

error&#58; an end-of-file was reached
globus_xio_system_select.c&#58;globus_l_xio_system_try_read&#58;1082&#58;
An end of file occurred

Verbose error follows&#58;
an end-of-file was reached
globus_xio_system_select.c&#58;globus_l_xio_system_try_read&#58;1082&#58;
An end of file occurred
ce-scan@grid01 .globus $ date
Thu Sep 11 15&#58;34&#58;49 GMT 2008
ce-scan@grid01 .globus $ globus-url-copy file&#58;///home/ce-scan/.globus/foo
<a href='gsiftp&#58;//osgc01.grid.sinica.edu.tw/tmp/foo' target='_blank' rel='nofollow'>gsiftp&#58;//osgc01.grid.sinica.edu.tw/tmp/foo</a>
ce-scan@grid01 .globus $ globus-job-run osgc01.grid.sinica.edu.tw /bin/sh -c &#34;ls -l /tmp/foo&#34;
-rw-r--r--    1 mis      hep            44 Sep 11 15&#58;35 /tmp/foo
ce-scan@grid01 .globus $ globus-job-run osgc01.grid.sinica.edu.tw /bin/sh -c &#34;cat /tmp/foo&#34;
This is a file for testing globus-url-copy.</pre></div><div class='update_description'><i onclick="document.location='5091#1221142511'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-11T14:15:11+00:00">Sep 11, 2008 02:15 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221142511">&nbsp;</a></div><pre>Tim,

I restarted all services on the CE (vdt-control).  Still, receiving a
failed message on apache.

Please give it another try.

Thanks for your help.
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221137198'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-11T12:46:38+00:00">Sep 11, 2008 12:46 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1221137198">&nbsp;</a></div><pre>Robert,

I don&#39;t know much about Squid. You might want to followup on that issue with the osg-sites list. Did
you take a look at the globus-gatekeeper.log? If so, do you see attempts to authenticate from us with
the GridScan proxy?

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1221075911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-10T19:45:11+00:00">Sep 10, 2008 07:45 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1221075911">&nbsp;</a></div><pre>Tim,

Yes, ntp is enabled.  I am still having issues starting apache on the
CE.  Also, here are the recent entries from squid&#58;

1221072493.388      1 129.79.4.64 TCP_DENIED/400 1524 NONE
error&#58;invalid-request - NONE/- text/html

2008/09/10 14&#58;48&#58;13| parseHttpRequest&#58; Requestheader contains NULL
characters
2008/09/10 14&#58;48&#58;13| parseHttpRequest&#58; Can&#39;t get request method
2008/09/10 14&#58;48&#58;13| clientReadRequest&#58; FD 10 (129.79.4.64&#58;53372)
Invalid Request

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1221073581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-10T19:06:21+00:00">Sep 10, 2008 07:06 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1221073581">&nbsp;</a></div><pre>Robert,

We&#39;re still getting nowhere. I even tried the globus-url-copy command again and it&#39;s giving me no
useful data. What are you finding in your log ($VDT_LOCATION/globus/var/globus-gatekeeper.log)?
What is your CA? I will verify that it is not expired. Also, are you using NTP on this server? Is the time
set correctly? If not, that will cause problems.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1220997791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-09T22:03:11+00:00">Sep 9, 2008 10:03 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220997791">&nbsp;</a></div><pre>Tim,

Doubled checked the permissions and set the /etc/grid-security/http
directory to 444.  Openssl on the certs looks ok.  No improvement.

Also, I updated the  grid-mapfile, so please try to access site.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1220983283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-09T18:01:23+00:00">Sep 9, 2008 06:01 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1220983283">&nbsp;</a></div><pre>Hi Robert,

You have host certificates and http certificates on this host, correct? What are the permissions? It is
suggested that the certificates be readable by all users and that the key be readable only by the
owner. See the &#34;Retrieve and install the host certificate&#34; section of the TWiki doc, <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/GetGridCertificates</a>

Additionally, in that same document you&#39;ll find the openssl command for viewing the certificates.
You might want to run the commands on the certificates as well. But my initial guess is that
permissions aren&#39;t set correctly.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1220889430'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-08T15:57:10+00:00">Sep 8, 2008 03:57 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220889430">&nbsp;</a></div><pre>Tim,

I successfully retrieved the 8/27 (37014) http CA request and saved to
/etc/grid-security/http.  However, apache fails with&#58;

vdt-control --on apache
enabling init service apache... FAILED! (see vdt-install.log)

tail  /opt/osg/vdt-install.log
### 2008-09-08 11&#58;50&#58;00 vdt-control(initialize) starting
### 2008-09-08 11&#58;50&#58;00 vdt-control(do_init) enabling the init service
&#39;apache&#39;
### 2008-09-08 11&#58;50&#58;00 vdt-control(safe_copy) no need to copy
&#39;/opt/osg-1.0.0/post-install/apache&#39; to &#39;/etc/rc.d/init.d/apache&#39;
### 2008-09-08 11&#58;50&#58;00 vdt-control(do_init) starting apache&#58;
/etc/rc.d/init.d/apache start
### 2008-09-08 11&#58;50&#58;00 vdt-control(system) /etc/rc.d/init.d/apache
start start
### 2008-09-08 11&#58;50&#58;00 vdt-control(do_init) starting &#39;apache&#39; failed&#58; 256
### 2008-09-08 11&#58;50&#58;00 vdt-control(clean_up) all done

cat /opt/osg/apache/logs/error_log
[Mon Sep 08 11&#58;50&#58;00 2008] [error] Init&#58; Private key not found
[Mon Sep 08 11&#58;50&#58;00 2008] [error] SSL Library Error&#58; 218710120
error&#58;0D094068&#58;asn1 encoding routines&#58;d2i_ASN1_SET&#58;bad tag
[Mon Sep 08 11&#58;50&#58;00 2008] [error] SSL Library Error&#58; 218529960
error&#58;0D0680A8&#58;asn1 encoding routines&#58;ASN1_CHECK_TLEN&#58;wrong tag
[Mon Sep 08 11&#58;50&#58;00 2008] [error] SSL Library Error&#58; 218595386
error&#58;0D07803A&#58;asn1 encoding routines&#58;ASN1_ITEM_EX_D2I&#58;nested asn1 error
[Mon Sep 08 11&#58;50&#58;00 2008] [error] SSL Library Error&#58; 218734605
error&#58;0D09A00D&#58;asn1 encoding routines&#58;d2i_PrivateKey&#58;ASN1 lib

ls  /etc/grid-security/http
httpcert.pem  httpkey.pem

<div id='show_895091645' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_895091645'>Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Tim,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The one from 7/15/2008 (36173) had issues  (email from Doug Olson,</font>
<font color='#7F7E6F'>&#62; 7/28), thus a new request (35850) was submitted that day.  However,</font>
<font color='#7F7E6F'>&#62; the temp directory for 7/28 was lost and I was unable to retrieve.  A</font>
<font color='#7F7E6F'>&#62; request was submitted on 8/27 (37014).  Is the 8/27 request ok?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_895091645').click(function() {
            $('#detail_895091645').slideDown("normal");
            $('#show_895091645').hide();
            $('#hide_895091645').show();
        });
        $('#hide_895091645').click(function() {
            $('#detail_895091645').slideUp();
            $('#hide_895091645').hide();
            $('#show_895091645').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1220624831'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-05T14:27:11+00:00">Sep 5, 2008 02:27 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220624831">&nbsp;</a></div><pre>Tim,

The one from 7/15/2008 (36173) had issues  (email from Doug Olson,
7/28), thus a new request (35850) was submitted that day.  However, the
temp directory for 7/28 was lost and I was unable to retrieve.  A
request was submitted on 8/27 (37014).  Is the 8/27 request ok?

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1220617736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-05T12:28:56+00:00">Sep 5, 2008 12:28 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1220617736">&nbsp;</a></div><pre>Robert,

You requested two. Both have been issued, and one should be revoked since you don&#39;t need two of
them. One was issued on 7/15/2008  8&#58;15&#58;14 (0x638D) and the other on 7/28/2008 13&#58;43&#58;53
(0x638F). If you can&#39;t retrieve them, please let us know. I&#39;ll revoke both and you can request a
new one. But I need to know which one of these you are going to use if you are able to retrieve
one of them so I can revoke the other.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1220556250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-04T19:24:10+00:00">Sep 4, 2008 07:24 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220556250">&nbsp;</a></div><pre>Tim.

Thanks for the feedback!  Any update on the http CA request on the CE
that is still open.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1220554881'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-04T19:01:21+00:00">Sep 4, 2008 07:01 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1220554881">&nbsp;</a></div><pre>Hi Robert,

Good news and bad news. Good news&#58; we can get to your host now. Bad new&#58; authentication fails.
Your Resource will need to support the MIS VO. Right now we&#39;re failing to authenticate with our
proxy, the same proxy we&#39;ll use to run monitoring jobs which display data to tools like VORS
(<a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi</a>). If you&#39;re using a grid-mapfile and not GUMS for
authentication, be sure to run edg-mkgridmap from your $VDT_LOCATION to create one. Or check
the existing grid-mapfile for our DN&#58;

/DC=org/DC=doegrids/OU=People/CN=Tim Silvers (GridScan) 387103

A local user account should also be created for the mis VO, or whichever account you decide to map
the MIS VO to.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1220552290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-04T18:18:10+00:00">Sep 4, 2008 06:18 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220552290">&nbsp;</a></div><pre>Tim,

Please try again.  Questions/issues please contact off list.

Thanks,
Robert

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Tim,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The outbound (except port 4810, open question on this one) from CE and</font>
<font color='#7F7E6F'>&#62; Gums are enabled.  I was going to leave the inbound closed until all</font>
<font color='#7F7E6F'>&#62; the CE verification scripts in the wiki are complete, since the</font>
<font color='#7F7E6F'>&#62; configure.ini was so troublesome.  However, I will go ahead and enable</font>
<font color='#7F7E6F'>&#62; your ip  tonight.  In addition, a http CA request on the CE is open.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1220471111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-03T19:45:11+00:00">Sep 3, 2008 07:45 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220471111">&nbsp;</a></div><pre>Tim,

The outbound (except port 4810, open question on this one) from CE and
Gums are enabled.  I was going to leave the inbound closed until all the
CE verification scripts in the wiki are complete, since the
configure.ini was so troublesome.  However, I will go ahead and enable
your ip  tonight.  In addition, a http CA request on the CE is open.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1220468525'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-03T19:02:05+00:00">Sep 3, 2008 07:02 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1220468525">&nbsp;</a></div><pre>Hi Robert,

Your ports still aren&#39;t open to us...

$ ping -c 2 CE01.OSG.gridplexus.net
PING CE01.OSG.gridplexus.net (216.105.97.67) 56(84) bytes of data.

--- CE01.OSG.gridplexus.net ping statistics ---
2 packets transmitted, 0 received, 100% packet loss, time 1000ms

$ telnet CE01.OSG.gridplexus.net 2119
Trying 216.105.97.67...

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1220466611'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-09-03T18:30:11+00:00">Sep 3, 2008 06:30 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220466611">&nbsp;</a></div><pre>Are there any issues with the new request?

Thanks,

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Thanks for confirming.  I submitted a new request.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1220013910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-29T12:45:10+00:00">Aug 29, 2008 12:45 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1220013910">&nbsp;</a></div><pre>Thanks for confirming.  I submitted a new request.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1219781983'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-26T20:19:43+00:00">Aug 26, 2008 08:19 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1219781983">&nbsp;</a></div><pre>&#34;However the cert-retrieve requests a pathname and fails on Keys do not
match. With all the reloads, the temp directory used to submit is now
unavailable. Is a workaround possible?&#34;

Robert,

If I understand correctly, the current issue involves retrieving a requested certificate for the host. If
you have deleted the temporary directory where the .pem files were stored, then you will have to
make a new request. They can&#39;t be recovered.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1219771990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-26T17:33:10+00:00">Aug 26, 2008 05:33 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1219771990">&nbsp;</a></div><pre>A reload of the CE to back out the fix of 08/18/2008 eliminates the
module error.  The configure-osg.py -c shows successful completion.

However the cert-retrieve requests a pathname and fails on Keys do not
match.  With all the reloads, the temp directory used to submit is now
unavailable.  Is a workaround possible?

Thanks,
Robert

Robert Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; After a successful completion of configure-osg.py -dv and</font>
<font color='#7F7E6F'>&#62; $VDT_LOCATION/gums/scripts/gums-host-cron, the execution of</font>
<font color='#7F7E6F'>&#62; configure-osg.py -c returns Unknown exception encountered.  Output</font>
<font color='#7F7E6F'>&#62; from vdt-install.log below showing completion using -dv and then -c.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ### 2008-08-25 09&#58;37&#58;23,285 configure-osg DEBUG</font>
<font color='#7F7E6F'>&#62; MonalisaConfiguration.checkAttributes started</font>
<font color='#7F7E6F'>&#62; ### 2008-08-25 09&#58;37&#58;23,285 configure-osg DEBUG Not enabled, exiting.</font>
<font color='#7F7E6F'>&#62; ### 2008-08-25 09&#58;37&#58;23,286 configure-osg DEBUG</font>
<font color='#7F7E6F'>&#62; MonalisaConfiguration.checkAttributes completed</font>
<font color='#7F7E6F'>&#62; ### 2008-08-25 09&#58;37&#58;23,286 configure-osg INFO Configuration verified</font>
<font color='#7F7E6F'>&#62; successfully</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ########## [configure-osg] installed successfully</font>
<font color='#7F7E6F'>&#62; ##########</font>
<font color='#7F7E6F'>&#62; # Installing OSG Configuration [configure-osg] at Mon Aug 25 09&#58;37&#58;36</font>
<font color='#7F7E6F'>&#62; EDT 2008</font>
<font color='#7F7E6F'>&#62; ##########</font>
<font color='#7F7E6F'>&#62; ### 2008-08-25 09&#58;37&#58;37,060 configure-osg CRITICAL Unknown exception</font>
<font color='#7F7E6F'>&#62; encountered while running&#58; &#39;module&#39; object has no attribute</font>
<font color='#7F7E6F'>&#62; &#39;vdt_location&#39;</font>
<font color='#7F7E6F'>&#62; ########## [configure-osg] installed successfully</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_334441597' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_334441597'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_334441597').click(function() {
            $('#detail_334441597').slideDown("normal");
            $('#show_334441597').hide();
            $('#hide_334441597').show();
        });
        $('#hide_334441597').click(function() {
            $('#detail_334441597').slideUp();
            $('#hide_334441597').hide();
            $('#show_334441597').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5091#1219672089'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-25T13:48:09+00:00">Aug 25, 2008 01:48 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1219672089">&nbsp;</a></div><pre>After a successful completion of configure-osg.py -dv and
$VDT_LOCATION/gums/scripts/gums-host-cron, the execution of
configure-osg.py -c returns Unknown exception encountered.  Output from
vdt-install.log below showing completion using -dv and then -c.

### 2008-08-25 09&#58;37&#58;23,285 configure-osg DEBUG
MonalisaConfiguration.checkAttributes started
### 2008-08-25 09&#58;37&#58;23,285 configure-osg DEBUG Not enabled, exiting.
### 2008-08-25 09&#58;37&#58;23,286 configure-osg DEBUG
MonalisaConfiguration.checkAttributes completed
### 2008-08-25 09&#58;37&#58;23,286 configure-osg INFO Configuration verified
successfully

########## [configure-osg] installed successfully
##########
# Installing OSG Configuration [configure-osg] at Mon Aug 25 09&#58;37&#58;36
EDT 2008
##########
### 2008-08-25 09&#58;37&#58;37,060 configure-osg CRITICAL Unknown exception
encountered while running&#58; &#39;module&#39; object has no attribute &#39;vdt_location&#39;
########## [configure-osg] installed successfully

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1219331653'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-21T15:14:13+00:00">Aug 21, 2008 03:14 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1219331653">&nbsp;</a></div><pre>Suchandra updated master ticket yesterday, Aug 20. Awaiting customer followup. --Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1218483652'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-11T19:40:52+00:00">Aug 11, 2008 07:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1218483652">&nbsp;</a></div><pre>Bumping AD to match master ticket</pre></div><div class='update_description'><i onclick="document.location='5091#1217958802'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-05T17:53:22+00:00">Aug 5, 2008 05:53 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1217958802">&nbsp;</a></div><pre>I&#39;ve added this as a subtask to the ticket tracking the ini file problem that Suchandra is assisting in
debugging. --Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1217275883'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-28T20:11:23+00:00">Jul 28, 2008 08:11 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1217275883">&nbsp;</a></div><pre>We discussed this ticket at the operations meeting today. They have some other issues, including one
dealing with the ini file that are being investigated. Suchandra is investigating the ini file problem,
which is resulting in the problems with the Resource configuration.

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1216669198'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-21T19:39:58+00:00">Jul 21, 2008 07:39 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1216669198">&nbsp;</a></div><pre>Pushing to next week.  Will work Robert&#39;s other ticket.</pre></div><div class='update_description'><i onclick="document.location='5091#1215617859'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-09T15:37:39+00:00">Jul 9, 2008 03:37 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1215617859">&nbsp;</a></div><pre>Hi. That&#39;s no problem. I see that you posted that the maintenance period has been extended to July
21, so I will push this ticket back to that date for review at the Operations Meeting.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1215544809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-08T19:20:09+00:00">Jul 8, 2008 07:20 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1215544809">&nbsp;</a></div><pre>Tim,

I had updated OIM with the revised date due to an unexpected trip
(contact off-list for info) and was unable to attend yesterdays ops
meeting.  Work is now back full steam.  In the future I will also send
you an email also.

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1215528212'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-08T14:43:32+00:00">Jul 8, 2008 02:43 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1215528212">&nbsp;</a></div><pre>Hi Robert,

You had mentioned that the OSG 1.0 upgrade was in progress and that the node was expected to be in
service yesterday, July 7. I just ran an authentication test and it is failing. Do you expect to have the
node functional this week? Just let us know.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1214409112'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-06-25T15:51:52+00:00">Jun 25, 2008 03:51 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1214409112">&nbsp;</a></div><pre>Robert,

Thanks for the update. I&#39;d recommend sending your question to osg-sites@.... We
look forward to seeing this Resource online with OSG 1.0. Keep us posted.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1214324408'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-06-24T16:20:08+00:00">Jun 24, 2008 04:20 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1214324408">&nbsp;</a></div><pre>Hi Tim,

Update on the status of the new Gridplexus site&#58;

Update the servers to OSG 1.0 in-progress (software loaded,
configuration active).
Submitted request to point Domain names to new Name servers.

I have updated OIM with a maintenance notice showing scheduled outage
till 7/7  (after July 4th holiday).  Let me know if more is required on OIM.

I have questions on integrating the cluster back end (ROCKS) with the
worker-node client.  Do you know of a possible contact for questions?

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5091#1214313093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-06-24T13:11:33+00:00">Jun 24, 2008 01:11 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1214313093">&nbsp;</a></div><pre>Hi Robert,

We are still awaiting action on your end regarding this new Resource. It is still failing the host
reachable test of site_verify. What is the ETA for getting this Resource functional?

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1213642915'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-06-16T19:01:55+00:00">Jun 16, 2008 07:01 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1213642915">&nbsp;</a></div><pre>Robert,

Let us know if we can assist you with getting this compute element to pass site_verify. You will want
to refer to my previous note about this issue.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1213301956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-06-12T20:19:16+00:00">Jun 12, 2008 08:19 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1213301956">&nbsp;</a></div><pre>We&#39;ll review your new Resource registration at the next Operations call, which will be Monday, June
16 at 1PM EDT. Details and a link to the Operations Web where the agenda will be posted have
been mailed to you separately. Contact us if you have any questions.

Also, your Resource will need to support the MIS VO. Right now we&#39;re failing to authenticate with
our proxy, the same proxy we&#39;ll use to run monitoring jobs which display data to tools like VORS
(<a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi</a>). If you&#39;re using a grid-mapfile and not GUMS for
authentication, be sure to run edg-mkgridmap from your $VDT_LOCATION to create one. Or check
the existing grid-mapfile for our DN&#58;

/DC=org/DC=doegrids/OU=People/CN=Tim Silvers (GridScan) 387103

A local user account should also be created for the user, or whichever account you decide to map
the MIS VO to.

Thanks,

Tim</pre></div><div class='update_description'><i onclick="document.location='5091#1213301028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-06-12T20:03:48+00:00">Jun 12, 2008 08:03 PM UTC</time> by <b>echism</b><a class="anchor" name="1213301028">&nbsp;</a></div><pre>Resource Information

Resource Name&#58;	Gridplexus
Support Center&#58;	CSC
Resource Type&#58;	Compute Element
OSG Grid&#58;	OSG Production Resource

Fully Qualified Domain Name&#58;	hpc.gridplexus.net
Site&#58;	OSG_GP_CE01

WLCG Interoperability BDII (Published to WLCG)&#58;	No
WLCG Interopeability Monitoring (Published to Service Availability Monitoring)&#58;	No

Submitter&#58; Robert Rusinko - Robert.Rusinko@....
System Administrator(s)
Primary Admin&#58; Robert Rusinko - Robert.Rusinko@....
Secondary Admin&#58; support@.... - support@....
Security Contacts
Primary Security Contact&#58; Robert Rusinko - Robert.Rusinko@....
Secondary Security Contact&#58;Not Assigned
Syslogng Publish&#58;	No</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5091">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 5091});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
