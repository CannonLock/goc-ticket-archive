<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[33275] Request to update FileDownload Phedex agent configuration file</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=33275" method="post">
<div class="page-header">
    <h3><span class="muted">33275</span> / Request to update FileDownload Phedex agent configuration file</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Sebastian Pulido</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Sebastian Pulido</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier2</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-04-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS Tier 2 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=127418">127418</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/33275", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33275?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33275?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Request%20to%20update%20FileDownload%20Phedex%20agent%20configuration%20file%20ISSUE%3D33275%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='33275#1494288033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-09T00:00:33+00:00">May 9, 2017 12:00 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1494288033">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by GGUS SYSTEM at Mon May 08 23&#58;59&#58;21 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a></pre></div><div class='update_description'><i onclick="document.location='33275#1492790702'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T16:05:02+00:00">Apr 21, 2017 04:05 PM UTC</time> by <b>echism</b><a class="anchor" name="1492790702">&nbsp;</a></div><pre>Great! I&#39;ll close this one.</pre></div><div class='update_description'><i onclick="document.location='33275#1492698436'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-20T14:27:16+00:00">Apr 20, 2017 02:27 PM UTC</time><a class="anchor" name="1492698436">&nbsp;</a></div><pre>Hello All,

We have resolved this issue.  Natalia was right regarding us using the cms/uscms VO.  We had to do a few things to get things working.

1. Majid requested the Phedex role using only cms as the VO, /cms/Role=cmsphedex/Capability=NULL.
2. Once that was approved, we updated our gums group to account mapper to match the cms VO instead of cms/uscms.
3. Restarted Phedex after generating a new proxy using &#39;voms-proxy-init -voms cms&#58;/cms/Role=cmsphedex&#39;.

Transfers seem to be working as expected with the new role.  FTS3 monitoring now shows only &#39;cms&#39; as the VO instead of &#39;cms/uscms&#39;.

Thanks for everyone&#39;s suggestions on helping troubleshoot the issue.

-Erik

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=egough/CN=734735/CN=Erik Gough</pre></div><div class='update_description'><i onclick="document.location='33275#1492461286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-17T20:34:46+00:00">Apr 17, 2017 08:34 PM UTC</time><a class="anchor" name="1492461286">&nbsp;</a></div><pre>Hi Elizabeth,

Not yet.  We are still working on the issue.  I&#39;ll update the ticket once we think we have resolved the problem.

-Erik

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=egough/CN=734735/CN=Erik Gough</pre></div><div class='update_description'><i onclick="document.location='33275#1492461053'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-17T20:30:53+00:00">Apr 17, 2017 08:30 PM UTC</time> by <b>echism</b><a class="anchor" name="1492461053">&nbsp;</a></div><pre>Should this ticket be closed?

Thank you</pre></div><div class='update_description'><i onclick="document.location='33275#1492176173'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-14T13:22:53+00:00">Apr 14, 2017 01:22 PM UTC</time><a class="anchor" name="1492176173">&nbsp;</a></div><pre>Hi Natalia,

Thanks for the information.  For now we have put a workaround in place to get these transfers going green again.  We will work on switching the Phedex mapping that has the VO as cms/uscms to just cms in our GUMS config.  I think that will resolve the problem.

-Erik

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=egough/CN=734735/CN=Erik Gough</pre></div><div class='update_description'><i onclick="document.location='33275#1492061547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-13T05:32:27+00:00">Apr 13, 2017 05:32 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1492061547">&nbsp;</a></div><pre>Natalia Ratnikova has subscribed to this ticket.

Hi Erik,

from the FTS monitoring pages&#58;  <a href='https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/?vo=cms%2Fuscms&source_se=&dest_se=&time_window=72' target='_blank' rel='nofollow'>https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/?vo=cms%2Fuscms&source_se=&dest_se=&time_window=72</a>
Purdue seems to be the only site that submits transfers with VO=cms/uscms .

As the error says&#58;  &#34;Failed to allocate active transfer credits to transfer job due to a standalone out-bound configuration(<a href='srm&#58;//cmsdcadisk01.fnal.gov' target='_blank' rel='nofollow'>srm&#58;//cmsdcadisk01.fnal.gov</a>).Only the following VOs are allowed&#58; cms, ops &#34;  I guess you need to talk to cms-t1@.... people to see what they can do on their side. This is certainly beyond the PhEDEx scope.

As concerns the RFC compliant proxy, it  is needed for access to cmsweb server, but makes no difference for FTS as far as I know. In the new versions of grid proxy tools RFC is a default.
Hope it helps.
Natalia.

-- by Natalia Ratnikova at Thu Apr 13 05&#58;31&#58;33 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a></pre></div><div class='update_description'><i onclick="document.location='33275#1492028042'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-12T20:14:02+00:00">Apr 12, 2017 08:14 PM UTC</time><a class="anchor" name="1492028042">&nbsp;</a></div><pre>Hi Sid,

We need to pass the phedex role to the proxy so GUMS will map Majid&#39;s DN to the &#39;cmsphedx&#39; account.  We tried to add the -rfc flag, but still saw the same error.

Any other thoughts on the issue?

Thanks,
-Erik

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=egough/CN=734735/CN=Erik Gough</pre></div><div class='update_description'><i onclick="document.location='33275#1491916702'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-11T13:18:22+00:00">Apr 11, 2017 01:18 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1491916702">&nbsp;</a></div><pre>I&#39;m not sure. From manpages,  &#39;-rfc&#39; produces a  RFC3820 compliant proxy. Perhaps FTS3 requires compliance. Could you try? The other thing that comes to mind is the fquan that is being passed in the voms flag. I wonder if somehow this is confusing FTS3. Is it necessary you pass the fquan or can you remove it?

-Sid

-- by Siddharth Narayanan at Tue Apr 11 13&#58;17&#58;49 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a></pre></div><div class='update_description'><i onclick="document.location='33275#1491853563'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T19:46:03+00:00">Apr 10, 2017 07:46 PM UTC</time><a class="anchor" name="1491853563">&nbsp;</a></div><pre>Hi,

Thanks for this info.  Here&#39;s how the proxy is generated&#58;

voms-proxy-init -voms cms&#58;/cms/uscms/Role=cmsphedex -valid 180&#58;00

The only difference I see is the &#39;-rfc&#39; part.  Is that required?

-Erik

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=egough/CN=734735/CN=Erik Gough</pre></div><div class='update_description'><i onclick="document.location='33275#1491853084'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T19:38:04+00:00">Apr 10, 2017 07:38 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1491853084">&nbsp;</a></div><pre>Here&#39;s the relevant piece of documentation, including what has changed for FTS3&#58;

<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMS/PhedexAdminDocsVomsProxies#Proxy_certificates_in_FTS' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMS/PhedexAdminDocsVomsProxies#Proxy_certificates_in_FTS</a>

-- by Siddharth Narayanan at Mon Apr 10 19&#58;37&#58;35 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a></pre></div><div class='update_description'><i onclick="document.location='33275#1491852906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T19:35:06+00:00">Apr 10, 2017 07:35 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1491852906">&nbsp;</a></div><pre>Hi Erik,

Natalia pointed out that this problem has been observed before [1]. It might be due to the PhEDEx proxy not having the CMS VO set properly. Can you confirm how you generate the proxy?

Best,
Sid

[1] <a href='http&#58;//ticket.grid.iu.edu/25109?sort=down&' target='_blank' rel='nofollow'>http&#58;//ticket.grid.iu.edu/25109?sort=down&</a>

-- by Siddharth Narayanan at Mon Apr 10 19&#58;34&#58;43 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a></pre></div><div class='update_description'><i onclick="document.location='33275#1491847593'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-10T18:06:33+00:00">Apr 10, 2017 06:06 PM UTC</time><a class="anchor" name="1491847593">&nbsp;</a></div><pre>Hello,

The error doesn&#39;t make much sense.  We are failing transfers using the cms/uscms VO to only a subset of sites&#58; T2_US_Vanderbilt, T2_US_Caltech and T1_US_FNAL_Disk.

Here you can see we have successful transfers to almost all other sites&#58; <a href='https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/?vo=&source_se=&dest_se=gsiftp&#58' target='_blank' rel='nofollow'>https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/?vo=&source_se=&dest_se=gsiftp&#58</a>;%2F%2Fcms-gridftp.rcac.purdue.edu&time_window=12

I did noticed that the Phedex changes weren&#39;t committed to CERN gitlab so I updated them there. I&#39;m not sure if that will help though.

Are there any Phedex experts who have seen this error before?

Thanks,
-Erik

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=egough/CN=734735/CN=Erik Gough</pre></div><div class='update_description'><i onclick="document.location='33275#1491586700'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-07T17:38:20+00:00">Apr 7, 2017 05:38 PM UTC</time> by <b>echism</b><a class="anchor" name="1491586700">&nbsp;</a></div><pre>I&#39;m confused, are these not cms transfers?</pre></div><div class='update_description'><i onclick="document.location='33275#1491558682'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-07T09:51:22+00:00">Apr 7, 2017 09:51 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1491558682">&nbsp;</a></div><pre>Hi Majid,
Changes in configuration were applied [1].

Transfers are failing to Purdue with errors&#58;
Failed to allocate active transfer credits to transfer job due to a standalone out-bound configuration (<a href='srm&#58;//cmsdcadisk01.fnal.gov' target='_blank' rel='nofollow'>srm&#58;//cmsdcadisk01.fnal.gov</a>).Only the following VOs are allowed&#58; cms, ops

Can you please take a look?

Sebastian.

[1] <a href='https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58' target='_blank' rel='nofollow'>https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58</a>;&#58;QualityPlots?graph=quality_all&entity=link&src_filter=&dest_filter=T2_US_Purdue&no_mss=true&period=l12h&upto=&.submit=Update

-- by Sebastian Pulido at Fri Apr 07 09&#58;50&#58;45 UTC 2017

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a></pre></div><div class='update_description'><i onclick="document.location='33275#1491412907'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-05T17:21:47+00:00">Apr 5, 2017 05:21 PM UTC</time><a class="anchor" name="1491412907">&nbsp;</a></div><pre>Hi

fixing typo, FTS --&#62; FTS3

Majid

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=marabgol/CN=653155/CN=Majid Arabgol</pre></div><div class='update_description'><i onclick="document.location='33275#1491406331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-05T15:32:11+00:00">Apr 5, 2017 03:32 PM UTC</time><a class="anchor" name="1491406331">&nbsp;</a></div><pre>Hi

I changed the configuration from FTS to FTS and port number on phedex and restarted agents.
Let us know if it is working as expected or still has problem.

Regards,
Majid

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=marabgol/CN=653155/CN=Majid Arabgol</pre></div><div class='update_description'><i onclick="document.location='33275#1491251873'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-03T20:37:53+00:00">Apr 3, 2017 08:37 PM UTC</time> by <b>echism</b><a class="anchor" name="1491251873">&nbsp;</a></div><pre>Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='33275#1490950547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-03-31T08:55:47+00:00">Mar 31, 2017 08:55 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1490950547">&nbsp;</a></div><pre>Dear site admin,
Looking at the components page [1], T2_US_Purdue is running Phedex version 4.2.1.
Also, looking at the agents logs [2] and recent errors page [3], the site seems to be using FNAL&#39;s FTS3 server under port 8443, can you please update/set the FileDownload config -service and -backend option in order to use FTS3 REST API under port 8446? some documentation [4]

Current values&#58;
-backend FTS
-service <a href='https&#58;//cmsfts3.fnal.gov&#58;8443' target='_blank' rel='nofollow'>https&#58;//cmsfts3.fnal.gov&#58;8443</a>

New values&#58;
-backend FTS3
-service <a href='https&#58;//cmsfts3.fnal.gov&#58;8446' target='_blank' rel='nofollow'>https&#58;//cmsfts3.fnal.gov&#58;8446</a>

Thanks,
Sebastian.

[1] <a href='https&#58;//cmsweb.cern.ch/phedex/prod/Components&#58' target='_blank' rel='nofollow'>https&#58;//cmsweb.cern.ch/phedex/prod/Components&#58</a>;&#58;Agents?pcolumn=TIME_UPDATE&pcolumn=NODE_NAME&pcolumn=HOST_NAME&pcolumn=DIRECTORY_PATH&pcolumn=AGENT_NAME&pcolumn=FILENAME%3ARELEASE%3AREVISION%3ATAG&pcolumn=AGENT_LABEL&pcolumn=PID&pcolumn=WORKER_ID&pcolumn=Q_PEND%3AQ_RECV%3AQ_WORK%3AQ_BAD%3AQ_OUT
[2] <a href='https&#58;//cmsweb.cern.ch/phedex/datasvc/perl/prod/agentlogs?node=T2_US_Purdue&agent=FileDownload' target='_blank' rel='nofollow'>https&#58;//cmsweb.cern.ch/phedex/datasvc/perl/prod/agentlogs?node=T2_US_Purdue&agent=FileDownload</a>
[3] <a href='https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58' target='_blank' rel='nofollow'>https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58</a>;&#58;ErrorInfo?tofilter=T2_US_Purdue&fromfilter=.*&report_code=.*&xfer_code=.*&to_pfn=.*&from_pfn=.*&log_detail=.*&log_validate=.*&.submit=Update#
[4] <a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/PhedexAdminDocsInstallation#PhEDEx_Agent_Installation' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/PhedexAdminDocsInstallation#PhEDEx_Agent_Installation</a>

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=127418</a>

[Ticket History]
Subject&#58; Request to update FileDownload Phedex agent configuration file
Ticket Type&#58; USER
CC&#58; ;cms-comp-ops-transfer-team@....
-- by Sebastian Pulido at Fri Mar 31 08&#58;55&#58;03 UTC 2017</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F33275">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 33275});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
