<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[19842] old certificate?</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=19842" method="post">
<div class="page-header">
    <h3><span class="muted">19842</span> / old certificate?</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">George Alverson</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">George Alverson</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for user response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-05-08</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">FNAL (Prod)&nbsp;<a target="_blank" href="https://fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000406065">INC000000406065</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/19842", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/19842?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/19842?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20old%20certificate%3F%20ISSUE%3D19842%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='19842#1399389152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T15:12:32+00:00">May 6, 2014 03:12 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1399389152">&nbsp;</a></div><pre>Yes, please.

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1399316163'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-05T18:56:03+00:00">May 5, 2014 06:56 PM UTC</time><a class="anchor" name="1399316163">&nbsp;</a></div><pre>Hi George,

It looks your problem with xrootd is solved. Can we close this ticket?

Edgar
OSG Software Team

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='19842#1399057210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-02T19:00:10+00:00">May 2, 2014 07:00 PM UTC</time><a class="anchor" name="1399057210">&nbsp;</a></div><pre>Found that adding  10 to the option in the  xrootd configuration file (3-&#62;13) causes it  to download the appropriate certificate revocation list (CRL)&#58;

sec.protocol /usr/lib64 gsi -d&#58;3 -certdir&#58;/etc/grid-security/certificates -cert&#58;/etc/grid-security/xrd/xrdcert.pem -key&#58;/etc/grid-security/xrd/xrdkey.pem -crl&#58;13

Log file output follows.

I assume that 13 is a legitimate value, so on to the next problem...

Best,
George
------------
140501 10&#58;38&#58;12 9132 cryptossl_X509Crl&#58;&#58;InitFromURI&#58; executing ... openssl crl -inform DER -in /tmp/82c2b224.0.crltmp -out /tmp/82c2b224.0.pem -text
140501 10&#58;38&#58;12 9132 cryptossl_X509Crl&#58;&#58;Init&#58; CRL successfully loaded
140501 10&#58;38&#58;12 9132 cryptossl_LoadCache&#58; 1certificates have been revoked
140501 10&#58;38&#58;12 9132 sut_Cache&#58;&#58;Init&#58; cache allocated for 1 entries
140501 10&#58;38&#58;12 9132 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0 active entries)

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=alverson/CN=370132/CN=George Alverson</pre></div><div class='update_description'><i onclick="document.location='19842#1398718998'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-28T21:03:18+00:00">Apr 28, 2014 09:03 PM UTC</time><a class="anchor" name="1398718998">&nbsp;</a></div><pre>Hi,

I increased the dump level for certificates in xrd to 3 in /etc/xrootd/xrootd-clustered.cfg (sec.protocol /usr/lib64 gsi -d&#58;3 ...). Maybe the output below will help figure out what&#39;s going on...if I change -crl (CRLCheck) from 3 to 0, xrootd starts.

Best,
George

=======================================================================
140428 16&#58;49&#58;23 44788 secgsi_InitOpts&#58; *** ------------------------------------------------------------ ***
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; option CACheck&#58; 1
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; testing CA dir(s)&#58; /etc/grid-security/certificates
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; using CA dir(s)&#58; /etc/grid-security/certificates/
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; option CRLCheck&#58; 3 (&#39;require-not-expired&#39;; download? no)
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; using CRL dir(s)&#58; /etc/grid-security/certificates/
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; CRL information refreshed every 86400 secs
140428 16&#58;49&#58;23 44788 crypto_Factory&#58;&#58;GetCryptoFactory&#58; shared library &#39;libXrdCryptossl.so&#39; loaded
140428 16&#58;49&#58;23 44788 sut_Rndm&#58;&#58;GetBuffer&#58; enter&#58; len&#58; 32
140428 16&#58;49&#58;23 44788 sut_Rndm&#58;&#58;Init&#58; taking seed from /dev/urandom
140428 16&#58;49&#58;23 44788 cryptossl_sslCipher&#58;&#58;XrdCryptosslCipher&#58; generate DH full key
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Init&#58; cache allocated for 100 entries
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0 active entries)
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Init&#58; cache allocated for 10 entries
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0 active entries)
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58; ssl
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;XrdCryptosslX509_file&#58; certificate successfully loaded
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 9 extensions
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;XrdCryptosslX509_file&#58; RSA key completed
140428 16&#58;49&#58;23 44788 cryptossl_ASN1toUTC&#58;  UTC&#58; 1397019600  isdst&#58; 1
140428 16&#58;49&#58;23 44788 cryptossl_ASN1toUTC&#58;  UTC&#58; 1431709200  isdst&#58; 1
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;Export&#58; BIO data&#58; 1862 bytes at 0x0x8ffe90
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;Export&#58; result of serialization&#58; 1862 bytes
140428 16&#58;49&#58;23 44788 secgsi_GetCA&#58; Querying cache for tag&#58; 82c2b224.0&#58;1 (timestamp&#58;1398718163, refresh fq&#58;86400)
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58; 82c2b224.0&#58;1
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
<div id='show_1448513456' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1448513456'>140428 16&#58;49&#58;23 44788 secgsi_GetCA&#58; trying to load CA certificate from /etc/grid-security/certificates/82c2b224.0
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 6 extensions
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;IsCA&#58; CA certificate
140428 16&#58;49&#58;23 44788 cryptossl_X509ParseFile&#58; certificate for &#39;/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1&#39;added to the chain - ord&#58; 1
140428 16&#58;49&#58;23 44788 cryptossl_X509ParseFile&#58; no RSA private key found in file /etc/grid-security/certificates/82c2b224.0
140428 16&#58;49&#58;23 44788 cryptossl_ASN1toUTC&#58;  UTC&#58; 1323277260  isdst&#58; 0
140428 16&#58;49&#58;23 44788 cryptossl_ASN1toUTC&#58;  UTC&#58; 1796662860  isdst&#58; 0
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;Verify&#58; signature not OK
140428 16&#58;49&#58;23 44788 secgsi_VerifyCA&#58; Warning&#58; CA certificate not self-signed and integrity not checked&#58; assuming OK (82c2b224.0)
140428 16&#58;49&#58;23 44788 secgsi_LoadCRL&#58; target file&#58; /etc/grid-security/certificates/82c2b224.r0
140428 16&#58;49&#58;23 44788 cryptossl_X509Crl&#58;&#58;Init&#58; file /etc/grid-security/certificates/82c2b224.r0 does not exist - do nothing
140428 16&#58;49&#58;23 44788 cryptossl_X509Crl&#58;&#58;XrdCryptosslX509Crl_file&#58; could not initialize the CRL from /etc/grid-security/certificates/82c2b224.r0
140428 16&#58;49&#58;23 44788 secgsi_GetCA&#58; CRL is missing (CRLCheck&#58; 3)
140428 16&#58;49&#58;23 44788 secgsi_GetCA&#58; Querying cache for tag&#58; c7a717ce.0&#58;1 (timestamp&#58;1398718163, refresh fq&#58;86400)
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58; c7a717ce.0&#58;1
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
140428 16&#58;49&#58;23 44788 secgsi_GetCA&#58; trying to load CA certificate from /etc/grid-security/certificates/c7a717ce.0
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 6 extensions
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;IsCA&#58; CA certificate
140428 16&#58;49&#58;23 44788 cryptossl_X509ParseFile&#58; certificate for &#39;/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1&#39;added to the chain - ord&#58; 1
140428 16&#58;49&#58;23 44788 cryptossl_X509ParseFile&#58; no RSA private key found in file /etc/grid-security/certificates/c7a717ce.0
140428 16&#58;49&#58;23 44788 cryptossl_ASN1toUTC&#58;  UTC&#58; 1323277260  isdst&#58; 0
140428 16&#58;49&#58;23 44788 cryptossl_ASN1toUTC&#58;  UTC&#58; 1796662860  isdst&#58; 0
140428 16&#58;49&#58;23 44788 cryptossl_X509&#58;&#58;Verify&#58; signature not OK
140428 16&#58;49&#58;23 44788 secgsi_VerifyCA&#58; Warning&#58; CA certificate not self-signed and integrity not checked&#58; assuming OK (82c2b224.0)
140428 16&#58;49&#58;23 44788 secgsi_LoadCRL&#58; target file&#58; /etc/grid-security/certificates/c7a717ce.r0
140428 16&#58;49&#58;23 44788 cryptossl_X509Crl&#58;&#58;Init&#58; file /etc/grid-security/certificates/c7a717ce.r0 does not exist - do nothing
140428 16&#58;49&#58;23 44788 cryptossl_X509Crl&#58;&#58;XrdCryptosslX509Crl_file&#58; could not initialize the CRL from /etc/grid-security/certificates/c7a717ce.r0
140428 16&#58;49&#58;23 44788 secgsi_GetCA&#58; CRL is missing (CRLCheck&#58; 3)
140428 16&#58;49&#58;23 44788 secgsi_GetSrvCertEnt&#58; failed to load certificate for the issuing CA &#39;82c2b224.0|c7a717ce.0&#39;
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; problems loading srv cert
140428 16&#58;49&#58;23 44788 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0 active entries)
140428 16&#58;49&#58;23 44788 secgsi_ErrF&#58; no valid server certificate found
140428 16&#58;49&#58;23 44788 secgsi_Init&#58; Secgsi&#58; ErrError&#58; no valid server certificate found
Secgsi&#58; ErrError&#58; no valid server certificate found
=====&#62; sec.protocol /usr/lib64 gsi -d&#58;3 -certdir&#58;/etc/grid-security/certificates -cert&#58;/etc/grid-security/xrd/xrdcert.pem -key&#58;/etc/grid-security/xrd/xrdkey.pem -crl&#58;3
Config 1 authentication directives processed in /etc/xrootd/xrootd-clustered.cfg
------ Authentication system initialization failed.
140428 16&#58;49&#58;23 44788 XrootdConfig&#58; Unable to create security service object via /usr/lib64/libXrdSec.so
140428 16&#58;49&#58;23 44788 XrootdConfig&#58; Unable to load security system.
------ xrootd protocol initialization failed.
140428 16&#58;49&#58;23 44788 XrdProtocol&#58; Protocol xrootd could not be loaded

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=alverson/CN=370132/CN=George Alverson
</div><script type='text/javascript'>
        $('#show_1448513456').click(function() {
            $('#detail_1448513456').slideDown("normal");
            $('#show_1448513456').hide();
            $('#hide_1448513456').show();
        });
        $('#hide_1448513456').click(function() {
            $('#detail_1448513456').slideUp();
            $('#hide_1448513456').hide();
            $('#show_1448513456').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='19842#1398460875'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-25T21:21:15+00:00">Apr 25, 2014 09:21 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1398460875">&nbsp;</a></div><pre>Mat, can you take a look at this?</pre></div><div class='update_description'><i onclick="document.location='19842#1398185620'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-22T16:53:40+00:00">Apr 22, 2014 04:53 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1398185620">&nbsp;</a></div><pre>OK, I see nothing obviously wrong with the host certificate.. although I wonder if xrootd is somehow rejecting the host certificate because the CN doesn&#39;t match the actual hostname?

Software Team,

George is seeing following error message from xrootd.
<font color='#7F7E6F'>&#62; 40409 14&#58;06&#58;31 391 secgsi_GetSrvCertEnt&#58; failed to load certificate for the issuing CA &#39;82c2b224.0|c7a717c</font>

Can you help us troubleshoot this issue?</pre></div><div class='update_description'><i onclick="document.location='19842#1398184172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-22T16:29:32+00:00">Apr 22, 2014 04:29 PM UTC</time><a class="anchor" name="1398184172">&nbsp;</a></div><pre>Hi Soichi,

ls -la /etc/grid-security/xrd
total 16
drwxr-xr-x. 2 xrootd xrootd 4096 Apr  9 13&#58;51 .
drwxr-xr-x. 5 root   root   4096 Apr  9 13&#58;50 ..
-rw-------. 1 xrootd xrootd 1862 Apr  9 13&#58;51 xrdcert.pem
-r--------. 1 xrootd xrootd 1704 Apr  9 13&#58;26 xrdkey.pem

Thanks!
George

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=alverson/CN=370132/CN=George Alverson</pre></div><div class='update_description'><i onclick="document.location='19842#1398182688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-22T16:04:48+00:00">Apr 22, 2014 04:04 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1398182688">&nbsp;</a></div><pre>One more thing.. Can you copy & paste the output from &#34;ls -la /etc/grid-security/xrd&#34; ? I&#39;d like to check the file permissions.</pre></div><div class='update_description'><i onclick="document.location='19842#1398117688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-21T22:01:28+00:00">Apr 21, 2014 10:01 PM UTC</time><a class="anchor" name="1398117688">&nbsp;</a></div><pre>Hi,

I&#39;ve attached the requested files. Also, the files mentioned below are present in /etc/grid-security/certificates.

Thanks!
George

[Alverson@lhct3alv certificates]$  ls -al *82c2b224* *c7a717ce*
lrwxrwxrwx. 1 root root 28 Apr 13 19&#58;46 82c2b224.0 -&#62; DigiCertGridCA-1-Classic.pem
lrwxrwxrwx. 1 root root 35 Apr 13 19&#58;46 82c2b224.namespaces -&#62; DigiCertGridCA-1-Classic.namespaces
lrwxrwxrwx. 1 root root 39 Apr 13 19&#58;46 82c2b224.signing_policy -&#62; DigiCertGridCA-1-Classic.signing_policy
lrwxrwxrwx. 1 root root 28 Apr 13 19&#58;46 c7a717ce.0 -&#62; DigiCertGridCA-1-Classic.pem
lrwxrwxrwx. 1 root root 35 Apr 13 19&#58;46 c7a717ce.namespaces -&#62; DigiCertGridCA-1-Classic.namespaces
lrwxrwxrwx. 1 root root 39 Apr 13 19&#58;46 c7a717ce.signing_policy -&#62; DigiCertGridCA-1-Classic.signing_policy

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=alverson/CN=370132/CN=George Alverson</pre></div><div class='update_description'><i onclick="document.location='19842#1397846346'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-18T18:39:06+00:00">Apr 18, 2014 06:39 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1397846346">&nbsp;</a></div><pre>George,

Is it possible to attach your /etc/xrootd/xrootd-clustered.cfg and /etc/grid-security/xrd/xrdcert.pem?</pre></div><div class='update_description'><i onclick="document.location='19842#1397833390'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-18T15:03:10+00:00">Apr 18, 2014 03:03 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1397833390">&nbsp;</a></div><pre>Hi Chris,

I haven’t had any luck. I upgraded all the security packages, including the certs, and that didn’t help.

Cheers,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1397833185'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-18T14:59:45+00:00">Apr 18, 2014 02:59 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1397833185">&nbsp;</a></div><pre>Hello All,

Has anyone had any luck in figuring out what the issue is here? I&#39;m with Doug, I don&#39;t know enough about xrootd to be useful here.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1397087230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-09T23:47:10+00:00">Apr 9, 2014 11:47 PM UTC</time> by <b>doug johnson</b><a class="anchor" name="1397087230">&nbsp;</a></div><pre>Hi George,

I know next nothing about xrootd, so I probably don&#39;t have much to
offer.

There has been an update to osg-ca-certs in the past day (1.38-1), but I
doubt this is your problem.

You changed the hostname, did you make sure it got changed in all the
configuration files. You used to have to re-install the OSG software, but
I don&#39;t think this is the case any more. I assume that hostname returns
the correct value and that reverse DNS lookup is working properly?

Your files will be different, but on our CE I see&#58;

{root}&#62; grep heposg01 *
20-sge.ini&#58;job_contact = heposg01.colorado.edu/jobmanager-sge
20-sge.ini&#58;util_contact = heposg01.colorado.edu/jobmanager
30-rsv.ini&#58;gratia_collector = heposg01.colorado.edu&#58;1234
40-siteinfo.ini&#58;host_name = heposg01.colorado.edu

I would also mention that at Colorado we do not have an 82c2b224.ro (we
have the other 3 files), but we do have c7a717ce.r0&#58;

{root}&#62; ls -al *82c2b224* *c7a717ce*
lrwxrwxrwx 1 root root   28 Apr  9 00&#58;23 82c2b224.0 -&#62; DigiCertGridCA-1-Classic.pem
lrwxrwxrwx 1 root root   35 Apr  9 00&#58;23 82c2b224.namespaces -&#62; DigiCertGridCA-1-Classic.namespaces
lrwxrwxrwx 1 root root   39 Apr  9 00&#58;23 82c2b224.signing_policy -&#62; DigiCertGridCA-1-Classic.signing_policy
lrwxrwxrwx 1 root root   28 Apr  9 00&#58;23 c7a717ce.0 -&#62; DigiCertGridCA-1-Classic.pem
lrwxrwxrwx 1 root root   35 Apr  9 00&#58;23 c7a717ce.namespaces -&#62; DigiCertGridCA-1-Classic.namespaces
-rw-r--r-- 1 root root 3136 Apr  9 12&#58;46 c7a717ce.r0
lrwxrwxrwx 1 root root   39 Apr  9 00&#58;23 c7a717ce.signing_policy -&#62; DigiCertGridCA-1-Classic.signing_policy

doug

<div id='show_1922457226' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1922457226'>----------------------------------------------------------------------------
Doug Johnson                    email&#58; drjohn@....
B390, Duane Physics             (303)-492-4506 Office
Boulder, CO 80309               (303)-492-5119 FAX
<a href='http&#58;//www.aaccchildren.org' target='_blank' rel='nofollow'>http&#58;//www.aaccchildren.org</a>

What the world, needs now, is love, sweet love.
That&#39;s the only thing that there&#39;s much too little of.
----------------------------------------------------------------------------

On Wed, 9 Apr 2014, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1922457226').click(function() {
            $('#detail_1922457226').slideDown("normal");
            $('#show_1922457226').hide();
            $('#hide_1922457226').show();
        });
        $('#hide_1922457226').click(function() {
            $('#detail_1922457226').slideUp();
            $('#hide_1922457226').hide();
            $('#show_1922457226').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='19842#1397069422'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-09T18:50:22+00:00">Apr 9, 2014 06:50 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1397069422">&nbsp;</a></div><pre>Hi,

Certificates obtained using lhct3alv.neu.edu and installed. I’m now getting the error below when starting xrootd. Files corresponding to 82c2b224.0 and c7a717ce.0 are located in /etc/grid-security/certificates, installed by

osg-ca-certs.noarch     1.37-1.osg32.el6.

What do I do now?

Thanks,

George

40409 14&#58;06&#58;31 391 secgsi_GetSrvCertEnt&#58; failed to load certificate for the issuing CA &#39;82c2b224.0|c7a717c

e.0&#39;

140409 14&#58;06&#58;31 391 secgsi_Init&#58; problems loading srv cert

140409 14&#58;06&#58;31 391 secgsi_Init&#58; Secgsi&#58; ErrError&#58; no valid server certificate found

Secgsi&#58; ErrError&#58; no valid server certificate found

=====&#62; sec.protocol /usr/lib64 gsi -certdir&#58;/etc/grid-security/certificates -cert&#58;/etc/grid-security/xrd/xr

dcert.pem -key&#58;/etc/grid-security/xrd/xrdkey.pem -crl&#58;3

Config 1 authentication directives processed in /etc/xrootd/xrootd-clustered.cfg

------ Authentication system initialization failed.</pre></div><div class='update_description'><i onclick="document.location='19842#1396972215'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-08T15:50:15+00:00">Apr 8, 2014 03:50 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1396972215">&nbsp;</a></div><pre>Hi,

Actually, they’ve been sensitized and are removing the hyphens as well.

-George</pre></div><div class='update_description'><i onclick="document.location='19842#1396970286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-08T15:18:06+00:00">Apr 8, 2014 03:18 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1396970286">&nbsp;</a></div><pre>Dear Thomas,

I’ve requested our systems and networks people to institute a change from underscore to hyphen in the hostname.

Best,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1396966177'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-08T14:09:37+00:00">Apr 8, 2014 02:09 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1396966177">&nbsp;</a></div><pre>DNS hostnames officially can&#39;t contain underscores.  The labels (segments, separated by periods) of a hostname can contain letters (case-insensitive), numbers, and the hyphen character (&#34;-&#34;), but cannot begin with a hyphen.  No other characters are allowed.  Each label cannot exceed 63 characters, and the overall length of a hostname cannot exceed 255 characters, including the periods.

There are other types of record in DNS, and some of those are allowed to contain underscores (SRV records always use them), but hostnames cannot.

It sounds as if George&#39;s DNS admins went ahead and registered a hostname with an underscore in it.  DNS server software shouldn&#39;t allow that, but I suppose some software might be written with the assumption that the DNS admin using it will follow the standard.  Regardless, the standard doesn&#39;t allow underscores, so it&#39;s virtually guaranteed that if George has a registered hostname that somehow has an underscore in it, he will run into more problems elsewhere.  Any software that enforces the standard (RFC 1123) won&#39;t accept the hostname.</pre></div><div class='update_description'><i onclick="document.location='19842#1396901474'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-07T20:11:14+00:00">Apr 7, 2014 08:11 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1396901474">&nbsp;</a></div><pre>Hi Soichi,

Now that I know that some applications don’t like underscores, I’ll certainly avoid using any in the future, but I hesitate to pull out all the infrastructure we’ve built up using the current hostname…my head aches to consider it.

Let me speak with my networking folks and I’ll get back to you.

Best,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1396892769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-07T17:46:09+00:00">Apr 7, 2014 05:46 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1396892769">&nbsp;</a></div><pre>George,

I&#39;ve been discussing this issue with some OSG internal people. Although underscore can be used as part of hostname, some applications (like IE) won&#39;t function properly if underscore is used as part of the hostname. So, in general, it seems that we should avoid using underscore character altogether. Do you agree with such notion? If so, is it possible to change your hostname (lhc-t3_alv.neu.edu) to something that doesn&#39;t contain underscore?

Thanks,</pre></div><div class='update_description'><i onclick="document.location='19842#1396608490'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-04T10:48:10+00:00">Apr 4, 2014 10:48 AM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1396608490">&nbsp;</a></div><pre>Hi,

Using a san.conf file has managed to get the request into the system,  &#60;<a href='https&#58;//ticket.grid.iu.edu/goc/20439&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/20439&#62</a>; <a href='https&#58;//ticket.grid.iu.edu/goc/20439.' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/20439.</a> Now to see if it works…

Cheers,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1396603997'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-04T09:33:17+00:00">Apr 4, 2014 09:33 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1396603997">&nbsp;</a></div><pre>With the way it&#39;s validated, there is no way to circumvent the validation issue simply by quoting with some character.

We need to update the validation logic, or he might be able to use SAN to specify the real hostname while using a DNS alias for the CN. Depending on the type of application, SAN may or may not work but you could at least try it?

He can create a file named san.conf with something like following.

[req]
req_extensions = v3_req
distinguished_name = distinguished_name_req

[v3_req]
basicConstraints = CA&#58;FALSE
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
subjectAltName = @alt_names

[distinguished_name_req]
countryName                    = US
localityName                   = Bloomington
organizationalUnitName         = Indiana University
commonName                     = Soichi Hayashi
commonName_max                 = 64
emailAddress                   = hayashis@....
emailAddress_max               = 40

[alt_names]
DNS.1 = lhc-t3_alv.neu.edu

Then, run openssl tool with something like following to create the CSR.

umask 077; openssl req -new -newkey rsa&#58;2048 -nodes -keyout san.hostkey.pem -subj &#34;/CN=lhc-t3-alias.neu.edu&#34; -config san.conf

Most likely, though, we will need to update the validation logic for CN field to get this fixed properly.. Our next normal release window is 4/22, but will it be too late?

Thanks,</pre></div><div class='update_description'><i onclick="document.location='19842#1396557318'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-03T20:35:18+00:00">Apr 3, 2014 08:35 PM UTC</time><a class="anchor" name="1396557318">&nbsp;</a></div><pre>Hi,
Is there some quick workaround for George?
Can he escape the underscore in the hostname, or enclose the hostname in quotes, or...what?
thx,
Rob Snihur

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=snihur/CN=694458/CN=Robert Snihur</pre></div><div class='update_description'><i onclick="document.location='19842#1396556816'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-03T20:26:56+00:00">Apr 3, 2014 08:26 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1396556816">&nbsp;</a></div><pre>Removing Software from the ticket.</pre></div><div class='update_description'><i onclick="document.location='19842#1396556123'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-03T20:15:23+00:00">Apr 3, 2014 08:15 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1396556123">&nbsp;</a></div><pre>It looks like we need to adjust the CSR validator for host certificate request. We&#39;ve added a validator last year due to frequent issue with incorrect CN sent by users.
<font color='#7F7E6F'>&#62; <a href='https&#58;//jira.opensciencegrid.org/browse/OSGPKI-255' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/OSGPKI-255</a></font>

I have re-opened this Jira ticket and will discuss this with some people to see if underscore (and other characters?) should be allowed to be part of CN.</pre></div><div class='update_description'><i onclick="document.location='19842#1396534090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-03T14:08:10+00:00">Apr 3, 2014 02:08 PM UTC</time><a class="anchor" name="1396534090">&nbsp;</a></div><pre>Hi everyone,

Is there any news on this?

Thanks,
George

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=alverson/CN=370132/CN=George Alverson</pre></div><div class='update_description'><i onclick="document.location='19842#1396376263'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-01T18:17:43+00:00">Apr 1, 2014 06:17 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1396376263">&nbsp;</a></div><pre>Soichi,

Do you know or can you follow up with DigiCert and find out what is permitted for use in a CN during a submission process?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1396368437'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-01T16:07:17+00:00">Apr 1, 2014 04:07 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1396368437">&nbsp;</a></div><pre>Alain,

As per my comment below, the culprit appears to be the underscore from the hostname in the request. Since this happens in both the OIM web interface and the pki-tools, I believe it&#39;s something on the server side that&#39;s returning that error message. Plus, that error doesn&#39;t live anywhere in the PKI tools and seems to just be passing on the error returned from OIM.

I believe underscores should be ok in a CN so maybe there&#39;s too strict of a requirement when checking the CN?

- Brian</pre></div><div class='update_description'><i onclick="document.location='19842#1396348344'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-01T10:32:24+00:00">Apr 1, 2014 10:32 AM UTC</time> by <b>OSG RA</b><a class="anchor" name="1396348344">&nbsp;</a></div><pre>Brian,

Have you been able to determine why George&#39;s CN structure is invalid?  Any update you would be able to provide
is greatly appreciated.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1396018444'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-28T14:54:04+00:00">Mar 28, 2014 02:54 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1396018444">&nbsp;</a></div><pre>Yea, I just made two requests to the test instance. You can ignore those.</pre></div><div class='update_description'><i onclick="document.location='19842#1396018150'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-28T14:49:10+00:00">Mar 28, 2014 02:49 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1396018150">&nbsp;</a></div><pre>Hi Brian,

[Alverson@lhc-t3_alv ~]$ rpm -q openssl

openssl-1.0.1e-15.el6.x86_64

[Alverson@lhc-t3_alv ~]$ rpm -q osg-pki-tools

osg-pki-tools-1.2.7-1.osg32.el6.noarch

[Alverson@lhc-t3_alv ~]$ cat /etc/redhat/release

cat&#58; /etc/redhat/release&#58; No such file or directory

[Alverson@lhc-t3_alv ~]$ cat /etc/redhat-release

CentOS release 6.5 (Final)

Are you the origin of the cert request I just received? Should I do anything
about it?

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1396017871'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-28T14:44:31+00:00">Mar 28, 2014 02:44 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1396017871">&nbsp;</a></div><pre>George, what&#39;s the output of the following?

rpm -q openssl
rpm -q osg-pki-tools
cat /etc/redhat/release

I was able to reproduce the problem with the underscore in the hostname and it worked without the underscore. I don&#39;t believe this is a problem with the CLI tools since we&#39;re seeing the same error with the web interface.</pre></div><div class='update_description'><i onclick="document.location='19842#1395935151'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-27T15:45:51+00:00">Mar 27, 2014 03:45 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395935151">&nbsp;</a></div><pre>George,

I have not heard any response yet.  They&#39;ve been added to this ticket, so they see your entry as well as you will see their entry in response.

OSG Software Team,

Can you please see what is causing the &#34;CN structure is invalid, or contains invalid characters&#34; error message when George attempts to perform
osg-cert-request  -t lhc-t3_alv.neu.edu -e g.alverson@.... -n &#34;George Alverson&#34; -T --phone=&#34;617-529-0857&#34;
Your assistance is greatly appreciated.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395932350'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-27T14:59:10+00:00">Mar 27, 2014 02:59 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395932350">&nbsp;</a></div><pre>Hi Alain,

Nor do I!

Have you heard anything back from them?

Cheers,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395845649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-26T14:54:09+00:00">Mar 26, 2014 02:54 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395845649">&nbsp;</a></div><pre>George,

I&#39;ll add the OSG software team to this ticket to see if they can be of some assistance.  It&#39;s not obvious
to me what exactly is invalid about the CN.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395845230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-26T14:47:10+00:00">Mar 26, 2014 02:47 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395845230">&nbsp;</a></div><pre>Hi Alain,

Arrggh! Hair is being pulled here…

I don’t even feed in the certificate now, but just let osg-cert-request make one from the info on the command line, but it still doesn’t work. What is this? The underscore in the FQDN should be okay.

Cheers,

George

=========================================================

[Alverson@lhc-t3_alv meX]$ osg-cert-request  -t lhc-t3_alv.neu.edu -e g.alverson@.... -n &#34;George Alverson&#34; -T --phone=&#34;617-529-0857&#34;

Moving existing file hostkey.pem to hostkey-old.pem

Running in test mode

Writing key to ./hostkey.pem

Connecting to server...

The request has failed for the following reason&#58; CN structure is

invalid, or contains invalid characters.</pre></div><div class='update_description'><i onclick="document.location='19842#1395836473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-26T12:21:13+00:00">Mar 26, 2014 12:21 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395836473">&nbsp;</a></div><pre>George,

Running in test mode uses OIM-ITB and not OIM.  Domain neu.edu was not added in OIM-ITB so I added it.
You shouldn&#39;t get a failed message in test mode.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395797350'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-26T01:29:10+00:00">Mar 26, 2014 01:29 AM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395797350">&nbsp;</a></div><pre>Hi Alain,

Finally, some real information. There was no problem with the certificate when
running CSR checkers, but running the command line client osg-cert-request, I
get the following,

Running in test mode

The request has failed for the following reason&#58; The hostname you have

provided in the CSR/CN=lhc-t3_alv.neu.edu does not match any domain

OIM is currently configured to issue certificates for.  Please double

check the CN you have specified. If you&#39;d like to be a GridAdmin for

this domain, please open GOC Ticket at <a href='https&#58;//ticket.grid.iu.edu.' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu.</a>

I did register lhc-t3_alv.neu.edu and it shows up at
<a href='https&#58;//oim.grid.iu.edu/oim/resourceedit?id=617.' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/resourceedit?id=617.</a>

Now what?

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395774088'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T19:01:28+00:00">Mar 25, 2014 07:01 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395774088">&nbsp;</a></div><pre>George,

Do a search for CSR checker and enter your CSR.  It will return errors that you&#39;re running into that will need to be resolved.  Have you tried
requesting the host cert via command line client?  Here&#39;s the documentation link on how to do it&#58; <a href='https&#58;//twiki.grid.iu.edu/bin/view/Operations/OSGPKICommandlineClients' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Operations/OSGPKICommandlineClients</a>

-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395773234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T18:47:14+00:00">Mar 25, 2014 06:47 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395773234">&nbsp;</a></div><pre>Hi Alain,

Nope.  Still doesn’t work, even with Massachusetts.

Cheers,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395772540'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T18:35:40+00:00">Mar 25, 2014 06:35 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395772540">&nbsp;</a></div><pre>Looks like everything was filled in but the state will need to be spelled out.</pre></div><div class='update_description'><i onclick="document.location='19842#1395771461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T18:17:41+00:00">Mar 25, 2014 06:17 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395771461">&nbsp;</a></div><pre>Hi Alain,

Would those go in the subject as well, so that the example from <a href='https&#58;//oim.grid.iu.edu/oim/certificaterequesthost' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificaterequesthost</a>

umask 077; openssl req -new -newkey rsa&#58;2048 -nodes -keyout hostkey.pem -subj &#34;/CN=osg-ce.example.edu&#34;

would become for me

umask 077; openssl req -new -newkey rsa&#58;2048 -nodes -keyout hostkey.pem

where I let it prompt me for the required fields?...

I’ve done that (request and analysis below) but I still get the same error message.

Cheers,

George

Hostreq_to_be_signed.pem

-----BEGIN CERTIFICATE REQUEST-----

MIIDGjCCAgICAQAwgbIxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJNQTEPMA0GA1UE

BwwGQm9zdG9uMSAwHgYDVQQKDBdOb3J0aGVhc3Rlcm4gVW5pdmVyc2l0eTEeMBwG

A1UECwwVRGVwYXJ0bWVudCBvZiBQaHlzaWNzMRswGQYDVQQDDBJsaGMtdDNfYWx2

Lm5ldS5lZHUxJjAkBgkqhkiG9w0BCQEWF0dlb3JnZS5BbHZlcnNvbkBjZXJuLmNo

MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnjs6J2xkj2iGYFA76eHS

SdeHd/ZwG2DXthQylQ2kGDe8Nub82zATIMpNGNBRPAFR1KwqViuOlVZbJpUTk2Yz

KEEVLqrfSK8zWc84Ui7xWM688Ek0jaSjieTVnaOXxJAhifF7kUGGQPdMKMI677f7
<div id='show_1782771673' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1782771673'>
cBjzEwnQtBl/VUEWY2LCtoqK6TDwQ8FqBlpk6HitzvTEMX3+bmKS54fjRaVqg+88

DLZ6xTOjJD9+fkJBvYMBTHpW1H2FnkZJ0T34uUCoJqbUlKwnf/djIZyJP+PUcxD1

gKD8lYN6xAQVlKtjF9IdIb6fPTpf8Yy+emduU/BkYtsTiFTrQoLGg8WpZgt4Drf/

owIDAQABoCIwIAYJKoZIhvcNAQkHMRMMEXNldmVuLXRpbWVzLXNldmVuMA0GCSqG

SIb3DQEBBQUAA4IBAQBLuQqGPmMH4Ufzf3pLhekBcMvVSEIHcS7KqStyY19e3mF8

YwkAzG8FK8WkSx7VSnz2Q1yXtj2fFKIMPwGIShI6N4wXB4XGcVg13nZXOsB1sH42

HFRWg20BzlU5aeCk7QRn2df4vnkbcwm2k1JDK/+c1J94liXE05bdrJFAUaDn+Gft

q85m6PNh1xxLNIqrNnX53PIssWLjbX25G0yAcadLuPfyU990oL+d8+yi2sq4QZ1Z

QB2Do7CsZCdp2GgEuhvvU4emuBYDccPLBs8uCg4YSqlL8lTrb6Rbd6eAKvB1oVg5

Yr28vfaKSKg2EXqpdkzUMVjFelAlNA5eZRqUg6Xj

-----END CERTIFICATE REQUEST-----

[Alverson@lhc-t3_alv me3]$ openssl asn1parse -in hostreq_to_be_signed.pem

0&#58;d=0  hl=4 l= 794 cons&#58; SEQUENCE

4&#58;d=1  hl=4 l= 514 cons&#58; SEQUENCE

8&#58;d=2  hl=2 l=   1 prim&#58; INTEGER           &#58;00

11&#58;d=2  hl=3 l= 178 cons&#58; SEQUENCE

14&#58;d=3  hl=2 l=  11 cons&#58; SET

16&#58;d=4  hl=2 l=   9 cons&#58; SEQUENCE

18&#58;d=5  hl=2 l=   3 prim&#58; OBJECT            &#58;countryName

23&#58;d=5  hl=2 l=   2 prim&#58; PRINTABLESTRING   &#58;US

27&#58;d=3  hl=2 l=  11 cons&#58; SET

29&#58;d=4  hl=2 l=   9 cons&#58; SEQUENCE

31&#58;d=5  hl=2 l=   3 prim&#58; OBJECT            &#58;stateOrProvinceName

36&#58;d=5  hl=2 l=   2 prim&#58; UTF8STRING        &#58;MA

40&#58;d=3  hl=2 l=  15 cons&#58; SET

42&#58;d=4  hl=2 l=  13 cons&#58; SEQUENCE

44&#58;d=5  hl=2 l=   3 prim&#58; OBJECT            &#58;localityName

49&#58;d=5  hl=2 l=   6 prim&#58; UTF8STRING        &#58;Boston

57&#58;d=3  hl=2 l=  32 cons&#58; SET

59&#58;d=4  hl=2 l=  30 cons&#58; SEQUENCE

61&#58;d=5  hl=2 l=   3 prim&#58; OBJECT            &#58;organizationName

66&#58;d=5  hl=2 l=  23 prim&#58; UTF8STRING        &#58;Northeastern University

91&#58;d=3  hl=2 l=  30 cons&#58; SET

93&#58;d=4  hl=2 l=  28 cons&#58; SEQUENCE

95&#58;d=5  hl=2 l=   3 prim&#58; OBJECT            &#58;organizationalUnitName

100&#58;d=5  hl=2 l=  21 prim&#58; UTF8STRING        &#58;Department of Physics

123&#58;d=3  hl=2 l=  27 cons&#58; SET

125&#58;d=4  hl=2 l=  25 cons&#58; SEQUENCE

127&#58;d=5  hl=2 l=   3 prim&#58; OBJECT            &#58;commonName

132&#58;d=5  hl=2 l=  18 prim&#58; UTF8STRING        &#58;lhc-t3_alv.neu.edu

152&#58;d=3  hl=2 l=  38 cons&#58; SET

154&#58;d=4  hl=2 l=  36 cons&#58; SEQUENCE

156&#58;d=5  hl=2 l=   9 prim&#58; OBJECT            &#58;emailAddress

167&#58;d=5  hl=2 l=  23 prim&#58; IA5STRING         &#58;George.Alverson@....

192&#58;d=2  hl=4 l= 290 cons&#58; SEQUENCE

196&#58;d=3  hl=2 l=  13 cons&#58; SEQUENCE

198&#58;d=4  hl=2 l=   9 prim&#58; OBJECT            &#58;rsaEncryption

209&#58;d=4  hl=2 l=   0 prim&#58; NULL

211&#58;d=3  hl=4 l= 271 prim&#58; BIT STRING

486&#58;d=2  hl=2 l=  34 cons&#58; cont [ 0 ]

488&#58;d=3  hl=2 l=  32 cons&#58; SEQUENCE

490&#58;d=4  hl=2 l=   9 prim&#58; OBJECT            &#58;challengePassword

501&#58;d=4  hl=2 l=  19 cons&#58; SET

503&#58;d=5  hl=2 l=  17 prim&#58; UTF8STRING        &#58;seven-times-seven

522&#58;d=1  hl=2 l=  13 cons&#58; SEQUENCE

524&#58;d=2  hl=2 l=   9 prim&#58; OBJECT            &#58;sha1WithRSAEncryption

535&#58;d=2  hl=2 l=   0 prim&#58; NULL

537&#58;d=1  hl=4 l= 257 prim&#58; BIT STRING
</div><script type='text/javascript'>
        $('#show_1782771673').click(function() {
            $('#detail_1782771673').slideDown("normal");
            $('#show_1782771673').hide();
            $('#hide_1782771673').show();
        });
        $('#hide_1782771673').click(function() {
            $('#detail_1782771673').slideUp();
            $('#hide_1782771673').hide();
            $('#show_1782771673').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='19842#1395769703'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T17:48:23+00:00">Mar 25, 2014 05:48 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395769703">&nbsp;</a></div><pre>Soichi,

Do you know why George&#39;s CN lhc-t3_alv.neu.edu causes his host request submission to fail?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395769370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T17:42:50+00:00">Mar 25, 2014 05:42 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395769370">&nbsp;</a></div><pre>George,

When I run a check on your CSR I get the following message&#58;

Missing items&#58; Country, City/locality, Organization, Organizational unit, State/province
Your CSR does not contain the following items&#58; Country, City/locality, Organization, Organizational unit, State/province
Add these items and try again.

Is there any way you can correct that and generate another CSR?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395768398'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T17:26:38+00:00">Mar 25, 2014 05:26 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395768398">&nbsp;</a></div><pre>George,

Can you email me a copy of your CSR used in the screenshot you provided?
Please mail it to adeximo@.....

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395768119'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-25T17:21:59+00:00">Mar 25, 2014 05:21 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395768119">&nbsp;</a></div><pre>George,

Did you create your CSR as instructed in the link to the right (How can I generate a CSR?) of the CSR (PKCS10 Certificate Signing Request) field?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395690510'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-24T19:48:30+00:00">Mar 24, 2014 07:48 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1395690510">&nbsp;</a></div><pre>Adding the attachment from the email.

~Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1395664329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-24T12:32:09+00:00">Mar 24, 2014 12:32 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395664329">&nbsp;</a></div><pre>Hi Alain,

I put &#39;OSG GOC&#39; goc@.... &#60;mailto&#58;goc@....&#62;  in the CC, so it should be there…

Cheers,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395663976'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-24T12:26:16+00:00">Mar 24, 2014 12:26 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395663976">&nbsp;</a></div><pre>George,

I didn&#39;t get the screenshot because you replied back via the ticketing system email.  You&#39;ll need
to create a new email message and send the screenshot to goc@.....

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395608348'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-23T20:59:08+00:00">Mar 23, 2014 08:59 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395608348">&nbsp;</a></div><pre>Hi Alain,

Here it is. Please let me know if there’s anything else you’d like.

Best,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395608168'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-23T20:56:08+00:00">Mar 23, 2014 08:56 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395608168">&nbsp;</a></div><pre>Hi Alain,

IIRC, it was just the FQDN, lhc-t3_alv.neu.edu. This is what the admins
generated for us.

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395437361'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T21:29:21+00:00">Mar 21, 2014 09:29 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395437361">&nbsp;</a></div><pre>George,

Can you email OSG GOC &#60;goc@....&#62; with a screen capture of the error message as well?

-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395437224'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T21:27:04+00:00">Mar 21, 2014 09:27 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395437224">&nbsp;</a></div><pre>George,

What is the full CN for the host domain name you are trying to request?

-Alain</pre></div><div class='update_description'><i onclick="document.location='19842#1395432950'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:15:50+00:00">Mar 21, 2014 08:15 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1395432950">&nbsp;</a></div><pre>Hi George,

I am not sure what that error message means.I am going to add Alain Deximo to this ticket. Maybe he has see this error before. I would guess that there is some extra characters that might be causing this but I&#39;m not sure... Unfortunately I believe he has left for the day.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1395426433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T18:27:13+00:00">Mar 21, 2014 06:27 PM UTC</time><a class="anchor" name="1395426433">&nbsp;</a></div><pre>Dear GOC,
George was wondering if there&#39;s an answer for his problem.
Who is the relevant expert?
thx,
-Rob Snihur

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=snihur/CN=694458/CN=Robert Snihur</pre></div><div class='update_description'><i onclick="document.location='19842#1395329170'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T15:26:10+00:00">Mar 20, 2014 03:26 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395329170">&nbsp;</a></div><pre>Hi Chris,

I am now a grid admin and giving the host certificate creation one more try. I now get the message “CN structure is invalid or contains invalid characters”.

Thanks  in advance,

George

From&#58; George Alverson
Sent&#58; Tuesday, March 18, 2014 2&#58;44 PM
To&#58; &#39;osg@....&#39;
Subject&#58; RE&#58; Open Science Grid&#58; old certificate? ISSUE=19842 PROJ=71

Hi Chris,

I’d be happy to, once I get I get everything straightened out. Is there some place where I can find out what the status is for my GA certification so I can get the host cert? I thought it was going to be Monday.

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395168433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-18T18:47:13+00:00">Mar 18, 2014 06:47 PM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1395168433">&nbsp;</a></div><pre>Hi Chris,

I’d be happy to, once I get I get everything straightened out. Is there some place where I can find out what the status is for my GA certification so I can get the host cert? I thought it was going to be Monday.

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1395167761'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-18T18:36:01+00:00">Mar 18, 2014 06:36 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1395167761">&nbsp;</a></div><pre>George,

Could you update this ticket once you have a host cert for your resource?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1394637397'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-12T15:16:37+00:00">Mar 12, 2014 03:16 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1394637397">&nbsp;</a></div><pre>Set this to closed by mistake undoing that now.</pre></div><div class='update_description'><i onclick="document.location='19842#1394637275'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-12T15:14:35+00:00">Mar 12, 2014 03:14 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1394637275">&nbsp;</a></div><pre>I have added USCMS_Tier 3 support to this ticket as well. Sorry I missed that in Tony&#39;s previous update. I am working with George in another ticket to help him gain access to OIM.</pre></div><div class='update_description'><i onclick="document.location='19842#1394467960'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-10T16:12:40+00:00">Mar 10, 2014 04:12 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1394467960">&nbsp;</a></div><pre>I have updated the related ticket on this. George should be able to preform the necessary actions soon.

~Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1394030710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-05T14:45:10+00:00">Mar 5, 2014 02:45 PM UTC</time> by <b>doug johnson</b><a class="anchor" name="1394030710">&nbsp;</a></div><pre>Hi George,

On the page that gives you the error about duplicate email address,
there should be a note about filing a ticket to have the DN associated
with that email changed. Click the link and file a different ticket to
get the association changed. Be sure to include your DN in the text of
the ticket.

Hope this helps,
doug

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='19842#1393995248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-05T04:54:08+00:00">Mar 5, 2014 04:54 AM UTC</time> by <b>george.alverson@....</b><a class="anchor" name="1393995248">&nbsp;</a></div><pre>Hi Rob,

I have a valid user certificate from CERN. I go to <a href='https&#58;//oim.grid.iu.edu' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu</a> and get the “Your certificate is not yet registered with OIM” message. I then try to register it, and get the message “The email address specified is already associated with a different non-disabled DN. Please try a different email  address.” I take it this is my old D0 address. I don’t use a different email  address, however, just my CERN one, and would like to get my current CMS cert accepted.

Is there some way to do that so I can proceed to the GridAdmin request?

Thanks,

George</pre></div><div class='update_description'><i onclick="document.location='19842#1393967710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-04T21:15:10+00:00">Mar 4, 2014 09:15 PM UTC</time><a class="anchor" name="1393967710">&nbsp;</a></div><pre>Hi George,
I understand you want a new host certificate for a node at NEU.
It also appears that your user certificate is expired.
I suggest getting a new user certificate before getting the new host certificate.

If you are a member of CMS, then should get a new user certificate
from CERN (as Anthony says) -- not from the OSG&#39;s OIM (as Chris says).
See here for instructions&#58;
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/OSGPKITransition' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/OSGPKITransition</a>
which will lead you to&#58;
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/EndUsers' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/EndUsers</a>

To get a new host certificate, the first URL above will lead you to&#58;
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/SysAdmins' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/SysAdmins</a>
After some more clicks, you will be in OIM and you will need to
request to be a GridAdmin as Chris says.

If you have any questions whatsoever with these instructions,
please ask.

thx,
-Rob Snihur

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=snihur/CN=694458/CN=Robert Snihur</pre></div><div class='update_description'><i onclick="document.location='19842#1393946352'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-04T15:19:12+00:00">Mar 4, 2014 03:19 PM UTC</time> by <b>Anthony Tiradani</b><a class="anchor" name="1393946352">&nbsp;</a></div><pre>Hi,

Actually, if you are a CMS person, please obtain your certificate from CERN.  I am CC&#39;ing Rob Snihur and Doug Johnson on this ticket.  I believe that they should be able to walk you through the process.

Also, Chris, please assign this ticket to the USCMS Tier-3 support center as well.  Don&#39;t remove it from the FNAL (Prod) exchange or it will create an orphan ticket on our end which we cannot close.

Thanks,

Anthony Tiradani</pre></div><div class='update_description'><i onclick="document.location='19842#1393945497'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-04T15:04:57+00:00">Mar 4, 2014 03:04 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1393945497">&nbsp;</a></div><pre>Hi George,

Could you please go here <a href='https&#58;//oim.grid.iu.edu/oim/certificaterequestuser' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificaterequestuser</a> and request a user cert? Then you will need to visit  <a href='https&#58;//oim.grid.iu.edu/oim/gridadmin' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/gridadmin</a> and request to be a GridAdmin for your domain. From there you should be able to request a host cert for lhc-t3_alv.neu.edu. Please let me know when you are able to or have requested your host cert and I will close this ticket. Additionally if you have any more question please feel free to ask.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1393945099'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-04T14:58:19+00:00">Mar 4, 2014 02:58 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1393945099">&nbsp;</a></div><pre>George,

I am looking into this now. I will have an update for you shortly.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='19842#1393771506'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-02T14:45:06+00:00">Mar 2, 2014 02:45 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1393771506">&nbsp;</a></div><pre>Hi,

I need to get a host certificate for CMS T3_US_NEU, hostname lhc-t3_alv.neu.edu. I think this is the correct organization to issue it, but it looks like I have an old certificate attached to my name, probably from D0 days, and so I can&#39;t register the request using my CERN certificate. Could you please tell me what I need to do?

Thanks,
George Alverson
Northeastern Univeristy

by George Alverson (guest)</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F19842">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 19842});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
