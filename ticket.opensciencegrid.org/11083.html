<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[11083] Is there a defined procedure of correcting incorrect VO name in Gratia</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=11083" method="post">
<div class="page-header">
    <h3><span class="muted">11083</span> / Is there a defined procedure of correcting incorrect VO name in Gratia</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">John Weigand</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/other</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">John Weigand</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-12-07</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/11083", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='11083#1327590578'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-01-26T15:09:38+00:00">Jan 26, 2012 03:09 PM UTC</time><a class="anchor" name="1327590578">&nbsp;</a></div><pre>Scott,

This can be closed.

John Weigand

-- by John Weigand</pre></div><div class='update_description'><i onclick="document.location='11083#1326477107'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-01-13T17:51:47+00:00">Jan 13, 2012 05:51 PM UTC</time><a class="anchor" name="1326477107">&nbsp;</a></div><pre>I&#39;m happy/content.

John

-- by John Weigand</pre></div><div class='update_description'><i onclick="document.location='11083#1326476363'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-01-13T17:39:23+00:00">Jan 13, 2012 05:39 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1326476363">&nbsp;</a></div><pre>looks good to me. Scott.</pre></div><div class='update_description'><i onclick="document.location='11083#1326473158'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-01-13T16:45:58+00:00">Jan 13, 2012 04:45 PM UTC</time><a class="anchor" name="1326473158">&nbsp;</a></div><pre>Based on the discussions which occurred in December at the Face To Face meeting I believe
the responsibilities have now been identified and the following procedure should be followed&#58;
Please comment if you think this set of procedures is acceptable.

1) Gratia operations staff will look at the weekly VOs discrepancy report,
a standalone E-mail that details the unregistered VOs that are reporting and
also the VO&#39;s that are not reporting at all.

2) We will identify unregistered VO&#39;s that appear to be caused by misconfigured
sites and open GOC tickets with the sites accordingly.  The largest number of
unknown VO&#39;s come from sites that mistakenly report local user non-OSG jobs
to Gratia.  The first priority of Gratia operations will be to stop new garbage reports from coming.

3) John Weigand has developed and delivered to Gratia operations a set of SQL scripts
which can select out garbage VO&#39;s and remove the data from the summary tables for
those VO&#39;s.  The first set of garbage VO&#39;s that we will apply this script to
are the 85 TG-xxxxxxxx VO&#39;s which were mistakenly dumped into Gratia this summer by Purdue-Steele.
We will take corrective actions like this as effort permits.  If OSG Management identifies
a particular set of VO&#39;s for which correction is a priority they can ask for increased priority.

4) We will also monitor on a weekly basis large influxes from the &#34;Unknown&#34; VO
and identify where they come from and get the site to stop them, and then purge them
as time and effort permit.

5) We have feature requests in the OSG software JIRA for additions to Gratia to automate
the case of uppercase/lowercase VO duplication.  There is also a patch available from
the developers to beat the worst bug in the PBS probe which is responsible for cms0, cms1,cms2,
grid14,grid15,grid16,grid17, which accounts for the bulk of the hours of junk vo&#39;s reported.

If this basic procedure is acceptable to all, please respond in the affirmative and we can close this ticket
and address the concerns on an individual basis.  Please comment.

Steve Timm

-- by Steve Timm
<div id='show_91760146' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_91760146'>
</div><script type='text/javascript'>
        $('#show_91760146').click(function() {
            $('#detail_91760146').slideDown("normal");
            $('#show_91760146').hide();
            $('#hide_91760146').show();
        });
        $('#hide_91760146').click(function() {
            $('#detail_91760146').slideUp();
            $('#hide_91760146').hide();
            $('#show_91760146').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='11083#1322666604'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-30T15:23:24+00:00">Nov 30, 2011 03:23 PM UTC</time> by <b>echism</b><a class="anchor" name="1322666604">&nbsp;</a></div><pre>John,

I&#39;m going to pass this to Scott as he does most of the reporting stuff as far as GOC involvement. It was my previous understanding that you were more interested in the FNAL end.

Scott,

Please take a look at this.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='11083#1321931957'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-22T03:19:17+00:00">Nov 22, 2011 03:19 AM UTC</time><a class="anchor" name="1321931957">&nbsp;</a></div><pre>Steve,

Unfortunately, that doesn&#39;t really address the reason for the
the ticket.  It just resolves one of the causes.

Seems like the goc should be involved here to really address the
question.

John Weigand

-- by John Weigand</pre></div><div class='update_description'><i onclick="document.location='11083#1321929415'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-22T02:36:55+00:00">Nov 22, 2011 02:36 AM UTC</time><a class="anchor" name="1321929415">&nbsp;</a></div><pre>I know that Tanya prepared a patch for the PBS site bug which has been distributed
to a couple of big PBS sites including ours.  Haven&#39;t heard anything else since then.

Steve Timm

-- by Steve Timm</pre></div><div class='update_description'><i onclick="document.location='11083#1321929411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-22T02:36:51+00:00">Nov 22, 2011 02:36 AM UTC</time><a class="anchor" name="1321929411">&nbsp;</a></div><pre>I know that Tanya prepared a patch for the PBS site bug which has been distributed
to a couple of big PBS sites including ours.  Haven&#39;t heard anything else since then.

Steve Timm

-- by Steve Timm</pre></div><div class='update_description'><i onclick="document.location='11083#1321545433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-17T15:57:13+00:00">Nov 17, 2011 03:57 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1321545433">&nbsp;</a></div><pre>This is an automatic reply.

I will be on business travel and away from the laboratory from Nov 13-18.  I will have access to E-mail but my time to
respond to it will be limited.  I will return to the lab on Nov. 21.  If you have any issues that require the attention of the FermiGrid Services Group, please contact the Service Desk at 630 840 2345 or <a href='http&#58;//servicedesk.fnal.gov.' target='_blank' rel='nofollow'>http&#58;//servicedesk.fnal.gov.</a>

Steve Timm</pre></div><div class='update_description'><i onclick="document.location='11083#1321545356'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-17T15:55:56+00:00">Nov 17, 2011 03:55 PM UTC</time> by <b>echism</b><a class="anchor" name="1321545356">&nbsp;</a></div><pre>There are no updates in the JIRA ticket, is there anything new on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='11083#1320423249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-04T16:14:09+00:00">Nov 4, 2011 04:14 PM UTC</time><a class="anchor" name="1320423249">&nbsp;</a></div><pre>Well, I may have miss-fired on this in terms of the urgency.
I am not seeing the numbers affecting WLCG reportable sites that
I thought I saw yesterday for October.

This still remains an issue in terms of what process is in  place
to monitor these problems.

Sorry about that.
John Weigand

-- by John Weigand</pre></div><div class='update_description'><i onclick="document.location='11083#1320334683'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-11-03T15:38:03+00:00">Nov 3, 2011 03:38 PM UTC</time><a class="anchor" name="1320334683">&nbsp;</a></div><pre>This ticket now needs to be elevated to an operational issue for gratia-operations.

There is a JIRA issue related to the PBS probes reporting the wrong VO to Gratia&#58;
<a href='https&#58;//jira.opensciencegrid.org/browse/GRATIA-17' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/GRATIA-17</a>

This is getting more widespread and is having an affect on the data being sent
by Gratia to APEL/WLCG for monthly MOU metrics.

The October MOU reports are generated based on EGI data on the 8th of the month.
So, we need to address this in the next couple days.  I am most concerned
about the VO for UForida-HPC as they are a WLCG reportable site.

This query should be able to identify most of the VO names that can easily
be corrected as the ReportableVOName appears good.
The query does exclude those with a ReportableVOName = &#34;NULL&#34; so their
are many, many more where the VO is not as easily identifiable.

John Weigand

SELECT
Probe.ProbeName,
Site.SiteName AS Site,
VO.VOName as GratiaVO,
VC.ReportableVOName,
VC.VOName as ProbeVO,
--   date_format(EndTime,&#34;%Y-%m&#34;)   as DateValue,
Sum(NJobs),
Round(Sum(CpuUserDuration+CpuSystemDuration)/3600) as SumCPU,
Round(Sum(WallDuration)/3600) as SumWCT
FROM
Site,
Probe,
MasterSummaryData Main,
VONameCorrection VC,
VO
<div id='show_2124358773' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2124358773'>where
Site.siteid = Probe.siteid
and (Probe.ProbeName like &#34;lsf%&#34; or Probe.ProbeName like &#34;pbs%&#34;)
and Probe.ProbeName  = Main.ProbeName
and  &#34;2011-01-01 00&#58;00&#58;00&#34; &#60;= Main.EndTime and Main.EndTime &#60; &#34;2012-01-01 00&#58;00&#58;00&#34;
and Main.ResourceType = &#34;Batch&#34;
and Main.VOCorrid = VC.corrid
and VC.VOName not like &#34;%Role=%&#34;
and VC.VOid = VO.VOid
and VO.VOName not in (&#34;cms&#34;, &#34;glow&#34;, &#34;gluex&#34;, &#34;fermilab&#34;, &#34;dzero&#34;,&#34;hcc&#34;,
&#34;usatlas&#34;, &#34;alice&#34;, &#34;ligo&#34;, &#34;nanohub&#34;,&#34;gridunesp&#34;,
&#34;dosar&#34;, &#34;engage&#34;, &#34;geant4&#34;,&#34;nwicg&#34;,&#34;osgedu&#34;,
&#34;suragrid&#34;,&#34;sbgrid&#34;,&#34;nysgrid&#34;,&#34;sagrid&#34;,&#34;cdf&#34;,
&#34;superbvo.org&#34;, &#34;star&#34;, &#34;gpn&#34;, &#34;nebiogrid&#34;,&#34;belle&#34;,
&#34;osg&#34;,&#34;ops&#34;,&#34;icecube&#34;)
and VC.ReportableVOName not in (&#34;NULL&#34;)
group by
Probe.ProbeName,
Site,
GratiaVO,
VC.ReportableVOName,
ProbeVO
--   DateValue

-- by John Weigand

</div><script type='text/javascript'>
        $('#show_2124358773').click(function() {
            $('#detail_2124358773').slideDown("normal");
            $('#show_2124358773').hide();
            $('#hide_2124358773').show();
        });
        $('#hide_2124358773').click(function() {
            $('#detail_2124358773').slideUp();
            $('#hide_2124358773').hide();
            $('#show_2124358773').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='11083#1319473627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-24T16:27:07+00:00">Oct 24, 2011 04:27 PM UTC</time> by <b>Dan Yocum</b><a class="anchor" name="1319473627">&nbsp;</a></div><pre>No update, yet.

I&#39;ve been busy working on other more pressing gratia issues.  When those
tasks are done, we&#39;ll look more closely at this.

--
Dan Yocum
Fermilab  630.840.6509
yocum@...., <a href='http&#58;//fermigrid.fnal.gov' target='_blank' rel='nofollow'>http&#58;//fermigrid.fnal.gov</a>
&#34;I fly because it releases my mind from the tyranny of petty things.&#34;</pre></div><div class='update_description'><i onclick="document.location='11083#1319472401'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-24T16:06:41+00:00">Oct 24, 2011 04:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1319472401">&nbsp;</a></div><pre>Are there any updates on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='11083#1318526001'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-13T17:13:21+00:00">Oct 13, 2011 05:13 PM UTC</time> by <b>echism</b><a class="anchor" name="1318526001">&nbsp;</a></div><pre>Are there any updates on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='11083#1317840432'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-05T18:47:12+00:00">Oct 5, 2011 06:47 PM UTC</time><a class="anchor" name="1317840432">&nbsp;</a></div><pre>-- by Dan Yocum</pre></div><div class='update_description'><i onclick="document.location='11083#1317829158'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-05T15:39:18+00:00">Oct 5, 2011 03:39 PM UTC</time> by <b>echism</b><a class="anchor" name="1317829158">&nbsp;</a></div><pre>Keith,

I&#39;ll make a new ticket for #4.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='11083#1317761277'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-04T20:47:57+00:00">Oct 4, 2011 08:47 PM UTC</time><a class="anchor" name="1317761277">&nbsp;</a></div><pre>Several comments&#58;

1. If this is an issue of concern, it should not be buried in a weekly report,
it should be clearly identified as an exception condition message that is
handled independently.

2. A portion of these issues [Engage vs. engage, LIGO vs. ligo] should be
automatically handled by the Gratia infrastructure by performing a
&#34;lowercase&#34; operation on the VO name.

3. While FermiGrid operates the Gratia service, some of these VO remapping
decisions should be made by OSG management, others should be performed
by the site before the probe uploads the data.

4. I again call for the publication of a &#34;successful Gratia report&#34;
probe in site RSV information as a non-critical metric.

-Keith.

-- by Keith Chadwick</pre></div><div class='update_description'><i onclick="document.location='11083#1317674618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-03T20:43:38+00:00">Oct 3, 2011 08:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1317674618">&nbsp;</a></div><pre>[by John Weigand]

This is a general question and not an immediate operational issue.  At least not yet.

As a part of the Gratia/WLCG interface, I was looking at Gratia data for Purdue-Hansen which is intended to be a part of that interface.  What I observed is that some of the data for CMS was showing up as cms0,cms1,etc instead of just cms. If not corrected we will start under-reporting the data.  Then I noticed that the issue went beyond just these.

There is a daily and weekly emailed report from Gratia that identifies these discrepancies titled&#58;
&#34;WeeklyReport from the job level Gratia db for 02 October 2011&#34;
and it shows among a slew of other stuff...

The non-registered VOs with recent activity are&#58;
Engage, auger, c670, cms0, cms1, cms2, external, gabi, ghan, glideinwms, grid14, grid16, grid17, jmb, ou2, renci, rsvuser, scidac, superbvo.org, sura0, webportal

Who looks at this and takes action when these occur?  It does not appear to be
happening.  Since the Gratia/WLCG interface is only concerned with cms, atlas and alice VOs, it currently is only having a minor affect on the data reported.  It was only by accident that I noticed these.

There is a bunch of other discrepancies in that report which should likely be straightened out as they occur.

Is there any defined procedure for monitoring these?

Thanks
John Weigand</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F11083">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
