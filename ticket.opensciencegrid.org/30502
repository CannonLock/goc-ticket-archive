<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30502] all jobs for ATLAS (opportunistic usage) failing at TUSKER due not enough disk space</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30502" method="post">
<div class="page-header">
    <h3><span class="muted">30502</span> / all jobs for ATLAS (opportunistic usage) failing at TUSKER due not enough disk space</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jose Caballero</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Tusker-CE1</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">HCC</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jose Caballero</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Community Support Center</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-07-27</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30502", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30502?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30502?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20all%20jobs%20for%20ATLAS%20%28opportunistic%20usage%29%20failing%20at%20TUSKER%20due%20not%20enough%20disk%20space%20ISSUE%3D30502%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30502#1469638743'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T16:59:03+00:00">Jul 27, 2016 04:59 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1469638743">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='30502#1469544610'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-26T14:50:10+00:00">Jul 26, 2016 02:50 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1469544610">&nbsp;</a></div><pre>OK. Now it is working. My pilots are running.
Doing nothing useful, but that is my problem. I will need to work on that.

I think this ticket can be closed.
Thanks a lot!!

Cheers,
Jose

On 07/25/2016 03&#58;35 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1469475310'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-25T19:35:10+00:00">Jul 25, 2016 07:35 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1469475310">&nbsp;</a></div><pre>The new certificate wasn’t recognized by the HTCondor-CE.  We have fixed the issue, try re-submitting.

-Derek

<font color='#7F7E6F'>&#62; On Jul 25, 2016, at 2&#58;20 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1469474410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-25T19:20:10+00:00">Jul 25, 2016 07:20 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1469474410">&nbsp;</a></div><pre>From my side, everything is still the same&#58; Detected Down Grid Resource
(which may means a hundred different things).

[root@gridui18 autopyfactory]# cat
/home/autopyfactory/factory/logs/2016-07-25/ATLAS_OPP_OSG-TUSKER/12069963.0.log
000 (12069963.000.000) 07/25 11&#58;46&#58;00 Job submitted from host&#58;
&#60;192.12.15.97&#58;27957&#62;
...
020 (12069963.000.000) 07/25 11&#58;46&#58;08 Detected Down Globus Resource
RM-Contact&#58; tusker-gw1.unl.edu
...
026 (12069963.000.000) 07/25 11&#58;46&#58;08 Detected Down Grid Resource
GridResource&#58; condor tusker-gw1.unl.edu tusker-gw1.unl.edu&#58;9619
...

On 07/25/2016 03&#58;13 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1469473994'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-25T19:13:14+00:00">Jul 25, 2016 07:13 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1469473994">&nbsp;</a></div><pre>Hello All,

Does anyone have an update on this? Let me know if I can do anything to help.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='30502#1468772591'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-17T16:23:11+00:00">Jul 17, 2016 04:23 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1468772591">&nbsp;</a></div><pre>still getting the “detected down grid resource” message…

On Jul 14, 2016, at 2&#58;53 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='30502#1468522392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-14T18:53:12+00:00">Jul 14, 2016 06:53 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1468522392">&nbsp;</a></div><pre>Bad timing.  Host cert expired at noon today.  It’s new renewed now, you should be good.

-Derek

<font color='#7F7E6F'>&#62; On Jul 14, 2016, at 1&#58;34 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1468521292'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-14T18:34:52+00:00">Jul 14, 2016 06:34 PM UTC</time><a class="anchor" name="1468521292">&nbsp;</a></div><pre>Well... now the jobs don&#39;t even pass the CE&#58;

$ cat 11925119.0.log
000 (11925119.000.000) 07/14 14&#58;31&#58;21 Job submitted from host&#58; &#60;192.12.15.97&#58;27957&#62;
...
020 (11925119.000.000) 07/14 14&#58;31&#58;33 Detected Down Globus Resource
RM-Contact&#58; tusker-gw1.unl.edu
...
026 (11925119.000.000) 07/14 14&#58;31&#58;33 Detected Down Grid Resource
GridResource&#58; condor tusker-gw1.unl.edu tusker-gw1.unl.edu&#58;9619
...

I guess Derek banned me, right?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><div class='update_description'><i onclick="document.location='30502#1468520536'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-14T18:22:16+00:00">Jul 14, 2016 06:22 PM UTC</time><a class="anchor" name="1468520536">&nbsp;</a></div><pre>OK. I am going to submit to this site changing working directory to $OSG_WN_TMP, and see how it goes.
I will be back and give feedback as soon as some job finished.

Jose

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><div class='update_description'><i onclick="document.location='30502#1468445711'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-13T21:35:11+00:00">Jul 13, 2016 09:35 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1468445711">&nbsp;</a></div><pre>Ok.  Our clusters are designed with OSG usage in mind, ie, OSG_WN_TMP is where you can write files.  The directory that you land in is not guaranteed to be large.  Since the vast majority of our usage is GlideinWMS based, and it will automatically use OSG_WN_TMP, this configuration makes sense.

It sounds like Tusker and Crane clusters are not usable to Atlas because they do not use OSG_WN_TMP.  Note, we are not running Condor, but those clusters are running Slurm.

If you want to modify your setup to always place jobs under OSG_WN_TMP, that would work for us.

-Derek

<font color='#7F7E6F'>&#62; On Jul 13, 2016, at 4&#58;09 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1468444157'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-13T21:09:17+00:00">Jul 13, 2016 09:09 PM UTC</time><a class="anchor" name="1468444157">&nbsp;</a></div><pre>OK... now I can provide for some extra info.

(1) the ATLAS jobs run wherever the local batch system places them. They do not move to TMP directory to run. So the path where condor puts the jobs at the very beginning, there is where they run.
And that is the place they check for disk space.

(2) redirecting variables like OSG_TMP_DIR to the working directory was a quick & dirty trick done (by myself) to run ATLAS jobs opportunistically on OSG sites.
Reason is that sometimes the jobs writes a small file, very small, under $TMP/&#60;user&#62;/, and not always that &#60;user&#62; is well defined. Sometimes even that sub-directory already exists, but it is not writable by the current process.
So to bypass those problems I did that trick of pointing $TMP, $TMPDIR, $OSG_WN_TMP... to current working directory.
But, as I said, they are being used just to write very small files. So even if I don&#39;t do that, the total amount of space I would be using from tmp is very reduced.

You say you have a lot of free space under /scratch/. But because ATLAS jobs do not change working directory, we don&#39;t get advantage of that.

Now what?
If the site is not usable for ATLAS, that is OK. No big deal. Just let me know and I will stop submission.
Another option is to modify the local condor setup so jobs are always placed under /scratch/ to run. What about that?

Comments are more than welcome.
Cheers,
Jose

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><div class='update_description'><i onclick="document.location='30502#1468259889'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-11T17:58:09+00:00">Jul 11, 2016 05:58 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1468259889">&nbsp;</a></div><pre>I am waiting for the ATLAS experts to find out which directory exactly
they are worried about and checking for free space.
I will be provide for more info when I have it.

Cheers,
Jose

On 07/11/2016 01&#58;24 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1468257865'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-11T17:24:25+00:00">Jul 11, 2016 05:24 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1468257865">&nbsp;</a></div><pre>Hello All,

Any new information on this?</pre></div><div class='update_description'><i onclick="document.location='30502#1468000029'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-08T17:47:09+00:00">Jul 8, 2016 05:47 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1468000029">&nbsp;</a></div><pre>I need to ask the expert on the ATLAS jobs, to be sure which dir it is
being tested .
I will be back as soon as I find more info.

Jose

On 07/07/2016 10&#58;38 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30502#1467912365'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T17:26:05+00:00">Jul 7, 2016 05:26 PM UTC</time><a class="anchor" name="1467912365">&nbsp;</a></div><pre>The pasted log entry below omitted the &#34;OSG_WN_TMP&#34; variable. Trying again&#58;

2016-07-07 12&#58;00&#58;18,840 (UTC) - wrapper.sh&#58; [ INFO ]&#58;  changing TMP TMPDIR and OSG_WN_TMP variables to /var/lib/globus/condor-ce/spool/68/0/cluster3360068.proc0.subproc0/home_bl_tusker-gw1.unl.edu_9619_tusker-gw1.unl.edu#3360147.0#1467892107

-John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Thiltges 819</pre></div><div class='update_description'><i onclick="document.location='30502#1467903563'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T14:59:23+00:00">Jul 7, 2016 02:59 PM UTC</time><a class="anchor" name="1467903563">&nbsp;</a></div><pre>Hi Jose,

The OSG_WN_TMP variable points to a /scratch folder on the worker nodes with &#62;1TB available. We found the _condor_stdout for one of the ATLAS jobs on Tusker. The wrapper script output suggest it&#39;s changing the paths for TMPDIR and OSG_WN_TMP. Is this intended?

2016-07-07 12&#58;00&#58;18,840 (UTC) - wrapper.sh&#58; [ INFO ]&#58;  changing TMP TMPDIR and  variables to /var/lib/globus/condor-ce/spool/68/0/cluster3360068.proc0.subproc0/home_bl_tusker-gw1.unl.edu_9619_tusker-gw1.unl.edu#3360147.0#1467892107

Best regards,
John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Thiltges 819</pre></div><div class='update_description'><i onclick="document.location='30502#1467902283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T14:38:03+00:00">Jul 7, 2016 02:38 PM UTC</time><a class="anchor" name="1467902283">&nbsp;</a></div><pre>Jose -- what path do the ATLAS jobs check space on? According to the Tusker admins the ~4.9GB you referenced sounds a lot like a /var/lib/globus NFS share we have due to how our condor-ce and SLURM schedulers interact. Guessing the jobs are testing the directory they land in rather than the actual OSG_WN_TMP path where they run, which should have plenty of space (currently all nodes have &#62; 1TB scratch it seems).

Best we can tell the OSG_WN_TMP is being correctly set to /scratch so the directory jobs actually run in should have plenty of space. FWIW we also have per-job tmp directories which are in that same /scratch space. Jobs end up with an actual path of something like OSG_WN_TMP=/scratch/glide_oMSi41/execute/dir_7703 when running.

Guessing your testing where the job lands and not where it actually runs - does that make sense with what you&#39;re seeing?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='30502#1467899589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T13:53:09+00:00">Jul 7, 2016 01:53 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1467899589">&nbsp;</a></div><pre>right now I am not.
I could, if that helps. Assuming the site has WNs of that size...

Jose

On Jul 7, 2016, at 9&#58;37 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='30502#1467898660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T13:37:40+00:00">Jul 7, 2016 01:37 PM UTC</time><a class="anchor" name="1467898660">&nbsp;</a></div><pre>Jose, are you requesting disk space via condor (like with TARGET.disk)?

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='30502#1467896649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T13:04:09+00:00">Jul 7, 2016 01:04 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1467896649">&nbsp;</a></div><pre>Hello Garhan and Bo,

Have you had time to review this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='30502#1467834128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-06T19:42:08+00:00">Jul 6, 2016 07:42 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1467834128">&nbsp;</a></div><pre>Hi,

since a while ago, apparently all ATLAS jobs at TUSKER have been failing, with an error message like this&#58;

Too little space left on local disk to run job&#58; 4918870016 B (need &#62; 5368709120 B)

That is a constrain in the ATLAS jobs.
I am not sure if that requirement changed recently, and used to be more relaxed but now is not.
Anyways, that is what I am seeing.

Are there WNs at TUSKER that can satisfy that requirement?
Should I include some directive in the condor submit file to ensure jobs land on big WNs?
Or that is an impossible to meet requirement, and I should stop submitting this site?

Thanks,
Jose

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30502">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 30502});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
