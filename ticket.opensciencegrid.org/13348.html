<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[13348] voms-proxy-init</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=13348" method="post">
<div class="page-header">
    <h3><span class="muted">13348</span> / voms-proxy-init</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Bob Ball</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Close if no other concerns</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-03-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/13348", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13348?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13348?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20voms-proxy-init%20ISSUE%3D13348%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='13348#1362617947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-07T00:59:07+00:00">Mar 7, 2013 12:59 AM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1362617947">&nbsp;</a></div><pre>No, no further issues.  I thought it had already been closed after my
last reply, so please, definitely close it now.

Thanks,
bob

On 3/6/2013 1&#58;07 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1362593226'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-06T18:07:06+00:00">Mar 6, 2013 06:07 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1362593226">&nbsp;</a></div><pre>Bob,

Can this ticket be closed out or do you still have some concerns that needs to be addressed.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='13348#1360955712'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-15T19:15:12+00:00">Feb 15, 2013 07:15 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1360955712">&nbsp;</a></div><pre>I haven&#39;t had a chance to get back to it.  If you look far enough back
in the ticket, you can see I tried to pick up a minimal number, that
clearly was not large enough.  Any suggestion about what _should_ have
been added?

bob

On 2/15/2013 2&#58;07 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1360955274'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-15T19:07:54+00:00">Feb 15, 2013 07:07 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1360955274">&nbsp;</a></div><pre>Hi Bob
Just pinging to see if you had any further questions about way Suchandra suggested to get minimal number of rpms?
Thanks</pre></div><div class='update_description'><i onclick="document.location='13348#1360092223'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-05T19:23:43+00:00">Feb 5, 2013 07:23 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1360092223">&nbsp;</a></div><pre>Hi Bob,

I&#39;ll let the software team know about your request.  However, you might be able to do something like this now, by identifying the rpms with the commands that you want and then doing a yum install of those rpms.  That should bring in all of the needed binaries.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='13348#1359734655'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-01T16:04:15+00:00">Feb 1, 2013 04:04 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1359734655">&nbsp;</a></div><pre>Sorry, I forgot about this.  I&#39;ve been busy.  What I ended up doing was
using the older WLCG-client software we have installed in afs, in
conjunction with&#58;

yum install openssl098e

With that, I can use the wlcg-client in afs and get a proxy for our sl6
servers.

Both of the osg-wn-client and osg-client installs brought in way too
many rpms for my taste.  I would still like to use just a sufficient,
small subset of the osg repo rpms as I indicated when I opened this
ticket though.  So, if you can find an approach for me that will work on
SL6, I would appreciate it.

bob

On 2/1/2013 10&#58;31 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1359732713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-01T15:31:53+00:00">Feb 1, 2013 03:31 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1359732713">&nbsp;</a></div><pre>Bob,

How are things on your end?  Finding anything with the osg-wn-client?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='13348#1358382969'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T00:36:09+00:00">Jan 17, 2013 12:36 AM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358382969">&nbsp;</a></div><pre>As the machine I was using is an active dCache door machine, I did not
allow the yum to continue (no -y).

Let me look at osg-wn-client too.  That only selected about &#60;40 rpms the
last time I installed it, but too that was really a WN.

bob

On 1/16/2013 5&#58;05 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358373938'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-16T22:05:38+00:00">Jan 16, 2013 10:05 PM UTC</time><a class="anchor" name="1358373938">&nbsp;</a></div><pre>Hi Bob,

I just did a fresh el6 osg-client install, 126 packages, 102M download.  I really wish those java packages where smaller, but that&#39;ll be fixed sooner or later.

Did voms-proxy-init work with osg-client install?  The osg-client does install more than should be required for voms-proxy-init to work.  Really, voms-proxy-init should work with just osg-wn-client.

-Derek

by /DC=org/DC=doegrids/OU=People/CN=Derek Weitzel 285345</pre></div><div class='update_description'><i onclick="document.location='13348#1358369291'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-16T20:48:11+00:00">Jan 16, 2013 08:48 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358369291">&nbsp;</a></div><pre>osg-client install results in a total of 179 rpms, &#62;600MB of total
space.  This is a little more than I had hoped for.

bob

On 1/15/2013 4&#58;39 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358285949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T21:39:09+00:00">Jan 15, 2013 09:39 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358285949">&nbsp;</a></div><pre>How does this compare to the osg-ce-condor install, or the osg-wn-client
install?  I was hoping to go lite on the number of rpms installed.

bob

On 1/15/2013 3&#58;59 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358283542'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T20:59:02+00:00">Jan 15, 2013 08:59 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1358283542">&nbsp;</a></div><pre>Bob&#58; We have a page for installing the full OSG client&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGClient' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGClient</a>

I wonder if it would be worth the few extra MB of disk space to try a known, good combination of packages for client use. Plus, there may be some other configuration tips on that documentation page that help you get started.

In the meantime, Mat from the OSG Software team will take a look and see if there are more specific recommendations.

-- Tim Cartwright</pre></div><div class='update_description'><i onclick="document.location='13348#1358269928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T17:12:08+00:00">Jan 15, 2013 05:12 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358269928">&nbsp;</a></div><pre>-bash-4.1$ cat temp.sh
#!/bin/bash
#
# Setup for renewing proxy
#
######################################

# source /afs/atlas.umich.edu/opt/WLCG-client/setup.sh 2&#62; /dev/null

export X509_USER_CERT=~/.globus/usercert.pem
export X509_USER_KEY=~/.globus/userkey.pem
export X509_USER_PROXY=/tmp/x509up_u&#96;id -u dcache&#96;
# echo &#34; Using X509_USER_PROXY=${X509_USER_PROXY}&#34;

voms-proxy-init -voms atlas -debug -valid 96&#58;0 -out ${X509_USER_PROXY}
-pwstdin &#60; ~/renewproxy/xrootd_scrt

-bash-4.1$ ./temp.sh
Detected Globus version&#58; 2.2
Unspecified proxy version, settling on Globus version&#58; 2
Number of bits in key &#58;1024
Files being used&#58;
CA certificate file&#58; none
Trusted certificates directory &#58; /etc/grid-security/certificates
Proxy certificate file &#58; /tmp/x509up_u404
User certificate file&#58; /var/lib/dcache/.globus/usercert.pem
User key file&#58; /var/lib/dcache/.globus/userkey.pem
Output to /tmp/x509up_u404
Your identity&#58; /DC=org/DC=doegrids/OU=People/CN=Robert C Ball 331645
Using configuration file /var/lib/dcache/.glite/vomses
Using configuration file /etc/vomses
Creating temporary proxy to /tmp/tmp_x509up_u404_3144031 .++++++
....++++++
Done
Contacting  lcg-voms.cern.ch&#58;15001
<div id='show_1160275128' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1160275128'>[/DC=ch/DC=cern/OU=computers/CN=lcg-voms.cern.ch] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=ch/DC=cern/CN=CERN Root CA
remote certificate signed by unknown CA
issuer =/DC=ch/DC=cern/CN=CERN Root CA
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

Trying next server for atlas.
Creating temporary proxy to /tmp/tmp_x509up_u404_3144031 .............++++++
.............++++++
Done
Contacting  vo.racf.bnl.gov&#58;15003
[/DC=org/DC=doegrids/OU=Services/CN=vo.racf.bnl.gov] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=net/DC=ES/O=ESnet/OU=Certificate
Authorities/CN=ESnet Root CA 1
remote certificate signed by unknown CA
issuer =/DC=net/DC=ES/O=ESnet/OU=Certificate
Authorities/CN=ESnet Root CA 1
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

Trying next server for atlas.
Creating temporary proxy to /tmp/tmp_x509up_u404_3144031
...................................................++++++
.++++++
Done
Contacting  voms.cern.ch&#58;15001
[/DC=ch/DC=cern/OU=computers/CN=voms.cern.ch] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=ch/DC=cern/CN=CERN Root CA
remote certificate signed by unknown CA
issuer =/DC=ch/DC=cern/CN=CERN Root CA
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

None of the contacted servers for atlas were capable
of returning a valid AC for the user.

On 1/15/2013 11&#58;39 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1160275128').click(function() {
            $('#detail_1160275128').slideDown("normal");
            $('#show_1160275128').hide();
            $('#hide_1160275128').show();
        });
        $('#hide_1160275128').click(function() {
            $('#detail_1160275128').slideUp();
            $('#hide_1160275128').hide();
            $('#show_1160275128').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='13348#1358267951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T16:39:11+00:00">Jan 15, 2013 04:39 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1358267951">&nbsp;</a></div><pre>Hum... this is quickly getting outside my expertise.

Can you copy / paste the output from&#58;
voms-proxy-init -voms atlas -debug

I&#39;m not sure it will help, but it&#39;ll probably be first question when I get an expert here.

-Derek

On Jan 15, 2013, at 10&#58;00 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358265614'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T16:00:14+00:00">Jan 15, 2013 04:00 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358265614">&nbsp;</a></div><pre>[root@umfs01 certificates]# ll|grep d1b603c3
-rw-r--r-- 1 root root  1448 Jun 11  2012 d1b603c3.0
-rw-r--r-- 1 root root   102 Jun 11  2012 d1b603c3.crl_url
-rw-r--r-- 1 root root   438 Jun 11  2012 d1b603c3.info
-rw-r--r-- 1 root root   621 Jun 11  2012 d1b603c3.namespaces
-rw-r--r-- 1 root root  1028 Jan 15 09&#58;56 d1b603c3.r0
-rw-r--r-- 1 root root  2238 Jun 11  2012 d1b603c3.signing_policy

bob

On 1/15/2013 10&#58;33 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358263989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T15:33:09+00:00">Jan 15, 2013 03:33 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1358263989">&nbsp;</a></div><pre>Ok, that is a normal use case.

Can you verify that you have the ES Net certificate.  Should be named d1b603c3.0 in the certificates directory.

-Derek

On Jan 15, 2013, at 7&#58;57 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358258232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T13:57:12+00:00">Jan 15, 2013 01:57 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358258232">&nbsp;</a></div><pre>The affected machines already have certs distributed through our
internal system.  Eg, machine A does the actual cert update, on an
hourly basis.  This is then synced into our afs space, and the affected
machines then sync out of afs shortly thereafter.

Eg, from just now&#58;
[root@umfs01 ~]# ls -alrt /etc/grid-security/certificates/
...
-rw-r--r-- 1 root root   694 Jan 15 07&#58;59 e8ac4b61.r0
-rw-r--r-- 1 root root 26703 Jan 15 08&#58;00 9dd23746.r0
drwxr-xr-x 2 root root 49152 Jan 15 08&#58;00 .
-rw-r--r-- 1 root root    91 Jan 15 08&#58;14 000-AAAA-LAST-UPDATE
-rw-r--r-- 1 root root    82 Jan 15 08&#58;20 000-AAA-LAST-UPDATE

Placed INTO afs at 8&#58;14, synced to the machine OUT of afs at 8&#58;20.

bob

On 1/15/2013 1&#58;15 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1358230524'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T06:15:24+00:00">Jan 15, 2013 06:15 AM UTC</time><a class="anchor" name="1358230524">&nbsp;</a></div><pre>Hi Bob,

Quick question, why are you installing empty-ca-certs?  It looks like by installing empty-ca-certs, voms-proxy-init is not able to figure out the CA&#39;s that sign the voms server certificates.

I believe by installing osg-ca-certs package (you may need to remove empty-ca-certs package first), this issue will clear up.

-Derek

by /DC=org/DC=doegrids/OU=People/CN=Derek Weitzel 285345</pre></div><div class='update_description'><i onclick="document.location='13348#1358186594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-14T18:03:14+00:00">Jan 14, 2013 06:03 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1358186594">&nbsp;</a></div><pre>Checking in on this again.  Is the ticket in progress with anyone?

bob

On 1/11/2013 9&#58;42 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1357915331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-11T14:42:11+00:00">Jan 11, 2013 02:42 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1357915331">&nbsp;</a></div><pre>Hi.  Are there any thoughts yet on this?

bob

On 1/10/2013 2&#58;25 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13348#1357845924'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-10T19:25:24+00:00">Jan 10, 2013 07:25 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1357845924">&nbsp;</a></div><pre>From&#58; Bob Ball &#60;ball@....&#62;
Date&#58; January 10, 2013 2&#58;20&#58;32 PM EST
To&#58; OSG Operations Center &#60;goc@....&#62;
Subject&#58; voms-proxy-init

Sorry, I think I initially sent this to the wrong email address.

bob

-------- Original Message --------
Subject&#58;	voms-proxy-init
Date&#58;	Thu, 10 Jan 2013 14&#58;09&#58;39 -0500
From&#58;	Bob Ball &#60;ball@....&#62;
To&#58;	osg@....
CC&#58;	Bob Ball &#60;ball@....&#62;

Hi.

I want to be able to get a proxy on a newly installed SL6 server. That
is all I really need from the osg suite for this machine.

I tried the following tack, from my notes&#58;

yum install yum-priorities
rpm -Uvh <a href='http&#58;//repo.grid.iu.edu/osg-el6-release-latest.rpm' target='_blank' rel='nofollow'>http&#58;//repo.grid.iu.edu/osg-el6-release-latest.rpm</a>

Change enabled=1 to enabled=0 on this one&#58;
osg-el6.repo&#58;enabled=1

now, try a yum -y install voms-clients
This also picks up voms, but nothing more

Also needs
yum --enablerepo=osg install empty-ca-certs vo-client

<div id='show_526121018' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_526121018'>Now, when I try the following, I get the indicated poor result.

=============================================
[ball@dcdum03&#58;~]$ voms-proxy-init -voms atlas
Enter GRID pass phrase&#58;
Your identity&#58; /DC=org/DC=doegrids/OU=People/CN=Robert C Ball 331645
Creating temporary proxy ................... Done
Contacting  vo.racf.bnl.gov&#58;15003
[/DC=org/DC=doegrids/OU=Services/CN=vo.racf.bnl.gov] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=net/DC=ES/O=ESnet/OU=Certificate
Authorities/CN=ESnet Root CA 1
remote certificate signed by unknown CA
issuer =/DC=net/DC=ES/O=ESnet/OU=Certificate
Authorities/CN=ESnet Root CA 1
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

Trying next server for atlas.
Creating temporary proxy ......................................... Done
Contacting  lcg-voms.cern.ch&#58;15001
[/DC=ch/DC=cern/OU=computers/CN=lcg-voms.cern.ch] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=ch/DC=cern/CN=CERN Root CA
remote certificate signed by unknown CA
issuer =/DC=ch/DC=cern/CN=CERN Root CA
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

Trying next server for atlas.
Creating temporary proxy ........................... Done
Contacting  voms.cern.ch&#58;15001
[/DC=ch/DC=cern/OU=computers/CN=voms.cern.ch] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=ch/DC=cern/CN=CERN Root CA
remote certificate signed by unknown CA
issuer =/DC=ch/DC=cern/CN=CERN Root CA
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

Trying next server for atlas.
Creating temporary proxy
...................................................................................................
Done
Contacting  voms.cern.ch&#58;15001
[/DC=ch/DC=cern/OU=computers/CN=voms.cern.ch] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=ch/DC=cern/CN=CERN Root CA
remote certificate signed by unknown CA
issuer =/DC=ch/DC=cern/CN=CERN Root CA
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

Trying next server for atlas.
Creating temporary proxy
................................................. Done
Contacting  lcg-voms.cern.ch&#58;15001
[/DC=ch/DC=cern/OU=computers/CN=lcg-voms.cern.ch] &#34;atlas&#34; Failed

Error&#58; Error during SSL
handshake&#58;error&#58;8006641C&#58;lib(128)&#58;verify_callback&#58;remote certificate
signed by unknown CA&#58;sslutils.c&#58;2288
issuer =/DC=ch/DC=cern/CN=CERN Root CA
remote certificate signed by unknown CA
issuer =/DC=ch/DC=cern/CN=CERN Root CA
Function&#58; verify_callback
error&#58;14090086&#58;SSL routines&#58;SSL3_GET_SERVER_CERTIFICATE&#58;certificate
verify failed&#58;s3_clnt.c&#58;1063
certificate verify failed
Function&#58; SSL3_GET_SERVER_CERTIFICATE

None of the contacted servers for atlas were capable
of returning a valid AC for the user.

=====================================================

Can you tell me what else is missing here?  Do I, perhaps, also need
something like python26?

Thanks,
bob

------------------------
-bash-4.1$ rpm -qa|grep python
rpm-python-4.8.0-27.el6.x86_64
dbus-python-0.83.0-6.1.el6.x86_64
python-iniparse-0.3.1-2.1.el6.noarch
python-2.6.6-29.el6_2.2.x86_64
newt-python-0.52.11-3.el6.x86_64
libxml2-python-2.7.6-8.el6_3.4.x86_64
python-ethtool-0.6-1.el6.x86_64
python-urlgrabber-3.9.1-8.el6.noarch
libproxy-python-0.3.0-3.el6_3.x86_64
python-libs-2.6.6-29.el6_2.2.x86_64
python-iwlib-0.1-1.2.el6.x86_64
python-pycurl-7.19.0-8.el6.x86_64

</div><script type='text/javascript'>
        $('#show_526121018').click(function() {
            $('#detail_526121018').slideDown("normal");
            $('#show_526121018').hide();
            $('#hide_526121018').show();
        });
        $('#hide_526121018').click(function() {
            $('#detail_526121018').slideUp();
            $('#hide_526121018').hide();
            $('#show_526121018').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F13348">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
