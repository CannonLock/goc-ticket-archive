<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[25240] gridadmin-cert-request interface timing out</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=25240" method="post">
<div class="page-header">
    <h3><span class="muted">25240</span> / gridadmin-cert-request interface timing out</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">John Hover</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">John Hover</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for reply back from John</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-05-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/25240", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='25240#1431109151'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-08T18:19:11+00:00">May 8, 2015 06:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1431109151">&nbsp;</a></div><pre>Thanks, John. Best of luck with the networking updates. Closing as requested.</pre></div><div class='update_description'><i onclick="document.location='25240#1431108927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-08T18:15:27+00:00">May 8, 2015 06:15 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1431108927">&nbsp;</a></div><pre>Hi all,

I didn&#39;t want to reply until I had all the facts.

You can go ahead and close this ticket. The problem has turned out to be
a very exotic core networking problem within the BNL LAN. They have a
complex, multi-tier setup of routers and one of them was misbehaving
with traffic from a particular subnet (the one where I&#39;m using the
gridadmin service). The problem manifested itself as intermittent
timeouts on TCP connections.

I think they still don&#39;t know exactly why, but they can reproduce the
problem at will. They are now talking firmware updates on a core router.

Sorry for the noise, and thanks for the quick responses.

Cheers,

--john

On 05/07/2015 03&#58;15 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='25240#1431026144'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-07T19:15:44+00:00">May 7, 2015 07:15 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1431026144">&nbsp;</a></div><pre>John,

Can you try to see how oim.grid.iu.edu is resolved on your end?  Does IPv6 come into play at all?
Are you able to ping?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='25240#1430938462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-06T18:54:22+00:00">May 6, 2015 06:54 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430938462">&nbsp;</a></div><pre>Hi Brian,

Are there any ports listening on oim.grid.iu.edu other than 80, 443, and
8080? These ports are handled specially by our campus routers, and it
would be useful to test TCP connections to a different port.

--john

On 05/06/2015 02&#58;36 PM, John Hover wrote&#58;
<font color='#7F7E6F'>&#62; Hi Brian,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Our networking people are looking at our end.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Does Indiana have a campus firewall and/or intrusion detection? They are</font>
<font color='#7F7E6F'>&#62; asking me.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --john</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 05/06/2015 11&#58;41 AM, John Hover wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; OK, I&#39;m seeing intermittent patterns. From the same session, one after</font>
<font color='#7F7E6F'>&#62;&#62; the other--one connects, the other times out.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 ~]$ ./bin/pki_tool_test2.py</font>
<font color='#7F7E6F'>&#62;&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62;&#62; success</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 ~]$ ./bin/pki_tool_test.py</font>
<font color='#7F7E6F'>&#62;&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62;&#62; HTTP failed, using HTTPS...</font>
<font color='#7F7E6F'>&#62;&#62; {&#34;global_usercert_year_count&#34;&#58;1219,&#34;detail&#34;&#58;&#34;User quota details for</font>
<font color='#7F7E6F'>&#62;&#62; &#92;/DC=com&#92;/DC=DigiCert-Grid&#92;/O=Open Science Grid&#92;/OU=People&#92;/CN=John</font>
<font color='#7F7E6F'>&#62;&#62; Hover</font>
<div id='show_685347290' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_685347290'><font color='#7F7E6F'>&#62;&#62; 241&#34;,&#34;quota_hostcert_day_max&#34;&#58;50,&#34;global_usercert_year_max&#34;&#58;3500,&#34;status&#34;&#58;&#34;OK&#34;,&#34;count_hostcert_year&#34;&#58;241,&#34;count_usercert_year&#34;&#58;3,&#34;quota_hostcert_year_max&#34;&#58;1000,&#34;count_hostcert_day&#34;&#58;0,&#34;global_hostcert_year_count&#34;&#58;3359,&#34;gridadmin_domains&#34;&#58;[&#34;bnl.gov&#34;],&#34;quota_usercert_year_max&#34;&#58;3,&#34;global_hostcert_year_max&#34;&#58;11500}</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 ~]$ ./bin/pki_tool_test.py</font>
<font color='#7F7E6F'>&#62;&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Traceback (most recent call last)&#58;</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;./bin/pki_tool_test.py&#34;, line 40, in &#60;module&#62;</font>
<font color='#7F7E6F'>&#62;&#62;      conn.request(&#39;GET&#39;, &#39;/oim/rest?action=user_info&#39;, None, headers)</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request</font>
<font color='#7F7E6F'>&#62;&#62;      self._send_request(method, url, body, headers)</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request</font>
<font color='#7F7E6F'>&#62;&#62;      self.endheaders()</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders</font>
<font color='#7F7E6F'>&#62;&#62;      self._send_output()</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output</font>
<font color='#7F7E6F'>&#62;&#62;      self.send(msg)</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send</font>
<font color='#7F7E6F'>&#62;&#62;      self.connect()</font>
<font color='#7F7E6F'>&#62;&#62;    File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line</font>
<font color='#7F7E6F'>&#62;&#62; 73, in connect</font>
<font color='#7F7E6F'>&#62;&#62;      raise error</font>
<font color='#7F7E6F'>&#62;&#62; socket.error&#58; [Errno 110] Connection timed out</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Likewise with simple telnet&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 443</font>
<font color='#7F7E6F'>&#62;&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62;&#62; ^C</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 443</font>
<font color='#7F7E6F'>&#62;&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62;&#62; ^C</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 80</font>
<font color='#7F7E6F'>&#62;&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62;&#62; Connected to oim.grid.iu.edu.</font>
<font color='#7F7E6F'>&#62;&#62; Escape character is &#39;^]&#39;.</font>
<font color='#7F7E6F'>&#62;&#62; ^C</font>
<font color='#7F7E6F'>&#62;&#62; Connection closed by foreign host.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 443</font>
<font color='#7F7E6F'>&#62;&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62;&#62; Connected to oim.grid.iu.edu.</font>
<font color='#7F7E6F'>&#62;&#62; Escape character is &#39;^]&#39;.</font>
<font color='#7F7E6F'>&#62;&#62; ^C</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; So this is looking like either an intermittent connection reception</font>
<font color='#7F7E6F'>&#62;&#62; issue on your end, or an intermittent network problem on our end. Trying</font>
<font color='#7F7E6F'>&#62;&#62; from other hosts (some outside BNL) my suspicion is now that it is a</font>
<font color='#7F7E6F'>&#62;&#62; problem on my host itself.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I don&#39;t have root on the box, so I&#39;m starting troubleshooting with the</font>
<font color='#7F7E6F'>&#62;&#62; local admins.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ll update you later.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; --john</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; On 05/05/2015 04&#58;38 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_685347290').click(function() {
            $('#detail_685347290').slideDown("normal");
            $('#show_685347290').hide();
            $('#hide_685347290').show();
        });
        $('#hide_685347290').click(function() {
            $('#detail_685347290').slideUp();
            $('#hide_685347290').hide();
            $('#show_685347290').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430938378'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-06T18:52:58+00:00">May 6, 2015 06:52 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1430938378">&nbsp;</a></div><pre>John,

Yes, Indiana does have a campus firewall and/or intrusion detection in place.
I&#39;m adding Soichi to confirm.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='25240#1430937928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-06T18:45:28+00:00">May 6, 2015 06:45 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1430937928">&nbsp;</a></div><pre>John,

I think Alain is better suited to answer that question.

- Brian</pre></div><div class='update_description'><i onclick="document.location='25240#1430937578'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-06T18:39:38+00:00">May 6, 2015 06:39 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430937578">&nbsp;</a></div><pre>Hi Brian,

Our networking people are looking at our end.

Does Indiana have a campus firewall and/or intrusion detection? They are
asking me.

--john

On 05/06/2015 11&#58;41 AM, John Hover wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; OK, I&#39;m seeing intermittent patterns. From the same session, one after</font>
<font color='#7F7E6F'>&#62; the other--one connects, the other times out.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 ~]$ ./bin/pki_tool_test2.py</font>
<font color='#7F7E6F'>&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62; success</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 ~]$ ./bin/pki_tool_test.py</font>
<font color='#7F7E6F'>&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62; HTTP failed, using HTTPS...</font>
<font color='#7F7E6F'>&#62; {&#34;global_usercert_year_count&#34;&#58;1219,&#34;detail&#34;&#58;&#34;User quota details for</font>
<font color='#7F7E6F'>&#62; &#92;/DC=com&#92;/DC=DigiCert-Grid&#92;/O=Open Science Grid&#92;/OU=People&#92;/CN=John</font>
<font color='#7F7E6F'>&#62; Hover</font>
<font color='#7F7E6F'>&#62; 241&#34;,&#34;quota_hostcert_day_max&#34;&#58;50,&#34;global_usercert_year_max&#34;&#58;3500,&#34;status&#34;&#58;&#34;OK&#34;,&#34;count_hostcert_year&#34;&#58;241,&#34;count_usercert_year&#34;&#58;3,&#34;quota_hostcert_year_max&#34;&#58;1000,&#34;count_hostcert_day&#34;&#58;0,&#34;global_hostcert_year_count&#34;&#58;3359,&#34;gridadmin_domains&#34;&#58;[&#34;bnl.gov&#34;],&#34;quota_usercert_year_max&#34;&#58;3,&#34;global_hostcert_year_max&#34;&#58;11500}</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 ~]$ ./bin/pki_tool_test.py</font>
<font color='#7F7E6F'>&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62; Traceback (most recent call last)&#58;</font>
<font color='#7F7E6F'>&#62;    File &#34;./bin/pki_tool_test.py&#34;, line 40, in &#60;module&#62;</font>
<font color='#7F7E6F'>&#62;      conn.request(&#39;GET&#39;, &#39;/oim/rest?action=user_info&#39;, None, headers)</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request</font>
<font color='#7F7E6F'>&#62;      self._send_request(method, url, body, headers)</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request</font>
<div id='show_2058493859' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2058493859'><font color='#7F7E6F'>&#62;      self.endheaders()</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders</font>
<font color='#7F7E6F'>&#62;      self._send_output()</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output</font>
<font color='#7F7E6F'>&#62;      self.send(msg)</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send</font>
<font color='#7F7E6F'>&#62;      self.connect()</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line</font>
<font color='#7F7E6F'>&#62; 73, in connect</font>
<font color='#7F7E6F'>&#62;      raise error</font>
<font color='#7F7E6F'>&#62; socket.error&#58; [Errno 110] Connection timed out</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Likewise with simple telnet&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 443</font>
<font color='#7F7E6F'>&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62; ^C</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 443</font>
<font color='#7F7E6F'>&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62; ^C</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 80</font>
<font color='#7F7E6F'>&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62; Connected to oim.grid.iu.edu.</font>
<font color='#7F7E6F'>&#62; Escape character is &#39;^]&#39;.</font>
<font color='#7F7E6F'>&#62; ^C</font>
<font color='#7F7E6F'>&#62; Connection closed by foreign host.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 bin]$ telnet oim.grid.iu.edu 443</font>
<font color='#7F7E6F'>&#62; Trying 129.79.53.67...</font>
<font color='#7F7E6F'>&#62; Connected to oim.grid.iu.edu.</font>
<font color='#7F7E6F'>&#62; Escape character is &#39;^]&#39;.</font>
<font color='#7F7E6F'>&#62; ^C</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So this is looking like either an intermittent connection reception</font>
<font color='#7F7E6F'>&#62; issue on your end, or an intermittent network problem on our end. Trying</font>
<font color='#7F7E6F'>&#62; from other hosts (some outside BNL) my suspicion is now that it is a</font>
<font color='#7F7E6F'>&#62; problem on my host itself.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I don&#39;t have root on the box, so I&#39;m starting troubleshooting with the</font>
<font color='#7F7E6F'>&#62; local admins.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ll update you later.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --john</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 05/05/2015 04&#58;38 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2058493859').click(function() {
            $('#detail_2058493859').slideDown("normal");
            $('#show_2058493859').hide();
            $('#hide_2058493859').show();
        });
        $('#hide_2058493859').click(function() {
            $('#detail_2058493859').slideUp();
            $('#hide_2058493859').hide();
            $('#show_2058493859').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430926883'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-06T15:41:23+00:00">May 6, 2015 03:41 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430926883">&nbsp;</a></div><pre>Hi,

OK, I&#39;m seeing intermittent patterns. From the same session, one after
the other--one connects, the other times out.

[jhover@manager02 ~]$ ./bin/pki_tool_test2.py
Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;
success

[jhover@manager02 ~]$ ./bin/pki_tool_test.py
Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;
HTTP failed, using HTTPS...
{&#34;global_usercert_year_count&#34;&#58;1219,&#34;detail&#34;&#58;&#34;User quota details for
&#92;/DC=com&#92;/DC=DigiCert-Grid&#92;/O=Open Science Grid&#92;/OU=People&#92;/CN=John
Hover
241&#34;,&#34;quota_hostcert_day_max&#34;&#58;50,&#34;global_usercert_year_max&#34;&#58;3500,&#34;status&#34;&#58;&#34;OK&#34;,&#34;count_hostcert_year&#34;&#58;241,&#34;count_usercert_year&#34;&#58;3,&#34;quota_hostcert_year_max&#34;&#58;1000,&#34;count_hostcert_day&#34;&#58;0,&#34;global_hostcert_year_count&#34;&#58;3359,&#34;gridadmin_domains&#34;&#58;[&#34;bnl.gov&#34;],&#34;quota_usercert_year_max&#34;&#58;3,&#34;global_hostcert_year_max&#34;&#58;11500}
[jhover@manager02 ~]$ ./bin/pki_tool_test.py
Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;
Traceback (most recent call last)&#58;
File &#34;./bin/pki_tool_test.py&#34;, line 40, in &#60;module&#62;
conn.request(&#39;GET&#39;, &#39;/oim/rest?action=user_info&#39;, None, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request
self._send_request(method, url, body, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request
self.endheaders()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders
self._send_output()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output
self.send(msg)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send
self.connect()
File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line
73, in connect
raise error
socket.error&#58; [Errno 110] Connection timed out
<div id='show_449006528' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_449006528'>
Likewise with simple telnet&#58;

[jhover@manager02 bin]$ telnet oim.grid.iu.edu 443
Trying 129.79.53.67...
^C

[jhover@manager02 bin]$ telnet oim.grid.iu.edu 443
Trying 129.79.53.67...
^C

[jhover@manager02 bin]$ telnet oim.grid.iu.edu 80
Trying 129.79.53.67...
Connected to oim.grid.iu.edu.
Escape character is &#39;^]&#39;.
^C
Connection closed by foreign host.

[jhover@manager02 bin]$ telnet oim.grid.iu.edu 443
Trying 129.79.53.67...
Connected to oim.grid.iu.edu.
Escape character is &#39;^]&#39;.
^C

So this is looking like either an intermittent connection reception
issue on your end, or an intermittent network problem on our end. Trying
from other hosts (some outside BNL) my suspicion is now that it is a
problem on my host itself.

I don&#39;t have root on the box, so I&#39;m starting troubleshooting with the
local admins.

I&#39;ll update you later.

--john

On 05/05/2015 04&#58;38 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_449006528').click(function() {
            $('#detail_449006528').slideDown("normal");
            $('#show_449006528').hide();
            $('#hide_449006528').show();
        });
        $('#hide_449006528').click(function() {
            $('#detail_449006528').slideUp();
            $('#hide_449006528').hide();
            $('#show_449006528').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430859986'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T21:06:26+00:00">May 5, 2015 09:06 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1430859986">&nbsp;</a></div><pre>It&#39;s got the same name, I just re-uploaded it.</pre></div><div class='update_description'><i onclick="document.location='25240#1430858892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T20:48:12+00:00">May 5, 2015 08:48 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430858892">&nbsp;</a></div><pre>I don&#39;t see the attachment. Is it supposed to be on the ticket, like the
pki_tool_test.py file?

--john

On 05/05/2015 04&#58;38 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='25240#1430858337'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T20:38:57+00:00">May 5, 2015 08:38 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1430858337">&nbsp;</a></div><pre>That&#39;s interesting in its own right, the stack trace appears when you&#39;re contacting the the non-secure OIM and for me, that fails with &#39;unknown protocol&#39;. I&#39;ve attached a new version of the script that forces HTTPS communication with OIM, so give that a try.</pre></div><div class='update_description'><i onclick="document.location='25240#1430853877'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T19:24:37+00:00">May 5, 2015 07:24 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430853877">&nbsp;</a></div><pre>Hi,

I got the same exception as with the regular script.

BTW, in the course of gathering other info, I found that HTTP/S proxy
environment variables had been set. I unset them and re-ran gridadmin
commands, and your tool test script.

Same output as before, though. ( I had hoped maybe that was the
issue--that something had started misbehaving in the BNL HTTP proxy. )

[jhover@manager02 bin]$ ./pki_tool_test.py
Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;
Traceback (most recent call last)&#58;
File &#34;./pki_tool_test.py&#34;, line 40, in &#60;module&#62;
conn.request(&#39;GET&#39;, &#39;/oim/rest?action=user_info&#39;, None, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request
self._send_request(method, url, body, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request
self.endheaders()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders
self._send_output()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output
self.send(msg)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send
self.connect()
File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line
73, in connect
raise error
socket.error&#58; [Errno 110] Connection timed out

[jhover@manager02 bin]$ env | grep -i proxy
[jhover@manager02 bin]$

Definitely not a connectivity problem. Telnet works OK&#58;
<div id='show_817843714' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_817843714'>
[jhover@manager02 bin]$ telnet oim.grid.iu.edu 80
Trying 129.79.53.67...
Connected to oim.grid.iu.edu.
Escape character is &#39;^]&#39;.

--john

On 05/05/2015 11&#58;26 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_817843714').click(function() {
            $('#detail_817843714').slideDown("normal");
            $('#show_817843714').hide();
            $('#hide_817843714').show();
        });
        $('#hide_817843714').click(function() {
            $('#detail_817843714').slideUp();
            $('#hide_817843714').hide();
            $('#show_817843714').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430839605'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T15:26:45+00:00">May 5, 2015 03:26 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1430839605">&nbsp;</a></div><pre>John,

I&#39;ve attached a test script, could you run it on the same machine and provide the output?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='25240#1430783650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T23:54:10+00:00">May 4, 2015 11:54 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430783650">&nbsp;</a></div><pre>Hi,

I don&#39;t think I changed anything from the default, but anything is
possible...

[jhover@manager02 .osg-pki]$ cat /home/jhover/.osg-pki/OSG_PKI.ini
[OIMData_ITB]

host&#58; oim-itb.grid.iu.edu&#58;80
hostsec&#58; oim-itb.grid.iu.edu&#58;443
requrl&#58; /oim/rest?action=host_certs_request&version=1
appurl&#58; /oim/rest?action=host_certs_approve&version=1
revurl&#58; /oim/rest?action=host_certs_revoke&version=1
canurl&#58; /oim/rest?action=host_certs_cancel&version=1
returl&#58; /oim/rest?action=host_certs_retrieve&version=1
issurl&#58; /oim/rest?action=host_certs_issue&version=1
content_type&#58; application/x-www-form-urlencoded
quotaurl&#58; /oim/rest?action=user_info
renewurl&#58; /oim/rest?action=user_cert_renew&version=1
userreturl&#58; /oim/rest?action=user_cert_retrieve&version=1
userrevurl&#58; /oim/rest?action=user_cert_revoke&version=1

[OIMData]

host&#58; oim.grid.iu.edu&#58;80
hostsec&#58; oim.grid.iu.edu&#58;443
requrl&#58; /oim/rest?action=host_certs_request&version=1
appurl&#58; /oim/rest?action=host_certs_approve&version=1
revurl&#58; /oim/rest?action=host_certs_revoke&version=1
canurl&#58; /oim/rest?action=host_certs_cancel&version=1
returl&#58; /oim/rest?action=host_certs_retrieve&version=1
issurl&#58; /oim/rest?action=host_certs_issue&version=1
content_type&#58; application/x-www-form-urlencoded
quotaurl&#58; /oim/rest?action=user_info
renewurl&#58; /oim/rest?action=user_cert_renew&version=1
<div id='show_1453318380' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1453318380'>userreturl&#58; /oim/rest?action=user_cert_retrieve&version=1
userrevurl&#58; /oim/rest?action=user_cert_revoke&version=1

Comparing it to the file in the source tarball, it looks like they are
identical&#58;

[jhover@manager02 .osg-pki]$ diff pki-clients.ini.install OSG_PKI.ini

--john

On 05/04/2015 06&#58;01 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1453318380').click(function() {
            $('#detail_1453318380').slideDown("normal");
            $('#show_1453318380').hide();
            $('#hide_1453318380').show();
        });
        $('#hide_1453318380').click(function() {
            $('#detail_1453318380').slideUp();
            $('#hide_1453318380').hide();
            $('#show_1453318380').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430776874'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T22:01:14+00:00">May 4, 2015 10:01 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1430776874">&nbsp;</a></div><pre>John, it looks like you&#39;re using your own INI file, could you provide the contents of &#39;/home/jhover/.osg-pki/OSG_PKI.ini&#39;?</pre></div><div class='update_description'><i onclick="document.location='25240#1430775572'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T21:39:32+00:00">May 4, 2015 09:39 PM UTC</time> by <b>Tim Theisen</b><a class="anchor" name="1430775572">&nbsp;</a></div><pre>Assigning to Brian Lin.</pre></div><div class='update_description'><i onclick="document.location='25240#1430770561'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T20:16:01+00:00">May 4, 2015 08:16 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1430770561">&nbsp;</a></div><pre>Software Team,

Can someone with the software team please see if they can look into any issues with osg-gridadmin-cert-request command
that John Hover is experiencing before I escalate to DigiCert?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='25240#1430770334'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T20:12:14+00:00">May 4, 2015 08:12 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430770334">&nbsp;</a></div><pre>Hi,

FYI, the latest run involved these hostnames, although sometimes
multiple certs per host (for different services).

aws06.racf.bnl.gov
dcdoor10.usatlas.bnl.gov
dcdoor11.usatlas.bnl.gov
dcdoor12.usatlas.bnl.gov
dcsrm01.usatlas.bnl.gov
grid18.racf.bnl.gov
gridgk01.racf.bnl.gov
gridgk02.racf.bnl.gov
gridgk03.racf.bnl.gov
gridgk04.racf.bnl.gov
gridgk05.racf.bnl.gov
gridgk06.racf.bnl.gov
gridgk07.racf.bnl.gov
gridgk08.racf.bnl.gov
gridtest02.racf.bnl.gov

As far as I can see, none of them were successfully issued, and all
osg-gridadmin-cert-request commands timed out.

--john

On 05/04/2015 03&#58;40 PM, John Hover wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;m running my mass certificate renewal application, and *all* the</font>
<font color='#7F7E6F'>&#62; requests are timing out (27+ certificates). Nothing has been changed on</font>
<font color='#7F7E6F'>&#62; my end for months, and my certificate is still valid (until November)&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 ~]$ openssl x509 -in /home/jhover/.globus/usercert.pem</font>
<font color='#7F7E6F'>&#62; -text | grep After</font>
<div id='show_267551449' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_267551449'><font color='#7F7E6F'>&#62;              Not After &#58; Nov 22 12&#58;00&#58;00 2015 GMT</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 ~]$ osg-gridadmin-cert-request -V</font>
<font color='#7F7E6F'>&#62; OSG CLI Scripts Version &#58; 1.2.11</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The error message from running the osg-gridadmin-cert-request command</font>
<font color='#7F7E6F'>&#62; directly is this. Note the command line...</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [jhover@manager02 ~]$ osg-gridadmin-cert-request --hostname</font>
<font color='#7F7E6F'>&#62; gridgk07.racf.bnl.gov --vo usatlas</font>
<font color='#7F7E6F'>&#62; Using timeout of 5 minutes</font>
<font color='#7F7E6F'>&#62; Overriding INI file with /home/jhover/.osg-pki/OSG_PKI.ini</font>
<font color='#7F7E6F'>&#62; The timeout is set to 5</font>
<font color='#7F7E6F'>&#62; Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;</font>
<font color='#7F7E6F'>&#62; error</font>
<font color='#7F7E6F'>&#62; Traceback (most recent call last)&#58;</font>
<font color='#7F7E6F'>&#62;    File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 643, in</font>
<font color='#7F7E6F'>&#62; &#60;module&#62;</font>
<font color='#7F7E6F'>&#62;      process_single_host_mode(**arguments)</font>
<font color='#7F7E6F'>&#62;    File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 565, in</font>
<font color='#7F7E6F'>&#62; process_single_host_mode</font>
<font color='#7F7E6F'>&#62;      status = check_quota_limit(1, arguments)</font>
<font color='#7F7E6F'>&#62;    File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 438, in</font>
<font color='#7F7E6F'>&#62; check_quota_limit</font>
<font color='#7F7E6F'>&#62;      conn.request(&#39;GET&#39;, arguments[&#39;quotaurl&#39;], None, headers)</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request</font>
<font color='#7F7E6F'>&#62;      self._send_request(method, url, body, headers)</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request</font>
<font color='#7F7E6F'>&#62;      self.endheaders()</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders</font>
<font color='#7F7E6F'>&#62;      self._send_output()</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output</font>
<font color='#7F7E6F'>&#62;      self.send(msg)</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send</font>
<font color='#7F7E6F'>&#62;      self.connect()</font>
<font color='#7F7E6F'>&#62;    File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line</font>
<font color='#7F7E6F'>&#62; 73, in connect</font>
<font color='#7F7E6F'>&#62;      raise error</font>
<font color='#7F7E6F'>&#62; error&#58; [Errno 110] Connection timed out</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Uncaught Exception &#58; Please report the bug to goc@.....</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Any theories? Any more info you need from me?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --john</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 05/04/2015 01&#58;32 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_267551449').click(function() {
            $('#detail_267551449').slideDown("normal");
            $('#show_267551449').hide();
            $('#hide_267551449').show();
        });
        $('#hide_267551449').click(function() {
            $('#detail_267551449').slideUp();
            $('#hide_267551449').hide();
            $('#show_267551449').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430768546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T19:42:26+00:00">May 4, 2015 07:42 PM UTC</time> by <b>Mariachi</b><a class="anchor" name="1430768546">&nbsp;</a></div><pre>Hi,

I&#39;m running my mass certificate renewal application, and *all* the
requests are timing out (27+ certificates). Nothing has been changed on
my end for months, and my certificate is still valid (until November)&#58;

[jhover@manager02 ~]$ openssl x509 -in /home/jhover/.globus/usercert.pem
-text | grep After
Not After &#58; Nov 22 12&#58;00&#58;00 2015 GMT

[jhover@manager02 ~]$ osg-gridadmin-cert-request -V
OSG CLI Scripts Version &#58; 1.2.11

The error message from running the osg-gridadmin-cert-request command
directly is this. Note the command line...

[jhover@manager02 ~]$ osg-gridadmin-cert-request --hostname
gridgk07.racf.bnl.gov --vo usatlas
Using timeout of 5 minutes
Overriding INI file with /home/jhover/.osg-pki/OSG_PKI.ini
The timeout is set to 5
Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;
error
Traceback (most recent call last)&#58;
File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 643, in &#60;module&#62;
process_single_host_mode(**arguments)
File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 565, in
process_single_host_mode
status = check_quota_limit(1, arguments)
File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 438, in
check_quota_limit
conn.request(&#39;GET&#39;, arguments[&#39;quotaurl&#39;], None, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request
self._send_request(method, url, body, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request
<div id='show_1064653187' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1064653187'>self.endheaders()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders
self._send_output()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output
self.send(msg)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send
self.connect()
File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line
73, in connect
raise error
error&#58; [Errno 110] Connection timed out

Uncaught Exception &#58; Please report the bug to goc@.....

Any theories? Any more info you need from me?

--john

On 05/04/2015 01&#58;32 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1064653187').click(function() {
            $('#detail_1064653187').slideDown("normal");
            $('#show_1064653187').hide();
            $('#hide_1064653187').show();
        });
        $('#hide_1064653187').click(function() {
            $('#detail_1064653187').slideUp();
            $('#hide_1064653187').hide();
            $('#show_1064653187').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25240#1430760775'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T17:32:55+00:00">May 4, 2015 05:32 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1430760775">&nbsp;</a></div><pre>John,

I checked web interface via DigiCert and it shows that dcdoor12.usatlas.bnl.gov was approved on 04-MAY-2015 8&#58;56 AM.
I wasn&#39;t able to find a confirmed approval for dcdoor11.usatlas.bnl.gov.  Are you still experiencing the time out and not
able to obtain a new host for dcdoor11.usatlas.bnl.gov?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='25240#1430752914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-04T15:21:54+00:00">May 4, 2015 03:21 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1430752914">&nbsp;</a></div><pre>It looks like the interface for the gridadmin-cert-request is timing out.

[jhover@manager02 ~]$ osg-gridadmin-cert-request --hostname dcdoor11.usatlas.bnl.gov --vo usatlas
Using timeout of 5 minutes
Overriding INI file with /home/jhover/.osg-pki/OSG_PKI.ini
The timeout is set to 5
Please enter the pass phrase for &#39;/home/jhover/.globus/userkey.pem&#39;&#58;
error
Traceback (most recent call last)&#58;
File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 643, in &#60;module&#62;
process_single_host_mode(**arguments)
File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 565, in process_single_host_mode
status = check_quota_limit(1, arguments)
File &#34;/home/jhover/bin/osg-gridadmin-cert-request&#34;, line 438, in check_quota_limit
conn.request(&#39;GET&#39;, arguments[&#39;quotaurl&#39;], None, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 914, in request
self._send_request(method, url, body, headers)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 951, in _send_request
self.endheaders()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 908, in endheaders
self._send_output()
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 780, in _send_output
self.send(msg)
File &#34;/usr/lib64/python2.6/httplib.py&#34;, line 739, in send
self.connect()
File &#34;/usr/lib64/python2.6/site-packages/M2Crypto/httpslib.py&#34;, line 73, in connect
raise error
error&#58; [Errno 110] Connection timed out
Uncaught Exception &#58; Please report the bug to goc@.....

Let me know if you need more info...

Cheers,

--john
<div id='show_1816087319' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1816087319'>
by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Hover 241

</div><script type='text/javascript'>
        $('#show_1816087319').click(function() {
            $('#detail_1816087319').slideDown("normal");
            $('#show_1816087319').hide();
            $('#hide_1816087319').show();
        });
        $('#hide_1816087319').click(function() {
            $('#detail_1816087319').slideUp();
            $('#hide_1816087319').hide();
            $('#show_1816087319').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F25240">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
