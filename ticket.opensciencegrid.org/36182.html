<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[36182] Transitioning Rutgers to LCMAPS VOMS authentication</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=36182" method="post">
<div class="page-header">
    <h3><span class="muted">36182</span> / Transitioning Rutgers to LCMAPS VOMS authentication</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brian Lin</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">rutgers-cms</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Brian Lin</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier3</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Transition complete</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2018-04-10</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/36182", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='36182#1522776083'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-03T17:21:23+00:00">Apr 3, 2018 05:21 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1522776083">&nbsp;</a></div><pre>Brian,

It is OK with me if you close this ticket.  If I have any problems going
forward, I will open a new ticket.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Tue, 3 Apr 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1522774145'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-03T16:49:05+00:00">Apr 3, 2018 04:49 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1522774145">&nbsp;</a></div><pre>Jacques,

That&#39;s great to hear! It sounds like the transition is complete and we can close this ticket, is that ok with you? If you encounter any issues with the WN client or have any questions, you can open a new ticket.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='36182#1522767443'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-03T14:57:23+00:00">Apr 3, 2018 02:57 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1522767443">&nbsp;</a></div><pre>Sarah,

I think I&#39;ve nearly completed this.  I have HTCondor-CE installed and it
appears to be working, also certificates, certificate updating, GridFTP,
PhEDEx, LCMAPS, Frontier Squid, and RSV.  RSV shows all tests are successful.
(See <a href='https&#58;//ruhex-osgce.rutgers.edu&#58;8443/rsv/' target='_blank' rel='nofollow'>https&#58;//ruhex-osgce.rutgers.edu&#58;8443/rsv/</a>).

I&#39;m still working on installing the Worker Node Client on my batch
nodes, but haven&#39;t decided on which of the available methods to use.  I
expect to have this part completed within the next few days.

I would like to thank everyone who has helped me by responding to my
queries on this issue.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Tue, 3 Apr 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1522760076'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-04-03T12:54:36+00:00">Apr 3, 2018 12:54 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1522760076">&nbsp;</a></div><pre>Hello,

Any updates on this?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='36182#1522162451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-27T14:54:11+00:00">Mar 27, 2018 02:54 PM UTC</time> by <b>clundstedt@....</b><a class="anchor" name="1522162451">&nbsp;</a></div><pre>Yes, I made a typo there.  The line should have gsiftp (the protocol) not gridftp.

Sorry,

Carl Lundstedt

UNL</pre></div><div class='update_description'><i onclick="document.location='36182#1522162098'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-27T14:48:18+00:00">Mar 27, 2018 02:48 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1522162098">&nbsp;</a></div><pre>Kevin,

Thanks very much for the additional details.  This is actually starting
to make a little sense...

So, I&#39;m now running PhEDEx, and indeed the &#34;crab checkwrite&#34; command now
works.  We will proceed with further testing.

Could you confirm the following&#58;  In the instructions that Carl sent
earlier on this ticket, he had me update my storage.xml file to replace
&#34;<a href='srm&#58;//ruhex-osgce.rutgers.edu...&#34' target='_blank' rel='nofollow'>srm&#58;//ruhex-osgce.rutgers.edu...&#34</a>; with
&#34;grid<a href='ftp&#58;//ruhex-osgce.rutgers.edu...&#34' target='_blank' rel='nofollow'>ftp&#58;//ruhex-osgce.rutgers.edu...&#34</a>;  From other reading, it seems to
me that it should be &#34;<a href='gsiftp&#58;//ruhex-osgce.rutgers.edu..&#34' target='_blank' rel='nofollow'>gsiftp&#58;//ruhex-osgce.rutgers.edu..&#34</a>;, and that Carl
likely made a typo.  Is that correct?

The fact that OSG3.2 is no longer supported, and moreover that Bestman
is being phased-out, is exactly what has prompted me to be working on
this.  Instead of OSG3.3, however, I&#39;m attempting to update to OSG3.4.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Tue, 27 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1522113312'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-27T01:15:12+00:00">Mar 27, 2018 01:15 AM UTC</time> by <b>klannon@....</b><a class="anchor" name="1522113312">&nbsp;</a></div><pre>Hello Pieter,

So Doug and Carl are the experts, but from my experiences with my own T3, they are both right and neither is contradicting the other.  Carl is describing the basic machinery of gridftp, which as he states will work properly independently of PhEDEx.  Doug is pointing out that CRAB does not access your storage.xml file directly either from your local site or from Git.  Instead, CRAB relies on the information which is read from your storage.xml and stored in a database.  It’s PhEDEx that is responsible for doing the reading.  So, every time you update your storage configuration, you have to (re)start your PhEDEx agents.  Even at my site where we *never* use PhEDEx, we still have to fire up an agent when we make storage configuration changes, to propagate the information through to the database CRAB uses.  When we forget to do this, we see exactly what you describe&#58; CRAB uses the old information even though its updated everywhere else.

By the way, OSG 3.2 is no longer supported, meaning that it is not even receiving updates for security issues.  You should move as soon as you can at least to OSG 3.3, which is still being patched for security issues.  (I know this is probably your plan anyway, but I just want to make sure that you haven’t missed this point.)

Sincerely,
Kevin

On Mar 26, 2018, 8&#58;58 PM -0400, Open Science Grid FootPrints &#60;osg@....&#62;, wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1522112237'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-27T00:57:17+00:00">Mar 27, 2018 12:57 AM UTC</time> by <b>jacques@....</b><a class="anchor" name="1522112237">&nbsp;</a></div><pre>Doug,

I was running PhEDEx under OSG 3.2 prior to the update to OSG 3.4, but I
have not yet tried to run it under 3.4.

Your suggestion that CRAB will access storage.xml via PhEDEx seems to
contradict the configuration instructions I received previously from
Carl Lundstedt.  In answer to my request for assistance with the
configuration changes necessary to make the transition from the Bestman
setup I had in place in OSG 3.2 for handling CRAB output, Carl sent
detailed instructions on the updates needed to storage.xml and
site-local-config.xml.  He stated that &#34;Once these changes are fed to
git and cvmfs pulls the changes other sites will send output via gridftp
to your gridftp door&#34;.

I have made the changes suggested by Carl and fed them to git.  They
currently show up in cvmfs.  Nonetheless, CRAB jobs run at other CMS
locations are still attempting to connect to port 8443 on my server,
ruhex-osgce.rutgers.edu.  But port 8443 was the port used by Bestman,
which is no longer running, so attempts to connect to that port fail.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Mon, 26 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1522097297'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-26T20:48:17+00:00">Mar 26, 2018 08:48 PM UTC</time> by <b>douglas.johnson@....</b><a class="anchor" name="1522097297">&nbsp;</a></div><pre>Hi Pieter,

Are you running your own instance of PhEDEx? Have you restored the PhEDEx
agents with the new version of storage.xml? I think this is needed in order
for CRAB to have access to the updated version of storage.xml.

Thank you,
doug

On Mon, Mar 26, 2018 at 10&#58;02 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1522090933'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-26T19:02:13+00:00">Mar 26, 2018 07:02 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1522090933">&nbsp;</a></div><pre>I have updated T3_US_Rutgers to OSG 3.4, and made the recommended
changes to our storage.xml and site-local-config.xml to enable the
gridftp server to take over the functions previously handled by
bestman2.  I have verified that these changes are correctly reflected in
/cvmfs/cms.cern.ch/SITEINFO/T3_US_Rutgers.

However, attempts to have crab jobs write output to T3_US_Rutgers fail.
In particular, the suggested &#34;crab checkwrite&#34; does the following&#58;

=======================================================================
[Executed on cmslpc23.fnal.gov]
bash-4.1$ crab checkwrite --site=T3_US_Rutgers --lfn=/store/user/jacques
Validating LFN /store/user/jacques...
Retrieving DN from proxy...
DN is&#58; /DC=ch/DC=cern/OU=Organic
Units/OU=Users/CN=jacques/CN=541489/CN=Pieter Jacques
Retrieving username from SiteDB...
Username is&#58; jacques
LFN /store/user/jacques is valid.
Will use &#96;gfal-copy&#96;, &#96;gfal-rm&#96; commands for checking write permissions
Will check write permission in /store/user/jacques on site T3_US_Rutgers

Attempting to create (dummy) directory crab3checkwrite_20180326_133922
and copy (dummy) file crab3checkwrite_

Executing command&#58; env -i X509_USER_PROXY=/tmp/x509up_u4591 gfal-copy -p -v
-t 180 file&#58;///uscms/homes/j/jacques/CMSSW_8_0_28_patch1/src
/crab3checkwrite_20180326_133922.tmp
&#39;<a href='srm&#58;//ruhex-osgce.rutgers.edu&#58;8443/srm/v2/server?SFN=' target='_blank' rel='nofollow'>srm&#58;//ruhex-osgce.rutgers.edu&#58;8443/srm/v2/server?SFN=</a>
/cms/se/phedex/store/user/jacques/crab3checkwrite_20180326_133922
/crab3checkwrite_20180326_133922.tmp&#39;
Please wait...
Failed running copy command
...
Stderr&#58;
<div id='show_1424935117' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1424935117'>WARNING Failed to ping <a href='srm&#58;//ruhex-osgce.rutgers.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//ruhex-osgce.rutgers.edu&#58;8443</a>
/srm/v2/server?SFN=/cms/se/phedex/store/user/jacques

/crab3checkwrite_20180326_133922/crab3checkwrite_20180326_133922.tmp
WARNING Transfer failed with&#58; DESTINATION MAKE_PARENT srm-ifce err&#58;
Communication error on send, err&#58; [SE][Mkdir][]
httpg&#58;//ruhex-osgce.rutgers.edu&#58;8443/srm/v2/server&#58;
CGSI-gSOAP running on cmslpc23.fnal.gov reports could not open
=======================================================================

From this, it appears to me that the changes to storage.xml are not
being used.

- Pieter

On Tue, 13 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1424935117').click(function() {
            $('#detail_1424935117').slideDown("normal");
            $('#show_1424935117').hide();
            $('#hide_1424935117').show();
        });
        $('#hide_1424935117').click(function() {
            $('#detail_1424935117').slideUp();
            $('#hide_1424935117').hide();
            $('#show_1424935117').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='36182#1521667758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-21T21:29:18+00:00">Mar 21, 2018 09:29 PM UTC</time> by <b>douglas.johnson@....</b><a class="anchor" name="1521667758">&nbsp;</a></div><pre>Hi Pieter,

Are you able to install CVMFS. If you install CVMFS you can pick up the
tools from there and will always get the appropriate version. Otherwise, I
would recommend installing osg-wn-client.

Doug

On Wed, Mar 21, 2018 at 11&#58;02 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1521666139'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-21T21:02:19+00:00">Mar 21, 2018 09:02 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1521666139">&nbsp;</a></div><pre>Carl,

Regarding installation of gfal, &#34;yum list | grep gfal&#34; shows quite a few
gfal options, but none containing &#34;tools&#34; in the name.  Also, there are
both &#34;gfal&#34; and &#34;gfal2&#34;, with &#34;gfal2-plugin-gridftp&#34; being the only
option for a gridftp plugin.  Should I install both gfal and gfal2?

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Tue, 13 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1520967914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-13T19:05:14+00:00">Mar 13, 2018 07:05 PM UTC</time> by <b>clundstedt@....</b><a class="anchor" name="1520967914">&nbsp;</a></div><pre>Those changes to storage.xml are needed for the phedex agents to switch to start using the gridftp door and although it is certainly possible to run the phedex storage.xml out of sync without SAM noticing but you are right, it&#39;s not a good idea.

You&#39;ll also have to be sure to install the gfal tools and the gfal-gridftp plugin.  You&#39;ll also need to change the agents to use the FileDownloadGFALVerify and FileDownloadGFALDelete scripts rather than the default lcg tool enabled FileDownloadVerify.

So change the -delete and -validate line to the GFAL scripts in the agent and KEEP the -protocols line &#39;srmv2&#39; the change in storage.xml will allow things to work.

Carl</pre></div><div class='update_description'><i onclick="document.location='36182#1520967012'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-13T18:50:12+00:00">Mar 13, 2018 06:50 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1520967012">&nbsp;</a></div><pre>Carl,

Thanks for the detailed instructions.

It may be not until next week that I can proceed with these.  After
having done some testing on a separate test system, my plan at this
point is to shut down our current SE/CE system and update it to OSG 3.4,
but I need to clear that with the rest of the group here, to make sure a
disruption to Bestman/gridftp access is OK with ongoing activities.

I have tried LCMAPS on the test system, and see that it works OK there
as regards DN mapping, so I don&#39;t anticipate any problem there.

We also run PhEDEx service.  Will your suggested updates to storage.xml
and site-local-config.xml have an impact on that?  I think PhEDEx is
likely referencing copies of those in its own SITECONF directory,
instead of using those in cvmfs, but I suspect it&#39;s not a good idea to
have these out of sync with each other.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Tue, 13 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1520956759'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-13T15:59:19+00:00">Mar 13, 2018 03:59 PM UTC</time> by <b>clundstedt@....</b><a class="anchor" name="1520956759">&nbsp;</a></div><pre>Greetings,

For CMS you&#39;ll need to change the Rutgers TFC (storage.xml) and site-local-cofig.xml  so that gridftp can take over fully for SRM.

For your TFC&#58;

&#60;lfn-to-pfn protocol=&#34;srmv2&#34; destination-match=&#34;.*&#34;
path-match=&#34;/+store/(.*)&#34; result=&#34;<a href='srm&#58;//ruhex-osgce.rutgers.edu&#58;8443/srm/v2/server?SFN=/cms/se/phedex/store/' target='_blank' rel='nofollow'>srm&#58;//ruhex-osgce.rutgers.edu&#58;8443/srm/v2/server?SFN=/cms/se/phedex/store/</a>$1&#34;/&#62;

Will need changed to&#58;

&#60;lfn-to-pfn protocol=&#34;srmv2&#34; destination-match=&#34;.*&#34;
path-match=&#34;/+store/(.*)&#34; result=&#34;gridftp&#58;//&#60;your server&#62;.rutgers.edu/cms/se/phedex/store/$1&#34;/&#62;

And
&#60;pfn-to-lfn protocol=&#34;srmv2&#34; destination-match=&#34;.*&#34;
path-match=&#34;srm&#58;//ruhex-osgce&#92;.rutgers&#92;.edu&#58;8443/srm/v2/server&#92;?SFN=/+cms/se/phedex/store/(.*)&#34; result=&#34;/store/$1&#34;/&#62;
Change to&#58;

&#60;pfn-to-lfn protocol=&#34;srmv2&#34; destination-match=&#34;.*&#34;
path-match=&#34;gridftp&#58;//&#60;your server&#62;.rutgers.edu/cms/se/phedex/store/(.*)&#34; result=&#34;/store/$1&#34;/&#62;

Note&#58; the protocol remains &#34;srmv2&#34;.

And in your site-local-config.xml change your stage out to use gfal&#58;
Change&#58;
&#60;local-stage-out&#62;
&#60;command value=&#34;srmv2&#34;/&#62;
&#60;option value=&#34;-debug&#34;/&#62;
&#60;catalog url=&#34;trivialcatalog_file&#58;/cvmfs/cms.cern.ch/SITECONF/local/PhEDEx/storage.xml?protocol=srmv2&#34;/&#62;
&#60;se-name value=&#34;ruhex-osgce.rutgers.edu&#34;/&#62;
&#60;phedex-node value=&#34;T3_US_Rutgers&#34;/&#62;

To&#58;
&#60;local-stage-out&#62;
<div id='show_372114285' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_372114285'>&#60;command value=&#34;gfal2&#34;/&#62;
&#60;option value=&#34;-debug&#34;/&#62;
&#60;catalog url=&#34;trivialcatalog_file&#58;/cvmfs/cms.cern.ch/SITECONF/local/PhEDEx/storage.xml?protocol=srmv2&#34;/&#62;
&#60;se-name value=&#34;&#60;your server&#62;.rutgers.edu&#34;/&#62;
&#60;phedex-node value=&#34;T3_US_Rutgers&#34;/&#62;

Again, the command value changes but the protocol does not.

In each case &#60;your server&#62; is replaced by the hostname of you gridftp door.  Once these changes are fed to git and cvmfs pulls the changes other sites will send output via gridftp to your gridftp door.

I don&#39;t know if you&#39;ve moved to LCMAPS from GUMS yet, but be mindful of how mappings are handled at the gridftp door and make sure DNs map to the correct users for write access or you may run into permission issues.

Carl
</div><script type='text/javascript'>
        $('#show_372114285').click(function() {
            $('#detail_372114285').slideDown("normal");
            $('#show_372114285').hide();
            $('#hide_372114285').show();
        });
        $('#hide_372114285').click(function() {
            $('#detail_372114285').slideUp();
            $('#hide_372114285').hide();
            $('#show_372114285').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='36182#1520949195'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-13T13:53:15+00:00">Mar 13, 2018 01:53 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1520949195">&nbsp;</a></div><pre>Elizabeth,

No problems so far.  I&#39;ve installed a fair amount of the software on the
test CE node, but haven&#39;t done anything with worker nodes yet.  Our
installation combines the CE and SE on one system, and I&#39;ve also
installed a Squid proxy and standalone GridFTP server, plus LCMAPS.
I&#39;ve tested Squid, LCMAPS, and the GridFTP server, and they all appear
to be working.  I have not yet worked on configuration of HTCondor-CE.

We run only a few jobs submitted from non-Rutgers CMS users, so I am
placing a lower priority on getting HTCondor-CE working.  (Rutgers users
submit jobs to our batch system via local Condor commands.)  The main
OSG feature that Rutgers users utilize in the current setup is the
Bestman server, which allows jobs running on remote CMS sites to write
their output back to Rutgers.

At this point I would appreciate some assistance in getting the GridFTP
server configured to take over from Bestman.  Once I understand how to
do that, I propose to shut down the current production system and
replace it with OSG 3.4.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Mon, 12 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1520869704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-12T15:48:24+00:00">Mar 12, 2018 03:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1520869704">&nbsp;</a></div><pre>Hi Pieter,

How is the test deployment going?

Thanks</pre></div><div class='update_description'><i onclick="document.location='36182#1520616411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-09T17:26:51+00:00">Mar 9, 2018 05:26 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1520616411">&nbsp;</a></div><pre>Assigning to Elizabeth while I am out</pre></div><div class='update_description'><i onclick="document.location='36182#1520616404'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-09T17:26:44+00:00">Mar 9, 2018 05:26 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1520616404">&nbsp;</a></div><pre>Assigning to Elizabeth while I am out</pre></div><div class='update_description'><i onclick="document.location='36182#1520260877'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-05T14:41:17+00:00">Mar 5, 2018 02:41 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1520260877">&nbsp;</a></div><pre>Sarah,

I&#39;ve turned off edg-mkgridmap on ruhex-osgce, so you should not be
seeing any further requests coming in from there.

I&#39;ve also setup a test system and am working through the setup
instructions at <a href='https&#58;//opensciencegrid.github.io/docs/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/</a> to install OSG
3.4 there.  I was anticipating contacting USCMS Tier 3 support if I run
into any problems, but so far I haven&#39;t encountered any.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Mon, 5 Mar 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1520258410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-05T14:00:10+00:00">Mar 5, 2018 02:00 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1520258410">&nbsp;</a></div><pre>Hello,

Any updates on this?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='36182#1519746495'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-27T15:48:15+00:00">Feb 27, 2018 03:48 PM UTC</time> by <b>clundstedt@....</b><a class="anchor" name="1519746495">&nbsp;</a></div><pre>There was a typo in Doug&#39;s link.  Without the trailing &#34;s&#34; you&#39;ll get a 404 and it wasn&#39;t obvious how to get to the docs from the OSG home page.

<a href='https&#58;//opensciencegrid.github.io/docs/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/</a>
OSG Documentation - opensciencegrid.github.io&#60;<a href='https&#58;//opensciencegrid.github.io/docs/&#62' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/&#62</a>;
opensciencegrid.github.io
Prepare the Batch System¶ The assumption is that you have an existing batch system at your site. Currently, we support HTCondor, LSF, PBS and TORQUE, SGE, and Slurm ...

Cheers,
Carl</pre></div><div class='update_description'><i onclick="document.location='36182#1519743643'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-27T15:00:43+00:00">Feb 27, 2018 03:00 PM UTC</time> by <b>douglas.johnson@....</b><a class="anchor" name="1519743643">&nbsp;</a></div><pre>Greetings Pieter,

Yes that looks like the correct documentation. The OSG did a major rewrite
of the documentation and moved it to&#58;

<a href='https&#58;//opensciencegrid.github.io/doc' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/doc</a>

Thank you,
doug

On Tue, Feb 27, 2018 at 4&#58;51 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1519743080'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-27T14:51:20+00:00">Feb 27, 2018 02:51 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1519743080">&nbsp;</a></div><pre>Kevin,

Thanks for your input on this.  I think my first move will be to try
working through the documentation at the link Brian Lin sent.  Can you
confirm that this is the correct documention for me to use?  I had
previously followed various documents under <a href='https&#58;//twiki.grid.iu.edu/' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/</a>,
but that site does not seem to work now.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Mon, 26 Feb 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1519742715'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-27T14:45:15+00:00">Feb 27, 2018 02:45 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1519742715">&nbsp;</a></div><pre>Brian,

Thanks for the information.  Based on that, I see no reason why I can
not immediately turn of egg-mkgridmap.  I will then separately proceed
with setting up OSG 3.4 on a new machine, as per the documentation link
you sent.

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Mon, 26 Feb 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1519681640'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T21:47:20+00:00">Feb 26, 2018 09:47 PM UTC</time><a class="anchor" name="1519681640">&nbsp;</a></div><pre>Hello Pieter,

On behalf of USCMS Tier 3 support, let me also add that we&#39;d be happy to help you sort any of this out.  The easiest option would be if you could attend our bi-weekly meeting where our two T3 support staff (Carl Lundstedt and Doug Johnson) are available to help people with any questions, including debugging issues, and making recommendations.  The next meeting is Friday at 2pm EST&#58; <a href='https&#58;//indico.cern.ch/event/682005/.' target='_blank' rel='nofollow'>https&#58;//indico.cern.ch/event/682005/.</a>  That would give you the chance to ask questions and have an actual realtime discussion.  If you can&#39;t attend but still want to have an e-mail discussion you can use the T3 hypernews or e-mail the support team directly at uscms-tier3-team@.....  (And of course, we&#39;ll continue to follow this ticket if you post anything here.)

Sincerely,
Kevin

by klannon@....</pre></div><div class='update_description'><i onclick="document.location='36182#1519672097'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T19:08:17+00:00">Feb 26, 2018 07:08 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1519672097">&nbsp;</a></div><pre>Derek&#39;s out of office today so I&#39;m answering on his behalf&#58;

1) Regarding the transition to HTCondor-CE, I recommend starting on a new host with OSG 3.4 and running through the installation documentation&#58; <a href='https&#58;//opensciencegrid.github.io/docs/compute-element/install-htcondor-ce/.' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/docs/compute-element/install-htcondor-ce/.</a> We&#39;re always here to help if you get stuck.

2) BeStMan would still function, it&#39;s just that the authorization credentials will be out of date, i.e. you won&#39;t get updates for new DNs or old DNs that have been removed.

I also recommend reaching out to the T3 CMS support for assistance with any transition.

- Brian</pre></div><div class='update_description'><i onclick="document.location='36182#1519419866'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-23T21:04:26+00:00">Feb 23, 2018 09:04 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1519419866">&nbsp;</a></div><pre>Hi,

Can someone from Software chime in here?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='36182#1519419075'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-23T20:51:15+00:00">Feb 23, 2018 08:51 PM UTC</time> by <b>jacques@....</b><a class="anchor" name="1519419075">&nbsp;</a></div><pre>Sarah,

I have started looking at this, but it appears to me that the update
instructions provided in your previous email will work only for sites
already running OSG version 3.3 or above, while T3_US_Rutgers is
currently at OSG 3.2.  The OSG version is not the only part of
T3_US_Rutgers that needs updating, as we are still configured to use the
Globus GRAM Gatekeeper instead of HTCondor-CE.  I&#39;ve been intending to
do a complete re-install, but I find that prospect somewhat daunting and
have not been able to set aside the necessary time.

Can you give me some further information on the impact of the coming
changes for BeStMan mediated file transfers to T3_US_Rutgers (this being
the only essential service currently in use here)?  If I turn off the
edg-mkgridmap cron job which updates /etc/grid-security/grid-mapfile,
and replace /etc/grid-security/grid-mapfile with our local grid mapfile,
will the BeStMan file transfer system still function?

- Pieter

+-------------------------------------------------+
| Pieter F. Jacques (jacques@....) |
|  Serin Physics Laboratory, Rutgers University   |
|            136 Frelinghuysen Road               |
|         Piscataway, NJ 08854-8019 USA           |
|            Telephone&#58; 848-445-8977              |
+-------------------------------------------------+

On Fri, 23 Feb 2018, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='36182#1519392567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-23T13:29:27+00:00">Feb 23, 2018 01:29 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1519392567">&nbsp;</a></div><pre>Hello,

Any updates on this?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='36182#1518802784'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-16T17:39:44+00:00">Feb 16, 2018 05:39 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1518802784">&nbsp;</a></div><pre>As part of the VOMS Admin server retirement (<a href='https&#58;//opensciencegrid.github.io/technology/policy/voms-admin-retire/' target='_blank' rel='nofollow'>https&#58;//opensciencegrid.github.io/technology/policy/voms-admin-retire/</a>), we are encouraging sites using edg-mkgridmap or GUMS to make the transition to LCMAPS VOMS Admin (<a href='http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/</a>). If you are receiving this e-mail, we&#39;ve identified the following hosts at your site querying VOMS Admin servers in the OSG&#58;

- /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=ruhex-osgce.rutgers.edu

For edg-mkgridmap users, you can find specific instructions here&#58;
<a href='http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-edg-mkgridmap.</a>

For GUMS users, you can find specific instructions here&#58;
<a href='http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-gums' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.github.io/docs/security/lcmaps-voms-authentication/#migrating-from-gums</a>

If you are unable to update your GUMS server at this time, you need to update the lcmaps package (latest OSG 3.3 version is 1.6.6-1.9) for all clients of your GUMS server (HTCondor-CE, GridFTP, XRootD, dCache, or BeStMan hosts). This causes lcmaps to perform VOMS attribute verification instead of GUMS. Note&#58; as VOMS Admin servers are retired, errors will appear in GUMS when VO member lists are updated. This is OK if you have updated lcmaps on your clients.</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F36182">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
