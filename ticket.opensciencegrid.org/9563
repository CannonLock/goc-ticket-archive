<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[9563] OSG Storage&#58; SRM Clients Interoperability</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9563" method="post">
<div class="page-header">
    <h3><span class="muted">9563</span> / OSG Storage&#58; SRM Clients Interoperability</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Neha Sharma</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/other</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Neha Sharma</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-01-31</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Tanya Levshina <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=9563", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/9563?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/9563?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%20Storage%26%2358%3B%20SRM%20Clients%20Interoperability%20ISSUE%3D9563%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9563#1292433607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-15T17:20:07+00:00">Dec 15, 2010 05:20 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1292433607">&nbsp;</a></div><pre>I think it is ok to close for now - since it isn&#39;t clear who will be
working on it further.
I will reopen once I receive any input from Alan/Malina

-Neha</pre></div><div class='update_description'><i onclick="document.location='9563#1291402257'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-12-03T18:50:57+00:00">Dec 3, 2010 06:50 PM UTC</time> by <b>echism</b><a class="anchor" name="1291402257">&nbsp;</a></div><pre>Would it be alright to close this and then have Malina reply when she is able to troubleshoot further?

If that is unsatisfactory, I will just leave it open.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='9563#1290695403'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-25T14:30:03+00:00">Nov 25, 2010 02:30 PM UTC</time><a class="anchor" name="1290695403">&nbsp;</a></div><pre>Sorry.  I asked Alan to have one of his students do it as I&#39;m crazily busy with other responsibilities right now.  Alan hasn&#39;t responded, so I don&#39;t know if he&#39;ll handle it or not.  The first opportunity I&#39;ll have to do this will be some time in January, probably after Jan. 24, though I&#39;ll try to squeeze in some time in the beginning of January.

-- by Malina Kirn</pre></div><div class='update_description'><i onclick="document.location='9563#1290566387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-24T02:39:47+00:00">Nov 24, 2010 02:39 AM UTC</time> by <b>echism</b><a class="anchor" name="1290566387">&nbsp;</a></div><pre>Malina,

Have you had a chance to do as Neha requested?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='9563#1290203229'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-19T21:47:09+00:00">Nov 19, 2010 09:47 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1290203229">&nbsp;</a></div><pre>Hi

Can you please run the srm-copy/srmcp commands again this SE and update ticket with complete debug output?

Thanks
-Neha
On Nov 18, 2010, at 1&#58;50 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9563#1290109815'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-18T19:50:15+00:00">Nov 18, 2010 07:50 PM UTC</time><a class="anchor" name="1290109815">&nbsp;</a></div><pre>I&#39;ve been unable to use srmcp or srm-copy to get files from
<a href='srm&#58;//srm-cms.cern.ch&#58;8443/srm/managerv2?SFN=/castor/cern.ch/cms/store/...' target='_blank' rel='nofollow'>srm&#58;//srm-cms.cern.ch&#58;8443/srm/managerv2?SFN=/castor/cern.ch/cms/store/...</a>
though I have been able to use lcg-cp.  I don&#39;t know if anyone outside CMS could get access to files there.  There may be a way to get files hosted there using srmcp or srm-copy, but I&#39;ve been told lcg-cp is preferred to transfer files from EDG sites.

I can try to find a specific file for you to test on, but I don&#39;t know if you&#39;d have the ability to access it.

Malina

-- by Malina Kirn</pre></div><div class='update_description'><i onclick="document.location='9563#1290097549'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-18T16:25:49+00:00">Nov 18, 2010 04:25 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1290097549">&nbsp;</a></div><pre>Hi Malina

Can you please be more specific as to what problem you had when trying to use srmcp/srm-copy against some SEs (BTW, which one?) but were able to use lcg-cp against the same?

Thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='9563#1290095769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-18T15:56:09+00:00">Nov 18, 2010 03:56 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1290095769">&nbsp;</a></div><pre>Let me discuss with Tanya and see what should be done

GOC - Please re-open this ticket if it has been closed already

-Neha
On Nov 18, 2010, at 9&#58;32 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9563#1290094329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-18T15:32:09+00:00">Nov 18, 2010 03:32 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1290094329">&nbsp;</a></div><pre>Well, they were not my questions - only an observation that there is a sense among some users (fro example, Malina Kirn or UMD) that only lcg-cp and no other SRM-compatible clients can be used at some sites to move data.

The whole point of SRM as a standard was to ensure interoperability.  If this condition has not been obtained, we need to understand why not, and what to do about it.  There are forums for interchange of information among the major grid projects, for example the &#34;Infrastructure policy group&#34; &#60;infrastructure-policy-group@....&#62; that are specifically designed to allow raising topics of this nature, either for general policy or for specific technical issues.  (The exact group depends on the issue being raised, but such forums exist.)

Rather than brushing such problems under the rug, or installing different software because of real or perceived incompatibilities, I think it wold be better to document, pursue and eliminate both the perception and presence of such problems.

As someone who talks with the standards groups all of the time, I would be happy to push for resolution of any problems with the definition of the standards or for creation of additional ones as needed.

Let&#39;s not drop this, but find out what Malina meant by drawing our attention to the real or perceived need to install lcg-cp to copy data.

Thanks,
Alan</pre></div><div class='update_description'><i onclick="document.location='9563#1290093788'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-18T15:23:08+00:00">Nov 18, 2010 03:23 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1290093788">&nbsp;</a></div><pre>Hi

Since I have not heard back from Alan, I will assume his questions have
been answered for now.
Please close this ticket.

Alan - if you would me to reopen this, please let me know

Thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='9563#1289940266'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-16T20:44:26+00:00">Nov 16, 2010 08:44 PM UTC</time> by <b>echism</b><a class="anchor" name="1289940266">&nbsp;</a></div><pre>Neha,

What is this ticket and how should I assist? Alan Sill was not properly CC&#39;d so I have fixed that but I&#39;m not sure what else you want.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='9563#1289420655'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-11-10T20:24:15+00:00">Nov 10, 2010 08:24 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1289420655">&nbsp;</a></div><pre>[Neha Sharma]

Hi Alan

Please let me know whether you would prefer to provide more information to Alex so he can troubleshoot further

Thanks
-Neha

I can access to CERN Castor and DPM with srm-copy for our interop
testings. The endpoints could be different from the production ones though.
If there are more specifics and perhaps access privileges to the trouble
ones, we can get to somewhere. Again, I don&#39;t think this is an issue
with the spec or interop as srmcp/srm-copy/lcg-cp have been working
against different server implementations.

-- Alex

On 11/9/10 9&#58;57 AM, Alan Sill wrote&#58;
Thanks.  We also have this from Malina&#58;

Begin forwarded message&#58;

Unfortunately, I don&#39;t know exactly why.  I know CERN can only be
accessed with lcg-cp.  That or some really really bizarre set of
configuration options in srmcp/srm-copy.  I&#39;ve tried various srm-copy
options with the CERN SE for hours, no dice.  But I&#39;m not an expert...

On Tue, Nov 9, 2010 at 12&#58;30 PM, Alan Sill &#60;Alan.Sill@....&#62; wrote&#58;
SRM is supposed to be a standard.  What specific features of transfer require LCG-cp as opposed to any other compliant client?

Thanks,
Alan
I&#39;d like to get to the bottom of this.  Perhaps a conversation with our EGI colleagues might be helpful, if we can get some more specifics?  Or is this a documentation/education issue with respect to use of the clients?

<div id='show_522655706' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_522655706'>Thanks,
Alan

On Nov 9, 2010, at 11&#58;52 AM, Alex Sim wrote&#58;

This particular error message is site-specific.

&#34;Pinning failed&#58; finding read pool failed&#34;

SRM spec can recommend only SRM_FAILURE for these cases, which is
correct in the returned respons.

It seems that server could not find any read pool to stage the file for
any reasons.

-- Alex

On 11/9/10 9&#58;33 AM, Alan Sill wrote&#58;
Can anyone comment as to what might be missing from the SRM specification that would create the following condition?

If the standard is not well specified enough to avoid this situation, we need to find out what is missing and how to correct the situation so that clients can, in fact, be used interchangeably.  That&#39;s the whole purpose of a standard.

If we need further work on this, I&#39;m certainly willing to bring this up in the context of the Open Grid Forum and to press our EGI colleagues on this topic so that the situation can be improved.

Let me know what can be done to encourage improvements.

Thanks,
Alan

Begin forwarded message&#58;

From&#58; &#34;Sill, Alan&#34; &#60;alan.sill@....&#62;
Date&#58; November 9, 2010 11&#58;30&#58;06 AM CST
To&#58; Malina Kirn &#60;m.a.kirn@....&#62;
Cc&#58; &#34;Sill, Alan&#34; &#60;alan.sill@....&#62;, &#34;hn-cms-osg-tier3@....&#34; &#60;hn-cms-osg-tier3@....&#62;
Subject&#58; Re&#58; SRM Error Message

SRM is supposed to be a standard.  What specific features of transfer require LCG-cp as opposed to any other compliant client?

Thanks,
Alan

On Nov 9, 2010, at 11&#58;27 AM, Malina Kirn wrote&#58;

*** Discussion title&#58; OSG Tier3 Discussions

Hi Michael,

Try lcg-cp.  A lot of EDG sites don&#39;t support access to their SE via
anything other than the LCG srm client.

Malina

On Tue, Nov 9, 2010 at 12&#58;25 PM, Michael A. Balazs
&#60;Michael.Balazs@....&#62; wrote&#58;
*** Discussion title&#58; OSG Tier3 Discussions

Hi Rob,

I get this error when trying to copy using srmcp from a t1 in italy.

Thanks,
Michael
On Nov 9, 2010 12&#58;24 PM, &#34;Rob Snihur&#34; &#60;snihur@....&#62; wrote&#58;
Hi Michael,
Where did you get this message from?
Does your SE appear to be functioning otherwise?
-rob

On Tue, Nov 9, 2010 at 10&#58;46 AM, Michael A. Balazs
&#60;Michael.Balazs@....&#62; wrote&#58;
*** Discussion title&#58; OSG Tier3 Discussions

Hey Everyone,

Any idea what this error message means?

[SE][StatusOfGetRequest][SRM_FAILURE] FAILED&#58;  at Tue Nov 09 17&#58;44&#58;34 CET
2010 state Failed &#58; Pinning failed&#58; finding read pool failed

Michael

</div><script type='text/javascript'>
        $('#show_522655706').click(function() {
            $('#detail_522655706').slideDown("normal");
            $('#show_522655706').hide();
            $('#hide_522655706').show();
        });
        $('#hide_522655706').click(function() {
            $('#detail_522655706').slideUp();
            $('#hide_522655706').hide();
            $('#show_522655706').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9563">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 9563});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
