<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12040] black hole nodes at fermigridosg1</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12040" method="post">
<div class="page-header">
    <h3><span class="muted">12040</span> / black hole nodes at fermigridosg1</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alison McCrea</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">FNAL_FERMIGRID</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Alison McCrea</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Fermilab</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for updates</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-05-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">FNAL (Prod)&nbsp;<a target="_blank" href="https://fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000242250">INC000000242250</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12040", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12040#1337010971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-14T15:56:11+00:00">May 14, 2012 03:56 PM UTC</time> by <b>GLOW-TECH</b><a class="anchor" name="1337010971">&nbsp;</a></div><pre>I have been scanning for bloated glideins running at our site,
T2_US_Wisconsin.  In all cases that I have observed, the bloated
glideins were caught during java benchmarking, resulting in an image
size of ~8GB (4GB for java running under the glidein startd and 4GB for
java running under the monitoring startd).

If the test environment at Fermilab where the problem has been observed
could run my monitoring script, perhaps we could figure out what is
going on.  My script just scans &#39;ps&#39; output and looks for large trees of
processes under condor_starter.

--Dan

On 4/26/12 8&#58;58 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12040#1335892240'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-01T17:10:40+00:00">May 1, 2012 05:10 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1335892240">&nbsp;</a></div><pre>We have now completed the change in our condor clusters to kill jobs on ResidentSetSize rather than ImageSize.
Would still appreciate the glideinwms developers following through to figure out why ImageSize is so high on some but not all jobs.
Once we resume operations at FNAL_FERMIGRID after our scheduled downtime tomorrow you will hopefully see a lot
fewer glideins being killed on memory requirements.

Steve Timm

-- by timm at Tue May 01 17&#58;09&#58;23 UTC 2012

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000242250' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000242250</a></pre></div><div class='update_description'><i onclick="document.location='12040#1335448702'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-26T13:58:22+00:00">Apr 26, 2012 01:58 PM UTC</time><a class="anchor" name="1335448702">&nbsp;</a></div><pre>Would it be possible to run a test with glexec disabled?

--Dan

-- by Daniel Bradley</pre></div><div class='update_description'><i onclick="document.location='12040#1335408834'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-26T02:53:54+00:00">Apr 26, 2012 02:53 AM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1335408834">&nbsp;</a></div><pre>Just for the record, I reproduced it at UCSD with both 7.6.4 and 7.7.6.

Igor

7.6.4
-- Submitter&#58; osg-gw-2.t2.ucsd.edu &#58; &#60;169.228.130.16&#58;44069&#62; &#58; osg-gw-2.t2.ucsd.edu
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
3694120.0   uscms1369       4/25 17&#58;24   0+00&#58;26&#58;30 R  0   195.3 data -v std -clust
3694121.0   uscms1369       4/25 17&#58;24   0+00&#58;26&#58;30 R  0   244.1 data -v std -clust
3694122.0   uscms1369       4/25 17&#58;24   0+00&#58;26&#58;30 R  0   97.7 data -v std -clust
3694221.0   uscms1369       4/25 17&#58;34   0+00&#58;26&#58;30 R  0   97.7 data -v std -clust
3694222.0   uscms1369       4/25 17&#58;34   0+00&#58;26&#58;30 R  0   26855.5 data -v std -clust
3694223.0   uscms1369       4/25 17&#58;34   0+00&#58;25&#58;45 R  0   195.3 data -v std -clust
3694224.0   uscms1369       4/25 17&#58;34   0+00&#58;25&#58;45 R  0   146.5 data -v std -clust
3694225.0   uscms1369       4/25 17&#58;34   0+00&#58;25&#58;45 R  0   26855.5 data -v std -clust
3694233.0   uscms1369       4/25 17&#58;41   0+00&#58;25&#58;02 R  0   97.7 data -v std -clust
3694234.0   uscms1369       4/25 17&#58;41   0+00&#58;25&#58;02 R  0   97.7 data -v std -clust

7.7.6
-- Submitter&#58; osg-gw-2.t2.ucsd.edu &#58; &#60;169.228.130.16&#58;44069&#62; &#58; osg-gw-2.t2.ucsd.edu
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
3694506.0   uscms1369       4/25 19&#58;28   0+00&#58;18&#58;49 R  0   14648.4 data -v std -clust
3694507.0   uscms1369       4/25 19&#58;28   0+00&#58;18&#58;49 R  0   97.7 data -v std -clust
3694508.0   uscms1369       4/25 19&#58;28   0+00&#58;18&#58;49 R  0   97.7 data -v std -clust</pre></div><div class='update_description'><i onclick="document.location='12040#1335374227'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-25T17:17:07+00:00">Apr 25, 2012 05:17 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1335374227">&nbsp;</a></div><pre>There is a workaround we can do on the FermiGrid side, namely
to change our individual condor pools to kill on ResidentSetSize
rather than on ImageSize.  That change is planned for May 1.
Can&#39;t be implemented until we are running condor 7.6.6 everywhere.

We&#39;ve had several false alarms when we see havoc on the cluster,
look at condor_q and the first obvious culprit is an external user
who looks like he is using 9GB/RAM per job.  We&#39;ve falsely accused
one GLOW user 2 or 3 times now.  We want to get this resolved so that it
is easier to find the real memory-usage culprits.

Steve Timm

On Wed, 25 Apr 2012, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12040#1335373367'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-25T17:02:47+00:00">Apr 25, 2012 05:02 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1335373367">&nbsp;</a></div><pre>Bummer.

I guess we have no workaround then.
Will just have to live with the occasional killing; most glideins seem to survive anyhow.

Igor</pre></div><div class='update_description'><i onclick="document.location='12040#1335365948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-25T14:59:08+00:00">Apr 25, 2012 02:59 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1335365948">&nbsp;</a></div><pre>condor 7.6.2 also exhibits increased image sizes, see below. I am using
simple shell script that prints some system infor like uname, hostname
etc and sleeps and yet the image size is 2929.7 in some cases.

-- Submitter&#58; fcdft0x1.fnal.gov &#58; &#60;131.225.152.204&#58;52061&#62; &#58; fcdft0x1.fnal.gov
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
700083.0   samgrid         4/24 23&#58;00   0+10&#58;39&#58;51 R  0   415.0 data -v std -clust
700085.0   samgrid         4/24 23&#58;00   0+10&#58;10&#58;13 R  0   341.8 data -v std -clust
700086.0   samgrid         4/24 23&#58;00   0+10&#58;10&#58;12 R  0   439.5 data -v std -clust
700087.0   samgrid         4/24 23&#58;00   0+10&#58;10&#58;12 R  0   341.8 data -v std -clust
700088.0   samgrid         4/24 23&#58;00   0+10&#58;10&#58;13 R  0   293.0 data -v std -clust
700089.0   samgrid         4/24 23&#58;00   0+10&#58;10&#58;13 R  0   2929.7 data -v std -clust
700090.0   samgrid         4/24 23&#58;01   0+10&#58;09&#58;13 R  0   293.0 data -v std -clust
700091.0   samgrid         4/24 23&#58;01   0+10&#58;09&#58;13 R  0   293.0 data -v std -clust
700092.0   samgrid         4/24 23&#58;01   0+10&#58;09&#58;12 R  0   2929.7 data -v std -clust
700093.0   samgrid         4/24 23&#58;01   0+10&#58;09&#58;13 R  0   2929.7 data -v std -clust
700094.0   samgrid         4/24 23&#58;01   0+10&#58;09&#58;13 R  0   293.0 data -v std -clust
700095.0   samgrid         4/24 23&#58;01   0+10&#58;09&#58;12 R  0   439.5 data -v std -clust

List of processes running on the worker node under the glidein user for
one of the bloated jobs is as follows

top - 09&#58;55&#58;38 up 85 days,  8&#58;42,  1 user,  load average&#58; 39.22, 39.31, 39.37
Tasks&#58; 1234 total,  40 running, 1192 sleeping,   0 stopped,   2 zombie
Cpu(s)&#58;  0.1%us,  0.7%sy, 99.2%ni,  0.0%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem&#58;  66007516k total, 28887284k used, 37120232k free,  4325792k buffers
Swap&#58;  8385920k total,      216k used,  8385704k free, 16331844k cached

PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
516 samgrid   15   0 17804 2160  932 R  1.3  0.0   0&#58;00.43 top
354 samgrid   15   0 70980 2076 1176 S  0.0  0.0   0&#58;00.08 tcsh
503 samgrid   15   0 70288 1640 1252 S  0.0  0.0   0&#58;00.00 bash
636 samgrid   27  10  3816  456  384 S  0.0  0.0   0&#58;00.00 sleep
2534 samgrid   26  10 15212 1444 1128 S  0.0  0.0   0&#58;00.05 condor_startup.
2951 samgrid   25  10 35156 5604 4372 S  0.0  0.0   0&#58;00.34 condor_master
<div id='show_597092617' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_597092617'>2955 samgrid   25  10 35152 5612 4376 S  0.0  0.0   0&#58;00.20 condor_master
2957 samgrid   26  10 28216 8840 1168 S  0.0  0.0   0&#58;31.68 condor_procd
2959 samgrid   26  10 28336 9208 1168 S  0.0  0.0   2&#58;04.41 condor_procd
2960 samgrid   25  10 35788 5988 4696 S  0.0  0.0   0&#58;00.53 condor_startd
2961 samgrid   25  10 35804 6232 4828 S  0.0  0.0   0&#58;09.13 condor_startd
3533 samgrid   25  10 34876 6056 4756 S  0.0  0.0   0&#58;00.17 condor_starter
3620 samgrid   26  10 15060 1348 1064 S  0.0  0.0   0&#58;00.13 condor_exec.exe
32628 samgrid   26  10 15348 1644 1140 S  0.0  0.0   0&#58;00.26 data

--
Thanks & Regards
+==========================================================
| Parag Mhashilkar
| Fermi National Accelerator Laboratory, MS 120
| Wilson & Kirk Road, Batavia, IL - 60510
|----------------------------------------------------------
| Phone&#58; 1 (630) 840-6530 Fax&#58; 1 (630) 840-2783
|----------------------------------------------------------
| Wilson Hall, 867E (Nov 17, 2010 - To date)
| Wilson Hall, 863E (Apr 24, 2007 - Nov 16, 2010)
| Wilson Hall, 856E (Mar 21, 2005 - Apr 23, 2007)
+==========================================================

On Tue, 2012-04-24 at 19&#58;23 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_597092617').click(function() {
            $('#detail_597092617').slideDown("normal");
            $('#show_597092617').hide();
            $('#hide_597092617').show();
        });
        $('#hide_597092617').click(function() {
            $('#detail_597092617').slideUp();
            $('#hide_597092617').hide();
            $('#show_597092617').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12040#1335295388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-24T19:23:08+00:00">Apr 24, 2012 07:23 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1335295388">&nbsp;</a></div><pre>No--we have now conclusively proved that changing the JAVA config
doesn&#39;t help, that we still have the problem and that
we also see it when Java is disabled entirely.
We have also proved that glideinwms 2.5.7 =+ condor 7.6.6
has the problem, glideinwms 2.5.7 + condor 7.4.3 is OK.

Steve

On Tue, 24 Apr 2012, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12040#1335295207'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-24T19:20:07+00:00">Apr 24, 2012 07:20 PM UTC</time> by <b>Parag Mhashilkar</b><a class="anchor" name="1335295207">&nbsp;</a></div><pre>Its not java. I had CDF folks disable java and the image size still goes
up with condor 7.6.6.

However, going back to condor 7.4.3 for the glideins, the image size was
sane even when java was enabled.

--
Thanks & Regards
+==========================================================
| Parag Mhashilkar
| Fermi National Accelerator Laboratory, MS 120
| Wilson & Kirk Road, Batavia, IL - 60510
|----------------------------------------------------------
| Phone&#58; 1 (630) 840-6530 Fax&#58; 1 (630) 840-2783
|----------------------------------------------------------
| Wilson Hall, 867E (Nov 17, 2010 - To date)
| Wilson Hall, 863E (Apr 24, 2007 - Nov 16, 2010)
| Wilson Hall, 856E (Mar 21, 2005 - Apr 23, 2007)
+==========================================================

On Tue, 2012-04-24 at 19&#58;08 +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12040#1335294522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-24T19:08:42+00:00">Apr 24, 2012 07:08 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1335294522">&nbsp;</a></div><pre>Hi Steve.

I though the problem was botched Java config on your worker nodes, and you fixed that.

Adding Parag in CC, in case he has something to add.

Igor</pre></div><div class='update_description'><i onclick="document.location='12040#1335293769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-24T18:56:09+00:00">Apr 24, 2012 06:56 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1335293769">&nbsp;</a></div><pre>We have been in touch with the glideinwms maintainers about this
problem for quite some time.  Basically the hcc and glow jobs
in question are getting killed because condor reports an ImageSize
greater than 10GB.  All of the memory usage is coming from the machinery
of condor as the glidein starts up, and not the actual user payload
itself.  Parag Mhashilkar,
one of the developers, is working a on set of tests right now as we speak.

FermiGrid will have a workaround for this after May 1 so that we
don&#39;t kill jobs of this kind, but the glidein factory should still
get this fixed because there are other problems that the high ImageSize
causes.

Steve Timm

On Tue, 24 Apr 2012, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12040#1335293011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-24T18:43:31+00:00">Apr 24, 2012 06:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1335293011">&nbsp;</a></div><pre>[by Alison McCrea]

We&#39;re seeing a lot of empty glidein logs from fermigridosg1 failing for the glow and hcc glideins. Looking at logs we found that many nodes (~40%) are exhibiting black hole behavior and jobs are only running for 5-10 minutes before being kicked.

Here are GridJobIds for a few glideins failing on suspected black holes&#58;

GridJobId&#58; gt2 fermigridosg1.fnal.gov&#58;2119/jobmanager-condor <a href='https&#58;//fermigridosg1.fnal.gov&#58;46912/25327/1335282809/' target='_blank' rel='nofollow'>https&#58;//fermigridosg1.fnal.gov&#58;46912/25327/1335282809/</a>

GridJobId&#58; gt2 fermigridosg1.fnal.gov&#58;2119/jobmanager-condor <a href='https&#58;//fermigridosg1.fnal.gov&#58;46894/25322/1335282809/' target='_blank' rel='nofollow'>https&#58;//fermigridosg1.fnal.gov&#58;46894/25322/1335282809/</a>

GridJobId&#58; gt2 fermigridosg1.fnal.gov&#58;2119/jobmanager-condor <a href='https&#58;//fermigridosg1.fnal.gov&#58;46921/13733/1335269412/' target='_blank' rel='nofollow'>https&#58;//fermigridosg1.fnal.gov&#58;46921/13733/1335269412/</a>

We&#39;re submitting to&#58; gatekeeper=&#34;fermigridosg1.fnal.gov&#58;2119/jobmanager-condor&#34; gridtype=&#34;gt2&#34; rsl=&#34;(queue=default)(jobtype=single)(gluerequirements=(requirements &#39;GlueSubClusterName =!= GlueClusterName&#39;))(subclusterrsl=true)(minmemory=1500)&#34;

We would appreciate if you could investigate on your end and get back to us at your earliest convenience.

Thanks,
-Alison
CERN Factory Ops</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12040">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
