<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4775] dCache - gridftp returning private ip to srm server</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4775" method="post">
<div class="page-header">
    <h3><span class="muted">4775</span> / dCache - gridftp returning private ip to srm server</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Neha Sharma</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-04-09</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/4775", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4775?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4775?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20dCache%20-%20gridftp%20returning%20private%20ip%20to%20srm%20server%20ISSUE%3D4775%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4775#1208893930'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-22T19:52:10+00:00">Apr 22, 2008 07:52 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1208893930">&nbsp;</a></div><pre>Neha, Ted&#58;

Thanks for the suggestion.  Actually, I have found a different way
around this particular problem.  I&#39;ve been meaning to get back to
you to let you know this issue is resolved, sorry for the delay.

What I wound up doing is removing all entries for the host in
question from the /etc/hosts file (on that host).  This way all
hostname&#60;-&#62;IP lookups are done through DNS rather than the
hosts file.  This seems to affect the order in which the
lookups are done, and solves the dual-homing problem.

- Charles</pre></div><div class='update_description'><i onclick="document.location='4775#1206477142'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-25T20:32:22+00:00">Mar 25, 2008 08:32 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1206477142">&nbsp;</a></div><pre>Support contact will get in touch with user asap. Also will ping the user again.</pre></div><div class='update_description'><i onclick="document.location='4775#1205965603'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-19T22:26:43+00:00">Mar 19, 2008 10:26 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1205965603">&nbsp;</a></div><pre>Hi Abishek.

On a pool, what do &#34;uct2-grid5.uchicago.edu&#34; and &#34;uct2-grid5.mwt2.org&#34;
resolve to?

Abhishek

At the moment, is it set up so that&#58;

uct2-grid5.uchicago.edu = 128.135.158.237
uct2-grid5.mwt2.org = 10.1.2.237

The pool (c001) is only on the 10.1.2 network
but can access 128.135.158.237 via a host route.

While trying to get SRM to work, I tried
changing the internal DNS server and /etc/hosts
files so that XXX.uchicago.edu and XXX.mwt2.org
would both resolve to the 128.135.158 address
(for hosts that have both a private and public
IPs) but when I did this it caused a lot of
other things (ssh, pbs) to stop working and
I reverted the change.

- Charles

-- On Tue, 03/18/08 3&#58;43pm-0500, Charles Waldman wrote&#58;

Hello.  We have recently installed dCache version
production-1-8-0-12p6(1.17), using the VDT installer
(vdt-dcache-SL4_32-2.1.6).

I am attempting to set up an SRM door on the server
uct2-dc1.uchicago.edu.  Currently, on the uchicago.edu
dCache installation, dcap and gridftp transfers are
<div id='show_1952543428' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1952543428'>working fine, but srm is not working.  The problem
is related to the fact that our cluster has a private
network for the compute pools, which are also serving
as dCache pools.

The layout is as follows&#58;  there are 10 machines,
uct2-grid1 through uct2-grid7, as well as uct2-dc1
through uct2-dc3.  Then, there are a large number
of compute nodes, of which 34 are dCache pools -
uct2-c001 through uct2-c034.

The head nodes (gridX and dcX) all have two network
interfaces, one which has an address on the uchicago.edu
public interface (128.135.158.xxx) and the other which
has an address on a private network (10.1.2.xxx).

The compute/pool nodes only have a single network
interface and have adresses in the 10.1.2. network.

The setup of DNS and /etc/hosts is somewhat complex,
it returns either a 10.1.2. or a 128.135.158 address,
depending on whether the domain &#34;mwt2.org&#34; or &#34;uchicago.edu&#34;
is used, and also depending on who is querying DNS (there
is a private DNS server that only services the compute
nodes, and hands out 10.1.2 addresses.  The public DNS
server hands out 128.135.158 addresses.)

There are dCache pools on the compute nodes, as well as
on the three &#34;dc&#34; nodes.  There are also 3 gridftp doors,
on uct2-dc1.uchicago.edu, uct2-grid5.uchicago.edu and
uct2-grid7.uchicago.edu.  Gridftp transfers work to/from
all of the gridftp doors.

When I try to do an SRM transfer from off-site, using the
following command&#58;

srmcp -debug &#92;
<a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443/pnfs/uchicago.edu/test/test111' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443/pnfs/uchicago.edu/test/test111</a> &#92;
file&#58;////tmp/junk

the transfer never completes, and in the debug output I see the
following&#58;

SRMClientV1 &#58; connecting to srm at
httpg&#58;//uct2-dc1.uchicago.edu&#58;8443/srm/managerv1
Tue Mar 18 16&#58;40&#58;37 EDT 2008&#58; connected to server, obtaining proxy
Tue Mar 18 16&#58;40&#58;37 EDT 2008&#58; got proxy of type class
org.dcache.srm.client.SRMClientV1
SRMClientV1 &#58;	get&#58;
surls[0]=&#34;<a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443/pnfs/uchicago.edu/test/test111&#34' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443/pnfs/uchicago.edu/test/test111&#34</a>;
SRMClientV1 &#58;	get&#58; protocols[0]=&#34;http&#34;
SRMClientV1 &#58;	get&#58; protocols[1]=&#34;dcap&#34;
SRMClientV1 &#58;	get&#58; protocols[2]=&#34;gsiftp&#34;
copy_jobs is empty
Tue Mar 18 16&#58;40&#58;39 EDT 2008&#58;  srm returned requestId = -2147468646
Tue Mar 18 16&#58;40&#58;39 EDT 2008&#58; sleeping 4 seconds ...
Tue Mar 18 16&#58;40&#58;44 EDT 2008&#58; FileRequestStatus with
SURL=<a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443/pnfs/uchicago.edu/test/test111' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443/pnfs/uchicago.edu/test/test111</a>
is Ready
Tue Mar 18 16&#58;40&#58;44 EDT 2008&#58;        received
TURL=gsiftp&#58;//10.1.2.237&#58;2811//pnfs/uchicago.edu/test/test111
Tue Mar 18 16&#58;40&#58;44 EDT 2008&#58; fileIDs is empty, breaking the loop
copy_jobs is not empty
copying CopyJob, source =
gsiftp&#58;//10.1.2.237&#58;2811//pnfs/uchicago.edu/test/test111 destination =
file&#58;////tmp/junk
GridftpClient&#58; memory buffer size is set to 131072
GridftpClient&#58; connecting to 10.1.2.237 on port 2811

Note that the connection to the SRM server seems OK, but the
SRM server returns a gsiftp URL with the address 10.1.2.237.
This IP is the *internal* address of uct2-grid5.uchicago.edu,
i.e. the address of that host on the private network.  This
host is indeed one of the gridftp doors, but outside clients
will not be able to access it at 10.1.2.237 - they should be
using 128.135.158.237, or just the hostname &#34;uct2-grid5.uchicago.edu&#34;
or &#34;uct2-grid5.mwt2.org&#34;.   So, my question is - where is the
SRM door getting &#34;10.1.2.237&#34; and how do I control this?

Thanks in advance for any help,

- Charles
</div><script type='text/javascript'>
        $('#show_1952543428').click(function() {
            $('#detail_1952543428').slideDown("normal");
            $('#show_1952543428').hide();
            $('#hide_1952543428').show();
        });
        $('#hide_1952543428').click(function() {
            $('#detail_1952543428').slideUp();
            $('#hide_1952543428').hide();
            $('#show_1952543428').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4775">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 4775});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
