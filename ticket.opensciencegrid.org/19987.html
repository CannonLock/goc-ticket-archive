<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[19987] filelists.sqlite.bz2 missing from last release</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=19987" method="post">
<div class="page-header">
    <h3><span class="muted">19987</span> / filelists.sqlite.bz2 missing from last release</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Elizabeth Prout</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Elizabeth Prout</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for release</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-06-13</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/19987", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='19987#1402501324'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-11T15:42:04+00:00">Jun 11, 2014 03:42 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1402501324">&nbsp;</a></div><pre>Since the original issue has been resolved and SOFTWARE-1490 was released, I&#39;m marking this ticket as closed.</pre></div><div class='update_description'><i onclick="document.location='19987#1402323103'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-06-09T14:11:43+00:00">Jun 9, 2014 02:11 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1402323103">&nbsp;</a></div><pre>According to JIRA SOFTWARE-1490, the patch for this issue is scheduled for release on 2014-06-10.

I am changing the Software owner to Carl, since he owns the JIRA ticket, too.</pre></div><div class='update_description'><i onclick="document.location='19987#1400855628'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-23T14:33:48+00:00">May 23, 2014 02:33 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1400855628">&nbsp;</a></div><pre>I raised the priority of the JIRA Software ticket. It seems like an easy thing to do, so my hope is that we can just get it done.</pre></div><div class='update_description'><i onclick="document.location='19987#1400787295'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-22T19:34:55+00:00">May 22, 2014 07:34 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1400787295">&nbsp;</a></div><pre>I wasn&#39;t aware of one, so I created SOFTWARE-1490.</pre></div><div class='update_description'><i onclick="document.location='19987#1400170528'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-15T16:15:28+00:00">May 15, 2014 04:15 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1400170528">&nbsp;</a></div><pre>Mat,

For my part this ticket has been resolved but it appears that Brian had a question&#58;  21 days ago by Brian Lin Mat/Soichi&#58; Did you guys make a JIRA ticket for updating the mash script?
If I can assist please let me know.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='19987#1399388446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T15:00:46+00:00">May 6, 2014 03:00 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1399388446">&nbsp;</a></div><pre>I&#39;m in the process of cleaning up my VM and it appears that all is working well.
Is see there is another issue in this ticket that might need a Jira ticket so please let me know if that has been completed
so I can close this ticket.

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='19987#1399291885'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-05T12:11:25+00:00">May 5, 2014 12:11 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1399291885">&nbsp;</a></div><pre>Mat,

Do you have an update for Brian&#39;s question?

I&#39;ll talk to Vince when he gets in later.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='19987#1398890391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-30T20:39:51+00:00">Apr 30, 2014 08:39 PM UTC</time> by <b>echism</b><a class="anchor" name="1398890391">&nbsp;</a></div><pre>I&#39;m assigning this to Kyle and Vince while I&#39;m out.</pre></div><div class='update_description'><i onclick="document.location='19987#1398272172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-23T16:56:12+00:00">Apr 23, 2014 04:56 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1398272172">&nbsp;</a></div><pre>Mat/Soichi&#58; Did you guys make a JIRA ticket for updating the mash script?
Elizabeth&#58; Is this still a problem? Did the yum clean with additional flags help?</pre></div><div class='update_description'><i onclick="document.location='19987#1396899005'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-07T19:30:05+00:00">Apr 7, 2014 07:30 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1396899005">&nbsp;</a></div><pre>Soichi / Mat, any update on this one?

Carl</pre></div><div class='update_description'><i onclick="document.location='19987#1395353892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T22:18:12+00:00">Mar 20, 2014 10:18 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1395353892">&nbsp;</a></div><pre>Soichi,
Can you send me that mash patch so I can update our package?
-Mat</pre></div><div class='update_description'><i onclick="document.location='19987#1395249846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-19T17:24:06+00:00">Mar 19, 2014 05:24 PM UTC</time><a class="anchor" name="1395249846">&nbsp;</a></div><pre>Ping

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='19987#1395085533'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-17T19:45:33+00:00">Mar 17, 2014 07:45 PM UTC</time><a class="anchor" name="1395085533">&nbsp;</a></div><pre>Hi Elizabeth,

Do you have any news if the flags given my Brian made the trick?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='19987#1394210926'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-07T16:48:46+00:00">Mar 7, 2014 04:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1394210926">&nbsp;</a></div><pre>Hey Brian,

We did yum clean all before I opened this ticket. I will direct vince to try those specific flags.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='19987#1394144411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-06T22:20:11+00:00">Mar 6, 2014 10:20 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1394144411">&nbsp;</a></div><pre>Mat&#58; This is one of the intermittent errors we were running into in our nightlies but it went away when we added yum clean + retries.

Elizabeth&#58; Try running the following and see if that fixes your problem&#58;
yum clean --enablerepo=* all
yum clean --enablerepo=* expire-cache</pre></div><div class='update_description'><i onclick="document.location='19987#1394143977'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-06T22:12:57+00:00">Mar 6, 2014 10:12 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1394143977">&nbsp;</a></div><pre>Yes, I am the current maintainer. Go ahead and make me a JIRA ticket and I&#39;ll take a look next week (I&#39;m out tomorrow).
-Mat</pre></div><div class='update_description'><i onclick="document.location='19987#1394143561'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-06T22:06:01+00:00">Mar 6, 2014 10:06 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1394143561">&nbsp;</a></div><pre>Mat,

repo1/2 uses mash that is distributed by OSG repo, and it looks like (to me) that you are the current maintainer.
<font color='#7F7E6F'>&#62; <a href='https&#58;//koji-hub.batlab.org/koji/packageinfo?packageID=213' target='_blank' rel='nofollow'>https&#58;//koji-hub.batlab.org/koji/packageinfo?packageID=213</a></font>

If I am correct, should I open a jira ticket under SOFTWARE and assign you with this issue? I had a patch to fix this on mash, and I might be able to provide you that as well.</pre></div><div class='update_description'><i onclick="document.location='19987#1394142018'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-06T21:40:18+00:00">Mar 6, 2014 09:40 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1394142018">&nbsp;</a></div><pre>I&#39;ve seen this issue happens time-to-time, and I have a suspicion that we have an issue with how we are providing HA capabilities on our repo.grid.iu.edu, and how we are mirroring our repo.

Currently, we have 2 repo.grid.iu.edu instances
<font color='#7F7E6F'>&#62; repo1.grid.iu.edu</font>
<font color='#7F7E6F'>&#62; repo2.grid.iu.edu</font>

GOC&#39;s LVS (ipvsadm) server distributes access to repo.grid.iu.edu to one of these instances, and it uses sticky-session so that when a user makes a connection to one of these instance, it will stay using the same instance for certain amount of period (like 30 minutes?)

We run mash command on both repo1 and repo2 independently, using the identical mash config. I have found a bug (or feature?) in mash such that, content of filelists could be different depending on how the RPMs happens to be listed in the local file system (mash doesn&#39;t sort by the name while creating the checksum). So, even with identical set of configuration, and identical set of RPMs stored in the cache, mesh will generate filelist DB that are different between repo1 and repo2.  I&#39;ve reported this to mash developer(?) long time ago, but I doubt anyone paid attention to this.

Now, our external collaborators uses rsync to mirror from our repo1/2. When the rsync runs, LVS will use either repo1 or repo2 (but not both) to mirror content from. This means that, some mirror will only mirror from repo1, and other from repo2.

For example, batlab currently seems to be mirroring from repo2.

2014-03-06 21&#58;28&#58;00 UTC [hayashis@soichi6]$ ls -lrt
total 3836
-rw-r--r-- 1 hayashis goc 1309759 Mar  6 19&#58;34 batlab.filelists.sqlite.bz2
-rw-r--r-- 1 hayashis goc 1309759 Mar  6 21&#58;04 repo2.filelists.sqlite.bz2
-rw-r--r-- 1 hayashis goc 1301540 Mar  6 21&#58;04 repo1.filelists.sqlite.bz2

If, then, a user access our repo via yum, and get filelists from batlab (which is really repo2), and pulls content from other mirrors that contains data from repo1, then the checksum will probably not match and produce the error that people often see from our yum repo.

If my theory is correct, then the proper way to remedy this is to fix this bug (or feature) that exists on mash command, or somehow synchronize the filelist DB that we publish between repo1 and repo2 manually.

Thanks,
Soichi</pre></div><div class='update_description'><i onclick="document.location='19987#1394139620'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-06T21:00:20+00:00">Mar 6, 2014 09:00 PM UTC</time> by <b>echism</b><a class="anchor" name="1394139620">&nbsp;</a></div><pre>Hey all,

I&#39;m taking a new staff member through a CE install and he&#39;s getting an error concerning filelists.sqlite.bz2. (<a href='http&#58;//t2.unl.edu/osg/3.1/el6/release/x86_64/repodata/filelists.sqlite.bz2' target='_blank' rel='nofollow'>http&#58;//t2.unl.edu/osg/3.1/el6/release/x86_64/repodata/filelists.sqlite.bz2</a>)

The timestamps suggest it was changed today and the checksum is coming back bad on all mirrors for him.

Elizabeth</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F19987">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
