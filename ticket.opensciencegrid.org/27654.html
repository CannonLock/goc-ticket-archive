<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[27654] Shutdown IPv6 on OSG Production network datastore instance</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=27654" method="post">
<div class="page-header">
    <h3><span class="muted">27654</span> / Shutdown IPv6 on OSG Production network datastore instance</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Shawn McKee</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">psds0</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Ops</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Shawn McKee</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">OSG-GOC</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-01-08</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Thomas Lee <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">OSG-GOC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/27654", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='27654#1452286569'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-08T20:56:09+00:00">Jan 8, 2016 08:56 PM UTC</time> by <b>Shawn McKee</b><a class="anchor" name="1452286569">&nbsp;</a></div><pre>Hi Thom,

Yes let&#39;s close this ticket and open any others as required.

Thanks,

Shawn

On Fri, Jan 8, 2016 at 3&#58;34 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='27654#1452285241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-08T20:34:01+00:00">Jan 8, 2016 08:34 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1452285241">&nbsp;</a></div><pre>I believe IPv6 is actually already shut off in production. I have a double-check scheduled for the production window next Tuesday, but it seems to already be shut off.  There may be other issues, but they must have other causes, so shouldn&#39;t they be dealt with in their own tickets?</pre></div><div class='update_description'><i onclick="document.location='27654#1450728847'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-21T20:14:07+00:00">Dec 21, 2015 08:14 PM UTC</time><a class="anchor" name="1450728847">&nbsp;</a></div><pre>I would prefer to leave it open until we turn off ipv6 in production.

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='27654#1450728592'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-21T20:09:52+00:00">Dec 21, 2015 08:09 PM UTC</time> by <b>echism</b><a class="anchor" name="1450728592">&nbsp;</a></div><pre>Hello all,

May I close this? I don&#39;t want these tickets to persist into the new year.

Thank you</pre></div><div class='update_description'><i onclick="document.location='27654#1450367932'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-17T15:58:52+00:00">Dec 17, 2015 03:58 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1450367932">&nbsp;</a></div><pre>Well, a bunch of the ITB activity that should have been documented in <a href='27653.html' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/27653</a> was actually documented here, but then it went back there, and I think things are probably OK on ITB?  So now it&#39;s just a matter of disabling IPv6 and reconfiguring dnsmasq on psds0, which I&#39;ve just done.  Now we&#39;ll see whether this solves the problem on production as it appears to have on ITB.</pre></div><div class='update_description'><i onclick="document.location='27654#1450113562'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-14T17:19:22+00:00">Dec 14, 2015 05:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1450113562">&nbsp;</a></div><pre>Hello,

Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='27654#1449614669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T22:44:29+00:00">Dec 8, 2015 10:44 PM UTC</time><a class="anchor" name="1449614669">&nbsp;</a></div><pre>Hi Tom,

I think that is actually a good signal.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='27654#1449613688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T22:28:08+00:00">Dec 8, 2015 10:28 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1449613688">&nbsp;</a></div><pre>Well this time it had a key, but it timed out instead of failing.</pre></div><div class='update_description'><i onclick="document.location='27654#1449611732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T21:55:32+00:00">Dec 8, 2015 09:55 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1449611732">&nbsp;</a></div><pre>I have found a value for the key; I searched through the Ansible variable definitions and found it.  Unfortunately just running Ansible doesn&#39;t work; the error messages and complications are really beyond the scope of this ticket.  I&#39;ll talk to Soichi about them.  But anyway, the command is running, and we&#39;ll see what the output is like this time.</pre></div><div class='update_description'><i onclick="document.location='27654#1449610100'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T21:28:20+00:00">Dec 8, 2015 09:28 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1449610100">&nbsp;</a></div><pre>Oh, I see what you mean.  I&#39;m not sure what the value of the key should be, however.</pre></div><div class='update_description'><i onclick="document.location='27654#1449610029'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T21:27:09+00:00">Dec 8, 2015 09:27 PM UTC</time><a class="anchor" name="1449610029">&nbsp;</a></div><pre>Well there should be a key there.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='27654#1449609410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T21:16:50+00:00">Dec 8, 2015 09:16 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1449609410">&nbsp;</a></div><pre>I just looked, and that stanza appears in the file.</pre></div><div class='update_description'><i onclick="document.location='27654#1449609188'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T21:13:08+00:00">Dec 8, 2015 09:13 PM UTC</time><a class="anchor" name="1449609188">&nbsp;</a></div><pre>Hi Tom, Soichi,

I am not totally knowlegeable of ansible, but looking at the file here&#58;

/etc/rsv/metrics/org.osg.general.perfsonar-simple.conf

in psds-itb&#58;

It looks like the API key for esmond is missing&#58;

[org.osg.general.perfsonar-simple args]
username = perfsonar
key = {{esmond_perfsonar_apikey}}
goc = http&#58;//localhost

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='27654#1449606113'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-08T20:21:53+00:00">Dec 8, 2015 08:21 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1449606113">&nbsp;</a></div><pre>This is the output from running that command on psds-itb1&#58;

[root@psds-itb1&#58;~]# rsv-control --run --host perfsonar02.datagrid.cea.fr org.osg.general.perfsonar-simple -v 3
INFO&#58; Reading configuration file /etc/rsv/rsv.conf
INFO&#58; Reading configuration file /etc/rsv/consumers.conf
INFO&#58; Validating configuration&#58;
INFO&#58; Validating user&#58;
INFO&#58;     Invoked as root.  Switching to &#39;rsv&#39; user (uid&#58; 494 - gid&#58; 495)
INFO&#58; Registered consumers&#58; html-consumer,json-consumer
INFO&#58; Loading config file &#39;/etc/rsv/meta/metrics/org.osg.general.perfsonar-simple.meta&#39;
INFO&#58; Loading config file &#39;/etc/rsv/metrics/org.osg.general.perfsonar-simple.conf&#39;
DEBUG&#58; Config file &#39;/etc/rsv/metrics/perfsonar02.datagrid.cea.fr/allmetrics.conf&#39; does not exist
INFO&#58; Optional config file &#39;/etc/rsv/metrics/perfsonar02.datagrid.cea.fr/org.osg.general.perfsonar-simple.conf&#39; does not exist
INFO&#58; Checking proxy&#58;
INFO&#58;     Skipping proxy check because need-proxy=false
INFO&#58; Skipping ping check because metric config contains no-ping=True

Running metric org.osg.general.perfsonar-simple&#58;

INFO&#58; Executing job locally
INFO&#58; Forming arguments&#58;
INFO&#58;     Arguments&#58; &#39;[&#39;--username&#39;, &#39;perfsonar&#39;, &#39;--key&#39;, &#39;{{esmond_perfsonar_apikey}}&#39;, &#39;--goc&#39;, &#39;http&#58;//localhost&#39;, &#39;--directoryqueue&#39;, &#39;/usr/local/rsv-perfsonar/&#39;, &#39;--tmpdire
ctory&#39;, &#39;/usr/local/rsv-perfsonar-timestamps/&#39;, &#39;--start&#39;, &#39;910&#39;, &#39;--timeout&#39;, &#39;1650&#39;, &#39;--summary&#39;, &#39;True&#39;, &#39;--debug&#39;, &#39;False&#39;, &#39;--allowedEvents&#39;, &#39;packet-loss-rate,packet-trace,
packet-retransmits,throughput,throughput-subintervals,failures,packet-count-sent,packet-count-lost, histogram-owdelay,histogram-ttl,packet-retransmits-subintervals,packet-loss-ra
te-bidir,packet-count-lost-bidir&#39;, &#39;--maxstart&#39;, &#39;43200&#39;, &#39;--usercert&#39;, &#39;/etc/grid-security/rsv/rsvcert.pem&#39;, &#39;--userkey&#39;, &#39;/etc/grid-security/rsv/rsvkey.pem&#39;]&#39;
INFO&#58; Custom job-timeout (2000 seconds) is set for metric &#39;org.osg.general.perfsonar-simple&#39;
INFO&#58; Setting up job environment&#58;
INFO&#58;     No environment setup declared
INFO&#58; Running command with timeout (2000 seconds)&#58;
/usr/libexec/rsv/metrics/org.osg.general.perfsonar-simple -m org.osg.general.perfsonar-simple -u perfsonar02.datagrid.cea.fr --username perfsonar --key {{esmond_perfsonar
_apikey}} --goc http&#58;//localhost --directoryqueue /usr/local/rsv-perfsonar/ --tmpdirectory /usr/local/rsv-perfsonar-timestamps/ --start 910 --timeout 1650 --summary True --debug
False --allowedEvents packet-loss-rate,packet-trace,packet-retransmits,throughput,throughput-subintervals,failures,packet-count-sent,packet-count-lost, histogram-owdelay,histogr$
m-ttl,packet-retransmits-subintervals,packet-loss-rate-bidir,packet-count-lost-bidir --maxstart 43200 --usercert /etc/grid-security/rsv/rsvcert.pem --userkey /etc/grid-security/$
sv/rsvkey.pem
INFO&#58; Exit code of job&#58; 0
<div id='show_2019969499' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2019969499'>DEBUG&#58; In brief_result()
INFO&#58; Trimming data to 10000 bytes because details-data-trim-length is set
DEBUG&#58; STDERR from metric&#58;

INFO&#58; Result&#58;

metricName&#58; org.osg.general.perfsonar-simple
metricType&#58; status
timestamp&#58; 2015-12-08 20&#58;16&#58;40 UTC
metricStatus&#58; CRITICAL
serviceType&#58; Perfsonar-Monitor
serviceURI&#58; perfsonar02.datagrid.cea.fr
gatheredAt&#58; psds-itb.grid.iu.edu
summaryData&#58; CRITICAL
detailsData&#58; CRITICAL&#58; Failed running the caller
2015-12-08T20&#58;16&#58;32Z
MSG&#58; Last succesfull run at Mon, 09 Feb 2015 16&#58;30&#58;04
MSG&#58;
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58;   InsecureRequestWarning)
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py&#58;789&#58; InsecureRequestWarning&#58; Unverified HTTPS request is being made. Adding certifi
cate verification is strongly advised. See&#58; <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html</a>
MSG&#58;   InsecurePlatformWarning
MSG&#58; /var/rsv/localenv/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.py&#58;100&#58; InsecurePlatformWarning&#58; A true SSLContext object is not available. This prevents u
rllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see <a href='https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur' target='_blank' rel='nofollow'>https&#58;//urllib3.readthedocs.org/en/latest/security.html#insecur</a>
eplatformwarning.
MSG&#58; ERROR&#58;! Unsuccessful! Exception&#58; &#34;Unable to connect to <a href='https&#58;//perfsonar02.datagrid.cea.fr' target='_blank' rel='nofollow'>https&#58;//perfsonar02.datagrid.cea.fr</a>, exception was &#39;POST error&#58; status_code&#58; 401, message&#58; &#39;, &#34; of type&#58; &#34;&#60;type &#39;excep
tions.Exception&#39;&#62;&#34; was thrown! Quitting out.
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;38 Sample of the data being posted {u&#39;packet-retransmits&#39;&#58; 3.0, u&#39;throughput&#39;&#58; 122277000.0}
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;38 For event type packet-retransmits-subintervals, 2 new data points
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;38 For event type throughput, 2 new data points
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;37 For event type packet-retransmits, 2 new data points
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;36 For event type failures, 0 new data points
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;36 For event type throughput-subintervals, 2 new data points
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;35 first time for 000bc4a04eea46a3a3c7370afcff2857
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;35 Reading New METADATA/DATA 000bc4a04eea46a3a3c7370afcff2857
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;33 Unable to connect to <a href='http&#58;//perfsonar02.datagrid.cea.fr' target='_blank' rel='nofollow'>http&#58;//perfsonar02.datagrid.cea.fr</a>, exception was HTTPConnectionPool(host=&#39;perfsonar02.datagrid.cea.fr&#39;, port=80)&#58; Max retries
exceeded with url&#58; /esmond/perfsonar/archive/?time-start=1449476192&time-end=1449692192 (Caused by NewConnectionError(&#39;&#60;requests.packages.urllib3.connection.HTTPConnection objec
t at 0x1739610&#62;&#58; Failed to establish a new connection&#58; [Errno 101] Network is unreachable&#39;,)), trying SSL
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;32 Reading Summaries
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;32 Only reading data for event types&#58; [&#39;packet-loss-rate&#39;, &#39;packet-trace&#39;, &#39;packet-retransmits&#39;, &#39;throughput&#39;, &#39;throughput-subintervals&#39;, &#39;failures&#39;,
&#39;packet-count-sent&#39;, &#39;packet-count-lost&#39;, &#39;histogram-owdelay&#39;, &#39;histogram-ttl&#39;, &#39;packet-retransmits-subintervals&#39;, &#39;packet-loss-rate-bidir&#39;, &#39;packet-count-lost-bidir&#39;]
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;32 Metada interval is from 1449476192 to now
MSG&#58; Tue, 08 Dec 2015 20&#58;16&#58;32 Data interval is from Tue, 08 Dec 2015 08&#58;16&#58;32  to Tue, 08 Dec 2015 20&#58;16&#58;32

EOT

DEBUG&#58; Validating directory &#39;/var/spool/rsv/html-consumer&#39;
DEBUG&#58;     Directory &#39;/var/spool/rsv/html-consumer&#39; already exists
DEBUG&#58;     Directory &#39;/var/spool/rsv/html-consumer&#39; is writable
INFO&#58; Creating record for html-consumer consumer at &#39;/var/spool/rsv/html-consumer/org.osg.general.perfsonar-simple.89DeCz&#39;
DEBUG&#58; Validating directory &#39;/var/spool/rsv/json-consumer&#39;
DEBUG&#58;     Directory &#39;/var/spool/rsv/json-consumer&#39; already exists
DEBUG&#58;     Directory &#39;/var/spool/rsv/json-consumer&#39; is writable
INFO&#58; Creating record for json-consumer consumer at &#39;/var/spool/rsv/json-consumer/org.osg.general.perfsonar-simple.vN93BO&#39;
</div><script type='text/javascript'>
        $('#show_2019969499').click(function() {
            $('#detail_2019969499').slideDown("normal");
            $('#show_2019969499').hide();
            $('#hide_2019969499').show();
        });
        $('#hide_2019969499').click(function() {
            $('#detail_2019969499').slideUp();
            $('#hide_2019969499').hide();
            $('#show_2019969499').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='27654#1449503253'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-07T15:47:33+00:00">Dec 7, 2015 03:47 PM UTC</time><a class="anchor" name="1449503253">&nbsp;</a></div><pre>Hi Tom,

Can you run this&#58;

rsv-control --run --host perfsonar02.datagrid.cea.fr org.osg.general.perfsonar-simple -v 3

And attach the output from the ITB, to see if the change had the correct effect?

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='27654#1449502820'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-07T15:40:20+00:00">Dec 7, 2015 03:40 PM UTC</time> by <b>Thomas Lee</b><a class="anchor" name="1449502820">&nbsp;</a></div><pre>I haven&#39;t done this yet because I&#39;m still waiting for word as to whether the ITB change did what it was expected to do.  Please let me know.</pre></div><div class='update_description'><i onclick="document.location='27654#1449085013'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-02T19:36:53+00:00">Dec 2, 2015 07:36 PM UTC</time> by <b>echism</b><a class="anchor" name="1449085013">&nbsp;</a></div><pre>Sending this to Tom.</pre></div><div class='update_description'><i onclick="document.location='27654#1449067331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-02T14:42:11+00:00">Dec 2, 2015 02:42 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1449067331">&nbsp;</a></div><pre>See ITB version of this ticket at <a href='https&#58;//ticket.grid.iu.edu/27653' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/27653</a>

Once the ITB change is shown to work, we need to disable IPv6 on the Production OSG network datastore collector psds0.grid.iu.edu.

The OSG network datastore is sometimes failing to correctly gather network data when remote perfSONAR instances are dual-stacked (IPv4 and IPv6). We need to disable IPv6 to on the OSG collector hosts (those running the RSV probes).

I believe we only need to run the following command to change the configuration on the host&#58;

sysctl -w net.ipv6.conf.all.disable_ipv6=1

But see below as changes to /etc/hosts and ifcfg-&#60;x&#62; configs may need editing.

To make this persistent across reboots, we may need to modify the Ansible configuration.

Marian Babik provided his Puppet Snippet on how he disables IPv6&#58;

# Disable IPv6

file_line { &#34;/etc/sysconfig/network-scripts/ifcfg-eth0&#34;&#58;
match =&#62; &#39;DHCPV6C=&#34;yes&#34;&#39;,
line =&#62; &#39;DHCPV6C=&#34;no&#34;&#39;,
path =&#62; &#34;/etc/sysconfig/network-scripts/ifcfg-eth0&#34;,
notify =&#62; Service[&#34;network&#34;]
} -&#62;

sysctl { &#39;net.ipv6.conf.all.disable_ipv6&#39;&#58; val =&#62; &#39;1&#39; } -&#62;

file_line { &#34;/etc/hosts&#34;&#58;
line =&#62; &#34;#&#58;&#58;1 localhost localhost.localdomain localhost6 localhost6.localdomain6&#34;,
match =&#62; &#34;.*localhost6.*&#34;,
path =&#62; &#34;/etc/hosts”
}

Shawn

<div id='show_559456767' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_559456767'>by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Shawn McKee 83467

</div><script type='text/javascript'>
        $('#show_559456767').click(function() {
            $('#detail_559456767').slideDown("normal");
            $('#show_559456767').hide();
            $('#hide_559456767').show();
        });
        $('#hide_559456767').click(function() {
            $('#detail_559456767').slideUp();
            $('#hide_559456767').hide();
            $('#show_559456767').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F27654">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
