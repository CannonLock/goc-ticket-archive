<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[18087] srmcp-readwrite fails after update to OSG 3.1.26</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=18087" method="post">
<div class="page-header">
    <h3><span class="muted">18087</span> / srmcp-readwrite fails after update to OSG 3.1.26</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Serguei Fedorov</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Serguei Fedorov</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-12-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/18087", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='18087#1386780874'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-11T16:54:34+00:00">Dec 11, 2013 04:54 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386780874">&nbsp;</a></div><pre>Alright will do! If anything else comes up, go ahead and submit a new ticket.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='18087#1386777072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-11T15:51:12+00:00">Dec 11, 2013 03:51 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1386777072">&nbsp;</a></div><pre>The ticket can be closed.

The issue is resolved .

Thanks

-Serguei

From&#58; Open Science Grid FootPrints [mailto&#58;osg@....]
Sent&#58; Tuesday, December 10, 2013 9&#58;26 PM
To&#58; Serguei Fedorov
Subject&#58; Open Science Grid&#58; srmcp-readwrite fails after update to OSG 3.1.26
ISSUE=18087 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='18087#1386728783'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-11T02:26:23+00:00">Dec 11, 2013 02:26 AM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386728783">&nbsp;</a></div><pre>Can you still srm-copy with your credentials on this new version? Is the DN of &#39;openssl x509 -in /etc/grid-security/rsv/rsvcert.pem -noout -subject&#39; in your grid mapfile?

As for the globus-job-manager errors, you may want to make a new ticket for that.</pre></div><div class='update_description'><i onclick="document.location='18087#1386728771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-11T02:26:11+00:00">Dec 11, 2013 02:26 AM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386728771">&nbsp;</a></div><pre>Can you still srm-copy with your credentials on this new version? Is the DN of &#39;openssl x509 -in /etc/grid-security/rsv/rsvcert.pem -noout -subject&#39; in your grid mapfile?

As for the globus-job-manager errors, you may want to make a new ticket for that.</pre></div><div class='update_description'><i onclick="document.location='18087#1386709289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T21:01:29+00:00">Dec 10, 2013 09:01 PM UTC</time><a class="anchor" name="1386709289">&nbsp;</a></div><pre>In addition to that we are flooded with messages in the log file like&#58;

Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460917]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff58bc6048 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2459452]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fffdb6e7248 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460964]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff22443a28 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460954]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff76494ee8 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460961]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fffbd42bef8 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460972]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff22443a28 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460965]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff58bc6048 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460974]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fffbd42bef8 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460975]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff22443a28 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460941]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff6acdb038 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460977]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fffbd42bef8 error 4
Dec 10 16&#58;00&#58;03 ndcms kernel&#58; globus-job-mana[2460978]&#58; segfault at 0000000000000000 rip 0000003260678f40 rsp 00007fff22443a28 error 4

by /DC=org/DC=doegrids/OU=People/CN=Serguei Fedorov 983106</pre></div><div class='update_description'><i onclick="document.location='18087#1386708968'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T20:56:08+00:00">Dec 10, 2013 08:56 PM UTC</time><a class="anchor" name="1386708968">&nbsp;</a></div><pre>Hello,

I have updated to version 3.1.27
the cmd linwe in RSV.py  has 1024 bits, but get the same error

Do we have to expect newer version ?

Running metric org.osg.srm.srmcp-readwrite (12 of 13)

metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2013-12-10 15&#58;45&#58;57 EST
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; ndcms.crc.nd.edu
gatheredAt&#58; ndcms.crc.nd.edu
summaryData&#58; CRITICAL
detailsData&#58; Failed to transfer file to remote server.
Command&#58; srm-copy &#39;file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file&#39; &#39;<a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386708274.2408448&#39' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386708274.2408448&#39</a>; 2&#62;&1
Output from srm-copy&#58;
srm-copy   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012

BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
OSG Support at osg-software@.... and
documentation at <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/</a>

SRM-CLIENT&#58; Tue Dec 10 15&#58;44&#58;34 EST 2013 Connecting to httpg&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server

SRM-CLIENT&#58; Tue Dec 10 15&#58;44&#58;35 EST 2013 Calling SrmPrepareToPutRequest now ...
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
<div id='show_465726204' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_465726204'>SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SRM-CLIENT&#58; printPutResult&#58;SRM returned null response

SRM-CLIENT&#58; Null response from SRM for this sub request

SRM-CLIENT&#58; Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=0
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=
SRM-CLIENT*REQUEST_STATUS=
SRM-CLIENT*SOURCEURL[0]=file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file
SRM-CLIENT*TARGETURL[0]=<a href='srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386708274.2408448' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386708274.2408448</a>

EOT

by /DC=org/DC=doegrids/OU=People/CN=Serguei Fedorov 983106
</div><script type='text/javascript'>
        $('#show_465726204').click(function() {
            $('#detail_465726204').slideDown("normal");
            $('#show_465726204').hide();
            $('#hide_465726204').show();
        });
        $('#hide_465726204').click(function() {
            $('#detail_465726204').slideUp();
            $('#hide_465726204').hide();
            $('#show_465726204').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='18087#1386695903'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T17:18:23+00:00">Dec 10, 2013 05:18 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1386695903">&nbsp;</a></div><pre>I have root running under my credentials, I did

grid-proxy-init –bits 1024

and can confirm that srm-copy works fine with that –bits 1024.

Thanks

-Serguei</pre></div><div class='update_description'><i onclick="document.location='18087#1386693562'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T16:39:22+00:00">Dec 10, 2013 04:39 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386693562">&nbsp;</a></div><pre>And /etc/grid-security/grid-mapfile is populated, correct? We&#39;re going to edit your gridmapfile so the root user on the server can interact with bestman&#58;

1) Run &#39;openssl x509 -in /etc/grid-security/hostcert.pem -noout -subject&#39;
2) Take everything after &#39;subject= &#39; and add it to /etc/grid-security/grid-mapfile and map it to a user on the system. The line should look something like this&#58;
&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=hostname&#34; user
3) Restart bestman
4) Run &#39;grid-proxy-init -bits 1024 &#39;
5) Run srm-copy, &#39;srm-copy file&#58;///&#60;full path to test file&#62; <a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/test' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/test</a> -debug&#39;

If that succeeds, you can remove the line you added to your grid-security file. I suspect that this is because you got an update from java that requires stronger proxies (1024 bits rather than the previous requirement of 512 bits) and RSV is using the default proxy size generated by grid-proxy-init (<a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1281' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1281</a>). That change is going out in the today&#39;s OSG release so if you don&#39;t want to follow the previous steps, you can just wait for the release and update RSV.</pre></div><div class='update_description'><i onclick="document.location='18087#1386644949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T03:09:09+00:00">Dec 10, 2013 03:09 AM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1386644949">&nbsp;</a></div><pre>Changed
/etc/sysconfig/bestman2

BESTMAN_GUMS_ENABLED=no

Checked /etc/bestman2/conf/bestman2.rc
GridMapFileName=/etc/grid-security/grid-mapfile

Restarted bestman2

service bestman2 restart.

the same errors&#58;

Running metric org.osg.srm.srmcp-readwrite (12 of 13)

metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2013-12-09 22&#58;03&#58;47 EST
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; ndcms.crc.nd.edu
gatheredAt&#58; ndcms.crc.nd.edu
summaryData&#58; CRITICAL
detailsData&#58; Failed to transfer file to remote server.
Command&#58; srm-copy &#39;file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file&#39; &#39;<a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386644546.3619861&#39' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386644546.3619861&#39</a>; 2&#62;&1
Output from srm-copy&#58;
srm-copy   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012

BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
OSG Support at osg-software@.... and
documentation at <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/</a>

<div id='show_265922934' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_265922934'>SRM-CLIENT&#58; Mon Dec 09 22&#58;02&#58;27 EST 2013 Connecting to httpg&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server

SRM-CLIENT&#58; Mon Dec 09 22&#58;02&#58;28 EST 2013 Calling SrmPrepareToPutRequest now ...
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SRM-CLIENT&#58; printPutResult&#58;SRM returned null response

SRM-CLIENT&#58; Null response from SRM for this sub request

SRM-CLIENT&#58; Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=0
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=
SRM-CLIENT*REQUEST_STATUS=
SRM-CLIENT*SOURCEURL[0]=file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file
SRM-CLIENT*TARGETURL[0]=<a href='srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386644546.3619861' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1386644546.3619861</a>

EOT
</div><script type='text/javascript'>
        $('#show_265922934').click(function() {
            $('#detail_265922934').slideDown("normal");
            $('#show_265922934').hide();
            $('#hide_265922934').show();
        });
        $('#hide_265922934').click(function() {
            $('#detail_265922934').slideUp();
            $('#hide_265922934').hide();
            $('#show_265922934').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='18087#1386640537'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T01:55:37+00:00">Dec 10, 2013 01:55 AM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386640537">&nbsp;</a></div><pre>It may not be a new server but it looks like your &#39;/etc/sysconfig/bestman2&#39; and &#39;/etc/bestman2/conf/bestman2.rc&#39; files have the default authorization set up (GUMS without pointing towards a GUMS server). Interestingly enough, the allowed paths are not set to their defaults. I&#39;m not sure how things got in this state but a package update to bestman2 wouldn&#39;t have that effect. If you want to use a gridmapfile, you&#39;re going to need to set it up again&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Configuring_Gridmap_Support' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Configuring_Gridmap_Support</a></pre></div><div class='update_description'><i onclick="document.location='18087#1386633969'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-10T00:06:09+00:00">Dec 10, 2013 12:06 AM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1386633969">&nbsp;</a></div><pre>It is NOT new server, the server worked all the time and bestman stopped working immediately
after update to new version of OSG. The authorization was done in accordance with the documentation for GRIDMAPFILE.

As I remember we started to have issue with bestman authorization when OSG developers switched to jglobus.
The installation of new version of jglobus hellped to resolve the issue, but now I see we have fresh/newest version of jglobus

This is the text of /etc/sysconfig/bestman2&#58;

#################################################################
# BeStMan and BeStMan Clients Copyright(c) 2007-2011,
# Lawrence Berkeley National Laboratory. All rights reserved.
# Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
#################################################################
#
# BESTMAN_SYSCONF contains both external env settings and internal definitions
#
#################################################################
# Below is ONLY for ESTERNAL env settings
#################################################################
#
#
# Initialization
SRM_HOME=/etc/bestman2
BESTMAN_SYSCONF=/etc/sysconfig/bestman2
BESTMAN_SYSCONF_LIB=/etc/sysconfig/bestman2lib
BESTMAN2_CONF=/etc/bestman2/conf/bestman2.rc
JAVA_HOME=/etc/alternatives/java_sdk
#
#
# BeStMan2 server system init variables
BESTMAN_LOG=/var/log/bestman2/bestman2.log
BESTMAN_PID=/var/run/bestman2.pid
BESTMAN_LOCK=/var/lock/bestman2
SRM_OWNER=bestman
#
<div id='show_1168843085' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1168843085'>#
# BeStMan2 server and clients common variables
BESTMAN_LIB=/usr/share/java/bestman2
X509_CERT_DIR=/etc/grid-security/certificates
# GLOBUS_HOSTNAME=
# GLOBUS_LOCATION=
# GLOBUS_TCP_PORT_RANGE=
# GLOBUS_TCP_SOURCE_RANGE=
# VOMSDIR=
# BESTMAN_JAVA_SRM_OTHER_OPTS=
#
#
# BeStMan2 server variables
BESTMAN_MAX_JAVA_HEAP=1024
# BESTMAN_JAVA_STACK_SIZE=
# BESTMAN_EVENT_LOG_COUNT=
# BESTMAN_EVENT_LOG_SIZE=
# BESTMAN_CONNECTOR_QUEUESIZE=
# BESTMAN_CONNECTION_ACCEPTORSIZE=
BESTMAN_GUMSCERTPATH=/etc/grid-security/bestman/bestmancert.pem
BESTMAN_GUMSKEYPATH=/etc/grid-security/bestman/bestmankey.pem
# BESTMAN_GUMSPROXYPATH=
# BESTMAN_PLUGIN=
# BESTMAN_EXTRALIB=
BESTMAN_GUMS_ENABLED=yes
JETTY_DEBUG_ENABLED=no
BESTMAN_GATEWAYMODE_ENABLED=yes
BESTMAN_FULLMODE_ENABLED=no
#
#
# BeStMan2 clients variables
JAVA_CLIENT_MAX_HEAP=512
JAVA_CLIENT_MIN_HEAP=32
# JAVA_CLIENT_STACK_SIZE=

#################################################################

Thanks

-Serguei
</div><script type='text/javascript'>
        $('#show_1168843085').click(function() {
            $('#detail_1168843085').slideDown("normal");
            $('#show_1168843085').hide();
            $('#hide_1168843085').show();
        });
        $('#hide_1168843085').click(function() {
            $('#detail_1168843085').slideUp();
            $('#hide_1168843085').hide();
            $('#show_1168843085').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='18087#1386631153'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-09T23:19:13+00:00">Dec 9, 2013 11:19 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386631153">&nbsp;</a></div><pre>It doesn&#39;t look like you have any authorization set up, were you using GUMS/gridmapfile before? Could you attach your &#39;/etc/sysconfig/bestman2&#39; file? To set up authorization properly on your machine, follow these directions&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#4_2_Authorization' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#4_2_Authorization</a></pre></div><div class='update_description'><i onclick="document.location='18087#1386365768'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-06T21:36:08+00:00">Dec 6, 2013 09:36 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1386365768">&nbsp;</a></div><pre>This file is empty

From&#58; Open Science Grid FootPrints [mailto&#58;osg@....]
Sent&#58; Thursday, December 05, 2013 7&#58;40 PM
To&#58; Serguei Fedorov
Subject&#58; Open Science Grid&#58; srmcp-readwrite fails after update to OSG 3.1.26
ISSUE=18087 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='18087#1386290457'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-06T00:40:57+00:00">Dec 6, 2013 12:40 AM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386290457">&nbsp;</a></div><pre>Interesting, can you get me the contents of &#39;/etc/bestman2/conf/grid-mapfile.empty&#39;?</pre></div><div class='update_description'><i onclick="document.location='18087#1386290169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-06T00:36:09+00:00">Dec 6, 2013 12:36 AM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1386290169">&nbsp;</a></div><pre>It worked before. It is NOT new machine.

-Serguei</pre></div><div class='update_description'><i onclick="document.location='18087#1386289923'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-06T00:32:03+00:00">Dec 6, 2013 12:32 AM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386289923">&nbsp;</a></div><pre>It looks like the proxy you&#39;re using isn&#39;t actually authorized to copy files, what are the contents of &#39;/etc/bestman2/conf/grid-mapfile.empty&#39;. Was this working before or did you just set this machine up?

- Brian</pre></div><div class='update_description'><i onclick="document.location='18087#1386284025'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-05T22:53:45+00:00">Dec 5, 2013 10:53 PM UTC</time><a class="anchor" name="1386284025">&nbsp;</a></div><pre>[root@ndcms ~]# srm-copy file&#58;///root/tmp.txt <a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/test' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/test</a> -debug
srm-copy   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012

BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
OSG Support at osg-software@.... and
documentation at <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/</a>

##############################################################
# SRM_HOME = /etc/bestman2
# BESTMAN_LIB = /usr/share/java/bestman2
# JAVA_HOME = /etc/alternatives/java_sdk
java version &#34;1.7.0_45&#34;
OpenJDK Runtime Environment (rhel-2.4.3.1.el5_10-x86_64 u45-b15)
OpenJDK 64-Bit Server VM (build 24.45-b08, mixed mode)

# BESTMAN_SYSCONF = /etc/sysconfig/bestman2
##############################################################
#################################################################
# BeStMan and BeStMan Clients Copyright(c) 2007-2011,
# Lawrence Berkeley National Laboratory. All rights reserved.
# Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
#################################################################
#
# BESTMAN_SYSCONF contains both external env settings and internal definitions
#
#################################################################
# Below is ONLY for ESTERNAL env settings
#################################################################
#
#
# Initialization
SRM_HOME=/etc/bestman2
BESTMAN_SYSCONF=/etc/sysconfig/bestman2
<div id='show_862355153' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_862355153'>BESTMAN_SYSCONF_LIB=/etc/sysconfig/bestman2lib
BESTMAN2_CONF=/etc/bestman2/conf/bestman2.rc
JAVA_HOME=/etc/alternatives/java_sdk
#
#
# BeStMan2 server system init variables
BESTMAN_LOG=/var/log/bestman2/bestman2.log
BESTMAN_PID=/var/run/bestman2.pid
BESTMAN_LOCK=/var/lock/bestman2
SRM_OWNER=bestman
#
#
# BeStMan2 server and clients common variables
BESTMAN_LIB=/usr/share/java/bestman2
X509_CERT_DIR=/etc/grid-security/certificates
# GLOBUS_HOSTNAME=
# GLOBUS_LOCATION=
# GLOBUS_TCP_PORT_RANGE=
# GLOBUS_TCP_SOURCE_RANGE=
# VOMSDIR=
# BESTMAN_JAVA_SRM_OTHER_OPTS=
#
#
# BeStMan2 server variables
BESTMAN_MAX_JAVA_HEAP=1024
# BESTMAN_JAVA_STACK_SIZE=
# BESTMAN_EVENT_LOG_COUNT=
# BESTMAN_EVENT_LOG_SIZE=
# BESTMAN_CONNECTOR_QUEUESIZE=
# BESTMAN_CONNECTION_ACCEPTORSIZE=
BESTMAN_GUMSCERTPATH=/etc/grid-security/bestman/bestmancert.pem
BESTMAN_GUMSKEYPATH=/etc/grid-security/bestman/bestmankey.pem
# BESTMAN_GUMSPROXYPATH=
# BESTMAN_PLUGIN=
# BESTMAN_EXTRALIB=
BESTMAN_GUMS_ENABLED=yes
JETTY_DEBUG_ENABLED=no
BESTMAN_GATEWAYMODE_ENABLED=yes
BESTMAN_FULLMODE_ENABLED=no
#
#
# BeStMan2 clients variables
JAVA_CLIENT_MAX_HEAP=512
JAVA_CLIENT_MIN_HEAP=32
# JAVA_CLIENT_STACK_SIZE=

#################################################################
# BESTMAN_SYSCONF_LIB = /etc/sysconfig/bestman2lib
##############################################################
#################################################################
# BeStMan and BeStMan Clients Copyright(c) 2007-2011,
# Lawrence Berkeley National Laboratory. All rights reserved.
# Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
#################################################################
#
#
####################################################################
# Below is only for BESTMAN2 SERVER and BESTMAN2 CLIENT LIB settings
####################################################################
#
#
if [ &#34;x$BESTMAN_SYSCONF_MODE&#34; = &#34;xserver&#34; ]; then
BESTMAN2_SERVER_LIB=.
# Axis and related dependencies
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath axis wsdl4j commons-discovery commons-logging bestman2/axis log4j)
# GUMS and related deps
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath commons-collections joda-time voms-api-java trustmanager trustmanager-axis xalan-j2 jakarta-commons-lang)
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;/usr/lib/gums/privilege-xacml-2.2.4.jar&#58;/usr/lib/gums/openws-1.2.2.jar&#58;/usr/lib/gums/opensaml-2.2.3.jar&#58;/usr/lib/gums/xmltooling-1.3.2-1.jar&#58;/usr/lib/gums/velocity-1.5.jar&#58;/usr/lib/gums/xmlsec-1.4.2.jar
# Jetty JARs
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath jetty)
# jglobus JARs
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath jglobus bcprov cog-jglobus-axis)
# Remainder odds-n-ends
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath bestman2/others)
else
BESTMAN2_CLIENT_LIB=.&#58;$(build-classpath cog-jglobus-axis)
BESTMAN2_CLIENT_LIB=$BESTMAN2_CLIENT_LIB&#58;$(build-classpath axis wsdl4j commons-discovery commons-logging bestman2/axis log4j)
BESTMAN2_CLIENT_LIB=$BESTMAN2_CLIENT_LIB&#58;$(build-classpath jglobus bcprov)
fi
#################################################################
##############################################################
# X509_USER_PROXY = /tmp/x509up_u0
##############################################################

Parsing config file (2)/etc/bestman2/conf/srmclient.conf
SRM-CLIENT&#58; Creating request
SRM-CLIENT&#58; Totalfiles in the request &#58; 1

SRM-CLIENT&#58; Get Credential for proxyPath /tmp/x509up_u0
===================================
BeStMan Client Configuration
ConfFile=/etc/bestman2/conf/srmclient.conf
InputFile=
TargetDir=
ProxyFile=/tmp/x509up_u0
MaxFilesPerRequest=all the files in the input file
serviceUrl=httpg&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server
Debug ON=true
Quiet ON=false
PushMode=false
3PartyCopy=false
Renew proxy=false
KeepSpace=true
FileStorageType=null
RetentionPolicy=REPLICA
AccessLatency=ONLINE
AuthId=
doReserveSpace=false
doReleaseSpace=false
BufferSize=0
BlockSize=0
Parallelism=1
NumRetry=3
RetryTimeOut=60
Overwrite=true
Status Maximum time allowed=10800 seconds
Status Wait time =10 seconds
Using default TokenLifeTime
DirectGsiFTP=false
domkdir=false
connectiontimeoutAllowed=600
sethttptimeoutAllowed=600
===================================
SRM-CLIENT&#58; Thu Dec 05 17&#58;51&#58;04 EST 2013 Connecting to httpg&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server

SRM-CLIENT&#58; Get Credential for proxyPath /tmp/x509up_u0
SRM-CLIENT&#58; user credentials is /DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu

SRM-CLIENT&#58; ProxyType found 10

SRM-CLIENT&#58; full delegation by system
SRM-CLIENT&#58; &#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;&#58;
SRM-CLIENT&#58; &#58;&#58;&#58;&#58; Input parameters for SrmPrepareToPutRequest &#58;&#58;&#58;&#58;&#58;&#58;&#58;
SRM-CLIENT&#58; From URL (0)=file&#58;///root/tmp.txt
SRM-CLIENT&#58; To URL (0)=<a href='srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/test' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/test</a>
SRM-CLIENT&#58; FileSize (0)=12578
SRM-CLIENT&#58; AuthorizationID=
SRM-CLIENT&#58; Overwrite=true
SRM-CLIENT&#58; Protocols=gsiftp,http,https,ftp,
SRM-CLIENT&#58; RetentionPolicy=REPLICA
SRM-CLIENT&#58; ACCESSINFO=ONLINE
SRM-CLIENT&#58; StorageInfo=

SRM-CLIENT&#58; Thu Dec 05 17&#58;51&#58;05 EST 2013 Calling SrmPrepareToPutRequest now ...

SRM-CLIENT&#58; ####### Output from SRM #####
request.token =null
Request.status=SRM_AUTHORIZATION_FAILURE
explanation=not mapped./DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu
request.remainingTotalRequestTime=null
SRM-CLIENT&#58; printPutResult&#58;SRM returns null getArrayOfFileStatuses
SRM-CLIENT&#58; Explanation from responseBuffer=not mapped./DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.eduSRM_AUTHORIZATION_FAILURE

SRM-CLIENT&#58; Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=0
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=null
SRM-CLIENT*REQUEST_STATUS=SRM_AUTHORIZATION_FAILURE
SRM-CLIENT*REQUEST_EXPLANATION=not mapped./DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu
SRM-CLIENT*SOURCEURL[0]=file&#58;///root/tmp.txt
SRM-CLIENT*TARGETURL[0]=<a href='srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/test' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/test</a>

========================================================
&#60;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&#62;
&#60;report filename=&#34;&#34;
request-explanation=&#34;not mapped./DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu&#34;
request-status=&#34;SRM_AUTHORIZATION_FAILURE&#34; requesttype=&#34;put&#34;
rids=&#34;null&#34; totalfiles=&#34;1&#34; totalfiles-failed=&#34;0&#34;
totalfiles-per-request=&#34;1&#34; totalfiles-subrequests=&#34;1&#34; totalfiles-success=&#34;0&#34;&#62;
&#60;file&#62;
&#60;sourceurl&#62;file&#58;///root/tmp.txt&#60;/sourceurl&#62;
&#60;targeturl&#62;<a href='srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/test&#60' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/test&#60</a>;/targeturl&#62;
&#60;transferurl/&#62;
&#60;actualsize/&#62;
&#60;file-status/&#62;
&#60;file-explanation/&#62;
&#60;timetaken/&#62;
&#60;/file&#62;
&#60;/report&#62;

==========================================================
[root@ndcms ~]# grid-proxy-info
subject  &#58; /DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu/CN=proxy
issuer   &#58; /DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu
identity &#58; /DC=org/DC=doegrids/OU=Services/CN=ndcms.crc.nd.edu
type     &#58; full legacy globus proxy
strength &#58; 1024 bits
path     &#58; /tmp/x509up_u0
timeleft &#58; 11&#58;00&#58;46

by /DC=org/DC=doegrids/OU=People/CN=Serguei Fedorov 983106
</div><script type='text/javascript'>
        $('#show_862355153').click(function() {
            $('#detail_862355153').slideDown("normal");
            $('#show_862355153').hide();
            $('#hide_862355153').show();
        });
        $('#hide_862355153').click(function() {
            $('#detail_862355153').slideUp();
            $('#hide_862355153').hide();
            $('#show_862355153').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='18087#1386282954'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-05T22:35:54+00:00">Dec 5, 2013 10:35 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1386282954">&nbsp;</a></div><pre>I gave you the wrong srm-copy command, sorry! The debug flag only takes one dash, not two and I failed to give you the proper destination path so it should look something like this&#58;

&#39;srm-copy file&#58;///&#60;full path to test file&#62; <a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/test' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/test</a> -debug&#39;</pre></div><div class='update_description'><i onclick="document.location='18087#1386280655'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-05T21:57:35+00:00">Dec 5, 2013 09:57 PM UTC</time><a class="anchor" name="1386280655">&nbsp;</a></div><pre>Brian & Elizabeth,

Please check the attachments with requested information in zip archive.

-Serguei

by /DC=org/DC=doegrids/OU=People/CN=Serguei Fedorov 983106</pre></div><div class='update_description'><i onclick="document.location='18087#1386274337'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-12-05T20:12:17+00:00">Dec 5, 2013 08:12 PM UTC</time> by <b>echism</b><a class="anchor" name="1386274337">&nbsp;</a></div><pre>Serguei,

This is waiting on an update from you.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='18087#1385590818'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-27T22:20:18+00:00">Nov 27, 2013 10:20 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1385590818">&nbsp;</a></div><pre>Hi there,

Could you provide the output of ogs-system-profiler and attach &#39;/etc/bestman2/conf/bestman2.rc&#39;? Additionally, take these steps&#58;

1) Initialize your proxy with voms-proxy-init (or grid-proxy-init --bits 1024).
2) Touch a test file.
3) Run &#39;srm-copy file&#58;///&#60;full path to test file&#62; <a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/test' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/test</a> --debug&#39; and provide the output.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='18087#1385577967'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-27T18:46:07+00:00">Nov 27, 2013 06:46 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1385577967">&nbsp;</a></div><pre>Hello,

Running metric org.osg.srm.srmcp-readwrite (12 of 13)  fails when I do check&#58;

rsv-control --run --all-enabled

The errors&#58;

Running metric org.osg.srm.srmcp-readwrite (12 of 13)

metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2013-11-27 13&#58;01&#58;27 EST
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; ndcms.crc.nd.edu
gatheredAt&#58; ndcms.crc.nd.edu
summaryData&#58; CRITICAL
detailsData&#58; Failed to transfer file to remote server.
Command&#58; srm-copy &#39;file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file&#39; &#39;<a href='srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1385575205.401963&#39' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1385575205.401963&#39</a>; 2&#62;&1
Output from srm-copy&#58;
srm-copy   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012

BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
OSG Support at osg-software@.... and
documentation at <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/</a>

SRM-CLIENT&#58; Wed Nov 27 13&#58;00&#58;06 EST 2013 Connecting to httpg&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server

SRM-CLIENT&#58; Wed Nov 27 13&#58;00&#58;06 EST 2013 Calling SrmPrepareToPutRequest now ...
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
<div id='show_1646954653' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1646954653'>java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SRM-CLIENT&#58; printPutResult&#58;SRM returned null response

SRM-CLIENT&#58; Null response from SRM for this sub request

SRM-CLIENT&#58; Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=0
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=
SRM-CLIENT*REQUEST_STATUS=
SRM-CLIENT*SOURCEURL[0]=file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file
SRM-CLIENT*TARGETURL[0]=<a href='srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1385575205.401963' target='_blank' rel='nofollow'>srm&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server?SFN=/pscratch/osg/bestman/storage-probe-test-file.1385575205.401963</a>

EOT

by /DC=org/DC=doegrids/OU=People/CN=Serguei Fedorov 983106

</div><script type='text/javascript'>
        $('#show_1646954653').click(function() {
            $('#detail_1646954653').slideDown("normal");
            $('#show_1646954653').hide();
            $('#hide_1646954653').show();
        });
        $('#hide_1646954653').click(function() {
            $('#detail_1646954653').slideUp();
            $('#hide_1646954653').hide();
            $('#show_1646954653').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F18087">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
