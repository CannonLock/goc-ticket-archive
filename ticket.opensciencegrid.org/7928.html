<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[7928] OSG Storage&#58; lcg-cp stalls on non existant file</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=7928" method="post">
<div class="page-header">
    <h3><span class="muted">7928</span> / OSG Storage&#58; lcg-cp stalls on non existant file</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Derek Weitzel</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-03-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/7928", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7928?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7928?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%20Storage%26%2358%3B%20lcg-cp%20stalls%20on%20non%20existant%20file%20ISSUE%3D7928%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='7928#1268433127'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-12T22:32:07+00:00">Mar 12, 2010 10:32 PM UTC</time> by <b>USCMS</b><a class="anchor" name="1268433127">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58;
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='7928#1267129567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-25T20:26:07+00:00">Feb 25, 2010 08:26 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1267129567">&nbsp;</a></div><pre>This is an automatic reply. I am unable to read my email. I will read your message when I return.

Thank you.</pre></div><div class='update_description'><i onclick="document.location='7928#1267129387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-25T20:23:07+00:00">Feb 25, 2010 08:23 PM UTC</time> by <b>dweitzel@....</b><a class="anchor" name="1267129387">&nbsp;</a></div><pre>Hello all,

We updated bestman to bestman-2.2.1.3.10-1.el5  (from yum, caltech)

This problem appears to be fixed.  I am unable to replicate the problem with the command given in a previous comment.

Derek Weitzel
Graduate Research Assistant
University of Nebraska Holland Computing Center</pre></div><div class='update_description'><i onclick="document.location='7928#1267037531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-24T18:52:11+00:00">Feb 24, 2010 06:52 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1267037531">&nbsp;</a></div><pre>Alex, Brian or Derek,

Checking in again this week to see if anyone has had the opportunity to check to see if Mike&#39;s fix worked.

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1266604997'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T18:43:17+00:00">Feb 19, 2010 06:43 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1266604997">&nbsp;</a></div><pre>Alex, Brian or Derek,

Can any of you confirm Michael&#39;s fix?

Thanks ,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1266438006'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-17T20:20:06+00:00">Feb 17, 2010 08:20 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1266438006">&nbsp;</a></div><pre>I don&#39;t have any further updates on this issue.  I built the new bestman
rpm, published it to the repository for others to test, and deployed it
on our own production server.

Someone more familiar with the specific lcg-cp stall needs to verify
that this new package actually fixes the lcg-cp problem.

--Mike</pre></div><div class='update_description'><i onclick="document.location='7928#1266437108'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-17T20:05:08+00:00">Feb 17, 2010 08:05 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1266437108">&nbsp;</a></div><pre>This is an automatic reply. I am unable to read my email. I will read your message when I return.

Thank you.</pre></div><div class='update_description'><i onclick="document.location='7928#1266437056'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-17T20:04:16+00:00">Feb 17, 2010 08:04 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1266437056">&nbsp;</a></div><pre>All,

Does any one have any updates on this issue?

Regards,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1265830680'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-10T19:38:00+00:00">Feb 10, 2010 07:38 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1265830680">&nbsp;</a></div><pre>Michael,

Do you have any updates on this issue?

Regards,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1265225254'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-03T19:27:34+00:00">Feb 3, 2010 07:27 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1265225254">&nbsp;</a></div><pre>all

whats the current status? has UNL site been upgraded to the correct latest version of Bestman? If yes - Chris can you try your commands now?
thanks
-neha</pre></div><div class='update_description'><i onclick="document.location='7928#1265050029'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T18:47:09+00:00">Feb 1, 2010 06:47 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1265050029">&nbsp;</a></div><pre>A new bestman rpm based on 2.2.1.3.10 is available in the hadoop
unstable repository.

<a href='http&#58;//mock.ultralight.org/mock/epel5/RPMS/x86_64/bestman-2.2.1.3.10-1.el5.noarch.rpm' target='_blank' rel='nofollow'>http&#58;//mock.ultralight.org/mock/epel5/RPMS/x86_64/bestman-2.2.1.3.10-1.el5.noarch.rpm</a>

--Mike

On 02/01/2010 10&#58;20 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1265049489'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T18:38:09+00:00">Feb 1, 2010 06:38 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1265049489">&nbsp;</a></div><pre>The release id is assigned automatically, and you cannot use the same
for different packaged versions.
The following link corresponds to the latest one&#58;
<a href='https&#58;//codeforge.lbl.gov/frs/?group_id=54&release_id=147' target='_blank' rel='nofollow'>https&#58;//codeforge.lbl.gov/frs/?group_id=54&release_id=147</a>
and previous versions have different release_id.
Our codeforge person might know, as he&#39;s Cc&#39;d here.

--
-- Alex</pre></div><div class='update_description'><i onclick="document.location='7928#1265048406'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T18:20:06+00:00">Feb 1, 2010 06:20 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1265048406">&nbsp;</a></div><pre>The problem turns out to be a bug in the way that LBL&#39;s codeforge
handles download URLs.  The directory path determines the file that you
download, not the filename that you request.   For example&#58;

<a href='https&#58;//codeforge.lbl.gov/frs/download.php/134/bestman-2.2.1.3.8.tar.gz' target='_blank' rel='nofollow'>https&#58;//codeforge.lbl.gov/frs/download.php/134/bestman-2.2.1.3.8.tar.gz</a>
give you bestman 2.2.1.3.8

but
<a href='https&#58;//codeforge.lbl.gov/frs/download.php/82/bestman-2.2.1.3.8.tar.gz' target='_blank' rel='nofollow'>https&#58;//codeforge.lbl.gov/frs/download.php/82/bestman-2.2.1.3.8.tar.gz</a>
gives you bestman 2.2.1.2.i7.p3

I&#39;ve been updating the RPM by changing the filename only, when it turns
out that you need to change the entire directory path.  So our 2.2.1.3.8
RPMs are really 2.2.1.2.i7.p3

I&#39;ll build a new RPM based on 2.2.1.3.10 shortly and update this ticket
when it&#39;s ready.

--Mike

On 02/01/2010 10&#58;03 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1265047387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T18:03:07+00:00">Feb 1, 2010 06:03 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1265047387">&nbsp;</a></div><pre>Michael,

Brian mentioned that he has already spoke with you about this issue. Could you please update this ticket when you have a chance?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1265047146'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-01T17:59:06+00:00">Feb 1, 2010 05:59 PM UTC</time> by <b>bbockelm</b><a class="anchor" name="1265047146">&nbsp;</a></div><pre>Hey folks,

Please add Michael Thomas to the CC.

When I install the bestman-2.2.1.3.8 RPM on this node, it identifies itself as&#58;

backend_type=BeStMan
backend_version=2.2.1.2.i7
backend_build_date=2009-07-10T20&#58;54&#58;16.000Z

when queried via srm-ping.  Michael gets the tarballs from the bestman website - perhaps we&#39;re using an old tarball?

This is not fixed yet.

Brian</pre></div><div class='update_description'><i onclick="document.location='7928#1264691647'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-28T15:14:07+00:00">Jan 28, 2010 03:14 PM UTC</time> by <b>bbockelm</b><a class="anchor" name="1264691647">&nbsp;</a></div><pre>Hey Alex,

red-srm1 was upgraded yesterday.

Brian

On Jan 26, 2010, at 5&#58;00 PM, Alex Sim wrote&#58;

<font color='#7F7E6F'>&#62; Brian,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; can you follow up on this?</font>
<font color='#7F7E6F'>&#62; thanks</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- Alex</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 1/26/10 2&#58;56 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1264546926'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-26T23:02:06+00:00">Jan 26, 2010 11:02 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1264546926">&nbsp;</a></div><pre>Brian,

can you follow up on this?
thanks

-- Alex

On 1/26/10 2&#58;56 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1264546578'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-26T22:56:18+00:00">Jan 26, 2010 10:56 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1264546578">&nbsp;</a></div><pre>Alex,

have you been able to upgrade red-srm1?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1264517658'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-26T14:54:18+00:00">Jan 26, 2010 02:54 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1264517658">&nbsp;</a></div><pre>Removing USCMS.</pre></div><div class='update_description'><i onclick="document.location='7928#1264039686'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-21T02:08:06+00:00">Jan 21, 2010 02:08 AM UTC</time> by <b>bbockelm</b><a class="anchor" name="1264039686">&nbsp;</a></div><pre>Hey Alex,

Here&#39;s our backend info.  Garhan or Carl - can you upgrade red-srm1?  I&#39;m a bit surprised we have an older version than Terrence.

Brian

[dweitzel@brian-test ~]$ srm-ping <a href='srm&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server</a>
srm-ping   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server

SRM-PING&#58; Wed Jan 20 20&#58;04&#58;33 CST 2010  Calling SrmPing Request...
versionInfo=v2.2

Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.1.2.i7
backend_build_date=2009-07-10T20&#58;54&#58;16.000Z

On Jan 20, 2010, at 7&#58;54 PM, Alex Sim wrote&#58;

<font color='#7F7E6F'>&#62; Tanya and Brian,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; can you check to see if lcg-cp handles INVALID_PATH status code?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- Alex</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 1/20/10 5&#58;44 PM, Junmin wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; It was hard to get any debug information from lcg-cp,</font>
<font color='#7F7E6F'>&#62;&#62; so I used our client to see,</font>
<font color='#7F7E6F'>&#62;&#62; and Derek&#39;s bestman server returns INVALID_PATH</font>
<div id='show_226630351' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_226630351'><font color='#7F7E6F'>&#62;&#62; while current bestman server returns a url and I believe lcg-cp then</font>
<font color='#7F7E6F'>&#62;&#62; tried to fetch and fails.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; so lcg-cp does not handle the status code INVALID_PATH</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; - Junmin</font>
<font color='#7F7E6F'>&#62;&#62; On 1/20/2010 4&#58;13 PM, Alex Sim wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; it&#39;s unlikely for all bestman, but it could be an isolated problem at</font>
<font color='#7F7E6F'>&#62;&#62;&#62; UNL for some reason.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Suggestion is to upgrade the bestman to the latest, and see how it goes.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; dm.[9]% lcg-cp -b -D srmv2 -t 14400</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#34;<a href='srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/nonexisting&#34' target='_blank' rel='nofollow'>srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/nonexisting&#34</a>;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#34;nope&#34;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; /mnt/hadoop/user/gpn/boinc_chkpt/nonexisting&#58; No such file or directory</font>
<font color='#7F7E6F'>&#62;&#62;&#62; lcg_cp&#58; No such file or directory</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; dm.[10]% srm-ping <a href='srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62; SRM-PING&#58; Wed Jan 20 16&#58;07&#58;38 PST 2010  Calling SrmPing Request...</font>
<font color='#7F7E6F'>&#62;&#62;&#62; versionInfo=v2.2</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Extra information (Key=Value)</font>
<font color='#7F7E6F'>&#62;&#62;&#62; backend_type=BeStMan</font>
<font color='#7F7E6F'>&#62;&#62;&#62; backend_version=2.2.1.3.8</font>
<font color='#7F7E6F'>&#62;&#62;&#62; backend_build_date=2009-12-03T07&#58;09&#58;16.000Z</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; BTW, you have the same version that we have tested with.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; dm% /software/glite/lcg/bin/lcg-cp --version</font>
<font color='#7F7E6F'>&#62;&#62;&#62; lcg_util-1.6.11</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GFAL-client-1.10.11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; -- Alex</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; On 1/20/10 2&#58;53 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_226630351').click(function() {
            $('#detail_226630351').slideDown("normal");
            $('#show_226630351').hide();
            $('#hide_226630351').show();
        });
        $('#hide_226630351').click(function() {
            $('#detail_226630351').slideUp();
            $('#hide_226630351').hide();
            $('#show_226630351').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7928#1264032846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-21T00:14:06+00:00">Jan 21, 2010 12:14 AM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1264032846">&nbsp;</a></div><pre>it&#39;s unlikely for all bestman, but it could be an isolated problem at
UNL for some reason.
Suggestion is to upgrade the bestman to the latest, and see how it goes.

dm.[9]% lcg-cp -b -D srmv2 -t 14400
&#34;<a href='srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/nonexisting&#34' target='_blank' rel='nofollow'>srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/nonexisting&#34</a>;
&#34;nope&#34;
/mnt/hadoop/user/gpn/boinc_chkpt/nonexisting&#58; No such file or directory
lcg_cp&#58; No such file or directory

dm.[10]% srm-ping <a href='srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//bsrm-1.t2.ucsd.edu&#58;8443/srm/v2/server</a>
SRM-PING&#58; Wed Jan 20 16&#58;07&#58;38 PST 2010  Calling SrmPing Request...
versionInfo=v2.2
Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.1.3.8
backend_build_date=2009-12-03T07&#58;09&#58;16.000Z

BTW, you have the same version that we have tested with.
dm% /software/glite/lcg/bin/lcg-cp --version
lcg_util-1.6.11
GFAL-client-1.10.11

-- Alex

On 1/20/10 2&#58;53 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1264027986'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-20T22:53:06+00:00">Jan 20, 2010 10:53 PM UTC</time> by <b>djw8605@....</b><a class="anchor" name="1264027986">&nbsp;</a></div><pre>$ lcg-cp --version
lcg_util-1.6.11
GFAL-client-1.10.11

Is there a chance that bestman is sending an incorrect response, causing lcg-cp to do odd things?

Derek Weitzel
Graduate Research Assistant
University of Nebraska Holland Computing Center</pre></div><div class='update_description'><i onclick="document.location='7928#1264024069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-20T21:47:49+00:00">Jan 20, 2010 09:47 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1264024069">&nbsp;</a></div><pre>Thank you Alex.

Derek - Alex/Junmin were unable to reproduce the problem using lcg-cp from glite

&#34;Junmin tested locally, and could not duplicate the same behavior
locally. lcg-cp responded properly on the non-existing file.  Our lcg-cp
comes from glite, and dated Mar 31  2008.

dm% /software/glite/lcg/bin/lcg-cp -b -D srmv2 -t 14400
&#34;<a href='srm&#58;//dm.lbl.gov&#58;6299/srm/V2/bestmanXrootd?SFN=/tmp/nosuchthing&#34' target='_blank' rel='nofollow'>srm&#58;//dm.lbl.gov&#58;6299/srm/V2/bestmanXrootd?SFN=/tmp/nosuchthing&#34</a>; &#34;nope&#34;
/tmp/nosuchthing&#58; No such file or directory
lcg_cp&#58; No such file or directory
&#34;

can you tell us version of lcg-cp that you are using

-neha</pre></div><div class='update_description'><i onclick="document.location='7928#1264017185'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-20T19:53:05+00:00">Jan 20, 2010 07:53 PM UTC</time> by <b>djw8605@....</b><a class="anchor" name="1264017185">&nbsp;</a></div><pre>The problem is that lcg-cp hangs when attempting to copy a non-existent file.  strace reveals that it is querying the srm server over and over, and the load on the srm server reflects this.

The memory leak on bestman was unrelated.

Derek Weitzel
Graduate Research Assistant
University of Nebraska Holland Computing Center</pre></div><div class='update_description'><i onclick="document.location='7928#1264015074'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-20T19:17:54+00:00">Jan 20, 2010 07:17 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1264015074">&nbsp;</a></div><pre>ok, going through this ticket, I realize that description is not enough. earlier part of ticket mentions that lcg-cp hangs when used to transfer a non-
existent file , thus causing the load on srm server to increase. second part of ticket mentions that load on srm is unrelated to this problem...

so just to make sure I get it right - what is the exact problem?

meanwhile - Tanya, can you send me info on a test bestman install that I can use for this?

thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='7928#1263929238'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-19T19:27:18+00:00">Jan 19, 2010 07:27 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1263929238">&nbsp;</a></div><pre>Tanya,

Can you help with this issue?</pre></div><div class='update_description'><i onclick="document.location='7928#1263415146'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-13T20:39:06+00:00">Jan 13, 2010 08:39 PM UTC</time> by <b>Anthony Tiradani</b><a class="anchor" name="1263415146">&nbsp;</a></div><pre>I believe this ticket was meant to be routed to the OSG Storage Tools
support group.

--
Anthony Tiradani</pre></div><div class='update_description'><i onclick="document.location='7928#1263329146'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-12T20:45:46+00:00">Jan 12, 2010 08:45 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1263329146">&nbsp;</a></div><pre>Switching Destination VO to USCMS</pre></div><div class='update_description'><i onclick="document.location='7928#1263252815'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-11T23:33:35+00:00">Jan 11, 2010 11:33 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1263252815">&nbsp;</a></div><pre>USCMS,

Can you look into this issue, please?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='7928#1262988669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-08T22:11:09+00:00">Jan 8, 2010 10:11 PM UTC</time> by <b>djw8605@....</b><a class="anchor" name="1262988669">&nbsp;</a></div><pre>Memory leak on srm server is unrelated, problem with the fuse mount.

Derek Weitzel
Graduate Research Assistant
University of Nebraska Holland Computing Center

On Friday 08 January 2010 3&#58;56&#58;00 pm you wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1262987767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-08T21:56:07+00:00">Jan 8, 2010 09:56 PM UTC</time> by <b>djw8605@....</b><a class="anchor" name="1262987767">&nbsp;</a></div><pre>Exact Client commands&#58;
lcg-cp -b -D srmv2 -t 14400 <a href='srm&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/stuff' target='_blank' rel='nofollow'>srm&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/stuff</a> osg_boinc.69507.274.tar.bz2
Directory exists, remote file does not.
stalls

lcg-cp -b -D srmv2 -t 14400 <a href='srm&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/osg_boinc.69187.5.tar.bz2' target='_blank' rel='nofollow'>srm&#58;//red-srm1.unl.edu&#58;8443/srm/v2/server?SFN=/mnt/hadoop/user/gpn/boinc_chkpt/osg_boinc.69187.5.tar.bz2</a>
osg_boinc.69507.274.tar.bz2
Directory and remote file exists, works.

Derek Weitzel
Graduate Research Assistant
University of Nebraska Holland Computing Center

On Friday 08 January 2010 3&#58;41&#58;00 pm you wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7928#1262986914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-01-08T21:41:54+00:00">Jan 8, 2010 09:41 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1262986914">&nbsp;</a></div><pre>On a client machine (osg 1.2.0), and on compute clients (1.2.4), connecting to a srm server at the University of Nebraska - Lincoln causes lcg-cp to hang when specifying a non-existant remote file.  lcg-cp correctly errors when trying to copy a directory, and correctly copies existing remote files.

Strace shows it constant querying the srm server, stuck inside a loop.  The srm server (red-srm1.unl.edu) shows increasing memory usage over time, even with no new lcg-cp&#39;s being started.

red-srm1&#58;
bestman - 2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009

client&#58;
osg - 1.2.0

compute clients&#58;
osg - 1.2.4</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F7928">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 7928});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
