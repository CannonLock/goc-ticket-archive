<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9136] Periodic connection failure on the production reports DB</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9136" method="post">
<div class="page-header">
    <h3><span class="muted">9136</span> / Periodic connection failure on the production reports DB</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brian Bockelman</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for comment</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-10-18</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">GRATIA <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9136", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9136#1286894347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-12T14:39:07+00:00">Oct 12, 2010 02:39 PM UTC</time> by <b>FermilabMu2e</b><a class="anchor" name="1286894347">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolved by GOC
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='9136#1286894083'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-12T14:34:43+00:00">Oct 12, 2010 02:34 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286894083">&nbsp;</a></div><pre>The update has been released to display1.grid.iu.edu (increasing the script frequency to 10 minutes). Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='9136#1286224810'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T20:40:10+00:00">Oct 4, 2010 08:40 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286224810">&nbsp;</a></div><pre>Created an internal ticket (Jira DISPLAY-11) with following actions.

1) Add &#34;can&#39;t connect to MySQL server&#34; error to our &#34;permanently ignored error message list&#34; (I need a better name for this). Once this is done, GOC will not be alerted of this issue when it happens.
2) Increase the OSG_Display script timeout to 600 seconds, then update the cron frequency of the script to run it every 10 minutes.

Setting NAD to 10/18.</pre></div><div class='update_description'><i onclick="document.location='9136#1286215660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T18:07:40+00:00">Oct 4, 2010 06:07 PM UTC</time><a class="anchor" name="1286215660">&nbsp;</a></div><pre>Regarding the &#34;every 300s&#34; email - let me once again restate, with vehemence, that Gratia is an ACCOUNTING SYSTEM, *NOT* a MONITORING SYSTEM.  Querying the database in this pattern is providing users (Ruth) with an unrealistic expectation that it can be used to MONITOR the OSG, which it can&#39;t.  It was never designed to do be used in this manner.  If you want a monitoring system, then develop something else.  If you want something to generate twenty seven eight-by-ten colour glossy photographs with circles and arrows and a paragraph on the back of each one explaining what each one was to be used as evidence in funding proposals presented to the Department of Energy, well, that&#39;s what Gratia does very well.

Re&#58; the continued error.  I believe that we&#39;ve done everything we are capable of doing.  Optimizing the database to support a mode of operation that Gratia was never designed to be is outside the scope of this ticket.</pre></div><div class='update_description'><i onclick="document.location='9136#1286214659'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T17:50:59+00:00">Oct 4, 2010 05:50 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286214659">&nbsp;</a></div><pre>Sad news.. Just got this 33 minutes ago.

<font color='#7F7E6F'>&#62; _mysql_exceptions.OperationalError&#58; (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font></pre></div><div class='update_description'><i onclick="document.location='9136#1286214526'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T17:48:46+00:00">Oct 4, 2010 05:48 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286214526">&nbsp;</a></div><pre>The timeout was originally set to 180 seconds, but we had to increased it because of this issue and it is currently set to 300 seconds. The OSG display runs every 300 seconds via cron, so we can&#39;t increase the timeout any further unless we make OSG display to update ... maybe like every 10 minutes.

I was hoping.. maybe we can somehow optimize the SQL query executed via OSG Display application, or optimize the DB itself? I am not sure what can be done about this.</pre></div><div class='update_description'><i onclick="document.location='9136#1286212288'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T17:11:28+00:00">Oct 4, 2010 05:11 PM UTC</time><a class="anchor" name="1286212288">&nbsp;</a></div><pre>You can always check the performance of the reporter DB system by looking at the ganglia graphs, here&#58;

<a href='http&#58;//fg2x2.fnal.gov/ganglia/?r=day&c=FermiGrid&h=gr13x5.fnal.gov' target='_blank' rel='nofollow'>http&#58;//fg2x2.fnal.gov/ganglia/?r=day&c=FermiGrid&h=gr13x5.fnal.gov</a>

Yes, it is possible that the reporter DB could be busy with a large influx of data, or backups, or housekeeping.  We can&#39;t do anything about that on our side - you&#39;ll need to make the client handle those issues.</pre></div><div class='update_description'><i onclick="document.location='9136#1286211132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T16:52:12+00:00">Oct 4, 2010 04:52 PM UTC</time><a class="anchor" name="1286211132">&nbsp;</a></div><pre>Well, there&#39;s no way to distinguish&#58;
1) Network slowness.
2) Timeouts.
3) DB slowness.

One would assume that we should make sure the SIGALRM-type timeouts only kick in several standard deviations away from the average.  They&#39;re meant to be there for only the most extreme cases to protect against the queries piling up against the DB.</pre></div><div class='update_description'><i onclick="document.location='9136#1286204643'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T15:04:03+00:00">Oct 4, 2010 03:04 PM UTC</time><a class="anchor" name="1286204643">&nbsp;</a></div><pre>It&#39;s probably not a server side issue, specifically.  The collectors can connect to the database with no problems whatsoever.

It could be a network issue somewhere between here at there, and really, we have very little control over the network between here and there.  Which means, of course, that you&#39;ll need be clever in how you tune your client to handle network issues, slow downs, and timeouts.</pre></div><div class='update_description'><i onclick="document.location='9136#1286204135'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T14:55:35+00:00">Oct 4, 2010 02:55 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286204135">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; You can adjust this timeout in the configuration files.</font>

True. But, ultimately, this is caused by degraded performance on MySQL server, is it not? This error occurs simultaneously on various OSG_Display instances (display1.grid, display-itb.grid, and dev.grid) which also indicates that this is server side issue - not application issue.</pre></div><div class='update_description'><i onclick="document.location='9136#1286203003'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T14:36:43+00:00">Oct 4, 2010 02:36 PM UTC</time><a class="anchor" name="1286203003">&nbsp;</a></div><pre>Hi,

The alarm clock messages have nothing to do with MySQL.  They&#39;re from the application itself, which uses SIGALRM to nuke itself in case if it runs too long.  You can adjust this timeout in the configuration files.

Brian</pre></div><div class='update_description'><i onclick="document.location='9136#1286202003'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T14:20:03+00:00">Oct 4, 2010 02:20 PM UTC</time><a class="anchor" name="1286202003">&nbsp;</a></div><pre>At first glance, this problem looks completely unrelated to the ticket at hand.

What version of the mysql client or client libs are you using?

Dan</pre></div><div class='update_description'><i onclick="document.location='9136#1286200303'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-04T13:51:43+00:00">Oct 4, 2010 01:51 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286200303">&nbsp;</a></div><pre>I haven&#39;t seen the MySQL connection error (so far), but this morning I am getting a dozen of following error messages.

[/var/log/osg_display/osg_display.log]
<font color='#7F7E6F'>&#62; /bin/sh&#58; line 1&#58; 26541 Alarm clock</font></pre></div><div class='update_description'><i onclick="document.location='9136#1285953616'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-01T17:20:16+00:00">Oct 1, 2010 05:20 PM UTC</time><a class="anchor" name="1285953616">&nbsp;</a></div><pre>Good news!

&#34;Your request to set connect_timeout=60 has been approved. Thank you for using FermiGrid!&#34;

connect_timeout has been increased to 60s.  Let us know if this resolves the issue.

Dan</pre></div><div class='update_description'><i onclick="document.location='9136#1285952196'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-01T16:56:36+00:00">Oct 1, 2010 04:56 PM UTC</time><a class="anchor" name="1285952196">&nbsp;</a></div><pre>Hi all,

Due to the &#60;text redacted&#62; that is the Fermi Remedy system, I haven&#39;t been part of the update trail on this ticket.

I missed the clarification from Soichi about the server side connect_timeout and the request to check if we can increase this value.

I will pass this request by management and see what they say (since I can&#39;t make such a mundane decision like this on my own, apparently).  Who knows, it might take a ITIL Minor Change request and 5 forms filled out in triplicate, with communication plans, and release management checklists, and build and release guides and development of personnel training material, and, and...

Currently, the value of connect_timeout is 10s.  Linux has the capability to modify a TCP timeout based on an algorithm, but the initial timeout much longer than 10s.  I can&#39;t imagine that increasing the mysql timeout to something more WAN friendly like 60s would harm anything.  But, you know, studies must be performed and opinions weighed and egos massaged before any of this can actually take place.</pre></div><div class='update_description'><i onclick="document.location='9136#1285729698'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-29T03:08:18+00:00">Sep 29, 2010 03:08 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1285729698">&nbsp;</a></div><pre>I am still seeing this on and off.. without any obvious issues with display.grid.iu.edu itself.

Can we make a decision as to what we need to do with this issue?</pre></div><div class='update_description'><i onclick="document.location='9136#1284749106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T18:45:06+00:00">Sep 17, 2010 06:45 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284749106">&nbsp;</a></div><pre>Traceback (most recent call last)&#58;
File &#34;/usr/bin/osg_display&#34;, line 13, in ?
osg_display.osg_display.main()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 184, in main
main_unwrapped()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 84, in main
dst.run()
File &#34;/usr/lib/python2.4/site-packages/osg_display/transfer_datasource.py&#34;, line 36, in run
self.connect()
File &#34;/usr/lib/python2.4/site-packages/osg_display/transfer_datasource.py&#34;, line 52, in connect
port=port, db=database)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/__init__.py&#34;, line 75, in Connect
return Connection(*args, **kwargs)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/connections.py&#34;, line 164, in __init__
super(Connection, self).__init__(*args, **kwargs2)
_mysql_exceptions.OperationalError&#58; (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</pre></div><div class='update_description'><i onclick="document.location='9136#1284647818'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-16T14:36:58+00:00">Sep 16, 2010 02:36 PM UTC</time><a class="anchor" name="1284647818">&nbsp;</a></div><pre>Hi Soichi,

That was an actual outage - FNAL had network connectivity issues this morning.

Brian</pre></div><div class='update_description'><i onclick="document.location='9136#1284647188'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-16T14:26:28+00:00">Sep 16, 2010 02:26 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284647188">&nbsp;</a></div><pre>Date&#58; Thu, 16 Sep 2010 13&#58;53&#58;11 +0000 (UTC)
- Hide quoted text -

Traceback (most recent call last)&#58;
File &#34;/usr/bin/osg_display&#34;, line 13, in ?
osg_display.osg_display.main()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 184, in main
main_unwrapped()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 72, in main
hjds.run()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 14, in run
self.connect()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 27, in connect
port=port, db=database)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/__init__.py&#34;, line 75, in Connect
return Connection(*args, **kwargs)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/connections.py&#34;, line 164, in __init__
super(Connection, self).__init__(*args, **kwargs2)
_mysql_exceptions.OperationalError&#58; (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</pre></div><div class='update_description'><i onclick="document.location='9136#1284645364'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-16T13:56:04+00:00">Sep 16, 2010 01:56 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284645364">&nbsp;</a></div><pre>I&#39;ve been hammered by this this morning.

<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;33&#58;12,359 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;33&#58;12,360 - ERROR - Unable to connect to Gratia database</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;33&#58;12,360 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;33&#58;12,360 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; ERROR&#58; OSG Display updater exited with code 1</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;38&#58;11,388 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;38&#58;11,390 - ERROR - Unable to connect to Gratia database</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;38&#58;11,390 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;38&#58;11,390 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; ERROR&#58; OSG Display updater exited with code 1</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;43&#58;13,509 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;43&#58;13,510 - ERROR - Unable to connect to Gratia database</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;43&#58;13,510 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;43&#58;13,510 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
- Show quoted text -</pre></div><div class='update_description'><i onclick="document.location='9136#1284644004'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-16T13:33:24+00:00">Sep 16, 2010 01:33 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284644004">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; ERROR&#58; OSG Display updater exited with code 142</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;25&#58;50,294 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (113)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;25&#58;50,299 - ERROR - Unable to connect to Gratia database</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;25&#58;50,299 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (113)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-16 13&#58;25&#58;50,299 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (113)&#34;)</font>
- Hide quoted text -
<font color='#7F7E6F'>&#62; ERROR&#58; OSG Display updater exited with code 1</font></pre></div><div class='update_description'><i onclick="document.location='9136#1284643930'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-16T13:32:10+00:00">Sep 16, 2010 01:32 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284643930">&nbsp;</a></div><pre>Date&#58; Thu, 16 Sep 2010 13&#58;25&#58;04 +0000 (UTC)
/bin/sh&#58; line 1&#58;  4062 Alarm clock             osg_display -q 2&#62;&1 &#62;&#62; /var/log/osg_display/osg_display.log

Date&#58; Thu, 16 Sep 2010 13&#58;25&#58;50 +0000 (UTC)
Traceback (most recent call last)&#58;
File &#34;/usr/bin/osg_display&#34;, line 13, in ?
osg_display.osg_display.main()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 184, in main
main_unwrapped()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 72, in main
hjds.run()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 14, in run
self.connect()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 27, in connect
port=port, db=database)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/__init__.py&#34;, line 75, in Connect
return Connection(*args, **kwargs)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/connections.py&#34;, line 164, in __init__
super(Connection, self).__init__(*args, **kwargs2)
_mysql_exceptions.OperationalError&#58; (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (113)&#34;)</pre></div><div class='update_description'><i onclick="document.location='9136#1284477535'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-14T15:18:55+00:00">Sep 14, 2010 03:18 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284477535">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; 2010-09-14 15&#58;08&#58;10,658 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-14 15&#58;08&#58;10,719 - ERROR - Unable to connect to Gratia database</font>
<font color='#7F7E6F'>&#62; 2010-09-14 15&#58;08&#58;10,719 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
<font color='#7F7E6F'>&#62; 2010-09-14 15&#58;08&#58;10,719 - ERROR - (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</font>
- Hide quoted text -
<font color='#7F7E6F'>&#62; ERROR&#58; OSG Display updater exited with code 1</font></pre></div><div class='update_description'><i onclick="document.location='9136#1284470112'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-14T13:15:12+00:00">Sep 14, 2010 01:15 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284470112">&nbsp;</a></div><pre>I&#39;ve been getting a lot of these errors
<font color='#7F7E6F'>&#62; /bin/sh&#58; line 1&#58;  9711 Alarm clock             osg_display -q 2&#62;&1 &#62;&#62; /var/log/osg_display/osg_display.log</font>

So, on dev display, I have changed the cron timing to
*/12
and on display-itb, I have change the cron timing to
*/15

So that not all 3 instances won&#39;t hit the MySQL server at the same time (production still runs at */5)</pre></div><div class='update_description'><i onclick="document.location='9136#1284125778'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-10T13:36:18+00:00">Sep 10, 2010 01:36 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1284125778">&nbsp;</a></div><pre>Calculating a rate... 4 connections, 12 times per hour is 1152 per day, 1 error in 10 days gives ~1 error per 10,000 attempts. Lets continue to watch this. Internally, we&#39;ve been expressing these rates as errors per 10^6 atttempts, this is at the 100/10^6 level. To compare, BDII connections fail at ~200/10^6.</pre></div><div class='update_description'><i onclick="document.location='9136#1284123271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-10T12:54:31+00:00">Sep 10, 2010 12:54 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284123271">&nbsp;</a></div><pre>This happened again this morning.</pre></div><div class='update_description'><i onclick="document.location='9136#1284003420'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-09T03:37:00+00:00">Sep 9, 2010 03:37 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284003420">&nbsp;</a></div><pre>I haven&#39;t gotten the connection errors for the last couple of days. Has anything being done at Gratia side?</pre></div><div class='update_description'><i onclick="document.location='9136#1283350883'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-01T14:21:23+00:00">Sep 1, 2010 02:21 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1283350883">&nbsp;</a></div><pre>The osg_display script connects to Gratia 4 times, and it runs every 5 minutes (so 4 connection per 5 minutes).

I don&#39;t know what the rate is, but since I&#39;ve got this error 3, 4 times within last couple of ours, so it&#39;s about 1 our of 36 connections. Since the error isn&#39;t persistent (so far), this isn&#39;t causing a real issue, but I believe that there is a minor configuration / script change that needs to be made to fix this issue.

As I said earlier, I think Gratia team should check the MySQL server&#39;s connection timeout value, and Brian to make sure all DB connections are correctly closed after each connection (or maybe change the script so that it doesn&#39;t have to connect 4 times per each run..)</pre></div><div class='update_description'><i onclick="document.location='9136#1283349733'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-01T14:02:13+00:00">Sep 1, 2010 02:02 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1283349733">&nbsp;</a></div><pre>Soichi, Is it possible to estimate a rate on these errors? If you hit it 1M times and got 3 errors, I&#39;d be inclined to declare that acceptable...</pre></div><div class='update_description'><i onclick="document.location='9136#1283348260'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-01T13:37:40+00:00">Sep 1, 2010 01:37 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1283348260">&nbsp;</a></div><pre>FYI..

I&#39;ve been hitting hard on this for last couple of hours

2010-09-01 12&#58;27&#58;13,009 - INFO - Gratia returned 62 results for daily jobs
ERROR&#58; OSG Display updater exited with code 142

2010-09-01 12&#58;39&#58;55,664 - INFO - Gratia returned 15 results for jobs
ERROR&#58; OSG Display updater exited with code 142

2010-09-01 13&#58;19&#58;59,052 - INFO - Gratia returned 62 results for daily transfers
ERROR&#58; OSG Display updater exited with code 142</pre></div><div class='update_description'><i onclick="document.location='9136#1283201168'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-30T20:46:08+00:00">Aug 30, 2010 08:46 PM UTC</time> by <b>echism</b><a class="anchor" name="1283201168">&nbsp;</a></div><pre>Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='9136#1283190556'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-30T17:49:16+00:00">Aug 30, 2010 05:49 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1283190556">&nbsp;</a></div><pre>Dan,

Thanks for the info.

Right now, I am guessing that the cause of this issue is following...
<font color='#7F7E6F'>&#62; It takes more than connect_timeout seconds to get a connect packet. See Section 5.1.3, “Server System Variables”.</font>

Is there anyway to increase connect_timeout? This value used to default to 5 seconds, but since MySQL version 5.0.52, they&#39;ve increased it to 10 seconds. Just FYI..</pre></div><div class='update_description'><i onclick="document.location='9136#1283187991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-30T17:06:31+00:00">Aug 30, 2010 05:06 PM UTC</time><a class="anchor" name="1283187991">&nbsp;</a></div><pre>Somehow the GOC side of the TX did not get this update, which Dan sent on Aug 25&#58;

This is more than likely a problem on the client side.  Please read the
following MySQL reference material and review the client code&#58;

<a href='http&#58;//dev.mysql.com/doc/refman/5.0/en/communication-errors.html' target='_blank' rel='nofollow'>http&#58;//dev.mysql.com/doc/refman/5.0/en/communication-errors.html</a>

Dan
-------------------

Also on our side in the mysql logs we are seeing&#58;

100830  7&#58;30&#58;40 [Warning] Aborted connection 459111 to db&#58; &#39;gratia&#39; user&#58; &#39;reade
r&#39; host&#58; &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (Got an error reading commun
ication packets)
100830  8&#58;20&#58;08 [Warning] Aborted connection 459794 to db&#58; &#39;gratia_osg_transfer&#39;
user&#58; &#39;reader&#39; host&#58; &#39;display1.grid.iu.edu&#39; (Got an error reading communication
packets)
100830  8&#58;20&#58;08 [Warning] Aborted connection 459797 to db&#58; &#39;gratia_osg_transfer&#39;
user&#58; &#39;reader&#39; host&#58; &#39;wuncler.uits.indiana.edu&#39; (Got an error reading communica
tion packets)
100830  8&#58;20&#58;08 [Warning] Aborted connection 459796 to db&#58; &#39;gratia_osg_transfer&#39;
user&#58; &#39;reader&#39; host&#58; &#39;display-itb.grid.iu.edu&#39; (Got an error reading communicat
ion packets)
100830  8&#58;20&#58;08 [Warning] Aborted connection 459795 to db&#58; &#39;gratia_osg_transfer&#39;
user&#58; &#39;reader&#39; host&#58; &#39;display-itb.grid.iu.edu&#39; (Got an error reading communicat
ion packets)

As Dan said and I concur--this is often a problem on the client side, we have seen
this happen when a Java client can&#39;t open mysql sockets fast enough to connect.</pre></div><div class='update_description'><i onclick="document.location='9136#1282828868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-26T13:21:08+00:00">Aug 26, 2010 01:21 PM UTC</time><a class="anchor" name="1282828868">&nbsp;</a></div><pre>Hi Soichi,

Dan had an update on the ticket - there was a possibly relevant error message in his logs.  It&#39;s been swallowed by Remedy.

Brian</pre></div><div class='update_description'><i onclick="document.location='9136#1282827995'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-26T13:06:35+00:00">Aug 26, 2010 01:06 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1282827995">&nbsp;</a></div><pre>Just for the record..

This was from display1 this morning.

for the record

---------- Forwarded message ----------
From&#58; GOC Monitor &#60;no-reply@....&#62;
Date&#58; Thu, Aug 26, 2010 at 9&#58;03 AM
Subject&#58; [monitor] [rootmail] Cron &#60;apache@display1&#62; osg_display -q 2&#62;&1 &#62;&#62; /var/log/osg_display/osg_display.log || echo &#34;ERROR&#58; OSG Display updater exited with code $?&#34; &#62;&#62; /var/log/osg_display/osg_display.log
To&#58; hayashis@....

Return-Path&#58; &#60;apache@....&#62;
X-Original-To&#58; root@dubois-l
Delivered-To&#58; root@dubois-l
Received&#58; from display1.grid.iu.edu (display1.goc [192.168.1.89])
by dubois.uits.indiana.edu (Postfix) with ESMTP id 7F8FC17B8001
for &#60;root@dubois-l&#62;; Thu, 26 Aug 2010 13&#58;03&#58;11 +0000 (UTC)
Received&#58; by display1.grid.iu.edu (Postfix)
id 780A916712; Thu, 26 Aug 2010 13&#58;03&#58;11 +0000 (UTC)
Delivered-To&#58; apache@....
Received&#58; by display1.grid.iu.edu (Postfix, from userid 48)
id 6628B166FF; Thu, 26 Aug 2010 13&#58;03&#58;11 +0000 (UTC)
From&#58; root@.... (Cron Daemon)
To&#58; apache@....
Subject&#58; Cron &#60;apache@display1&#62; osg_display -q 2&#62;&1 &#62;&#62;
/var/log/osg_display/osg_display.log || echo &#34;ERROR&#58; OSG
Display updater exited with code $?&#34; &#62;&#62;
/var/log/osg_display/osg_display.log
Content-Type&#58; text/plain; charset=UTF-8
Auto-Submitted&#58; auto-generated
X-Cron-Env&#58; &#60;SHELL=/bin/sh&#62;
X-Cron-Env&#58; &#60;HOME=/var/www&#62;
X-Cron-Env&#58; &#60;PATH=/usr/bin&#58;/bin&#62;
X-Cron-Env&#58; &#60;LOGNAME=apache&#62;
<div id='show_1269460341' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1269460341'>X-Cron-Env&#58; &#60;USER=apache&#62;
Message-Id&#58; &#60;20100826130311.6628B166FF@....&#62;
Date&#58; Thu, 26 Aug 2010 13&#58;03&#58;11 +0000 (UTC)

Traceback (most recent call last)&#58;
File &#34;/usr/bin/osg_display&#34;, line 13, in ?
osg_display.osg_display.main()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 184, in main
main_unwrapped()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 72, in main
hjds.run()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 14, in run
self.connect()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 27, in connect
port=port, db=database)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/__init__.py&#34;, line 75, in Connect
return Connection(*args, **kwargs)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/connections.py&#34;, line 164, in __init__
super(Connection, self).__init__(*args, **kwargs2)
_mysql_exceptions.OperationalError&#58; (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)
</div><script type='text/javascript'>
        $('#show_1269460341').click(function() {
            $('#detail_1269460341').slideDown("normal");
            $('#show_1269460341').hide();
            $('#hide_1269460341').show();
        });
        $('#hide_1269460341').click(function() {
            $('#detail_1269460341').slideUp();
            $('#hide_1269460341').hide();
            $('#show_1269460341').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9136#1282746488'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-25T14:28:08+00:00">Aug 25, 2010 02:28 PM UTC</time> by <b>echism</b><a class="anchor" name="1282746488">&nbsp;</a></div><pre>Adding Scott to this.</pre></div><div class='update_description'><i onclick="document.location='9136#1282746367'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-25T14:26:07+00:00">Aug 25, 2010 02:26 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1282746367">&nbsp;</a></div><pre>Hi all,

The GOC is reporting occasional connection failures against the gr-osg-mysql-reports.opensciencegrid.org MySQL database.  These are not critical, nor do they cause any user-facing error.  However, they are annoying and cause false positives in the monitoring.

Are there any known issues which might be causing this?  Is it possible to see these failures - and perhaps a reason for the failures - from the FermiGrid Ops side?

Snippet of the message below, along with UTC timestamp to help start the debugging.

Thanks,

Brian

Date&#58; Wed, 25 Aug 2010 03&#58;48&#58;44 +0000 (UTC)

Traceback (most recent call last)&#58;
File &#34;/usr/bin/osg_display&#34;, line 13, in ?
osg_display.osg_display.main()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 184, in main
main_unwrapped()
File &#34;/usr/lib/python2.4/site-packages/osg_display/osg_display.py&#34;, line 129, in main
mds.run()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 14, in run
self.connect()
File &#34;/usr/lib/python2.4/site-packages/osg_display/gratia_datasource.py&#34;, line 27, in connect
port=port, db=database)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/__init__.py&#34;, line 75, in Connect
return Connection(*args, **kwargs)
File &#34;/usr/lib64/python2.4/site-packages/MySQLdb/connections.py&#34;, line 164, in __init__
super(Connection, self).__init__(*args, **kwargs2)
_mysql_exceptions.OperationalError&#58; (2003, &#34;Can&#39;t connect to MySQL server on &#39;gr-osg-mysql-reports.opensciencegrid.org&#39; (110)&#34;)</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9136">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
