<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[6992] Resource Specific Issue on UCHC_CBG</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6992" method="post">
<div class="page-header">
    <h3><span class="muted">6992</span> / Resource Specific Issue on UCHC_CBG</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jeffrey Dutton</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closing</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-06-26</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=6992", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/6992?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/6992?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Resource%20Specific%20Issue%20on%20UCHC_CBG%20ISSUE%3D6992%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6992#1245679632'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-22T14:07:12+00:00">Jun 22, 2009 02:07 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245679632">&nbsp;</a></div><pre>It looks fine to me as well.  I have been watching it over the weekend
and see no issues at the present.

We are a bit more colorful than most and I suspect it is because of our
file system.  We often have misread directory permissions.  Also, I
suspect the odd critical periods are just due to some network timeout on
a GRAM job as we are currently not running jobs at all so our CE is dead
silent (other than my own jobs) until I finish validating everything.

Thanks to all for their efforts in resolving this.

Jeff</pre></div><div class='update_description'><i onclick="document.location='6992#1245678128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-22T13:42:08+00:00">Jun 22, 2009 01:42 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1245678128">&nbsp;</a></div><pre>Jeff,

That was it. Your resource_group appears to be flagged as up on MyOSG now, and the history looks mostly green excepting the odd &#34;critical&#34; status for a few minutes here and there. I will close this ticket now. We will keep an eye on the history ... let us know if the sporadic critical status recurs enough to warrant debugging or if it is just an indication of occasions when the CE is really busy.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='6992#1245448152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T21:49:12+00:00">Jun 19, 2009 09:49 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245448152">&nbsp;</a></div><pre>Ok.

Our institutional Network Engineer did some changes so it should be all
set.  If so, as probes run we should see this sort itself out, correct?
If the only problem is/was reverse DNS.

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Friday, June 19, 2009 2&#58;31 PM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1245436272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T18:31:12+00:00">Jun 19, 2009 06:31 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245436272">&nbsp;</a></div><pre>Thanks!

It is already being looked into.

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Friday, June 19, 2009 2&#58;25 PM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1245435911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T18:25:11+00:00">Jun 19, 2009 06:25 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1245435911">&nbsp;</a></div><pre>Hi Jeff,

it looks like reverse DNS is working locally in your subnet,
but not from off site. Doesn&#39;t work for me here at OU, either&#58;

hs_particle&#58;~% host 155.37.255.141
Host 141.255.37.155.in-addr.arpa. not found&#58; 3(NXDOMAIN)

So I think you need to talk to your network admins to properly
put these machines into DNS.

Good luck,

Horst</pre></div><div class='update_description'><i onclick="document.location='6992#1245435371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T18:16:11+00:00">Jun 19, 2009 06:16 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245435371">&nbsp;</a></div><pre>When I run it from my gums machine I get this&#58;

[root@vdgums ~]# host 155.37.255.141
141.255.37.155.in-addr.arpa domain name pointer
vdgateway.vcell.uchc.edu.
[root@vdgums ~]#

Where might this be going wrong?

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Friday, June 19, 2009 1&#58;53 PM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1245435012'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T18:10:12+00:00">Jun 19, 2009 06:10 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245435012">&nbsp;</a></div><pre>For the hostcert here it the top part of it&#58;

[root@vdgateway grid-security]# openssl x509 -noout -text -in
hostcert.pem
Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58; 28196 (0x6e24)
Signature Algorithm&#58; sha1WithRSAEncryption
Issuer&#58; DC=org, DC=DOEGrids, OU=Certificate Authorities, CN=DOEGrids CA
1
Validity
Not Before&#58; Oct 20 16&#58;47&#58;00 2008 GMT
Not After &#58; Oct 20 16&#58;47&#58;00 2009 GMT
Subject&#58; DC=org, DC=doegrids, OU=Services, CN=vdgateway.vcell.uchc.edu

If this was an issue should I have found it in the several hundred jobs
I have run on the CE from a client machine using globus-job-run,
globusrun-ws, and globus-job-sumit among others?  Should there be
failures in the CE&#39;s own RSV probes?

<a href='https&#58;//vdgateway.vcell.uchc.edu&#58;8443/rsv/' target='_blank' rel='nofollow'>https&#58;//vdgateway.vcell.uchc.edu&#58;8443/rsv/</a>

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Friday, June 19, 2009 1&#58;47 PM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1245433983'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T17:53:03+00:00">Jun 19, 2009 05:53 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1245433983">&nbsp;</a></div><pre>Jeff,

I ran a remote openssl check on your host cert, and it looks to be issued for the proper hostname.

However, reverse DNS lookup is failing for me .. i.e I am able to run &#34;host vdgateway.vcell.uchc.edu&#34; but &#34;host 155.37.255.141&#34; fails. I am quite sure this is what is causing the GRAM auth issue.

-ag</pre></div><div class='update_description'><i onclick="document.location='6992#1245433666'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T17:47:46+00:00">Jun 19, 2009 05:47 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1245433666">&nbsp;</a></div><pre>Jeff,

I ran a globus-url-copy on your CE, and may have discovered what the problem is.
Your CE&#39;s host cert seems to be mismatched. If this happens Globus usually fails GRAM auth attempts.  Can you check if your host cert is setup properly? Its dn should be issued for vdgateway.vcell.uchc.edu ..

<font color='#7F7E6F'>&#62; cyclic pattern</font>
I assume there is a cyclic pattern of results on MyOSG&#39;s status view -- that is a manifestation of conflicting results from your local RSV clients and the GOC-run RSV client from rsv-client2.grid.iu.edu.

<font color='#7F7E6F'>&#62; no accounting logs from rsv-client2 but only failed GRAM auth attempts</font>

Indeed, if our GRAM auth attempts are failing then you would not see any accounting information for it (ie no job ran to be accounted for).

<font color='#7F7E6F'>&#62; Which cert</font>

The one you referred to -- gridscan with Rob Quick&#39;s name on it is indeed the cert we are using to monitor your CE.

-ag</pre></div><div class='update_description'><i onclick="document.location='6992#1245431232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T17:07:12+00:00">Jun 19, 2009 05:07 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245431232">&nbsp;</a></div><pre>My update&#58;

Having had a discussion about this ticket yesterday with Abhishek it was
determined the best course may be to focus on what is really the issue
and that is GRAM authentication.  We are ***now*** in a cyclic pattern
of showing alternating periods of &#34;unknown&#34; status and &#34;critical&#34; with
one single one hour period per day that we are either in &#34;warning&#34; or
&#34;ok&#34;.  This all seems to be due to GRAM Authentication.

What I am seeing is this&#58;

1.  I do not see a single entry for the new rsv-client* machines in my
accounting.log for the period where we are cycling in the above pattern.
Not even for probes that use GRAM that passed.

2.  For failing probes that use GRAM I get a log entry in
globus-gatekeeper.log that looks like the following&#58;

TIME&#58; Sun Jun 14 08&#58;33&#58;01 2009
PID&#58; 20201 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=20201 starting at Sun Jun 14 08&#58;33&#58;01 2009

TIME&#58; Sun Jun 14 08&#58;33&#58;01 2009
PID&#58; 20201 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Sun Jun 14 08&#58;33&#58;01 2009
PID&#58; 20201 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Sun Jun 14
08&#58;33&#58;01 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000
<div id='show_1277109810' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1277109810'>
TIME&#58; Sun Jun 14 08&#58;33&#58;01 2009
PID&#58; 20201 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

I am guessing that the line with Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4 means
it does not get logged to accounting.log

3.  Here is the most unusual item on this list - for probes using GRAM
that pass - neither a log entry in accounting.log nor in
globus-gatekeeper.log are found.

4.  Are the probes still being run using the Rob Quick (GridScan) user
cert?  If that has changed, maybe I need to make a manual entry with the
new cert DN to map it to my MIS user as the previous cert was doing
automatically?  This is a shot in the dark as I don&#39;t know what else to
look at right now knowing this is a GRAM authentication issue at the
core.

Any info on how to proceed would be useful.

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Friday, June 19, 2009 11&#58;01 AM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_1277109810').click(function() {
            $('#detail_1277109810').slideDown("normal");
            $('#show_1277109810').hide();
            $('#hide_1277109810').show();
        });
        $('#hide_1277109810').click(function() {
            $('#detail_1277109810').slideUp();
            $('#hide_1277109810').hide();
            $('#show_1277109810').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6992#1245423675'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T15:01:15+00:00">Jun 19, 2009 03:01 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1245423675">&nbsp;</a></div><pre>I do have a pending update to the ticket.  I spoke with Abhishek Rana
during and after the VO Forum yesterday and we came up with a plan to
hopefully narrow the scope of the problem.  I am currently in the
process of collecting the information and will update the ticket as soon
as possible.

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Friday, June 19, 2009 10&#58;54 AM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1245423272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T14:54:32+00:00">Jun 19, 2009 02:54 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1245423272">&nbsp;</a></div><pre>Are there any updates on this issue?</pre></div><div class='update_description'><i onclick="document.location='6992#1245091660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T18:47:40+00:00">Jun 15, 2009 06:47 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1245091660">&nbsp;</a></div><pre>Hi Jeff,

<font color='#7F7E6F'>&#62; Still getting hits from old monitoring server</font>

You are still seeing connections from the old monitoring server grid01 because it continues to run -- VORS is in deprecated mode, and will be through till first week of August.

<font color='#7F7E6F'>&#62; rsv-client2 log entries</font>

Interesting .. well at least we are making some progress. I wonder if Globus is dropping those connections? The VO mapping should not be a factor since we are using the same user certificate on both the monitoring infrastructures. I wonder if other site admins have any clues?

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='6992#1244837051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-12T20:04:11+00:00">Jun 12, 2009 08:04 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1244837051">&nbsp;</a></div><pre>Hello to all,

I have spent some time looking at various logs.

In my globus-gatekeeper.log, I searched for the following IP addresses
that match the rsv-client* server hostnames&#58;

rsv-client1.grid.iu.edu		129.79.5.85
rsv-client2.grid.iu.edu		129.79.5.136

rsv-client3.grid.iu.edu		129.79.5.145
rsv-client4.grid.iu.edu		129.79.5.148

Just as an example, for today in the globus-gatekeeper.log I have to
following for rsv-client2.grid.iu.edu&#58;

PID&#58; 13452 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
00&#58;21&#58;59 2009
PID&#58; 14094 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
00&#58;32&#58;59 2009
PID&#58; 15327 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
00&#58;40&#58;08 2009
PID&#58; 16288 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
00&#58;43&#58;59 2009

*** a bunch more entries ***

2009
PID&#58; 793 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
12&#58;54&#58;00 2009
PID&#58; 814 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
12&#58;54&#58;01 2009
PID&#58; 10159 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
14&#58;21&#58;59 2009

<div id='show_1012015907' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1012015907'>I looked at the details of some of these entries and this is
representative of what I see&#58;

TIME&#58; Fri Jun 12 08&#58;44&#58;00 2009
PID&#58; 9863 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=9863 starting at Fri Jun 12 08&#58;44&#58;00 2009

TIME&#58; Fri Jun 12 08&#58;44&#58;00 2009
PID&#58; 9863 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Fri Jun 12 08&#58;44&#58;00 2009
PID&#58; 9863 -- Notice&#58; 6&#58; Got connection 129.79.5.136 at Fri Jun 12
08&#58;44&#58;00 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Fri Jun 12 08&#58;44&#58;00 2009
PID&#58; 9863 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

From what I can tell, this indicates that the new RSV servers are
connecting but not doing anything because of the failures.  There are no
entries showing a mapping to mis (if that remains the VO that must be
supported) and from a post or two on the web it seems this indicates the
client dropped the connection to my CE.

I am still getting tons of gram_job_mgr logs from the old server
(grid01.uits.indiana.edu ) as well.  The most recent is here&#58;

[root@vdgateway mis]# cat gram_job_mgr_24803.log
6/12 11&#58;29&#58;45 JM&#58; Security context imported
6/12 11&#58;29&#58;45 JM&#58; Adding new callback contact
(url=<a href='https&#58;//grid01.uits.indiana.edu&#58;40034/' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40034/</a>, mask=1048575)
6/12 11&#58;29&#58;45 JM&#58; Added successfully
6/12 11&#58;29&#58;45 Pre-parsed RSL string&#58; &(&#34;rsl_substitution&#34; =
(&#34;GLOBUSRUN_GASS_URL&#34; &#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; )
)(&#34;stderr&#34; = $(&#34;GLOBUSRUN_GASS_URL&#34;)
# &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stdout&#34;
)(&#34;executable&#34; = &#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof
2&#62;/dev/null&#96;; if test
$? -ne 0; then pidof=&#39;/sbin/pidof&#39;; fi; $pidof gmetad; echo
RemoteExitStatus $?; echo MARK 1&#62;&2; cat /etc/gmetad.conf; echo
RemoteExitStatus $?; echo MARK 1&#62;&2;
&#34; )
6/12 11&#58;29&#58;45
&#60;&#60;&#60;&#60;&#60;Job Request RSL
&(&#34;rsl_substitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; ) )(&#34;stderr&#34; =
$(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOB
USRUN_GASS_URL&#34;) # &#34;/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34;
)(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0;
then pidof=&#39;/sbin/pidof&#39;; f
i; $pidof gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2; cat
/etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job Request RSL</font>
6/12 11&#58;29&#58;45
&#60;&#60;&#60;&#60;&#60;Job Request RSL (canonical)
&(&#34;rslsubstitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; ) )(&#34;stderr&#34; =
$(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOBU
SRUN_GASS_URL&#34;) # &#34;/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34; )(&#34;arguments&#34;
= &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0; then
pidof=&#39;/sbin/pidof&#39;; fi
; $pidof gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2; cat
/etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job Request RSL (canonical)</font>
6/12 11&#58;29&#58;45 JM&#58; Evaluating RSL Value6/12 11&#58;29&#58;45 JM&#58; Evaluated RSL
Value to GLOBUSRUN_GASS_URL6/12 11&#58;29&#58;45 JM&#58; Evaluating RSL Value6/12
11&#58;29&#58;45 JM&#58; Evaluat
ed RSL Value to <a href='https&#58;//grid01.uits.indiana.edu&#58;400336/12' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;400336/12</a> 11&#58;29&#58;46
Appending extra env.var
LD_LIBRARY_PATH=/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Ser
vice/VDTFarm/pgsql/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0.0/glite/l
ib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/opt/osg-1.0.
0/jdk1.5/jre/lib
/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/server&#58;/opt/osg-1.0.0/jdk1.5/jr
e/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.0/expat/li
b&#58;/opt/osg-1.0.0
/globus/lib
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_MAKE_SCRATCHDIR
6/12 11&#58;29&#58;46
&#60;&#60;&#60;&#60;&#60;Job RSL
&(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0.0/glit
e/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/opt/osg-1
.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/server&#58;/opt/
osg-1.0.0/jdk1.5
/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.0/expat
/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; ) (&#34;LOGNAME&#34;
&#34;mis&#34; ) )(&#34;rslsub
stitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; ) )(&#34;stderr&#34; =
$(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOBUSRUN_GASS
_URL&#34;) # &#34;/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34;
&#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0; then
pidof=&#39;/sbin/pidof&#39;; fi; $pidof
gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2; cat /etc/gmetad.conf;
echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL</font>
6/12 11&#58;29&#58;46
&#60;&#60;&#60;&#60;&#60;Job RSL (post-eval)
&(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0.0/glit
e/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/opt/osg-1
.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/server&#58;/opt/
osg-1.0.0/jdk1.5
/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.0/expat
/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; ) (&#34;LOGNAME&#34;
&#34;mis&#34; ) )(&#34;rslsub
stitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; ) )(&#34;stderr&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr&#34</a>; )(&#34;stdout&#34; = &#34;https
&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34;
)(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0;
then pidof=&#39;/sb
in/pidof&#39;; fi; $pidof gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2;
cat /etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL (post-eval)</font>
Adding default RSL of proxy_timeout = 60
Adding default RSL of dry_run = no
Adding default RSL of gram_my_job = collective
Adding default RSL of job_type = multiple
Adding default RSL of count = 1
Adding default RSL of stdin = /dev/null
Adding default RSL of directory = $(HOME)
6/12 11&#58;29&#58;46
&#60;&#60;&#60;&#60;&#60;Job RSL (post-validation)
&(&#34;directory&#34; = $(&#34;HOME&#34;) )(&#34;stdin&#34; = &#34;/dev/null&#34; )(&#34;count&#34; = &#34;1&#34;
)(&#34;job_type&#34; = &#34;multiple&#34; )(&#34;gram_my_job&#34; = &#34;collective&#34; )(&#34;dry_run&#34; =
&#34;no&#34; )(&#34;proxy_timeout&#34;
= &#34;60&#34; )(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0
.0/glite/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/op
t/osg-1.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/serve
r&#58;/opt/osg-1.0.0
/jdk1.5/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.
0/expat/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; )
(&#34;LOGNAME&#34; &#34;mis&#34; ) )(
&#34;rslsubstitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; ) )(&#34;stderr&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr&#34</a>; )(&#34;stdout&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout&#34</a>; )(&#34;executable&#34; =
&#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test
$? -ne 0; then pid
of=&#39;/sbin/pidof&#39;; fi; $pidof gmetad; echo RemoteExitStatus $?; echo MARK
1&#62;&2; cat /etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL (post-validation)</font>
6/12 11&#58;29&#58;46
&#60;&#60;&#60;&#60;&#60;Job RSL (post-validation-eval)
&(&#34;directory&#34; = &#34;/osg/home/mis&#34; )(&#34;stdin&#34; = &#34;/dev/null&#34; )(&#34;count&#34; = &#34;1&#34;
)(&#34;job_type&#34; = &#34;multiple&#34; )(&#34;gram_my_job&#34; = &#34;collective&#34; )(&#34;dry_run&#34; =
&#34;no&#34; )(&#34;proxy_tim
eout&#34; = &#34;60&#34; )(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/o
sg-1.0.0/glite/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mys
ql&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386
/server&#58;/opt/osg
-1.0.0/jdk1.5/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/os
g-1.0.0/expat/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; )
(&#34;LOGNAME&#34; &#34;mis
&#34; ) )(&#34;rslsubstitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033&#34</a>; ) )(&#34;stderr&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr&#34</a>; )(&#34;std
out&#34; = &#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout&#34</a>; )(&#34;executable&#34;
= &#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if
test $? -ne 0; th
en pidof=&#39;/sbin/pidof&#39;; fi; $pidof gmetad; echo RemoteExitStatus $?;
echo MARK 1&#62;&2; cat /etc/gmetad.conf; echo RemoteExitStatus $?; echo
MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL (post-validation-eval)</font>
6/12 11&#58;29&#58;46 JMI&#58; Getting RSL output value
6/12 11&#58;29&#58;46 JMI&#58; Processing output positions
6/12 11&#58;29&#58;46 JMI&#58; Getting RSL output value
6/12 11&#58;29&#58;46 JMI&#58; Processing output positions
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_REMOTE_IO_FILE_CREATE
6/12 11&#58;29&#58;46 JM&#58; Opening output destinations
6/12 11&#58;29&#58;46 JM&#58; stdout goes to
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/stdo
ut
6/12 11&#58;29&#58;46 JM&#58; stderr goes to
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/stde
rr
6/12 11&#58;29&#58;46 JM&#58; Opening
<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout</a>
6/12 11&#58;29&#58;46 JM&#58; Opened GASS handle 1.
6/12 11&#58;29&#58;46 JM&#58; exiting
globus_l_gram_job_manager_output_destination_open()
6/12 11&#58;29&#58;46 JM&#58; Opening
<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr</a>
6/12 11&#58;29&#58;46 JM&#58; Opened GASS handle 2.
6/12 11&#58;29&#58;46 JM&#58; exiting
globus_l_gram_job_manager_output_destination_open()
6/12 11&#58;29&#58;46 stdout or stderr is being used, starting to poll
6/12 11&#58;29&#58;46 JM&#58; Finished opening output destinations
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_OPEN_OUTPUT
6/12 11&#58;29&#58;46 JM&#58; GSSAPI type is GSI.. relocating proxy
6/12 11&#58;29&#58;46 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/12 11&#58;29&#58;46 JMI&#58; completed script validation&#58; job manager type is
fork.
6/12 11&#58;29&#58;46 JMI&#58; in globus_gram_job_manager_script_proxy_relocate()
6/12 11&#58;29&#58;46 JMI&#58; cmd = proxy_relocate
Fri Jun 12 11&#58;29&#58;46 2009 JM_SCRIPT&#58; New Perl JobManager created.
Fri Jun 12 11&#58;29&#58;46 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
Fri Jun 12 11&#58;29&#58;46 2009 JM_SCRIPT&#58; proxy_relocate(enter)
6/12 11&#58;29&#58;46 JMI&#58; while return_buf = GRAM_SCRIPT_X509_USER_PROXY =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/x509
_up
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_PROXY_RELOCATE
6/12 11&#58;29&#58;46 JM&#58; Relocated Proxy to
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/x509
_up
6/12 11&#58;29&#58;46 JM&#58; before sending to client&#58; rc=0 (Success)
6/12 11&#58;29&#58;46 Job Manager State Machine (exiting)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE_COMMITTED
6/12 11&#58;29&#58;46 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_STAGE_IN
6/12 11&#58;29&#58;46 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/12 11&#58;29&#58;46 JMI&#58; completed script validation&#58; job manager type is
fork.
6/12 11&#58;29&#58;46 JMI&#58; in globus_gram_job_manager_submit()
6/12 11&#58;29&#58;46 JMI&#58; local stdout filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/stdo
ut.
6/12 11&#58;29&#58;46 JMI&#58; local stderr filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/stde
rr.
6/12 11&#58;29&#58;46 JMI&#58; cmd = submit
6/12 11&#58;29&#58;46 JMI&#58; returning with success
Fri Jun 12 11&#58;29&#58;47 2009 JM_SCRIPT&#58; New Perl JobManager created.
Fri Jun 12 11&#58;29&#58;47 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
6/12 11&#58;29&#58;47 JMI&#58; while return_buf = GRAM_SCRIPT_JOB_ID = 24886
6/12 11&#58;29&#58;47 JMI&#58; while return_buf = GRAM_SCRIPT_JOB_STATE = 2
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_SUBMIT
6/12 11&#58;29&#58;47 JM&#58; in globus_gram_job_manager_reporting_file_create()
6/12 11&#58;29&#58;47 JM&#58; not reporting job information
6/12 11&#58;29&#58;47 JM&#58; in globus_gram_job_manager_history_file_create()
6/12 11&#58;29&#58;47 JM&#58; NOT empty client callback list.
6/12 11&#58;29&#58;47 JM&#58; sending callback of status 2 (failure code 0) to
<a href='https&#58;//grid01.uits.indiana.edu&#58;40034/.' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40034/.</a>
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_POLL2
6/12 11&#58;29&#58;47 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/12 11&#58;29&#58;47 JMI&#58; completed script validation&#58; job manager type is
fork.
6/12 11&#58;29&#58;47 JMI&#58; in globus_gram_job_manager_poll()
6/12 11&#58;29&#58;47 JMI&#58; local stdout filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/stdo
ut.
6/12 11&#58;29&#58;47 JMI&#58; local stderr filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585/stde
rr.
6/12 11&#58;29&#58;47 JMI&#58; poll&#58; seeking&#58;
<a href='https&#58;//vdgateway.vcell.uchc.edu&#58;40001/24803/1244820585/' target='_blank' rel='nofollow'>https&#58;//vdgateway.vcell.uchc.edu&#58;40001/24803/1244820585/</a>
6/12 11&#58;29&#58;47 JMI&#58; poll_fast&#58; returning -1 = GLOBUS_FAILURE (try Perl
scripts)
6/12 11&#58;29&#58;47 JMI&#58; cmd = poll
6/12 11&#58;29&#58;47 JMI&#58; returning with success
Fri Jun 12 11&#58;29&#58;47 2009 JM_SCRIPT&#58; New Perl JobManager created.
Fri Jun 12 11&#58;29&#58;47 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
Fri Jun 12 11&#58;29&#58;47 2009 JM_SCRIPT&#58; polling job 24886
6/12 11&#58;29&#58;47 JMI&#58; while return_buf = GRAM_SCRIPT_JOB_STATE = 8
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_POLL1
6/12 11&#58;29&#58;47 JM&#58; in globus_gram_job_manager_history_file_create()
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_PRE_CLOSE_OUTPUT
6/12 11&#58;29&#58;47 closing destination
<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stdout</a>
6/12 11&#58;29&#58;47 JM&#58; exiting
globus_l_gram_job_manager_output_destination_close()
6/12 11&#58;29&#58;47 closing destination
<a href='https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40033/dev/stderr</a>
6/12 11&#58;29&#58;47 JM&#58; exiting
globus_l_gram_job_manager_output_destination_close()
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_CLOSE_OUTPUT
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_STAGE_OUT
6/12 11&#58;29&#58;47 JM&#58; NOT empty client callback list.
6/12 11&#58;29&#58;47 JM&#58; sending callback of status 8 (failure code 0) to
<a href='https&#58;//grid01.uits.indiana.edu&#58;40034/.' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40034/.</a>
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE_END
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE_END_COMMITTED
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_FILE_CLEAN_UP
6/12 11&#58;29&#58;47 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_SCRATCH_CLEAN_UP
6/12 11&#58;29&#58;47 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/12 11&#58;29&#58;47 JMI&#58; completed script validation&#58; job manager type is
fork.
6/12 11&#58;29&#58;47 JMI&#58; cmd = cache_cleanup
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; New Perl JobManager created.
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; cache_cleanup(enter)
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; Cleaning files in job dir
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; Removed 4 files from
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/24803.1244820585
Fri Jun 12 11&#58;29&#58;48 2009 JM_SCRIPT&#58; cache_cleanup(exit)
6/12 11&#58;29&#58;48 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_CACHE_CLEAN_UP
6/12 11&#58;29&#58;48 JM&#58; in globus_gram_job_manager_reporting_file_remove()
6/12 11&#58;29&#58;48 JM&#58; exiting globus_gram_job_manager.
[root@vdgateway mis]#

Doing some digging on the GSS authentication failure, I see similar
messages with two potential areas to look at.  First, the host
certificate.  The host certificate was not requested with a DNS alias
but with the FQDN so that should be good.  We have been a more or less
functional CE with the exception of some reporting issues and I can
submit jobs to my site so I am not sure if that alone rules this issue
out.  Second, I see this error coming up within the context of the
client not trusting the server because of a reverse IP situation where
the client gets something other than the hostname.

I did some more digging on the reverse IP thing.

From another machine, I ran the following&#58;

[root@vdtclient1 ~]# host 155.37.255.141
141.255.37.155.in-addr.arpa domain name pointer
vdgateway.vcell.uchc.edu.

That is correct, our CE is vdgateway.vcell.uchc.edu

I also did this just top be sure and it also returned what was expected&#58;

[root@vdtclient1 ~]# nslookup 155.37.255.141
Server&#58;         155.37.255.251
Address&#58;        155.37.255.251#53

141.255.37.155.in-addr.arpa     name = vdgateway.vcell.uchc.edu.

This error was mentioned in the context that the client broke off the
connection and the server finds that less than graceful.  The reason for
the client to break off the connection would be the client does not
trust the server.

I am not certain any of this is true since the info I saw on the web was
not recent.

Any thoughts?

Thanks in advance for any advice.

Jeff

-----Original Message-----
From&#58; owner-osg-sites@....
[mailto&#58;owner-osg-sites@....] On Behalf Of Open Science
Grid FootPrints
Sent&#58; Thursday, June 11, 2009 5&#58;20 PM
To&#58; osg-sites@....
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_1012015907').click(function() {
            $('#detail_1012015907').slideDown("normal");
            $('#show_1012015907').hide();
            $('#hide_1012015907').show();
        });
        $('#hide_1012015907').click(function() {
            $('#detail_1012015907').slideUp();
            $('#hide_1012015907').hide();
            $('#show_1012015907').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6992#1244755215'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-11T21:20:15+00:00">Jun 11, 2009 09:20 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1244755215">&nbsp;</a></div><pre>Hi Jeff,

I am not sure but the globus gatekeeper logs are probably the best place to look for GRAM auth errors from rsv-client*.grid.iu.edu. I am CCing the osg-sites mailing list in case other admins have any advice. I also wonder if it is a firewall problem i.e some firewall is blocking Globus access from our new monitoring clients but not from the old gridscan server.

OSG Site-admins, Jeff is trying to debug a situation in which the GOC&#39;s MIS proxy apparently succeeds (it is not 100% clear if it does) authenticating against his CE from VORS&#39; gridscan box but the same proxy does not even pass GRAM auth (ie. globusrun -a -r &#60;hostname&#62;) from replacement RSV based monitoring clients. He appears to not see anything in his logs ...

Any advice would be much appreciated!

Cheers,
-ag

PS&#58; Jeff, I will be out of office Friday, June 12 but will return on Monday June 15th. Other GOC staff on this ticket will still be able to monitor this ticket.</pre></div><div class='update_description'><i onclick="document.location='6992#1244641572'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-10T13:46:12+00:00">Jun 10, 2009 01:46 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1244641572">&nbsp;</a></div><pre>Here is something I don&#39;t understand.

With the logs that I put in the ticket a couple days ago showing stuff
from the 12&#58;100 and 14&#58;00 probes, none of them have a gram log in the
mis home directory.  There should be because the probe fails, maybe?
Also, it seems the only gram logs are from the grid01.uits.indiana.edu
server.

I looked in the accounting.log, globus-gatekeeper.log, and
/var/log/messages and I see no evidence that anything probed us other
than grid01.uits.indiana.edu.

Are there better places to look?  Might there be evidence left somewhere
of the failed probe on my end from rsv-client*.grid.iu.edu?

Thanks.

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Tuesday, June 09, 2009 4&#58;25 PM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1244579111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T20:25:11+00:00">Jun 9, 2009 08:25 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1244579111">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; MIS VO has been able to run jobs up until about 17&#58;00 hours on Friday.</font>
<font color='#7F7E6F'>&#62; After that the key metrics have been failing.  I have not changed</font>
<font color='#7F7E6F'>&#62; anything on our side to prevent MIS from running jobs.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I looked and the account is active on our systems.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have the last gram log from the mis home directory which should be for</font>
<font color='#7F7E6F'>&#62; a failed job at 14&#58;58 today and it seems like it set up the environment</font>
<font color='#7F7E6F'>&#62; correctly and mapped the user to the mis account and the mis home</font>
<font color='#7F7E6F'>&#62; directory&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Is there a better way to check this?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 6/9 14&#58;59&#58;34 JM&#58; Security context imported</font>
<font color='#7F7E6F'>&#62; 6/9 14&#58;59&#58;34 JM&#58; Adding new callback contact</font>
<font color='#7F7E6F'>&#62; (url=<a href='https&#58;//grid01.uits.indiana.edu&#58;40037/' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40037/</a>, mask=1048575)</font>
<font color='#7F7E6F'>&#62; 6/9 14&#58;59&#58;34 JM&#58; Added successfully</font>
<font color='#7F7E6F'>&#62; 6/9 14&#58;59&#58;34 Pre-parsed RSL string&#58; &(&#34;rsl_substitution&#34; =</font>
<font color='#7F7E6F'>&#62; (&#34;GLOBUSRUN_GASS_URL&#34; &#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; )</font>
<font color='#7F7E6F'>&#62;</font>

Hi Jeff,

That is quite odd. On Friday afternoon, we added monitoring by the
central RSV clients in addition to the VORS monitoring. Those GRAM
requests should come from rsv-client*.grid.iu.edu, and not
grid01.uits.indiana.edu.

-ag</pre></div><div class='update_description'><i onclick="document.location='6992#1244577490'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T19:58:10+00:00">Jun 9, 2009 07:58 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1244577490">&nbsp;</a></div><pre>MIS VO has been able to run jobs up until about 17&#58;00 hours on Friday.
After that the key metrics have been failing.  I have not changed
anything on our side to prevent MIS from running jobs.

I looked and the account is active on our systems.

I have the last gram log from the mis home directory which should be for
a failed job at 14&#58;58 today and it seems like it set up the environment
correctly and mapped the user to the mis account and the mis home
directory&#58;

Is there a better way to check this?

6/9 14&#58;59&#58;34 JM&#58; Security context imported
6/9 14&#58;59&#58;34 JM&#58; Adding new callback contact
(url=<a href='https&#58;//grid01.uits.indiana.edu&#58;40037/' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40037/</a>, mask=1048575)
6/9 14&#58;59&#58;34 JM&#58; Added successfully
6/9 14&#58;59&#58;34 Pre-parsed RSL string&#58; &(&#34;rsl_substitution&#34; =
(&#34;GLOBUSRUN_GASS_URL&#34; &#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; )
)(&#34;stderr&#34; = $(&#34;GLOBUSRUN_GASS_URL&#34;)
# &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stdout&#34;
)(&#34;executable&#34; = &#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof
2&#62;/dev/null&#96;; if test $
? -ne 0; then pidof=&#39;/sbin/pidof&#39;; fi; $pidof gmetad; echo
RemoteExitStatus $?; echo MARK 1&#62;&2; cat /etc/gmetad.conf; echo
RemoteExitStatus $?; echo MARK 1&#62;&2;&#34;
)
6/9 14&#58;59&#58;34
&#60;&#60;&#60;&#60;&#60;Job Request RSL
&(&#34;rsl_substitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; ) )(&#34;stderr&#34; =
$(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOB
USRUN_GASS_URL&#34;) # &#34;/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34;
)(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0;
then pidof=&#39;/sbin/pidof&#39;; f
<div id='show_32771423' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_32771423'>i; $pidof gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2; cat
/etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job Request RSL</font>
6/9 14&#58;59&#58;34
&#60;&#60;&#60;&#60;&#60;Job Request RSL (canonical)
&(&#34;rslsubstitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; ) )(&#34;stderr&#34; =
$(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOBU
SRUN_GASS_URL&#34;) # &#34;/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34; )(&#34;arguments&#34;
= &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0; then
pidof=&#39;/sbin/pidof&#39;; fi
; $pidof gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2; cat
/etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job Request RSL (canonical)</font>
6/9 14&#58;59&#58;34 JM&#58; Evaluating RSL Value6/9 14&#58;59&#58;34 JM&#58; Evaluated RSL
Value to GLOBUSRUN_GASS_URL6/9 14&#58;59&#58;34 JM&#58; Evaluating RSL Value6/9
14&#58;59&#58;34 JM&#58; Evaluated R
SL Value to <a href='https&#58;//grid01.uits.indiana.edu&#58;400366/9' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;400366/9</a> 14&#58;59&#58;34 Appending
extra env.var
LD_LIBRARY_PATH=/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Servic
e/
VDTFarm/pgsql/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0.0/glite/lib&#58;/o
pt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/opt/osg-1.0.0/jdk
1.5/jre/lib/i386
&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/server&#58;/opt/osg-1.0.0/jdk1.5/jre/lib
/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.0/expat/lib&#58;/op
t/osg-1.0.0/glob
us/lib
6/9 14&#58;59&#58;34 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_MAKE_SCRATCHDIR
6/9 14&#58;59&#58;34
&#60;&#60;&#60;&#60;&#60;Job RSL
&(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0.0/glit
e/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/opt/osg-1
.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/server&#58;/opt/
osg-1.0.0/jdk1.5
/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.0/expat
/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; ) (&#34;LOGNAME&#34;
&#34;mis&#34; ) )(&#34;rslsub
stitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; ) )(&#34;stderr&#34; =
$(&#34;GLOBUSRUN_GASS_URL&#34;) # &#34;/dev/stderr&#34; )(&#34;stdout&#34; = $(&#34;GLOBUSRUN_GASS
_URL&#34;) # &#34;/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34;
&#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0; then
pidof=&#39;/sbin/pidof&#39;; fi; $pidof
gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2; cat /etc/gmetad.conf;
echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL</font>
6/9 14&#58;59&#58;34
&#60;&#60;&#60;&#60;&#60;Job RSL (post-eval)
&(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0.0/glit
e/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/opt/osg-1
.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/server&#58;/opt/
osg-1.0.0/jdk1.5
/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.0/expat
/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; ) (&#34;LOGNAME&#34;
&#34;mis&#34; ) )(&#34;rslsub
stitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; ) )(&#34;stderr&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr&#34</a>; )(&#34;stdout&#34; = &#34;https
&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout&#34; )(&#34;executable&#34; = &#34;/bin/sh&#34;
)(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test $? -ne 0;
then pidof=&#39;/sb
in/pidof&#39;; fi; $pidof gmetad; echo RemoteExitStatus $?; echo MARK 1&#62;&2;
cat /etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL (post-eval)</font>
Adding default RSL of proxy_timeout = 60
Adding default RSL of dry_run = no
Adding default RSL of gram_my_job = collective
Adding default RSL of job_type = multiple
Adding default RSL of count = 1
Adding default RSL of stdin = /dev/null
Adding default RSL of directory = $(HOME)
6/9 14&#58;59&#58;34
&#60;&#60;&#60;&#60;&#60;Job RSL (post-validation)
&(&#34;directory&#34; = $(&#34;HOME&#34;) )(&#34;stdin&#34; = &#34;/dev/null&#34; )(&#34;count&#34; = &#34;1&#34;
)(&#34;job_type&#34; = &#34;multiple&#34; )(&#34;gram_my_job&#34; = &#34;collective&#34; )(&#34;dry_run&#34; =
&#34;no&#34; )(&#34;proxy_timeout&#34;
= &#34;60&#34; )(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/osg-1.0
.0/glite/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mysql&#58;/op
t/osg-1.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386/serve
r&#58;/opt/osg-1.0.0
/jdk1.5/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/osg-1.0.
0/expat/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; )
(&#34;LOGNAME&#34; &#34;mis&#34; ) )(
&#34;rslsubstitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; ) )(&#34;stderr&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr&#34</a>; )(&#34;stdout&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout&#34</a>; )(&#34;executable&#34; =
&#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if test
$? -ne 0; then pid
of=&#39;/sbin/pidof&#39;; fi; $pidof gmetad; echo RemoteExitStatus $?; echo MARK
1&#62;&2; cat /etc/gmetad.conf; echo RemoteExitStatus $?; echo MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL (post-validation)</font>
6/9 14&#58;59&#58;34
&#60;&#60;&#60;&#60;&#60;Job RSL (post-validation-eval)
&(&#34;directory&#34; = &#34;/osg/home/mis&#34; )(&#34;stdin&#34; = &#34;/dev/null&#34; )(&#34;count&#34; = &#34;1&#34;
)(&#34;job_type&#34; = &#34;multiple&#34; )(&#34;gram_my_job&#34; = &#34;collective&#34; )(&#34;dry_run&#34; =
&#34;no&#34; )(&#34;proxy_tim
eout&#34; = &#34;60&#34; )(&#34;environment&#34; = (&#34;LD_LIBRARY_PATH&#34;
&#34;/opt/osg-1.0.0/apache/lib&#58;/opt/osg-1.0.0/MonaLisa/Service/VDTFarm/pgsql
/lib&#58;/opt/osg-1.0.0/glite/lib64&#58;/opt/o
sg-1.0.0/glite/lib&#58;/opt/osg-1.0.0/prima/lib&#58;/opt/osg-1.0.0/mysql/lib/mys
ql&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386&#58;/opt/osg-1.0.0/jdk1.5/jre/lib/i386
/server&#58;/opt/osg
-1.0.0/jdk1.5/jre/lib/i386/client&#58;/opt/osg-1.0.0/berkeley-db/lib&#58;/opt/os
g-1.0.0/expat/lib&#58;/opt/osg-1.0.0/globus/lib&#34; ) (&#34;HOME&#34; &#34;/osg/home/mis&#34; )
(&#34;LOGNAME&#34; &#34;mis
&#34; ) )(&#34;rslsubstitution&#34; = (&#34;GLOBUSRUN_GASS_URL&#34;
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036&#34</a>; ) )(&#34;stderr&#34; =
&#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr&#34</a>; )(&#34;std
out&#34; = &#34;<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout&#34' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout&#34</a>; )(&#34;executable&#34;
= &#34;/bin/sh&#34; )(&#34;arguments&#34; = &#34;-c&#34; &#34;pidof=&#96;which pidof 2&#62;/dev/null&#96;; if
test $? -ne 0; th
en pidof=&#39;/sbin/pidof&#39;; fi; $pidof gmetad; echo RemoteExitStatus $?;
echo MARK 1&#62;&2; cat /etc/gmetad.conf; echo RemoteExitStatus $?; echo
MARK 1&#62;&2;&#34; )
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;Job RSL (post-validation-eval)</font>
6/9 14&#58;59&#58;34 JMI&#58; Getting RSL output value
6/9 14&#58;59&#58;34 JMI&#58; Processing output positions
6/9 14&#58;59&#58;34 JMI&#58; Getting RSL output value
6/9 14&#58;59&#58;34 JMI&#58; Processing output positions
6/9 14&#58;59&#58;34 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_REMOTE_IO_FILE_CREATE
6/9 14&#58;59&#58;34 JM&#58; Opening output destinations
6/9 14&#58;59&#58;34 JM&#58; stdout goes to
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/stdo
ut
6/9 14&#58;59&#58;34 JM&#58; stderr goes to
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/stde
rr
6/9 14&#58;59&#58;34 JM&#58; Opening
<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout</a>
6/9 14&#58;59&#58;34 JM&#58; Opened GASS handle 1.
6/9 14&#58;59&#58;34 JM&#58; exiting
globus_l_gram_job_manager_output_destination_open()
6/9 14&#58;59&#58;34 JM&#58; Opening
<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr</a>
6/9 14&#58;59&#58;34 JM&#58; Opened GASS handle 2.
6/9 14&#58;59&#58;34 JM&#58; exiting
globus_l_gram_job_manager_output_destination_open()
6/9 14&#58;59&#58;34 stdout or stderr is being used, starting to poll
6/9 14&#58;59&#58;34 JM&#58; Finished opening output destinations
6/9 14&#58;59&#58;35 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_OPEN_OUTPUT
6/9 14&#58;59&#58;35 JM&#58; GSSAPI type is GSI.. relocating proxy
6/9 14&#58;59&#58;35 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/9 14&#58;59&#58;35 JMI&#58; completed script validation&#58; job manager type is fork.
6/9 14&#58;59&#58;35 JMI&#58; in globus_gram_job_manager_script_proxy_relocate()
6/9 14&#58;59&#58;35 JMI&#58; cmd = proxy_relocate
Tue Jun  9 14&#58;59&#58;35 2009 JM_SCRIPT&#58; New Perl JobManager created.
Tue Jun  9 14&#58;59&#58;35 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
Tue Jun  9 14&#58;59&#58;35 2009 JM_SCRIPT&#58; proxy_relocate(enter)
6/9 14&#58;59&#58;35 JMI&#58; while return_buf = GRAM_SCRIPT_X509_USER_PROXY =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/x509
_up
6/9 14&#58;59&#58;35 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_PROXY_RELOCATE
6/9 14&#58;59&#58;35 JM&#58; Relocated Proxy to
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/x509
_up
6/9 14&#58;59&#58;35 JM&#58; before sending to client&#58; rc=0 (Success)
6/9 14&#58;59&#58;35 Job Manager State Machine (exiting)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE
6/9 14&#58;59&#58;35 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE
6/9 14&#58;59&#58;35 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE_COMMITTED
6/9 14&#58;59&#58;35 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_STAGE_IN
6/9 14&#58;59&#58;35 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/9 14&#58;59&#58;35 JMI&#58; completed script validation&#58; job manager type is fork.
6/9 14&#58;59&#58;35 JMI&#58; in globus_gram_job_manager_submit()
6/9 14&#58;59&#58;35 JMI&#58; local stdout filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/stdo
ut.
6/9 14&#58;59&#58;35 JMI&#58; local stderr filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/stde
rr.
6/9 14&#58;59&#58;35 JMI&#58; cmd = submit
6/9 14&#58;59&#58;35 JMI&#58; returning with success
Tue Jun  9 14&#58;59&#58;35 2009 JM_SCRIPT&#58; New Perl JobManager created.
Tue Jun  9 14&#58;59&#58;35 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
6/9 14&#58;59&#58;36 JMI&#58; while return_buf = GRAM_SCRIPT_JOB_ID = 22371
6/9 14&#58;59&#58;36 JMI&#58; while return_buf = GRAM_SCRIPT_JOB_STATE = 2
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_SUBMIT
6/9 14&#58;59&#58;36 JM&#58; in globus_gram_job_manager_reporting_file_create()
6/9 14&#58;59&#58;36 JM&#58; not reporting job information
6/9 14&#58;59&#58;36 JM&#58; in globus_gram_job_manager_history_file_create()
6/9 14&#58;59&#58;36 JM&#58; NOT empty client callback list.
6/9 14&#58;59&#58;36 JM&#58; sending callback of status 2 (failure code 0) to
<a href='https&#58;//grid01.uits.indiana.edu&#58;40037/.' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40037/.</a>
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_POLL2
6/9 14&#58;59&#58;36 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/9 14&#58;59&#58;36 JMI&#58; completed script validation&#58; job manager type is fork.
6/9 14&#58;59&#58;36 JMI&#58; in globus_gram_job_manager_poll()
6/9 14&#58;59&#58;36 JMI&#58; local stdout filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/stdo
ut.
6/9 14&#58;59&#58;36 JMI&#58; local stderr filename =
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974/stde
rr.
6/9 14&#58;59&#58;36 JMI&#58; poll&#58; seeking&#58;
<a href='https&#58;//vdgateway.vcell.uchc.edu&#58;40001/22287/1244573974/' target='_blank' rel='nofollow'>https&#58;//vdgateway.vcell.uchc.edu&#58;40001/22287/1244573974/</a>
6/9 14&#58;59&#58;36 JMI&#58; poll_fast&#58; returning -1 = GLOBUS_FAILURE (try Perl
scripts)
6/9 14&#58;59&#58;36 JMI&#58; cmd = poll
6/9 14&#58;59&#58;36 JMI&#58; returning with success
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; New Perl JobManager created.
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; polling job 22371
6/9 14&#58;59&#58;36 JMI&#58; while return_buf = GRAM_SCRIPT_JOB_STATE = 8
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_POLL1
6/9 14&#58;59&#58;36 JM&#58; in globus_gram_job_manager_history_file_create()
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_PRE_CLOSE_OUTPUT
6/9 14&#58;59&#58;36 closing destination
<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stdout</a>
6/9 14&#58;59&#58;36 JM&#58; exiting
globus_l_gram_job_manager_output_destination_close()
6/9 14&#58;59&#58;36 closing destination
<a href='https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40036/dev/stderr</a>
6/9 14&#58;59&#58;36 JM&#58; exiting
globus_l_gram_job_manager_output_destination_close()
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_CLOSE_OUTPUT
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_STAGE_OUT
6/9 14&#58;59&#58;36 JM&#58; NOT empty client callback list.
6/9 14&#58;59&#58;36 JM&#58; sending callback of status 8 (failure code 0) to
<a href='https&#58;//grid01.uits.indiana.edu&#58;40037/.' target='_blank' rel='nofollow'>https&#58;//grid01.uits.indiana.edu&#58;40037/.</a>
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE_END
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_TWO_PHASE_END_COMMITTED
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_FILE_CLEAN_UP
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_SCRATCH_CLEAN_UP
6/9 14&#58;59&#58;36 JMI&#58; testing job manager scripts for type fork exist and
permissions are ok.
6/9 14&#58;59&#58;36 JMI&#58; completed script validation&#58; job manager type is fork.
6/9 14&#58;59&#58;36 JMI&#58; cmd = cache_cleanup
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; New Perl JobManager created.
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; Using jm supplied job dir&#58;
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; cache_cleanup(enter)
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; Cleaning files in job dir
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; Removed 4 files from
/osg/home/mis/.globus/job/vdgateway.vcell.uchc.edu/22287.1244573974
Tue Jun  9 14&#58;59&#58;36 2009 JM_SCRIPT&#58; cache_cleanup(exit)
6/9 14&#58;59&#58;36 Job Manager State Machine (entering)&#58;
GLOBUS_GRAM_JOB_MANAGER_STATE_CACHE_CLEAN_UP
6/9 14&#58;59&#58;36 JM&#58; in globus_gram_job_manager_reporting_file_remove()
6/9 14&#58;59&#58;36 JM&#58; exiting globus_gram_job_manager.

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Tuesday, June 09, 2009 3&#58;39 PM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_32771423').click(function() {
            $('#detail_32771423').slideDown("normal");
            $('#show_32771423').hide();
            $('#hide_32771423').show();
        });
        $('#hide_32771423').click(function() {
            $('#detail_32771423').slideUp();
            $('#hide_32771423').hide();
            $('#show_32771423').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6992#1244576351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T19:39:11+00:00">Jun 9, 2009 07:39 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1244576351">&nbsp;</a></div><pre>Jeff,

Can you confirm if you allow the MIS VO to run jobs? There is no confirmation right now (VORS claims your CE is passing but with no real output, and yes it is in deprecated state, so we will not try to fix that ) ... and my probe runs fail at the gram authentication stage (i.e &#34;globusrun -a -r  &#60;host&#62; &#34; fails for the MIS proxy!).

Once again the MyOSG URL for reference is <a href='http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&r=on&r_215=on' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&r=on&r_215=on</a>

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='6992#1244554451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T13:34:11+00:00">Jun 9, 2009 01:34 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1244554451">&nbsp;</a></div><pre>As for VORS not showing detailed info, I submitted a ticket for that
back on April 20th (ticket 6717) and was told that no action will be
taken with VORS being deprecated.  I assume that part is not worth
looking at.

<a href='https&#58;//oim.grid.iu.edu/gocticket/viewer?id=6717' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/viewer?id=6717</a>

I hope that helps keep the scope of the issue narrow and a lot less
work.  I hope.

Thanks!

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Tuesday, June 09, 2009 7&#58;48 AM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6992#1244548117'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T11:48:37+00:00">Jun 9, 2009 11:48 AM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1244548117">&nbsp;</a></div><pre>Jeff,

Late last week, we started probing all production OSG services from a set of central RSV clients. We did so as part of our efforts to replace VORS as the primary monitoring tool in the OSG. Depending on site level RSV installations was proving to be a bottle neck when it comes to computing availability so we have decided to run a minimal list of availability probes centrally to compute status and allow sites to install RSV as a diagnostic tool locally (if they so wish).

VORS indicates your CE as passing but provides no details <a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi?region=0&VO=0&grid=1&dtype=0&res=475#SITELISTING' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi?region=0&VO=0&grid=1&dtype=0&res=475#SITELISTING</a>

I am not sure why that is but I can try to look in (it&#39;s a beast of its own, and is hard to debug)

MyOSG is indeed showing you as down <a href='http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&r=on&r_215=on' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&r=on&r_215=on</a> ... and claims globus jobs are failing which is consistent with the globus logs you have posted. So we just need to debug why our MIS-cert based jobs are failing, and fix that ... and we should be all set. We did not make a very large announcement since there is already a requirement that all sites allow the MIS VO to run jobs (for VORS monitoring till now).

Let&#39;s look into how we can make our auth attempts succeed, and we should be all set!

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='6992#1244506929'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T00:22:09+00:00">Jun 9, 2009 12:22 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1244506929">&nbsp;</a></div><pre>Arvind and Soichi,

Would you guys mind checking into this? I am not sure where to start.</pre></div><div class='update_description'><i onclick="document.location='6992#1244491091'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-08T19:58:11+00:00">Jun 8, 2009 07:58 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1244491091">&nbsp;</a></div><pre>Some additional information&#58;

I can run the following jobs so there seems to be no issue with the CE
from a functional point of view&#58;

globus-job-submit vdgateway.vcell.uchc.edu/jobmanager-fork
/osg/home/compbiogrid/prime_test.sh 35217

I got the status using this command a number of times&#58;

globus-job-status
<a href='https&#58;//vdgateway.vcell.uchc.edu&#58;40001/29003/1244490335/' target='_blank' rel='nofollow'>https&#58;//vdgateway.vcell.uchc.edu&#58;40001/29003/1244490335/</a>

And I was able to get results using the following command&#58;

globus-job-get-output
<a href='https&#58;//vdgateway.vcell.uchc.edu&#58;40001/29003/1244490335/' target='_blank' rel='nofollow'>https&#58;//vdgateway.vcell.uchc.edu&#58;40001/29003/1244490335/</a>

I could also run the following commands from the CE Validation page and
they all worked&#58;

globusrun-ws -submit -F vdgateway.vcell.uchc.edu&#58;9443 -c /bin/true
echo $ -&#62; returned 0

globusrun-ws -submit -F vdgateway.vcell.uchc.edu&#58;9443 -c /bin/false
echo $ -&#62; returned 1

globus-job-run vdgateway /bin/hostname
returned -&#62; vdgateway.vcell.uchc.edu

globusrun-ws -submit -F vdgateway&#58;9443 -s -c /bin/hostname
returned -&#62; vdgateway.vcell.uchc.edu

All of these were run from a client machine and not on the CE itself.
These were run in the event there are questions about if it was possible
<div id='show_1165708025' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1165708025'>to run jobs on the CE at all.  It is possible.

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Monday, June 08, 2009 11&#58;13 AM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_1165708025').click(function() {
            $('#detail_1165708025').slideDown("normal");
            $('#show_1165708025').hide();
            $('#hide_1165708025').show();
        });
        $('#hide_1165708025').click(function() {
            $('#detail_1165708025').slideUp();
            $('#hide_1165708025').hide();
            $('#show_1165708025').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6992#1244473991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-08T15:13:11+00:00">Jun 8, 2009 03:13 PM UTC</time> by <b>Jeffrey Dutton</b><a class="anchor" name="1244473991">&nbsp;</a></div><pre>Some log info from June 7th related to the MIS probes&#58;

************************************************************************
***
************************************************************************
***

CA Expiry on June 7, 2009 @ 14&#58;07

TIME&#58; Sun Jun  7 14&#58;07&#58;32 2009
PID&#58; 19919 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=19919 starting at Sun Jun  7 14&#58;07&#58;32 2009

TIME&#58; Sun Jun  7 14&#58;07&#58;32 2009
PID&#58; 19919 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Sun Jun  7 14&#58;07&#58;32 2009
PID&#58; 19919 -- Notice&#58; 6&#58; Got connection 129.79.5.145 at Sun Jun  7
14&#58;07&#58;32 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Sun Jun  7 14&#58;07&#58;33 2009
PID&#58; 19919 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

TIME&#58; Sun Jun  7 14&#58;07&#58;34 2009
PID&#58; 19940 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=19940 starting at Sun Jun  7 14&#58;07&#58;34 2009

<div id='show_992733823' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_992733823'>TIME&#58; Sun Jun  7 14&#58;07&#58;34 2009
PID&#58; 19940 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Sun Jun  7 14&#58;07&#58;34 2009
PID&#58; 19940 -- Notice&#58; 6&#58; Got connection 129.79.5.145 at Sun Jun  7
14&#58;07&#58;34 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Sun Jun  7 14&#58;07&#58;34 2009
PID&#58; 19940 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

************************************************************************
***
************************************************************************
***

OSG Directory Permissions on June 7, 2009 @ 14&#58;17

TIME&#58; Sun Jun  7 14&#58;13&#58;30 2009
PID&#58; 20278 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=20278 starting at Sun Jun  7 14&#58;13&#58;30 2009

TIME&#58; Sun Jun  7 14&#58;13&#58;30 2009
PID&#58; 20278 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Sun Jun  7 14&#58;13&#58;30 2009
PID&#58; 20278 -- Notice&#58; 6&#58; Got connection 129.79.5.145 at Sun Jun  7
14&#58;13&#58;30 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Sun Jun  7 14&#58;13&#58;30 2009
PID&#58; 20278 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

TIME&#58; Sun Jun  7 14&#58;16&#58;32 2009
PID&#58; 20385 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=20385 starting at Sun Jun  7 14&#58;16&#58;32 2009

TIME&#58; Sun Jun  7 14&#58;16&#58;32 2009
PID&#58; 20385 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Sun Jun  7 14&#58;16&#58;32 2009
PID&#58; 20385 -- Notice&#58; 6&#58; Got connection 129.79.5.145 at Sun Jun  7
14&#58;16&#58;32 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Sun Jun  7 14&#58;16&#58;33 2009
PID&#58; 20385 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

************************************************************************
***
************************************************************************
***

GRAM Authentication on June 7, 2009 @ 12&#58;42

TIME&#58; Sun Jun  7 12&#58;41&#58;32 2009
PID&#58; 12188 -- Notice&#58; 6&#58; /opt/osg-1.0.0/globus/sbin/globus-gatekeeper
pid=12188 starting at Sun Jun  7 12&#58;41&#58;32 2009

TIME&#58; Sun Jun  7 12&#58;41&#58;32 2009
PID&#58; 12188 -- Notice&#58; 0&#58; GATEKEEPER_ACCT_FD=4
(/opt/osg-1.0.0/globus/var/accounting.log)
TIME&#58; Sun Jun  7 12&#58;41&#58;32 2009
PID&#58; 12188 -- Notice&#58; 6&#58; Got connection 129.79.5.145 at Sun Jun  7
12&#58;41&#58;32 2009

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
accept_sec_context.c&#58;gss_accept_sec_context&#58;403&#58;
Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001 Token&#58;00000000

TIME&#58; Sun Jun  7 12&#58;41&#58;32 2009
PID&#58; 12188 -- Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000001
Token&#58;00000000

Jeff

-----Original Message-----
From&#58; Open Science Grid FootPrints
[mailto&#58;osg@....]
Sent&#58; Monday, June 08, 2009 10&#58;00 AM
To&#58; Dutton,Jeff
Subject&#58; Open Science Grid&#58; Resource Specific Issue on UCHC_CBG
ISSUE=6992 PROJ=71

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_992733823').click(function() {
            $('#detail_992733823').slideDown("normal");
            $('#show_992733823').hide();
            $('#hide_992733823').show();
        });
        $('#hide_992733823').click(function() {
            $('#detail_992733823').slideUp();
            $('#hide_992733823').hide();
            $('#show_992733823').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6992#1244469654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-08T14:00:54+00:00">Jun 8, 2009 02:00 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1244469654">&nbsp;</a></div><pre>Hello,

RSV for the last two days or so has been showing us as down.  I look on our CE and we are green for everything.

Has something changed or was I supposed to change something to make our site work for the RSV probes from MIS?

Our CE RSV page&#58;  <a href='https&#58;//vdgateway.vcell.uchc.edu&#58;8443/rsv/' target='_blank' rel='nofollow'>https&#58;//vdgateway.vcell.uchc.edu&#58;8443/rsv/</a>

Any info would be appreciated.

Jeff Dutton
Site Admin
UCHC_CBG

[META Information for OSG ITB Support Staff]
Resource where user is having this issue&#58; UCHC_CBG(215)
No VOs are associated with Resource UCHC_CBG. Setting destination VO to other
Primary Admin for UCHC_CBG is Ion Moraru and has been CC&#39;d.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6992">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 6992});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
