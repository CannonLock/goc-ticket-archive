<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[31099] Issues running ITB jobs for MINOS at Stampede (TACC)</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=31099" method="post">
<div class="page-header">
    <h3><span class="muted">31099</span> / Issues running ITB jobs for MINOS at Stampede (TACC)</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Shreyas Bhat</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCSD glidein</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Minos</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Shreyas Bhat</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Fermilab_FIFE_Offsite</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-12-09</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">FNAL (Prod)&nbsp;<a target="_blank" href="https://fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000751622">INC000000751622</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/31099", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31099?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31099?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Issues%20running%20ITB%20jobs%20for%20MINOS%20at%20Stampede%20%28TACC%29%20ISSUE%3D31099%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='31099#1481311310'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-09T19:21:50+00:00">Dec 9, 2016 07:21 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1481311310">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='31099#1481300980'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-09T16:29:40+00:00">Dec 9, 2016 04:29 PM UTC</time><a class="anchor" name="1481300980">&nbsp;</a></div><pre>In that case, I&#39;m fine with closing the ticket.  We have a ticket in our ServiceNow system to track the progress on our end, so we&#39;ll keep that open to work further with Will and MINOS.

Thanks all!

Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1481252749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-09T03:05:49+00:00">Dec 9, 2016 03:05 AM UTC</time><a class="anchor" name="1481252749">&nbsp;</a></div><pre>Hi,

I always like having a clean slate at the end of the year.

Since the ticket was about the test jobs - and the test jobs ran through - let&#39;s close for now.

It costs very little to reopen if necessary!

Brian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=bbockelm/CN=659869/CN=Brian Paul Bockelman</pre></div><div class='update_description'><i onclick="document.location='31099#1481223732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-08T19:02:12+00:00">Dec 8, 2016 07:02 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1481223732">&nbsp;</a></div><pre>Hi Chris and Marty,

Thats correct - this may be a matter of months. This is your preference, whether to keep the ticket open or close it and reopen tickets as needed.

Thanks,
Will

<font color='#7F7E6F'>&#62; On Dec 8, 2016, at 12&#58;54 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1481223286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-08T18:54:46+00:00">Dec 8, 2016 06:54 PM UTC</time><a class="anchor" name="1481223286">&nbsp;</a></div><pre>Chris,

This ticket will likely be open until MINOS moves to using Stampede in production. That may be several or more months from now when they acquire a full research allocation on Stampede. That is, unless MINOS wants to close out ticket and reopened new ones as needed along the way.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1481047299'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-06T18:01:39+00:00">Dec 6, 2016 06:01 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1481047299">&nbsp;</a></div><pre>Hello All,

Any news on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1480540693'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-30T21:18:13+00:00">Nov 30, 2016 09:18 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1480540693">&nbsp;</a></div><pre>Hi Chris,

We/I have no update on this as of now. I am trying to make time to write a more simple test job for this.

Thanks,
Will

<font color='#7F7E6F'>&#62; On Nov 30, 2016, at 8&#58;57 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1480517875'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-30T14:57:55+00:00">Nov 30, 2016 02:57 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1480517875">&nbsp;</a></div><pre>Hello MINOS folks,

Does anyone have an update for this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1479851510'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-22T21:51:50+00:00">Nov 22, 2016 09:51 PM UTC</time><a class="anchor" name="1479851510">&nbsp;</a></div><pre>Chris,

We&#39;ll be leaving this ticket open until MINOS is done with their testing, in case they need any further assistance.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1479759732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-21T20:22:12+00:00">Nov 21, 2016 08:22 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1479759732">&nbsp;</a></div><pre>Hello All,

Is this resolved for now?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1479492504'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-18T18:08:24+00:00">Nov 18, 2016 06:08 PM UTC</time><a class="anchor" name="1479492504">&nbsp;</a></div><pre>Shreyas,

Yes, they did. Thanks for the test jobs. If Will runs into any problems as he continues testing, please just let us know.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1479423851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-17T23:04:11+00:00">Nov 17, 2016 11:04 PM UTC</time><a class="anchor" name="1479423851">&nbsp;</a></div><pre>It looks like these ran.  Marty - did everything look good on your end?

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1479422164'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-17T22:36:04+00:00">Nov 17, 2016 10:36 PM UTC</time><a class="anchor" name="1479422164">&nbsp;</a></div><pre>Hi Marty,

I just submitted 10 test jobs to Stampede.

Thanks!
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1479420412'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-17T22:06:52+00:00">Nov 17, 2016 10:06 PM UTC</time><a class="anchor" name="1479420412">&nbsp;</a></div><pre>Shreyas,

Sure. If you can submit some simple test jobs, I&#39;ll have a look from the factory-side,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1479398907'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-17T16:08:27+00:00">Nov 17, 2016 04:08 PM UTC</time><a class="anchor" name="1479398907">&nbsp;</a></div><pre>Hi Marty,

Sure.  Will and MINOS are still working on the generic MINOS test jobs.  In the meantime, would you like me to submit some more basic test jobs to make sure things still work?

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1479340158'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-16T23:49:18+00:00">Nov 16, 2016 11:49 PM UTC</time><a class="anchor" name="1479340158">&nbsp;</a></div><pre>Shreyas, Will,

Can you let us know when the next batch of test jobs is submitted to Stampede? We updated the GOC-ITB factory to glideinWMS 3.2.16 yesterday. I&#39;d like to make sure everything is still working in terms of glidein submission, startup, and running, especially since 3.2.16 includes a Stampede-inspired patch.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1479137106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-14T15:25:06+00:00">Nov 14, 2016 03:25 PM UTC</time><a class="anchor" name="1479137106">&nbsp;</a></div><pre>Hi Chris,

We&#39;re still working on getting jobs from MINOS to run at Stampede.  We&#39;re able to submit generic jobs and get them running.  Will is currently figuring out how to change some of his test jobs so they&#39;ll run at Stampede.

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1479132200'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-14T14:03:20+00:00">Nov 14, 2016 02:03 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1479132200">&nbsp;</a></div><pre>Hello All,

How did the testing of glidein / job submission to Stampede go?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1478880446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-11T16:07:26+00:00">Nov 11, 2016 04:07 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1478880446">&nbsp;</a></div><pre>Hello All,

Please let me know when the testing of glidein / job submission to Stampede is completed and I will close this ticket. In the meantime, let me know if I can assist with anything else. I&#39;ll check back with you on Monday.

Thanks.
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1478638173'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-08T20:49:33+00:00">Nov 8, 2016 08:49 PM UTC</time><a class="anchor" name="1478638173">&nbsp;</a></div><pre>Shreyas,

Yes, we can keep this ticket open while Will continues his testing of glidein / job submission to Stampede. But once this testing is complete, let&#39;s close out this ticket. You, Ken, and Will can open a new ticket with us when MINOS has been awarded an XSEDE research allocation. It is my understanding that MINOS only has a startup allocation at this time. So we expect that the earliest production run would be sometime after the start date of next XSEDE allocation cycle, which is January 1st, 2017.

Will,

Please correct us if MINOS already has research allocation ready to use in production. If not, when do you anticipate MINOS running under a research allocation at scale?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1478634231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-08T19:43:51+00:00">Nov 8, 2016 07:43 PM UTC</time><a class="anchor" name="1478634231">&nbsp;</a></div><pre>Hi Marty,

Would it be possible to keep the ticket open until Will gets a test job to run successfully at Stampede?  I just followed up with him now and asked him to submit some test jobs to confirm that he can use this allocation in ITB correctly.

Assuming that&#39;s successful, would you like me to open a new ticket for the push to production, or can we do that in this ticket as well?

Thanks!
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1478208749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-03T21:32:29+00:00">Nov 3, 2016 09:32 PM UTC</time><a class="anchor" name="1478208749">&nbsp;</a></div><pre>Ken,

Your test jobs from yesterday ran successfully again on glideins at Stampede [1]. Is there anything else to discuss about this test entry on Stampede at this time? Or shall we close out this ticket?

Marty Kandes
UCSD Glidein Factory Operations

[1]

11/02/16 15&#58;36&#58;45 (pid&#58;27523) Setting up slot pairings
11/02/16 15&#58;36&#58;45 (pid&#58;27523) slot1_1&#58; REQ_CLASSAD&#58;
11/02/16 15&#58;36&#58;45 (pid&#58;27523) slot1_1&#58; Request accepted.
11/02/16 15&#58;36&#58;45 (pid&#58;27523) slot1_1&#58; Remote owner is kherner@....
11/02/16 15&#58;36&#58;45 (pid&#58;27523) slot1_1&#58; State change&#58; claiming protocol successful
11/02/16 15&#58;36&#58;45 (pid&#58;27523) slot1_1&#58; Changing state&#58; Owner -&#62; Claimed
11/02/16 15&#58;36&#58;46 (pid&#58;27523) GLEXEC_STARTER is false, cancelling delegation
11/02/16 15&#58;36&#58;46 (pid&#58;27523) slot1_1&#58; Got activate_claim request from shadow (131.225.240.138)
11/02/16 15&#58;36&#58;46 (pid&#58;27523) slot1_1&#58; REQ_CLASSAD&#58;
11/02/16 15&#58;36&#58;46 (pid&#58;27523) slot1_1&#58; Remote job ID is 2490.1
11/02/16 15&#58;36&#58;46 (pid&#58;27523) slot1_1&#58; Got universe &#34;VANILLA&#34; (5) from request classad
11/02/16 15&#58;36&#58;46 (pid&#58;27523) slot1_1&#58; State change&#58; claim-activation protocol successful
11/02/16 15&#58;36&#58;46 (pid&#58;27523) slot1_1&#58; Changing activity&#58; Idle -&#62; Busy
11/02/16 15&#58;36&#58;55 (pid&#58;27523) State change&#58; benchmarks completed
11/02/16 15&#58;36&#58;55 (pid&#58;27523) slot1_1&#58; Updated job ClassAd&#58;
11/02/16 15&#58;39&#58;58 (pid&#58;27523) slot1_1&#58; Updated job ClassAd&#58;
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Updated job ClassAd&#58;
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Called deactivate_claim_forcibly()
11/02/16 15&#58;39&#58;59 (pid&#58;27523) Starter pid 27598 exited with status 0
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; State change&#58; starter exited
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Changing activity&#58; Busy -&#62; Idle
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; State change&#58; received RELEASE_CLAIM command
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Changing state and activity&#58; Claimed/Idle -&#62; Preempting/Vacating
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; State change&#58; No preempting claim, returning to owner
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Changing state and activity&#58; Preempting/Vacating -&#62; Owner/Idle
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; State change&#58; IS_OWNER is false
<div id='show_1927721216' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1927721216'>11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Changing state&#58; Owner -&#62; Unclaimed
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Changing state&#58; Unclaimed -&#62; Delete
11/02/16 15&#58;39&#58;59 (pid&#58;27523) slot1_1&#58; Resource no longer needed, deleting

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1927721216').click(function() {
            $('#detail_1927721216').slideDown("normal");
            $('#show_1927721216').hide();
            $('#hide_1927721216').show();
        });
        $('#hide_1927721216').click(function() {
            $('#detail_1927721216').slideUp();
            $('#hide_1927721216').hide();
            $('#show_1927721216').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1478118666'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-02T20:31:06+00:00">Nov 2, 2016 08:31 PM UTC</time><a class="anchor" name="1478118666">&nbsp;</a></div><pre>Hi Marty,

Yes, these were most likely older glideins still left over in the queue. I just sent a couple of fresh test jobs.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1478107883'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-02T17:31:23+00:00">Nov 2, 2016 05:31 PM UTC</time><a class="anchor" name="1478107883">&nbsp;</a></div><pre>Ken,

I checked and it seems the validation issues is still present. I see it on quite some glideins which ran last time Oct 28 (7 failed) and on Oct 27 (26 failed glideins)&#58;

&#60;detail&#62;
Validation failed in client/IFFE_script.sh.

cvmfs_uptodate failed for /cvmfs/fermilab.opensciencegrid.org
&#60;/detail&#62;

Shall we maybe run new round of jobs again? Currently the entry is empty for Stampete in the Factory, so it could be also easier for us see the fresh start and continue from there? We might still dig through which nodes this failed, though. Could be that some only some part of nodes validation fails but given this is pretty old result as of Oct 28 I&#39;d suggest send new batch of jobs again.

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='31099#1478096971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-02T14:29:31+00:00">Nov 2, 2016 02:29 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1478096971">&nbsp;</a></div><pre>Hello All,

Does anyone have an update for this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1477608006'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T22:40:06+00:00">Oct 27, 2016 10:40 PM UTC</time><a class="anchor" name="1477608006">&nbsp;</a></div><pre>So indeed the hash attached to the script, IFFE_script.gabdIO.sh, as in the ticket below, corresponds on our frontend with being one version behind where it is supposed to be. Are you seeing 100% failure in many glideins, or was it only this one particular glidein (that was maybe in the queue before the fix and has finally come back to life)?

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1477607125'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T22:25:25+00:00">Oct 27, 2016 10:25 PM UTC</time><a class="anchor" name="1477607125">&nbsp;</a></div><pre>Yeah, it looks like our frontend script reverted to an earlier version that doesn&#39;t have the proper workaround in place. I&#39;ll pass it on to those in charge.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1477606757'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T22:19:17+00:00">Oct 27, 2016 10:19 PM UTC</time><a class="anchor" name="1477606757">&nbsp;</a></div><pre>Ken,

Fermilab/MINOS Glideins are failing at Stampede due to a validation problem with cvmfs [1]. I&#39;m guessing they may not be running an up-to-date version you&#39;re looking for.

Marty Kandes
UCSD Glidein Factory Operations

[1]

=== validation OK in /tmp/glide_yAYqDN/client/advertise_os.sh (0) ===
Ignoring extra parameters (8 instead of 7)
IFFE_script.gabdIO.sh&#58; OK
Signature OK for client&#58;IFFE_script.gabdIO.sh.
cvmfs-uptodate&#58; Unable to read cvmfs expires time from /cvmfs/fermilab.opensciencegrid.org
Thu Oct 27 09&#58;32&#58;46 CDT 2016 ERROR&#58; cvmfs_uptodate failed for /cvmfs/fermilab.opensciencegrid.org
cvmfs-uptodate&#58; Unable to read cvmfs expires time from /cvmfs/fermilab.opensciencegrid.org
Thu Oct 27 09&#58;32&#58;46 CDT 2016 ERROR&#58; cvmfs_uptodate failed for /cvmfs/fermilab.opensciencegrid.org
=== Validation error in /tmp/glide_93q48F/client/IFFE_script.sh ===
Thu Oct 27 09&#58;53&#58;20 CDT 2016 Error running &#39;/tmp/glide_93q48F/client/IFFE_script.sh&#39;
cvmfs_uptodate failed for /cvmfs/fermilab.opensciencegrid.org
=== Validation error in /tmp/glide_yAYqDN/client/IFFE_script.sh ===
Thu Oct 27 09&#58;53&#58;20 CDT 2016 Error running &#39;/tmp/glide_yAYqDN/client/IFFE_script.sh&#39;
cvmfs_uptodate failed for /cvmfs/fermilab.opensciencegrid.org

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1477427249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-25T20:27:29+00:00">Oct 25, 2016 08:27 PM UTC</time><a class="anchor" name="1477427249">&nbsp;</a></div><pre>Hi Marian,

Will has some test jobs in the queue now that haven&#39;t been picked up at Stampede for a few days now. Our FE is requesting glideins but we don&#39;t seem to be getting any.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1477412482'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-25T16:21:22+00:00">Oct 25, 2016 04:21 PM UTC</time><a class="anchor" name="1477412482">&nbsp;</a></div><pre>Sorry, I should have looked at it before I sent previous message - just see create_condor_tarball made it to 3.2.16 release&#58; <a href='http&#58;//glideinwms.fnal.gov/doc.prd/history.html' target='_blank' rel='nofollow'>http&#58;//glideinwms.fnal.gov/doc.prd/history.html</a>

We&#39;ll gonna test it on GOC-ITB.

-Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='31099#1477412216'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-25T16:16:56+00:00">Oct 25, 2016 04:16 PM UTC</time><a class="anchor" name="1477412216">&nbsp;</a></div><pre>While it seems we are set with the entry on ITB factory I recall Jeff, Marty and Edgar had consensus is to leave entries as-is in GOC-ITB and not to move to production until we know the create_condor_tarball script has made it to glideinwms release. Will ping gWMS developers what&#39;s status there. Meantime, I&#39;d keep this ticket open.

Ken, have your jobs been claimed by requested glideins submitted last week? Could you confirm or is there any further investigation needed on Factory side?

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='31099#1477403736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-25T13:55:36+00:00">Oct 25, 2016 01:55 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1477403736">&nbsp;</a></div><pre>Hello All,

Is this ok to close?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1477080246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T20:04:06+00:00">Oct 21, 2016 08:04 PM UTC</time><a class="anchor" name="1477080246">&nbsp;</a></div><pre>Great. I do see that our frontend is requesting glideins at Stampede now.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1477079772'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T19:56:12+00:00">Oct 21, 2016 07:56 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1477079772">&nbsp;</a></div><pre>Hi Ken,

I added OFFSITE and resubmitted.

Thanks,
Will

-bash-4.1$ jobsub_q --jobid=5177.0@.... --jobsub-server=fifebatch-preprod.fnal.gov
JOBSUBJOBID                           OWNER           SUBMITTED     RUN_TIME   ST PRI SIZE CMD
5177.0@....    willhf          10/21 14&#58;26   0+00&#58;00&#58;00 I   0   0.0 script_r13Data.sh_20161021_142604_1415355_0_1_wrap.sh

1 jobs; 0 completed, 0 removed, 1 idle, 0 running, 0 held, 0 suspended
-bash-4.1$ jobsub_q --better-analyze --jobid=5177.0@.... --jobsub-server=fifebatch-preprod.fnal.gov

-- Schedd&#58; fifebatchitbgpvm01.fnal.gov &#58; &#60;131.225.240.106&#58;9615?...
User priority for willhf@.... is not available, attempting to analyze without it.
---
5177.000&#58;  Run analysis summary.  Of 3 machines,
3 are rejected by your job&#39;s requirements
0 reject your job because of their own requirements
0 match and are already running your jobs
0 match but are serving other users
0 are available to run your job

WARNING&#58;  Be advised&#58;
No resources matched request&#39;s constraints

The Requirements expression for your job is&#58;

( ( ( Arch == &#34;X86_64&#34; ) || ( Arch == &#34;INTEL&#34; ) ) &&
( target.IS_Glidein == true ) &&
( stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites) ) &&
( DesiredOS is NULL ||
stringlistimember(Target.IFOS_installed,DesiredOS) ) &&
( stringListsIntersect(toUpper(target.HAS_usage_model),toUpper(my.DESIRED_usage_model)) ) ) &&
<div id='show_1843692021' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1843692021'>( TARGET.OpSys == &#34;LINUX&#34; ) && ( TARGET.Disk &#62;= RequestDisk ) &&
( TARGET.Memory &#62;= RequestMemory ) && ( TARGET.HasFileTransfer )

Your job defines the following attributes&#58;

DESIRED_Sites = &#34;Stampede&#34;
DESIRED_usage_model = &#34;DEDICATED,OPPORTUNISTIC,OFFSITE&#34;
RequestDisk = 30408704
RequestMemory = 8192

The Requirements expression for your job reduces to these conditions&#58;

Slots
Step    Matched  Condition
-----  --------  ---------
[0]           3  Arch == &#34;X86_64&#34;
[3]           3  target.IS_Glidein == true
[5]           0  stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites)
[7]           3  DesiredOS is NULL

Suggestions&#58;

Condition                         Machines Matched    Suggestion
---------                         ----------------    ----------
1   ( ( Arch == &#34;X86_64&#34; ) || ( Arch == &#34;INTEL&#34; ) )
0                   REMOVE
2   ( stringListIMember(target.GLIDEIN_Site,&#34;Stampede&#34;) )
0                   REMOVE
3   ( target.IS_Glidein == true )     3
4   ( DesiredOS is NULL || stringlistimember(Target.IFOS_installed,DesiredOS) )
3
5   ( stringListsIntersect(toUpper(target.HAS_usage_model),&#34;DEDICATED,OPPORTUNISTIC,OFFSITE&#34;) )
3
6   ( TARGET.OpSys == &#34;LINUX&#34; )       3
7   ( TARGET.Disk &#62;= 30408704 )       3
8   ( TARGET.Memory &#62;= 8192 )         3
9   ( TARGET.HasFileTransfer )        3

-- Schedd&#58; fifebatchitbgpvm02.fnal.gov &#58; &#60;131.225.240.138&#58;9615?...

<font color='#7F7E6F'>&#62; On Oct 21, 2016, at 1&#58;56 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1843692021').click(function() {
            $('#detail_1843692021').slideDown("normal");
            $('#show_1843692021').hide();
            $('#hide_1843692021').show();
        });
        $('#hide_1843692021').click(function() {
            $('#detail_1843692021').slideUp();
            $('#hide_1843692021').hide();
            $('#show_1843692021').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1477076161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:56:01+00:00">Oct 21, 2016 06:56 PM UTC</time><a class="anchor" name="1477076161">&nbsp;</a></div><pre>False alarm, it&#39;s a job configuration issue. We&#39;ll get it fixed and resubmit.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1477075382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:43:02+00:00">Oct 21, 2016 06:43 PM UTC</time><a class="anchor" name="1477075382">&nbsp;</a></div><pre>This has nothing to do with architecture. It looks like we just aren&#39;t getting glideins there. I&#39;ll have some time shortly to investigate.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1477075093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:38:13+00:00">Oct 21, 2016 06:38 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1477075093">&nbsp;</a></div><pre>Hi Edgar,

Yes, my jobs are still idle and I am unsure why. Below, it seems that the issue may be related to the scheduler or architecture.

Thanks,
Will

-bash-4.1$ jobsub_q --jobid=5175.0@.... --jobsub-server=fifebatch-preprod.fnal.gov
JOBSUBJOBID                           OWNER           SUBMITTED     RUN_TIME   ST PRI SIZE CMD
5175.0@....    willhf          10/17 11&#58;39   0+00&#58;00&#58;00 I   0   0.0 script_r13Data.sh_20161017_113927_402231_0_1_wrap.sh

1 jobs; 0 completed, 0 removed, 1 idle, 0 running, 0 held, 0 suspended
-bash-4.1$ jobsub_q --better-analyze --jobid=5175.0@.... --jobsub-server=fifebatch-preprod.fnal.gov

-- Schedd&#58; fifebatchitbgpvm01.fnal.gov &#58; &#60;131.225.240.106&#58;9615?...
User priority for willhf@.... is not available, attempting to analyze without it.
---
5175.000&#58;  Run analysis summary.  Of 4 machines,
4 are rejected by your job&#39;s requirements
0 reject your job because of their own requirements
0 match and are already running your jobs
0 match but are serving other users
0 are available to run your job

WARNING&#58;  Be advised&#58;
No resources matched request&#39;s constraints

The Requirements expression for your job is&#58;

( ( ( Arch == &#34;X86_64&#34; ) || ( Arch == &#34;INTEL&#34; ) ) &&
( target.IS_Glidein == true ) &&
( stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites) ) &&
( DesiredOS is NULL ||
stringlistimember(Target.IFOS_installed,DesiredOS) ) &&
( stringListsIntersect(toUpper(target.HAS_usage_model),toUpper(my.DESIRED_usage_model)) ) ) &&
<div id='show_854770805' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_854770805'>( TARGET.OpSys == &#34;LINUX&#34; ) && ( TARGET.Disk &#62;= RequestDisk ) &&
( TARGET.Memory &#62;= RequestMemory ) && ( TARGET.HasFileTransfer )

Your job defines the following attributes&#58;

DESIRED_Sites = &#34;Stampede&#34;
DESIRED_usage_model = &#34;DEDICATED,OPPORTUNISTIC&#34;
RequestDisk = 30408704
RequestMemory = 8192

The Requirements expression for your job reduces to these conditions&#58;

Slots
Step    Matched  Condition
-----  --------  ---------
[0]           4  Arch == &#34;X86_64&#34;
[3]           4  target.IS_Glidein == true
[5]           0  stringListIMember(target.GLIDEIN_Site,my.DESIRED_Sites)
[7]           4  DesiredOS is NULL

Suggestions&#58;

Condition                         Machines Matched    Suggestion
---------                         ----------------    ----------
1   ( ( Arch == &#34;X86_64&#34; ) || ( Arch == &#34;INTEL&#34; ) )
0                   REMOVE
2   ( stringListIMember(target.GLIDEIN_Site,&#34;Stampede&#34;) )
0                   REMOVE
3   ( target.IS_Glidein == true )     4
4   ( DesiredOS is NULL || stringlistimember(Target.IFOS_installed,DesiredOS) )
4
5   ( stringListsIntersect(toUpper(target.HAS_usage_model),&#34;DEDICATED,OPPORTUNISTIC&#34;) )
4
6   ( TARGET.OpSys == &#34;LINUX&#34; )       4
7   ( TARGET.Disk &#62;= 30408704 )       4
8   ( TARGET.Memory &#62;= 8192 )         4
9   ( TARGET.HasFileTransfer )        4

-- Schedd&#58; fifebatchitbgpvm02.fnal.gov &#58; &#60;131.225.240.138&#58;9615?...

<font color='#7F7E6F'>&#62; On Oct 21, 2016, at 1&#58;07 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_854770805').click(function() {
            $('#detail_854770805').slideDown("normal");
            $('#show_854770805').hide();
            $('#hide_854770805').show();
        });
        $('#hide_854770805').click(function() {
            $('#detail_854770805').slideUp();
            $('#hide_854770805').hide();
            $('#show_854770805').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1477073259'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:07:39+00:00">Oct 21, 2016 06:07 PM UTC</time><a class="anchor" name="1477073259">&nbsp;</a></div><pre>Hi WIll,

Are your jobs still idle? Is the FE requesting pilots there?&#92;

Thanks,

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1476889902'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-19T15:11:42+00:00">Oct 19, 2016 03:11 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1476889902">&nbsp;</a></div><pre>Hello All,

Does anyone have an update for this? Is this working as expected now?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1476291133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T16:52:13+00:00">Oct 12, 2016 04:52 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1476291133">&nbsp;</a></div><pre>Hi Marty,

I have submitted two jobs from Fermigrid following some instructions from Shreyas. They are currently sitting idle. I am not how to translate my job IDs into what you would see on your side. Nonetheless, we are slowly starting to test this new allocation from the user perspective.

Thanks,
Will

<font color='#7F7E6F'>&#62; On Oct 12, 2016, at 11&#58;27 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1476289621'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T16:27:01+00:00">Oct 12, 2016 04:27 PM UTC</time><a class="anchor" name="1476289621">&nbsp;</a></div><pre>Will, Shreyas, and Ken,

I will place Stampede entry into production glidein factories as soon as you&#39;re ready to begin trial allocation test. Please remember that with the currently planned configuration for production entry during this test, MINOS may achieve up to 25K SUs per wall clock hour. i.e., test may be over in 2 hours (if only 50K SUs available). Please plan accordingly. I am double checking some limits with TACC folks to make sure I am reading documentation correctly.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1476283610'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T14:46:50+00:00">Oct 12, 2016 02:46 PM UTC</time><a class="anchor" name="1476283610">&nbsp;</a></div><pre>This is great, Marty - thanks!  Do you think we&#39;re ready for MINOS to be added to the list of supported VOs for the Stampede entry point in the production factories?

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1476229812'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T23:50:12+00:00">Oct 11, 2016 11:50 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1476229812">&nbsp;</a></div><pre>Hi Marty,

Shreyas, Ken and I are discussing, but we (MINOS) look forward to ramping up with stampede as soon as we can. This current trial allocation is only 50k SUs, but we will be applying for more once we can demonstrate some success.

Once again, many thanks for you persistence on this.

Will

<font color='#7F7E6F'>&#62; On Oct 11, 2016, at 12&#58;22 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1476206577'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T17:22:57+00:00">Oct 11, 2016 05:22 PM UTC</time><a class="anchor" name="1476206577">&nbsp;</a></div><pre>Will,

Sounds good. When do you expect MINOS to begin production-level workflows like this?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1476206412'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T17:20:12+00:00">Oct 11, 2016 05:20 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1476206412">&nbsp;</a></div><pre>Hi Marty,

The glidein pool you mention sounds fine. If we need to adjust, we will let you know.

Thanks again,
Will

<font color='#7F7E6F'>&#62; On Oct 11, 2016, at 12&#58;07 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1476205668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T17:07:48+00:00">Oct 11, 2016 05:07 PM UTC</time><a class="anchor" name="1476205668">&nbsp;</a></div><pre>Shreyas,

Awesome! I can confirm those are the other hosts are the nodes I have listed in my glidein logs [1] [2]. Well, I think we&#39;ve got everything in place here. I will confirm with CMS as well.

Ken, Will,

We&#39;ll still need some idea on how large of a glidein pool you&#39;ll want at Stampede. For example, LIGO used 32 nodes per glidein job =&#62; 50 max glidein jobs at Stampede =&#62; 50 glidein jobs * 32 nodes per job * 16 cores per node = 25600 cores max (i.e., 25600 SUs per hour max). If your requirements are significantly different from CMS, we&#39;ll have to adjust accordingly.

Marty Kandes
UCSD Glidein Factory Operations

[1]

SLURM_JOB_NODELIST=c483-002,c490-201

[2]

SLURM_JOB_NODELIST=c496-[701,901]

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1476204012'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T16:40:12+00:00">Oct 11, 2016 04:40 PM UTC</time><a class="anchor" name="1476204012">&nbsp;</a></div><pre>Hi Marty,

I can confirm that jobs ran at other nodes.  Here is the breakdown&#58;
Count    Node
31     129.114.78.234
16     129.114.80.13
45     129.114.81.19
36     129.114.81.27

-Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1476203927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T16:38:47+00:00">Oct 11, 2016 04:38 PM UTC</time><a class="anchor" name="1476203927">&nbsp;</a></div><pre>Ken,

Yes, each standard node at Stampede has 16-cores and 32GB per node. So while an 1-core 8GB per core job won&#39;t be the most efficient, they will fit within the glidein constraints.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1476203546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T16:32:26+00:00">Oct 11, 2016 04:32 PM UTC</time><a class="anchor" name="1476203546">&nbsp;</a></div><pre>Hi,

I spoke with Will again, and he mentioned that some of their workflows, while being single-threaded, can need up to 8 GB of memory. I&#39;m not sure what the glideins are requesting right now, but if MINOS can get 8 GB in a glidein, that&#39;s desirable.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1476203362'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T16:29:22+00:00">Oct 11, 2016 04:29 PM UTC</time><a class="anchor" name="1476203362">&nbsp;</a></div><pre>Shreyas,

Can you confirm some of your jobs ran on nodes at Stampede other than these two [1] [2]? If so, can you let me know these other host names.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

129.114.80.13
13.80.114.129.in-addr.arpa domain name pointer c490-201.stampede.tacc.utexas.edu.

[2]

host 129.114.81.27
27.81.114.129.in-addr.arpa domain name pointer c496-901.stampede.tacc.utexas.edu.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1476122058'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-10T17:54:18+00:00">Oct 10, 2016 05:54 PM UTC</time><a class="anchor" name="1476122058">&nbsp;</a></div><pre>Will,

Thanks for the info on MINOS jobs. After this last test (if it does not work), we&#39;ll revert to old LIGO configuration and get you running on single-core glideins.

Shreyas,

Thanks for the latest batch of test jobs. Update you once we see them run.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1476121273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-10T17:41:13+00:00">Oct 10, 2016 05:41 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1476121273">&nbsp;</a></div><pre>Hi Shreyas and Marty,

A typical MINOS job is single-core, so I believe you can use the single glidein per core configuration used with LIGO.

Many thanks for your hard work on this.

Will

<font color='#7F7E6F'>&#62; On Oct 10, 2016, at 11&#58;52 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1476118324'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-10T16:52:04+00:00">Oct 10, 2016 04:52 PM UTC</time><a class="anchor" name="1476118324">&nbsp;</a></div><pre>Hi Marty,

I can confirm that all of my jobs ran on the two nodes you indicated.  I&#39;m not sure what the typical MINOS job profile will be - Will, could you weigh in here?

In the meantime, I&#39;ve just submitted two batches of 64 test jobs as you&#39;ve asked.

Thanks!
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475964001'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-08T22:00:01+00:00">Oct 8, 2016 10:00 PM UTC</time><a class="anchor" name="1475964001">&nbsp;</a></div><pre>Shreyas,

Okay, it looks like all of your jobs ran on either the nodes [1] or [2]. Can you confirm? Unfortunately, each node is associated with a separate SLURM_JOBID [3] [4], which means they appear to be individual SLURM jobs each requesting two nodes, but only using one node to run one glidein and your jobs. For example, each set of jobs running on the glideins should have run on 4 different nodes [5] [6] (or so we hoped) if there was one 16-core glidein per node. Please let us know if any jobs ran on other nodes. I don&#39;t think they did, but please double check for me from your end.

I&#39;ve changed the last parameter we&#39;re not quite sure of what it does of from our side when it gets to Stampede as a last attempt to get each glidein request to run jobs on two separate 16-core glideins on two nodes. If you can repeat the same &#34;two sets of 64 test jobs that sleep for 5 minutes each job&#34; test, that would be helpful. If this doesn&#39;t work, we&#39;ll have to get our own test infrastructure up and running (its not yet) to see what&#39;s going on inside Stampede when we change the knobs from the factory.

Also, if Will and MINOS&#39;s job profile is single-core jobs only, we can revert to the same single glidein per core configuration used with LIGO last year if MINOS needs to get up and running soon. But if they are multicore jobs, we&#39;ll have to continue to sort out this partitionable slot/multicore glidein submission first (which we&#39;ll do anyway).

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

host 129.114.81.71
71.81.114.129.in-addr.arpa domain name pointer c498-001.stampede.tacc.utexas.edu.

[2]

host 129.114.84.174
174.84.114.129.in-addr.arpa domain name pointer c519-602.stampede.tacc.utexas.edu.

[3]

SLURM_JOBID=7702204

[4]

SLURM_JOBID=7702287

[5]

SLURM_JOB_NODELIST=c498-[001,403]

<div id='show_1307521173' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1307521173'>[6]

SLURM_JOB_NODELIST=c519-602,c520-503

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1307521173').click(function() {
            $('#detail_1307521173').slideDown("normal");
            $('#show_1307521173').hide();
            $('#hide_1307521173').show();
        });
        $('#hide_1307521173').click(function() {
            $('#detail_1307521173').slideUp();
            $('#hide_1307521173').hide();
            $('#show_1307521173').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1475874564'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T21:09:24+00:00">Oct 7, 2016 09:09 PM UTC</time><a class="anchor" name="1475874564">&nbsp;</a></div><pre>Shreyas,

Yes, that is correct. Two sets of 64 test jobs that sleep for 5 minutes each job. When you have the hostnames after the jobs run, let us know.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475873750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T20:55:50+00:00">Oct 7, 2016 08:55 PM UTC</time><a class="anchor" name="1475873750">&nbsp;</a></div><pre>Hi Marty,

I&#39;m sorry for the delay - I just saw this.

I submitted 2 batches of 64 jobs, and each job will get the hostname and sleep for 5 minutes at the end before exiting.  Is that right?

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475863127'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T17:58:47+00:00">Oct 7, 2016 05:58 PM UTC</time><a class="anchor" name="1475863127">&nbsp;</a></div><pre>Shreyas,

I reviewed the results from the test jobs that ran overnight. From the glidein logs, it looks like all of the jobs ran on the same node at Stampede, even though we&#39;re trying to get them running on two nodes.

I can&#39;t tell if the jobs did not distribute themselves across both nodes because of how we have everything configured or if there was simply not enough time to get both nodes connected back to the frontend and match the jobs and distribute them across both nodes.

Can you resubmit another batch of test jobs? But this time&#58;

(1) increase the total number of jobs to 128, but separate them into two individual 64 job workflows (i.e., do two condor_submit[s]) ,
(2) increase their overall runtime for each job to say 5 min, and
(3) make sure you get the hostname for each host a job ran on.

I&#39;m going to try and setup a separate way for me to submit test jobs myself through another allocation to make this debugging easier, but until I get that working, I think this next set of test jobs is what we need.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475788067'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T21:07:47+00:00">Oct 6, 2016 09:07 PM UTC</time><a class="anchor" name="1475788067">&nbsp;</a></div><pre>Thanks!

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475788014'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T21:06:54+00:00">Oct 6, 2016 09:06 PM UTC</time><a class="anchor" name="1475788014">&nbsp;</a></div><pre>Sure thing.  I just sent 32 test jobs.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475787625'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T21:00:25+00:00">Oct 6, 2016 09:00 PM UTC</time><a class="anchor" name="1475787625">&nbsp;</a></div><pre>Shreyas,

Can I get another set of test jobs? And how about 32 test jobs?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475700638'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T20:50:38+00:00">Oct 5, 2016 08:50 PM UTC</time><a class="anchor" name="1475700638">&nbsp;</a></div><pre>Thanks, Shreyas. We&#39;re working out some of the tweaks now. Let you know when we know more.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475700169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T20:42:49+00:00">Oct 5, 2016 08:42 PM UTC</time><a class="anchor" name="1475700169">&nbsp;</a></div><pre>Hi Marty,

I just sent 10 jobs.

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475699753'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T20:35:53+00:00">Oct 5, 2016 08:35 PM UTC</time><a class="anchor" name="1475699753">&nbsp;</a></div><pre>Ken, Shreyas,

If you can queue up some more test jobs for us, that would be great.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475689388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T17:43:08+00:00">Oct 5, 2016 05:43 PM UTC</time><a class="anchor" name="1475689388">&nbsp;</a></div><pre>Yep the key here would have the VO&#39;s agreeing in the amount of nodes they will get per glidein.

If you set it lower to (1 or 2) you get less unused tails, however since Stampede can only have 40 ~glidiens per user(VO) in this case then you cannot fully use your allocation if you set it to low. Unfortunately this not something I thought that could be passed from the frontend to the factories (since this is the first multiple host glidein site), Interested VO&#39;s (CMS, Ligo and MINOS will have to agree on a number).

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1475688816'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T17:33:36+00:00">Oct 5, 2016 05:33 PM UTC</time><a class="anchor" name="1475688816">&nbsp;</a></div><pre>Jeff,

Thanks. Edgar and I agree. We will make this change. I&#39;ll follow up with CMS and Fermilab if they can agree on an overall host_count/count number that would make sense as they spin-up production work.

Ken,

Yes, standard Stampede nodes have 16 cores per node and 32 GB per node.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475688284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T17:24:44+00:00">Oct 5, 2016 05:24 PM UTC</time><a class="anchor" name="1475688284">&nbsp;</a></div><pre>Hi again,

One other thing to keep in mind is memory requirements. I think that MINOS will want at least 2 GB/core. It looks like if the number of cores is 16, corresponding to a full node (they are 32 GB RAM, right?), then that&#39;s not going to be an issue.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475688015'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T17:20:15+00:00">Oct 5, 2016 05:20 PM UTC</time><a class="anchor" name="1475688015">&nbsp;</a></div><pre>Hi Marty,

It isn&#39;t this simple.  Remember Stampede is a special case, we have to work around the Stampede imposed limit of a max of 40 pilot submissions per user.

Edgar, I think we just divide count by 16 to get multi  glideins.  What we had last for ligo gave a total of 40 * 512 = ~20k cores (single core pilots)

Say we continue to limit usage to 20k total but want to make them partitionable, and 16 core pilots.

I think the right thing to do is&#58;
rsl=&#34;(job_type=multiple)(count=32)(host_count=32)(maxWallTime=2880)&#34;
GLIDEIN_CPUS=512

The catch here is we don&#39;t just get rid of the force_one script. Instead we keep it, but to scale down to the correct number of cores per pilot.  It needs to modify GLIDEIN_CPUS=16 in the pilot.

So to summarize, multiple gives us 32 copies of one 16 core pilot = 512 per submission.  When the pilot actually starts up we make it correctly advertise 16 cores.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='31099#1475686425'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T16:53:45+00:00">Oct 5, 2016 04:53 PM UTC</time><a class="anchor" name="1475686425">&nbsp;</a></div><pre>Ken,

For now, I have set count=16 and GLIDEIN_CPUS=16. This will give you 1 glidein per full node at Stampede for the time being. If you have a number in mind of how many multinode glideins per frontend you will need for your users, we can turn up the host_count multiplier when you are ready for production workloads.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475685821'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T16:43:41+00:00">Oct 5, 2016 04:43 PM UTC</time><a class="anchor" name="1475685821">&nbsp;</a></div><pre>Hi Marian, Ken,

Actually partitionable slots here is not possible for now. Marian the RSL should be set to this&#58;

rsl=&#34;(job_type=multiple)(count=512)(host_count=32)(maxWallTime=2880)&#34;

And the GLIDEIN_CPUS=count=512=32*16(~num of cores per host on Stampede)

So the frontend knows that each glidein will get  512 cores in order not to overprovision.

To get Partionable slots working, we would have to turn this off&#58;

&#60;file absfname=&#34;/etc/gwms-factory/force_one_cpu.sh&#34; const=&#34;True&#34; executable=&#34;True&#34; period=&#34;0&#34; untar=&#34;False&#34; wrapper=&#34;False&#34;&#62;

And use  GLIDEIN_CPUS=16. The problem with this is that this tells the frontend that each glidein will get 16 cores when in reality it will get 512. So this turns into heavy overprovisioning.

Jeff, do you see a way to get Partioanble slots working?

Ken,

I did a small presetioantion on the past AHM over this&#58;

<a href='https&#58;//indico.fnal.gov/contributionDisplay.py?sessionId=7&contribId=33&confId=10571' target='_blank' rel='nofollow'>https&#58;//indico.fnal.gov/contributionDisplay.py?sessionId=7&contribId=33&confId=10571</a>

IF you want to get an idea of how this works.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1475684709'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T16:25:09+00:00">Oct 5, 2016 04:25 PM UTC</time><a class="anchor" name="1475684709">&nbsp;</a></div><pre>Our preference would be for partitionable slots; does TACC have a limit on how many cores we can get per glidein? Or are we getting &#62;1 CPUs in reality and it&#39;s just not advertising that way?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475684558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T16:22:38+00:00">Oct 5, 2016 04:22 PM UTC</time><a class="anchor" name="1475684558">&nbsp;</a></div><pre>Just to keep discussion rolling while I&#39;m on the shift and perhaps Marty can then continue when my shift ends ... How many cores would you prefer, 4? Also there are some rsl attributes used for matching, do we know when switching to multicore how it should turn here to match multicore on slurm end at Stampede? This is what we have for single core&#58;

rsl=&#34;(job_type=single)(count=1)(host_count=1)(maxWallTime=2880)&#34;
and
GLIDEINCPUS=&#34;1&#34;

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='31099#1475683266'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T16:01:06+00:00">Oct 5, 2016 04:01 PM UTC</time><a class="anchor" name="1475683266">&nbsp;</a></div><pre>Hi,

Edgar&#39;s right, we seem to be getting single core slots only. While the 40 GB of memory is nice, it&#39;s better to spread it over multiple cores so more jobs can run.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475683017'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T15:56:57+00:00">Oct 5, 2016 03:56 PM UTC</time><a class="anchor" name="1475683017">&nbsp;</a></div><pre>Hi Marrty,

There is still one more thing to check for both CMS and MINOS and it is if the multiple node glidein  with n&#62;1 still works.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1475682288'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T15:44:48+00:00">Oct 5, 2016 03:44 PM UTC</time><a class="anchor" name="1475682288">&nbsp;</a></div><pre>Hi Marty,

My new test jobs with the modified PATH check properly sourced the OASIS setup script this time, and all copyback succeeded. I think we can declare victory. MINOS jobs will need to add that sep to their workflow but we will work with them on that. Thanks again!

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475674094'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T13:28:14+00:00">Oct 5, 2016 01:28 PM UTC</time><a class="anchor" name="1475674094">&nbsp;</a></div><pre>Hi Marty,

I have good news and bad news. The good news is that our jobs did in fact run and produce output. The bad news is that they failed to copy everything back because globus-url-copy isn&#39;t in the path. The good news is that we can get around that by using the globus-url-copy version in the OASIS CVMFS repo (I had a check in my script to source the CVMFS setup script if needed, but the condition it was checking for is actually true on Stampede, so I need to change my check around a little.) Of course getting the right software into the job environment is our problem, not yours, so I think we&#39;re done from the factory perspective. If you don&#39;t object I&#39;d like to keep the ticket open one more day; I&#39;ll update my check script right now and send some new jobs. I&#39;d like to have at least one fully successful probe job with copyback to FNAL dCache before we close the ticket. Thanks so much for all of your help!

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475633401'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T02:10:01+00:00">Oct 5, 2016 02:10 AM UTC</time><a class="anchor" name="1475633401">&nbsp;</a></div><pre>Ken, Shreyas,

We&#39;re open for business, finally [1]. We should have final confirmation of successful submissions from CMS tomorrow. Once that is done, we&#39;ll have to coordinate on the number of glideins that should be sustained at Stampede to effectively use Will&#39;s allocation. Depending on what scale CMS is expecting to operate, we may still have to create separate entries to accommodate any significant differences. Of course, if you plan to have other Fermilab-associated users run at Stampede as well, we&#39;ll have to take that into account too.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

10/04/16 20&#58;10&#58;24 (pid&#58;19995) Request accepted.
10/04/16 20&#58;10&#58;24 (pid&#58;19995) Remote owner is sbhat@....
10/04/16 20&#58;10&#58;24 (pid&#58;19995) State change&#58; claiming protocol successful
10/04/16 20&#58;10&#58;24 (pid&#58;19995) Changing state and activity&#58; Unclaimed/Benchmarking -&#62; Claimed/Idle
10/04/16 20&#58;10&#58;24 (pid&#58;19995) GLEXEC_STARTER is false, cancelling delegation
10/04/16 20&#58;10&#58;24 (pid&#58;19995) Got activate_claim request from shadow (131.225.154.18)
10/04/16 20&#58;10&#58;24 (pid&#58;19995) REQ_CLASSAD&#58;
10/04/16 20&#58;10&#58;24 (pid&#58;19995) Remote job ID is 1602.0
10/04/16 20&#58;10&#58;24 (pid&#58;19995) Got universe &#34;VANILLA&#34; (5) from request classad
10/04/16 20&#58;10&#58;24 (pid&#58;19995) State change&#58; claim-activation protocol successful
10/04/16 20&#58;10&#58;24 (pid&#58;19995) Changing activity&#58; Idle -&#62; Busy
10/04/16 20&#58;10&#58;34 (pid&#58;19995) Updated job ClassAd&#58;
10/04/16 20&#58;10&#58;41 (pid&#58;19995) State change&#58; benchmarks completed
10/04/16 20&#58;11&#58;38 (pid&#58;19995) Updated job ClassAd&#58;
10/04/16 20&#58;11&#58;38 (pid&#58;19995) Updated job ClassAd&#58;
10/04/16 20&#58;11&#58;38 (pid&#58;19995) Called deactivate_claim_forcibly()
10/04/16 20&#58;11&#58;38 (pid&#58;19995) Starter pid 20153 exited with status 0
10/04/16 20&#58;11&#58;38 (pid&#58;19995) State change&#58; starter exited
10/04/16 20&#58;11&#58;38 (pid&#58;19995) Changing activity&#58; Busy -&#62; Idle
10/04/16 20&#58;11&#58;38 (pid&#58;19995) GLEXEC_STARTER is false, cancelling delegation
10/04/16 20&#58;11&#58;39 (pid&#58;19995) Got activate_claim request from shadow (131.225.154.18)
10/04/16 20&#58;11&#58;39 (pid&#58;19995) REQ_CLASSAD&#58;
10/04/16 20&#58;11&#58;39 (pid&#58;19995) Remote job ID is 1602.1
10/04/16 20&#58;11&#58;39 (pid&#58;19995) Got universe &#34;VANILLA&#34; (5) from request classad
<div id='show_1100312575' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1100312575'>10/04/16 20&#58;11&#58;39 (pid&#58;19995) State change&#58; claim-activation protocol successful
10/04/16 20&#58;11&#58;39 (pid&#58;19995) Changing activity&#58; Idle -&#62; Busy
10/04/16 20&#58;11&#58;49 (pid&#58;19995) Updated job ClassAd&#58;
10/04/16 20&#58;12&#58;07 (pid&#58;19995) Updated job ClassAd&#58;
10/04/16 20&#58;12&#58;08 (pid&#58;19995) Updated job ClassAd&#58;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1100312575').click(function() {
            $('#detail_1100312575').slideDown("normal");
            $('#show_1100312575').hide();
            $('#hide_1100312575').show();
        });
        $('#hide_1100312575').click(function() {
            $('#detail_1100312575').slideUp();
            $('#hide_1100312575').hide();
            $('#show_1100312575').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1475616017'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-04T21:20:17+00:00">Oct 4, 2016 09:20 PM UTC</time><a class="anchor" name="1475616017">&nbsp;</a></div><pre>Ken,

I think we&#39;ve sorted out the issue and fixed it. I&#39;m waiting on some of your idle glideins at Stampede to run to confirm. I&#39;ll reply here by the end of the day with an update.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475615585'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-04T21:13:05+00:00">Oct 4, 2016 09:13 PM UTC</time><a class="anchor" name="1475615585">&nbsp;</a></div><pre>Hi everyone,

I was just checking to make sure the TACC admins were aware of the issue when reporting back to the collector. in case there&#39;s anything they need to do on their end. I know there&#39;s a TACC ticket open somewhere about all of this, but I don&#39;t know where it is. Marty, I saw in the CMS Stampede ticket that it looks like things might have worked yesterday? Was there any change with the Fermilab glideins?

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475279898'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T23:58:18+00:00">Sep 30, 2016 11:58 PM UTC</time><a class="anchor" name="1475279898">&nbsp;</a></div><pre>Hi Marty,

Yes, that&#39;s consistent with what we&#39;re seeing, where the glideins wouldn&#39;t show up in the condor_status output.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475276930'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T23:08:50+00:00">Sep 30, 2016 11:08 PM UTC</time><a class="anchor" name="1475276930">&nbsp;</a></div><pre>Ken,

See attached logs.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475276409'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T23:00:09+00:00">Sep 30, 2016 11:00 PM UTC</time><a class="anchor" name="1475276409">&nbsp;</a></div><pre>Ken,

Okay, it looks like we&#39;re now running into the same problem CMS is having with their glideins at Stampede. That is, they don&#39;t authenticate back with the frontend for some reason. For example, from a STARTD log [1]. Let me get you a few logs to comb over yourself.

Marty Kandes
UCSD Glidein Factory Operations

[1]

09/30/16 17&#58;31&#58;21 (pid&#58;119558) SECMAN&#58; required authentication with collector fife-uc-dev01.fnal.gov&#58;9656 failed, so aborting command CCB_REGISTER.
09/30/16 17&#58;31&#58;21 (pid&#58;119558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/30/16 17&#58;31&#58;21 (pid&#58;119558) CCBListener&#58; connection to CCB server fife-uc-dev01.fnal.gov&#58;9656 failed; will try to reconnect in 60 seconds.
09/30/16 17&#58;31&#58;21 (pid&#58;119558) SECMAN&#58; required authentication with collector fife-uc-dev02.fnal.gov&#58;9656 failed, so aborting command CCB_REGISTER.
09/30/16 17&#58;31&#58;21 (pid&#58;119558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/30/16 17&#58;31&#58;21 (pid&#58;119558) CCBListener&#58; connection to CCB server fife-uc-dev02.fnal.gov&#58;9656 failed; will try to reconnect in 60 seconds.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475275272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T22:41:12+00:00">Sep 30, 2016 10:41 PM UTC</time><a class="anchor" name="1475275272">&nbsp;</a></div><pre>Thanks Marty,

If the glideins are still failing next time you check, please send us the stdout/stderr. I changed a couple of the debug messages to hopefully shed some more light on things.

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475273377'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T22:09:37+00:00">Sep 30, 2016 10:09 PM UTC</time><a class="anchor" name="1475273377">&nbsp;</a></div><pre>Shreyas.

Thanks. I see glideins running. I&#39;ll check on them before I leave at the end of the day. Hopefully the CVMFS work-around works.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475273076'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T22:04:36+00:00">Sep 30, 2016 10:04 PM UTC</time><a class="anchor" name="1475273076">&nbsp;</a></div><pre>Hi Marty and Ken,

I just sent 10 test jobs.

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475273071'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T22:04:31+00:00">Sep 30, 2016 10:04 PM UTC</time><a class="anchor" name="1475273071">&nbsp;</a></div><pre>Hi Marty and Ken,

I just sent 10 test jobs.

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475272844'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T22:00:44+00:00">Sep 30, 2016 10:00 PM UTC</time><a class="anchor" name="1475272844">&nbsp;</a></div><pre>Ken,

I&#39;ve added MINOS back to the GLIDEIN_Supported_VOs list. Send some test jobs our way when you get a chance.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475272231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T21:50:31+00:00">Sep 30, 2016 09:50 PM UTC</time><a class="anchor" name="1475272231">&nbsp;</a></div><pre>Hi,

We have a modification to IFFE_script.sh that we think will get around the cvmfs-uptodate failure. Could you re-enabled MINOS (or Fermilab, whichever it was) as a supported VO at Stampede? Then we&#39;ll get some new probe jobs in.

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475184910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T21:35:10+00:00">Sep 29, 2016 09:35 PM UTC</time><a class="anchor" name="1475184910">&nbsp;</a></div><pre>Quick update&#58; I&#39;m going to look at modifying IFFE.sh to continue on if cvmfs-uptodate quite with an exit code of 2, which is probably what it&#39;s doing in this particular case since Lustre is involved.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475099829'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:57:09+00:00">Sep 28, 2016 09:57 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1475099829">&nbsp;</a></div><pre>At MWT2, for AtlasConnect, we needed to get repositories on sites which

1) Will not install CVMFS Client
2) Will not use NFS CVMFS
3) Will not provide Fuse (I have a solution called PortableCVMFS if you have fuse)
4) Will not provide an edge server for other solutions

That is, you are just a non-privileged user on a campus cluster, etc.

The Stratum-R are servers at MWT2 which create unpacked replicas
of various CVMFS repositories using CVMFS server and CVMFS Client

These unpacked repositories can then be used directly,
or in the case of Stampede, are replicated one additional step
onto the Lustre file system (using rsync over stunnel and an x509 cert).
These are kept up-to-date at various intervals depending on their purpose.
From every 6 hours (for a CA) to 1 once a week (rarely changed locations)

Thus on Stampede, the repositories exist on the Lustre file system
A softlink for &#34;/cvmfs&#34; on every node (the one concession by Stampede admins)
to the location of the unpacked repositories provides the &#34;standard&#34; path.

Using this solution, we were able to run Atlas jobs on Stampede (till our allocation ran out).

For Bluewaters, the only transfer method is Globus Online.

Thus the Stratum-R servers are also Globus Servers (only for me with a Personal Server setup).
Using Globus Online, a few repositories now exist on BW for my Atlas work.
Once we have &#34;shifter&#34; with a docker container available on BW,
we should be able to run Atlas jobs on BW using the repository copies.

My main objective is Atlas support, but adding other repositories is easy.
Thus on Stampede are copies of oasis, fermilab, minos, etc.

dave
<div id='show_863221140' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_863221140'>
On 9/28/2016 4&#58;35 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_863221140').click(function() {
            $('#detail_863221140').slideDown("normal");
            $('#show_863221140').hide();
            $('#hide_863221140').show();
        });
        $('#hide_863221140').click(function() {
            $('#detail_863221140').slideUp();
            $('#hide_863221140').hide();
            $('#show_863221140').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1475098526'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:35:26+00:00">Sep 28, 2016 09:35 PM UTC</time><a class="anchor" name="1475098526">&nbsp;</a></div><pre>Hi Dave,

I got totally lost here. Could you elaborate some more for the folks who are not fully expers on the Stratum-R architecture

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1475097850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:24:10+00:00">Sep 28, 2016 09:24 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1475097850">&nbsp;</a></div><pre>Well...cvmfs-update will not work on the replica repositories on Stampede since they are on Luster

attr is not supported, so any attempt to

attr -g revision ....
attr -g  expires ....

will fail.....

It would be possible to have the Stratum-R grab the values and put them into the replicated repository,
such as in .../oasis.opensciencegrid.org/.xattr/revision ./expires, etc...

but it would not be possible to do a

attr -s revision -V &#60;value&#62;

on the Lustre file system, since that operation is not supported.

dave

On 9/28/2016 4&#58;00 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1475097121'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:12:01+00:00">Sep 28, 2016 09:12 PM UTC</time><a class="anchor" name="1475097121">&nbsp;</a></div><pre>I&#39;ve removed MINOS from the GLIDEIN_Supported_VOs list until the CVMFS issues have been sorted out. Let us (Factory Operations) know when we&#39;re ready for another run at testing.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475096424'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:00:24+00:00">Sep 28, 2016 09:00 PM UTC</time><a class="anchor" name="1475096424">&nbsp;</a></div><pre>Dave&#58; Yes, we can work with those CAs in mis.

Overall it looks like we&#39;re almost there now. If we can figure out the cvmfs-uptodate failure then we might have it.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475096051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:54:11+00:00">Sep 28, 2016 08:54 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1475096051">&nbsp;</a></div><pre>The oasis repository (and CA in mis) are on Stampede.

The CA there is updated every 6 hours.

login5.stampede(28)$ ll cvmfs/oasis.opensciencegrid.org/mis/certificates/ | more
total 3720
lrwxrwxrwx 1 usatlas G-815132    18 Aug  9 19&#58;21 01b5d333.0 -&#62; cilogon-silver.pem
lrwxrwxrwx 1 usatlas G-815132    25 Aug  9 19&#58;21 01b5d333.namespaces -&#62; cilogon-silver.namespaces
-rw-rw-r-x 1 usatlas G-815132   670 Sep 28 13&#58;20 01b5d333.r0
lrwxrwxrwx 1 usatlas G-815132    29 Aug  9 19&#58;21 01b5d333.signing_policy -&#62; cilogon-silver.signing_policy
lrwxrwxrwx 1 usatlas G-815132    12 Aug  9 19&#58;21 02a45931.0 -&#62; DFN-SLCS.pem
lrwxrwxrwx 1 usatlas G-815132    19 Aug  9 19&#58;21 02a45931.namespaces -&#62; DFN-SLCS.namespaces
-rw-rw-r-x 1 usatlas G-815132   670 Sep 28 13&#58;20 02a45931.r0

So you should be able to define X509_CERT_DIR  etc to redirect to this location

dave

On 9/28/2016 3&#58;44 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1475095690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:48:10+00:00">Sep 28, 2016 08:48 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1475095690">&nbsp;</a></div><pre>Marty,

I believe I already have fermilab replicated to Stampede

Here is a list of the repositories I am current replicating to Stampede.

login5.stampede(19)$ ll cvmfs/
total 76
drwxrwxr-x 11 usatlas G-815132 4096 Sep 12 14&#58;54 alice.cern.ch
drwxrwxr-x  3 usatlas G-815132 4096 Apr 24 02&#58;22 alice-ocdb.cern.ch
drwxrwxr-x  3 usatlas G-815132 4096 Sep 28 07&#58;01 atlas.cern.ch
drwxrwxr-x  3 usatlas G-815132 4096 Sep 12 17&#58;30 atlas-condb.cern.ch
drwxrwxr-x  3 usatlas G-815132 4096 Sep 13 02&#58;34 atlas-nightlies.cern.ch
drwxrwxr-x  7 usatlas G-815132 4096 Sep 27 05&#58;55 boss.cern.ch
drwxrwxr-x  4 usatlas G-815132 4096 May  2 04&#58;09 cernvm-prod.cern.ch
drwxrwxr-x 51 usatlas G-815132 4096 Sep 26 05&#58;58 cms.cern.ch
drwxrwxr-x  4 usatlas G-815132 4096 Sep 27 22&#58;38 fermilab.opensciencegrid.org
drwxrwxr-x 10 usatlas G-815132 4096 Apr 29 21&#58;27 geant4.cern.ch
drwxrwxr-x 30 usatlas G-815132 4096 Sep 27 20&#58;55 grid.cern.ch
drwxrwxr-x  9 usatlas G-815132 4096 Sep 28 01&#58;28 icecube.opensciencegrid.org
drwxrwxr-x  4 usatlas G-815132 4096 Sep 12 09&#58;41 lhcb.cern.ch
drwxrwxr-x  3 usatlas G-815132 4096 Sep 28 02&#58;12 minos.opensciencegrid.org
drwxrwxr-x  5 usatlas G-815132 4096 Sep 12 09&#58;19 na61.cern.ch
drwxrwxr-x 11 usatlas G-815132 4096 Sep 28 03&#58;27 nova.opensciencegrid.org
drwxrwxr-x 28 usatlas G-815132 4096 Sep 27 20&#58;56 oasis.opensciencegrid.org
drwxrwxr-x  6 usatlas G-815132 4096 Sep 10 04&#58;30 osg.mwt2.org
drwxrwxr-x  3 usatlas G-815132 4096 Sep 27 05&#58;27 sft.cern.ch

login5.stampede(20)$ ll cvmfs/fermilab.opensciencegrid.org/
total 8
drwxrwxr-x 9 usatlas G-815132 4096 Sep 27 22&#58;38 genie
drwxrwxr-x 5 usatlas G-815132 4096 Sep 27 22&#58;38 products
login5.stampede(21)$

Separately I am currently working on replicating the repositories to Bluewaters using Globus Online.
<div id='show_1120175911' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1120175911'>Its a bit more of a challenge due to the restrictions by GO (for example no symlink transfer)

Here is a list I am currently replicating on BW

ddl@h2ologin3&#58;~&#62; ll cvmfs/
total 28
drwxr-xr-x  4 ddl ILL_bafz 4096 Sep 26 14&#58;15 atlas.cern.ch
drwxrwxr-x  4 ddl ILL_bafz 4096 Sep 26 13&#58;44 atlas-condb.cern.ch
drwxrwx--- 11 ddl ILL_bafz 4096 Sep 26 14&#58;16 geant4.cern.ch
drwxrwxr-x 31 ddl ILL_bafz 4096 Sep 26 14&#58;16 grid.cern.ch
drwxrwxr-x 30 ddl ILL_bafz 4096 Sep 26 14&#58;16 oasis.opensciencegrid.org
drwxrwxr-x  7 ddl ILL_bafz 4096 Sep 26 13&#58;31 osg.mwt2.org
drwxrwx---  4 ddl ILL_bafz 4096 Sep 26 14&#58;16 sft.cern.ch

Since this is an Atlas project I am only doing the Atlas repos + Oasis,
I am not certain yet if this approach will be feasible.

I am only using a Globus Personal Server setup on the Stratum-R
which has some performance issues. I am hoping to get a
GO organization account for MWT2 to use on the Stratum-R servers,
but have not been able to aquire one as yet

dave

On 9/28/2016 3&#58;34 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1120175911').click(function() {
            $('#detail_1120175911').slideDown("normal");
            $('#show_1120175911').hide();
            $('#hide_1120175911').show();
        });
        $('#hide_1120175911').click(function() {
            $('#detail_1120175911').slideUp();
            $('#hide_1120175911').hide();
            $('#show_1120175911').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1475095462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:44:22+00:00">Sep 28, 2016 08:44 PM UTC</time><a class="anchor" name="1475095462">&nbsp;</a></div><pre>Marty&#58; Having no CA certs may end up being a problem, but if /cvmfs/oasis.opensciencegrid.org is mounted on Stampede, then the MINOS jobs have a workaround by sourcing the software setup contained in there. Also, just to clarify my earlier reply, MINOS will need both the fermilab.opensciencegrid.org and minos.opensciencegrid.org CVMFS repositories.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475095060'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:37:40+00:00">Sep 28, 2016 08:37 PM UTC</time><a class="anchor" name="1475095060">&nbsp;</a></div><pre>Hi,

MINOS will also almost certainly need /cvmfs/minos.opensciencegrid.org mounted as well.

Cheers,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1475094878'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:34:38+00:00">Sep 28, 2016 08:34 PM UTC</time><a class="anchor" name="1475094878">&nbsp;</a></div><pre>Hi David,

Do you think it would be possible to also have  /cvmfs/fermilab.opensciencegrid.org on Stampede?

Thanks

Marty,

Thnaks for the findings. Can you remove Fermilab from the Supported VO&#39;s until we got the cvmfs part solved?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1475094341'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:25:41+00:00">Sep 28, 2016 08:25 PM UTC</time><a class="anchor" name="1475094341">&nbsp;</a></div><pre>Hi all,

So now that the correct glidein/pilot DNs are in the grid-mapfile, glideins are successfully submitted to Stampede under Will&#39;s account and begin to run. Unfortunately, however, they fail to startup properly because the glideins cannot find a Fermilab VO specific script they check for [1].

I don&#39;t know if this will be a problem, but the glideins also throw out a warning about not being able to find the CA certs, grid-proxy-init, and voms-proxy-init [2].

Any suggestions?

Marty Kandes
UCSD Glidein Factory Operations

[1]

=== Validation error in /tmp/glide_3sACmM/client/IFFE_script.sh ===
Wed Sep 28 14&#58;01&#58;35 CDT 2016 Error running &#39;/tmp/glide_3sACmM/client/IFFE_script.sh&#39;
cvmfs_uptodate failed for /cvmfs/fermilab.opensciencegrid.org

[2]

setup_x509.g9mmX4.sh&#58; OK
Signature OK for main&#58;setup_x509.g9mmX4.sh.
WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/ (/home1/03069/whf346/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/opt/apps/xsede/gram5-5.2.3/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475091956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T19:45:56+00:00">Sep 28, 2016 07:45 PM UTC</time><a class="anchor" name="1475091956">&nbsp;</a></div><pre>Edgar,

If this is an XSEDE allocation, then we should use the TG-PHY160034 XSEDE Project ID. e.g., this is what you have to put in your SLURM job description file when you submit a job to Stampede by hand. Anyhow, I&#39;ll check and see if the updates to the grid-mapfile have let us in the front door.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1475086231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T18:10:31+00:00">Sep 28, 2016 06:10 PM UTC</time><a class="anchor" name="1475086231">&nbsp;</a></div><pre>Hmm I never understood if the ProjectName should have been TG-PHY160034 or MINOS.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1475084568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T17:42:48+00:00">Sep 28, 2016 05:42 PM UTC</time><a class="anchor" name="1475084568">&nbsp;</a></div><pre>Great - I&#39;ve put the TG-PHY160034 back in the frontend, and will send a test job shortly.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1475084430'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T17:40:30+00:00">Sep 28, 2016 05:40 PM UTC</time><a class="anchor" name="1475084430">&nbsp;</a></div><pre>DN &#34;&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=frontend/fifebatch.fnal.gov/CN=proxy&#34; whf346&#34; is now on Stampede&#39;s grid-mapfile.

login5.stampede(43)$ grep whf /etc/grid-security/grid-mapfile
&#34;/C=US/O=National Center for Supercomputing Applications/CN=Will Hogan Flanagan&#34; whf346
&#34;/C=US/O=Pittsburgh Supercomputing Center/CN=Will Hogan Flanagan&#34; whf346
&#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=frontend/fifebatch.fnal.gov/CN=proxy&#34; whf346
&#34;/DC=org/DC=cilogon/C=US/O=University of Texas at Austin/CN=Will Flanagan A64076&#34; whf346
&#34;/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend/fifebatch.fnal.gov/CN=proxy&#34; whf346
&#34;/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend/fifebatch.fnal.gov&#34; whf346
&#34;/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov/CN=proxy&#34; whf346
&#34;/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov&#34; whf346

by /DC=org/DC=cilogon/C=US/O=University of Texas at Austin/CN=David Carver A10807</pre></div><div class='update_description'><i onclick="document.location='31099#1475084318'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T17:38:38+00:00">Sep 28, 2016 05:38 PM UTC</time><a class="anchor" name="1475084318">&nbsp;</a></div><pre>Unknow XSede project G-801389 or inactive project

Gateway needs to update their project

No reservation for this job
--&#62; Verifying valid submit host (login5)...OK
--&#62; Verifying valid jobname...OK
--&#62; Enforcing max jobs per user...OK
--&#62; Verifying availability of your home dir (/home1/03069/whf346)...OK
--&#62; Verifying availability of your work dir (/work/03069/whf346)...OK
--&#62; Verifying valid ssh keys...OK
--&#62; Verifying access to desired queue (normal)...OK
--&#62; Verifying job request is within current queue limits...OK
--&#62; Checking available allocation (G-801389)...
ERROR&#58; Unknown project G-801389 (in accounting_check_prod.pl).

Please report this problem&#58;
U. of TX users contact (<a href='https&#58;//portal.tacc.utexas.edu/consulting' target='_blank' rel='nofollow'>https&#58;//portal.tacc.utexas.edu/consulting</a>)
FAILED
login5.stampede(23)$

Here is there allocated project on stampede for whf345

[root@....pede]# su - whf346

Hide quoted text
---------------------- Project balances for user whf346 -----------------------
| Name Avail SUs Expires | Name Avail SUs Expires |
| MINOS 195331 2016-12-31 | NEMO 94515 2016-12-31 |
| Neutrino-Interaction 0 2016-12-31 | TG-PHY160034 50000 2017-05-22 |

by /DC=org/DC=cilogon/C=US/O=University of Texas at Austin/CN=David Carver A10807</pre></div><div class='update_description'><i onclick="document.location='31099#1475084211'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T17:36:51+00:00">Sep 28, 2016 05:36 PM UTC</time><a class="anchor" name="1475084211">&nbsp;</a></div><pre>From&#58; Jeffrey Dost [mailto&#58;jdost@....]
Sent&#58; Tuesday, September 27, 2016 10&#58;12 AM
To&#58; David Carver &#60;dcarver@....&#62;; John Cazes &#60;cazes@....&#62;; Kandes, Martin &#60;mkandes@....&#62;; rynge@....
Cc&#58; Fajardo Hernandez, Edgar &#60;emfajard@....&#62;; GlideinWMS Factory Support &#60;osg-gfactory-support@....&#62;; osg-xsede-support@....; Marlon Pierce &#60;marpierc@....&#62;; Brian Paul Bockelman &#60;bbockelm@....&#62;; Fajardo Hernandez, Edgar &#60;emfajard@....&#62;
Subject&#58; Re&#58; [Osg-gfactory-support] GRAM-CE --&#62; HTCondor-CE @ TACC?

Hi,

Just to clarify, when Marty said GRAM-CE he meant GRAM5.  I don&#39;t understand why there is a distinction here between the two.

And OSG Factory Operations worked very closely with Brian Bockelman and Edgar Fajardo to get LIGO running on Stampede through the GRAM5 CE.  From our end it would be no problem to transition LIGO over to HTCondor-CE and it would make the process of getting other OSG communities running at Stampede much simpler, but if you have other users outside of OSG who depend on your GRAM5 service, then we will have to make do with GRAM5.

Jeff Dost
OSG Glidein Factory Operations

by /DC=org/DC=cilogon/C=US/O=University of Texas at Austin/CN=David Carver A10807</pre></div><div class='update_description'><i onclick="document.location='31099#1474934443'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T00:00:43+00:00">Sep 27, 2016 12:00 AM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1474934443">&nbsp;</a></div><pre>Hi Marty,

I added&#58;
/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
to my username via the XSEDE user portal. Sorry for the delay.

Thanks,
Will</pre></div><div class='update_description'><i onclick="document.location='31099#1474934230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-26T23:57:10+00:00">Sep 26, 2016 11:57 PM UTC</time> by <b>will.flanagan@....</b><a class="anchor" name="1474934230">&nbsp;</a></div><pre>Hi Ken,

I added&#58;
/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
and
/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend/fifebatch.fnal.gov
to my TACC DNs.

Thanks,
Will

<font color='#7F7E6F'>&#62; On Sep 26, 2016, at 4&#58;13 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31099#1474924413'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-26T21:13:33+00:00">Sep 26, 2016 09:13 PM UTC</time><a class="anchor" name="1474924413">&nbsp;</a></div><pre>Hi,

For Will&#58; This is just a hunch, but can you add the two Fermilab pilot DNs into your account again, but *without* the &#34;/CN=proxy&#34; on the end? You can leave the existing entries in there but I&#39;m wondering if somewhere along the line one of the pieces is expecting that DN to not have the /CN=proxy tail.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='31099#1474919328'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-26T19:48:48+00:00">Sep 26, 2016 07:48 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1474919328">&nbsp;</a></div><pre>Hello All,

What is the status of this? Was the information that Marty provided helpful?

Thanks,
Chrs</pre></div><div class='update_description'><i onclick="document.location='31099#1474559607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T15:53:27+00:00">Sep 22, 2016 03:53 PM UTC</time><a class="anchor" name="1474559607">&nbsp;</a></div><pre>Shreyas, Will,

&#34;This is not an XSEDE allocation, but an internal TACC allocation. Could that be significant?&#34; Yes, this may be siginificant. I do not know if the GRAM-CE we are submitting to accepts non-XSEDE allocations. You would think that TACC internal allocations would also be supported, but right now, as far as I know, it looks like the glidein/pilot DN is not making it into the GRAM-CE&#39;s grid-mapfile for some reason either way.

&#34;If you need an XSEDE allocation, you can use G-817856 which is the XSEDE startup allocation for MINOS.&#34; Thanks, we could use this to test glidein submission. However, since the glidein/pilot DN is still not in the GRAM-CE&#39;s grid-mapfile, there is no point in trying at this time. If you have not already done so, can you try and register the glidein/pilot DN for this startup allocation through your account on the XSEDE User Portal. We have not had this DN-related problem when other users with XSEDE allocations have registered the DN there.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474554389'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T14:26:29+00:00">Sep 22, 2016 02:26 PM UTC</time><a class="anchor" name="1474554389">&nbsp;</a></div><pre>Hi Marty,

I checked with Will back on 9/6, and he confirmed that the pilot DN is associated with his account  (I&#39;ve pasted the email exchange below).  Will also got that TG number (TG-PHY160034) from his own XSEDE account, so I assume that part isn&#39;t an issue.

Shreyas

---------
Hi Shreyas,

I just checked again and those two DNs are added to my TACC account. G-801389 (the MINOS TACC allocation) is associated with my account. This is not an XSEDE allocation, but an internal TACC allocation. Could that be significant? If you need an XSEDE allocation, you can use G-817856 which is the XSEDE startup allocation for MINOS.

I am part of six allocations on TACC, so conflicts are possible. If you would like me to open a TACC ticket, perhaps you could give me more specifics so as to clearly phrase my question.

Thanks,
Will

On Sep 6, 2016, at 4&#58;47 PM, Shreyas Bhat &#60;sbhat@....&#62; wrote&#58;

Hi Will,

We&#39;re running into authentication errors at TACC when we send these test glideins.  Could you please confirm for me once more that you&#39;ve added the two DNs I gave you before (I&#39;ve copied them below) to your account in XSEDE, and that the allocation number you gave me (G-801389) is associated with your account?

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov/CN=proxy
/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend/fifebatch.fnal.gov/CN=proxy

The other thing I wanted to check with you is just to make sure there&#39;s no other project or allocation number you have that we should be sending instead of G-801389.  Is this the only project ID you have for this allocation?

Thanks!
Shreyas
--------

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1474501681'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T23:48:01+00:00">Sep 21, 2016 11:48 PM UTC</time><a class="anchor" name="1474501681">&nbsp;</a></div><pre>Shreyas, Will,

Did you ever register the glidein/pilot DN with Will&#39;s username via the XSEDE User Portal? The basic problem is that it is not registered in the GRAM-CE&#39;s grid-mapfile at TACC? I assume if it is registered via XUP, it will automagically make it into the GRAM-CE, but I don&#39;t know how TACC/XSEDE has this process setup.

Marty Kandes
UCSD Glidein Factory Operations

[1]

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474498447'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T22:54:07+00:00">Sep 21, 2016 10:54 PM UTC</time><a class="anchor" name="1474498447">&nbsp;</a></div><pre>Hi Chris,

Pasted below is the last two exchanges from the XSEDE ticket. It looks like there is/was a problem with not having the correct glidein/pilot DN in the GRAM-CE mapfile. I&#39;m not sure if they&#39;ve fixed it yet.

After going back to this ticket again now, however, I also just noticed David&#39;s suggestion to speak with John Cazes group at TACC about perhaps moving over to an HTCondor-CE since OSG&#39;s support for GRAM-CE support is slated to end in the near future. That would be nice if we can convince them to do so and soon. I&#39;m going to try and track down the groups contact info and see what they say.

Marty Kandes
UCSD Glidein Factory Operations

------

mckandes on 09/19/2016 19&#58;17
RE&#58; [tickets.xsede.org #54209] XUP&#58; Authentication issues with GRAM-CE @ Stampede
Correspondence added by mckandes
Hi David,

I&#39;d perviously asked these users to register the glidein/pilot DN [1] via the process available on the XSEDE user portal. Looking at what you have for the grid-mapfile and the observed authorization errors, it looks like this may not have been done successfully. Can you modify the grid-mapfile for them manually? i.e., add [2]. Or would you prefer they try again to do it themselves via XUP?

Marty Kandes
UCSD Glidein Factory Operations

[1]

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov

[2]

&#34;/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov&#34; whf346

________________________________________
From&#58; David Carver via RT [help@....]
Sent&#58; Monday, September 19, 2016 8&#58;09 AM
To&#58; Kandes, Martin
Subject&#58; [tickets.xsede.org #54209] XUP&#58; Authentication issues with GRAM-CE @ Stampede

<div id='show_362803530' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_362803530'>Mon Sep 19 10&#58;09&#58;44 2016&#58; Request 54209 was acted upon.
Transaction&#58; Correspondence added by dcarver
Queue&#58; 2.2.5-ECSS Science Gateways
Subject&#58; XUP&#58; Authentication issues with GRAM-CE @ Stampede
Owner&#58; mpierce
Requestors&#58; mkandes@....
Status&#58; open
Ticket URL&#58; <a href='https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/54209' target='_blank' rel='nofollow'>https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/54209</a>

Ok, I see a the userid whf346 and DNs for NCSA, PSC, NICS, UT, and CILOGON.

[root@....pede]# egrep -i &#34;Flanagan|whf346&#34; /opt/apps/xsede/gram5-5.2.3/var/log/globus/*
[root@....pede]#

[root@....pede]# grep -i flanagan /etc/passwd | grep -i will
whf346&#58;x&#58;823678&#58;801753&#58;Will Flanagan&#58;/home1/03069/whf346&#58;/bin/bash

[root@....pede]# grep -i flanagan /etc/grid-security/grid-mapfile | grep -i will
&#34;/C=US/O=National Center for Supercomputing Applications/CN=Will Hogan Flanagan&#34; whf346
&#34;/C=US/O=Pittsburgh Supercomputing Center/CN=Will Hogan Flanagan&#34; whf346
&#34;/DC=EDU/DC=TENNESSEE/DC=NICS/O=National Institute for Computational Sciences/CN=Will Hogan Flanagan&#34; whf346
&#34;/DC=EDU/DC=UTEXAS/DC=TACC/O=UT-AUSTIN/O=TACC MICS CA/CN=Will Flanagan&#34; whf346
&#34;/DC=org/DC=cilogon/C=US/O=Univ
Flanagan A64076&#34; whf346
[root@....pede]#

But nothing in the gram5 logs in the gram5 logs on system logs

[root@....pede]# egrep -i &#34;Flanagan|whf346&#34; /opt/apps/xsede/gram5-5.2.3/var/log/globus/*
[root@....pede]#

[root@....pede]# egrep -lri &#34;Flanagan|whf346&#34; /var/log/*
[root@....pede]#

But I am seeing the following error messages about not being about to map&#58;

[root@....pede]# egrep -ri &#34;OpenSc|Open Sc&#34; /opt/apps/xsede/gram5-5.2.3/var/*log | tail
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58;Failure&#58; globus_gss_assist_gridmap() failed authorization. globus_gss_assist&#58; Gridmap lookup failure&#58; Could not map /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 44347 -- Failure&#58; globus_gss_assist_gridmap() failed authorization. globus_gss_assist&#58; Gridmap lookup failure&#58; Could not map /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 46787 -- Notice&#58; 5&#58; Authenticated globus user&#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 46786 -- Notice&#58; 5&#58; Authenticated globus user&#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 46787 -- Notice&#58; 0&#58; GATEKEEPER_JM_ID 2016-09-19.09&#58;50&#58;19.0000046787.0000000000 for /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov on 129.79.53.24
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 46786 -- Notice&#58; 0&#58; GATEKEEPER_JM_ID 2016-09-19.09&#58;50&#58;19.0000046786.0000000000 for /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov on 129.79.53.24
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58;Failure&#58; globus_gss_assist_gridmap() failed authoriz
lure&#58; Could not map /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 46787 -- Failure&#58; globus_gss_assist_gridmap() failed authorization. globus_gss_assist&#58; Gridmap lookup failure&#58; Could not map /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58;Failure&#58; globus_gss_assist_gridmap() failed authorization. globus_gss_assist&#58; Gridmap lookup failure&#58; Could not map /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
/opt/apps/xsede/gram5-5.2.3/var/globus-gatekeeper.log&#58; PID&#58; 46786 -- Failure&#58; globus_gss_assist_gridmap() failed authorization. globus_gss_assist&#58; Gridmap lookup failure&#58; Could not map /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov
[root@....pede]#

HTCondor-CE and/or GRAM CE software stacks would need a request to XSede 2.0 Gateway group and John Cazes in the ECSS group at TACC for support.
Since Will Flanagan is at UT this will also help, but getting XSede Gateway
group could adopted OSG&#39;s GRAM5 CE and/or HTCondor-CE would be a better solution.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_362803530').click(function() {
            $('#detail_362803530').slideDown("normal");
            $('#show_362803530').hide();
            $('#hide_362803530').show();
        });
        $('#hide_362803530').click(function() {
            $('#detail_362803530').slideUp();
            $('#hide_362803530').hide();
            $('#show_362803530').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31099#1474385624'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-20T15:33:44+00:00">Sep 20, 2016 03:33 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1474385624">&nbsp;</a></div><pre>Hi Marty,

Do you have an update on this? I don&#39;t have visibility into the XSEDE ticket.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1474051221'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T18:40:21+00:00">Sep 16, 2016 06:40 PM UTC</time><a class="anchor" name="1474051221">&nbsp;</a></div><pre>XSEDE ticket away&#58; <a href='https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/54209' target='_blank' rel='nofollow'>https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/54209</a>

Now we wait.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474051018'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T18:36:58+00:00">Sep 16, 2016 06:36 PM UTC</time><a class="anchor" name="1474051018">&nbsp;</a></div><pre>Edgar,

Well, we always seem to have a problem with European sites correctly interpreting the Role=pilot attribute when it&#39;s used. And since the Fermilab Role changes dynamically based on the specific experiment, my guess is simply that maybe Teaxs is like Europe? ;-)

I don&#39;t know. Either way, at this point, I think we need someone at TACC to lend a hand.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474050694'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T18:31:34+00:00">Sep 16, 2016 06:31 PM UTC</time><a class="anchor" name="1474050694">&nbsp;</a></div><pre>I see nothing special with the pilot DN of fermilab and AFAIK XSEDE does not care about voms extensions

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1474049989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T18:19:49+00:00">Sep 16, 2016 06:19 PM UTC</time><a class="anchor" name="1474049989">&nbsp;</a></div><pre>Edgar,

Yes, I can. See my last post. It looks correct to me now.

If I had to bet, my guess is that the GRAM-CE at TACC does not like the Fermilab VOMS pilot/role extension. For example, I would guess we cannot register this with the XSEDE User Portal like when we go the  DN registered. Therefore, we might need a TACC admin to manually register this Fermilab-specific wrinkle. I&#39;m working on an XSEDE ticket now. I&#39;ll cc you on it as well.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474046210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T17:16:50+00:00">Sep 16, 2016 05:16 PM UTC</time><a class="anchor" name="1474046210">&nbsp;</a></div><pre>Marty,

Can you please check in the new glidiens ClassAd the new project is being used?

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1474044201'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T16:43:21+00:00">Sep 16, 2016 04:43 PM UTC</time><a class="anchor" name="1474044201">&nbsp;</a></div><pre>Shreyas,

Nevermind. The new glideins are also going held [1].

Also somehow these Fermilab frontends must be connected since I was able to see your new project ID [2] in the glidein ClassAds.

I&#39;m going to open up an XSEDE ticket under the new project ID. We might need the TACC folks to manually register the glidein DN with the GRAM-CE we are submitting to.

Marty Kandes
UCSD Glidein Factory Operations

[1]

-- Schedd&#58; schedd_glideins5@.... &#58; &#60;129.79.53.24&#58;39048?...
ID        OWNER          HELD_SINCE  HOLD_REASON
159252.0   fefermifife     9/16 16&#58;34 Globus error 7&#58; authentication with the remote server failed
159253.0   fefermifife     9/16 16&#58;34 Globus error 7&#58; authentication with the remote server failed
159253.1   fefermifife     9/16 16&#58;34 Globus error 7&#58; authentication with the remote server failed

[2]

GlobusRSL = &#34;(job_type=single)(count=1)(host_count=1)(maxWallTime=2880)(project=TG-PHY160034)&#34;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474043712'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T16:35:12+00:00">Sep 16, 2016 04:35 PM UTC</time><a class="anchor" name="1474043712">&nbsp;</a></div><pre>Shreyas,

I&#39;ve cleared out the older, held glideins to refresh the recent changes. Let&#39;s see how it goes. I have Fermilab glideins sitting idle at the moment.

Is this [1] the Fermilab frontend  FIFE-DEV-FNAL-GWMSFrontend you are referring to? Or maybe this FIFE-ITB-FNAL_frontend is different? If that is the case, then we will need to register FIFE-DEV-FNAL-GWMSFrontend to the factory to get you running.

Marty Kandes
UCSD Glidein Factory Operations

[1]

# New daemon DN added on Wed Jun 29 22&#58;32&#58;38 2016
# Comment&#58; Fermilab FIFE ITB Frontend - Contact&#58; Neha Sharma (neha@....), CC&#58; gco@....
# The following DN will map to fefermifife
GSI_DAEMON_NAME=$(GSI_DAEMON_NAME),/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1474036534'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T14:35:34+00:00">Sep 16, 2016 02:35 PM UTC</time><a class="anchor" name="1474036534">&nbsp;</a></div><pre>Hi,

To make sure that the only glideins being sent have what we hope is the right number, would it be possible for you to kill all of our glideins from frontend FIFE-DEV-FNAL-GWMSFrontend going to Stampede?  That way we can be sure there&#39;s nothing leftover with the old numbers.

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1474035777'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T14:22:57+00:00">Sep 16, 2016 02:22 PM UTC</time><a class="anchor" name="1474035777">&nbsp;</a></div><pre>Hi all,

Will gave us a different number - this one is TG-PHY160034, which looks more like the numbers Marty indicated were working.  I put it in our dev frontend last night (name FIFE-DEV-FNAL-GWMSFrontend), and have sent a test job.  I can confirm from our FE logs that the right FE group sees the job, and is requesting glideins.

<a href='http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryStatus.html' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryStatus.html</a> doesn&#39;t show FIFE-DEV-FNAL-GWMSFrontend as a frontend choice.

Are the glideins still going held?

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1473977109'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T22:05:09+00:00">Sep 15, 2016 10:05 PM UTC</time><a class="anchor" name="1473977109">&nbsp;</a></div><pre>Edgar,

Yes, I will try and open an XSEDE ticket if the next batch of glideins has the same problem. But we still need to wait for Will to confirm his XSEDE Project ID. Shreays needs to hardcode it in, and if that does not work, then I need to know it to tell the XSEDE folks what allocation is having the problem.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1473974667'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T21:24:27+00:00">Sep 15, 2016 09:24 PM UTC</time><a class="anchor" name="1473974667">&nbsp;</a></div><pre>Marty,

Can you open a ticket to XSEDE if after removal new glideins still go held with same auth problems?

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31099#1473973480'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T21:04:40+00:00">Sep 15, 2016 09:04 PM UTC</time><a class="anchor" name="1473973480">&nbsp;</a></div><pre>Marty,

I&#39;m hardcoding it in on the credentials line as described in the talk (<a href='https&#58;//indico.fnal.gov/getFile.py/access?contribId=33&sessionId=7&resId=0&materialId=slides&confId=10571' target='_blank' rel='nofollow'>https&#58;//indico.fnal.gov/getFile.py/access?contribId=33&sessionId=7&resId=0&materialId=slides&confId=10571</a>) posted in the long-running ticket you linked below.  We do that with NOvA in our frontend as well, for their allocation at OSC, and it&#39;s been working there.

- Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1473973001'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T20:56:41+00:00">Sep 15, 2016 08:56 PM UTC</time><a class="anchor" name="1473973001">&nbsp;</a></div><pre>Will,

We probably just need to confirm your correct XSEDE Project ID, which is the ID listed next to the title of your allocation when you login to the XSEDE User Portal and look under &#34;My XSEDE&#34; -&#62; &#34;Allocations/Usage&#34;.

Shreays,

Are you hard-coding this ID into the frontend? Or does Will submit it as a condor attribute in is job description/submit file? I&#39;m fairly certain we do the later at other frontends, if you need the recipe to accept any project ID.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1473949770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T14:29:30+00:00">Sep 15, 2016 02:29 PM UTC</time><a class="anchor" name="1473949770">&nbsp;</a></div><pre>Marty and Marian&#58;  That makes sense.  I&#39;ve been working with Will Flanagan from the MINOS side.  The glide-in DN is registered under his XSEDE account, and as I mentioned before, he verified that it&#39;s the correct one (the same one you mentioned below).  I&#39;ve added him to the CC list on this ticket.

Will&#58; we&#39;re still running into the authentication errors with the two project ID numbers you&#39;ve given me.  As Marty and Marian point out below, the project id is usually a string of the format &#34;TG-PHY*&#34;.  Have you got any number that looks like that we could try?  To answer a question you had earlier, the glide-ins we&#39;re sending to TACC are going held with these authentication errors (pasted below)&#58;

018 (152847.000.000) 09/07 00&#58;00&#58;05 Globus job submission failed!
Reason&#58; 7 authentication with the remote server failed
...
012 (152847.000.000) 09/07 00&#58;00&#58;05 Job was held.
Globus error 7&#58; authentication with the remote server failed
Code 2 Subcode 7

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1473898186'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T00:09:46+00:00">Sep 15, 2016 12:09 AM UTC</time><a class="anchor" name="1473898186">&nbsp;</a></div><pre>Shreyas,

Here, for example, is the RSL line I see in your MINOS glideins

GlobusRSL = &#34;(job_type=single)(count=1)(host_count=1)(maxWallTime=2880)(project=G-801389)&#34;

versus what we are currently successfully submitting for CMS glideins

GlobusRSL = &#34;(job_type=single)(count=1)(host_count=1)(maxWallTime=2880)(project=TG-PHY160019)&#34;.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1473897739'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T00:02:19+00:00">Sep 15, 2016 12:02 AM UTC</time><a class="anchor" name="1473897739">&nbsp;</a></div><pre>Shreyas,

Do you know who the PI is on this XSEDE allocation? They should know their XSEDE Project ID. I think all XSEDE Project IDs will have the &#34;TG-&#34; prefix followed by a subject classifier like &#34;PHYS&#34; and then the project number. Since MINOS is also a physics experiment, I would expect it to start as &#34;TG-PHYS&#34; followed by some number like in my example XSEDE Project ID&#58; &#34;TG-PHY160019&#34;.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1473798027'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T20:20:27+00:00">Sep 13, 2016 08:20 PM UTC</time><a class="anchor" name="1473798027">&nbsp;</a></div><pre>I&#39;m not sure who can check on those project numbers, Shreyas. My best bet is Frontend admins, though.

-Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='31099#1473722479'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T23:21:19+00:00">Sep 12, 2016 11:21 PM UTC</time><a class="anchor" name="1473722479">&nbsp;</a></div><pre>I&#39;ve tried both the TACC local project ID and the XSEDE ID in the frontend, and no luck so far.  The two numbers I&#39;ve used have started with &#34;G-&#34;, not &#34;TG-PHYS&#34;.  Are these perhaps the wrong numbers?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1473718382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T22:13:02+00:00">Sep 12, 2016 10:13 PM UTC</time><a class="anchor" name="1473718382">&nbsp;</a></div><pre>Hi,

from Factory point of view we still see the same error for held glideins. I guess project ID need to get properly assigned on the Frontend side? Neha, is there something you can check, please?
Same failures come from the requests of the following FEs&#58;
FIFE-ITB-FNAL-GWMSFrontend
FIFE-DEV-FNAL-GWMSFrontend

Thanks,
Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='31099#1473713408'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T20:50:08+00:00">Sep 12, 2016 08:50 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1473713408">&nbsp;</a></div><pre>Hello All,

Is there any new information on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1473292358'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-07T23:52:38+00:00">Sep 7, 2016 11:52 PM UTC</time><a class="anchor" name="1473292358">&nbsp;</a></div><pre>Shreyas,

I would expect the XSEDE Project ID to work at TACC. However, I&#39;m vaguely remembering some XSEDE sites may require slightly different formats. Are you currently using the full Project ID? e.g., something like &#34;TG-PHY160019&#34;.

And yes, the most recent hold reasons were the same [1].

Marty Kandes
UCSD Glidein Factory Operations

[1]

018 (152847.000.000) 09/07 00&#58;00&#58;05 Globus job submission failed!
Reason&#58; 7 authentication with the remote server failed
...
012 (152847.000.000) 09/07 00&#58;00&#58;05 Job was held.
Globus error 7&#58; authentication with the remote server failed
Code 2 Subcode 7

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1473261906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-07T15:25:06+00:00">Sep 7, 2016 03:25 PM UTC</time><a class="anchor" name="1473261906">&nbsp;</a></div><pre>Hi Marty,

MINOS confirmed that the DN you pasted below has been added to the account associated with the XSEDE allocation.  They did give me an XSEDE allocation number, which is different from the local TACC allocation number I previously used.  Do you know by any chance which one they&#39;re expecting at TACC?

Just to test, I did put the XSEDE number in the FE configuration, but I see from the factory webpage that the glideins are still getting held.  Do you know if it&#39;s for the same reason, and is there any way that we can see the hold reasons as well?

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1473174492'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-06T15:08:12+00:00">Sep 6, 2016 03:08 PM UTC</time> by <b>boyd@....</b><a class="anchor" name="1473174492">&nbsp;</a></div><pre>I&#39;m on vacation Tuesday September 5th.</pre></div><div class='update_description'><i onclick="document.location='31099#1473174314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-06T15:05:14+00:00">Sep 6, 2016 03:05 PM UTC</time><a class="anchor" name="1473174314">&nbsp;</a></div><pre>Hi Marty,

Thanks very much for the quick response!  Sorry for not doing the same on my end.

Comparing with the frontend config changes we made for OSC, it looks like I&#39;ve configured everything correctly in our frontend.  I&#39;ll double check with the MINOS folks to make sure we have the correct project ID and that they&#39;ve added our pilot DN to their XSEDE account and reply back here when I&#39;ve confirmed those.  I&#39;ll also take a look at the ticket you posted.

Thanks,
Shreyas

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><div class='update_description'><i onclick="document.location='31099#1472848330'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T20:32:10+00:00">Sep 2, 2016 08:32 PM UTC</time> by <b>sbhat@....</b><a class="anchor" name="1472848330">&nbsp;</a></div><pre>I will be out of the office starting Friday, September 2 and will be returning on Tuesday, September 6.  I will respond to your request when I return.

Thanks,
Shreyas</pre></div><div class='update_description'><i onclick="document.location='31099#1472848148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T20:29:08+00:00">Sep 2, 2016 08:29 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1472848148">&nbsp;</a></div><pre>Hi Shreyas,

Have you had time to review Marty&#39;s update?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31099#1472685328'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T23:15:28+00:00">Aug 31, 2016 11:15 PM UTC</time><a class="anchor" name="1472685328">&nbsp;</a></div><pre>Hi Shreyas,

You glideins are currently going held with the hold reason [1]. Please check any authentication related issues from your side. e.g. I would (1) double check that the frontend modification for passing the project ID has been correctly implemented and (2) that you have registered the glidein/pilot DN [2] with XSEDE under the correct user associated with allocation. You can can do (2) by logging into the user&#39;s XSEDE User Portal account, then go to &#34;My XSEDE&#34; --&#62; &#34;Profile&#34; --&#62; &#34;Manage DNs.&#34;

That said, note also that we have a (long) on-going ticket with CMS regarding submission issues to Stampede that we are working to resolve. You can follow that work here [3] as you will likely run into the same problem once your glideins get in through the front door. If we have any other MINOS-specific updates, we will post them here. But right now I would say we are in general debug-mode for glideins submission at Stampede. Sorry for any inconvenience.

Marty Kandes
UCSD Glidein Factory Operations

[1]

150777.0   fefermifife     8/31 22&#58;41 Globus error 7&#58; authentication with the remote server failed
150778.0   fefermifife     8/31 22&#58;41 Globus error 7&#58; authentication with the remote server failed

[2]

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=frontend_pp/fifebatch.fnal.gov/CN=proxy

[3]

<a href='29566.html' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/29566</a>

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31099#1472666595'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:03:15+00:00">Aug 31, 2016 06:03 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1472666595">&nbsp;</a></div><pre>Hi all,

We&#39;ve been trying to get MINOS to run on their allocation at Stampede.  Similar to how NOvA now runs at OSC, we modified the config file on our ITB frontend to include the project allocation number (starts with a &#39;G-&#39;).  I can see from our end that we&#39;re requesting the glideins (our frontend is FIFE-ITB-FNAL_frontend), and I believe <a href='http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryStatus.html' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryStatus.html</a> shows that they&#39;re going into the queue at the collector, but the glide-ins never start.  Can you see if the issue is arising at the factory or if it&#39;s at TACC?

Thanks!
Shreyas Bhat
User Support for Distributed Computing
Fermilab

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Shreyas Bhat 3733</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F31099">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 31099});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
