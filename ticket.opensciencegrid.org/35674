<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[35674] proxy from UK not working with gfal-copy</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=35674" method="post">
<div class="page-header">
    <h3><span class="muted">35674</span> / proxy from UK not working with gfal-copy</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Bob Ball</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2018-01-26</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=35674", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/35674?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/35674?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20proxy%20from%20UK%20not%20working%20with%20gfal-copy%20ISSUE%3D35674%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='35674#1516811284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-24T16:28:04+00:00">Jan 24, 2018 04:28 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1516811284">&nbsp;</a></div><pre>Thanks for the update, Bob! Please let us know if this pops up again.</pre></div><div class='update_description'><i onclick="document.location='35674#1516387153'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-19T18:39:13+00:00">Jan 19, 2018 06:39 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1516387153">&nbsp;</a></div><pre>So, Adrian Buzatu claims that AGLT2 is no longer an issue.  This is his
remaining problem&#58;

Hi Bob,

I do not see errors from UK now. I still see from US&#58; BNL, Chicago.

*2018-01-19 14&#58;37&#58;09,607WARNINGThe requested service is not available at
the moment.*
*Details&#58; An unknown exception occurred.*
*Details&#58; SOURCE SRM_GET_TURL srm-ifce err&#58; Communication error on send,
err&#58; [SE][PrepareToGet][]
httpg&#58;//dcsrm.usatlas.bnl.gov&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on
ipas06.cern.ch &#60;<a href='http&#58;//ipas06.cern.ch&#62' target='_blank' rel='nofollow'>http&#58;//ipas06.cern.ch&#62</a>; reports Error reading token data
header&#58; Connection closed*
*
*
*2018-01-19 14&#58;29&#58;42,333WARNINGThe requested service is not available at
the moment.*
*Details&#58; An unknown exception occurred.*
*Details&#58; SOURCE SRM_GET_TURL srm-ifce err&#58; Communication error on send,
err&#58; [SE][PrepareToGet][]
httpg&#58;//uct2-dc1.uchicago.edu&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on
ipas06.cern.ch &#60;<a href='http&#58;//ipas06.cern.ch&#62' target='_blank' rel='nofollow'>http&#58;//ipas06.cern.ch&#62</a>; reports Error reading token data
header&#58; Connection closed*

Could we also contact them to update?

Cheers,
Adrian

Honestly, I&#39;m not sure what happened to repair this problem.  I will
notify Xin at BNL, and the MWT2 people, and point at this ticket.

Otherwise, it seems the ticket itself can be closed.
<div id='show_1735189916' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1735189916'>
Thanks,
bob

On 1/19/2018 8&#58;45 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1735189916').click(function() {
            $('#detail_1735189916').slideDown("normal");
            $('#show_1735189916').hide();
            $('#hide_1735189916').show();
        });
        $('#hide_1735189916').click(function() {
            $('#detail_1735189916').slideUp();
            $('#hide_1735189916').hide();
            $('#show_1735189916').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35674#1516369513'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-19T13:45:13+00:00">Jan 19, 2018 01:45 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1516369513">&nbsp;</a></div><pre>I gave them until COB today to answer.  If I don&#39;t hear, I&#39;ll consider
the issue moot and we can close out the ticket.

bob

On 1/19/2018 8&#58;18 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35674#1516367935'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-19T13:18:55+00:00">Jan 19, 2018 01:18 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1516367935">&nbsp;</a></div><pre>Hi Bob,

Did contacting the user get any results?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='35674#1515768974'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-12T14:56:14+00:00">Jan 12, 2018 02:56 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1515768974">&nbsp;</a></div><pre>Nope.  I&#39;m going to ping the user directly this time, the lists I&#39;ve
communed with have gotten nothing in return.

bob

On 1/12/2018 9&#58;45 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35674#1515768344'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-12T14:45:44+00:00">Jan 12, 2018 02:45 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1515768344">&nbsp;</a></div><pre>Hello Bob,

Have you heard anything back from the other parties yet?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='35674#1515165074'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-05T15:11:14+00:00">Jan 5, 2018 03:11 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1515165074">&nbsp;</a></div><pre>I did not yet hear back from the user or other parties concerning the
client CA version.

bob

On 1/5/2018 9&#58;48 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35674#1515163688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-05T14:48:08+00:00">Jan 5, 2018 02:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1515163688">&nbsp;</a></div><pre>Hi Bob,

I&#39;m checking in. Do you have any news?

Thanks</pre></div><div class='update_description'><i onclick="document.location='35674#1515009377'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T19:56:17+00:00">Jan 3, 2018 07:56 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1515009377">&nbsp;</a></div><pre>I can&#39;t speak to that part.  I&#39;ll see what a query brings about.

bob

On 1/3/2018 2&#58;44 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35674#1515008654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T19:44:14+00:00">Jan 3, 2018 07:44 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1515008654">&nbsp;</a></div><pre>How about the client? The issue in the thread seems to occur when one
side has updated their CAs and the other hasn&#39;t.

- Brian</pre></div><div class='update_description'><i onclick="document.location='35674#1515007932'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T19:32:12+00:00">Jan 3, 2018 07:32 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1515007932">&nbsp;</a></div><pre>Our certificate directory is fully up to date, AFAIK.
osg-ca-certs-1.68-1.osg33.el6.noarch
osg-ca-certs-updater-1.4-1.osg33.el6.noarch

The certs-updater runs on a regular schedule.  What else should I check?

bob

On 1/3/2018 1&#58;21 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35674#1515003661'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T18:21:01+00:00">Jan 3, 2018 06:21 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1515003661">&nbsp;</a></div><pre>Skimming through the thread, it may be due to mismatched CA installations. Have you verified that your and your user&#39;s CAs are up to date?

- Brian</pre></div><div class='update_description'><i onclick="document.location='35674#1515002352'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T17:59:12+00:00">Jan 3, 2018 05:59 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1515002352">&nbsp;</a></div><pre>Double checking, this is the ggus ticket link

<a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=132205' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=132205</a>

This is how that ticket begins&#58;
Bug in or around bouncycastle is brought out bu lcg-CA 1.88-1

This is for the particular interest of Andrea Ceccanti
(andrea.ceccanti@....)

A set of new CA certs was released earlier this week, lcg-CA 1.88-1.
Some sites which updated their CAs (notably in the UK) suffered
immediate problems with authorization; in some cases, this involved the
ARGUS servers built on SL6. ARGUS was not able to recognise / validate
connecting CEs and SEs. Something about their new root certs was
breaking the process. ARGUS servers built on Centos7 were not affected.
Certain other service nodes were also affected, e.g. perhaps CREAM.
Certain Java components seem to be implicated in the issue, perhaps
BouncyCastle. The initial cause of the problems with initially
discovered by Robert Frank, see Appendix 1 below. The error message on
the ARGUS pepd/process.log is&#58;

2017-11-27 23&#58;59&#58;58.105Z - ERROR [TrustStoreValidationErrorLogger] -
Validation error&#58; error at position 0 in chain, problematic certificate
subject&#58; CN=hepgrid2.ph.liv.ac.uk,L=CSD,OU=Liverpool,O=eScience,C=UK
(category&#58; CRL)&#58; Can not verify the CRL as its issuer&#39;s public key is
unknown or can not be validated Cause&#58; Certification path could not be
validated. Cause&#58; NullPointerException

In response to Robert’s findings, Micha Salle recommends a new release
to fix the issue&#58; saying “we should have Andrea Ceccanti urgently push
out an update of the voms-clients. I suggest you open a GGUS ticket”.

Micha also adds many helpful comments to further illustrate the issue,
see Appendix 2, below
<div id='show_598598297' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_598598297'>
Cheers,

Ste Jones
Liverpool
sjones@....

I&#39;ll poke more after I return from lunch.  If you still can&#39;t see the
ticket content, I&#39;ll cut/paste the entire thing for you, if you wish.

bob

On 1/3/2018 12&#58;26 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_598598297').click(function() {
            $('#detail_598598297').slideDown("normal");
            $('#show_598598297').hide();
            $('#hide_598598297').show();
        });
        $('#hide_598598297').click(function() {
            $('#detail_598598297').slideUp();
            $('#hide_598598297').hide();
            $('#show_598598297').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='35674#1515000387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-01-03T17:26:27+00:00">Jan 3, 2018 05:26 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1515000387">&nbsp;</a></div><pre>Bob,

It doesn&#39;t look like I can view the ggus ticket, is that the right link? Also, do you see any relevant auth errors in the SRM server itself?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='35674#1514559354'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-29T14:55:54+00:00">Dec 29, 2017 02:55 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1514559354">&nbsp;</a></div><pre>Hello - are there any updates on this?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='35674#1513959931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-22T16:25:31+00:00">Dec 22, 2017 04:25 PM UTC</time> by <b>echism</b><a class="anchor" name="1513959931">&nbsp;</a></div><pre>Software,

I will be out next week, please take a look at this and chat with Bob.

Thanks</pre></div><div class='update_description'><i onclick="document.location='35674#1513876873'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-21T17:21:13+00:00">Dec 21, 2017 05:21 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1513876873">&nbsp;</a></div><pre>I saw this come in, that may be relevant to the issue. However, I have
no idea how to apply it to our situation. --bob

On 18 Dec 2017, at 15&#58;21, Michal Svatos &#60;Michal.Svatos@....
&#60;mailto&#58;Michal.Svatos@....&#62;&#62; wrote&#58;

Hi everyone,
after discussing this withing the DE cloud, we think it could be caused
by current problem with certificate package. It could be solved by
restart (to flush certificates cache). More details in
<a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=132205.' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=132205.</a>

Michal

On 12/20/2017 4&#58;02 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='35674#1513803735'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-20T21:02:15+00:00">Dec 20, 2017 09:02 PM UTC</time> by <b>echism</b><a class="anchor" name="1513803735">&nbsp;</a></div><pre>Software,

Any word on this?

Thanks</pre></div><div class='update_description'><i onclick="document.location='35674#1513617464'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-12-18T17:17:44+00:00">Dec 18, 2017 05:17 PM UTC</time> by <b>echism</b><a class="anchor" name="1513617464">&nbsp;</a></div><pre>I&#39;m wondering if you could help me with something.  We have a user with a UK certificate who is unable to copy files from our storage. Validation is via GUMS for our SRM.  I have obtained a copy of the user&#39;s proxy, fully detailed below via voms-proxy-info -all, but notable differences that I see vs my own are&#58;
type      &#58; RFC compliant proxy  (vs type      &#58; proxy)
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment (vs key usage &#58; Digital Signature, Key Encipherment)

in gfal-copy with -vvv switch, the relevant error is

DEBUG       [gfal_srm_statG] try to stat file <a href='srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/rucio/user/abuzatu/52/79/user.abuzatu.364195.e5340_s3126_r9364_r9315.12789177.NTUP_PILEUP._000003.root' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443/srm/managerv2?SFN=/pnfs/aglt2.org/atlasscratchdisk/rucio/user/abuzatu/52/79/user.abuzatu.364195.e5340_s3126_r9364_r9315.12789177.NTUP_PILEUP._000003.root</a>
gfal-copy error&#58; 70 (Communication error on send) - Could not stat the source&#58; [gfal2_stat][gfal_plugin_statG][gfal_srm_statG][gfal_statG_srmv2__generic_internal][gfal_srm_ls_internal][gfal_srm_report_error] srm-ifce err&#58; Communication error on send, err&#58; [SE][Ls][] httpg&#58;//head01.aglt2.org&#58;8443/srm/managerv2&#58; CGSI-gSOAP running on umt3int01.aglt2.org reports Error reading token data header&#58; Connection closed

My own CERN issued proxy works fine to copy this file from dCache storage.  Can you help out at all?

Thanks,
bob

[ball@umt3int01&#58;~]$ voms-proxy-info -all
subject   &#58; /C=UK/O=eScience/OU=Glasgow/L=Compserv/CN=adrian buzatu/CN=1850808663
issuer    &#58; /C=UK/O=eScience/OU=Glasgow/L=Compserv/CN=adrian buzatu
identity  &#58; /C=UK/O=eScience/OU=Glasgow/L=Compserv/CN=adrian buzatu
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /tmp/x509up_u14522
timeleft  &#58; 11&#58;19&#58;22
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO atlas extension information ===
VO        &#58; atlas
subject   &#58; /C=UK/O=eScience/OU=Glasgow/L=Compserv/CN=adrian buzatu
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /atlas/Role=NULL/Capability=NULL
attribute &#58; /atlas/lcg1/Role=NULL/Capability=NULL
attribute &#58; /atlas/phys-higgs/Role=NULL/Capability=NULL
attribute &#58; /atlas/uk/Role=NULL/Capability=NULL
attribute &#58; nickname = abuzatu (atlas)
timeleft  &#58; 11&#58;19&#58;22
uri       &#58; lcg-voms2.cern.ch&#58;15001</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F35674">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 35674});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
