<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[10368] Resource Specific Issue on HEPGRID_UERJ_Srm</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10368" method="post">
<div class="page-header">
    <h3><span class="muted">10368</span> / Resource Specific Issue on HEPGRID_UERJ_Srm</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Robert Engel</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">HEPGRID_UERJ_Srm</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/resource</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Robert Engel</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for a reply</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-08-23</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Tanya Levshina <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/10368", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10368#1313789643'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-19T21:34:03+00:00">Aug 19, 2011 09:34 PM UTC</time><a class="anchor" name="1313789643">&nbsp;</a></div><pre>Dear Robert,

That&#39;s fair enough.
As the cluster doesn&#39;t seem to reach your requirements at the moment, we&#39;re stopping support to LIGO at UERJ.

Best regards,
José

-- by Alan Malta Rodrigues</pre></div><div class='update_description'><i onclick="document.location='10368#1313760248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-19T13:24:08+00:00">Aug 19, 2011 01:24 PM UTC</time> by <b>Fermilab</b><a class="anchor" name="1313760248">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolved by GOC
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='10368#1313759940'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-19T13:19:00+00:00">Aug 19, 2011 01:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1313759940">&nbsp;</a></div><pre>Thanks all.

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1313759527'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-19T13:12:07+00:00">Aug 19, 2011 01:12 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1313759527">&nbsp;</a></div><pre>Dear Jose,

I appreciate your support in helping LIGO to get our application to run
on your resource. However, the ratio between the time we spent getting
it to run on the resource and the walltime of jobs actually running is
approximately 100 times lower when compared to other OSG and D-Grid
resources we work with. I currently have very little time; I therefor
needed to stop job submission to your resource.

I want to thank you and the other administrators who helped us to get
this far.

Sincerely.
Robert

(Ticket can be closed)

On 8/11/11 4&#58;10 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1313697452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-18T19:57:32+00:00">Aug 18, 2011 07:57 PM UTC</time> by <b>echism</b><a class="anchor" name="1313697452">&nbsp;</a></div><pre>Robert,

Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1313093443'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-11T20:10:43+00:00">Aug 11, 2011 08:10 PM UTC</time><a class="anchor" name="1313093443">&nbsp;</a></div><pre>This is a cluster alright.

The directory

/state/partition1/osg/osg-tmp/ ($OSG_TMP)

is world-readable, and every job can write stuff there **temporarily**, as long as it creates its own work directory.

It seems to me that, if a &#34;ligo&#34; job comes to be executed in a worker node, it always tries to access /state/partition1/osg/osg-tmp/ligo/rengel/. If it doesn&#39;t exist on a node yet, it is created by that job.

The point is that&#58; according to our architecture, your jobs don&#39;t execute internally as user &#34;ligo&#34;, instead they&#39;re mapped internally to another user (cafuser* ) by using Condor-G with NFS-Lite, once you&#39;re authenticated in the CE. We created those users in order to prevent jobs from executing as user &#34;nobody&#34; (according to Condor support, it could be troublesome). If job A comes to a node, creates the structure under /state/partition1/osg/osg-tmp/ligo as user &#34;cafuser2&#34;, leaves, and then job B comes as user &#34;cafuser3&#34; and tries to access that structure, of course it won&#39;t be able to.

I have to say that this is different of what we are used to in CMS analyses, where every job uses its own working directory, and that&#39;s why we don&#39;t see this kind of permission problem.

I did a workaround by opening permissions to subdirectories under /state/partition1/osg/osg-tmp/ligo.
Hopefully that is going to work now.

José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1313075530'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-11T15:12:10+00:00">Aug 11, 2011 03:12 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1313075530">&nbsp;</a></div><pre>Hi,

I have the same problem as always, namely that a job trying to write
log files to these directories&#58;

LOG_DIR = /state/partition1/osg/osg-tmp/ligo/rengel/tasks
LOG_DIR_INSPECT = /state/partition1/osg/osg-tmp/ligo/rengel/tasks/inspect

on a worker node will fail, because the ownership of the directory
prohibits that. Is this a cluster or a set of work stations?

Thanks,
Robert

On 8/10/11 4&#58;43 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1312382106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-03T14:35:06+00:00">Aug 3, 2011 02:35 PM UTC</time> by <b>echism</b><a class="anchor" name="1312382106">&nbsp;</a></div><pre>Robert,

Please update this ticket.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1310588096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-13T20:14:56+00:00">Jul 13, 2011 08:14 PM UTC</time> by <b>echism</b><a class="anchor" name="1310588096">&nbsp;</a></div><pre>Robert,

Is this now working?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1310052690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-07T15:31:30+00:00">Jul 7, 2011 03:31 PM UTC</time><a class="anchor" name="1310052690">&nbsp;</a></div><pre>It looks like the automount in osgce.hepgrid.uerj.br was stuck, and therefore this directory was not available. We&#39;ve restarted the machine and the services seem OK now.
Could you try again?

regards,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1309985408'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-06T20:50:08+00:00">Jul 6, 2011 08:50 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1309985408">&nbsp;</a></div><pre>I think the problem is due to permissions again. I cannot execute&#58;

/opt/osg-1.0.5/globus/bin/globus-url-copy -cd
file&#58;///home/robert/GEO600-1.5.x/log/87981.conf
<a href='gsiftp&#58;//osgce.hepgrid.uerj.br/share/apps/scratch/ligo/rengel/GEO600-1.5.x/log/87981.conf' target='_blank' rel='nofollow'>gsiftp&#58;//osgce.hepgrid.uerj.br/share/apps/scratch/ligo/rengel/GEO600-1.5.x/log/87981.conf</a>

Robert

On 7/6/11 12&#58;09 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1309968570'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-06T16:09:30+00:00">Jul 6, 2011 04:09 PM UTC</time><a class="anchor" name="1309968570">&nbsp;</a></div><pre>Hi Robert,

Now this is strange. osgce.hepgrid.uerj.br is up and the OSG services look fine as well.
What is the message that you&#39;re getting?

thanks,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1309959848'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-06T13:44:08+00:00">Jul 6, 2011 01:44 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1309959848">&nbsp;</a></div><pre>Hi Jose,

I submitted 4 test jobs to osgce64.hepgrid.uerj.brusing
/state/partition1/osg/osg-tmp for $OSG_WN_TMP. One job is running
successfully already. Currently submission to osgce.hepgrid.uerj.br
doesn&#39;t seem to be possible.

Robert

On 7/6/11 8&#58;44 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1309956246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-06T12:44:06+00:00">Jul 6, 2011 12:44 PM UTC</time><a class="anchor" name="1309956246">&nbsp;</a></div><pre>Hi Robert,

That&#39;s right, /state/partition1/osg/osg-tmp exists in all of our worker nodes. I think you can give it a try with that.

thanks,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1309897388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-05T20:23:08+00:00">Jul 5, 2011 08:23 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1309897388">&nbsp;</a></div><pre>I followed the Condor documentation. It states that for RSL v1.0
$(OSG_WN_TMP) can be used to point to an environment variable in the
arguments list to the executable. Unfortunately it didn&#39;t work on any of
the resources I have tried. Therefor I decided to use a fixed string
(/tmp) instead. I can use&#58;

/state/partition1/osg/osg-tmp

if that is the same for all worker nodes?

Thanks,
Robert

On 7/5/11 12&#58;25 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1309839912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-05T04:25:12+00:00">Jul 5, 2011 04:25 AM UTC</time><a class="anchor" name="1309839912">&nbsp;</a></div><pre>Dear Robert,

Please try again. For some reason, /tmp/ligo still existed on every node, although completely emptied. Now it&#39;s removed.

A question&#58; do your jobs write the logs on /tmp/ligo because of your own choice or is it a default configuration for &#39;ligo&#39; jobs? Our configuration on the CEs specifies that the default log area on the WNs normally is&#58;

...
OSG_WN_TMP=&#34;/state/partition1/osg/osg-tmp
...

We&#39;re trying to better understand the behaviour of the &#39;ligo&#39; applications, so sorry for the inconveniences/late answers. Also, we&#39;re all working in a physics conference in Rio this week (which kept us kind of busy on the last days), but we&#39;ll do our best.

Best regards,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1309442157'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-30T13:55:57+00:00">Jun 30, 2011 01:55 PM UTC</time> by <b>echism</b><a class="anchor" name="1309442157">&nbsp;</a></div><pre>UERJ,

Please update this ticket.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1308675231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-21T16:53:51+00:00">Jun 21, 2011 04:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1308675231">&nbsp;</a></div><pre>UERJ collaborators,

Did you have an opportunity to read Robert&#39;s latest inquiry in this ticket?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1308675228'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-21T16:53:48+00:00">Jun 21, 2011 04:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1308675228">&nbsp;</a></div><pre>UERJ collaborators,

Did you have an opportunity to read Robert&#39;s latest inquiry in this ticket?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10368#1307985126'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-13T17:12:06+00:00">Jun 13, 2011 05:12 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1307985126">&nbsp;</a></div><pre>Hi Alain,

the srm-ls command works for me now. The error rate is still
significant. A job attempting to run this morning still reports in stderr&#58;

[robert@osg-ldg scripts]$ cat /home/robert/GEO600-1.5.x/log/87994.err
Can&#39;t open /tmp/ligo/rengel/tasks/inspect/87994.log (Permission denied)
at
/share/apps/scratch/ligo/rengel/deployment-1.5.x/main/modules/Log/Log4perl/Appender/File.pm
line 87.

stdout shows where it was running&#58;

[robert@osg-ldg scripts]$ cat /home/robert/GEO600-1.5.x/log/87994.out
ENV&#58; OSG_GRID = /opt/wn-client
source /opt/wn-client/setup.sh
--- GEO600 eah-wrapper.sh -----------------------------------------------
running on host &#39;compute-50-9.local64&#39; as user &#39;cafuser5&#39;
GEO600_HOME = /share/apps/scratch/ligo/rengel/GEO600-1.5.x
DEPLOYMENT_HOME = /share/apps/scratch/ligo/rengel/deployment-1.5.x
DEPLOYMENT_CONFIG = /share/apps/scratch/ligo/rengel/deploy.conf
LOG_DIR = /tmp/ligo/rengel/tasks
LOG_DIR_INSPECT = /tmp/ligo/rengel/tasks/inspect
perl        = /usr/bin/perl

ERROR&#58; deployment test failed!

So cafuser5 on compute-50-9.local64 could not write to
/tmp/ligo/rengel/tasks/inspect/87994.log which seems to be owned by
another user.

Are you sure you removed /tmp/ligo on all worker nodes? And further that
ligo runs at least on the same node as the same user every single time a
job is submitted to that node?

<div id='show_2062808517' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2062808517'>Thanks!
Robert

On 6/10/11 4&#58;31 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2062808517').click(function() {
            $('#detail_2062808517').slideDown("normal");
            $('#show_2062808517').hide();
            $('#hide_2062808517').show();
        });
        $('#hide_2062808517').click(function() {
            $('#detail_2062808517').slideUp();
            $('#hide_2062808517').hide();
            $('#show_2062808517').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10368#1307935378'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-13T03:22:58+00:00">Jun 13, 2011 03:22 AM UTC</time><a class="anchor" name="1307935378">&nbsp;</a></div><pre>Hi Robert,

As Alan just said, could you try the same &#34;srm-ls&#34; command in the dCache area for ligo?

We&#39;re solving the matter concerning the users&#39; unification between the CE and compute nodes. In the meanwhile, please try the SE access.

regards,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1307737908'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-10T20:31:48+00:00">Jun 10, 2011 08:31 PM UTC</time><a class="anchor" name="1307737908">&nbsp;</a></div><pre>Hi Robert/Alain,

the access to the distributed storage seems to be fine. Could you please test again a SRM command (e.g. srm-ls <a href='srm&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2?SFN=/pnfs/hepgrid.uerj.br/data/ligo' target='_blank' rel='nofollow'>srm&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2?SFN=/pnfs/hepgrid.uerj.br/data/ligo</a>) to check if it&#39;s really working for you?

About your recommendation, it&#39;s a delicate operation and we&#39;re thinking in the best approach to solve such problems, we&#39;ll have a solution soon. Also, according to your asked, all content inside /tmp/ligo was removed.

Best regards,
Alan.

-- by Alan Malta Rodrigues</pre></div><div class='update_description'><i onclick="document.location='10368#1307733833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-10T19:23:53+00:00">Jun 10, 2011 07:23 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1307733833">&nbsp;</a></div><pre>Jose,

Can you please provide us with an update?  Have you been able to apply Robert&#39;s recommendation?

Thanks,

-Alain</pre></div><div class='update_description'><i onclick="document.location='10368#1307031668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-06-02T16:21:08+00:00">Jun 2, 2011 04:21 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1307031668">&nbsp;</a></div><pre>Hi Jose,

still doesn&#39;t work&#58;

[robert@osg-ldg scripts]$ cat ../../log/87983.err
Can&#39;t open /tmp/ligo/rengel/tasks/inspect/87983.log (Permission denied)
at
/share/apps/scratch/ligo/rengel/deployment-1.5.x/main/modules/Log/Log4perl/Appender/File.pm
line 87.

So on &#39;compute-40-0.local64&#39; the file
/tmp/ligo/rengel/tasks/inspect/87983.log exists, but does not belong to
&#39;cafuser1&#39;.

Can you please &#39;rm -rf /tmp/ligo&#39; on all the nodes?

Also I would recommend to use a common DN mapping, login, groupid on all
the nodes and gatekeepers to avoid this kind of problem.

Thanks,
Robert

On 5/25/11 11&#58;44 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1306338240'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-25T15:44:00+00:00">May 25, 2011 03:44 PM UTC</time><a class="anchor" name="1306338240">&nbsp;</a></div><pre>Hi Robert,

Our mistake. We included the mapping for ligo, but we forgot to set the right permissions. Please try now.

Best regards,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1306335247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-25T14:54:07+00:00">May 25, 2011 02:54 PM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1306335247">&nbsp;</a></div><pre>Hi Jose,

so the srm access still doesn&#39;t work&#58;

[robert@osg-ldg ~]$ srm-ls
<a href='srm&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2?SFN=/pnfs/hepgrid.uerj.br/data/ligo' target='_blank' rel='nofollow'>srm&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2?SFN=/pnfs/hepgrid.uerj.br/data/ligo</a>
srm-ls   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl
httpg&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2

SRM-DIR&#58; Wed May 25 07&#58;51&#58;06 PDT 2011 Calling srmLsRequest

SRM-DIR&#58; ..........................
Status    &#58; SRM_AUTHENTICATION_FAILURE
Explanation &#58; SRM Authentication failed
Request token=null

SRM-CLIENT&#58;Exception from client=null

which would help me to work around the different user mappings on the
cluster.

Robert

On 5/20/11 8&#58;00 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1305936013'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-21T00:00:13+00:00">May 21, 2011 12:00 AM UTC</time><a class="anchor" name="1305936013">&nbsp;</a></div><pre>Dear Robert,

1) For the SE error, I think we understood what&#39;s going on. For some reason, the &#39;ligo&#39; VO users are not being mapped to the dCache instance - we will have to add them on Monday;

2) Concerning the weird &#34;ls -l $OSG_DATA/ligo/rengel/tasks&#34; output, let me say that your jobs are being submitted as &#39;ligo&#39;. What happens is that they *run* as one of the internal condor users (cafuser1-8), according to the configuration that we have at the moment. That is, users at the CE&#39;s and users at the frontend/compute nodes are *not* the same. However, $OSG_DATA is seen, and writable, by every one of those machines.

For example, your jobs were submitted as &#39;ligo&#39;, ran as cafuser1 (id 501) which wrote some data to $OSG_DATA/ligo/rengel/tasks. Back at the CE&#39;s, they appear to belong to rsvuser (also with id 501), and that&#39;s what is causing the confusion.

We&#39;ll be changing Condor and the CE users&#39; schema until mid-June, so things like those won&#39;t happen again. In the meanwhile, we&#39;ll fix the problem of mapping &#39;ligo&#39; correctly to the SE.

Best regards,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1305918276'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-20T19:04:36+00:00">May 20, 2011 07:04 PM UTC</time><a class="anchor" name="1305918276">&nbsp;</a></div><pre>Dear all,

Sorry for the very late answer (many downtimes and other stuff lately). We are investigating it now and will be back soon with an update.

Best regards,
José

-- by Jose Afonso Lajas Sanches</pre></div><div class='update_description'><i onclick="document.location='10368#1305912248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-20T17:24:08+00:00">May 20, 2011 05:24 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1305912248">&nbsp;</a></div><pre>Can someone with HEPGRID_UERJ_Srm please respond to Roberts inquiry?

Thanks</pre></div><div class='update_description'><i onclick="document.location='10368#1305225395'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-12T18:36:35+00:00">May 12, 2011 06:36 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1305225395">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='10368#1304641266'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T00:21:06+00:00">May 6, 2011 12:21 AM UTC</time> by <b>engel_r@....</b><a class="anchor" name="1304641266">&nbsp;</a></div><pre>Also, when my application writes from the worker node to $OSG_DATA this
happens&#58;

command&#58; ls -al /share/apps/scratch/ligo/rengel/tasks
rc     &#58; 0

total 18440
drwxrwxrwx 2 ligo    ligo        4096 May  5 21&#58;07 .
drwxrwxrwx 8 ligo    ligo        4096 Apr 18 13&#58;33 ..
-rw-r--r-- 1 rsvuser rsvuser 18847767 May  5 21&#58;07 87350.tar

So my application is running under the rsvuser account on the worker node?!?

Robert

On 5/5/11 5&#58;12 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='10368#1304640454'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-06T00:07:34+00:00">May 6, 2011 12:07 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1304640454">&nbsp;</a></div><pre>[by Robert Engel]

Hello,

I would like to use the SRM, but I get an authentication error when trying&#58;

[robert@osg-ldg scripts]$ srm-ls <a href='srm&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2?SFN=/pnfs/hepgrid.uerj.br/data/ligo' target='_blank' rel='nofollow'>srm&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2?SFN=/pnfs/hepgrid.uerj.br/data/ligo</a>
srm-ls   2.2.1.2.i7.p3  Fri Jul 10 15&#58;56&#58;18 PDT 2009
SRM-Clients and BeStMan Copyright(c) 2007-2009,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//datagrid.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//datagrid.lbl.gov/bestman</a>

SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//se-dcache.hepgrid.uerj.br&#58;8443/srm/managerv2

SRM-DIR&#58; Thu May 05 17&#58;05&#58;43 PDT 2011 Calling srmLsRequest

SRM-DIR&#58; ..........................
Status    &#58; SRM_AUTHENTICATION_FAILURE
Explanation &#58; SRM Authentication failed
Request token=null

SRM-CLIENT&#58;Exception from client=null

Could this perhaps be fixed?

Thanks,
Robert</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10368">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
