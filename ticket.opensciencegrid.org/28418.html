<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[28418] HCC_US_BNL_gk02 - collector connectivity issues</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=28418" method="post">
<div class="page-header">
    <h3><span class="muted">28418</span> / HCC_US_BNL_gk02 - collector connectivity issues</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Marty Kandes</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">BNL_ATLAS_2</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Marty Kandes</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-02-29</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=25913">25913</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/28418", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/28418?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/28418?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20HCC_US_BNL_gk02%20-%20collector%20connectivity%20issues%20ISSUE%3D28418%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='28418#1456755308'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-29T14:15:08+00:00">Feb 29, 2016 02:15 PM UTC</time> by <b>echism</b><a class="anchor" name="1456755308">&nbsp;</a></div><pre>Thanks all!</pre></div><div class='update_description'><i onclick="document.location='28418#1456255851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-23T19:30:51+00:00">Feb 23, 2016 07:30 PM UTC</time><a class="anchor" name="1456255851">&nbsp;</a></div><pre>Hi Elizabeth,

No objection here. Glidein performance still looks normal to us.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='28418#1456156900'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-22T16:01:40+00:00">Feb 22, 2016 04:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1456156900">&nbsp;</a></div><pre>Hello everyone,

I&#39;d like to close this ticket. If there are no objections in the next week, I will do so.</pre></div><div class='update_description'><i onclick="document.location='28418#1455643221'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T17:20:21+00:00">Feb 16, 2016 05:20 PM UTC</time><a class="anchor" name="1455643221">&nbsp;</a></div><pre>Mats,

Are you still seeing the problem from the frontend? Overall glidein performance at the site looks fairly normal to me from the factory perspective.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='28418#1455307164'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-12T19:59:24+00:00">Feb 12, 2016 07:59 PM UTC</time> by <b>echism</b><a class="anchor" name="1455307164">&nbsp;</a></div><pre>Is this resolved, then?

Thank you</pre></div><div class='update_description'><i onclick="document.location='28418#1455133199'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-10T19:39:59+00:00">Feb 10, 2016 07:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1455133199">&nbsp;</a></div><pre>HiJeff,

I tested the connection from the WN, it looks fine&#58;

[root@acas1862 ~]# curl --verbose <a href='http&#58;//osg-flock.grid.iu.edu&#58;9798' target='_blank' rel='nofollow'>http&#58;//osg-flock.grid.iu.edu&#58;9798</a>
* About to connect() to osg-flock.grid.iu.edu port 9798 (#0)
* Trying 129.79.53.179... connected
* Connected to osg-flock.grid.iu.edu (129.79.53.179) port 9798 (#0)
<font color='#7F7E6F'>&#62; GET / HTTP/1.1</font>
<font color='#7F7E6F'>&#62; User-Agent&#58; curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0</font>
zlib/1.2.3 libidn/1.18 libssh2/1.4.2
<font color='#7F7E6F'>&#62; Host&#58; osg-flock.grid.iu.edu&#58;9798</font>
<font color='#7F7E6F'>&#62; Accept&#58; */*</font>
<font color='#7F7E6F'>&#62;</font>
* Closing connection #0
* Failure when receiving data from the peer
curl&#58; (56) Failure when receiving data from the peer

(ignore the error, as curl expects a different protocol, but it does connect to
that port)

All all jobs fail this way, or failed jobs are from certain WNs ?

Thanks,
Xin
-- by xinzhao at Wed Feb 10 19&#58;39&#58;52 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=GridServices ID=25913</pre></div><div class='update_description'><i onclick="document.location='28418#1455130412'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-10T18:53:32+00:00">Feb 10, 2016 06:53 PM UTC</time><a class="anchor" name="1455130412">&nbsp;</a></div><pre>Hi Xin, Marty,

I thnk those errors are harmless. In theory the glideins are supposed to publish stats to the condor ce, but I have yet to see that work correctly.

The real issues are what Mats reported farther down this ticket.  It looks like glideins are unable to connect to the OSG user pool machine&#58;
02/04/16 11&#58;40&#58;14 (pid&#58;14768) CCBListener&#58; failed to receive message from CCB server osg-flock.grid.iu.edu&#58;9798
02/04/16 11&#58;40&#58;14 (pid&#58;14768) CCBListener&#58; connection to CCB server osg-flock.grid.iu.edu&#58;9798 failed; will try to reconnect in 60 seconds.
02/04/16 11&#58;41&#58;31 (pid&#58;14768) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector osg-flock.grid.iu.edu&#58;9798, fd is 12

Xin, could this be a firewall or NAT issue on the wns?

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jeffrey Michael Dost 694</pre></div><div class='update_description'><i onclick="document.location='28418#1455059744'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-09T23:15:44+00:00">Feb 9, 2016 11:15 PM UTC</time><a class="anchor" name="1455059744">&nbsp;</a></div><pre>Xin,

Yeah, that is my guess. Then Mats also saw connectivity problems with glideins trying to contact their frontend collector as well.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='28418#1455055814'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-09T22:10:14+00:00">Feb 9, 2016 10:10 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1455055814">&nbsp;</a></div><pre>Hi Marty,

So this is the connection from glideins running on worker nodes to the
collector on the HTCondor-CE ?

Xin
-- by xinzhao at Tue Feb 09 22&#58;10&#58;02 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=GridServices ID=25913</pre></div><div class='update_description'><i onclick="document.location='28418#1455053996'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-09T21:39:56+00:00">Feb 9, 2016 09:39 PM UTC</time><a class="anchor" name="1455053996">&nbsp;</a></div><pre>BNL admins,

I&#39;ve still observing the internal write errors [1]. Any sign of network-related issues on your end?

Marty Kandes
UCSD Glidein Factory Operations

[1]

02/08/16 23&#58;38&#58;32 (pid&#58;22645) Buf&#58;&#58;write()&#58; condor_write() failed
02/08/16 23&#58;38&#58;32 (pid&#58;22645) Failed to send non-blocking update to &#60;130.199.185.7&#58;9619&#62;.
02/08/16 23&#58;43&#58;43 (pid&#58;22645) condor_write()&#58; Socket closed when trying to write 4054 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/08/16 23&#58;43&#58;43 (pid&#58;22645) Buf&#58;&#58;write()&#58; condor_write() failed
02/08/16 23&#58;43&#58;43 (pid&#58;22645) Failed to send non-blocking update to &#60;130.199.185.7&#58;9619&#62;.
02/08/16 23&#58;48&#58;54 (pid&#58;22645) condor_write()&#58; Socket closed when trying to write 4056 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/08/16 23&#58;48&#58;54 (pid&#58;22645) Buf&#58;&#58;write()&#58; condor_write() failed
02/08/16 23&#58;48&#58;54 (pid&#58;22645) Failed to send non-blocking update to &#60;130.199.185.7&#58;9619&#62;.
02/08/16 23&#58;54&#58;05 (pid&#58;22645) condor_write()&#58; Socket closed when trying to write 4056 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/08/16 23&#58;54&#58;05 (pid&#58;22645) Buf&#58;&#58;write()&#58; condor_write() failed
02/08/16 23&#58;54&#58;05 (pid&#58;22645) Failed to send non-blocking update to &#60;130.199.185.7&#58;9619&#62;.
02/09/16 00&#58;04&#58;27 (pid&#58;22645) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='28418#1454697713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-05T18:41:53+00:00">Feb 5, 2016 06:41 PM UTC</time> by <b>echism</b><a class="anchor" name="1454697713">&nbsp;</a></div><pre>Is there anything further on this?</pre></div><div class='update_description'><i onclick="document.location='28418#1454614746'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-04T19:39:06+00:00">Feb 4, 2016 07:39 PM UTC</time><a class="anchor" name="1454614746">&nbsp;</a></div><pre>Mats,

Yeah, I only saw the internal errors, but they were prevalent across multiple VO glideins. I&#39;m guessing they are related to your external errors as well.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='28418#1454614428'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-04T19:33:48+00:00">Feb 4, 2016 07:33 PM UTC</time><a class="anchor" name="1454614428">&nbsp;</a></div><pre>Most of the errors Marty listed looks internal to BNL, but the ones I noticed was from the glideins at BNL to our VO collector at osg-flock.grid.iu.edu. For example&#58;

02/04/16 11&#58;40&#58;14 (pid&#58;14768) CCBListener&#58; failed to receive message from CCB server osg-flock.grid.iu.edu&#58;9798
02/04/16 11&#58;40&#58;14 (pid&#58;14768) CCBListener&#58; connection to CCB server osg-flock.grid.iu.edu&#58;9798 failed; will try to reconnect in 60 seconds.
02/04/16 11&#58;41&#58;31 (pid&#58;14768) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector osg-flock.grid.iu.edu&#58;9798, fd is 12

Is there maybe a firewall interfering?

Thanks,
Mats

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='28418#1454613560'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-04T19:19:20+00:00">Feb 4, 2016 07:19 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1454613560">&nbsp;</a></div><pre>Hi BNL admins,

We&#39;re observing a high amount of write failures [1] between glideins and the collector for your HTCondor-CE [2]. Can you have a look at this and see what might be causing these connectivity issues? It may be negatively affecting glidein performance for some VOs.

Marty Kandes
UCSD Glidein Factory Operations

[1]

02/03/16 19&#58;31&#58;18 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 19&#58;31&#58;18 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 3449 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8
02/03/16 19&#58;31&#58;18 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 19&#58;31&#58;18 (pid&#58;16617) Failed to send non-blocking update to &#60;130.199.185.7&#58;9619&#62;.
02/03/16 19&#58;40&#58;20 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/03/16 19&#58;40&#58;20 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 19&#58;44&#58;51 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/03/16 19&#58;44&#58;51 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 19&#58;49&#58;22 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/03/16 19&#58;49&#58;22 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 19&#58;53&#58;53 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/03/16 19&#58;53&#58;53 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 19&#58;58&#58;26 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8
02/03/16 19&#58;58&#58;26 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 20&#58;02&#58;55 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer
02/03/16 20&#58;02&#58;55 (pid&#58;16617) Buf&#58;&#58;write()&#58; condor_write() failed
02/03/16 20&#58;02&#58;55 (pid&#58;16617) condor_write()&#58; Socket closed when trying to write 3446 bytes to collector gridgk02.racf.bnl.gov&#58;9619, fd is 8, errno=104 Connection reset by peer

[2]

gridgk02.racf.bnl.gov

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F28418">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
