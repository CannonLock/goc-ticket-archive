<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[26618] permissions for Bestman SE</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=26618" method="post">
<div class="page-header">
    <h3><span class="muted">26618</span> / permissions for Bestman SE</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Rob Snihur</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Rob Snihur</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">try changing permissions</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-10-05</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/26618", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/26618?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/26618?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20permissions%20for%20Bestman%20SE%20ISSUE%3D26618%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='26618#1444073555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-10-05T19:32:35+00:00">Oct 5, 2015 07:32 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1444073555">&nbsp;</a></div><pre>I am closing this since there has been no response in 2 weeks.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='26618#1443443199'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-28T12:26:39+00:00">Sep 28, 2015 12:26 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1443443199">&nbsp;</a></div><pre>Rob,

Is this issue ok to be closed?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='26618#1442865353'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-21T19:55:53+00:00">Sep 21, 2015 07:55 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1442865353">&nbsp;</a></div><pre>Rob,

Is this issue ok to be closed?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='26618#1442435420'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-16T20:30:20+00:00">Sep 16, 2015 08:30 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1442435420">&nbsp;</a></div><pre>BTW, I added the Note directly after the Note on localPathListAllowed; the new Note says&#58;

<font color='#7F7E6F'>&#62;  Note&#58; Make sure the permissions for the localPathListAllowed</font>
<font color='#7F7E6F'>&#62;  directory(ies) are set to 1777, which is the default for /tmp. Further,</font>
<font color='#7F7E6F'>&#62;  note that on many systems, /tmp gets cleared out automatically, so</font>
<font color='#7F7E6F'>&#62;  you may want to use a different location (not under /tmp) so that</font>
<font color='#7F7E6F'>&#62;  the files persist.</font></pre></div><div class='update_description'><i onclick="document.location='26618#1442435173'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-16T20:26:13+00:00">Sep 16, 2015 08:26 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1442435173">&nbsp;</a></div><pre>Ok great!

I added a note to <a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#4_3_Edit_Bestman_Settings' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#4_3_Edit_Bestman_Settings</a> -- feel free to let me know if you think it does the job or if you think more should be said.

The issue you hit makes sense though; if /tmp can get automatically cleared out --which I think is standard[1] practice-- the bestman dir should really go somewhere other than /tmp.

I guess I would suggest finding a different place for the bestman data directory, maybe something under /var/tmp or /var/lib/bestman-data, for example.

Let me know if there&#39;s anything else to do for this ticket or if we should consider the issue resolved.

Thanks!
Carl

[1] As far as FHS standards go, <a href='http&#58;//www.pathname.com/fhs/pub/fhs-2.3.html#TMPTEMPORARYFILES' target='_blank' rel='nofollow'>http&#58;//www.pathname.com/fhs/pub/fhs-2.3.html#TMPTEMPORARYFILES</a> explicitly says &#34;Programs must not assume that any files or directories in /tmp are preserved between invocations of the program.&#34;</pre></div><div class='update_description'><i onclick="document.location='26618#1442432854'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-16T19:47:34+00:00">Sep 16, 2015 07:47 PM UTC</time> by <b>USCMS_Tier3</b><a class="anchor" name="1442432854">&nbsp;</a></div><pre>Hi,
Since the /tmp/bestman directory was empty,
the tmpwatch cron job deleted it after 10 days.
When I tried to write a file to that directory again yesterday,
it succeeded and both the file and the /tmp/bestman directory
were created and had owner&#58;group = uscms2072&#58;uscms2072 ,
which is the pool account that I was assigned by GUMS.

I think there should be a comment inserted into the twiki
warning people about this issue, and suggesting they
modify the directory permissions where bestman is writing to.
I&#39;m just not sure how exactly to phrase it.
Also, I guess this applies to different kinds of Bestman (Full gateway,
xrootd, etc).  Any suggestions?

thx,
-rob snihur

On Tue, Sep 15, 2015 at 2&#58;53 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='26618#1442346799'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-15T19:53:19+00:00">Sep 15, 2015 07:53 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1442346799">&nbsp;</a></div><pre>Rob,

Have you had a chance to look through this?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='26618#1441740209'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-08T19:23:29+00:00">Sep 8, 2015 07:23 PM UTC</time> by <b>USCMS_Tier3</b><a class="anchor" name="1441740209">&nbsp;</a></div><pre>I am offline until September 9 and will reply then.</pre></div><div class='update_description'><i onclick="document.location='26618#1441740012'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-08T19:20:12+00:00">Sep 8, 2015 07:20 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1441740012">&nbsp;</a></div><pre>Rob,

Have you tried editing the permissions of /tmp/bestman like Carl suggested?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='26618#1441224555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-02T20:09:15+00:00">Sep 2, 2015 08:09 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1441224555">&nbsp;</a></div><pre>Hi Rob,

I&#39;m not 100% sure about this, but in case the bestman server is trying to write files as some user other than &#34;bestman&#34;, it may need the directory permissions to be 1777, which is the default for /tmp (the example given in the Install doc), but not for subdirs.

Can you try &#34;chmod 1777 /tmp/bestman&#34; and see if that helps?

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='26618#1440701206'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-27T18:46:46+00:00">Aug 27, 2015 06:46 PM UTC</time><a class="anchor" name="1440701206">&nbsp;</a></div><pre>Hi Carl,

Can u please take a look at this?

Edgar
OSG Software Team

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='26618#1440623240'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-26T21:07:20+00:00">Aug 26, 2015 09:07 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1440623240">&nbsp;</a></div><pre>Sending this to the software team.  They should have more insight into permissions.</pre></div><div class='update_description'><i onclick="document.location='26618#1440623077'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-26T21:04:37+00:00">Aug 26, 2015 09:04 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1440623077">&nbsp;</a></div><pre>From&#58; Rob Snihur &#60;snihur@....&#62;
Subject&#58; permissions for Bestman SE
Date&#58; August 26, 2015 at 3&#58;44&#58;32 PM EDT
To&#58; OSG Grid Operations Center &#60;goc@....&#62;

Hi,
I followed the instructions at this page
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Verifying_GridFTP' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Verifying_GridFTP</a>
to install a Bestman SE.

In the file /etc/bestman2/conf/bestman2.rc (see below)
I have specified&#58;
localPathListAllowed=/tmp/bestman;/cloud/login/snihur/bestman.2

But I am getting a permissions error (see below) when I try&#58;
globus-url-copy -dbg file&#58;///cloud/login/snihur/local.bashrc
<a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob</a>

I see that the permissions are&#58;

20150826Wed14&#58;25&#58;34 snihur@fermicloud154  4% ls -l /tmp | grep bestman
drwxr-xr-x 2 bestman root     4096 Aug 21 14&#58;50 bestman
drwxr-xr-x 2 bestman bestman  4096 Aug 21 14&#58;50 hsperfdata_bestman
drwxr-xr-x 3 bestman bestman  4096 Aug 21 14&#58;50 jetty-0.0.0.0-8443-conf-_-any-

Are these permissions correct?
The instructions do not say that I need to change the permissions.
What&#39;s up?

thx,
-rob

20150826Wed14&#58;24&#58;14 snihur@fermicloud154  2% voms-proxy-init -voms cms
Enter GRID pass phrase&#58;
Your identity&#58; /DC=ch/DC=cern/OU=Organic
<div id='show_1644355713' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1644355713'>Units/OU=Users/CN=snihur/CN=694458/CN=Robert Snihur
Creating temporary proxy ................................................ Done
Contacting  voms2.cern.ch&#58;15002
[/DC=ch/DC=cern/OU=computers/CN=voms2.cern.ch] &#34;cms&#34; Done
Creating proxy ............................. Done

Your proxy is valid until Thu Aug 27 02&#58;24&#58;30 2015
20150826Wed14&#58;24&#58;30 snihur@fermicloud154  3% globus-url-copy -dbg
file&#58;///cloud/login/snihur/local.bashrc
<a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob</a>
debug&#58; starting to put <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob</a>
debug&#58; connecting to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob</a>
debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
220 fermicloud154.fnal.gov GridFTP Server 7.20 (gcc64, 1420641370-85)
[Globus Toolkit 6.0] ready.

debug&#58; authenticating with <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob</a>
debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
230 User uscms2072 logged in.

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
SITE HELP

debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
214-The following commands are recognized&#58;
ALLO    APPE    REST    CWD     CDUP    DCAU    EPSV    FEAT
ERET    MDTM    STAT    ESTO    HELP    LIST    MODE    NLST
MLSC    MLSD    PASV    RNFR    MLSR    MLST    NOOP    OPTS
STOR    PASS    PBSZ    PORT    PROT    SITE    EPRT    RETR
SPOR    MFMT    SCKS    TREV    PWD     QUIT    SBUF    SIZE
SPAS    STRU    SYST    RNTO    TYPE    USER    LANG    MKD
RMD     DELE    CKSM    DCSC
214 End

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
FEAT

debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
211-Extensions supported
HTTP
DCSC P,D
MFMT
AUTHZ_ASSERT
MLSR
MLSC
UTF8
LANG EN
DCAU
PARALLEL
SIZE
MLST Type*;Size*;Modify*;Perm*;Charset;UNIX.mode*;UNIX.owner*;UNIX.uid*;UNIX.group*;UNIX.gid*;Unique*;UNIX.slink*;X.count;
ERET
ESTO
SPAS
SPOR
REST STREAM
MDTM
PASV AllowDelayed;
211 End.

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
SITE CLIENTINFO scheme=gsiftp;appname=&#34;globus-url-copy&#34;;appver=&#34;9.13
(gcc64, 1415047679-85) [Globus Toolkit 6.0]&#34;;
debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
250 OK.

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
TYPE I
debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
200 Type set to I.

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
PBSZ 1048576

debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
200 PBSZ=1048576

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
PASV

debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
227 Entering Passive Mode (131,225,155,177,219,21)

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
ALLO 7041

debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
200 ALLO command successful.

debug&#58; sending command to <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
STOR /tmp/bestman/foo.rob

debug&#58; response from <a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
500-Command failed. &#58; globus_l_gfs_file_open failed.
500-globus_xio&#58; Unable to open file /tmp/bestman/foo.rob
500-globus_xio&#58; System error in open&#58; Permission denied
500-globus_xio&#58; A system call failed&#58; Permission denied
500 End.

debug&#58; fault on connection to
<a href='gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov/tmp/bestman/foo.rob&#58</a>;
globus_ftp_client&#58; the server responded with an error
debug&#58; data callback, error globus_ftp_client&#58; the server responded
with an error, buffer 0x7f1d4c604010, length 0, offset=0, eof=true
debug&#58; operation complete

error&#58; globus_ftp_client&#58; the server responded with an error
500 500-Command failed. &#58; globus_l_gfs_file_open failed.
500-globus_xio&#58; Unable to open file /tmp/bestman/foo.rob
500-globus_xio&#58; System error in open&#58; Permission denied
500-globus_xio&#58; A system call failed&#58; Permission denied
500 End.

20150826Wed14&#58;25&#58;34 snihur@fermicloud154  4% ls -l /tmp | grep bestman
drwxr-xr-x 2 bestman root     4096 Aug 21 14&#58;50 bestman
drwxr-xr-x 2 bestman bestman  4096 Aug 21 14&#58;50 hsperfdata_bestman
drwxr-xr-x 3 bestman bestman  4096 Aug 21 14&#58;50 jetty-0.0.0.0-8443-conf-_-any-
20150826Wed14&#58;25&#58;50 snihur@fermicloud154  5% cat /etc/bestman2/conf/bestman2.rc
###########################################################
###########################################################
###########################################################
###########################################################
# Below is ONLY for BeStMan server INTERNAL definitions
###########################################################
# BeStMan server GATEWAY mode configuration
# installed on Thu Sep 20 11&#58;58&#58;47 CDT 2012
# administrative guide on <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
###########################################################
###########################################################
EventLogLocation=/var/log/bestman2
# Modify eventLogLevel to adjust logging level (DEBUG | INFO)
eventLogLevel=INFO
###########################################################
#F# ReplicaQualityStorageMB=[[REPLICA_STORAGE_SIZE]]path=REPLICA_STORAGE_PATH;
#F# NOTE&#58; If you have more paths to support,
#F#        add additional ones with semi-colon &#34;;&#34; as seperator
#F#        e.g.
ReplicaQualityStorageMB=[3100]path=/tmp/cache;[200]path=/scratch/cache
#F#
#F# OutputQualityStorageMB=[[OUTPUT_STORAGE_SIZE]]path=OUTPUT_STORAGE_PATH;
#F# NOTE&#58; If you have more paths to support,
#F#        add additional ones with semi-colon &#34;;&#34; as seperator
#F#        e.g.
OutputQualityStorageMB=[3100]path=/tmp/cache/d;[200]path=/scratch/cache/d
#F#
#F# CustodialQualityStorageMB=[[CUSTODIAL_STORAGE_SIZE]]path=CUSTODIAL_STORAGE_PATH;
#F# NOTE&#58; If you have more paths to support,
#F#        add additional ones with semi-colon &#34;;&#34; as seperator
#F#        e.g.
CustodialQualityStorageMB=[3100]path=/tmp/cache/p;[200]path=/scratch/cache/p
###########################################################
# Provide blocking for user access to the list of the local directories
## default&#58; /;/etc;/var
## All definitions will include the default blocked list
## e.g. localPathListToBlock=/;/etc;/var
### localPathListToBlock=BLOCKEDPATHS
###########################################################
# Provide permission for user access to the list of the local directories
## If a path is listed on both blocked and allowed list,
##           blocked is taken priority.
## e.g. localPathListAllowed=/home;/project
###########################################################
localPathListAllowed=/tmp/bestman;/cloud/login/snihur/bestman.2
securePort=8443
CertFileName=/etc/grid-security/bestman/bestmancert.pem
KeyFileName=/etc/grid-security/bestman/bestmankey.pem
### ProxyFileName=PROXY_FILE_PATH
###########################################################
# supportedProtocolList can be defined
##      When different from the same hostname that BeStMan runs on
##      Or, multiple transfer servers are supported
## supportedProtocolList=<a href='gsiftp&#58;//host1.domain.tld' target='_blank' rel='nofollow'>gsiftp&#58;//host1.domain.tld</a>;<a href='gsiftp&#58;//host2.domain.tld' target='_blank' rel='nofollow'>gsiftp&#58;//host2.domain.tld</a>
supportedProtocolList=<a href='gsiftp&#58;//fermicloud154.fnal.gov' target='_blank' rel='nofollow'>gsiftp&#58;//fermicloud154.fnal.gov</a>
############################################################
# NOTE&#58; Each plugin entry must define the class name, jar file name,
# and the procotol name the policy applies to. Key values are class,
# jarFile and name, and they are separated by &.
# Multiple plugin entries for different protocols can be defined, and
# must be seperated by ;.  When two or more plugin entries are defined
# for the same protocol, the last entry will be used
# If key name= is missing, and there is only one plugin entry, then
# the policy would be used on all protocols.
# e.g., when two entries are defined for gsiftp and http respectively;
# protocolSelectionPolicy=class=plugin.NotRoundRobin1&jarFile=p1.jar&name=gsiftp
############################################################
### protocolSelectionPolicy=PROTOCOL_POLICY
### pluginLib=/usr/share/java/bestman2/plugin/
###########################################################
### For Xrootd, xrootdTokenCompName=oss.cgroup may be needed
############################################################
pathForToken=true
fsConcurrency=40
checkSizeWithFS=true
checkSizeWithGsiftp=false
###########################################################
# Sudo to manage file system (mkdir, rmdir, rm, mv, cp, ls)
# /etc/sudoers needs the following modifications
#              when daemon account runs bestman server
#              check proper paths for commands if needed
#    Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv,
/bin/cp, /bin/ls
#    Runas_Alias SRM_USR = ALL, !root
#    daemon   ALL=(SRM_USR) NOPASSWD&#58; SRM_CMD
#
accessFileSysViaSudo=true
noSudoOnLs=true
### accessFileSysViaGsiftp=false
###########################################################
### showChecksumWhenListingFile to return checksum in srmLs
### defaultChecksumType supports adler32, md5, crc32
###########################################################
### showChecksumWhenListingFile=false
### defaultChecksumType=adler32
###########################################################
### hexChecksumCommand to plugin checksum calculation callout
### defaultChecksumType should be adler32 in hex
### only valid when showChecksumWhenListingFile=true
### e.g. hexChecksumCommand=/usr/local/mychecksum -adler32
###########################################################
### hexChecksumCommand=CHECKSUM_CALLOUT
###########################################################
# MaxMappedIDCached limits how many mapped ids can be cached at a given time
##   LifetimeSecondsMappedIDCached limits how long mapped ids are cached
##   LifetimeSecondsMappedIDCached=0 &#58; permanently cache
##   LifetimeSecondsMappedIDCached&#60;0 &#58; never cache
##   LifetimeSecondsMappedIDCached&#62;0 &#58; cache for the duration
###########################################################
MaxMappedIDCached=1000
LifetimeSecondsMappedIDCached=1800
###########################################################
## userSpaceKeywords is to define keys to shorten the path
## format&#58; userSpaceKeywords=(key1=/path1)(key2=/path2)
## e.g.&#58; userSpaceKeywords=(tic=/user/tic)(tac=/proj/tac)
##bestman will disable space management when this is defined
## and SFN=/tic/fpath1 in SURL will be translated to SFN=/user/tic/fpath1
## difference from staticTokens&#58; space descriptions are not supported.
### userSpaceKeywords=
###########################################################
## e.g. SUMGserviceURL=<a href='https&#58;//gums.lbl.gov&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort' target='_blank' rel='nofollow'>https&#58;//gums.lbl.gov&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort</a>
GUMSserviceURL=<a href='https&#58;//fermicloud131.fnal.gov&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort' target='_blank' rel='nofollow'>https&#58;//fermicloud131.fnal.gov&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort</a>
## e.g. GUMSCurrHostDN=/DC=org/DC=doegrids/OU=Services/CN=gumsclient.lbl.gov
## When DN is not provided, it could be extracted from the cert/key
when running server from
## GUMS-XACML is the only supported interface.
###########################################################
### GUMSProtocol=XACML
### GUMSserviceURL=
### GUMSCurrHostDN=
### Grid-mapfile will be used
GridMapFileName=/etc/bestman2/conf/grid-mapfile.empty
### validateVomsProxy=false
###########################################################
# Do Not edit below unless you really really understand the entries
###########################################################
# GATEWAY mode entries
###########################################################
disableSpaceMgt=true
useBerkeleyDB=false
noCacheLog=true
Concurrency=40
#F# MaxNumberOfUsers=100
#F# MaxNumberOfFileRequests=1000000
#F# MaxConcurrentFileTransfer=10
#F# GridFTPNumStreams=2
#F# GridFTPBufferSizeBytes=2
#F# DefaultFileSizeMB=500
#F# DefaultVolatileFileLifeTimeInSeconds=1800
#F# PublicTokenMaxFileLifetimeInSeconds=1800
#F# InactiveTxfTimeOutInSeconds=300
#F# PublicSpaceProportion=80
#F# PublicSpaceInMB=
#F# DefaultMBPerToken=1000
#F# CacheLogLocation=/var/log
#F# CacheLogLocation=/var/log/cache.bestman.log
#F# pathForToken=false
#F# srmcacheKeywordOn=false
#F# uploadQueueParameter=40&#58;10
#F# NOTE&#58; uploadQueueParameter will be used as the transfer queue management
###########################################################
FactoryID=srm/v2/server
noEventLog=false
###########################################################
###########################################################
# MSS related when supported
###########################################################
#F# MaxMSSConnections=15
#F# mssTimeOutSeconds=600
</div><script type='text/javascript'>
        $('#show_1644355713').click(function() {
            $('#detail_1644355713').slideDown("normal");
            $('#show_1644355713').hide();
            $('#hide_1644355713').show();
        });
        $('#hide_1644355713').click(function() {
            $('#detail_1644355713').slideUp();
            $('#hide_1644355713').hide();
            $('#show_1644355713').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F26618">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 26618});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
