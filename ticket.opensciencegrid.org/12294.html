<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12294] Problems with ATLAS VOMS at CERN</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12294" method="post">
<div class="page-header">
    <h3><span class="muted">12294</span> / Problems with ATLAS VOMS at CERN</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Barbara Alvarez Gonzalez</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Barbara Alvarez Gonzalez</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-07-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=22172">22172</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12294", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12294#1343167595'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T22:06:35+00:00">Jul 24, 2012 10:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1343167595">&nbsp;</a></div><pre>Barbara,

Great! Let us know if you need anything further.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1343166253'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T21:44:13+00:00">Jul 24, 2012 09:44 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1343166253">&nbsp;</a></div><pre>Hi Elizabeth,
thanks a lot, that worked just fine.

Thank you,
Barbara

On 07/24/2012 11&#58;14 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1343164442'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T21:14:02+00:00">Jul 24, 2012 09:14 PM UTC</time> by <b>echism</b><a class="anchor" name="1343164442">&nbsp;</a></div><pre>Barbara,

I see the problem. They are in the /work/ directory and voms-proxy is looking in the /user/ directory. I recommend copying the credentials over and rerunning the command.

cp /afs/cern.ch/work/b/balvarez/.globus/usercert.pem /afs/cern.ch/user/b/balvarez/.globus/usercert.pem
cp /afs/cern.ch/work/b/balvarez/.globus/userkey.pem /afs/cern.ch/user/b/balvarez/.globus/userkey.pem

source /afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh
voms-proxy-init --voms atlas --debug

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1343163553'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T20:59:13+00:00">Jul 24, 2012 08:59 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1343163553">&nbsp;</a></div><pre>Hi,
following the below instructions I get the following debug message&#58;
Detected Globus version&#58; 22
Unspecified proxy version, settling on Globus version&#58; 2
Number of bits in key &#58;1024
Using configuration file /afs/cern.ch/user/b/balvarez/.glite/vomses
Using configuration file
/afs/cern.ch/project/gd/LCG-share/3.1.38-0/glite/etc/vomses
Unable to find user certificate.

ERROR&#58; Couldn&#39;t find valid credentials to generate a proxy.
Use --debug for further information.
Wrong permissions on file&#58; /afs/cern.ch/user/b/balvarez/.globus/usercred.p12

Barbara
On 07/24/2012 10&#58;47 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1343162828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T20:47:08+00:00">Jul 24, 2012 08:47 PM UTC</time> by <b>echism</b><a class="anchor" name="1343162828">&nbsp;</a></div><pre>Barbara,

The file name vomses_20120702140219 should just be changed to &#34;vomses&#34;

Also please try running this command&#58;
source /afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh
voms-proxy-init --voms atlas --debug

It should tell you what the problem is.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1343162108'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T20:35:08+00:00">Jul 24, 2012 08:35 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1343162108">&nbsp;</a></div><pre>Hello Elizabeth,
sorry to get back to you so late on this.
I created the directory &#34;.glite/vomses&#34; at /afs/cern.ch/user/b/balvarez/,
it didn&#39;t exist, and I copied here the file you attached in the email&#58;
vomses_20120702140219.
How do you install it? Which name does it need to be changed to
&#34;vomses&#34;?

I went ahead and tried again&#58;
source /afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh
voms-proxy-init --voms atlas
Unable to find user certificate.

ERROR&#58; Couldn&#39;t find valid credentials to generate a proxy.
Use --debug for further information.

How could I use the &#34;debug&#34; information? Is anyone at CERN that could
help me with this?

Thank you,
Barbara

On 07/02/2012 04&#58;02 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1343160406'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-24T20:06:46+00:00">Jul 24, 2012 08:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1343160406">&nbsp;</a></div><pre>Hi Barbara,

Did you get the proxy working?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1342627541'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-18T16:05:41+00:00">Jul 18, 2012 04:05 PM UTC</time> by <b>echism</b><a class="anchor" name="1342627541">&nbsp;</a></div><pre>Barbara,

If nothing else is working, please try voms-proxy-init --debug

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1341879990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-10T00:26:30+00:00">Jul 10, 2012 12:26 AM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1341879990">&nbsp;</a></div><pre>Hi, sorry, I am in a conference in Australia and I could not try yet. I will let you know as soon as I do it.
I think I can check in a couple of days.

Thanks for asking,
Barbara</pre></div><div class='update_description'><i onclick="document.location='12294#1341870181'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-09T21:43:01+00:00">Jul 9, 2012 09:43 PM UTC</time> by <b>echism</b><a class="anchor" name="1341870181">&nbsp;</a></div><pre>Barbara,

Did that help at all?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1341237982'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-02T14:06:22+00:00">Jul 2, 2012 02:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1341237982">&nbsp;</a></div><pre>I should clarify, the name needs to be changed to &#34;vomses&#34;

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1341237740'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-02T14:02:20+00:00">Jul 2, 2012 02:02 PM UTC</time> by <b>echism</b><a class="anchor" name="1341237740">&nbsp;</a></div><pre>Barbara,

Please install the attached file in /afs/cern.ch/user/b/balvarez/.glite/vomses and retry the proxy. It&#39;s an OSG vomses file, but the information for atlas should be the same.

Thank you,
Elizabeth

On Jul 2, 2012, at 9&#58;47 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1341236831'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-02T13:47:11+00:00">Jul 2, 2012 01:47 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1341236831">&nbsp;</a></div><pre>Hi,
apparently I owned them&#58;
[lxplus311] /afs/cern.ch/work/b/balvarez &#62; ls -al .globus
total 8
drwxr-xr-x  2 balvarez zp 2048 Jul  2 15&#58;26 .
drwxr-xr-x 11 balvarez zp 2048 Jun 28 16&#58;00 ..
-r--r--r--  1 balvarez zp 1720 Jun 21 19&#58;28 usercert.pem
-r--------  1 balvarez zp 1143 Jun 21 19&#58;29 userkey.pem

Barbara</pre></div><div class='update_description'><i onclick="document.location='12294#1341236450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-02T13:40:50+00:00">Jul 2, 2012 01:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1341236450">&nbsp;</a></div><pre>Barbara,

If you ls -al .globus does it show your correct user and group as owner of the certs, or is it perhaps root or some other user?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1341235746'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-02T13:29:06+00:00">Jul 2, 2012 01:29 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1341235746">&nbsp;</a></div><pre>Hello Elizabeth,
I checked this&#58;
openssl x509 -noout -modulus -in usercert.pem | openssl md5
openssl rsa -noout -modulus -in userkey.pem | openssl md5

and the output is exactly the same.

Barbara</pre></div><div class='update_description'><i onclick="document.location='12294#1341165007'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-01T17:50:07+00:00">Jul 1, 2012 05:50 PM UTC</time> by <b>echism</b><a class="anchor" name="1341165007">&nbsp;</a></div><pre>Barbara,

I don&#39;t know about the difference between /b and /user. Is the software in /user? I would not paste the private key. How about trying this&#58;

Run the following two commands and tell me if the number matches.
openssl x509 -noout -modulus -in usercert.pem | openssl md5
openssl rsa -noout -modulus -in userkey.pem | openssl md5

Thank you,
Elizabeth

On Jul 1, 2012, at 9&#58;17 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1341148627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-07-01T13:17:07+00:00">Jul 1, 2012 01:17 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1341148627">&nbsp;</a></div><pre>Hello Elizabeth,
if I do &#34;ls&#34; in my area&#58;
[lxplus247] /afs/cern.ch/work/b/balvarez &#62; ls .globus/
usercert.pem  userkey.pem
I get both pem files as result.
Do you want to see what is inside the pem files? Could I copy and paste
here, in this email?
The area I am working on is /afs/cern.ch/work/b/balvarez not /afs/cern.ch/user/b/balvarez
I don&#39;t think that is a problem, right?

Cheers,
Barbara</pre></div><div class='update_description'><i onclick="document.location='12294#1340985756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-29T16:02:36+00:00">Jun 29, 2012 04:02 PM UTC</time> by <b>echism</b><a class="anchor" name="1340985756">&nbsp;</a></div><pre>Barbara,

I just realized something. You did &#34;mv  *.pem .globus&#34; instead of &#34;mv  *.pem ~/.globus&#34;

Is it possible that you were not in your home directory when you did this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1340979064'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-29T14:11:04+00:00">Jun 29, 2012 02:11 PM UTC</time> by <b>echism</b><a class="anchor" name="1340979064">&nbsp;</a></div><pre>To be more specific, it seems like her personal credentials in .globus are not the problem. The reason she can&#39;t generate a proxy is because her client has no instructions on how to contact a VOMS, thereby rendering her credentials ineffective.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1340978854'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-29T14:07:34+00:00">Jun 29, 2012 02:07 PM UTC</time> by <b>echism</b><a class="anchor" name="1340978854">&nbsp;</a></div><pre>John,

I strongly suspect she needs to get whatever the equivalent of a VO-package is for this client somewhere in her specific home directory. Do you know how to get that for this software? Again, I am not allowed access to any of the documentation.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1340919489'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-28T21:38:09+00:00">Jun 28, 2012 09:38 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1340919489">&nbsp;</a></div><pre>Hello,
I just tried that you sent below and I got the same error&#58;

[lxplus428] /afs/cern.ch/work/b/balvarez/.globus &#62; source
/afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh
#####################################################
AFS UI gLite version 3.1.38 is considered old and deprecated.
Please migrate to a new gLite 3.2 version. e.g
/afs/cern.ch/project/gd/LCG-share/current_3.2/etc/profile.d/grid-env.sh
/afs/cern.ch/project/gd/LCG-share/new_3.2/etc/profile.d/grid-env.sh
#####################################################
[lxplus428] /afs/cern.ch/work/b/balvarez/.globus &#62; voms-proxy-init -voms
atlas
Cannot find file or dir&#58; /afs/cern.ch/user/b/balvarez/.glite/vomses
Unable to find user certificate.

ERROR&#58; Couldn&#39;t find valid credentials to generate a proxy.
Use --debug for further information.

Barbara

On 06/28/2012 10&#58;14 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1340914899'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-28T20:21:39+00:00">Jun 28, 2012 08:21 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1340914899">&nbsp;</a></div><pre>Hello,

Can you double check to make sure the cert files are in ~/.globus ?

You can also explicitly point to them by doing&#58;

voms-proxy-init -cert ~/.globus/usercert.pem -key ~/.globus/userkey.pem -voms
atlas

Maybe that will provide clues.

Cheers,
--john

On Fri Jun 22 14&#58;39&#58;09 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Hello,</font>
<font color='#7F7E6F'>&#62; I didn&#39;t install any software, I am using the one install in CERN,</font>
<font color='#7F7E6F'>&#62; through&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; source</font>
<font color='#7F7E6F'>&#62; /afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I am using the lxplus machines.</font>
<font color='#7F7E6F'>&#62; Is this ok, or I need to install anything?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Barbara</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 06/22/2012 08&#58;33 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
<font color='#7F7E6F'>&#62; -- by barbara.alvarez.gonzalez@.... at Fri Jun 22 18&#58;38&#58;09 UTC 2012</font>
-- by jhover at Thu Jun 28 20&#58;20&#58;43 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=GridServices ID=22172</pre></div><div class='update_description'><i onclick="document.location='12294#1340914482'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-28T20:14:42+00:00">Jun 28, 2012 08:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1340914482">&nbsp;</a></div><pre>Hi all,

I just logged into lxplus and tried the same client, but it worked OK for me.
Note the same VOMSES message.

Perhaps the user can try the other client&#58;

/afs/cern.ch/project/gd/LCG-share/current_3.2/etc/profile.d/grid-env.sh

[jhover@lxplus410]~/.globus% .
/afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh
#####################################################
AFS UI gLite version 3.1.38 is considered old and deprecated.
Please migrate to a new gLite 3.2 version. e.g
/afs/cern.ch/project/gd/LCG-share/current_3.2/etc/profile.d/grid-env.sh
/afs/cern.ch/project/gd/LCG-share/new_3.2/etc/profile.d/grid-env.sh
#####################################################
[jhover@lxplus410]~/.globus% voms-proxy-init -voms atlas
Cannot find file or dir&#58; /afs/cern.ch/user/j/jhover/.glite/vomses
Enter GRID pass phrase&#58;
Your identity&#58; /DC=org/DC=doegrids/OU=People/CN=John R. Hover 47116
Creating temporary proxy ................................ Done
Contacting voms.cern.ch&#58;15001 [/DC=ch/DC=cern/OU=computers/CN=voms.cern.ch]
&#34;atlas&#34; Done
Creating proxy
........................................................................................
Done
Your proxy is valid until Fri Jun 29 10&#58;13&#58;36 2012

[jhover@lxplus410]~/.globus% ls -alh
total 8.0K
drwxr-xr-x 2 jhover zp 2.0K Jun 28 22&#58;12 .
drwxr-xr-x 12 jhover zp 2.0K Jun 28 22&#58;09 ..
-rw-r--r-- 1 jhover zp 1.6K Jun 28 22&#58;09 usercert.pem
-rw------- 1 jhover zp 1.9K Jun 28 22&#58;10 userkey.pem
<div id='show_731577699' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_731577699'>
Cheers,

--john

On Fri Jun 22 14&#58;52&#58;08 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Barbara</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Your VOMSES file is missing from your home directory, which is not your</font>
<font color='#7F7E6F'>&#62; personal credentials, but a list of VOMS servers.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I am unsure however, whether that&#39;s something you&#39;re going to want to</font>
<font color='#7F7E6F'>&#62; install yourself, or it should already be there, or whether some</font>
<font color='#7F7E6F'>&#62; environment variable needs to be changed in order to point to a</font>
<font color='#7F7E6F'>&#62; different location.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ATLAS,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Since this is not the OSG client, and not one of our servers, can you</font>
<font color='#7F7E6F'>&#62; help to determine which procedure would be appropriate under the</font>
<font color='#7F7E6F'>&#62; circumstances? Certainly you have encountered such a thing in dealing</font>
<font color='#7F7E6F'>&#62; with interop problems before, or at the very least can access the wiki</font>
<font color='#7F7E6F'>&#62; page Barbara has been using.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thank you,</font>
<font color='#7F7E6F'>&#62; Elizabeth</font>
<font color='#7F7E6F'>&#62; -- by Elizabeth Chism at Fri Jun 22 18&#58;51&#58;58 UTC 2012</font>
-- by jhover at Thu Jun 28 20&#58;14&#58;32 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=GridServices ID=22172
</div><script type='text/javascript'>
        $('#show_731577699').click(function() {
            $('#detail_731577699').slideDown("normal");
            $('#show_731577699').hide();
            $('#hide_731577699').show();
        });
        $('#hide_731577699').click(function() {
            $('#detail_731577699').slideUp();
            $('#hide_731577699').hide();
            $('#show_731577699').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12294#1340391118'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-22T18:51:58+00:00">Jun 22, 2012 06:51 PM UTC</time> by <b>echism</b><a class="anchor" name="1340391118">&nbsp;</a></div><pre>Barbara

Your VOMSES file is missing from your home directory, which is not your personal credentials, but a list of VOMS servers.

I am unsure however, whether that&#39;s something you&#39;re going to want to install yourself, or it should already be there, or whether some environment variable needs to be changed in order to point to a different location.

ATLAS,

Since this is not the OSG client, and not one of our servers, can you help to determine which procedure would be appropriate under the circumstances? Certainly you have encountered such a thing in dealing with interop problems before, or at the very least can access the wiki page Barbara has been using.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1340390289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-22T18:38:09+00:00">Jun 22, 2012 06:38 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1340390289">&nbsp;</a></div><pre>Hello,
I didn&#39;t install any software, I am using the one install in CERN, through&#58;

source /afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh

I am using the lxplus machines.
Is this ok, or I need to install anything?

Thanks,
Barbara

On 06/22/2012 08&#58;33 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1340389994'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-22T18:33:14+00:00">Jun 22, 2012 06:33 PM UTC</time> by <b>echism</b><a class="anchor" name="1340389994">&nbsp;</a></div><pre>Hi Barbara,

We&#39;re not authorized to see that twiki page. It seems like your VO package or client software isn&#39;t fully installed.

What client software did you install?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='12294#1340300110'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-21T17:35:10+00:00">Jun 21, 2012 05:35 PM UTC</time> by <b>barbara.alvarez.gonzalez@....</b><a class="anchor" name="1340300110">&nbsp;</a></div><pre>Hello,
thanks for your reply.
I repeat again the last step using the correct way to set the permissions,
but I get the same error. I did the following&#58;
openssl pkcs12 -in doegrid.p12 -clcerts -nokeys -out usercert.pem
openssl pkcs12 -in doegrid.p12 -nocerts -out userkey.pem
mv *.pem .globus/
cd .globus/
chmod 444 usercert.pem
chmod 400 userkey.pem
cd ..
voms-proxy-init --voms atlas

I am still getting the error&#58;
[lxplus412] /afs/cern.ch/work/b/balvarez &#62; voms-proxy-init --voms atlas
Cannot find file or dir&#58; /afs/cern.ch/user/b/balvarez/.glite/vomses
Unable to find user certificate.

ERROR&#58; Couldn&#39;t find valid credentials to generate a proxy.
Use --debug for further information.

Am I forgetting something else?

Thank you,
Barbara

On 06/21/2012 07&#58;21 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12294#1340299268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-21T17:21:08+00:00">Jun 21, 2012 05:21 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1340299268">&nbsp;</a></div><pre>Barbara,

It looks like you have set your file permission incorrectly

[Incorrect]
chmod 400 usercert.pem
chmod 444 userkey.pem

[Correct]
chmod 444 usercert.pem
chmod 400 userkey.pem

.. inside .globus directory.

Soichi</pre></div><div class='update_description'><i onclick="document.location='12294#1340298756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-06-21T17:12:36+00:00">Jun 21, 2012 05:12 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1340298756">&nbsp;</a></div><pre>[by Barbara Alvarez Gonzalez]

Dear team,
I have a problem with the VOMS setup, please see what I did below,
and the error I am getting, thanks for your help.

I followed the instructions at&#58;
<a href='https&#58;//twiki.cern.ch/twiki/bin/viewauth/Atlas/WorkBookStartingGrid' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/viewauth/Atlas/WorkBookStartingGrid</a>

Step1&#58;
I am working on my laptop. I got the digital certificate on my browser,
and I imported it obtaining a file that I called&#58; doegrid.p12
Step2&#58;
I already joined &#34;ATLAS Virtual Organisation&#34; at least when I look at
the <a href='https&#58;//lcg-voms.cern.ch&#58;8443/vo/atlas/vomrs' target='_blank' rel='nofollow'>https&#58;//lcg-voms.cern.ch&#58;8443/vo/atlas/vomrs</a> page
I get this message&#58;
&#34;Your current VO membership expiration date is 2013-1-24.&#34;
Also down this page I am logged as&#58;
You are logged in as /DC=org/DC=doegrids/OU=People/CN=Barbara Alvarez Gonzalez 960918
/DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1

but I don&#39;t see any &#34;DN&#34;.

Step3&#58;
Then, I connect to lxplus, I go to /afs/cern.ch/work/b/balvarez&#34; I run&#58;
source /afs/cern.ch/project/gd/LCG-share/current/etc/profile.d/grid_env.sh

I copy the doegrid.p12 files and I do&#58;
openssl pkcs12 -in doegrid.p12 -clcerts -nokeys -out usercert.pem
openssl pkcs12 -in doegrid.p12 -nocerts -out userkey.pem
chmod 400 usercert.pem
chmod 444 userkey.pem
mv  *.pem .globus/

When I run &#34;voms-proxy-init --voms atlas&#34;, I get this error&#58;
<div id='show_1889089033' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1889089033'>[lxplus412] /afs/cern.ch/work/b/balvarez &#62; voms-proxy-init --voms atlas
Cannot find file or dir&#58; /afs/cern.ch/user/b/balvarez/.glite/vomses
Unable to find user certificate.

ERROR&#58; Couldn&#39;t find valid credentials to generate a proxy.
Use --debug for further information.

I am not sure what is wrong. Please let me know if you could help me
with this.

Thank you very much,
Barbara

</div><script type='text/javascript'>
        $('#show_1889089033').click(function() {
            $('#detail_1889089033').slideDown("normal");
            $('#show_1889089033').hide();
            $('#hide_1889089033').show();
        });
        $('#hide_1889089033').click(function() {
            $('#detail_1889089033').slideUp();
            $('#hide_1889089033').hide();
            $('#show_1889089033').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12294">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
