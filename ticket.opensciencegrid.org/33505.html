<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[33505] NOvA CVMFS repository at UNL site is out of date</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=33505" method="post">
<div class="page-header">
    <h3><span class="muted">33505</span> / NOvA CVMFS repository at UNL site is out of date</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Vito Di Benedetto</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Nebraska</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Nova</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Vito Di Benedetto</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier2</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-04-18</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/33505", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33505?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33505?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20NOvA%20CVMFS%20repository%20at%20UNL%20site%20is%20out%20of%20date%20ISSUE%3D33505%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='33505#1493147344'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-25T19:09:04+00:00">Apr 25, 2017 07:09 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1493147344">&nbsp;</a></div><pre>Closing as this is solved.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='33505#1492796036'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T17:33:56+00:00">Apr 21, 2017 05:33 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492796036">&nbsp;</a></div><pre>It&#39;s good to hear that it is fixed, but it is a bit unfortunate that there are no longer any nodes in the failing state.  A basic problem like this should have never existed even in old pre-release builds, and now I wonder if the problem is really fixed or if it was just hidden because of the reload that happens during upgrades.  I guess we&#39;ll just have to keep an eye out for it happening again.</pre></div><div class='update_description'><i onclick="document.location='33505#1492795567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T17:26:07+00:00">Apr 21, 2017 05:26 PM UTC</time><a class="anchor" name="1492795567">&nbsp;</a></div><pre>All, crane/tusker/sandhills workers unfortunately had an old build of cvmfs installed from a local/higher priority yum repo (probably from some prior version testings/experimentation that should of been removed long ago) that was actually recently removed from the repo, but the workers weren&#39;t instructed to upgrade.  The crane/tusker/sandhills workers have been updated to the version from the OSG 3.3 release repo, cvmfs-2.3.5-1.osg33.  Tests on the /cvmfs/nova.opensciencegrid.org/externals/NovaGridUtils/{current.chain,v02.35.version}/NULL_ paths now show both being &#34;VERSION = v02.35&#34; across the workers of the clusters.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Josh Samuelson 3034</pre></div><div class='update_description'><i onclick="document.location='33505#1492794692'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T17:11:32+00:00">Apr 21, 2017 05:11 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492794692">&nbsp;</a></div><pre>Garhan, can you give &#39;dykstra&#39; temporary root access on one of these nodes?</pre></div><div class='update_description'><i onclick="document.location='33505#1492789688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T15:48:08+00:00">Apr 21, 2017 03:48 PM UTC</time><a class="anchor" name="1492789688">&nbsp;</a></div><pre>Sending probe jobs that provide more info I found some worker node with issue in CVMFS.
The worker node are&#58;
c3629.crane.hcc.unl.edu
c3631.crane.hcc.unl.edu

More worker nodes where NOvA jobs failed with the same failure mode, but I didn&#39;t get any probe job there to confirm the issue are&#58;
c5005.sandhills.hcc.unl.edu
c4709.sandhills.hcc.unl.edu
c6121.sandhills.hcc.unl.edu
c4717.sandhills.hcc.unl.edu
c4919.sandhills.hcc.unl.edu
c3111.tusker.hcc.unl.edu
c0308.crane.hcc.unl.edu
c0116.crane.hcc.unl.edu
c0303.crane.hcc.unl.edu
c0302.crane.hcc.unl.edu
c3706.crane.hcc.unl.edu
c0314.crane.hcc.unl.edu
c0301.crane.hcc.unl.edu
c3631.crane.hcc.unl.edu
c0208.crane.hcc.unl.edu
c0312.crane.hcc.unl.edu
c0310.crane.hcc.unl.edu
c0311.crane.hcc.unl.edu
c0316.crane.hcc.unl.edu
c3630.crane.hcc.unl.edu
c3632.crane.hcc.unl.edu
c0307.crane.hcc.unl.edu
c0313.crane.hcc.unl.edu
c4101.crane.hcc.unl.edu
c0619.crane.hcc.unl.edu
c0620.crane.hcc.unl.edu
Eventually there are more.

For these worker nodes the current version of NovaGridUtils is reported as v02.30 instead of v02.35, though the NOvA CVMFS repository revision is the latest (581) and  NovaGridUtils have versions available up to the latest v02.35.
<div id='show_232072533' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_232072533'>
Furthermore the file
/cvmfs/nova.opensciencegrid.org/externals/NovaGridUtils/current.chain/NULL_
has a time stamp (Apr 18 18&#58;55) very close to the time stamp of NovaGridUtils v02.35 that is the real current version, but the content of the file is still referring to 02.30, so this file has not been updated despite the time stamp.
ls -lh /cvmfs/nova.opensciencegrid.org/externals/NovaGridUtils/
[...]
drwxr-xr-x   2 cvmfs cvmfs 4.0K Apr 18 18&#58;55 current.chain
[...]
drwxr-xr-x   3 cvmfs cvmfs 4.0K Apr 18 18&#58;56 v02.35
drwxr-xr-x   2 cvmfs cvmfs 4.0K Apr 18 18&#58;56 v02.35.version

ls -la /cvmfs/nova.opensciencegrid.org/externals/NovaGridUtils/current.chain/
total 10
drwxr-xr-x   2 cvmfs cvmfs 4096 Apr 18 18&#58;55 .
drwxr-xr-x 234 cvmfs cvmfs 4096 Apr 18 18&#58;55 ..
-rw-r--r--   1 cvmfs cvmfs    0 Apr 14  2015 .cvmfscatalog
-rw-r--r--   1 cvmfs cvmfs  274 Apr 18 18&#58;55 NULL_

cat /cvmfs/nova.opensciencegrid.org/externals/NovaGridUtils/current.chain/NULL_
FILE = chain
PRODUCT = NovaGridUtils
CHAIN = current

#*************************************************
#
FLAVOR = NULL
VERSION = v02.30
QUALIFIERS = &#34;&#34;
DECLARER = cvmfsnova
DECLARED = 2017-03-29 16.17.05 GMT
MODIFIER = cvmfsnova
MODIFIED = 2017-03-29 16.17.05 GMT

Similar thing happens also to the package novaproduction which, on these worker nodes, reports as current version v01.72 instead of v01.78.

Please, can you investigate to understand why NOvA CVMFS repository has not been properly updated on those worker nodes?

Thanks in advance,
Vito

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Vito Di Benedetto 2084
</div><script type='text/javascript'>
        $('#show_232072533').click(function() {
            $('#detail_232072533').slideDown("normal");
            $('#show_232072533').hide();
            $('#hide_232072533').show();
        });
        $('#hide_232072533').click(function() {
            $('#detail_232072533').slideUp();
            $('#hide_232072533').hide();
            $('#show_232072533').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33505#1492700197'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-20T14:56:37+00:00">Apr 20, 2017 02:56 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492700197">&nbsp;</a></div><pre>Vito has been sending test jobs and one found a current revision 580 on c3111.tusker.hcc.unl.edu at 20&#58;30 last night, 15 minutes before a nova job started on the same node that found older application code.  So our suspicion is now pointed back to the application.  Let&#39;s leave the ticket open until the problem is resolved, but currently it does not look like a cvmfs problem.</pre></div><div class='update_description'><i onclick="document.location='33505#1492644518'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-19T23:28:38+00:00">Apr 19, 2017 11:28 PM UTC</time><a class="anchor" name="1492644518">&nbsp;</a></div><pre>The Crane/Sandhills/Tusker clusters do not use docker containers -- only our CMS Tier2 (unfortunately known as &#39;Nebraska&#39; to much of OSG, the CEs being named red-*.unl.edu) does that. Even then, the system /cvmfs is mounted in the container so I believe it&#39;s unlikely to be an issue.

Did you have additional hosts that things were failing on in particular we can poke at?

I&#39;ve added Derek Weitzel and Josh Samuelson to this ticket as well for the record.

- Garhan

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='33505#1492638986'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-19T21:56:26+00:00">Apr 19, 2017 09:56 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492638986">&nbsp;</a></div><pre>Garhan,

I don&#39;t think it was a problem with application logic since they don&#39;t have a problem at other sites.  I do not think the problem is solved yet.

You start jobs under docker, correct?  Has anything changed recently in how pilot jobs are started?  I&#39;m wondering if docker might somehow be preventing cvmfs updates from showing up inside a container, for the life of a pilot.  The Fermilab-initiated pilots are not yet invoking the payloads with singularity so we don&#39;t have that complication.

Dave</pre></div><div class='update_description'><i onclick="document.location='33505#1492624190'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-19T17:49:50+00:00">Apr 19, 2017 05:49 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492624190">&nbsp;</a></div><pre>So that sure looked like it was already updated on Monday night at 8&#58;34 pm.  I wonder if it is a problem with the application&#39;s logic on finding the current version.</pre></div><div class='update_description'><i onclick="document.location='33505#1492623687'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-19T17:41:27+00:00">Apr 19, 2017 05:41 PM UTC</time><a class="anchor" name="1492623687">&nbsp;</a></div><pre>Apr 17 13&#58;23&#58;56 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 571
Apr 17 15&#58;00&#58;09 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 572
Apr 17 18&#58;30&#58;07 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 573
Apr 17 18&#58;46&#58;14 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 574
Apr 17 20&#58;34&#58;18 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 575
Apr 18 19&#58;00&#58;08 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 576
Apr 18 19&#58;30&#58;21 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 577
Apr 19 09&#58;00&#58;12 c0314 cvmfs2&#58; (nova.opensciencegrid.org) switched to catalog revision 578

It looks like the entirety of crane has version 578 at this point.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='33505#1492621629'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-19T17:07:09+00:00">Apr 19, 2017 05:07 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492621629">&nbsp;</a></div><pre>Please check attr -qg revision /cvmfs/nova.opensciencegrid.org on c0314.crane.hcc.unl.edu to see what revision it is up to.  It should be now at 578.  There were two more updates to externals/NovaGridUtils yesterday.

If it is now at the correct revision, then check /var/log/messages for when nova.opensciencegrid.org was either updated to a new revision or mounted after 8pm on Monday evening.</pre></div><div class='update_description'><i onclick="document.location='33505#1492543385'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-18T19:23:05+00:00">Apr 18, 2017 07:23 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492543385">&nbsp;</a></div><pre>I take it back.  I forgot that I had to separately check the squid logs of the other two squid processes on the FNAL stratum 1.   In fact all 6 unl.edu squids read that catalog last night before 9pm.</pre></div><div class='update_description'><i onclick="document.location='33505#1492533857'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-18T16:44:17+00:00">Apr 18, 2017 04:44 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1492533857">&nbsp;</a></div><pre>I noticed that the cvmfs root catalog associated with the latest revision of nova.opensciencegrid.org has only been read from the FNAL stratum 1 from one of six squids at Nebraska&#58; red-squid2.unl.edu.  I&#39;m not sure why that would be, but it seems odd.  None of them have read it from the GOC stratum 1.  Here&#39;s the log entry&#58;

129.93.239.151 - - [17/Apr/2017&#58;20&#58;30&#58;09.571 -0500] &#34;GET http&#58;//localhost&#58;8080/cvmfs/nova/data/e9/be36107edcbbedd159a063719989895c343058C HTTP/1.1&#34; 200 4321 TCP_MISS&#58;FIRST_UP_PARENT 0 &#34;- file%20catalog%20at%20nova.opensciencegrid.org&#58;/%20%28e9be36107edcbbedd159a063719989895c343058%29&#34; &#34;-&#34; &#34;cvmfs Fuse 2.3.2&#34;</pre></div><div class='update_description'><i onclick="document.location='33505#1492533409'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-18T16:36:49+00:00">Apr 18, 2017 04:36 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1492533409">&nbsp;</a></div><pre>Hello there,

the NOvA CVMFS repository ( /cvmfs/nova.opensciencegrid.org) seems to be outdated.
Jobs running on UNL can&#39;t find the latest version of the code. The code was updated on yesterday (April 17) at about 8&#58;00 pm CDT.
In particular the packages in /cvmfs/nova.opensciencegrid.org/externals/NovaGridUtils doesn&#39;t have the latest version, i.e. v02.33
On other sites the  NOvA CVMFS repository is updated.
A NOvA job running at&#58; Apr 18 09&#58;50&#58;24 CDT
on the node&#58; c0314.crane.hcc.unl.edu
found version  v02.32 instead of  v02.33 of NovaGridUtils package.

Please, can you check if there is something going on NOvA CVMFS repository?

Thank you,
Vito

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Vito Di Benedetto 2084</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F33505">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 33505});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
