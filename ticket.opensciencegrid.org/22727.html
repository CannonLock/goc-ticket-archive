<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[22727] High failure rate for OSG VO jobs at MIT Tier2</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=22727" method="post">
<div class="page-header">
    <h3><span class="muted">22727</span> / High failure rate for OSG VO jobs at MIT Tier2</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bodhitha Jayatilaka</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">MIT_CMS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">OSG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Bodhitha Jayatilaka</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">CSC</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-11-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS Tier 2 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/22727", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22727?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22727?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20High%20failure%20rate%20for%20OSG%20VO%20jobs%20at%20MIT%20Tier2%20ISSUE%3D22727%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='22727#1415128270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-04T19:11:10+00:00">Nov 4, 2014 07:11 PM UTC</time> by <b>echism</b><a class="anchor" name="1415128270">&nbsp;</a></div><pre>Closing as requested.</pre></div><div class='update_description'><i onclick="document.location='22727#1415114287'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-11-04T15:18:07+00:00">Nov 4, 2014 03:18 PM UTC</time><a class="anchor" name="1415114287">&nbsp;</a></div><pre>Let&#39;s go ahead and close this ticket. The success rate is high once again. Max and I will work on a way to figure out a way to tell when jobs fail due to preemption vs other reasons.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='22727#1414780333'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-31T18:32:13+00:00">Oct 31, 2014 06:32 PM UTC</time> by <b>boj@....</b><a class="anchor" name="1414780333">&nbsp;</a></div><pre>I am away from the lab and will have limited email access until November 2.</pre></div><div class='update_description'><i onclick="document.location='22727#1414780165'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-31T18:29:25+00:00">Oct 31, 2014 06:29 PM UTC</time><a class="anchor" name="1414780165">&nbsp;</a></div><pre>Elizabeth,

I have been clearing them out periodically, and new ones continue to have the same issue. In fact, it appears as if all glideins are now going held on ce02 with a new hold reason [1], after job submission fails. ce01 does not have any glideins going held with that reason, however.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
018 (2490984.000.000) 10/31 05&#58;02&#58;49 Globus job submission failed!
Reason&#58; 22 the job manager failed to create an internal script argument file

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='22727#1414696891'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-30T19:21:31+00:00">Oct 30, 2014 07:21 PM UTC</time> by <b>echism</b><a class="anchor" name="1414696891">&nbsp;</a></div><pre>Did anyone clear out the glideins and monitor the status of new ones?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22727#1414511882'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-28T15:58:02+00:00">Oct 28, 2014 03:58 PM UTC</time><a class="anchor" name="1414511882">&nbsp;</a></div><pre>I&#39;m still seeing a very, very high number of glideins going held on ce02. Currently ce02 is completed starved due to all of the slots going to held glideins, and it looks like the majority of those held glideins happened yesterday and today. I&#39;ve included a lifecycle [1] of some jobs. Of specific note are the &#34;The job&#39;s remote status is unknown&#34; messages, which happened to a large number of glideins at both 10/28 ~3&#58;07AM PST and ~7&#58;57AM PST. Some glideins recover from this 15 minutes later, but I&#39;m seeing a lot that went held, and whose status never became known again and thus they never recovered. ce01 also has a few hundred held glideins with similar hold reasons and issues, just not nearly as many as ce02.

I&#39;m not sure how much these held issues are related to the high failure rate problems, but the fact that this is routinely happening on both ce01 and ce02 (with ce02 tending to be far worse than ce01) makes me think it could be. I&#39;m having to clean out held glideins every few days at this point, which at the very least, points to some larger issue.

[1]
000 (2482399.008.000) 10/27 17&#58;46&#58;09 Job submitted from host&#58; &#60;169.228.38.36&#58;40180&#62;
...
017 (2482399.008.000) 10/27 17&#58;46&#58;21 Job submitted to Globus
RM-Contact&#58; ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
JM-Contact&#58; ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
Can-Restart-JM&#58; 1
...
027 (2482399.008.000) 10/27 17&#58;46&#58;21 Job submitted to grid resource
GridResource&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
GridJobId&#58; gt5 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0002.cmsaf.mit.edu&#58;43486/16433981792783704531/14161851788168548786/' target='_blank' rel='nofollow'>https&#58;//t2srv0002.cmsaf.mit.edu&#58;43486/16433981792783704531/14161851788168548786/</a>
...
001 (2482399.008.000) 10/27 18&#58;06&#58;33 Job executing on host&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
...
029 (2482399.008.000) 10/28 07&#58;57&#58;23 The job&#39;s remote status is unknown
...
012 (2482399.008.000) 10/28 07&#58;58&#58;25 Job was held.
Globus error 155&#58; the job manager could not stage out a file
Code 2 Subcode 155
...
013 (2482399.008.000) 10/28 08&#58;09&#58;35 Job was released.
via condor_release (by user gfactory)
...
030 (2482399.008.000) 10/28 08&#58;10&#58;12 The job&#39;s remote status is known again
...
001 (2482399.008.000) 10/28 08&#58;10&#58;12 Job executing on host&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
...
005 (2482399.008.000) 10/28 08&#58;10&#58;18 Job terminated.
(1) Normal termination (return value 0)
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Remote Usage
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Local Usage
<div id='show_700965210' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_700965210'>Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Total Remote Usage
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Total Local Usage
0  -  Run Bytes Sent By Job
0  -  Run Bytes Received By Job
0  -  Total Bytes Sent By Job
0  -  Total Bytes Received By Job

[2]
000 (2481148.004.000) 10/27 06&#58;40&#58;12 Job submitted from host&#58; &#60;169.228.38.36&#58;40180&#62;
...
017 (2481148.004.000) 10/27 06&#58;40&#58;21 Job submitted to Globus
RM-Contact&#58; ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
JM-Contact&#58; ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
Can-Restart-JM&#58; 1
...
027 (2481148.004.000) 10/27 06&#58;40&#58;21 Job submitted to grid resource
GridResource&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
GridJobId&#58; gt5 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0002.cmsaf.mit.edu&#58;43486/16434161010359486666/14161851788168548786/' target='_blank' rel='nofollow'>https&#58;//t2srv0002.cmsaf.mit.edu&#58;43486/16434161010359486666/14161851788168548786/</a>
...
001 (2481148.004.000) 10/27 07&#58;01&#58;48 Job executing on host&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
...
029 (2481148.004.000) 10/28 03&#58;07&#58;43 The job&#39;s remote status is unknown
...
030 (2481148.004.000) 10/28 03&#58;15&#58;29 The job&#39;s remote status is known again
...
029 (2481148.004.000) 10/28 07&#58;57&#58;23 The job&#39;s remote status is unknown
...
012 (2481148.004.000) 10/28 07&#58;57&#58;55 Job was held.
Job failed, no reason given by GRAM server
Code 2 Subcode 0

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659
</div><script type='text/javascript'>
        $('#show_700965210').click(function() {
            $('#detail_700965210').slideDown("normal");
            $('#show_700965210').hide();
            $('#hide_700965210').show();
        });
        $('#hide_700965210').click(function() {
            $('#detail_700965210').slideUp();
            $('#hide_700965210').hide();
            $('#show_700965210').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='22727#1414438120'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-27T19:28:40+00:00">Oct 27, 2014 07:28 PM UTC</time><a class="anchor" name="1414438120">&nbsp;</a></div><pre>I don&#39;t understand what plot 2) is showing. If I change the time window to cover 2 days, I see an ~8 hour period where &#34;Claimed&#34; is several hundred slots below &#34;Running.&#34; If preemption is causing the dips, shouldn&#39;t the time window be much shorter?

As far as OSG VO jobs go, the reported failure rate has been much lower over the weekend.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='22727#1414437968'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-27T19:26:08+00:00">Oct 27, 2014 07:26 PM UTC</time> by <b>echism</b><a class="anchor" name="1414437968">&nbsp;</a></div><pre>Max,

Do you have anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22727#1414164544'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-24T15:29:04+00:00">Oct 24, 2014 03:29 PM UTC</time><a class="anchor" name="1414164544">&nbsp;</a></div><pre>There was some discussion done off ticket between Mats and Jeff Dost, as I don&#39;t think Jeff saw this ticket. The conclusion that was reached was that this may be due to MIT_CMS preempting glideins to run their own jobs. I&#39;ve quoted what Jeff said below [1] [2].

Additionally, I&#39;m still seeing some problems with glideins going held on both ce01 (70 total) and ce02 (~350 total between the regular queue and highmem). This is happening to not just OSG glideins, but also CMS and NEBioGrid glideins. All of the held glideins on ce01 and about 2/3rds on ce02 have the same hold reason [3], while the other third on ce02 have a different hold reason [4].

I have been noticing that glideins going held does seem to be recurring every few days. I&#39;ll clean out the held glideins, and within a day or two, at least another 50-100 per CE have gone held again. Of course, this is only a fraction of the total number of jobs running on the site, but it does seem to be a recurring issue. I&#39;ve included some GridJobIds [5] from ce01 for glideins that have gone held, if someone from the site wants to take a look at them.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
I did some manual counting on all OSG pilots from both the SDSC and GOC factories.  The total number of glideins that terminated on 10/14 from all MIT entries is 2680.  This is roughly what Gratia is showing for pilots exiting with status 0  (4000 - 1500 = 2500).

glideins should never under any circumstance return an error code besides 0.  Even when things go wrong, like validation scripts exiting with non-zero exit status, the glidein reports the original codes into our logs but then ultimately exits with 0.  Thus, I expect this non-zero exit code is a weird gratia quirk.

Perhaps you are right that gratia records some strange code due to site preemption.  In those cases we don&#39;t get logs back, so I don&#39;t expect preempted glideins to be included in my exit code count. Unfortunately if that is happening, we get nothing returned back on the factory side, so we can&#39;t give you any more information.

[2]
Also, comparing total number of glideins running with what your frontend
is reporting back as &#34;claimed&#34; in your collector is pretty good evidence
of site preemption&#58;
<a href='http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryStatus.html?entry=CMS_T2_US_MIT_ce01&frontend=OSG_Flock_frontend&infoGroup=running&elements=StatusRunning' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryStatus.html?entry=CMS_T2_US_MIT_ce01&frontend=OSG_Flock_frontend&infoGroup=running&elements=StatusRunning</a>,ClientGlideRunning,ClientGlideIdle,&rra=2&window_min=0&window_max=0&timezone=-7

(the purple line should always be matching the green area, but note the
frequent dips)

I think MIT is preempting your glideins constantly, but other than this
plot we have no other evidence in our logs.

[3]
Job failed, no reason given by GRAM server

[4]
Globus error 22&#58; the job manager failed to create an internal script argument file

[5]
<div id='show_1087249286' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1087249286'>GridJobId&#58; gt5 ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16434114818164981381/8982072214648005290/' target='_blank' rel='nofollow'>https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16434114818164981381/8982072214648005290/</a>
GridJobId&#58; gt5 ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16434115914958358336/8982072214648005290/' target='_blank' rel='nofollow'>https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16434115914958358336/8982072214648005290/</a>
GridJobId&#58; gt5 ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16434115913538540026/8982072214648005290/' target='_blank' rel='nofollow'>https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16434115913538540026/8982072214648005290/</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659
</div><script type='text/javascript'>
        $('#show_1087249286').click(function() {
            $('#detail_1087249286').slideDown("normal");
            $('#show_1087249286').hide();
            $('#hide_1087249286').show();
        });
        $('#hide_1087249286').click(function() {
            $('#detail_1087249286').slideUp();
            $('#hide_1087249286').hide();
            $('#show_1087249286').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='22727#1414162435'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-24T14:53:55+00:00">Oct 24, 2014 02:53 PM UTC</time><a class="anchor" name="1414162435">&nbsp;</a></div><pre>In the last few days, the number of jobs with exit code 0 have increased at MIT_CMS. I&#39;m unaware of any action that was taken though.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='22727#1414098338'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-23T21:05:38+00:00">Oct 23, 2014 09:05 PM UTC</time> by <b>echism</b><a class="anchor" name="1414098338">&nbsp;</a></div><pre>Does anyone have an update on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22727#1413909652'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-21T16:40:52+00:00">Oct 21, 2014 04:40 PM UTC</time><a class="anchor" name="1413909652">&nbsp;</a></div><pre>Sorry, I misread the beginning of this ticket and thought the concern was over user jobs failing. In regards to glidein failures, a small amount have just started going held on ce01 [1], while a majority have gone held on ce02 [2]. These are all from glideins submitted on 10/19, so I&#39;m going to clear them out and see what happens.

Additionally, I&#39;m still seeing the rundiff issues that I mentioned to you via email a few weeks back. It&#39;s most evident on the factory monitoring pages for both CEs [3]. Ideally, the purple Claimed total and the green Running total should be as close as possible, but instead on both CEs I&#39;m seeing large discrepancies. I can&#39;t seem to find any reason for these discrepancies. All of the glideins for ce01 are returning log files and none of those logs have errors that would point to why glideins are failing. For ce02, I am seeing issues with some glideins not having their logs returned to us, so I can&#39;t troubleshoot what&#39;s going wrong with them.

There are a few additional errors I&#39;m seeing pop up occasionally in the startd logs for some glideins [4][5], but those glideins all finished successfully so I&#39;m only including them just in case.

[1]
000 (2416124.002.000) 10/20 03&#58;22&#58;43 Job submitted from host&#58; &#60;169.228.38.36&#58;33297&#62;
...
017 (2416124.002.000) 10/20 03&#58;22&#58;52 Job submitted to Globus
RM-Contact&#58; ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor
JM-Contact&#58; ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor
Can-Restart-JM&#58; 1
...
027 (2416124.002.000) 10/20 03&#58;22&#58;52 Job submitted to grid resource
GridResource&#58; gt2 ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor
GridJobId&#58; gt5 ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16433990562135645706/8982072214648005290/' target='_blank' rel='nofollow'>https&#58;//t2srv0007.cmsaf.mit.edu&#58;36720/16433990562135645706/8982072214648005290/</a>
...
001 (2416124.002.000) 10/20 03&#58;24&#58;43 Job executing on host&#58; gt2 ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor
...
012 (2416124.002.000) 10/21 05&#58;10&#58;19 Job was held.
Job failed, no reason given by GRAM server
Code 2 Subcode 0

[2]
000 (2461761.008.000) 10/20 00&#58;27&#58;54 Job submitted from host&#58; &#60;169.228.38.36&#58;40180&#62;
...
017 (2461761.008.000) 10/20 00&#58;28&#58;12 Job submitted to Globus
RM-Contact&#58; ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
JM-Contact&#58; ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
Can-Restart-JM&#58; 1
...
027 (2461761.008.000) 10/20 00&#58;28&#58;12 Job submitted to grid resource
GridResource&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
GridJobId&#58; gt5 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor <a href='https&#58;//t2srv0002.cmsaf.mit.edu&#58;43486/16433963074154181026/14161851788168548786/' target='_blank' rel='nofollow'>https&#58;//t2srv0002.cmsaf.mit.edu&#58;43486/16433963074154181026/14161851788168548786/</a>
<div id='show_2113727575' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2113727575'>...
001 (2461761.008.000) 10/20 02&#58;34&#58;02 Job executing on host&#58; gt2 ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor
...
012 (2461761.008.000) 10/21 07&#58;14&#58;13 Job was held.
Job failed, no reason given by GRAM server
Code 2 Subcode 0

[3]
<a href='http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryStatus.html?entry=CMS_T2_US_MIT_ce01&frontend=OSG_Flock_frontend' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryStatus.html?entry=CMS_T2_US_MIT_ce01&frontend=OSG_Flock_frontend</a>
<a href='http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryStatus.html?entry=CMS_T2_US_MIT_ce02&frontend=OSG_Flock_frontend' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryStatus.html?entry=CMS_T2_US_MIT_ce02&frontend=OSG_Flock_frontend</a>

[4]
10/20/14 12&#58;36&#58;28 (pid&#58;27528) Changing activity&#58; Idle -&#62; Benchmarking
10/20/14 12&#58;36&#58;28 (pid&#58;27528) BenchMgr&#58;StartBenchmarks()
10/20/14 12&#58;36&#58;28 (pid&#58;27528) Error&#58; can&#39;t find resource with ClaimId (&#60;18.12.8.163&#58;57681&#62;#1413741184#1#...) for 444 (ACTIVATE_CLAIM)
10/20/14 12&#58;36&#58;28 (pid&#58;27528) Error&#58; can&#39;t find resource with ClaimId (&#60;18.12.8.163&#58;57681&#62;#1413741184#1#...) -- perhaps this claim was already removed?
10/20/14 12&#58;36&#58;28 (pid&#58;27528) Error&#58; problem finding resource for 404 (DEACTIVATE_CLAIM_FORCIBLY)
10/20/14 12&#58;36&#58;32 (pid&#58;27528) State change&#58; RunBenchmarks is TRUE
10/20/14 12&#58;36&#58;32 (pid&#58;27528) Changing activity&#58; Benchmarking -&#62; Idle

[5]
10/20/14 06&#58;18&#58;03 (pid&#58;31592) Updated job ClassAd&#58;
10/20/14 06&#58;20&#58;14 (pid&#58;31592) attempt to connect to &#60;192.170.227.195&#58;52943&#62; failed&#58; Connection refused (connect errno = 111).
10/20/14 06&#58;20&#58;14 (pid&#58;31592) Failed to connect to schedd &#60;192.170.227.195&#58;52943&#62;
10/20/14 06&#58;20&#58;19 (pid&#58;31592) attempt to connect to &#60;192.170.227.195&#58;52943&#62; failed&#58; Connection refused (connect errno = 111).
10/20/14 06&#58;20&#58;19 (pid&#58;31592) Failed to connect to schedd &#60;192.170.227.195&#58;52943&#62;
...above two lines repeat...
10/20/14 06&#58;23&#58;06 (pid&#58;31592) attempt to connect to &#60;192.170.227.195&#58;52943&#62; failed&#58; Connection refused (connect errno = 111).
10/20/14 06&#58;23&#58;06 (pid&#58;31592) Failed to connect to schedd &#60;192.170.227.195&#58;52943&#62;
10/20/14 06&#58;23&#58;07 (pid&#58;31592) State change&#58; KILL is TRUE
10/20/14 06&#58;23&#58;07 (pid&#58;31592) Changing activity&#58; Vacating -&#62; Killing
10/20/14 06&#58;23&#58;11 (pid&#58;31592) attempt to connect to &#60;192.170.227.195&#58;52943&#62; failed&#58; Connection refused (connect errno = 111).
10/20/14 06&#58;23&#58;11 (pid&#58;31592) Failed to connect to schedd &#60;192.170.227.195&#58;52943&#62;
...above two lines repeat...
10/20/14 06&#58;23&#58;36 (pid&#58;31592) attempt to connect to &#60;192.170.227.195&#58;52943&#62; failed&#58; Connection refused (connect errno = 111).
10/20/14 06&#58;23&#58;36 (pid&#58;31592) Failed to connect to schedd &#60;192.170.227.195&#58;52943&#62;
10/20/14 06&#58;23&#58;37 (pid&#58;31592) starter (pid 31749) is not responding to the request to hardkill its job.  The startd will now directly hard kill the starter and all its decendents.
10/20/14 06&#58;23&#58;37 (pid&#58;31592) Starter pid 31749 died on signal 9 (signal 9 (Killed))
10/20/14 06&#58;23&#58;37 (pid&#58;31592) State change&#58; starter exited
10/20/14 06&#58;23&#58;37 (pid&#58;31592) State change&#58; No preempting claim, returning to owner
10/20/14 06&#58;23&#58;37 (pid&#58;31592) Changing state and activity&#58; Preempting/Killing -&#62; Owner/Idle

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659
</div><script type='text/javascript'>
        $('#show_2113727575').click(function() {
            $('#detail_2113727575').slideDown("normal");
            $('#show_2113727575').hide();
            $('#hide_2113727575').show();
        });
        $('#hide_2113727575').click(function() {
            $('#detail_2113727575').slideUp();
            $('#hide_2113727575').hide();
            $('#show_2113727575').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='22727#1413838174'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-20T20:49:34+00:00">Oct 20, 2014 08:49 PM UTC</time><a class="anchor" name="1413838174">&nbsp;</a></div><pre>Brendan, note that these are &#34;Batch&#34; jobs, so what we really looking for is glideins failing.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22727#1413837326'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-20T20:35:26+00:00">Oct 20, 2014 08:35 PM UTC</time> by <b>echism</b><a class="anchor" name="1413837326">&nbsp;</a></div><pre>Hello all,

Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='22727#1413563790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-17T16:36:30+00:00">Oct 17, 2014 04:36 PM UTC</time><a class="anchor" name="1413563790">&nbsp;</a></div><pre>The glidein job itself finished successfully, this is just the only thing I can find to point to why user jobs are not finishing successfully. If it&#39;s just a red herring, then I&#39;m not seeing much else in the logs for why user jobs have a high failure rate. I&#39;ll continue looking.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='22727#1413562928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-17T16:22:08+00:00">Oct 17, 2014 04:22 PM UTC</time><a class="anchor" name="1413562928">&nbsp;</a></div><pre>Brendan,

Did that job exit with non-zero exit code? It should not have. The startd exited with exit-code 99 due to the DaemonShutdown expression evaluating true, but the glideinwms wrapper should have converted that to exit-code 0.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22727#1413561746'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-17T16:02:26+00:00">Oct 17, 2014 04:02 PM UTC</time><a class="anchor" name="1413561746">&nbsp;</a></div><pre>That was the ending portion for one of the failed starter instances. I&#39;ll attach the full starter log for one of the glideins. As you&#39;ll be able to see, for some instances of the starter, it runs fine, others, it fails after the &#39;ERROR &#34;Failed to transfer files&#34;&#39; portion. I&#39;ll also attach the startd log for that same job, but with the classads removed to make it a bit easier to read. Additionally, after clearing out the held glideins yesterday on ce02, I&#39;m now seeing the exact same issues in the starter logs for it as for ce01.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='22727#1413491097'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-16T20:24:57+00:00">Oct 16, 2014 08:24 PM UTC</time><a class="anchor" name="1413491097">&nbsp;</a></div><pre>I have contacted OSG-Connect about the file descriptor problem, but I&#39;m wondering if that is fatal. There are other schedds in the pool, and the startd should have been able to ask for jobs from another. Or is [2] not the end of the log?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22727#1413484553'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-16T18:35:53+00:00">Oct 16, 2014 06:35 PM UTC</time><a class="anchor" name="1413484553">&nbsp;</a></div><pre>For MIT_CMS ce01 [1], it appears as if the failures are due to the condor starter exiting. The starter log errors largely look like [2], and cover a high percentage of the OSG jobs running at the site. For MIT_CMS ce02 [3], it appears as if all OSG glideins went held [4] around 10/2 and kept ce02 from running any more OSG jobs. I&#39;ve cleared out those stale held glideins, and I&#39;ll check back on it later to see if new glideins are failing due to the same reasons as ce01.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
gatekeeper=&#34;ce01.cmsaf.mit.edu&#58;2119/jobmanager-condor&#34;
gridtype=&#34;gt5&#34;
rsl=&#34;(queue=cms)(jobtype=single)&#34;

[2]
10/16/14 13&#58;24&#58;09 (pid&#58;15391) Initialized IO Proxy.
10/16/14 13&#58;24&#58;09 (pid&#58;15391) Done setting resource limits
10/16/14 13&#58;24&#58;09 (pid&#58;15391) FILETRANSFER&#58; &#34;/condor/execute/dir_28155/glide_d9CZiu/client/irodsplugin/irodsglidein_plugin.py -classad&#34; did not produce any output, ignoring
10/16/14 13&#58;24&#58;09 (pid&#58;15391) FILETRANSFER&#58; failed to add plugin &#34;/condor/execute/dir_28155/glide_d9CZiu/client/irodsplugin/irodsglidein_plugin.py&#34; because&#58; FILETRANSFER&#58;1&#58;&#34;/condor/execute/dir_28155/glide_d9CZiu/client/irodsplugin/irodsglidein_plugin.py -classad&#34; did not produce any output, ignoring
10/16/14 13&#58;24&#58;10 (pid&#58;15391) FILETRANSFER&#58; &#34;/condor/execute/dir_28155/glide_d9CZiu/main/condor/libexec/curl_plugin -classad&#34; did not produce any output, ignoring
10/16/14 13&#58;24&#58;10 (pid&#58;15391) FILETRANSFER&#58; failed to add plugin &#34;/condor/execute/dir_28155/glide_d9CZiu/main/condor/libexec/curl_plugin&#34; because&#58; FILETRANSFER&#58;1&#58;&#34;/condor/execute/dir_28155/glide_d9CZiu/main/condor/libexec/curl_plugin -classad&#34; did not produce any output, ignoring|FILETRANSFER&#58;1&#58;&#34;/condor/execute/dir_28155/glide_d9CZiu/client/irodsplugin/irodsglidein_plugin.py -classad&#34; did not produce any output, ignoring
10/16/14 13&#58;24&#58;10 (pid&#58;15494) Request to transfer files for 1261962.20 (/stash/user/lfzhao/work/epmi/test_sample_casp10/cnfsampling.epmi/T0740-D1.input.tgz) was rejected by schedd at &#60;192.170.227.195&#58;46552&#62;&#58; file descriptor safety level exceeded&#58;  limit 820,  registered socket count 810,  fd 820
10/16/14 13&#58;24&#58;10 (pid&#58;15391) File transfer failed (status=0).
10/16/14 13&#58;24&#58;10 (pid&#58;15391) ERROR &#34;Failed to transfer files&#34; at line 2129 in file /slots/03/dir_26805/userdir/src/condor_starter.V6.1/jic_shadow.cpp
10/16/14 13&#58;24&#58;10 (pid&#58;15391) ShutdownFast all jobs.
10/16/14 13&#58;24&#58;10 (pid&#58;15391) condor_read() failed&#58; recv(fd=11) returned -1, errno = 104 Connection reset by peer, reading 21 bytes from &#60;192.170.227.195&#58;48964&#62;.
10/16/14 13&#58;24&#58;10 (pid&#58;15391) IO&#58; Failed to read packet header

[3]
gatekeeper=&#34;ce02.cmsaf.mit.edu&#58;2119/jobmanager-condor&#34;
gridtype=&#34;gt5&#34;
rsl=&#34;(queue=default)(jobtype=single)&#34;

[4]
Hold message&#58;
Job failed, no reason given by GRAM server

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='22727#1413481765'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-16T17:49:25+00:00">Oct 16, 2014 05:49 PM UTC</time><a class="anchor" name="1413481765">&nbsp;</a></div><pre>A better graph might be&#58;

<a href='http&#58;//gratiaweb.grid.iu.edu/gratia/xml/glidein_exitcode_user_bar?facility=.*&probe=.*mit.*&resource-type=%5EBatch%24&vo=OSG%7Cosg&grid=.*&user=.*&endtime=2014-10-16+23%3A59%3A59&exclude-vo=Unknown%7Cunknown%7Cother&includeFailed=true&exclude-role=NONE&span=86400&role=.*&starttime=2014-10-03+00%3A00%3A00&exclude-facility=NONE&exclude-user=NONE&includeSuccess=true' target='_blank' rel='nofollow'>http&#58;//gratiaweb.grid.iu.edu/gratia/xml/glidein_exitcode_user_bar?facility=.*&probe=.*mit.*&resource-type=%5EBatch%24&vo=OSG%7Cosg&grid=.*&user=.*&endtime=2014-10-16+23%3A59%3A59&exclude-vo=Unknown%7Cunknown%7Cother&includeFailed=true&exclude-role=NONE&span=86400&role=.*&starttime=2014-10-03+00%3A00%3A00&exclude-facility=NONE&exclude-user=NONE&includeSuccess=true</a>

I will ask the GlideinWMS factory team to take a look at their side.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='22727#1413314713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T19:25:13+00:00">Oct 14, 2014 07:25 PM UTC</time><a class="anchor" name="1413314713">&nbsp;</a></div><pre>We need to see the error logs of the jobs that report failure, otherwise we do not know what the problem is.
--Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='22727#1413297192'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T14:33:12+00:00">Oct 14, 2014 02:33 PM UTC</time> by <b>rynge@....</b><a class="anchor" name="1413297192">&nbsp;</a></div><pre>I will be on vacation 10/9 to 10/15.

If you have something urgent regarding Open Science Grid, please contact OSG User Support at user-support@....

If you have something urgent regarding XSEDE ECSS, please contact the ECSS workflows group at ecss-workflows@....

If you have something urgent regarding Pegasus, please contact Karan Vahi at vahi@....</pre></div><div class='update_description'><i onclick="document.location='22727#1413297010'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T14:30:10+00:00">Oct 14, 2014 02:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1413297010">&nbsp;</a></div><pre>There has been an unusually high failure rate for OSG VO jobs at MIT (CE MIT_CMS and MIT_CMS_2)&#58;

<a href='http&#58;//gratiaweb.grid.iu.edu/gratia/xml/vo_wall_efficiency_summary?facility=.*&probe=.*&resource-type=%5EBatch%24&vo=osg%7COSG.*&user=.*&endtime=2014-10-13+23%3A59%3A59&exclude-vo=Unknown%7Cunknown%7Cother&includeFailed=true&exclude-role=NONE&span=86400&min_hours=0&role=.*&starttime=2014-10-05+00%3A00%3A00&exclude-facility=NONE%7CGeneric%7CObsolete&exclude-user=NONE&includeSuccess=true' target='_blank' rel='nofollow'>http&#58;//gratiaweb.grid.iu.edu/gratia/xml/vo_wall_efficiency_summary?facility=.*&probe=.*&resource-type=%5EBatch%24&vo=osg%7COSG.*&user=.*&endtime=2014-10-13+23%3A59%3A59&exclude-vo=Unknown%7Cunknown%7Cother&includeFailed=true&exclude-role=NONE&span=86400&min_hours=0&role=.*&starttime=2014-10-05+00%3A00%3A00&exclude-facility=NONE%7CGeneric%7CObsolete&exclude-user=NONE&includeSuccess=true</a>

This has been on-going for more than a week now. For jobs ending on 10/13, 429 out of 9188 showed exit code 0 on MIT_CMS_2 and 303 out of 5366 on MIT_CMS. During the same time period there has been no unusual failure rate for CMS jobs at the same CEs.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F22727">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 22727});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
