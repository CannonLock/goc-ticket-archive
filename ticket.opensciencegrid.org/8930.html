<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[8930] Transfers from atlasproddisk at OU_OCHEP_SWT2 failing</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=8930" method="post">
<div class="page-header">
    <h3><span class="muted">8930</span> / Transfers from atlasproddisk at OU_OCHEP_SWT2 failing</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Pavol Strizenec</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-08-13</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Tanya Levshina <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">Alex Sim <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=60272">60272</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=17568">17568</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/8930", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='8930#1281625379'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-12T15:02:59+00:00">Aug 12, 2010 03:02 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281625379">&nbsp;</a></div><pre>Hi all,

after reconfiguring our SE to store adler32 checksums on disk now, and several
other file system tunings, transfers are succeeding now, so I&#39;m closing this
ticket.

Thanks,

Horst
-- by hs@.... at Thu Aug 12 15&#58;02&#58;49 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1281458899'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-10T16:48:19+00:00">Aug 10, 2010 04:48 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281458899">&nbsp;</a></div><pre>Hi Junmin,

<font color='#7F7E6F'>&#62; Something needs to be cleared up here. I am not &#34;Pavol Strizenec&#34;.</font>

don&#39;t worry about that, that&#39;s an artifact because the original ATLAS GGUS
ticket was created by Pavol, and that&#39;s how it was transferred to the
OSG ticket, so all followup replies will be prepended with that greeting,
regardless of who is replying. The joys of tickets exchanges, I guess. &#58;)

Cheers,

Horst

-- by hs@.... at Tue Aug 10 16&#58;48&#58;10 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1281458528'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-10T16:42:08+00:00">Aug 10, 2010 04:42 PM UTC</time> by <b>jgu@....</b><a class="anchor" name="1281458528">&nbsp;</a></div><pre>Neha,

Something needs to be cleared up here. I am not &#34;Pavol Strizenec&#34;.

- Junmin
On 8/10/2010 7&#58;50 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8930#1281451690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-10T14:48:10+00:00">Aug 10, 2010 02:48 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1281451690">&nbsp;</a></div><pre>**An update was made to this Ticket based on an update made through email to dynamically-linked Ticket #8961 in Project Open Science Grid**

Alex

He is already on cc list

-neha
On Aug 9, 2010, at 5&#58;27 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8930#1281392828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-09T22:27:08+00:00">Aug 9, 2010 10:27 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1281392828">&nbsp;</a></div><pre>Hi Horst,

Please add jgu@.... to the ticket.
It&#39;s good to hear that it&#39;s working.

-- Alex

On 8/9/10 2&#58;31 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8930#1281389492'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-09T21:31:32+00:00">Aug 9, 2010 09:31 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281389492">&nbsp;</a></div><pre>Hi again,

I think I figured it out! Well, Patrick did. I just talked to him,
and he suggested to just run the adler32 command as root with sudo,
rather than trying to figure out which user is calling it, so I added

daemon     ALL=(root) NOPASSWD&#58; /storage/app/gridapp/adler32/adler32.py,
/storage/app/gridapp/adler32/calc_adler32.py

to our /etc/sudoers, and then

hexChecksumCommand=sudo /storage/app/gridapp/adler32/adler32.py

and now it runs, and while the first time it took longer than I expected --
1 minute for a 3 GB file, while running it by hand only too 6 seconds? --
the second time around it finished in 15 seconds, which is a lot better!

So Hiro, can you please run some more copy tests against OU,
and see if things are scaling better now?

Please start gently, with maybe 10 parallel transfers?

Thanks a lot,

Horst

-- by hs@.... at Mon Aug 09 21&#58;31&#58;24 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1281387234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-09T20:53:54+00:00">Aug 9, 2010 08:53 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281387234">&nbsp;</a></div><pre>Hi again,

after looking at this some more, I&#39;m thinking that the sudoers entry I have,

Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv, /bin/cp, /bin/ls,
/storage/app/gridapp/adler32/adler32.py,
/storage/app/gridapp/adler32/calc_adler32.py
Runas_Alias SRM_USR = ALL, !root
daemon     ALL=(SRM_USR) NOPASSWD&#58; SRM_CMD

should be correct, but I need to find the proper sudo expression
in bestman.rc to get this to work, but I&#39;m not sure how. Can someone
please help with that?

Right now I have this&#58;

hexChecksumCommand=/storage/app/gridapp/adler32/adler32.py

which runs the script properly, but it runs it as daemon,
and therefore it doesn&#39;t have permission to set the adler32 attribute, right?

So how do we change this to get it to work? I guess the problem I&#39;m seeing
is that I don&#39;t know which user to sudo to, since I don&#39;t know off hand
who called bestman to begin with. Is that known as a variable somehow?

How do people do this who run xrootd, GPFS, or ext4 file systems?

Thanks a lot,

Horst

-- by hs@.... at Mon Aug 09 20&#58;53&#58;46 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1281366187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-09T15:03:07+00:00">Aug 9, 2010 03:03 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1281366187">&nbsp;</a></div><pre>**An update was made to this Ticket based on an update made through email to dynamically-linked Ticket #8961 in Project Open Science Grid**

Done. I have linked 8961 to 8930

-neha
On Aug 8, 2010, at 3&#58;57 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8930#1281223337'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-07T23:22:17+00:00">Aug 7, 2010 11:22 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281223337">&nbsp;</a></div><pre>Hi all,

well, we&#39;re making progress, but we&#39;re not quite there yet.

We couldn&#39;t do the Lustre upgrade last week because the new version isn&#39;t
ready for production yet, hopefully in a week or two. In the mean time,
we&#39;ve worked with the DDN people on tuning our Lustre file system,
and I think we&#39;re making progress. More on that soon.

We&#39;ve also got extended attributes to work with Lustre, so now we can save
the adler32 checksums for each file, therefore we won&#39;t have to calculate
them multiple times. I&#39;ve started a background process to do that for
all files in all space tokens, so that should help improve the situation.

The only problem is that while our script works fine on
the command line -- and by OUR script I mean an adaptation of
Saul&#39;s, Charles&#39;, and Doug&#39;s scripts, so thanks everybody! --
for regular users and root -- i.e., we can set the extended attribute
for a file owned by a user when the script runs as that user or root --
we can&#39;t get it to work with bestman yet, which is presumably because
bestman runs as daemon, and therefore when the script runs, daemon
doesn&#39;t have permission to set the attribute (just like a regular user
who doesn&#39;t own the file doesn&#39;t, so that part is perfectly fine).

When I try running it from bestman and getting/setting the checksum
that way, I&#39;m getting an error&#58;

ERROR&#62;error setting adler32 for /storage/data/tmp/hs/onegiga
2010-08-07T17&#58;29&#58;28.248 CDT OUTPUT&#62;c02d0001

Which is the same error I&#39;m getting when I run it as a user
who doesn&#39;t own the file, so again, that&#39;s not surprising.

I tried playing around with sudo and adding the checksumming scripts
to the list of bestman allowed scripts (Cmnd_Alias SRM_CMD), but that
<div id='show_70629678' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_70629678'>didn&#39;t seem to help. Or maybe I&#39;m just doing it wrong? I added it like
this&#58;

Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv, /bin/cp, /bin/ls,
/storage/app/gridapp/adler32/adler32.py,
/storage/app/gridapp/adler32/calc_adler32.py
Runas_Alias SRM_USR = ALL, !root
daemon     ALL=(SRM_USR) NOPASSWD&#58; SRM_CMD

Any ideas how to get this working?

I&#39;m including Saul and Doug in this email, since they obviously
did get it working at BU and ANL with GPFS and ext4, respectively.

Did you have to do anything special in the bestman configs
to get this to work? Or do GPFS and ext4 handle these permissions
and/or extended attributes just differently?

Thanks a lot,

Horst

-- by hs@.... at Sat Aug 07 23&#58;22&#58;08 UTC 2010
</div><script type='text/javascript'>
        $('#show_70629678').click(function() {
            $('#detail_70629678').slideDown("normal");
            $('#show_70629678').hide();
            $('#hide_70629678').show();
        });
        $('#hide_70629678').click(function() {
            $('#detail_70629678').slideUp();
            $('#hide_70629678').hide();
            $('#show_70629678').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='8930#1281107723'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-06T15:15:23+00:00">Aug 6, 2010 03:15 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1281107723">&nbsp;</a></div><pre>Thanks for the update Horst. I have  now added Alex to the list.

-Neha</pre></div><div class='update_description'><i onclick="document.location='8930#1281106660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-06T14:57:40+00:00">Aug 6, 2010 02:57 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281106660">&nbsp;</a></div><pre>HI Neha,

yes, Alex should definitely be involved. And I thought he was, since he
replied to earlier emails. Maybe he got dropped somehow?

We&#39;re currently working with the DDN people to implement storing
the adler32 checksum in an extended Lustre file attribute,
which supposedly is possible, and should help our situation greatly,
so hopefully we&#39;ll have an update on this by Monday!

Thanks,

Horst

-- by hs@.... at Fri Aug 06 14&#58;57&#58;32 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1281106309'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-06T14:51:49+00:00">Aug 6, 2010 02:51 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1281106309">&nbsp;</a></div><pre>I don&#39;t see Alex on the contact list for this ticket. Shouldn&#39;t he be involved?

-neha</pre></div><div class='update_description'><i onclick="document.location='8930#1280512061'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-30T17:47:41+00:00">Jul 30, 2010 05:47 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1280512061">&nbsp;</a></div><pre>Hi Elizabeth,

yes, we&#39;re still working on this with the SRM and OSG-STORAGE experts,
as well as with the DDN experts. We&#39;ll keep you posted as soon as we
find out something new!

Thanks,

Horst

-- by hs@.... at Fri Jul 30 17&#58;47&#58;31 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1280511058'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-30T17:30:58+00:00">Jul 30, 2010 05:30 PM UTC</time> by <b>echism</b><a class="anchor" name="1280511058">&nbsp;</a></div><pre>Hi Horst,

Just checking in. Is this still with the developers?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='8930#1279808062'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-22T14:14:22+00:00">Jul 22, 2010 02:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1279808062">&nbsp;</a></div><pre>Hi Elizabeth,

we&#39;re still trouble shooting this with the Bestman developers and the BNL team,
but so far no solution yet. We&#39;ll keep you posted as soon as we know something!

Thanks,

Horst

-- by hs@.... at Thu Jul 22 14&#58;14&#58;15 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1279807914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-22T14:11:54+00:00">Jul 22, 2010 02:11 PM UTC</time> by <b>echism</b><a class="anchor" name="1279807914">&nbsp;</a></div><pre>Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='8930#1279635925'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-20T14:25:25+00:00">Jul 20, 2010 02:25 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1279635925">&nbsp;</a></div><pre>Hi Pavol,

<font color='#7F7E6F'>&#62; There could be a problem with some timeouts, if I do manual command</font>
<font color='#7F7E6F'>&#62; with gsiftp protocol, after some time the file starts to copy....</font>

no, we think the problem is with the authentication/authorization
of Kors&#39; proxy in the Bestman-Gateway system somehow, according
to the bestman error logs. gridftp doesn&#39;t seem to have that problem,
only bestman. And unfortunately it&#39;s nothing obvious like a missing
gridmap entry or expired CAs or anything like that, since some times
it works, but most of the time it doesn&#39;t ...

Thanks,

Horst

-- by hs@.... at Tue Jul 20 14&#58;25&#58;17 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1279635187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-20T14:13:07+00:00">Jul 20, 2010 02:13 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1279635187">&nbsp;</a></div><pre>There could be a problem with some timeouts, if I do manual command with gsiftp protocol, after some time the file starts to copy....
-- by Pavol Strizenec at Tue Jul 20 14&#58;09&#58;26 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1279634730'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-20T14:05:30+00:00">Jul 20, 2010 02:05 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1279634730">&nbsp;</a></div><pre>Hi Pavol and all,

yes, we are aware of the situation and have been working on it for more
than a week now, but we can&#39;t figure out where the problem lies, since
there&#39;s nothing obviously wrong with our SRM. It seems to be some problem
with Kors&#39; proxy authentication, but nothing simple, unfortunately.

We&#39;ll keep working on it, hopefully we can find a solution soon!

Thanks,

Horst

-- by hs@.... at Tue Jul 20 14&#58;05&#58;22 UTC 2010</pre></div><div class='update_description'><i onclick="document.location='8930#1279634322'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-07-20T13:58:42+00:00">Jul 20, 2010 01:58 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1279634322">&nbsp;</a></div><pre>Hi,

there is quite some failing transfers from OU_OCHEP_SWT2 with the error&#58;
---------------------------------------------
GUID&#58; 	A4BB6951-DA8D-DF11-9B4F-A4BADB1A1F6A
TOOL ID&#58; 	DQ2	ATTEMPT&#58; 	87
SRC SURL&#58; 	<a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/atlasproddisk/mc09_7TeV.115859.J0_pythia_jetjet_DW.merge.AOD.e570_s766_s767_r1303_r1306_tid151090_00_sub08268430/AOD.151090._000037.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/atlasproddisk/mc09_7TeV.115859.J0_pythia_jetjet_DW.merge.AOD.e570_s766_s767_r1303_r1306_tid151090_00_sub08268430/AOD.151090._000037.pool.root.1</a>
DEST SURL&#58; 	<a href='srm&#58;//dcsrm.usatlas.bnl.gov&#58;8443/srm/managerv2?SFN=/pnfs/usatlas.bnl.gov/MCDISK/mc09_7TeV/AOD/e570_s766_s767_r1303_r1306/mc09_7TeV.115859.J0_pythia_jetjet_DW.merge.AOD.e570_s766_s767_r1303_r1306_tid151090_00/AOD.151090._000037.pool.root.1__DQ2-1279630977' target='_blank' rel='nofollow'>srm&#58;//dcsrm.usatlas.bnl.gov&#58;8443/srm/managerv2?SFN=/pnfs/usatlas.bnl.gov/MCDISK/mc09_7TeV/AOD/e570_s766_s767_r1303_r1306/mc09_7TeV.115859.J0_pythia_jetjet_DW.merge.AOD.e570_s766_s767_r1303_r1306_tid151090_00/AOD.151090._000037.pool.root.1__DQ2-1279630977</a>
TRANSFER ID&#58; 	1ec42a30-93ff-11df-9d63-f0c52a5177e3
CHANNEL&#58; 	<a href='https&#58;//fts02.usatlas.bnl.gov&#58;8443/glite-data-transfer-fts/services/FileTransfer' target='_blank' rel='nofollow'>https&#58;//fts02.usatlas.bnl.gov&#58;8443/glite-data-transfer-fts/services/FileTransfer</a>
ERROR MSG&#58; 	[FTS] FTS State [Failed] FTS Retries [1] Reason [SOURCE error during TRANSFER_PREPARATION phase&#58; [HTTP_TIMEOU
T] failed to contact on remote SRM [httpg&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server]. Givin&#39; up after 3 trie
s]
-------------------------------------------------------

more details&#58;

ttp&#58;//dashb-atlas-data.cern.ch/dashboard/request.py/file-placement?site=BNL-OSG2_MCDISK&srcSite=OU_OCHEP_SWT2_PRODDISK&fromDate=2010-07-20%2012&#58;20&#58;00&toDate=2010-07-20%2013&#58;20&#58;00&state=FAILED_TRANSFER&errorType=220

looks very similar to previously discussed (but closed without any real solution)&#58;
<a href='https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=60047' target='_blank' rel='nofollow'>https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=60047</a>

Pavol [ATLAS shifter]
Affected site&#58; OU_OCHEP_SWT2

[Ticket Origin]
<a href='https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=60272' target='_blank' rel='nofollow'>https&#58;//gus.fzk.de/ws/ticket_info.php?ticket=60272</a></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F8930">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
