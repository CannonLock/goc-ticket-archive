<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[34340] perfsonar MaDDash has stale host-down check</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=34340" method="post">
<div class="page-header">
    <h3><span class="muted">34340</span> / perfsonar MaDDash has stale host-down check</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Daniel Bradley</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Daniel Bradley</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-07-28</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/34340", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/34340?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/34340?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20perfsonar%20MaDDash%20has%20stale%20host-down%20check%20ISSUE%3D34340%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='34340#1501255031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-28T15:17:11+00:00">Jul 28, 2017 03:17 PM UTC</time> by <b>andy@....</b><a class="anchor" name="1501255031">&nbsp;</a></div><pre>I will be out of the office from July 28th thru August 4th and will be slow
to respond to email until I return.

Thanks,
Andy</pre></div><div class='update_description'><i onclick="document.location='34340#1501254920'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-28T15:15:20+00:00">Jul 28, 2017 03:15 PM UTC</time><a class="anchor" name="1501254920">&nbsp;</a></div><pre>Shawn,

Data for tests from Wisconsin to other sites is now visible in the dashboard.

This ticket can be closed now.  Thanks, all!

--Dan

p.s. And, yes, I was looking at <a href='https&#58;//maddash.aglt2.org/maddash-webui/' target='_blank' rel='nofollow'>https&#58;//maddash.aglt2.org/maddash-webui/</a> when I observed a stuck page.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dbradley/CN=614788/CN=Daniel Charles Bradley</pre></div><div class='update_description'><i onclick="document.location='34340#1501194419'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-27T22:26:59+00:00">Jul 27, 2017 10:26 PM UTC</time><a class="anchor" name="1501194419">&nbsp;</a></div><pre>Hi Dan,

I suspect you were looking at our &#34;prototype&#34; MaDDash at <a href='https&#58;//maddash.aglt2.org/maddash-webui/' target='_blank' rel='nofollow'>https&#58;//maddash.aglt2.org/maddash-webui/</a> ?

That instance had an update which removed the Java heap increase we added by hand.  The good news is that Andy Lake had added an option to allow us to set this in a standard upgrade-proof location.  I have restarted that MaDDash and it should be back shortly.

Shawn

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mckee/CN=500323/CN=Shawn Mc Kee</pre></div><div class='update_description'><i onclick="document.location='34340#1501194116'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-27T22:21:56+00:00">Jul 27, 2017 10:21 PM UTC</time><a class="anchor" name="1501194116">&nbsp;</a></div><pre>Thanks Dan,

Yes, root owning that could have been the problem.

Right on the old link...here is the production instance&#58;  <a href='https&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?grid=USCMS%20Mesh%20Config%20-%20USCMS%20Latency%20Mesh%20Test' target='_blank' rel='nofollow'>https&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?grid=USCMS%20Mesh%20Config%20-%20USCMS%20Latency%20Mesh%20Test</a>

The orange should start to fill in soon.  I see there is now data showing up on your instance.  I will check again later but I hope this was the fix.

Shawn

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mckee/CN=500323/CN=Shawn Mc Kee</pre></div><div class='update_description'><i onclick="document.location='34340#1501191330'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-27T21:35:30+00:00">Jul 27, 2017 09:35 PM UTC</time><a class="anchor" name="1501191330">&nbsp;</a></div><pre>I was using an outdated link to MadDash, hence the broken page.  Using the correct link, things currently appear in the same state as before.  Only data for connections from other sites to Wisconsin are populated.  Maybe we have to wait for the new data to be retrieved.

--Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dbradley/CN=614788/CN=Daniel Charles Bradley</pre></div><div class='update_description'><i onclick="document.location='34340#1501190686'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-27T21:24:46+00:00">Jul 27, 2017 09:24 PM UTC</time><a class="anchor" name="1501190686">&nbsp;</a></div><pre>Thanks, Shawn,

We tried the things you mentioned.  That didn&#39;t seem to change anything.  Ajit discovered that /var/lib/cassandra was owned by root rather than cassandra.  Changing that has caused data collection on our system to work again.  We did not change the ownership of that prior to this.  Perhaps the problem was introduced in a software update --- probably an update prior to July 5 when a power outage caused the machine to reboot, and after which data collection no longer worked.

At the moment the MaDDash web page just shows a spinning progress sign when I try to view it, so I can&#39;t tell if it is seeing our data now or not.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dbradley/CN=614788/CN=Daniel Charles Bradley</pre></div><div class='update_description'><i onclick="document.location='34340#1501175583'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-27T17:13:03+00:00">Jul 27, 2017 05:13 PM UTC</time><a class="anchor" name="1501175583">&nbsp;</a></div><pre>Hi Carl,

From what I can tell MaDDash on psmad.grid.iu.edu is working correctly.    In the USCMS Latency mesh we are missing the tests originated by the Wisconsin instance (see the &#34;orange&#34; row in this mesh)&#58;

<a href='https&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?grid=USCMS%20Mesh%20Config%20-%20USCMS%20Latency%20Mesh%20Test' target='_blank' rel='nofollow'>https&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?grid=USCMS%20Mesh%20Config%20-%20USCMS%20Latency%20Mesh%20Test</a>

If I go to the toolkit interface on your latency instance, I don&#39;t see ANY tests being recorded&#58;

<a href='http&#58;//perfsonar01.hep.wisc.edu/toolkit/' target='_blank' rel='nofollow'>http&#58;//perfsonar01.hep.wisc.edu/toolkit/</a>

So it looks like there is a problem with the perfsonar01.hep.wisc.edu instance.   Tests are able to be run *to* your host (see the &#34;column&#34; for Wisconsin in the above mesh) but it seems that no test results initiated by your host are happening.

This could be because it is missing the proper mesh configuration.   We can check that via&#58;
<a href='http&#58;//perfsonar01.hep.wisc.edu/toolkit/services/host.cgi?method=get_summary' target='_blank' rel='nofollow'>http&#58;//perfsonar01.hep.wisc.edu/toolkit/services/host.cgi?method=get_summary</a>

From there I can see your instance is participating in two mesh-configurations&#58;

meshes&#58; [
&#34;<a href='https&#58;//myosg.grid.iu.edu/pfmesh/mine/hostname/perfsonar01.hep.wisc.edu&#34' target='_blank' rel='nofollow'>https&#58;//myosg.grid.iu.edu/pfmesh/mine/hostname/perfsonar01.hep.wisc.edu&#34</a>;,
&#34;<a href='https&#58;//www.net.wisc.edu/perfsonar/uw-mesh.json&#34' target='_blank' rel='nofollow'>https&#58;//www.net.wisc.edu/perfsonar/uw-mesh.json&#34</a>;
],

These seem OK when I check the results from those URLs (at least they both return JSON information).   One thing to note is the we have
deprecated the http;//myosg.grid.iu.edu mesh-configuration.  We have URL rewrite rules in place to send you to the new location.

Here is the new mesh configuration auto-url that should be used&#58;

<a href='http&#58;//meshconfig.grid.iu.edu/pub/auto/perfsonar01.hep.wisc.edu' target='_blank' rel='nofollow'>http&#58;//meshconfig.grid.iu.edu/pub/auto/perfsonar01.hep.wisc.edu</a>

So here is what I would recommend&#58;

1) Check the /var/log/perfsonar/meshconfig-agent.log logfile.   Are there warnings or errors?   This is the log file for the agent that processes the above mesh-config URLs

2) Reconfigure the /etc/perfsonar/meshconfig-agent.conf, updating the &#39;configuration_url&#39; to use something similar to&#58;
...
<div id='show_2106198761' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2106198761'>&#60;mesh&#62;
configuration_url <a href='http&#58;//meshconfig.grid.iu.edu/pub/auto/perfsonar01.hep.wisc.edu' target='_blank' rel='nofollow'>http&#58;//meshconfig.grid.iu.edu/pub/auto/perfsonar01.hep.wisc.edu</a>
validate_certificate 0
required 1
&#60;/mesh&#62;

Then restart the agent via&#58;
/etc/init.d/perfsonar-meshconfig-agent restart

You can then recheck the log file from item 1) above.   Let me know how this goes.

This may not be the root of the problem for the missing tests but we can then at least rule this out as a problem.

Thanks,

Shawn

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mckee/CN=500323/CN=Shawn Mc Kee
</div><script type='text/javascript'>
        $('#show_2106198761').click(function() {
            $('#detail_2106198761').slideDown("normal");
            $('#show_2106198761').hide();
            $('#hide_2106198761').show();
        });
        $('#hide_2106198761').click(function() {
            $('#detail_2106198761').slideUp();
            $('#hide_2106198761').hide();
            $('#show_2106198761').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='34340#1501174745'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-27T16:59:05+00:00">Jul 27, 2017 04:59 PM UTC</time><a class="anchor" name="1501174745">&nbsp;</a></div><pre>Thanks for the update Carl.

I will check what may be wrong with psmad.grid.iu.edu and may end up restarting the service if it looks hung.

More soon, thanks,

Shwan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mckee/CN=500323/CN=Shawn Mc Kee</pre></div><div class='update_description'><i onclick="document.location='34340#1500324972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-17T20:56:12+00:00">Jul 17, 2017 08:56 PM UTC</time><a class="anchor" name="1500324972">&nbsp;</a></div><pre>No, the perfsonar dashboard still has a stale state for the University of Wisconsin. We fixed the perfsonar on our side weeks ago. It would be good if Shawn McKee could restart the MaDDash service on the dashboard side so it can fetch current data.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cvuosalo/CN=708697/CN=Carl Vuosalo</pre></div><div class='update_description'><i onclick="document.location='34340#1500321676'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-17T20:01:16+00:00">Jul 17, 2017 08:01 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1500321676">&nbsp;</a></div><pre>Can we consider this issue resolved since the file was fixed and it &#34;works&#34; now?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34340#1499449992'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-07T17:53:12+00:00">Jul 7, 2017 05:53 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1499449992">&nbsp;</a></div><pre>Hi,

Ooopp... looks like I didn&#39;t finish the sentence &#34;...network configuration in the box to be not&#34; which should be &#34;...network configuration of the primary interface enp1s0 in the box to be not done correctly when it came up after the installation. The ifcfg-enp1s0 file had to be fixed manually to make it work&#34;.

Thanks,
- Ajit

On 07/07/2017 12&#58;41 PM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='34340#1499449271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-07T17:41:11+00:00">Jul 7, 2017 05:41 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1499449271">&nbsp;</a></div><pre>Hi Shawn,

[ Dan is away on vacation.]

Thanks for the note. The disk partition of our perfsonar01 node got filled up which caused the latency instance to stop working. Dan tried everything he could to get it to work (but without success), and finally we decided to go for a fresh install of the instance which is up now. Dan noticed that for some reason dhcp (in this release) also didn&#39;t work which caused the network configuration in the box to be not

Now, the latency instance has been up for a week and appears to be operating ok as I see here (<a href='http&#58;//perfsonar01.hep.wisc.edu/toolkit/' target='_blank' rel='nofollow'>http&#58;//perfsonar01.hep.wisc.edu/toolkit/</a>).

But still there is no data for Wisconsin here &#58;
<a href='http&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?dashboard=USCMS%20Mesh%20Config' target='_blank' rel='nofollow'>http&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?dashboard=USCMS%20Mesh%20Config</a>

I looked at the status here &#58;
<a href='https&#58;//psetf.grid.iu.edu/etf/check_mk/index.py?start_url=%2Fetf%2Fcheck_mk%2Fview.py%3Fview_name%3Dhost%26host%3Dperfsonar01.hep.wisc.edu%26site%3Detf' target='_blank' rel='nofollow'>https&#58;//psetf.grid.iu.edu/etf/check_mk/index.py?start_url=%2Fetf%2Fcheck_mk%2Fview.py%3Fview_name%3Dhost%26host%3Dperfsonar01.hep.wisc.edu%26site%3Detf</a>

But looks like there are still stale info there marked with a &#34;WARN&#34;. So, I need specific instructions on how and what to debug to clear up the staleness of the reporting of this instance.

Thanks,
- Ajit

On 07/06/2017 11&#58;48 AM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='34340#1499359679'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-06T16:47:59+00:00">Jul 6, 2017 04:47 PM UTC</time><a class="anchor" name="1499359679">&nbsp;</a></div><pre>Thanks for looking into this Dan.

The maddash.aglt2.org is our prototype instance and does seem to have a hung test for your instance.

FYI, the OSG production instance is at&#58;

<a href='http&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?dashboard=USCMS%20Mesh%20Config' target='_blank' rel='nofollow'>http&#58;//psmad.grid.iu.edu/maddash-webui/index.cgi?dashboard=USCMS%20Mesh%20Config</a>

There are some indications of issues with outbound testing for your latency instance&#58;

<a href='http&#58;//psmad.grid.iu.edu/maddash-webui/details.cgi?uri=/maddash/grids/USCMS+Mesh+Config+-+USCMS+Latency+Mesh+Test/perfsonar01.hep.wisc.edu/perfsonar1.ihepa.ufl.edu/Loss' target='_blank' rel='nofollow'>http&#58;//psmad.grid.iu.edu/maddash-webui/details.cgi?uri=/maddash/grids/USCMS+Mesh+Config+-+USCMS+Latency+Mesh+Test/perfsonar01.hep.wisc.edu/perfsonar1.ihepa.ufl.edu/Loss</a>

You noted the instance was down at the end of June...what did you need to do to get it back?

We do track service status for every perfSONAR host.  If you have a browser with your x509 cert installed you can see status here&#58;

<a href='https&#58;//psetf.grid.iu.edu/etf/check_mk/index.py?start_url=%2Fetf%2Fcheck_mk%2Fview.py%3Fview_name%3Dhost%26host%3Dperfsonar01.hep.wisc.edu%26site%3Detf' target='_blank' rel='nofollow'>https&#58;//psetf.grid.iu.edu/etf/check_mk/index.py?start_url=%2Fetf%2Fcheck_mk%2Fview.py%3Fview_name%3Dhost%26host%3Dperfsonar01.hep.wisc.edu%26site%3Detf</a>

Let me try restarting the MaDDash service on maddash.aglt2.org to see if that will fix the stuck issue you reported.   Thanks,

Shawn

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mckee/CN=500323/CN=Shawn Mc Kee</pre></div><div class='update_description'><i onclick="document.location='34340#1499357302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-06T16:08:22+00:00">Jul 6, 2017 04:08 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1499357302">&nbsp;</a></div><pre>Shawn,

Is this something you can take a look at?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='34340#1498912329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-01T12:32:09+00:00">Jul 1, 2017 12:32 PM UTC</time> by <b>GLOW-TECH</b><a class="anchor" name="1498912329">&nbsp;</a></div><pre>I am away on vacation until June 17.  Please contact help@.... for computing issues.</pre></div><div class='update_description'><i onclick="document.location='34340#1498912101'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-07-01T12:28:21+00:00">Jul 1, 2017 12:28 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1498912101">&nbsp;</a></div><pre>Hello,

On the perfsonar MaDDash page for &#34;USCMS Mesh Config - USCMS Latency Mesh Test&#34;, University of Wisconsin is listed as down.  Example&#58;

<a href='http&#58;//maddash.aglt2.org/maddash-webui/details.cgi?uri=/maddash/grids/USCMS+Mesh+Config+-+USCMS+Latency+Mesh+Test/perfsonar1.ihepa.ufl.edu/perfsonar01.hep.wisc.edu/Loss' target='_blank' rel='nofollow'>http&#58;//maddash.aglt2.org/maddash-webui/details.cgi?uri=/maddash/grids/USCMS+Mesh+Config+-+USCMS+Latency+Mesh+Test/perfsonar1.ihepa.ufl.edu/perfsonar01.hep.wisc.edu/Loss</a>

The test history on that page claims that the last check to determine if there was any data happened on June 27, 2017 00&#58;52&#58;49 AM CDT.  It says the next test is scheduled for June 27, 2017 01&#58;07&#58;49 AM CDT.  Since it is now July 1, it seems something is stuck in the scheduling of the data collection in MaDDash.

We believe perfsonar01.hep.wisc.edu is operating correctly now.  it was not operating correctly back on June 27 when the last check was run by MaDDash.  We&#39;d appreciate if someone could look into the problem with MaDDash.

Thanks.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dbradley/CN=614788/CN=Daniel Charles Bradley</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F34340">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 34340});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
