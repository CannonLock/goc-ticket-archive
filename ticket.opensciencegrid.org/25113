<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[25113] Missing nova.opensciencegrid.org CVMFS mount at Harvard</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=25113" method="post">
<div class="page-header">
    <h3><span class="muted">25113</span> / Missing nova.opensciencegrid.org CVMFS mount at Harvard</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Kenneth Herner</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">HU_ATLAS_Tier2</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Kenneth Herner</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-06-19</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=25272">25272</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=25113", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/25113?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/25113?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Missing%20nova.opensciencegrid.org%20CVMFS%20mount%20at%20Harvard%20ISSUE%3D25113%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='25113#1434556268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-17T15:51:08+00:00">Jun 17, 2015 03:51 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1434556268">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='25113#1434552808'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-17T14:53:28+00:00">Jun 17, 2015 02:53 PM UTC</time><a class="anchor" name="1434552808">&nbsp;</a></div><pre>Hi,

Yes, the repositories are showing up now. NOvA is still having some difficulty but that is happening in a separate ticket. We can close this one.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='25113#1434551263'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-17T14:27:43+00:00">Jun 17, 2015 02:27 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1434551263">&nbsp;</a></div><pre>Hi Kenneth,

Can you confirm that this issue is resolved?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='25113#1434138618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-12T19:50:18+00:00">Jun 12, 2015 07:50 PM UTC</time> by <b>j.p.davies@....</b><a class="anchor" name="1434138618">&nbsp;</a></div><pre>I will be out of the office and without email contact on Friday 12th June - Sunday 14th June. I will reply to your email when I return.

Please contact David Smith with any urgent NOvA software related issues.

Thanks,

Jonathan

---------------------------------------
Dr. Jonathan Davies
University of Sussex</pre></div><div class='update_description'><i onclick="document.location='25113#1434138367'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-12T19:46:07+00:00">Jun 12, 2015 07:46 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1434138367">&nbsp;</a></div><pre>Hi Kenneth,

Please let us know when you have retested and can confirm this is resolved.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='25113#1433869608'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-09T17:06:48+00:00">Jun 9, 2015 05:06 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1433869608">&nbsp;</a></div><pre>Kenneth,

Can you confirm this is resolved?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='25113#1433532741'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-05T19:32:21+00:00">Jun 5, 2015 07:32 PM UTC</time><a class="anchor" name="1433532741">&nbsp;</a></div><pre>Hello.

All of the worker nodes should have the latest cvmfs installed and working.  Please feel free to test again from your end to confirm.  And I noticed that the catalog is returning much quicker now - thanks for working on that!

Kind regards,
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1433171718'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-01T15:15:18+00:00">Jun 1, 2015 03:15 PM UTC</time><a class="anchor" name="1433171718">&nbsp;</a></div><pre>Thanks, Dave.  Since I haven&#39;t finished rolling out the 2.1.20 update to all our worker nodes yet, we should probably keep the ticket open.  But I appreciate your help in trying to get the size of the catalog down.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432937366'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T22:09:26+00:00">May 29, 2015 10:09 PM UTC</time><a class="anchor" name="1432937366">&nbsp;</a></div><pre>Dan,

That&#39;s right, I think everything&#39;s working normally on your end so we can probably close this ticket if you and Ken are OK with it.

I just need to figure out how to shrink the nova base catalog.  I have come to the conclusion now that it doesn&#39;t contain an unreasonably large number of files (less than 200K), yet it is still an unreasonably large size.  A subcatalog they have right now (/nusoft) has 20 times the files but is only 3/5ths the size.  I have an inquiry in to the CVMFS developers and I hope they can help figure out why it is so big.

Dave

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1432931942'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T20:39:02+00:00">May 29, 2015 08:39 PM UTC</time><a class="anchor" name="1432931942">&nbsp;</a></div><pre>That&#39;s some excellent info, Dave.  Thanks for finding and explaining all that.  So, despite some slowness due to a large catalog, it sounds like things are operating normally, correct?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432931752'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T20:35:52+00:00">May 29, 2015 08:35 PM UTC</time><a class="anchor" name="1432931752">&nbsp;</a></div><pre>I ran another test to get some fresh data and so that I could be sure of what was done at what time.

At 16&#58;03, I issued the first &#34;ls /cvmfs/nova.opensciencegrid.org&#34;
May 29 16&#58;03&#58;35 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1goc.opensciencegrid.org

It returned about 10 minutes later around 16&#58;14.
May 29 16&#58;13&#58;58 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; linking /cvmfs/nova.opensciencegrid.org to repository nova.opensciencegrid.org

I ran &#34;ls /cvmfs/nova.opensciencegrid.org&#34; a second time two minutes later at 16&#58;16 and it returned immediately.  I didn&#39;t find any entries in /var/log/messages or /var/log/squid/access.log for this run of the command.

Here are the corresponding squid log entries (and a few lines of context around them)&#58;

10.31.131.202 - - [29/May/2015&#58;16&#58;03&#58;35.568 -0400] &#34;GET <a href='http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/api/v1.0/geo/net2.rc.fas.harvard.edu/cvmfs-s1bnl.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/api/v1.0/geo/net2.rc.fas.harvard.edu/cvmfs-s1bnl.opensciencegrid.org</a>,cvmfs-s1fnal.opensciencegrid.org,cvmfs-s1goc.opensciencegrid.org HTTP/1.1&#34; 200 492 TCP_REFRESH_MISS&#58;DIRECT 156 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20&#34;
10.31.130.128 - - [29/May/2015&#58;16&#58;03&#58;35.572 -0400] &#34;GET <a href='http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/atlas/data/ca/10fa44847487ccc73536c7b9a139bc38255330' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/atlas/data/ca/10fa44847487ccc73536c7b9a139bc38255330</a> HTTP/1.0&#34; 200 3888 TCP_HIT&#58;NONE 0 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.19&#34;
192.5.207.199 - - [29/May/2015&#58;16&#58;03&#58;35.589 -0400] &#34;GET <a href='http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58' target='_blank' rel='nofollow'>http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58</a>;1&#58;DEFAULT&encoding=BLOBzip5&p1=eNptjDEKgDAQBL.yXRq-YHHJrShcErhEglX.-wtFW8thhmk0po4u0TiLZC5I1c5cXsDmNUPM5hPMTzSMnU7UUehrkG7SVAOqKx3x.nsdegPkVhyZ HTTP/1.0&#34; 200 63995 TCP_MEM_HIT&#58;NONE 19 &#34;[2490987167] 2.8.5 105599 usatlas1(504) /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Hover 241/CN=3391436546/CN=1345214562 -&#34; &#34;-&#34; &#34;-&#34;
192.5.207.199 - - [29/May/2015&#58;16&#58;03&#58;35.608 -0400] &#34;GET <a href='http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58' target='_blank' rel='nofollow'>http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58</a>;1&#58;DEFAULT&encoding=BLOBzip5&p1=eNp1zbsKAjEQheFXGaa0kNzGNYXFEhIsIpEkYJlK3G1UfP9CbcXTzfBz.FrMMXTaUKrlRDz3PLcRSskl5dFC5y1-rrNRaoRlfTL9vJdjrJH4uxjp8bqutzsftDVu56nUf2ESEPYahQkEb1EAuCiAi9YoAFyMRQHhFuEO4Q7hgnDxbyyJgLI_ HTTP/1.0&#34; 200 27608 TCP_MEM_HIT&#58;NONE 9 &#34;[2491320966] 2.8.10 114812 usatlas1(504) /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649/CN=2518812034/CN=1630242440 -&#34; &#34;-&#34; &#34;-&#34;
10.31.131.202 - - [29/May/2015&#58;16&#58;03&#58;35.610 -0400] &#34;GET <a href='http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/.cvmfspublished</a> HTTP/1.0&#34; 200 1062 TCP_REFRESH_MISS&#58;DIRECT 41 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20&#34;
192.5.207.199 - - [29/May/2015&#58;16&#58;03&#58;35.640 -0400] &#34;GET <a href='http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58' target='_blank' rel='nofollow'>http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58</a>;1&#58;DEFAULT&encoding=BLOBzip5&p1=eNpdj8EKwjAMhl8l9OLFSfXmYYfQZrPYtbJkiKciCCLI9OL7O7Ubw1u.Lz8JP5MnIxCipeQsIIPKs1qCYD3K35hdwIYm.4HsfTT7xILS8bSeuZyyxKZ1B3ExTKmZG1J84uQCi8tvZqygamMDCsUjJxOjj5VPTRcDelcHtVIDHzZap.EsK-jD445aGtuWsAUMdqpUwqJ5PXq836691Ib6izk-zRcLrfW6sFRh52XxBgt0VAw_ HTTP/1.0&#34; 200 1224 TCP_MEM_HIT&#58;NONE 0 &#34;[2491320963] 2.8.10 140041 usatlas1(504) /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Hover 241/CN=3391436546/CN=835838743 -&#34; &#34;-&#34; &#34;-&#34;
10.31.130.128 - - [29/May/2015&#58;16&#58;03&#58;35.649 -0400] &#34;GET <a href='http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/atlas/data/b7/d1ad7dc4ff85acb1977a26ca524ec6766eb874' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/atlas/data/b7/d1ad7dc4ff85acb1977a26ca524ec6766eb874</a> HTTP/1.0&#34; 200 1178 TCP_HIT&#58;NONE 0 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.19&#34;
10.31.131.202 - - [29/May/2015&#58;16&#58;03&#58;35.652 -0400] &#34;GET <a href='http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/.cvmfswhitelist' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/.cvmfswhitelist</a> HTTP/1.0&#34; 200 960 TCP_REFRESH_MISS&#58;DIRECT 41 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20&#34;
192.5.207.199 - - [29/May/2015&#58;16&#58;03&#58;35.654 -0400] &#34;GET <a href='http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58' target='_blank' rel='nofollow'>http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58</a>;1&#58;DEFAULT&encoding=BLOBzip5&p1=eNp1zTELwjAQhuG-ctzoIEmuSe3gUEKCQySSBBwziXZR6f8fqqv4bXe8fDw1pOAb7SiWfCaeW5pr9zmnHFOvvvGeP9fFKNX9Y3kz-bzXUyiB.Lvo8bXelvuTj1qMdZZy.RdGjcIIwkFQmECYAO6URgHgTgsKAHcG4YJwQfiA8AHh1m4ua4C4 HTTP/1.0&#34; 200 27956 TCP_MEM_HIT&#58;NONE 9 &#34;[2491320966] 2.8.10 114812 usatlas1(504) /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Jose Caballero 649/CN=2518812034/CN=1630242440 -&#34; &#34;-&#34; &#34;-&#34;
192.5.207.199 - - [29/May/2015&#58;16&#58;03&#58;35.654 -0400] &#34;GET <a href='http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58' target='_blank' rel='nofollow'>http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58</a>;1&#58;DEFAULT&encoding=BLOBzip5&p1=eNpVjzsOhDAMRK-iLg1XoDDJLCA5DnKMEFXuf4vlswitq2eNPDOuEESnWGTN2ubUPaic0ZGuIjzIQYmdm.-LgwIdffotiyHOdS56nE9s-2KNLKBrPlYysUhzHtodVG9lm2CgsimsD.zCNaVArIn8zL-q9AEZcUTJcNvbaR6oWILRsL8vfAFrXjhO HTTP/1.0&#34; 200 1758 TCP_MEM_HIT&#58;NONE 0 &#34;[2490987167] 2.8.5 105599 usatlas1(504) /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Hover 241/CN=3391436546/CN=1345214562 -&#34; &#34;-&#34; &#34;-&#34;

10.31.131.202 - - [29/May/2015&#58;16&#58;13&#58;58.357 -0400] &#34;GET <a href='http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/data/89/29986a5769fc8f7df6b1f7fa3b33fe03d7f193C' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/data/89/29986a5769fc8f7df6b1f7fa3b33fe03d7f193C</a> HTTP/1.0&#34; 200 508058289 TCP_MISS&#58;DIRECT 622705 &#34;- file%20catalog%20at%20nova.opensciencegrid.org&#58;/%20%288929986a5769fc8f7df6b1f7fa3b33fe03d7f193%29&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20&#34;
10.242.128.167 - - [29/May/2015&#58;16&#58;13&#58;58.359 -0400] &#34;GET <a href='http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/geant4/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/geant4/.cvmfspublished</a> HTTP/1.1&#34; 200 1051 TCP_MEM_HIT&#58;NONE 0 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.19&#34;
192.5.207.199 - - [29/May/2015&#58;16&#58;13&#58;58.363 -0400] &#34;GET <a href='http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58' target='_blank' rel='nofollow'>http&#58;//lcgft-atlas.gridpp.rl.ac.uk&#58;3128/frontierATLAS/Frontier/type=frontier_request&#58</a>;1&#58;DEFAULT&encoding=BLOBzip5&p1=eNqNkEEKg0AMRa8SZuNGpJUqdOEibWI7MDOWTKB15f1vodBuxFBm.-L.h5-Mge8KL-.JqCweQ14IFZsDWTzVhpcwssWJU-Y6wyhTBIcaMBO5xh1MBwar-0ZaxYcV.-L3k4XBPO5XbWAbBUN1Pl0vXV8BJir8xFBQ-1NhEmKB21xYvQJybW.m HTTP/1.0&#34; 200 4380 TCP_MEM_HIT&#58;NONE 0 &#34;[2491384778] 2.8.10 138875 usatlas1(504) /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Hover 241/CN=3391436546/CN=765760621 -&#34; &#34;-&#34; &#34;-&#34;
10.242.128.167 - - [29/May/2015&#58;16&#58;13&#58;58.366 -0400] &#34;GET <a href='http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/grid/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/grid/.cvmfspublished</a> HTTP/1.1&#34; 200 1048 TCP_MEM_HIT&#58;NONE 0 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.19&#34;
10.242.128.167 - - [29/May/2015&#58;16&#58;13&#58;58.373 -0400] &#34;GET <a href='http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/sft/.cvmfspublished' target='_blank' rel='nofollow'>http&#58;//cvmfs.racf.bnl.gov&#58;8000/opt/sft/.cvmfspublished</a> HTTP/1.1&#34; 200 1044 TCP_MEM_HIT&#58;NONE 0 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.19&#34;

I&#39;m not entirely sure what to make of this.  If anyone can draw a conclusion from this data, I would be very grateful.  Or, if you can think of some better tests to run, I can certainly run them.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432931290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T20:28:10+00:00">May 29, 2015 08:28 PM UTC</time><a class="anchor" name="1432931290">&nbsp;</a></div><pre>The second &#39;ls&#39; command would have been completely from the cvmfs client cache and wouldn&#39;t have contacted the squid.  So the 13&#58;41&#58;16 entry is the end of the download, which took 226.430 seconds (3 and 3/4 minutes) to read the catalog from the GOC stratum 1.  It&#39;s half a GB compressed, and I have seen that the catalog uncompresses to over a GB.  500 MB divided by 226 seconds is just over 2MB/s.  That&#39;s actually not such a surprisingly slow rate.  The MRTG plot at
<a href='http&#58;//wlcg-squid-monitor.cern.ch/snmpstats/mrtgcvmfs/s1osggoc1/proxy-srvkbinout.html' target='_blank' rel='nofollow'>http&#58;//wlcg-squid-monitor.cern.ch/snmpstats/mrtgcvmfs/s1osggoc1/proxy-srvkbinout.html</a>
shows the GOC stratum 1 doing about 3MB/s on a 5 minute average around that time (the plot is UTC time, so it&#39;s 17&#58;40 there).  The BNL and FNAL stratum 1s aren&#39;t doing much more than on average.  So really the main thing is to get the size of that catalog down.  I will try to advise nova about that.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1432929609'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T20:00:09+00:00">May 29, 2015 08:00 PM UTC</time><a class="anchor" name="1432929609">&nbsp;</a></div><pre>That&#39;s an interesting find, Dave.  And thanks for the suggestions to check Squid.  Here are corresponding entries in the squid cache&#58;

10.31.131.202 - - [29/May/2015&#58;13&#58;37&#58;30.305 -0400] &#34;GET <a href='http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/.cvmfswhitelist' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/.cvmfswhitelist</a> HTTP/1.0&#34; 200 960 TCP_REFRESH_MISS&#58;DIRECT 40 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20&#34;
10.31.131.202 - - [29/May/2015&#58;13&#58;41&#58;16.736 -0400] &#34;GET <a href='http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/data/80/18cf6655bbb1360588a59ae16fe7be2045fb3aC' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1goc.opensciencegrid.org/cvmfs/nova.opensciencegrid.org/data/80/18cf6655bbb1360588a59ae16fe7be2045fb3aC</a> HTTP/1.0&#34; 200 508058178 TCP_MISS&#58;DIRECT 226430 &#34;- file%20catalog%20at%20nova.opensciencegrid.org&#58;/%20%288018cf6655bbb1360588a59ae16fe7be2045fb3a%29&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20&#34;

I think the 13&#58;41 entry was actually me re-running the &#34;ls /cvmfs/nova.opensciencegrid.org&#34; command immediately after the first command returned (after 3+ minutes) to see if it would return quicker the second time around (which it did).  But I would expect the second entry to be a HIT, especially since it returned so quickly the second time.

I may need to run this test again to get some fresh data.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432929046'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T19:50:46+00:00">May 29, 2015 07:50 PM UTC</time><a class="anchor" name="1432929046">&nbsp;</a></div><pre>Oh dear, I found out that the geoIP location of Brookhaven resolves to somewhere in Kansas (probably the geographic center of the U.S.).  So it thinks Harvard is closer to both Fermilab & the GOC in Indiana.

Dan, while I look into what can be done about that, probably the most progress in tracking down the cause of the slowness would be made if you could locate the corresponding log entry in your local squid.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1432927833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T19:30:33+00:00">May 29, 2015 07:30 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1432927833">&nbsp;</a></div><pre>Hi Dan,

Do you have a local Squid at Harvard that you’re running through as a proxy? Perhaps the response was kept in cache there, and might show up in those logs.

~John</pre></div><div class='update_description'><i onclick="document.location='25113#1432927504'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T19:25:04+00:00">May 29, 2015 07:25 PM UTC</time><a class="anchor" name="1432927504">&nbsp;</a></div><pre>John,

I have to admit that I don&#39;t understand the workings of cvmfs enough to know what this could mean, but it seems odd that you&#39;ve only seen one request today.  Just looking at my bash history, I can see that I issued the &#34;ls /cvmfs/nova.opensciencegrid.org&#34; command at least 4 times today from that same machine.  And here are the contents of my log file for today&#58;

May 29 11&#58;34&#58;14 net2 cvmfs2&#58; (nova.opensciencegrid.org) GeoAPI request <a href='http&#58;//cvmfs-s1bnl.opensciencegrid.org&#58;8000/cvmfs/nova.opensciencegrid.org/api/v1.0/geo/' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1bnl.opensciencegrid.org&#58;8000/cvmfs/nova.opensciencegrid.org/api/v1.0/geo/</a>@proxy@/cvmfs-s1bnl.opensciencegrid.org,cvmfs-s1fnal.opensciencegrid.org,cvmfs-s1goc.opensciencegrid.org failed with error 9 [host returned HTTP error]
May 29 11&#58;34&#58;14 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1goc.opensciencegrid.org
May 29 11&#58;50&#58;53 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; linking /cvmfs/nova.opensciencegrid.org to repository nova.opensciencegrid.org
May 29 11&#58;51&#58;46 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; unmounted /cvmfs/nova.opensciencegrid.org (nova.opensciencegrid.org)
May 29 11&#58;58&#58;44 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1fnal.opensciencegrid.org
May 29 11&#58;58&#58;44 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; linking /cvmfs/nova.opensciencegrid.org to repository nova.opensciencegrid.org
May 29 12&#58;04&#58;16 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; unmounted /cvmfs/nova.opensciencegrid.org (nova.opensciencegrid.org)
May 29 12&#58;57&#58;54 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1fnal.opensciencegrid.org
May 29 12&#58;57&#58;55 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; linking /cvmfs/nova.opensciencegrid.org to repository nova.opensciencegrid.org
May 29 13&#58;03&#58;01 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; unmounted /cvmfs/nova.opensciencegrid.org (nova.opensciencegrid.org)
May 29 13&#58;37&#58;30 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1fnal.opensciencegrid.org
May 29 13&#58;41&#58;16 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; linking /cvmfs/nova.opensciencegrid.org to repository nova.opensciencegrid.org
May 29 13&#58;48&#58;01 net2 cvmfs2&#58; (nova.opensciencegrid.org) CernVM-FS&#58; unmounted /cvmfs/nova.opensciencegrid.org (nova.opensciencegrid.org)

Does this mean that only my first request today went to you and the rest relied on cached information?

You can see the last three entries that I copied above depict the delay that I&#39;m seeing.  At 13&#58;37, I issue the command.  And the &#34;linking&#34; entry at 13&#58;41 corresponds (timewise) to when I got a response on the command line.  Does this help explain what&#39;s causing the delay?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432926394'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T19:06:34+00:00">May 29, 2015 07:06 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1432926394">&nbsp;</a></div><pre>Hi Dan,

Thank you. On both my cache nodes, I see only one successful hit (on each) from that one machine, and no others in that range today&#58;
140.247.179.131 - - [29/May/2015&#58;11&#58;56&#58;56.045 -0400] &#34;GET <a href='http&#58;//cvmfs-replica.racf.bnl.gov/cvmfs/nova.opensciencegrid.org/api/v1.0/geo/net2.rc.fas.harvard.edu/cvmfs-s1bnl.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//cvmfs-replica.racf.bnl.gov/cvmfs/nova.opensciencegrid.org/api/v1.0/geo/net2.rc.fas.harvard.edu/cvmfs-s1bnl.opensciencegrid.org</a>,cvmfs-s1fnal.opensciencegrid.org,cvmfs-s1goc.opensciencegrid.org HTTP/1.0&#34; 404 753 TCP_MISS&#58;FIRST_UP_PARENT 0 &#34;- -&#34; &#34;-&#34; &#34;cvmfs Fuse 2.1.20”

This URL returned a 404/not found, as expected, as the replica version here can’t parse that URL and has no idea what that request means. Note that there seem to be no further requests from your client afterward, at least not logged on this end.

~John</pre></div><div class='update_description'><i onclick="document.location='25113#1432925384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T18:49:44+00:00">May 29, 2015 06:49 PM UTC</time><a class="anchor" name="1432925384">&nbsp;</a></div><pre>Hi John,

The machine that I mentioned in my last post (from 1&#58;37pm Eastern time today) was 140.247.179.131.  Any machine from the 140.247.x.x network should be ours as well.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432922971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T18:09:31+00:00">May 29, 2015 06:09 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1432922971">&nbsp;</a></div><pre>Hi,

A &#62; three-minute hang for any repo seems a bit excessive. Can I please have a client IP/range at Harvard to check log records on this end?

~John</pre></div><div class='update_description'><i onclick="document.location='25113#1432921585'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T17:46:25+00:00">May 29, 2015 05:46 PM UTC</time><a class="anchor" name="1432921585">&nbsp;</a></div><pre>Perhaps I&#39;m just not waiting long enough, as you suggested, Dave.  It just occurred again and after waiting for 3-4 minutes, it did return.  Ever since the time that I waited for over 5 minutes, I assumed that it would hang forever once it got past a few minutes.  I didn&#39;t expect it to take so long since /cvmfs/atlas.cern.ch (the repo that I&#39;m more familiar with) has never taken more than 15-20 seconds.  In case you want to check logs on your end to see if there was a reason (other than the size of the catalog) causing this delay, this latest occurrence was at 1&#58;37pm Eastern time today.  If I notice anything else noteworthy, I&#39;ll update this thread.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432918858'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T17:00:58+00:00">May 29, 2015 05:00 PM UTC</time><a class="anchor" name="1432918858">&nbsp;</a></div><pre>Thanks, Dave.  I&#39;ll try to re-create the behavior and see if it ever returns.  When this does occur, it hangs for more than a minute, at least.  I&#39;ve waited as long as 5 minutes.  After waiting for this long, I just Ctrl-C to get back to the shell.  But I&#39;ll let it go next time and see if it ever returns.  And I&#39;ll let you know how it goes.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432916284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T16:18:04+00:00">May 29, 2015 04:18 PM UTC</time><a class="anchor" name="1432916284">&nbsp;</a></div><pre>Dan,

That error should not be related to the cause of the hang.  The other message the same second second saying that the order was retrieved from cvmfs-s1goc shows that the order was successfully retrieved.  So something else is going on.  Does it hang indefinitely?  Nova does have an extra large catalog at the moment so it can take a while the first time.  You are at Harvard, so the geographical order (even though it was retrieved from the GOC stratum 1) should have listed the BNL stratum 1 first as a server.  John, can you find queries for nova.opensciencegrid.org from Harvard at 11&#58;34 or later this morning in your log?

Dave

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1432914540'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T15:49:00+00:00">May 29, 2015 03:49 PM UTC</time><a class="anchor" name="1432914540">&nbsp;</a></div><pre>Please keep in mind that it&#39;s not just the error message that concerns me.  It&#39;s the fact that the command &#34;ls /cvmfs/nova.opensciencegrid.org&#34; never returns and keeps the command line hung.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432914073'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T15:41:13+00:00">May 29, 2015 03:41 PM UTC</time><a class="anchor" name="1432914073">&nbsp;</a></div><pre>I&#39;m seeing this error again on machines that I&#39;ve upgraded to cvmfs 2.1.20&#58;

May 29 11&#58;34&#58;14 net2 cvmfs2&#58; (nova.opensciencegrid.org) GeoAPI request <a href='http&#58;//cvmfs-s1bnl.opensciencegrid.org&#58;8000/cvmfs/nov' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1bnl.opensciencegrid.org&#58;8000/cvmfs/nov</a>
a.opensciencegrid.org/api/v1.0/geo/@proxy@/cvmfs-s1bnl.opensciencegrid.org,cvmfs-s1fnal.opensciencegrid.org,cvmfs-s1goc.open
sciencegrid.org failed with error 9 [host returned HTTP error]
May 29 11&#58;34&#58;14 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1goc.opensciencegrid.org

This occurs when I run &#34;ls /cvmfs/nova.opensciencegrid.org&#34; and the command line also hangs.  I was about to push out this upgrade to all my systems but I&#39;m wondering if I should roll back now.  I&#39;d appreciate your guidance.  Thanks.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432654845'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T15:40:45+00:00">May 26, 2015 03:40 PM UTC</time><a class="anchor" name="1432654845">&nbsp;</a></div><pre>Hi Dave,

I&#39;m aware of the features in version 2.1.20, and from where this message originates; as I said, I&#39;m not sure why this would be considered an error.

Regardless, I think it&#39;s safe for Dan to ignore this &#34;error&#34;.

~John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John S. De Stefano Jr.</pre></div><div class='update_description'><i onclick="document.location='25113#1432653686'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T15:21:26+00:00">May 26, 2015 03:21 PM UTC</time><a class="anchor" name="1432653686">&nbsp;</a></div><pre>John&#58; it is because the geo api is missing at BNL, that is what it is reporting.  That is a cvmfs-server-2.1.20 feature.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1432652816'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T15:06:56+00:00">May 26, 2015 03:06 PM UTC</time><a class="anchor" name="1432652816">&nbsp;</a></div><pre>I can confirm Dave&#39;s comments regarding version mismatch, though the requested repository is available at BNL, and I&#39;m not sure why the client code returns an &#39;error&#39; in this case.

~John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John S. De Stefano Jr.</pre></div><div class='update_description'><i onclick="document.location='25113#1432652750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T15:05:50+00:00">May 26, 2015 03:05 PM UTC</time><a class="anchor" name="1432652750">&nbsp;</a></div><pre>Thanks, Dave.  However, on more than one machine, I saw that error when &#34;ls /cvmfs/nova.opensciencegrid.org&#34; hung on the terminal.  It didn&#39;t return any output for at least 5 minutes.  Just now, it worked fine on both machines so maybe it was just a temporary glitch.  I&#39;ll keep an eye on it and let you know if I see it again.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432652462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T15:01:02+00:00">May 26, 2015 03:01 PM UTC</time><a class="anchor" name="1432652462">&nbsp;</a></div><pre>[Adding BNL Stratum 1 administrator on Cc]
That log message is because the BNL Stratum 1 hasn&#39;t yet upgraded to cvmfs-server-2.1.20.  There&#39;s nothing wrong at your site.  The clients fail over to one of the other two servers.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1432650860'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T14:34:20+00:00">May 26, 2015 02:34 PM UTC</time><a class="anchor" name="1432650860">&nbsp;</a></div><pre>Hi,

On my test machine last week, I could list the contents of /cvmfs/nova.opensciencegrid.org

However, today when I issue the command &#34;ls /cvmfs/nova.opensciencegrid.org&#34; I see the following errors in my logs&#58;

May 26 10&#58;27&#58;57 net2 cvmfs2&#58; (nova.opensciencegrid.org) GeoAPI request <a href='http&#58;//cvmfs-s1bnl.opensciencegrid.org&#58;8000/cvm' target='_blank' rel='nofollow'>http&#58;//cvmfs-s1bnl.opensciencegrid.org&#58;8000/cvm</a>
fs/nova.opensciencegrid.org/api/v1.0/geo/@proxy@/cvmfs-s1bnl.opensciencegrid.org,cvmfs-s1fnal.opensciencegrid.org,cvmf
s-s1goc.opensciencegrid.org failed with error 9 [host returned HTTP error]
May 26 10&#58;27&#58;57 net2 cvmfs2&#58; (nova.opensciencegrid.org) geographic order of servers retrieved from cvmfs-s1fnal.opensc
iencegrid.org

Could there be something wrong with my configuration or is this a problem upstream?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432647494'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T13:38:14+00:00">May 26, 2015 01:38 PM UTC</time><a class="anchor" name="1432647494">&nbsp;</a></div><pre>Hi Chris,

Actually, Tim Cartwright notified me of a patch for globus-gram-job-manager that would fix the OSG 3.2 problem we were seeing.  I installed that patch and we seem to be operating smoothly on 3.2 now.  Last week, I started a testing branch in our puppet code so that we could roll out the CVMFS upgrade site-wide.  I need to finalize testing this week and roll it out.  Hopefully, I will have this resolved by the end of the week.  Sorry again for the delays - it has been a crazy couple of weeks with a datacenter power outage and some other time-consuming events.  I&#39;ll keep you posted.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1432645790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-26T13:09:50+00:00">May 26, 2015 01:09 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1432645790">&nbsp;</a></div><pre>Hi Dan,

Have you been able to roll back to 3.1 and apply the fix you mentioned before?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='25113#1431444773'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-12T15:32:53+00:00">May 12, 2015 03:32 PM UTC</time><a class="anchor" name="1431444773">&nbsp;</a></div><pre>Hi Chris,

Not quite yet.  I&#39;ve had to hold off because we recently had an unsuccessful upgrade from OSG 3.1 to 3.2.  We&#39;re about to roll back to 3.1.  So, this will have to wait until after that.  But I&#39;ll keep you posted once it has happened.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1431443945'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-12T15:19:05+00:00">May 12, 2015 03:19 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1431443945">&nbsp;</a></div><pre>Hi Daniel,

Do you have an update on this, has it been fixed?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='25113#1430918840'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-06T13:27:20+00:00">May 6, 2015 01:27 PM UTC</time><a class="anchor" name="1430918840">&nbsp;</a></div><pre>Hi Kenneth,

I think I see the problem.  I&#39;ll update you once it has been fixed.  Sorry for the delay.

Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1430859803'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T21:03:23+00:00">May 5, 2015 09:03 PM UTC</time><a class="anchor" name="1430859803">&nbsp;</a></div><pre>Hi,

No, our tests do not see either the nova.opensciencegrid.org or the fermilab.opensciencegrid.org repository (nova will eventually need both so we should do both now.) Did you install the osg-oasis rpm by the way? That should have set everything up automatically. Just in case there&#39;s a chance that it&#39;s simply a matter of the changes not having propagated yet, I will try again in a few hours.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='25113#1430852631'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-05T19:03:51+00:00">May 5, 2015 07:03 PM UTC</time><a class="anchor" name="1430852631">&nbsp;</a></div><pre>Hi,

I followed the given instructions and believe that I have resolved the issue.  Please confirm that your tests also show the issue as being resolved.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1430494105'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-01T15:28:25+00:00">May 1, 2015 03:28 PM UTC</time><a class="anchor" name="1430494105">&nbsp;</a></div><pre>Hi Dave,

Thanks for the guidance.  I just performed the OSG 3.2 upgrade yesterday and I&#39;m currently working out the kinks with that transition.  Once I have our system stabilized again, I&#39;ll be working on this.  I&#39;ll keep this thread updated with my progress and let you know if I have any questions.

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1430343914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T21:45:14+00:00">Apr 29, 2015 09:45 PM UTC</time><a class="anchor" name="1430343914">&nbsp;</a></div><pre>Dan,

If possible, please follow the instructions at <a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallCvmfs' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallCvmfs</a> for installing and configuring CVMFS.  That will set up the configuration so it can automatically mount all /cvmfs/*.opensciencegrid.org repositories without any more intervention on your part.  The number of repositories is growing so this will be easier than having a new configuration for every repository.  If you have any difficulty with those instructions let me know and I&#39;ll help you through.

Dave

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Dave Dykstra 508</pre></div><div class='update_description'><i onclick="document.location='25113#1430339971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T20:39:31+00:00">Apr 29, 2015 08:39 PM UTC</time> by <b>Tanya Levshina</b><a class="anchor" name="1430339971">&nbsp;</a></div><pre>adding Dave to cc. Dave, could you please look?
Thanks,
Tanya</pre></div><div class='update_description'><i onclick="document.location='25113#1430339776'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T20:36:16+00:00">Apr 29, 2015 08:36 PM UTC</time><a class="anchor" name="1430339776">&nbsp;</a></div><pre>I tried the public key that I had and set CVMFS_SERVER_URL=<a href='http&#58;//nova.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//nova.opensciencegrid.org</a> but that didn&#39;t seem to work.  Would you be able to provide those two values for me so that I can be sure I have them correct?

Thanks so much.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1430335175'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-29T19:19:35+00:00">Apr 29, 2015 07:19 PM UTC</time><a class="anchor" name="1430335175">&nbsp;</a></div><pre>Hi,

I think it should be the same as the fermilab.opensciencegrid.org key.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='25113#1430166994'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-27T20:36:34+00:00">Apr 27, 2015 08:36 PM UTC</time><a class="anchor" name="1430166994">&nbsp;</a></div><pre>Hi,

Is there a CVMFS_PUBLIC_KEY for this server?

Thanks.
Dan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dcaunt/CN=763648/CN=Daniel Caunt</pre></div><div class='update_description'><i onclick="document.location='25113#1430149332'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-04-27T15:42:12+00:00">Apr 27, 2015 03:42 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1430149332">&nbsp;</a></div><pre>Hi,

The NOvA experiment is now making use of its CVMFS repository at nova.opensciencegrid.org, which will eventually replace the oasis.opensciencegrid.org/nova repository. Several tests have shown the nova.opensciencegrid.org isn&#39;t mounted on the Harvard worker nodes. Would you please add this mount point?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F25113">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 25113});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
