<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12536] RSV errors at BU Tier2</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12536" method="post">
<div class="page-header">
    <h3><span class="muted">12536</span> / RSV errors at BU Tier2</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Augustine Abaravichyus</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">BU_ATLAS_Tier2</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">BU_ATLAS_Tier2</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Augustine Abaravichyus</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">review</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-10-16</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Doug Strain <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=22392">22392</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12536", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12536#1349819690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T21:54:50+00:00">Oct 9, 2012 09:54 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1349819690">&nbsp;</a></div><pre>(There was an attachment syn issue. Touching this to force re-try)</pre></div><div class='update_description'><i onclick="document.location='12536#1349819191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T21:46:31+00:00">Oct 9, 2012 09:46 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1349819191">&nbsp;</a></div><pre>Hi Elizabeth,

Marco&#39;s fix works. RSV is all green now.

- Saul

======================================
Saul, Let us know if the probe solves your problem. Thank you, Elizabeth
-- by youssef@.... at Tue Oct 09 21&#58;46&#58;14 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=22392</pre></div><div class='update_description'><i onclick="document.location='12536#1349815674'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T20:47:54+00:00">Oct 9, 2012 08:47 PM UTC</time><a class="anchor" name="1349815674">&nbsp;</a></div><pre>Saul,

Let us know if the probe solves your problem.

Thank you,
Elizabeth

by /DC=org/DC=doegrids/OU=People/CN=Elizabeth Chism 100912</pre></div><div class='update_description'><i onclick="document.location='12536#1349802165'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T17:02:45+00:00">Oct 9, 2012 05:02 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1349802165">&nbsp;</a></div><pre>There is a bug in the probe&#58; the path of the file on the SRM server and the one local to the RSV server are the same.
This causes a problem when the RSV server is also the SRM server.

Mat will fix the probe for the next release of OSG.

Saul, Augustine, I left a modified version of the probe in my home directory that will fix the problem&#58;
on atlas-net2&#58; /home/collab/mambelli/srmcp-srm-probe-marco
please copy that over the existing probe&#58;
/usr/libexec/rsv/probes/srmcp-srm-probe

This should solve the problem.
Let me know</pre></div><div class='update_description'><i onclick="document.location='12536#1349795113'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T15:05:13+00:00">Oct 9, 2012 03:05 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1349795113">&nbsp;</a></div><pre>I&#39;m working on it logging in at the site to do some troubleshooting.
Marco

On Tue, 9 Oct 2012, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1349794062'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T14:47:42+00:00">Oct 9, 2012 02:47 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1349794062">&nbsp;</a></div><pre>Still active. Marco has a local account and is looking around. - Saul

On Tue Oct 09 10&#58;36&#58;17 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; What is going on with this ticket? Is it still active?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- Tim</font>
<font color='#7F7E6F'>&#62; -- by Tim Cartwright at Tue Oct 09 14&#58;35&#58;09 UTC 2012</font>
-- by youssef@.... at Tue Oct 09 14&#58;47&#58;27 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=22392</pre></div><div class='update_description'><i onclick="document.location='12536#1349793309'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-09T14:35:09+00:00">Oct 9, 2012 02:35 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1349793309">&nbsp;</a></div><pre>What is going on with this ticket? Is it still active?

-- Tim</pre></div><div class='update_description'><i onclick="document.location='12536#1349133069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-01T23:11:09+00:00">Oct 1, 2012 11:11 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1349133069">&nbsp;</a></div><pre>What about doing something on Wednesday?
I can be available when convenient to you.
Let me know who should I contact and I&#39;ll contact him/her off the ticket
to ask about how to login.
You know my email and my phone is 773 834 6696.

Thanks,
Marco

On Mon, 1 Oct 2012, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1349111343'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-10-01T17:09:03+00:00">Oct 1, 2012 05:09 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1349111343">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Now let me see if I can do something for the SRM one as well.</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Marco</font>
<font color='#7F7E6F'>&#62;</font>

Hi Marco,

Let us know if you we can do something to help or if you want to nose around
with a local account.

- Saul

<font color='#7F7E6F'>&#62; On Thu, 27 Sep 2012, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
<font color='#7F7E6F'>&#62; -- by Marco Mambelli at Thu Sep 27 19&#58;14&#58;12 UTC 2012</font>
-- by youssef@.... at Mon Oct 01 17&#58;08&#58;47 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=22392</pre></div><div class='update_description'><i onclick="document.location='12536#1348773252'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-27T19:14:12+00:00">Sep 27, 2012 07:14 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1348773252">&nbsp;</a></div><pre>Good, one down.
The fixed probe will be included in the next RSV release.
Anyway you may want to replace your probe in
/usr/libexec/rsv/probes/crl-freshness-probe

with the one I sent you. So it will point out to the CRL at fault if there
are new problems.

Excluding the CA certificate works to fix CRL problems, anyway as first
attempt I would try to delete the old CRL and refetch it.
Excluding a CA you excplude also the users that registered with that CA.

If the fatch of a CRL fails you may open a GOC ticket about it and the CA
or the network people will be involved to fix the problem.

Now let me see if I can do something for the SRM one as well.
Cheers,
Marco

On Thu, 27 Sep 2012, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1348770736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-27T18:32:16+00:00">Sep 27, 2012 06:32 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1348770736">&nbsp;</a></div><pre>Marco,

this is terrific.  New freshness probe worked.  I still had to
delete (and exclude) a romanian grid certificate and now CRL test passes.

So now there&#39;s just the srm test that&#39;s failing.

Thank you and everyone else working on this for all the help!

- Augustine

On 09/27/2012 01&#58;33 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1348767192'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-27T17:33:12+00:00">Sep 27, 2012 05:33 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1348767192">&nbsp;</a></div><pre>About the CRL probe.
Can you please replace crl-freshness-probe with the one attached to the ticket and retry?

I found a bug in the probe. Under certain condition it reports the wrong CRL as missing.
Probably you have a missing/wrong CRL but it is not the one we tested.
The file is updated every 9 hours, so the md5sum may be different from the one I sent, do not worry. Now I have&#58;
600f2f3131fe373f235719e2fbdad949  /etc/grid-security/certificates/1d879c6c.r0

Thank you,
Marco

by /DC=org/DC=doegrids/OU=People/CN=Marco Mambelli 325802</pre></div><div class='update_description'><i onclick="document.location='12536#1348692432'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-26T20:47:12+00:00">Sep 26, 2012 08:47 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1348692432">&nbsp;</a></div><pre>Yes, all of these worked.

On 09/25/2012 06&#58;22 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1348692251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-26T20:44:11+00:00">Sep 26, 2012 08:44 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1348692251">&nbsp;</a></div><pre>Marco,

I got a different checksum than you.

atlas-net2&#58;/etc/grid-security/certificates# md5sum 1d879c6c.r0
32b74a7b995c0f8c9ef2f5d5b5e461e7  1d879c6c.r0

Output and error files are in the attached rsv-crl-output.tgz

- Augustine

On 09/25/2012 05&#58;49 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1348611747'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-25T22:22:27+00:00">Sep 25, 2012 10:22 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1348611747">&nbsp;</a></div><pre>About the SRM probe, can you test also the following 2 tests?

3 - variation of 2) Can you manually try using the rsv credentials?  From root, try&#58;
$ su - rsv
$ export X509_USER_PROXY=/tmp/rsvproxy
$ srm-copy file&#58;////usr/share/rsv/probe-helper-files/storage-probe-test-file <a href='srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/manual_rsv_test' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/manual_rsv_test</a>
$ srm-rm <a href='srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/manual_rsv_test' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/manual_rsv_test</a>

4) Can you manually try using the rsv credentials to run globus commands?  From root, try&#58;
$ su - rsv
$ export X509_USER_PROXY=/tmp/rsvproxy
$ globus-job-run atlas-net2.bu.edu /bin/ls -l /tmp/
$ globus-job-run atlas-net2.bu.edu /bin/touch /tmp/manual_rsv_test
$ globus-job-run atlas-net2.bu.edu /bin/rm /tmp/manual_rsv_test

Let us know it these work.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mambelli/CN=621693/CN=Marco Mambelli</pre></div><div class='update_description'><i onclick="document.location='12536#1348609762'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-25T21:49:22+00:00">Sep 25, 2012 09:49 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1348609762">&nbsp;</a></div><pre>Hi Augustin,
could you check the MD5 sum of the CRL file?
You should get something like&#58;
{code}
$ md5sum 1d879c6c.r0
b72c6d363e9c2ecc407e9997630a942c  1d879c6c.r0
{code}

Then I uploaded the probes (these should be the same that you have installed).
Can you uncompress the tgz file in a test directory and run them on the gatekeeper (any user is OK, no privileges or certificates are needed) using something like&#58;
{code}
./crl-freshness-probe -v --error-file ./errfile.txt --cacerts-dir /etc/grid-security/certificates/ &#62; ./outfile.txt
{code}

Thanks,
Marco

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=mambelli/CN=621693/CN=Marco Mambelli</pre></div><div class='update_description'><i onclick="document.location='12536#1348606568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-25T20:56:08+00:00">Sep 25, 2012 08:56 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1348606568">&nbsp;</a></div><pre>Hi Doug,

rsv account appears fine (I believe it was created by the rpm install).

1).  It has valid shell and directory, and no password entry in the
shadow file.  &#34;su - rsv&#34; works fine.

2)   Appeared to have worked.  I attached the output.

Thank you for following up on this, please let me know what else I could
do to help troubleshoot this.

- Augustine Abaris

On 09/24/2012 02&#58;56 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1348606209'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-25T20:50:09+00:00">Sep 25, 2012 08:50 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1348606209">&nbsp;</a></div><pre>Marco,

Thank you for following up on this.  I deleted the empty r0 file and ran
fetch-crl .. It now contains cert however RSV test still fails.

-- Listing of certificate files---
atlas-net2&#58;grid-security/certificates % ls -l |grep 1d879c6c
lrwxrwxrwx 1 root root    12 Sep 12 22&#58;51 1d879c6c.0 -&#62; CERN-TCA.pem
-rw-r--r-- 1 root root  3664 Sep 25 16&#58;05 1d879c6c.r0
lrwxrwxrwx 1 root root    23 Sep 12 22&#58;51 1d879c6c.signing_policy -&#62; CE

-- output of rsv-control ---

atlas-net2&#58;grid-security/certificates % rsv-control --run --host
atlas-net2.bu.edu org.osg.certificates.crl-expiry

Running metric org.osg.certificates.crl-expiry&#58;

metricName&#58; org.osg.certificates.crl-expiry
metricType&#58; status
timestamp&#58; 2012-09-25 16&#58;47&#58;59 EDT
metricStatus&#58; CRITICAL
serviceType&#58; OSG-CE
serviceURI&#58; atlas-net2.bu.edu
gatheredAt&#58; atlas-net2.bu.edu
summaryData&#58; CRITICAL
detailsData&#58; CRITICAL&#58; 98 CRLs tested.
0 had not been updated for at least 72 hours;
0 CRLs have not been updated for at least 9 hours;
98 CRLs have been updated with the last 9 hours.
1 CRL/s is/are missing.

2012-09-25T20&#58;47&#58;47Z
WARNING&#58; MISSING&#58; CRL file for 1d879c6c (type 1) is missing. OSG policy
requires CRL for every CA distributed by OSG.
<div id='show_1474014646' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1474014646'>CRITICAL&#58; Warning messages persisted too long. Escalating WARNING to ERROR.

EOT

On 09/24/2012 12&#58;48 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1474014646').click(function() {
            $('#detail_1474014646').slideDown("normal");
            $('#show_1474014646').hide();
            $('#hide_1474014646').show();
        });
        $('#hide_1474014646').click(function() {
            $('#detail_1474014646').slideUp();
            $('#hide_1474014646').hide();
            $('#show_1474014646').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12536#1348512980'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-24T18:56:20+00:00">Sep 24, 2012 06:56 PM UTC</time><a class="anchor" name="1348512980">&nbsp;</a></div><pre>Hello,

Meanwhile, I am continuing to struggle with the RSV srm storage probe error.  Now that we have eliminated the adler checksum, I would like to return to the rsv user credentials again.  (It seems that other accesses using your credentials, my credentials, and others are working fine, so I suspect something wrong with the rsv account).

Can you try the following&#58;

1) Can you see if there is anything wrong with the rsv account?  Can you doublecheck that it has an entry in /etc/passwd?  Does it have a shell and valid directory set?  Does it have a password in /etc/shadow?  Can you do &#34;su - rsv&#34; (as the root account) and log in okay?
2) Can you manually try using the rsv credentials?  From root, try&#58;
$ su - rsv
$ export X509_USER_PROXY=/tmp/rsvproxy
$ srm-copy file&#58;////usr/share/rsv/probe-helper-files/storage-probe-test-file <a href='srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/manual_rsv_test' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/manual_rsv_test</a>
And see if it works?

Hopefully, we can fix this!

Doug Strain
OSG Software

-- by Douglas Strain</pre></div><div class='update_description'><i onclick="document.location='12536#1348505328'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-24T16:48:48+00:00">Sep 24, 2012 04:48 PM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1348505328">&nbsp;</a></div><pre>Hi Augustine,
about the other probe failing, the one about the missing CRL.
Can you run fetch-crl by hand?
and can you provide the output of &#34;ls -l 1d879c6c*&#34; from the certificate directory (probably /etc/grid-security/certificates)?
The CA in question is one at CERN, so disabling it is not an option.
Let&#39;s try to find out why you are unable to update the CRLs.

If 1d879c6c.r0 is there but has length 0, try to remove it and rerun the update.

Thank you,
Marco</pre></div><div class='update_description'><i onclick="document.location='12536#1348154108'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-20T15:15:08+00:00">Sep 20, 2012 03:15 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1348154108">&nbsp;</a></div><pre>Doug,

I commented out the lines from bestman config, restarted the
service and re-ran rsv tests.  Sadly, I&#39;m still getting the same errors.

Thank you for your time looking at this.

- Augustine

On 09/18/2012 03&#58;37 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1347997056'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-18T19:37:36+00:00">Sep 18, 2012 07:37 PM UTC</time><a class="anchor" name="1347997056">&nbsp;</a></div><pre>It looks like my previous email was a red herring.  I was able to use a proxy generated from a service cert on a test install and it worked fine.  I tried to replicate your bestman settings and everything I tried still worked correctly.  The only thing that I was unable to replicate was the adler checksumming.  I also noticed that was added to the bestman server recently.  I am wondering if this is causing the problem.  It seems to be a newer version than the adler32.py version on our twiki.

I&#39;d recommend (for now at least) commenting the following lines&#58;

defaultChecksumType=adler32
showChecksumWhenListingFile=true
hexChecksumCommand=/home/adler/adler32.py

There&#39;s quite a bit going on in that script, and it seems sensitive to the permissions of the directory as well as to the contents of the io_tokens directory (latest io_token is Apr 17 doesn&#39;t seem right).  I&#39;m not sure if its set up correctly.  Since I am unfamiliar with this adler32.py script, I would recommend disabling it for now.  If that fixes the problem, you will probably need to contact the developer (Saul Youssef) to figure that piece out.

Doug Strain
OSG Software

-- by Douglas Strain</pre></div><div class='update_description'><i onclick="document.location='12536#1347916928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-17T21:22:08+00:00">Sep 17, 2012 09:22 PM UTC</time><a class="anchor" name="1347916928">&nbsp;</a></div><pre>So, I think this may be happening because you have everything set to default in 30-rsv.ini&#58;

service_cert  = DEFAULT
service_key  = DEFAULT
service_proxy = DEFAULT

I need to investigate to see what this does exactly, but I bet RSV is creating the proxy from /etc/grid-security/rsv/rsv[cert/key].pem and not doing it right.  I think we had a similar issue once, but I can no longer find it.  Give me a day or two to test this out and see if I can replicate it.

Doug Strain
OSG Software

-- by Douglas Strain</pre></div><div class='update_description'><i onclick="document.location='12536#1347657669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-14T21:21:09+00:00">Sep 14, 2012 09:21 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1347657669">&nbsp;</a></div><pre>Hi Doug,

I&#39;ll try answering your questions in order.

1)  &#34;/DC=org/DC=doegrids/OU=Services/CN=rsv/atlas-net2.bu.edu&#34; rsv

2)  I am at this point not sure how the proxy got generated.  On
atlas.bu.edu (old osg I&#39;m working on retiring) I have a cron script to
do this.  This new install if my memory is correct generated one for me?
(my impression is that rsv-control command that&#39;s calelled from condor
cron generates this?).

Does this help to answer the question?
-sh-3.1$ grid-proxy-info -f /tmp/rsvproxy
subject  &#58;
/DC=org/DC=doegrids/OU=Services/CN=rsv/atlas-net2.bu.edu/CN=603019349
issuer   &#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/atlas-net2.bu.edu
identity &#58; /DC=org/DC=doegrids/OU=Services/CN=rsv/atlas-net2.bu.edu
type     &#58; RFC 3820 compliant impersonation proxy
strength &#58; 512 bits
path     &#58; /tmp/rsvproxy
timeleft &#58; 7&#58;49&#58;39

In my case it&#39;s 30-rsv.ini and it&#39;s not clearly organised by sections so
I&#39;m attaching the whole file.

3)  our /etc/grid-security/gsi-authz.conf has no configuration (the only
line in it is commented out).  I hope that answers your question, I am
not sure what additional details are useful.

4)  I ran requested command using my own credentials and it seemed to
have worked.  Output is attached in srmtest.output file.

5)  I re-made the proxy file by hand using&#58;
voms-proxy-init --cert /etc/grid-security/rsv/rsvcert.pem --key
<div id='show_301787776' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_301787776'>/etc/grid-security/rsv/rsvkey.pem --out /tmp/rsvproxy
it did not seem to make a difference.

Thank you everyone for all your help.  I should have more time to work
on this next week, please let me know what additional information I can
provide.

Have a nice weekend.

- Augustine Abaris

On 09/13/2012 12&#58;45 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_301787776').click(function() {
            $('#detail_301787776').slideDown("normal");
            $('#show_301787776').hide();
            $('#hide_301787776').show();
        });
        $('#hide_301787776').click(function() {
            $('#detail_301787776').slideUp();
            $('#hide_301787776').hide();
            $('#show_301787776').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12536#1347627357'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-14T12:55:57+00:00">Sep 14, 2012 12:55 PM UTC</time><a class="anchor" name="1347627357">&nbsp;</a></div><pre>-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12536#1347554742'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-13T16:45:42+00:00">Sep 13, 2012 04:45 PM UTC</time><a class="anchor" name="1347554742">&nbsp;</a></div><pre>Hello,

I&#39;m Doug Strain, and I handle many of the storage related problems in the OSG Software.  Matyas has already sent me information on the storage probes problem.  I suspect it is a problem with the rsv account and/or credentials.  The reason that I suspect this is that I manually used my own credentials to srm-copy a file into /tmp with the same procedure that the probe does.  It worked fine.  However, I am mapped to &#34;osg&#34; credentials.
The failure mode in this case is a bit odd, as the rsv probe seems to register success at the SRM level but then creates only a blank/non-existant file.  In addition, the srm-ping probe correctly authenticates the user as &#34;rsv&#34; (you can see it at the bottom &#34;localIDMapped=rsv&#34;)  This may suggest that BeStMan is correctly handling the rsv probe credentials, but that GridFTP is not.  I also noticed that your rsv credential does not have voms attributes (using grid-proxy-init rather than voms-proxy-init?)

I&#39;d like to try the following steps to debug the srmcopy probe issue&#58;
1) Can you send the line(s) in /etc/grid-security/gridmap-file for rsv?
2) Can you let me know how you are generating /tmp/rsvproxy?  Are you generating it using rsv&#39;s service cert/proxy?  Can you send the storage section in 40-rsv.ini?
3) How is the GridFTP security set up?  Are you using lcmaps?  Can you check /etc/grid-security/gsi-authz.conf to see if you are using lcmaps?  This may conflict with your local gridmap-file.
4) As Matyas has requested, I would like you to run &#34;X509_USER_PROXY=/tmp/rsvproxy ; srm-copy file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file <a href='srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/storage-probe-test-file&#34' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/storage-probe-test-file&#34</a>; and see if it works.  You may need to do this as non-root (root I think tries to use the hostcerts if available).
5) If that does not work, could you try generating the rsv credentials using voms-proxy-init instead to add the voms extensions?  I am wondering if that is the issue.

Hopefully these steps will illuminate what is happening.  Let me know if you have any questions.

Doug Strain
OSG Software

-- by Douglas Strain</pre></div><div class='update_description'><i onclick="document.location='12536#1347547464'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-13T14:44:24+00:00">Sep 13, 2012 02:44 PM UTC</time><a class="anchor" name="1347547464">&nbsp;</a></div><pre>Augustine,

I had a similar problem with Iran grid that disappeared (permanently) when I deleted their CA files.

Thank you,
Elizabeth

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12536#1347497391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-13T00:49:51+00:00">Sep 13, 2012 12:49 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1347497391">&nbsp;</a></div><pre>Hi Augustine,

Well, 0a2bac92 looks like a transient error that will probably get fixed the next time fetch-crl runs.
d33760ec looks like it might be a false positive in the probe (which we&#39;re looking at, some other sites have been seeing similar issues).
Both 0a12b607 and 0a49430a come from sites that are unaccessible from atlas-net2 due to some networking issue (<a href='http&#58;//ca.ugrid.org/cacrl.der' target='_blank' rel='nofollow'>http&#58;//ca.ugrid.org/cacrl.der</a> and <a href='http&#58;//ca.grid.arn.dz/pki/pub/crl/cacrl.crl' target='_blank' rel='nofollow'>http&#58;//ca.grid.arn.dz/pki/pub/crl/cacrl.crl</a>) that probably needs fixing.

As for the SRM issue, you don&#39;t need to make a separate ticket. I&#39;ve added Doug Strain (he wrote the SRM probe and is our storage expert in general) to this one; he can help figure this out. I would like to manually try some srm-copy runs as the rsv user, but I don&#39;t have access to /tmp/rsvproxy (it&#39;s owned by rsv and chmodded 0600). If you have access, can you try running

srm-copy file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file &#39;<a href='srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/storage-probe-test-file&#39' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/storage-probe-test-file&#39</a>;

as rsv, with X509_USER_PROXY set to &#34;/tmp/rsvproxy&#34; in the environment, and seeing if /tmp/storage-probe-test-file is really there and non-empty afterwards? If not, add the -debug option and attach the output.

-Mat</pre></div><div class='update_description'><i onclick="document.location='12536#1347485768'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-12T21:36:08+00:00">Sep 12, 2012 09:36 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1347485768">&nbsp;</a></div><pre>I added&#58;

exclude_ca=3f0f4285
exclude_ca=0a12b607
exclude_ca=0a2bac92
exclude_ca=0a49430a
exclude_ca=d33760ec

the first value was accepted, the additional ones seem to be ignored&#58;

atlas-net2&#58;/etc/osg % rsv-control --run --host atlas-net2.bu.edu
org.osg.certificates.crl-expiry

Running metric org.osg.certificates.crl-expiry&#58;

metricName&#58; org.osg.certificates.crl-expiry
metricType&#58; status
timestamp&#58; 2012-09-12 17&#58;29&#58;09 EDT
metricStatus&#58; CRITICAL
serviceType&#58; OSG-CE
serviceURI&#58; atlas-net2.bu.edu
gatheredAt&#58; atlas-net2.bu.edu
summaryData&#58; CRITICAL
detailsData&#58; CRITICAL&#58; Probe ended with unexpected error condition
2012-09-12T21&#58;28&#58;58Z
CRITICAL&#58; CRL file for CA with hash 0a12b607 has not been updated since
2012/08/28 18&#58;38&#58;18
WARNING&#58; CRL file for CA with hash 0a2bac92 has not been updated since
2012/09/12 06&#58;35&#58;36
CRITICAL&#58; CRL file for CA with hash 0a49430a has not been updated since
2012/08/22 06&#58;36&#58;35
WARNING&#58; MISSING&#58; CRL file for d33760ec (type 1) is missing. OSG policy
requires CRL for every CA distributed by OSG.

EOT
<div id='show_497511558' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_497511558'>
Directions I found here&#58;
<a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html</a>
state that I am to delete these files from /etc/grid-security/certificates.

Also, as I said earlier, my concern is that there is such a large number
of these failing.

Finally, any ideas about 2nd RSV test failure (SRM deletions). Do I need
to open a separate ticket for that?

Thank you.

- Augustine

On 09/11/2012 06&#58;15 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_497511558').click(function() {
            $('#detail_497511558').slideDown("normal");
            $('#show_497511558').hide();
            $('#hide_497511558').show();
        });
        $('#hide_497511558').click(function() {
            $('#detail_497511558').slideUp();
            $('#hide_497511558').hide();
            $('#show_497511558').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12536#1347401710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-11T22:15:10+00:00">Sep 11, 2012 10:15 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1347401710">&nbsp;</a></div><pre>Try editing /etc/osg/osg-update-certs.conf and adding exclude_ca lines for the hashes of the CAs that you don&#39;t want.
For example,
exclude_ca=3f0f4285

-Mat</pre></div><div class='update_description'><i onclick="document.location='12536#1347389654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-11T18:54:14+00:00">Sep 11, 2012 06:54 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1347389654">&nbsp;</a></div><pre>So it looks like ca.ugrid.org is not pingable from our net2 subnet at
all, but not because of the firewall rules.  Comparing traceroutes it
seems to take a very different path from net2 subnet than from any other
system I tried this on.

atlas-net2&#58;/home/scv/augustin# traceroute ca.ugrid.org
traceroute to ca.ugrid.org (77.47.192.50), 30 hops max, 40 byte packets
1  atlas-net-gw.bu.edu (192.5.207.1)  2.057 ms  2.056 ms  2.051 ms
2  nox300gw1-vl-597-nox-bu.nox.org (192.5.89.141)  0.489 ms 0.548 ms
0.681 ms
3  nox300gw1-peer-nox-internet2-192-5-89-222.nox.org (192.5.89.222)
9.129 ms  9.135 ms  9.133 ms
4  198.32.11.51 (198.32.11.51)  81.098 ms  81.296 ms  93.210 ms
5  so-2-0-0.rt1.fra.de.geant2.net (62.40.112.9)  88.080 ms 100.146 ms
88.133 ms
6  xe-1-2-0.rt1.poz.pl.geant.net (62.40.112.62)  129.759 ms 117.693
ms  117.668 ms
7  uran-gw.rt1.poz.pl.geant.net (62.40.124.250)  143.070 ms 143.533
ms  143.773 ms
8   (77.47.128.1)  185.145 ms  178.416 ms  178.403 ms
9  * * *
10  * * *
11  * * *

Can I disable this site?  What&#39;s the best way to do it.  I have tried
just deleting the certs files, yet found that after one is removed
another site cert update fails.. ended up removing more than a dozen
site files this way from /etc/grid-security/certificates directory, than
decided that I was doing something wrong and restored the original
contents of that directory.

- Augustine

On 09/07/2012 10&#58;07 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1347070063'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-08T02:07:43+00:00">Sep 8, 2012 02:07 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1347070063">&nbsp;</a></div><pre>Hi all,
Still working on this. I don&#39;t think the presence of all those .crl_url files indicates a problem--that&#39;s what it looks like on a test system I spun up.
Can you look at your firewall rules? Running &#34;wget <a href='http&#58;//ca.ugrid.org/cacrl.der&#34' target='_blank' rel='nofollow'>http&#58;//ca.ugrid.org/cacrl.der&#34</a>; works just fine on my machine, but it fails to connect when I try it on atlas-net2. That could be a problem with why some of your CRLs are not getting updated.
-Mat</pre></div><div class='update_description'><i onclick="document.location='12536#1346861845'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-05T16:17:25+00:00">Sep 5, 2012 04:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346861845">&nbsp;</a></div><pre>OK. Could you send me an email (youssef@....) with your phone #? We&#39;ll set it
up and call you. - Saul

On Wed Sep 05 10&#58;24&#58;12 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Yes, a local account would help a lot.</font>
<font color='#7F7E6F'>&#62; -- by Matyas Selmeci at Wed Sep 05 14&#58;23&#58;24 UTC 2012</font>
-- by youssef@.... at Wed Sep 05 16&#58;17&#58;13 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=22392</pre></div><div class='update_description'><i onclick="document.location='12536#1346861773'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-05T16:16:13+00:00">Sep 5, 2012 04:16 PM UTC</time><a class="anchor" name="1346861773">&nbsp;</a></div><pre>I am setting a reminder for GOC to review this ticket.

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12536#1346855004'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-05T14:23:24+00:00">Sep 5, 2012 02:23 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1346855004">&nbsp;</a></div><pre>Yes, a local account would help a lot.</pre></div><div class='update_description'><i onclick="document.location='12536#1346846780'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-05T12:06:20+00:00">Sep 5, 2012 12:06 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346846780">&nbsp;</a></div><pre>Hi Matyas,

Any suggestions? We can get you a local account if that would speed things up.
We&#39;d like to get this site online ASAP.

- Saul Youssef

On Thu Aug 30 16&#58;33&#58;11 2012, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; With -v option it gave me 3 warnings but no errors&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; grep valid /tmp/fetch-crl.output |grep -v &#34;valid&#58; yes&#34;</font>
<font color='#7F7E6F'>&#62; fetch-crl[29281]&#58; 20120830T161539-0400 could not download a valid file</font>
<font color='#7F7E6F'>&#62; from &#39;<a href='http&#58;//ca.grid.arn.dz/pki/pub/crl/cacrl.crl&#39' target='_blank' rel='nofollow'>http&#58;//ca.grid.arn.dz/pki/pub/crl/cacrl.crl&#39</a>;</font>
<font color='#7F7E6F'>&#62; fetch-crl[29281]&#58; 20120830T161610-0400 could not download a valid file</font>
<font color='#7F7E6F'>&#62; from &#39;<a href='http&#58;//www.romaniangrid.ro/crl/crl-v2.der&#39' target='_blank' rel='nofollow'>http&#58;//www.romaniangrid.ro/crl/crl-v2.der&#39</a>;</font>
<font color='#7F7E6F'>&#62; fetch-crl[29281]&#58; 20120830T161635-0400 could not download a valid file</font>
<font color='#7F7E6F'>&#62; from &#39;<a href='http&#58;//ca.ugrid.org/cacrl.der&#39' target='_blank' rel='nofollow'>http&#58;//ca.ugrid.org/cacrl.der&#39</a>;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 08/29/2012 10&#58;32 PM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; [Duplicate message snipped]</font>
<font color='#7F7E6F'>&#62; -- by augustine@.... at Thu Aug 30 20&#58;32&#58;19 UTC 2012</font>
-- by youssef@.... at Wed Sep 05 12&#58;06&#58;08 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=22392</pre></div><div class='update_description'><i onclick="document.location='12536#1346358739'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T20:32:19+00:00">Aug 30, 2012 08:32 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1346358739">&nbsp;</a></div><pre>With -v option it gave me 3 warnings but no errors&#58;

grep valid  /tmp/fetch-crl.output |grep -v &#34;valid&#58; yes&#34;
fetch-crl[29281]&#58; 20120830T161539-0400 could not download a valid file
from &#39;<a href='http&#58;//ca.grid.arn.dz/pki/pub/crl/cacrl.crl&#39' target='_blank' rel='nofollow'>http&#58;//ca.grid.arn.dz/pki/pub/crl/cacrl.crl&#39</a>;
fetch-crl[29281]&#58; 20120830T161610-0400 could not download a valid file
from &#39;<a href='http&#58;//www.romaniangrid.ro/crl/crl-v2.der&#39' target='_blank' rel='nofollow'>http&#58;//www.romaniangrid.ro/crl/crl-v2.der&#39</a>;
fetch-crl[29281]&#58; 20120830T161635-0400 could not download a valid file
from &#39;<a href='http&#58;//ca.ugrid.org/cacrl.der&#39' target='_blank' rel='nofollow'>http&#58;//ca.ugrid.org/cacrl.der&#39</a>;

On 08/29/2012 10&#58;32 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1346293957'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T02:32:37+00:00">Aug 30, 2012 02:32 AM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1346293957">&nbsp;</a></div><pre>Hi Augustine,

Can you make sure that fetch-crl is working? Try running &#34;/usr/sbin/fetch-crl -v&#34; as root and seeing if it gives any errors.

-Mat</pre></div><div class='update_description'><i onclick="document.location='12536#1346258546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T16:42:26+00:00">Aug 29, 2012 04:42 PM UTC</time><a class="anchor" name="1346258546">&nbsp;</a></div><pre>Matyas,

Can you help with these errors? The URL is world readable. These are the two errors&#58;

#1
metricName&#58; org.osg.certificates.crl-expiry
metricType&#58; status
timestamp&#58; 2012-08-29 12&#58;30&#58;20 EDT
metricStatus&#58; CRITICAL
serviceType&#58; OSG-CE
serviceURI&#58; atlas-net2.bu.edu
gatheredAt&#58; atlas-net2.bu.edu
summaryData&#58; CRITICAL
detailsData&#58; CRITICAL&#58; Probe ended with unexpected error condition
2012-08-29T16&#58;30&#58;09Z
WARNING&#58; CRL file for CA with hash 0a12b607 has not been updated since 2012/08/28 18&#58;38&#58;18
CRITICAL&#58; CRL file for CA with hash 0a49430a has not been updated since 2012/08/22 06&#58;36&#58;35
WARNING&#58; MISSING&#58; CRL file for 3f0f4285 (type 1) is missing. OSG policy requires CRL for every CA distributed by OSG.

EOT

#2
metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2012-08-29 12&#58;28&#58;20 EDT
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; atlas-net2.bu.edu
gatheredAt&#58; atlas-net2.bu.edu
summaryData&#58; CRITICAL
detailsData&#58; Successful transfer to remote server.
Successful transfer from remote server.
The file that was returned from the remote server does not match the original file.
Diff&#58;
1,7d0
<div id='show_895943684' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_895943684'>&#60; This is a test file used by the storage probes.
&#60;
&#60; Probes are used by OSG sites to verify availability of services and resources.
&#60;
&#60; This file should be cleaned up after the probe is finished running.  If files like this
&#60; are accumulating on your resource please report this to vdt-support@....
&#60;

WARNING
Successful transfer to remote server.
Successful transfer from remote server.
Original file and received file are identical.
However, remote file could not be deleted correctly.
Command&#58; srm-rm <a href='srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/storage-probe-test-file.1346257680.16279' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu/srm/v2/server?SFN=/tmp/storage-probe-test-file.1346257680.16279</a>
Output&#58;
srm-rm   2.2.2.2.1  Wed May  9 09&#58;46&#58;08 PDT 2012
BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>

Built on dm.lbl.gov 128.3.30.104 at 05/09/2012 09&#58;49&#58;24 PDT

Built on ${myhost.NAME}.${myhost.DOMAIN} ${myhost.ADDR4} at 06/12/2012 15&#58;18&#58;55 CDT

SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//atlas-net2.bu.edu&#58;8443/srm/v2/server

SRM-DIR&#58; Wed Aug 29 12&#58;28&#58;18 EDT 2012 Calling SrmRmFile
SRM-DIR&#58; Total files to remove&#58; 1
status=SRM_FAILURE
explanation=null
surl=<a href='srm&#58;//atlas-net2.bu.edu&#58;8443/srm/v2/server?SFN=/tmp/storage-probe-test-file.1346257680.16279' target='_blank' rel='nofollow'>srm&#58;//atlas-net2.bu.edu&#58;8443/srm/v2/server?SFN=/tmp/storage-probe-test-file.1346257680.16279</a>
status=SRM_FAILURE
explanation=Error&#58;/bin/rm&#58; cannot remove &#96;/tmp/storage-probe-test-file.1346257680.16279&#39;&#58; No such file or directory
Ref-u rsv  /bin/rm /tmp/storage-probe-test-file.1346257680.16279

EOT

Thank you,
Elizabeth

-- by Elizabeth Prout

</div><script type='text/javascript'>
        $('#show_895943684').click(function() {
            $('#detail_895943684').slideDown("normal");
            $('#show_895943684').hide();
            $('#hide_895943684').show();
        });
        $('#hide_895943684').click(function() {
            $('#detail_895943684').slideUp();
            $('#hide_895943684').hide();
            $('#show_895943684').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12536#1345643230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-22T13:47:10+00:00">Aug 22, 2012 01:47 PM UTC</time> by <b>augustine@....</b><a class="anchor" name="1345643230">&nbsp;</a></div><pre>My mistake.  The RSV page is <a href='http&#58;//atlas-net2.bu.edu/rsv/' target='_blank' rel='nofollow'>http&#58;//atlas-net2.bu.edu/rsv/</a> and it is
world accessible (the TLD got snipped off from the URL because I was cut
and pasting from an on campus machine).

- Augustine

On 08/22/2012 09&#58;33 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12536#1345642439'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-22T13:33:59+00:00">Aug 22, 2012 01:33 PM UTC</time><a class="anchor" name="1345642439">&nbsp;</a></div><pre>Augustine,

Can you double check the URL you gave me? If it&#39;s correct, is it world accessible?

Thank you,
Elizabeth

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12536#1345565247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-21T16:07:27+00:00">Aug 21, 2012 04:07 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1345565247">&nbsp;</a></div><pre>Uploaded attachment.</pre></div><div class='update_description'><i onclick="document.location='12536#1345565222'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-21T16:07:02+00:00">Aug 21, 2012 04:07 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1345565222">&nbsp;</a></div><pre>[by Augustine Abaravichyus]

Hello,

I am getting errors on 2 RSV tests and need help troubleshooting them.
You can see those at&#58; http&#58;//atlas-net2/rsv/atlas-net2.bu.edu.html

1) org.osg.certificates.crl-expiry &#60;http&#58;//atlas-net2/rsv/atlas-net2.bu.edu.html#org.osg.certificates.crl-expiry&#62;

I am using osg-cert-scripts-2.7.2-1.osg.el5  (certificates -&#62; certificates-1.29NEW) I suspect I may have something misconfigured because there appears to be a crl_url file for every site.  I see that&#58;

atlas-net2&#58;~ % ls -l /etc/grid-security/certificates/ | grep 3f0f4285
lrwxrwxrwx 1 root root    19 Aug 20 11&#58;06 3f0f4285.0 -&#62; ULAGrid-CA-2008.pem
lrwxrwxrwx 1 root root    26 Aug 20 11&#58;06 3f0f4285.namespaces -&#62; ULAGrid-CA-2008.namespaces
-rw-r--r-- 1 root root  1998 Aug 20 06&#58;27 3f0f4285.r0
lrwxrwxrwx 1 root root    30 Aug 20 11&#58;06 3f0f4285.signing_policy -&#62; ULAGrid-CA-2008.signing_policy

atlas-net2&#58;~ % ls -l /etc/grid-security/certificates/ULAGrid-CA-2008.
ULAGrid-CA-2008.crl_url         ULAGrid-CA-2008.pem
ULAGrid-CA-2008.info            ULAGrid-CA-2008.signing_policy
ULAGrid-CA-2008.namespaces

If I simply delete this particular certificate, RSV test will just have the same error on the next one.

2) org.osg.srm.srmcp-readwrite &#60;http&#58;//atlas-net2/rsv/atlas-net2.bu.edu.html#org.osg.srm.srmcp-readwrite&#62;

I&#39;m getting delete failure even though watching the test manually I can see that file is successfully transferred and deleted.

I am attaching a fresh copy of OSG profile output.   Please let me know what additional information I can provide.  Thank you in advance for your time.

- Augustine Abaris</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12536">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
