<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[29057] FIU_HPCOSG_CE - crls look expired on all workernodes</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=29057" method="post">
<div class="page-header">
    <h3><span class="muted">29057</span> / FIU_HPCOSG_CE - crls look expired on all workernodes</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jeffrey Michael Dost</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">FIU_HPCOSG_CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">OSG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jeffrey Michael Dost</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Community Support Center</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-04-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/29057", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='29057#1461711413'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-26T22:56:53+00:00">Apr 26, 2016 10:56 PM UTC</time><a class="anchor" name="1461711413">&nbsp;</a></div><pre>Hi Mengxing,

The disk space issue has been resolved. Overall glidein performance appears to have returned to normal. I&#39;ll go ahead and close out this ticket for us. Thanks again for all your help here.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1461591267'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-25T13:34:27+00:00">Apr 25, 2016 01:34 PM UTC</time><a class="anchor" name="1461591267">&nbsp;</a></div><pre>Marty, it was a problem that the worknode&#39;s /tmp run out of space, which I have fixed. Let me know if you still see error message.

Thank you!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1461277547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-21T22:25:47+00:00">Apr 21, 2016 10:25 PM UTC</time><a class="anchor" name="1461277547">&nbsp;</a></div><pre>Mengxing,

Today, we began observing glideins failing node validation due to a disk space issue [1] on node 39 [2]. Can you confirm the issue on your side?

Marty Kandes
UCSD Glidein Factory Operations

[1]

=== Validation error in /scratch/osg/glide_hZgnx8/main/validate_node.sh ===
Thu Apr 21 14&#58;57&#58;00 EDT 2016 Error running &#39;/scratch/osg/glide_hZgnx8/main/validate_node.sh&#39;
Space on &#39;/tmp&#39; not enough.
At least 10 MBs required, found 9900 Kbs

[2]

HOSTNAME=n039
OSG_HOSTNAME=hpcosgce.fiu.edu

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1461184798'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-20T20:39:58+00:00">Apr 20, 2016 08:39 PM UTC</time><a class="anchor" name="1461184798">&nbsp;</a></div><pre>Jeff, 30 days is also the limit I set in the local batch system, which complies with our site policy. My understanding is that pilot jobs usually take a lot shorter to finish, so no worry about it now unless you believe something wrong.

Thank you!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1461179730'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-20T19:15:30+00:00">Apr 20, 2016 07:15 PM UTC</time><a class="anchor" name="1461179730">&nbsp;</a></div><pre>Hi Mengxing,

I just increased the limits to 256.

Also, please see my comment below about glidein runtime. What would you like the max walltime to be set to?

Thanks,
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29057#1461176232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-20T18:17:12+00:00">Apr 20, 2016 06:17 PM UTC</time> by <b>mencheng@....</b><a class="anchor" name="1461176232">&nbsp;</a></div><pre>Jeff, I am adding more worknodes. Could you increase the limit of the number of pilot jobs from 128 to 256? thank you!

Best Regards

Mengxing

Mengxing Cheng
Ph.D in Physics
High-Performance Computing System Administrator
Florida International University
Division of Information Technology
Office&#58; PC417
Phone&#58; (305) 348-6830

Learn the FIU Panther Cluster at the IRCC webpage</pre></div><div class='update_description'><i onclick="document.location='29057#1461078172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-19T15:02:52+00:00">Apr 19, 2016 03:02 PM UTC</time><a class="anchor" name="1461078172">&nbsp;</a></div><pre>Jeff, I am adding more worknodes. Could you increase the limit of the number of pilot jobs from 128 to 256? thank you!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1461010246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-18T20:10:46+00:00">Apr 18, 2016 08:10 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1461010246">&nbsp;</a></div><pre>Closed. Let us know if you have any more issues!</pre></div><div class='update_description'><i onclick="document.location='29057#1461009341'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-18T19:55:41+00:00">Apr 18, 2016 07:55 PM UTC</time><a class="anchor" name="1461009341">&nbsp;</a></div><pre>Vince, I believe that it was some local problem. Please close this ticket. Thank you for help!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1460998758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-18T16:59:18+00:00">Apr 18, 2016 04:59 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1460998758">&nbsp;</a></div><pre>Hi Mengxing,

Were you able to determine what might have happened on 04-04 18&#58;07&#58;45?

Thank you,</pre></div><div class='update_description'><i onclick="document.location='29057#1460387741'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-11T15:15:41+00:00">Apr 11, 2016 03:15 PM UTC</time><a class="anchor" name="1460387741">&nbsp;</a></div><pre>Marty, thank you for pointing out the 0 cpu usage. Looking at the log, I believe that something went wrong at 04-04 18&#58;07&#58;45. I will investigate the problem.

4-04 18&#58;07&#58;35| 92   1   7   0   0   0|15.9 14.7 14.2| 977k 1700k|7341M 14.9M 13.1G 11.2G|   0  1229B|  17k 4054 |1.5   0 1.3
04-04 18&#58;07&#58;45| 88   1  11   0   0   0|15.7 14.7 14.2|7414k 2623k|6927M 14.9M 13.1G 11.6G|   0     0 |  18k 1452 |1.3   0 1.2
04-04 18&#58;07&#58;55| 69   0  30   0   0   0|15.6 14.7 14.2|  62k  230k|6930M 14.9M 13.1G 11.6G|   0     0 |  12k  603 |0.9   0 2.4
04-04 18&#58;08&#58;05| 37   0  62   0   0   0|15.8 14.8 14.3| 260k   53k|6930M 14.9M 13.1G 11.6G|   0     0 |6523  2025 |0.6   0 1.2
04-04 18&#58;08&#58;15| 14   0  86   0   0   0|16.2 14.9 14.3| 144k 5052B|6939M 14.9M 13.1G 11.5G|   0     0 |2685  1219 |0.1   0 1.2
04-04 18&#58;08&#58;25|  3   0  97   0   0   0|16.9 15.1 14.4|  30k  545B|6938M 14.9M 13.1G 11.5G|   0     0 | 897   618 |0.1   0 1.2
04-04 18&#58;08&#58;35|  0   0 100   0   0   0|17.5 15.3 14.4| 543B 4058B|6941M 14.9M 13.1G 11.5G|   0     0 | 328   514 |  0   0 2.5
04-04 18&#58;08&#58;45|  0   0 100   0   0   0|18.1 15.5 14.5|  51k 1926B|6941M 14.9M 13.1G 11.5G|   0     0 | 551   738 |  0   0 4.0
04-04 18&#58;08&#58;55|  0   0 100   0   0   0|18.7 15.7 14.6| 405B  164B|6942M 14.9M 13.1G 11.5G|   0     0 | 318   503 |0.1   0 1.2
04-04 18&#58;09&#58;05|  0   0 100   0   0   0|19.3 15.9 14.7|  91k 9347B|6941M 14.9M 13.1G 11.5G|   0     0 | 430   923 |0.1   0 1.2

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1460159816'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T23:56:56+00:00">Apr 8, 2016 11:56 PM UTC</time><a class="anchor" name="1460159816">&nbsp;</a></div><pre>Hi Brian,

A few things, first, we weren&#39;t capping total jobs on the factory end, so I just ensured we won&#39;t be submitting more than 128 pilots total at FIU to respect that limit. second, its a single core entry, so its not like we are oversubscribing cores. Oddly from Mengxing&#39;s stats, actual cpu usage is small, maybe it was a job doing heavy disk IO?  We can&#39;t really control a user job&#39;s behavior after it lands on the pilot from the factory end.  If it continues to happen however please let us know, maybe we can help the OSG VO track down the problem user.

Finally, one thing very odd, it looks like our max walltime is set to 30 days (2592000)?? This could be a typo on our end, as 2592000/3600 = 720.  Maybe we have an extra zero?

Mengxing, what is the max walltime you want to allow for OSG pilots?

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29057#1460146630'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T20:17:10+00:00">Apr 8, 2016 08:17 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1460146630">&nbsp;</a></div><pre>Can&#39;t say I&#39;ve seen that before. Perhaps we&#39;re doing a bad job of
requesting resources from your batch system with our pilot jobs? Would
you be able to look at the history of those jobs on the overloaded nodes
and perhaps see if jobs were using more resources than they were allocated?

Marty&#58; What are the current resource limits that we request from FIU?

- Brian

On 04/08/2016 02&#58;34 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29057#1460144073'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T19:34:33+00:00">Apr 8, 2016 07:34 PM UTC</time><a class="anchor" name="1460144073">&nbsp;</a></div><pre>Brian, if I understand you correctly, the glidein hold is caused the CONDORCE_MAX_JOBS limit so we don&#39;t need to worry about it too much. I have another issue to report. Sometime, my worknode dedicated to OSG has very high load, which cause the wn drop out of the GPFS cluster due to its inability to response to the ping from GPFS servers.  As follow is a representative case where 1 minute load of the 16-core wordnode was 28 despite plenty of free memory. At  04-04 18&#58;13&#58;45, the node dropped out of GPFS and all the osg jobs crashed. Have you seen any one else reports a similar issue of worknode overloading?

ESC[7l----system---- ----total-cpu-usage---- ---load-avg--- -net/total- ------memory-usage----- -dsk/total- ---system-- ---procs---
date/time   |usr sys idl wai hiq siq| 1m   5m  15m | recv  send| used  buff  cach  free| read  writ| int   csw |run blk new
04-04 18&#58;12&#58;35|  0   0 100   0   0   0|27.8 21.2 17.0| 241B  222B|6950M 14.9M 13.1G 11.5G|   0     0 | 334   504 |  0   0 2.5
04-04 18&#58;12&#58;45|  0   0 100   0   0   0|28.3 21.5 17.1| 309B  909B|6950M 14.9M 13.1G 11.5G|   0     0 | 330   494 |  0   0 1.2
04-04 18&#58;12&#58;55|  0   0 100   0   0   0|28.8 21.9 17.3| 452B 2734B|6950M 14.9M 13.1G 11.5G|   0     0 | 323   503 |  0   0 1.2
04-04 18&#58;13&#58;05|  0   0 100   0   0   0|29.1 22.2 17.4| 413B 7080B|6950M 14.9M 13.1G 11.5G|   0     0 | 316   509 |  0   0 1.3
04-04 18&#58;13&#58;15|  0   0 100   0   0   0|29.4 22.4 17.6| 465B 2804B|6950M 14.9M 13.1G 11.5G|   0     0 | 343   499 |  0   0 2.4
04-04 18&#58;13&#58;25|  0   0 100   0   0   0|29.7 22.7 17.7|2199B 2350B|6950M 14.9M 13.1G 11.5G|   0     0 | 361   515 |  0   0 1.2
04-04 18&#58;13&#58;35|  6   1  91   1   0   0|27.0 22.4 17.7| 600k 5933B|3149M 15.0M 12.0G 16.4G|2519k  152k|3282  7536 |0.1   0  11
04-04 18&#58;13&#58;45|  5   1  93   1   0   0|23.4 21.8 17.5| 591B  481B|3601M 15.0M 12.1G 15.8G|7396k 3686B|1687  3505 |  0 0.2 1.6
04-04 18&#58;13&#58;55|  0   0 100   0   0   0|19.8 21.1 17.3| 282B  252B|1951M 15.0M 12.0G 17.5G| 282k 4915B| 141   836 |  0   0   0
04-04 18&#58;14&#58;05|  0   0 100   0   0   0|16.8 20.4 17.1| 316B  249B|1947M 15.0M 12.0G 17.5G|   0   896k|  74    72 |0.1   0   0
04-04 18&#58;14&#58;15|  0   0 100   0   0   0|14.2 19.7 17.0| 151k 3493B|1948M 15.0M 11.4G 18.1G| 157k 1620k| 479   289 |0.1   0 9.8
04-04 18&#58;14&#58;25|  0   0 100   0   0   0|12.0 19.1 16.8|  28k  412k|1943M 15.0M 11.4G 18.1G|   0  2458B| 134   115 |0.1   0   0
04-04 18&#58;14&#58;35|  0   0 100   0   0   0|10.2 18.4 16.6| 971B  215k|1941M 15.0M 11.4G 18.1G|   0     0 |  92    86 |  0   0   0
04-04 18&#58;14&#58;45|  0   0 100   0   0   0|8.59 17.8 16.4| 238B  174B|1940M 15.0M 11.4G 18.1G|   0     0 |  57    70 |  0   0 0.1
04-04 18&#58;14&#58;55|  0   0 100   0   0   0|7.27 17.2 16.2| 233B  159B|1939M 15.0M 11.4G 18.1G|   0  2048B|  53    71 |  0   0 0.1
04-04 18&#58;15&#58;05|  0   0 100   0   0   0|6.15 16.7 16.1| 229B  177B|1939M 15.0M 11.4G 18.1G|   0     0 |  53    72 |  0   0 0.1
04-04 18&#58;15&#58;15|  0   0 100   0   0   0|5.21 16.1 15.9|1429B  786B|1941M 15.0M 11.4G 18.1G|   0     0 | 121   108 |  0   0 1.8
04-04 18&#58;15&#58;25|  0   0 100   0   0   0|4.40 15.6 15.7|  28k  495B|1939M 15.0M 11.4G 18.1G|   0     0 |  60    75 |  0   0   0

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1460141898'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T18:58:18+00:00">Apr 8, 2016 06:58 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1460141898">&nbsp;</a></div><pre>Mengxing,

From Marty&#39;s (the factory) perspective, they only see what is happening on your CE. Essentially, glideins have been submitted to your CE and the job has been held on the CE with the following reason&#58;

CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.

In this case, I believe it means that your JobRouter has reached its limit of 128 jobs (which you&#39;ve set with the CONDORCE_MAX_JOBS configuration).

- Brian</pre></div><div class='update_description'><i onclick="document.location='29057#1460141424'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T18:50:24+00:00">Apr 8, 2016 06:50 PM UTC</time><a class="anchor" name="1460141424">&nbsp;</a></div><pre>Marty, when you say glidein hold, do you mean that glideins are waiting in the queue of my local batch system and haven&#39;t been yet routed to the worknode? Or you mean that the glideins have been distributed by the local batch system to the worknode but suspend themselves due to lack of resource or misconfiguration on the worknode. There are so many moving parts and I just want to isolate them.

Mengxing

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1460130903'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T15:55:03+00:00">Apr 8, 2016 03:55 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1460130903">&nbsp;</a></div><pre>Marty,

How many pilots are you sending FIU&#39;s way? Unless Mengxing has changed it, they&#39;ve got a max of 128 concurrently running jobs.

- Brian</pre></div><div class='update_description'><i onclick="document.location='29057#1460057157'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-07T19:25:57+00:00">Apr 7, 2016 07:25 PM UTC</time><a class="anchor" name="1460057157">&nbsp;</a></div><pre>Mengxing,

Unfortunately, I&#39;m still getting held glideins with the hold reason [1]. In addition, we&#39;re not seeing many glidein logs make it back to us at the factory now. But I did see one actually successfully run a user job today. How do things look on your end?

Marty Kandes
UCSD Glidein Factory Operations

[1]

3338249.0   feosgflock      4/7  18&#58;57 CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1459964857'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-06T17:47:37+00:00">Apr 6, 2016 05:47 PM UTC</time><a class="anchor" name="1459964857">&nbsp;</a></div><pre>Brian,

Thank you for your help.

Mengxing,

I&#39;ve cleared out the remaining held glideins that were still in the factory queue. We&#39;re pretty busy right now, so I will check back on glidein performance tomorrow once a new fresh batch of new glideins have had a chance to cycle through.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1459956581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-06T15:29:41+00:00">Apr 6, 2016 03:29 PM UTC</time><a class="anchor" name="1459956581">&nbsp;</a></div><pre>After updating htcondor-ce rpms as suggested by Brian Lin, I don&#39;t see &#34;GSI DENIED&#34; error messages in glidein&#39;s StartdLog. Please double check if you see error message from the Factory side. If not, you may close this ticket. Thank you all for help!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1459537092'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-01T18:58:12+00:00">Apr 1, 2016 06:58 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1459537092">&nbsp;</a></div><pre>It looks like we&#39;ve found the issue with both of the errors&#58;

1) The first one is due to FIU&#39;s hard limit on the MaxJobs in their CE&#39;s job router (set to 128)
2) An unrelated issue but it&#39;s due to an old configuration of the CE and shouldn&#39;t affect the ability to run pilots

Mengxing said he will get around to fixing these issues next Monday.

- Brian</pre></div><div class='update_description'><i onclick="document.location='29057#1459527723'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-01T16:22:03+00:00">Apr 1, 2016 04:22 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1459527723">&nbsp;</a></div><pre>I&#39;ve been working with Mengxing outside of this ticket. I&#39;m not sure why jobs are getting held but the StartD error messages look like there may be an auth misconfiguration on the CE. The glidein StartD&#39;s are supposed to send their ClassAds back to the CE&#39;s collector and since we&#39;re seeing a &#39;DENIED&#39; message in the logs, this means that at least it&#39;s not a firewall issue. I&#39;ve asked Mengxing for his CE CollectorLog as well as the output from &#96;condor_ce_config_val -dump&#96;.</pre></div><div class='update_description'><i onclick="document.location='29057#1459380141'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-30T23:22:21+00:00">Mar 30, 2016 11:22 PM UTC</time><a class="anchor" name="1459380141">&nbsp;</a></div><pre>Brian,

Can you assist us here? It looks like there may be an HTCondor-CE configuration issue here.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1459345363'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-30T13:42:43+00:00">Mar 30, 2016 01:42 PM UTC</time><a class="anchor" name="1459345363">&nbsp;</a></div><pre>Marty, here is my JOB_ROUTER_ENTRIES
[root@hpcosgce ~]# condor_ce_config_val JOB_ROUTER_ENTRIES | sed &#39;s/;/;&#92;n/g&#39;
[ GridResource = &#34;batch lsf&#34;;
TargetUniverse = 9;
name = &#34;Setting batch system queues&#34;;
set_default_queue = &#34;osg&#34;;
MaxJobs = 96;
MaxIdleJobs =96;
/* Set the requested memory to 1.6 GB */ set_default_maxMemory = 1640;
]

Jeff brought up the GSI error. I did renew certificates and crls as he suggested, but the error is still in glidein log /scratch/osg/glide_tjjCqA/log/StartdLog. Nevertheless, I see the jobs are running well. Do you know anyone who can help me to troubleshoot this?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1459284530'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-29T20:48:50+00:00">Mar 29, 2016 08:48 PM UTC</time><a class="anchor" name="1459284530">&nbsp;</a></div><pre>P.S. Can you also double check and make sure your job router entries are configured properly? It does look like we&#39;re still getting new held glideins with the same hold reason.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1459284414'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-29T20:46:54+00:00">Mar 29, 2016 08:46 PM UTC</time><a class="anchor" name="1459284414">&nbsp;</a></div><pre>Hi Mengxing,

I checked the entry status.

We still had some held glideins at the factory with the following hold reason [1]. However, these could have just been old, stale glideins that have been lingering around since you may have made some recent changes at FIU. I&#39;ve cleared out these held glideins from both the GOC and SDSC factories. Hopefully they won&#39;t come back.

Note, however, in some of the glideins logs that we&#39;ve gotten back today, I&#39;m observing an unusual security-related error [2]. I&#39;m not exactly sure what this means. But it looks like your HTCondor-CE does not trust condor on the glideins once they start up. Maybe this is why we haven&#39;t been getting back good monitoring statistics from FIU? I think HTCondor-CE is suppose to tell the factories how the jobs are doing locally. Are you seeing good performance for glideins and user jobs at the site?

Marty Kandes
UCSD Glidein Factory Operations

[1]

3315414.2   feosgflock      3/29 20&#58;16 CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.

[2]

3/29/16 09&#58;18&#58;05 (pid&#58;16220) SECMAN&#58; FAILED&#58; Received &#34;DENIED&#34; from server for user osg@.... using method GSI.
03/29/16 09&#58;18&#58;05 (pid&#58;16220) ERROR&#58; SECMAN&#58;2010&#58;Received &#34;DENIED&#34; from server for user osg@.... using method GSI.
03/29/16 09&#58;18&#58;05 (pid&#58;16220) Failed to start non-blocking update to &#60;131.94.55.228&#58;9619&#62;.
03/29/16 09&#58;18&#58;23 (pid&#58;16220) State change&#58; benchmarks completed
03/29/16 09&#58;18&#58;23 (pid&#58;16220) Changing activity&#58; Benchmarking -&#62; Idle
03/29/16 09&#58;18&#58;27 (pid&#58;16220) SECMAN&#58; FAILED&#58; Received &#34;DENIED&#34; from server for user osg@.... using method GSI.
03/29/16 09&#58;18&#58;27 (pid&#58;16220) ERROR&#58; SECMAN&#58;2010&#58;Received &#34;DENIED&#34; from server for user osg@.... using method GSI.
03/29/16 09&#58;18&#58;27 (pid&#58;16220) Failed to start non-blocking update to &#60;131.94.55.228&#58;9619&#62;.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1459266016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-29T15:40:16+00:00">Mar 29, 2016 03:40 PM UTC</time><a class="anchor" name="1459266016">&nbsp;</a></div><pre>Jeff, I think my worknodes are currently running well. If no error message on your side,  you may close this ticket. Thank you for help!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1459175879'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-28T14:37:59+00:00">Mar 28, 2016 02:37 PM UTC</time><a class="anchor" name="1459175879">&nbsp;</a></div><pre>Jeff, good morning.  Do you see any error message in the log?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1458853785'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T21:09:45+00:00">Mar 24, 2016 09:09 PM UTC</time><a class="anchor" name="1458853785">&nbsp;</a></div><pre>Mengxing,

We&#39;re now currently observing some significant fraction of glideins going held with the following hold reason [1]. It doesn&#39;t look like we have gotten back any of the logs from recently running glideins (i.e., after you updated CRLs). So we may have to wait and see if the currently running glideins are doing so properly.

Marty Kandes
UCSD Glidein Factory Operations

[1]

3297899.2   feosgflock      3/24 21&#58;01 CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.
3297899.3   feosgflock      3/24 21&#58;01 CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.
3297899.4   feosgflock      3/24 21&#58;01 CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to non-existent route or entry in JOB_ROUTER_ENTRIES.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29057#1458831259'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T14:54:19+00:00">Mar 24, 2016 02:54 PM UTC</time><a class="anchor" name="1458831259">&nbsp;</a></div><pre>Jeff, I have manually run /usr/sbin/fetch-crl on the worknodes and restart fetch-crl-cron service. Please check if glidein is able to pass the GSI authentication now.  It is unknown what causes the problem of expired crls because I had fetch-crl-cron service enabled on all worknodes.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1458787477'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T02:44:37+00:00">Mar 24, 2016 02:44 AM UTC</time><a class="anchor" name="1458787477">&nbsp;</a></div><pre>Jeff, thank you for bringing up this case to me. I will update the crls.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mengxing Cheng 2977</pre></div><div class='update_description'><i onclick="document.location='29057#1458786360'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T02:26:00+00:00">Mar 24, 2016 02:26 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458786360">&nbsp;</a></div><pre>Hello,

Since March 2nd it appears all OSG glideins submitted to hpcosgce.fiu.edu have been failing due to expired crls on the worker nodes.  Can you please update them?

We see errors like&#58;
03/23/16 21&#58;47&#58;54 (pid&#58;22718) Condor GSI authentication failure
GSS Major Status&#58; Authentication Failed
GSS Minor Status Error Chain&#58;
globus_gss_assist&#58; Error during context initialization
globus_gsi_callback_module&#58; Could not verify credential
globus_gsi_callback_module&#58; Could not verify credential
globus_gsi_callback_module&#58; Invalid CRL&#58; The available CRL has expired

03/23/16 21&#58;47&#58;54 (pid&#58;22718) SECMAN&#58; required authentication with collector osg-flock.grid.iu.edu&#58;9817 failed, so aborting command CCB_REGISTER.
03/23/16 21&#58;47&#58;54 (pid&#58;22718) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5004&#58;Failed to authenticate.  Globus is reporting error (655360&#58;12)
03/23/16 21&#58;47&#58;54 (pid&#58;22718) CCBListener&#58; connection to CCB server osg-flock.grid.iu.edu&#58;9817 failed; will try to reconnect in 60 seconds.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F29057">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
