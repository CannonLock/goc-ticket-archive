<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[14975] new cert not working</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=14975" method="post">
<div class="page-header">
    <h3><span class="muted">14975</span> / new cert not working</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Teresa Knight</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Teresa Knight</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-05-28</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/14975", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/14975?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/14975?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20new%20cert%20not%20working%20ISSUE%3D14975%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='14975#1369852451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-29T18:34:11+00:00">May 29, 2013 06:34 PM UTC</time> by <b>echism</b><a class="anchor" name="1369852451">&nbsp;</a></div><pre>Thanks, Terri.</pre></div><div class='update_description'><i onclick="document.location='14975#1368561912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-14T20:05:12+00:00">May 14, 2013 08:05 PM UTC</time> by <b>tlknight@....</b><a class="anchor" name="1368561912">&nbsp;</a></div><pre>The digicert works with the RPM version of GUMS but seemingly not with
the Pacman version which is what we were running. Updating to the RPM
version solved the problem. Seems the Pacman version does not support SHA-2.

<a href='http&#58;//osggoc.blogspot.com/2013/04/reminder-pacman-end-of-life.html' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/2013/04/reminder-pacman-end-of-life.html</a>

Terri</pre></div><div class='update_description'><i onclick="document.location='14975#1368561191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-14T19:53:11+00:00">May 14, 2013 07:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1368561191">&nbsp;</a></div><pre>Hi Terri,

We&#39;re actually very surprised that digicert isn&#39;t working with gums. Can you tell us who made that declaration and under what circumstances?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='14975#1367952028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T18:40:28+00:00">May 7, 2013 06:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1367952028">&nbsp;</a></div><pre>Thanks, Terri.</pre></div><div class='update_description'><i onclick="document.location='14975#1367519954'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-02T18:39:14+00:00">May 2, 2013 06:39 PM UTC</time><a class="anchor" name="1367519954">&nbsp;</a></div><pre>I&#39;m told that the new digicerts are incompatible with the Pacman version of GUMS so you can close this ticket.

thanks,
Terri

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=tknight/CN=740452/CN=Teresa Lynn Knight</pre></div><div class='update_description'><i onclick="document.location='14975#1367453948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-02T00:19:08+00:00">May 2, 2013 12:19 AM UTC</time> by <b>tlknight@....</b><a class="anchor" name="1367453948">&nbsp;</a></div><pre>Thanks for your suggestion. I narrowed the debugging to tomcat.

Tomcat v. 6 is running on the CE for CEmon afaict- and it does have an http
cert owned by user tomcat. Tomcat is running as user tomcat. Nothing&#39;s
changed here. Its cert has not expired.

On the Gums server tomcat is running also but version 5.5

daemon   28240     1  0 16&#58;28 pts/0    00&#58;00&#58;10
/opt/osg-1.2-gums/jdk1.5/bin/java
-Djava.util.logging.config.file=/opt/osg-1.2-gums/tomcat/v55/conf/logging.properties
-server -Xmx256M -XX&#58;MaxPermSize=256m -Dsun.net.inetaddr.ttl=300
-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
-Djava.endorsed.dirs=/opt/osg-1.2-gums/tomcat/v55/common/endorsed
-classpath /opt/osg-1.2-gums/tomcat/v55/bin/bootstrap.jar
-Dcatalina.base=/opt/osg-1.2-gums/tomcat/v55
-Dcatalina.home=/opt/osg-1.2-gums/tomcat/v55
-Djava.io.tmpdir=/opt/osg-1.2-gums/tomcat/v55/temp
org.apache.catalina.startup.Bootstrap start

After some googling I tried&#58;
importing the http cert into
/opt/osg-1.2-gums/jdk1.5/jre/lib/security/cacerts with the java keytool
application. This worked but didn&#39;t resolve the problem.

In the tomcat server.xls file the only thing I see&#58;

&#60;Connector address=&#34;127.0.0.1&#34; port=&#34;8943&#34;
enableLookups=&#34;false&#34; redirectPort=&#34;8443&#34; protocol=&#34;AJP/1.3&#34;
tomcatAuthentication=&#34;false&#34; /&#62;

On Wed, May 1, 2013 at 1&#58;28 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14975#1367440093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T20:28:13+00:00">May 1, 2013 08:28 PM UTC</time> by <b>echism</b><a class="anchor" name="1367440093">&nbsp;</a></div><pre>Terry,

Apache can access it, but is it possible that Tomcat can&#39;t access it? I keep two copies of the httpcert on my CE and give one to the tomcat and apache users respectively.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='14975#1367438676'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-01T20:04:36+00:00">May 1, 2013 08:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1367438676">&nbsp;</a></div><pre>I know this should be trivial, replacing an expired certificate with a new one but I&#39;m out of ideas. Checked permissions, location, cert content.
I replaced the expired host and http service cert on the gums server and now the UCD Tier3 site it broken.

Error log on the CE&#58;

May  1 11&#58;48&#58;13 cms GRAM-gatekeeper[8670]&#58; Authenticated globus user&#58; /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=tknight/CN=740452/CN=Teresa Lynn Knight
May  1 11&#58;48&#58;15 cms GRAM-gatekeeper-llgt[8670]&#58; lcmaps&#58; SSL_client_connect&#58; Error connecting SSL client object
May  1 11&#58;48&#58;26 cms GRAM-gatekeeper-llgt[8026]&#58; lcmaps&#58; XACML SSL I/O&#58; Some I/O error occurred. Unrecoverable
May  1 11&#58;48&#58;26 cms GRAM-gatekeeper-llgt[8026]&#58; lcmaps&#58; ssl_io_connect()&#58; Failure in SSL layer setup and connection!
May  1 11&#58;48&#58;26 cms GRAM-gatekeeper-llgt[8026]&#58; lcmaps&#58; xacmlqueryscas()&#58; XACML&#58; Interaction failed&#58; TCP/IP, SSL or SOAP Error with endpoint&#58; &#34;<a href='https&#58;//agent.tier3.ucdavis.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort&#34' target='_blank' rel='nofollow'>https&#58;//agent.tier3.ucdavis.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort&#34</a>;
May  1 11&#58;48&#58;29 cms GRAM-gatekeeper-llgt[8026]&#58; lcmaps&#58; SSL_client_connect&#58; Error connecting SSL client object

On the GUMS server (agent.tier3.ucdavis.edu)

/etc/grid-security&#58;

drwxrwxr-x 13 root   root     4096 May  1 11&#58;56 .
drwxr-xr-x 91 root   root    12288 May  1 11&#58;08 ..
lrwxrwxrwx  1 root   root       17 Dec 11 22&#58;15 certificates -&#62; certificates-1.32
drwxr-xr-x  2 root   root    57344 May  1 06&#58;26 certificates-1.32
-rw-r--r--  1 root   root      163 Mar 27 17&#58;17 gsi-authz.conf
-rw-r--r--  1 root   root     2044 May  1 09&#58;19 hostcert.pem
-rw-r--r--  1 root   root     1558 Jul 10  2012 hostcert.pem2012
-rw-------  1 root   root     1675 May  1 09&#58;19 hostkey.pem
-rw-------  1 root   root     1679 Jul 10  2012 hostkey.pem20102
drwxr-xr-x  3 root   daemon   4096 May  1 08&#58;53 http
-rw-r--r--  1 root   root     1146 Sep 13  2012 prima-authz.conf
drwxr-xr-x  3 root   root     4096 Jul  3  2012 rsv
drwxr-xr-x  2 root   root     4096 May  1 09&#58;21 srm
drwxr-xr-x  3   1502   1500   4096 Aug 21  2012 vomsdir
-rw-------  1 root   root     3011 Jun 22  2009 x509_root_proxy

/etc/grid-security/http&#58;

rwxr-xr-x  3 root   daemon 4096 May  1 08&#58;53 .
<div id='show_1871070858' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1871070858'>drwxrwxr-x 13 root   root   4096 May  1 11&#58;56 ..
-rw-r--r--  1 daemon daemon 2053 May  1 08&#58;51 httpcert.pem
-rw-------  1 daemon daemon 1679 May  1 08&#58;52 httpkey.pem

apache is running as daemon on the GUMS server

In the apache configuration&#58;

SSLCertificateFile /etc/grid-security/http/httpcert.pem
SSLCertificateKeyFile /etc/grid-security/http/httpkey.pem
SSLCACertificatePath /etc/grid-security/certificates
#SSLCACertificatePath /opt/osg-1.2-gums/globus/TRUSTED_CA

On the CE (cms.tier3.ucdavis.edu) in /etc.lcmaps.db I have&#58;

gumsclient = &#34;lcmaps_gums_client.mod&#34;
&#34;-resourcetype ce&#34;
&#34;-actiontype execute-now&#34;
&#34;-capath /etc/grid-security/certificates&#34;
&#34;-cert   /etc/grid-security/hostcert.pem&#34;
&#34;-key    /etc/grid-security/hostkey.pem&#34;
&#34;--cert-owner root&#34;
&#34;--endpoint <a href='https&#58;//agent.tier3.ucdavis.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort&#34' target='_blank' rel='nofollow'>https&#58;//agent.tier3.ucdavis.edu&#58;8443/gums/services/GUMSXACMLAuthorizationServicePort&#34</a>;

Host Cert&#58;

Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58;
08&#58;d3&#58;ff&#58;bd&#58;14&#58;f6&#58;4d&#58;fd&#58;2e&#58;4d&#58;a6&#58;b3&#58;ee&#58;80&#58;0e&#58;13
Signature Algorithm&#58; sha1WithRSAEncryption
Issuer&#58; DC=com, DC=DigiCert-Grid, O=DigiCert Grid, CN=DigiCert Grid CA-1
Validity
Not Before&#58; May  1 00&#58;00&#58;00 2013 GMT
Not After &#58; Jun  6 12&#58;00&#58;00 2014 GMT
Subject&#58; DC=com, DC=DigiCert-Grid, O=Open Science Grid, OU=Services, CN=agent.tier3.ucdavis.edu
Subject Public Key Info&#58;
Public Key Algorithm&#58; rsaEncryption
RSA Public Key&#58; (2048 bit)
Modulus (2048 bit)&#58;
etc.............................

HTTP Service Cert&#58;
Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58;
0a&#58;c2&#58;ab&#58;ae&#58;89&#58;39&#58;0f&#58;47&#58;a9&#58;8d&#58;ed&#58;1c&#58;14&#58;30&#58;4f&#58;81
Signature Algorithm&#58; sha1WithRSAEncryption
Issuer&#58; DC=com, DC=DigiCert-Grid, O=DigiCert Grid, CN=DigiCert Grid CA-1
Validity
Not Before&#58; May  1 00&#58;00&#58;00 2013 GMT
Not After &#58; Jun  6 12&#58;00&#58;00 2014 GMT
Subject&#58; DC=com, DC=DigiCert-Grid, O=Open Science Grid, OU=Services, CN=http/agent.tier3.ucdavis.edu
Subject Public Key Info&#58;
Public Key Algorithm&#58; rsaEncryption
RSA Public Key&#58; (2048 bit)
Modulus (2048 bit)&#58;
etc...................

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=tknight/CN=740452/CN=Teresa Lynn Knight
</div><script type='text/javascript'>
        $('#show_1871070858').click(function() {
            $('#detail_1871070858').slideDown("normal");
            $('#show_1871070858').hide();
            $('#hide_1871070858').show();
        });
        $('#hide_1871070858').click(function() {
            $('#detail_1871070858').slideUp();
            $('#hide_1871070858').hide();
            $('#show_1871070858').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F14975">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 14975});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
