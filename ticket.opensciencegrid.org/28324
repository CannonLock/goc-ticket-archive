<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[28324] Can&#39;t make host cert with alternate name on a different domain</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=28324" method="post">
<div class="page-header">
    <h3><span class="muted">28324</span> / Can&#39;t make host cert with alternate name on a different domain</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Matyas Selmeci</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">GLOW</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Matyas Selmeci</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">GLOW-TECH</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Sarah Review</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-03-10</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Sarah Schmiechen <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">GLOW-TECH <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=28324", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/28324?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/28324?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Can%26%2339%3Bt%20make%20host%20cert%20with%20alternate%20name%20on%20a%20different%20domain%20ISSUE%3D28324%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='28324#1457032028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-03T19:07:08+00:00">Mar 3, 2016 07:07 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1457032028">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='28324#1457025658'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-03T17:20:58+00:00">Mar 3, 2016 05:20 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1457025658">&nbsp;</a></div><pre>Yes, we can close this out. I&#39;ve captured the work in a Jira ticket for the release&#58;
<a href='https&#58;//jira.opensciencegrid.org/browse/OIM-135' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/OIM-135</a></pre></div><div class='update_description'><i onclick="document.location='28324#1457022334'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-03T16:25:34+00:00">Mar 3, 2016 04:25 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1457022334">&nbsp;</a></div><pre>Everything seems A-OK here, may we close the ticket?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1456961807'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T23:36:47+00:00">Mar 2, 2016 11:36 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456961807">&nbsp;</a></div><pre>OK, thank you.</pre></div><div class='update_description'><i onclick="document.location='28324#1456959858'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T23:04:18+00:00">Mar 2, 2016 11:04 PM UTC</time> by <b>Jeny Teheran</b><a class="anchor" name="1456959858">&nbsp;</a></div><pre>CILogon certificates issued on test mode are as valid as the ones issued in OIM production.
You can use it on your production systems.
--
Jeny</pre></div><div class='update_description'><i onclick="document.location='28324#1456959731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T23:02:11+00:00">Mar 2, 2016 11:02 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456959731">&nbsp;</a></div><pre>Can I use this cert in production, or is that a bad idea?
-Mat</pre></div><div class='update_description'><i onclick="document.location='28324#1456958637'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T22:43:57+00:00">Mar 2, 2016 10:43 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456958637">&nbsp;</a></div><pre>Works just fine! Thanks!
-Mat</pre></div><div class='update_description'><i onclick="document.location='28324#1456941702'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T18:01:42+00:00">Mar 2, 2016 06:01 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1456941702">&nbsp;</a></div><pre>So how does this look to you? Is it working as it should?</pre></div><div class='update_description'><i onclick="document.location='28324#1456940471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T17:41:11+00:00">Mar 2, 2016 05:41 PM UTC</time> by <b>wiscmoate@....</b><a class="anchor" name="1456940471">&nbsp;</a></div><pre>Ah, -T for test.

[moate@submit-5 ~]$ osg-gridadmin-cert-request -T --vo=GLOW --hostname=koji.chtc.wisc.edu --cc=&#39;matyas@....&#39; --altname=koji-hub.batlab.org
Using timeout of 5 minutes
Running in test mode
The timeout is set to 5
Please enter the pass phrase for &#39;/home/moate/.globus/userkey.pem&#39;&#58;
Waiting for response from Quota Check API. Please wait.
Beginning request process for koji.chtc.wisc.edu
Generating certificate...
Writing key to ./koji.chtc.wisc.edu-key.pem
Id is&#58; 7233
Connecting to server to approve certificate...
Issuing certificate...

Certificate written to ./koji.chtc.wisc.edu.pem

On Wed, Mar 02, 2016 at 05&#58;35&#58;00PM +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;    [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='28324#1456940115'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T17:35:15+00:00">Mar 2, 2016 05:35 PM UTC</time> by <b>wiscmoate@....</b><a class="anchor" name="1456940115">&nbsp;</a></div><pre>Copy-paste fail.  I&#39;ll revoke that cert and make a new one.

-Moate

On Wed, Mar 02, 2016 at 05&#58;30&#58;00PM +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;    [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='28324#1456939825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T17:30:25+00:00">Mar 2, 2016 05:30 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456939825">&nbsp;</a></div><pre>Moate, I don&#39;t see the &#39;--altname=koji-hub.batlab.org&#39; in your command.</pre></div><div class='update_description'><i onclick="document.location='28324#1456938850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T17:14:10+00:00">Mar 2, 2016 05:14 PM UTC</time> by <b>wiscmoate@....</b><a class="anchor" name="1456938850">&nbsp;</a></div><pre>Success&#58;

[moate@submit-5 ~]$ osg-gridadmin-cert-request -T --vo=GLOW --hostname=koji.chtc.wisc.edu --cc=&#39;matyas@....&#39;
Using timeout of 5 minutes
Running in test mode
The timeout is set to 5
Please enter the pass phrase for &#39;/home/moate/.globus/userkey.pem&#39;&#58;
Waiting for response from Quota Check API. Please wait.
Beginning request process for koji.chtc.wisc.edu
Generating certificate...
Renaming existing key from ./koji.chtc.wisc.edu-key.pem to ./koji.chtc.wisc.edu-key-old.pem
Writing key to ./koji.chtc.wisc.edu-key.pem
Id is&#58; 7232
Connecting to server to approve certificate...
Issuing certificate...

Certificate written to ./koji.chtc.wisc.edu.pem

On Wed, Mar 02, 2016 at 05&#58;05&#58;00PM +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;    [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='28324#1456938314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T17:05:14+00:00">Mar 2, 2016 05:05 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1456938314">&nbsp;</a></div><pre>Aaron,

You should be able to test Sarah&#39;s changes with the following command&#58;

osg-gridadmin-cert-request -T --vo=GLOW --hostname=koji.chtc.wisc.edu --altname=koji-hub.batlab.org

- Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1456937949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T16:59:09+00:00">Mar 2, 2016 04:59 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1456937949">&nbsp;</a></div><pre>I think it’s actually ready for some preliminary testing now. Can you please try to request your cert here&#58;

<a href='https&#58;//oim-itb.grid.iu.edu/oim/certificate' target='_blank' rel='nofollow'>https&#58;//oim-itb.grid.iu.edu/oim/certificate</a>

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='28324#1456937051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T16:44:11+00:00">Mar 2, 2016 04:44 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456937051">&nbsp;</a></div><pre>Sure!

-Mat

On 03/02/16 10&#58;37, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='28324#1456936623'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T16:37:03+00:00">Mar 2, 2016 04:37 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1456936623">&nbsp;</a></div><pre>Mat,

Would you be willing to do some testing on this tomorrow in ITB?

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='28324#1456934191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T15:56:31+00:00">Mar 2, 2016 03:56 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1456934191">&nbsp;</a></div><pre>If the delay is too much of a burden, Jeny can manually get you a Digicert-Grid cert with the SANs you need.</pre></div><div class='update_description'><i onclick="document.location='28324#1456933456'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-02T15:44:16+00:00">Mar 2, 2016 03:44 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1456933456">&nbsp;</a></div><pre>March 22nd is the targeted production date. I am still working on getting the changes ready in test - it is more complicated than I originally anticipated. As soon as I have something to test, I will let you know.

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='28324#1456868771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-01T21:46:11+00:00">Mar 1, 2016 09:46 PM UTC</time> by <b>Jeny Teheran</b><a class="anchor" name="1456868771">&nbsp;</a></div><pre>According to GOC calendar, it seems that it would be available in the ITB on March 15th. Scott could confirm it.</pre></div><div class='update_description'><i onclick="document.location='28324#1456867989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-01T21:33:09+00:00">Mar 1, 2016 09:33 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456867989">&nbsp;</a></div><pre>Is that April? That&#39;s too bad. Most of my remaining tasks for the koji-hub rename are stalled until I can get the new cert.
-Mat</pre></div><div class='update_description'><i onclick="document.location='28324#1456867440'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-01T21:24:00+00:00">Mar 1, 2016 09:24 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1456867440">&nbsp;</a></div><pre>I just heard on the Production call that any related GOC changes will not happen this cycle (shipping 8 March 2016), but hopefully the following one (date not clear to me).</pre></div><div class='update_description'><i onclick="document.location='28324#1456427496'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-25T19:11:36+00:00">Feb 25, 2016 07:11 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1456427496">&nbsp;</a></div><pre>Thanks Sarah, I&#39;m looking forward to it.

-Mat</pre></div><div class='update_description'><i onclick="document.location='28324#1456427371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-25T19:09:31+00:00">Feb 25, 2016 07:09 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1456427371">&nbsp;</a></div><pre>Hi,

After some investigation, I would hope to have a solution in test by the end of next week. The logic for this is in a few different places and assumptions are made about what kind of data is going to be passed in. I will keep you updated when I have something to test.

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='28324#1456156042'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-22T15:47:22+00:00">Feb 22, 2016 03:47 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1456156042">&nbsp;</a></div><pre>Sarah,

Yes, we&#39;re going with the solution in the last comment by Mine.

Please let us know when you have an estimate for when you think it can be done.

Thanks,

Dave</pre></div><div class='update_description'><i onclick="document.location='28324#1456155267'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-22T15:34:27+00:00">Feb 22, 2016 03:34 PM UTC</time> by <b>Sarah Schmiechen</b><a class="anchor" name="1456155267">&nbsp;</a></div><pre>Hi Dave,

I should be able to start work on this later this week. Are we going with the solution in the last comment by Mine? If so, I understand what you&#39;re asking for, although I have not done any technical analysis on it so I can&#39;t say how long it would take to do or what is involved.

Thanks,
Sarah</pre></div><div class='update_description'><i onclick="document.location='28324#1455910459'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-19T19:34:19+00:00">Feb 19, 2016 07:34 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455910459">&nbsp;</a></div><pre>Sarah, we haven&#39;t heard from you on this ticket.  Do you know what needs to be done?  If so, when do you think you&#39;ll be able to work on it?</pre></div><div class='update_description'><i onclick="document.location='28324#1455728008'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-17T16:53:28+00:00">Feb 17, 2016 04:53 PM UTC</time> by <b>Mine Altunay</b><a class="anchor" name="1455728008">&nbsp;</a></div><pre>I think [1] below described by Brian is not the way we should go.
I would like a GridAdmin authorized in both domains to approve the request. The requestor certainly does not have to be a GridAdmin itself.
In case the requestor is a GridAdmin but only authorized in 1 domain, then this request should be treated in the same way as though the requestor has no GridAdmin privileges. In other words, another GridAdmin authorized in both domains should approve the request.</pre></div><div class='update_description'><i onclick="document.location='28324#1455662758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T22:45:58+00:00">Feb 16, 2016 10:45 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455662758">&nbsp;</a></div><pre>That sounds reasonable, if there&#39;s already a mechanism for different people requesting and approving; I am not that familiar with the tool.  I didn&#39;t realize you were making a distinction between approving and requesting.

So is that why Soichi phrased it the way he did?  That the request would be allowed through if there is at least one common approver between the two domains?  It was implied that it would still later need to be approved by someone else who has privileges in both domains?  If so, I didn&#39;t realize the implication, but it sounds OK.  In the example that Mat reported at the beginning of the ticket, he said Aaron was the requester.</pre></div><div class='update_description'><i onclick="document.location='28324#1455656711'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T21:05:11+00:00">Feb 16, 2016 09:05 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1455656711">&nbsp;</a></div><pre>Why limit this to GridAdmins? i.e. if a non-GridAdmin requests a cert
with a CN and SANs that crosses domains, shouldn&#39;t the GridAdmin(s)
common between those domains be able to approve the request?

- Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1455655343'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T20:42:23+00:00">Feb 16, 2016 08:42 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455655343">&nbsp;</a></div><pre>Yes now I understand.  The way it works currently (number [1]) is indeed not correct.  However I don&#39;t think either of Soichi&#39;s other suggestions is right either.

I think the right thing to check is whether the *requester* has GridAdmin privileges in all requested domains.  That&#39;s another way to say Brian&#39;s [2] but is not, as far as I can tell, one of the options that Soichi described.

Sarah, can you please make that change?</pre></div><div class='update_description'><i onclick="document.location='28324#1455650949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T19:29:09+00:00">Feb 16, 2016 07:29 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1455650949">&nbsp;</a></div><pre>Dave,

There is a subtle difference between Soichi&#39;s explanation of how it
currently works [1] and how he suggested it should work [2]&#58;

1. Currently, OIM checks that each hostname in CN/SANs can be approved
by the same set of GridAdmins&#58; wisc.edu GridAdmins != batlab.org
GridAdmins =&#62; OIM refuses cert request
2. The common GridAdmins across the hostnames in the requested CN/SANs
are able to approve certs&#58; Aaron Moate is a GridAdmin of wisc.edu and
batlab.org =&#62; Aaron Moate should be allowed to approve the cert request

OIM&#39;s requirements are too strict to support our use case.

- Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1455650230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T19:17:10+00:00">Feb 16, 2016 07:17 PM UTC</time> by <b>moate@....</b><a class="anchor" name="1455650230">&nbsp;</a></div><pre>[moate@submit-5 ~]$ osg-gridadmin-cert-request -T --vo=GLOW --hostname=koji.chtc.wisc.edu --altname=koji-hub.batlab.org --cc=matyas@....,cat@....
Using timeout of 5 minutes
Running in test mode
The timeout is set to 5
Please enter the pass phrase for &#39;/home/moate/.globus/userkey.pem&#39;&#58;
Waiting for response from Quota Check API. Please wait.
Beginning request process for koji.chtc.wisc.edu
Generating certificate...
Renaming existing key from ./koji.chtc.wisc.edu-key.pem to ./koji.chtc.wisc.edu-key-old.pem
Writing key to ./koji.chtc.wisc.edu-key.pem
The request has failed for the following reason&#58; All SAN must be
approved by the same set of gridadmins. Different for koji-
hub.batlab.org</pre></div><div class='update_description'><i onclick="document.location='28324#1455649882'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T19:11:22+00:00">Feb 16, 2016 07:11 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455649882">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; I&#39;m not suggesting that people should be able to request certs for any domain, just the ones that they&#39;re GridAdmins for.</font>

According to Soichi, this is already supposed to be implemented for OSG CA.  He said&#58;
<font color='#7F7E6F'>&#62; OIM currently checks to make sure that hostname in CN and SANs can be approved by the same set of GridAdmins</font>

I&#39;m sorry, I missed that it was Aaron who made the original attempt.  Aaron, please try it with -T to run against OIM-ITB.  If that still fails, we should debug that and get it to work.</pre></div><div class='update_description'><i onclick="document.location='28324#1455646318'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T18:11:58+00:00">Feb 16, 2016 06:11 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1455646318">&nbsp;</a></div><pre>Dave,

Sorry, I meant &#39;allowing for validation by common GridAdmins across all domains in the requested CNs and SANs&#39;. I&#39;m not suggesting that people should be able to request certs for any domain, just the ones that they&#39;re GridAdmins for.

Aaron was the original requestor (Mat just created the ticket) so once again, it&#39;s a problem in OIM&#39;s implementation. When can we expect a fix to be released for this issue?

- Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1455644501'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T17:41:41+00:00">Feb 16, 2016 05:41 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455644501">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Soichi&#58; I like your second option of allowing for validation by common GridAdmins across all CNs and SANs.</font>

I should have commented on that.  No, we can&#39;t allow that, that would be a security hole.  Somebody would be able to issue certificates for a domain they&#39;re not authorized for.</pre></div><div class='update_description'><i onclick="document.location='28324#1455644432'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T17:40:32+00:00">Feb 16, 2016 05:40 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455644432">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; By OSG CA, do you mean the CILogon CA?</font>

Yes.  I don&#39;t like to use the term &#34;CILogon CA&#34; because it is easily confused with the CILogon Basic CA.   At a minimum call it the &#34;CILogon OSG CA&#34;; it generates DNs that have Open Science Grid in the name, not cilogon.

<font color='#7F7E6F'>&#62; And it should be easy to verify by running &#39;osg-gridadmin-cert-request&#39; with -T to run against OIM-ITB and requesting a cert with SANs from two different domains that the requestor is a GridAdmin for.</font>

Mat, please try it and let us know.

<font color='#7F7E6F'>&#62; Only Aaron Moate should be able to approve the certificate request in this case.</font>

Oh, maybe that&#39;s the whole problem.  Can we get Mat added as a GridAdmin for batlab.org, or get Aaron to issue the request?</pre></div><div class='update_description'><i onclick="document.location='28324#1455642311'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T17:05:11+00:00">Feb 16, 2016 05:05 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1455642311">&nbsp;</a></div><pre>By OSG CA, do you mean the CILogon CA? And it should be easy to verify by running &#39;osg-gridadmin-cert-request&#39; with -T to run against OIM-ITB and requesting a cert with SANs from two different domains that the requestor is a GridAdmin for.

Soichi&#58; I like your second option of allowing for validation by common GridAdmins across all CNs and SANs.

e.g. A GLOW certificate is requested with wisc.edu and batlab.org CNs/SANs and the GLOW admins for these domains are&#58;

* wisc.edu&#58; Dan Bradley, Mat Selmeci, Aaron Moate, Nathan Yehle (he should be removed btw), Neil Van Lysel
* batlab.org&#58; Aaron Moate

Only Aaron Moate should be able to approve the certificate request in this case.</pre></div><div class='update_description'><i onclick="document.location='28324#1455640984'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T16:43:04+00:00">Feb 16, 2016 04:43 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455640984">&nbsp;</a></div><pre>Brian&#58; so you&#39;re saying that a problem using the tool with Digicert-Grid CA also means a problem with OSG CA?  Any way to verify that?</pre></div><div class='update_description'><i onclick="document.location='28324#1455637767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T15:49:27+00:00">Feb 16, 2016 03:49 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1455637767">&nbsp;</a></div><pre>Dave,

The OSG PKI tools DO have the ability to request SANs but the CA that certs are requested from is completely transparent to the tools since that logic is handled by OIM. Mat should be able to request a hostcert with SANs that share the same domain but OIM rejects the request when the SANs are from separate domains.

- Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1455637216'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-16T15:40:16+00:00">Feb 16, 2016 03:40 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455637216">&nbsp;</a></div><pre>Well according to Mat&#39;s bug report here it looks like osg-gridadmin-cert-request does not work to create a cert with SANs on Digicert.  It&#39;s not worth spending any time to work on it at this point, since Digicert-Grid CA is going away soon.  Would Mat be able to select the OIM ITB machine and get an OSG CA certiificate even though GLOW hasn&#39;t been transitioned yet?  If so that would be the way to go, and if it fails we should fix it.  If he can&#39;t do that through the ITB machine, then if he doesn&#39;t want to wait until GLOW is transitioned then Jeny can create one for him manually on the Digicert website.  Apparently Soichi can do it also through OIM UI but there&#39;s no need for that.</pre></div><div class='update_description'><i onclick="document.location='28324#1455579589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-15T23:39:49+00:00">Feb 15, 2016 11:39 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1455579589">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Soichi, aren&#39;t SANs only supported through the pki tools with the OSG CA?</font>
The last time I checked in 2014 (<a href='https&#58;//jira.grid.iu.edu/browse/OSGPKI-150' target='_blank' rel='nofollow'>https&#58;//jira.grid.iu.edu/browse/OSGPKI-150</a>), DigiCert was honoring the SANs I&#39;ve entered on my CSR and I was able to issue Digicert host cert with SAN through OIM UI (not via CLI)</pre></div><div class='update_description'><i onclick="document.location='28324#1455572627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-15T21:43:47+00:00">Feb 15, 2016 09:43 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455572627">&nbsp;</a></div><pre>It wouldn&#39;t be secure enough to do the GridAdmin check on CN only; it should be done for the SANs as well. I think it&#39;s better and probably easier to require the requester to be an admin all the domains than to look for any common GridAdmin between the CNs and SANs.

Soichi, aren&#39;t SANs only supported through the pki tools with the OSG CA?  I knew they were added there but didn&#39;t hear if they got added for Digicert too.  If they aren&#39;t supported at all on Digicert and it isn&#39;t urgent we should probably wait until GLOW is switched over.</pre></div><div class='update_description'><i onclick="document.location='28324#1455568047'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-15T20:27:27+00:00">Feb 15, 2016 08:27 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1455568047">&nbsp;</a></div><pre>Unless Sarah already made an update, OIM currently checks to make sure that hostname in CN and SANs can be approved by the same set of GridAdmins. I suggested to Sarah that this check to be loosened so that it does the GridAdmin check on CN only - and allow any SANs (as long as they are registered in OIM GridAdmin domains). Or.. the validation could be implemented so that it will allow SANs as long as at least 1 common GridAdmins across all CN and SANs.

I haven&#39;t heard if Mine&#39;s already made her decision on how the validation should be modified, my understanding is that current behavior is clearly not what our users need / want.</pre></div><div class='update_description'><i onclick="document.location='28324#1455566551'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-15T20:02:31+00:00">Feb 15, 2016 08:02 PM UTC</time> by <b>Jeny Teheran</b><a class="anchor" name="1455566551">&nbsp;</a></div><pre>I agree with Dave.
Requesting a certificate with SANs in two different domains from Digicert should be the last resort. I can help with this item if it is decided.</pre></div><div class='update_description'><i onclick="document.location='28324#1455566365'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-15T19:59:25+00:00">Feb 15, 2016 07:59 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1455566365">&nbsp;</a></div><pre>In my opinion it would be a good thing if OIM supported SANs that cross domains, if the submitter has privileges in both domains.  In fact I think that&#39;s what Mine was saying when she said she&#39;d rather resolve this ticket.

I added Soichi to the ticket -- Soichi, can you confirm that OIM rejects SAN requests for two different domains?  Is that something that can be changed?

Mine is working hard on getting some stuff done before going on maternity leave so I don&#39;t think she&#39;s reading all her email.</pre></div><div class='update_description'><i onclick="document.location='28324#1455565435'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-15T19:43:55+00:00">Feb 15, 2016 07:43 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1455565435">&nbsp;</a></div><pre>Hello,

Could someone with the security team please review this and advise Matyas on the best course of action?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='28324#1455224031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-11T20:53:51+00:00">Feb 11, 2016 08:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1455224031">&nbsp;</a></div><pre>Mine,

Please advise.

Thank you</pre></div><div class='update_description'><i onclick="document.location='28324#1455048748'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-09T20:12:28+00:00">Feb 9, 2016 08:12 PM UTC</time> by <b>echism</b><a class="anchor" name="1455048748">&nbsp;</a></div><pre>Hey Mine,

Could you take another look at this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='28324#1454539743'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-03T22:49:03+00:00">Feb 3, 2016 10:49 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1454539743">&nbsp;</a></div><pre>Mine, just to verify, getting a two-domain cert is something I should treat as a last resort?</pre></div><div class='update_description'><i onclick="document.location='28324#1454344328'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-01T16:32:08+00:00">Feb 1, 2016 04:32 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1454344328">&nbsp;</a></div><pre>The problem is, we have to rename a host from the batlab.org domain
(which likely will go away next year) to the chtc.wisc.edu domain (which
will stick around for the foreseeable future), and we&#39;d like to have
both addresses work until people update their client software with the
new address. I can investigate if there is another way I can solve this
problem, but I would like to leave this ticket open until I know for sure.

-Mat

On 01/29/16 14&#58;41, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='28324#1454100062'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-29T20:41:02+00:00">Jan 29, 2016 08:41 PM UTC</time> by <b>Mine Altunay</b><a class="anchor" name="1454100062">&nbsp;</a></div><pre>This error has nothing to do with the PKI tools. It is about how we review the submitted domains in OIM. For each domain requested in a SAN certificate, OIM checks whether the submitter is a GridAdmin who can requests certs within that domain. Since this request has 2 separate domains , I think OIM rejects the request. I believe the current logic is all SAN domains must be regsitered under the same FQDN in this case OIM expects all alternative names to be in wisc.edu. Soichi can confirm if this true or not. But I remember having a design conversation and agreeing to this logic.

If this is an urgent request, I can request a cert from DigiCert directly. I will have to log into Digicert console directly and generate the certs. I prefer not to do it and solve this ticket, but let me know if there is an urgency.</pre></div><div class='update_description'><i onclick="document.location='28324#1454000513'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-28T17:01:53+00:00">Jan 28, 2016 05:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1454000513">&nbsp;</a></div><pre>This is being investigated and tested currently.</pre></div><div class='update_description'><i onclick="document.location='28324#1453928797'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-27T21:06:37+00:00">Jan 27, 2016 09:06 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1453928797">&nbsp;</a></div><pre>Alain,

The error is the response the PKI tools are receiving from OIM. The PKI tools don&#39;t have anything that looks like that error anywhere in its source.

- Brian</pre></div><div class='update_description'><i onclick="document.location='28324#1453928574'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-27T21:02:54+00:00">Jan 27, 2016 09:02 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1453928574">&nbsp;</a></div><pre>Adding Brian Lin, who did the recent work to osg-pki-tools for the SAN additions.</pre></div><div class='update_description'><i onclick="document.location='28324#1453928471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-27T21:01:11+00:00">Jan 27, 2016 09:01 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1453928471">&nbsp;</a></div><pre>Hi Matyas,

Have you checked to see if you were using the latest version of the osg-pki-tools?  You&#39;ll also have to submit a separate request to have a GA removed with the approval
of the VO&#39;s security contact or VO manager.  If someone else would like to become a GA they&#39;ll need to submit a GA request.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='28324#1453926005'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-27T20:20:05+00:00">Jan 27, 2016 08:20 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1453926005">&nbsp;</a></div><pre>Side issue&#58; Nate Yehle left; how can we remove him from the GLOW grid admins list and make someone else the primary admin?
Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='28324#1453925815'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-27T20:16:55+00:00">Jan 27, 2016 08:16 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1453925815">&nbsp;</a></div><pre>Hi,

We are attempting to make a host cert for &#34;koji.chtc.wisc.edu&#34; with the alt name &#34;koji-hub.batlab.org&#34;, but osg-gridadmin-cert-request is failing with the following error&#58;

The request has failed for the following reason&#58; All SAN must be
approved by the same set of gridadmins. Different for koji-
hub.batlab.org

Aaron Moate is the one that is trying to make the cert, and he is listed as a grid admin for GLOW for both the chtc.wisc.edu and the batlab.org domains. This is the command he used&#58;

osg-gridadmin-cert-request --vo=GLOW --hostname=koji.chtc.wisc.edu --altname=koji-hub.batlab.org --cc=matyas@....,cat@....

Is this a bug?

(Note that GLOW hasn&#39;t switched over to CILogon yet, so this is a DigiCert cert that we&#39;re trying to acquire.)

Thanks,
-Mat</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F28324">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 28324});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
