<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9068] Resource Specific Issue on UCSDT2-SE</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9068" method="post">
<div class="page-header">
    <h3><span class="muted">9068</span> / Resource Specific Issue on UCSDT2-SE</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Joel Snow</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCSDT2-SE</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-09-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">USCMS <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9068", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9068#1286281929'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-05T12:32:09+00:00">Oct 5, 2010 12:32 PM UTC</time> by <b>Fermilab</b><a class="anchor" name="1286281929">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolved by GOC
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='9068#1286281791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-05T12:29:51+00:00">Oct 5, 2010 12:29 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1286281791">&nbsp;</a></div><pre>I am closing this issue, as this change was released into production last week.</pre></div><div class='update_description'><i onclick="document.location='9068#1285686695'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-28T15:11:35+00:00">Sep 28, 2010 03:11 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1285686695">&nbsp;</a></div><pre>This change was released into the ITB this morning. Once we get word that testing went ok we&#39;ll move this into production.

Rob</pre></div><div class='update_description'><i onclick="document.location='9068#1285609087'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-27T17:38:07+00:00">Sep 27, 2010 05:38 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1285609087">&nbsp;</a></div><pre>Excellent.  Thanks for your work.

joel</pre></div><div class='update_description'><i onclick="document.location='9068#1285608541'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-27T17:29:01+00:00">Sep 27, 2010 05:29 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1285608541">&nbsp;</a></div><pre>Joel,

We&#39;re currently getting ready to put this into the GUMS template right now.

Kyle</pre></div><div class='update_description'><i onclick="document.location='9068#1285351348'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-24T18:02:28+00:00">Sep 24, 2010 06:02 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1285351348">&nbsp;</a></div><pre>Terrence,

Could you send your GUMS template to us just so I can compare and make sure we&#39;re all set?  you can email it to me at kagross@.... if you&#39;d like.

Thanks,
Kyle</pre></div><div class='update_description'><i onclick="document.location='9068#1284752590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T19:43:10+00:00">Sep 17, 2010 07:43 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1284752590">&nbsp;</a></div><pre>Based on a previous deprecated older GUMS configuration I have constructed the
following. It should function appropriately to grab the service DN and provide
the appropriate mapping.

&#60;vomsUserGroup
name=&#39;dzeroservice&#39;
access=&#39;read self&#39;
description=&#39;Dzero Service Certificates&#39;
vomsServer=&#39;dzero&#39;
matchFQAN=&#39;exact&#39;
acceptProxyWithoutFQAN=&#39;true&#39;
voGroup=&#39;/dzero/services&#39;/&#62;

&#60;groupToAccountMapping
name=&#39;dzeroservice&#39;
description=&#39;Dzero Service Certificates&#39;
accountingVoSubgroup=&#39;dzero&#39;
accountingVo=&#39;DZERO&#39;
userGroups=&#39;dzeroservice&#39;
accountMappers=&#39;dzeroservice&#39;/&#62;

&#60;groupAccountMapper
name=&#39;dzeroservice&#39;
description=&#39;dzero Service Certificates&#39;
accountName=&#39;sam&#39;/&#62;

and of course add it to the host to group mapping.

I will deploy this fix manually. It will remain in place temporarily until the
30th of Sept at which time I will confirm that it, or a similar, has been
added to the official GUMS template. If it has not been added to the official
GUMS template it will be removed.

Terrence

<div id='show_209013754' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_209013754'>On Friday, September 17, 2010 11&#58;59&#58;00 am Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_209013754').click(function() {
            $('#detail_209013754').slideDown("normal");
            $('#show_209013754').hide();
            $('#hide_209013754').show();
        });
        $('#hide_209013754').click(function() {
            $('#detail_209013754').slideUp();
            $('#hide_209013754').hide();
            $('#show_209013754').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9068#1284749950'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T18:59:10+00:00">Sep 17, 2010 06:59 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1284749950">&nbsp;</a></div><pre>We recommend you update your template locally. If you provide the change to us, we will insure it is included in the next release. We do not anticipate a release prior to 26/Sep</pre></div><div class='update_description'><i onclick="document.location='9068#1284743887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T17:18:07+00:00">Sep 17, 2010 05:18 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1284743887">&nbsp;</a></div><pre>Template does not contain the update

&#60;!-- 13 DZERO --&#62;
&#60;groupMapping name=&#39;dzeroana&#39; accountingVo=&#39;dzero&#39; accountingDesc=&#39;DZERO&#39;&#62;
&#60;userGroup className=&#39;gov.bnl.gums.VOMSGroup&#39;
url=&#39;<a href='https&#58;//voms.fnal.gov&#58;8443/voms/dzero/services/VOMSAdmin&#39' target='_blank' rel='nofollow'>https&#58;//voms.fnal.gov&#58;8443/voms/dzero/services/VOMSAdmin&#39</a>;
persistenceFactory=&#39;mysql&#39;
name=&#39;dzeroana&#39;
voGroup=&#34;/dzero/users&#34;
voRole=&#34;analysis&#34;
sslCertfile=&#39;/etc/grid-security/http/httpcert.pem&#39;
sslKey=&#39;/etc/grid-security/http/httpkey.pem&#39;
matchFQAN=&#34;exact&#34; acceptProxyWithoutFQAN=&#34;true&#34; /&#62;
&#60;accountMapping className=&#39;gov.bnl.gums.GroupAccountMapper&#39;
groupName=&#39;dzeroana&#39; /&#62;
&#60;/groupMapping&#62;

&#60;groupMapping name=&#39;dzerouser&#39; accountingVo=&#39;dzero&#39; accountingDesc=&#39;DZERO&#39;&#62;
&#60;userGroup className=&#39;gov.bnl.gums.VOMSGroup&#39;
url=&#39;<a href='https&#58;//voms.fnal.gov&#58;8443/voms/dzero/services/VOMSAdmin&#39' target='_blank' rel='nofollow'>https&#58;//voms.fnal.gov&#58;8443/voms/dzero/services/VOMSAdmin&#39</a>;
persistenceFactory=&#39;mysql&#39;
name=&#39;dzerouser&#39;
voGroup=&#34;/dzero/users&#34;
sslCertfile=&#39;/etc/grid-security/http/httpcert.pem&#39;
sslKey=&#39;/etc/grid-security/http/httpkey.pem&#39;
matchFQAN=&#34;exact&#34; acceptProxyWithoutFQAN=&#34;true&#34;/&#62;
&#60;accountMapping className=&#39;gov.bnl.gums.GroupAccountMapper&#39;
groupName=&#39;samgrid&#39; /&#62;
&#60;/groupMapping&#62;

On Friday, September 17, 2010 06&#58;03&#58;00 am Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1284728587'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T13:03:07+00:00">Sep 17, 2010 01:03 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1284728587">&nbsp;</a></div><pre>Hi,

D0 jobs at UCSD still fail to get input files from the UCSD SE.  Has the
template change been propagated to GUMS at UCSD?  If yes then is there
another problem?  I&#39;m specifically looking at logs of failures between
6-8 AM 09/16/10.  please investigate.  thanks.

joel</pre></div><div class='update_description'><i onclick="document.location='9068#1283357501'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-01T16:11:41+00:00">Sep 1, 2010 04:11 PM UTC</time><a class="anchor" name="1283357501">&nbsp;</a></div><pre>Hi Kyle and/or Scott.

Can you please update the OSG template to include the new DZero role?

Thanks,
igor
-- by Igor Sfiligoi</pre></div><div class='update_description'><i onclick="document.location='9068#1283355729'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-01T15:42:09+00:00">Sep 1, 2010 03:42 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1283355729">&nbsp;</a></div><pre>Hi,

The group for the service certificates is /dzero/services.
We require no special mapping. Isn&#39;t that at the disgression of the SE
admin?  thanks.

joel

On Tue, 31 Aug 2010, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1283297046'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T23:24:06+00:00">Aug 31, 2010 11:24 PM UTC</time> by <b>sfiligoi@....</b><a class="anchor" name="1283297046">&nbsp;</a></div><pre>Hi Joel.

We will need to know what group/role (if any) are the service certificates inserted under in VOMS,
and what would you like to map them to.

Thanks,
Igor

On 08/31/2010 11&#58;45 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1283280307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T18:45:07+00:00">Aug 31, 2010 06:45 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1283280307">&nbsp;</a></div><pre>Hi,

Can the request to update the GUMS template be made in this ticket?  If
so I am making the request.  If not then should I refer the matter to the
dzero council rep?  thanks.

joel

On Tue, 31 Aug 2010, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1283279948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T18:39:08+00:00">Aug 31, 2010 06:39 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1283279948">&nbsp;</a></div><pre>This issue is not related to VOMS, it is related to the GUMS template from the
OSG

<a href='http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/tarballs/vo-version/gums.template</a>

Please have the appropriate entry for the service certificate added to the
above template. Once it is added I will update my GUMS with the correct
template and re-run a VOMS update.

Terrence

On Tuesday, August 31, 2010 11&#58;12&#58;00 am Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1283279767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T18:36:07+00:00">Aug 31, 2010 06:36 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1283279767">&nbsp;</a></div><pre>The issue is that the entry in the OSG GUMS template does not exist. This
entry is required to download the service certificate. For some presumably
historical reason the service cert entry was removed from the template.
However the thinking behind that change is at this point obsolete. Service
certificates are widely used in the OSG today and there is no security or
technical reason for the entry not to be in the template.

Once the OSG places the correct entry in the OSG GUMS template at the request
of Dzero I will run the template update tool available in version 1.3.15 and
newer of GUMS and make sure the appropriate user (as defined in the template
entry) is created and the files and directories are owned by that user.

Terrence

On Tuesday, August 31, 2010 10&#58;51&#58;00 am Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1283279049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T18:24:09+00:00">Aug 31, 2010 06:24 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1283279049">&nbsp;</a></div><pre>Hi Mine,

Yes Terrence is site admin.  My impression was that the DN was not added
recently but had been in the VOMS for a long time.  thanks.

joel

On Tue, 31 Aug 2010, Mine Altunay wrote&#58;

<font color='#7F7E6F'>&#62; Hello Joel</font>
<font color='#7F7E6F'>&#62; Is Terrence the site admin for the site? I cc&#39;ed him just in case.</font>
<font color='#7F7E6F'>&#62; if you recently added his entry into the VOMS, it may take a while for</font>
<font color='#7F7E6F'>&#62; teh GUMS to be freshen up.</font>
<font color='#7F7E6F'>&#62; It depends on how frequently GUMS synch up with the VOMS.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; joel snow wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Our Dzero VOMS manager says the DN in question, as reported by the UCSD</font>
<font color='#7F7E6F'>&#62;&#62; admin, is already in our VOMS&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Date&#58; Tue, 31 Aug 2010 12&#58;41&#58;48 -0500</font>
<font color='#7F7E6F'>&#62;&#62; From&#58; Alan Jonckheere &#60;jonckheere@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62; To&#58; joel snow &#60;snow@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Subject&#58; Re&#58; VOMS update?</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;     [ The following text is in the &#34;ISO-8859-1&#34; character set. ]</font>
<font color='#7F7E6F'>&#62;&#62;     [ Your display is set for the &#34;UTF-8&#34; character set.  ]</font>
<font color='#7F7E6F'>&#62;&#62;     [ Some characters may be displayed incorrectly. ]</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Joel, It&#39;s already there&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; /DC=org/DC=doegrids/OU=Services/CN=sam/samgfwd01.fnal.gov</font>
<font color='#7F7E6F'>&#62;&#62; /DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1</font>
<div id='show_22734441' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_22734441'><font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; It for firstname/lastname Host/d0srv066.fnal.gov But I doubt that that</font>
<font color='#7F7E6F'>&#62;&#62; matters.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Alan</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; If it is already there why isn&#39;t it being respected by UCSD?  The admin</font>
<font color='#7F7E6F'>&#62;&#62; mentioned a GUMS template.  Does that need to be changed?  thanks for</font>
<font color='#7F7E6F'>&#62;&#62; any help.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;         joel</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_22734441').click(function() {
            $('#detail_22734441').slideDown("normal");
            $('#show_22734441').hide();
            $('#hide_22734441').show();
        });
        $('#hide_22734441').click(function() {
            $('#detail_22734441').slideUp();
            $('#hide_22734441').hide();
            $('#show_22734441').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9068#1283278327'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T18:12:07+00:00">Aug 31, 2010 06:12 PM UTC</time> by <b>Mine Altunay</b><a class="anchor" name="1283278327">&nbsp;</a></div><pre>Hello Joel
Is Terrence the site admin for the site? I cc&#39;ed him just in case.
if you recently added his entry into the VOMS, it may take a while for
teh GUMS to be freshen up.
It depends on how frequently GUMS synch up with the VOMS.

joel snow wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Our Dzero VOMS manager says the DN in question, as reported by the UCSD</font>
<font color='#7F7E6F'>&#62; admin, is already in our VOMS&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Date&#58; Tue, 31 Aug 2010 12&#58;41&#58;48 -0500</font>
<font color='#7F7E6F'>&#62; From&#58; Alan Jonckheere &#60;jonckheere@....&#62;</font>
<font color='#7F7E6F'>&#62; To&#58; joel snow &#60;snow@....&#62;</font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; VOMS update?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     [ The following text is in the &#34;ISO-8859-1&#34; character set. ]</font>
<font color='#7F7E6F'>&#62;     [ Your display is set for the &#34;UTF-8&#34; character set.  ]</font>
<font color='#7F7E6F'>&#62;     [ Some characters may be displayed incorrectly. ]</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Joel, It&#39;s already there&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; /DC=org/DC=doegrids/OU=Services/CN=sam/samgfwd01.fnal.gov</font>
<font color='#7F7E6F'>&#62; /DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It for firstname/lastname Host/d0srv066.fnal.gov But I doubt that that</font>
<font color='#7F7E6F'>&#62; matters.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Alan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; If it is already there why isn&#39;t it being respected by UCSD?  The admin</font>
<font color='#7F7E6F'>&#62; mentioned a GUMS template.  Does that need to be changed?  thanks for</font>
<font color='#7F7E6F'>&#62; any help.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_485614732' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_485614732'><font color='#7F7E6F'>&#62;         joel</font>
</div><script type='text/javascript'>
        $('#show_485614732').click(function() {
            $('#detail_485614732').slideDown("normal");
            $('#show_485614732').hide();
            $('#hide_485614732').show();
        });
        $('#hide_485614732').click(function() {
            $('#detail_485614732').slideUp();
            $('#hide_485614732').hide();
            $('#show_485614732').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9068#1283277069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-31T17:51:09+00:00">Aug 31, 2010 05:51 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1283277069">&nbsp;</a></div><pre>Hi,

Our Dzero VOMS manager says the DN in question, as reported by the UCSD
admin, is already in our VOMS&#58;

Date&#58; Tue, 31 Aug 2010 12&#58;41&#58;48 -0500
From&#58; Alan Jonckheere &#60;jonckheere@....&#62;
To&#58; joel snow &#60;snow@....&#62;
Subject&#58; Re&#58; VOMS update?

[ The following text is in the &#34;ISO-8859-1&#34; character set. ]
[ Your display is set for the &#34;UTF-8&#34; character set.  ]
[ Some characters may be displayed incorrectly. ]

Joel, It&#39;s already there&#58;

/DC=org/DC=doegrids/OU=Services/CN=sam/samgfwd01.fnal.gov
/DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1

It for firstname/lastname Host/d0srv066.fnal.gov But I doubt that that
matters.

Alan

If it is already there why isn&#39;t it being respected by UCSD?  The admin
mentioned a GUMS template.  Does that need to be changed?  thanks for
any help.

joel</pre></div><div class='update_description'><i onclick="document.location='9068#1282947849'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T22:24:09+00:00">Aug 27, 2010 10:24 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1282947849">&nbsp;</a></div><pre>You should go ahead and update the voms with the service certificates for
D0, or update the voms template as needed to keep D0 running now.
Then the knowledeable D0 people should attend the Tuesday security meeting
(11&#58;30am cdt) to discuss the situation.
Thanks,
Doug

PS Previous message was truncated.

On Aug 27, 2010 2&#58;40 PM, &#34;Open Science Grid FootPrints&#34; &#60;
osg@....&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='9068#1282947847'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T22:24:07+00:00">Aug 27, 2010 10:24 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1282947847">&nbsp;</a></div><pre>You should go ahead and update the voms

On Aug 27, 2010 2&#58;40 PM, &#34;Open Science Grid FootPrints&#34; &#60;
osg@....&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='9068#1282934347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T18:39:07+00:00">Aug 27, 2010 06:39 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1282934347">&nbsp;</a></div><pre>Great!  Please let me know when the template has been updated.  thanks.

joel

On Fri, 27 Aug 2010, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1282934034'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T18:33:54+00:00">Aug 27, 2010 06:33 PM UTC</time><a class="anchor" name="1282934034">&nbsp;</a></div><pre>My suggestion is that the OSG re-insert the service cert entry into the OSG GUMS template. Service certs are used currently for similar purposes in the OSG, notable the GlideinWMS system. There is no reason to not have this entry. Once that entry is re-inserted I will rerun the template updated and service will be restored.</pre></div><div class='update_description'><i onclick="document.location='9068#1282932366'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T18:06:06+00:00">Aug 27, 2010 06:06 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1282932366">&nbsp;</a></div><pre>Hi,

A potential solution has been proposed by the UCSD sysadmin.  It requires
action (or not) by OSG.  Security has dicussed the issue in the ticket
without a conclusion.  I am looking for a authoriatative security/policy
position on the issue of using dzero service certs for data transfer
without undue complications for site admins.  It matters to dzero because
jobs can&#39;t run at UCSD anymore and we&#39;d like not to lose other sites in a
similar manner which may occur if nothing is done.  Should the matter go
through the dzero VO rep to the council instead of this ticket?  thanks.

joel</pre></div><div class='update_description'><i onclick="document.location='9068#1282930646'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T17:37:26+00:00">Aug 27, 2010 05:37 PM UTC</time><a class="anchor" name="1282930646">&nbsp;</a></div><pre>Hi Joel.

What exactly are you waiting for?
An answer from the security team?
Something else?

Igor
-- by Igor Sfiligoi</pre></div><div class='update_description'><i onclick="document.location='9068#1282928586'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T17:03:06+00:00">Aug 27, 2010 05:03 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1282928586">&nbsp;</a></div><pre>D0 is waiting for a solution or a course of action from OSG.

joel</pre></div><div class='update_description'><i onclick="document.location='9068#1282927657'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-27T16:47:37+00:00">Aug 27, 2010 04:47 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1282927657">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='9068#1282247403'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-19T19:50:03+00:00">Aug 19, 2010 07:50 PM UTC</time><a class="anchor" name="1282247403">&nbsp;</a></div><pre>That is an interesting issue, I can see ways to technically separate computing from storage in GUMS, though it is much easier I think if storage and computing are on separate machines. The reason being GUMS can be made to map some groups to different hosts. I cannot see how to by default block computing and allow storage without after install customization for this one VO. Ideally there would be no after install config to support this, but if extra config is required it should be clearly noted int he GUMS install, eg. *For additional VO configuration options click here*.

It is unfortunate that because this is a service cert that sites will have to still do some additional configuration to support the VO though if you want to prevent, by default, jobs from running under this cert. My perspective is a bit different also being involved with glideinWMS and its certs so I am less concerned with service certs running jobs. I find service certs are typically managed by experts as opposed to user certs which though tied to users are all over the place.  This makes them more trustworthy, and easier to track down in my experience.</pre></div><div class='update_description'><i onclick="document.location='9068#1282245202'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-19T19:13:22+00:00">Aug 19, 2010 07:13 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1282245202">&nbsp;</a></div><pre>Adding OSG security team to this ticket.
The question is if and how the dzeroservice authorization can be added (back) to the GUMS template so that they will work for storage systems while still (presumably) not being authorized to run jobs.  This is a combined technical and policy question (I think).
Doug</pre></div><div class='update_description'><i onclick="document.location='9068#1282245100'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-19T19:11:40+00:00">Aug 19, 2010 07:11 PM UTC</time><a class="anchor" name="1282245100">&nbsp;</a></div><pre>Today we discussed the ticket at the VO forum. It results that the service certificate was removed on purpose as a result of security concerns raised by D0 (probably Gabriele Garzoglio). There are concerns in submitting jobs with a service certificate. It may be possible to add it back if this is requested by D0. The issue should be discussed with the security team.</pre></div><div class='update_description'><i onclick="document.location='9068#1281590671'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-12T05:24:31+00:00">Aug 12, 2010 05:24 AM UTC</time><a class="anchor" name="1281590671">&nbsp;</a></div><pre>It is a service cert Igor.

The specific problem looking at my old config is that the default GUMS template lacks an entry for dzeroservice that appears in my older custom config. How long has this been the case that the template has lacked this entry? Was it removed or just never pushed to the OSG? It would be really helpful I think for the dzero VO if the default config correctly reflected this entry. Otherwise you have to get specific configs at sites, configs that disappear if anyone updates or upgrades, or loses their configuration or just did not know they were there.

For me I would like my site to be as standard as possible to minimize these kinds of recurring issues with custom one off fixes. The work short term but long term can be a real headache.

It should not be complicated to get this thing added to the template, we just have to find out who approved it and send a request in. There are a few minor questions to answer like what group username you want to be mapped to by default for this purpose. I think I was using sam, but that might be too short. I seem to recall it should be different than the group mapped by users?</pre></div><div class='update_description'><i onclick="document.location='9068#1281585246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-12T03:54:06+00:00">Aug 12, 2010 03:54 AM UTC</time> by <b>sfiligoi@....</b><a class="anchor" name="1281585246">&nbsp;</a></div><pre>Hi Joel.

Is the affected DN in any VO (i.e VOMS) at all?

Igor

On 08/11/2010 08&#58;15 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1281575706'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-12T01:15:06+00:00">Aug 12, 2010 01:15 AM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1281575706">&nbsp;</a></div><pre>Does this mean nothing will be done to fix the situation until OSG
template is updated?  As we operate successfully at other SE&#39;s something
could be done now.  Is this a new policy requirement to run jobs or use
storage?  What is the motivation for such a change?  Thanks.

joel

On Wed, 11 Aug 2010, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1281565806'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-11T22:30:06+00:00">Aug 11, 2010 10:30 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1281565806">&nbsp;</a></div><pre>You fail to map because your proxy is not in stock OSG gums. Ideally this
would be integrated into the current template for OSG so that updating is
as simple as clinking a link in newer GUMS.

Terrence

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9068#1281553546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-11T19:05:46+00:00">Aug 11, 2010 07:05 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281553546">&nbsp;</a></div><pre>Hi,

DZero MC jobs are failing to get files from UCSD SE.  We observe in the SRM log on the FNAL side of transfers&#58;

13&#58;48&#58;29 Stager.TransferUrlCallbackAdapter DEBUG Thread-3&#58;  invoked
transactionComplete, with errorCode 219 and java.io.IOException&#58;
srmPrepareToGet submission failed, unexpected or failed status &#58;
SRM_AUTHORIZATION_FAILURE explanation=not
mapped./DC=org/DC=doegrids/OU=Services/CN=sam/samgfwd01.fnal.gov callback
should have been made!

These transfers used to work.  What changed and why?  Can service be restored?  thanks,

joel</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9068">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
