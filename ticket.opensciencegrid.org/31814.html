<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[31814] Jobs at BU_ATLAS_Tier2_MCORE are failing with put errors</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=31814" method="post">
<div class="page-header">
    <h3><span class="muted">31814</span> / Jobs at BU_ATLAS_Tier2_MCORE are failing with put errors</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Michal.Svatos </div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Michal.Svatos</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-11-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=124922">124922</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=26631">26631</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/31814", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31814?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31814?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Jobs%20at%20BU_ATLAS_Tier2_MCORE%20are%20failing%20with%20put%20errors%20ISSUE%3D31814%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='31814#1481673601'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-12-14T00:00:01+00:00">Dec 14, 2016 12:00 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1481673601">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by GGUS SYSTEM at Tue Dec 13 23&#58;59&#58;08 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1480356479'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T18:07:59+00:00">Nov 28, 2016 06:07 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480356479">&nbsp;</a></div><pre>Fixed. PanDA jobs finishing without the lsm-put errors. - Saul
-- by youssef@.... at Mon Nov 28 18&#58;07&#58;48 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631</pre></div><div class='update_description'><i onclick="document.location='31814#1480348672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T15:57:52+00:00">Nov 28, 2016 03:57 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480348672">&nbsp;</a></div><pre>OK. I modified our lsm-put to fix the problem. I&#39;ll watch for a while before
closing the ticket.

- Saul

On Mon Nov 28 10&#58;16&#58;52 2016, youssef@.... wrote&#58;
<font color='#7F7E6F'>&#62; On Mon Nov 28 09&#58;24&#58;16 2016, osg-goc-rest wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; Hi,</font>
<font color='#7F7E6F'>&#62; &#62; The pilot removes the output files at some point after they are</font>
<font color='#7F7E6F'>&#62; stored</font>
<font color='#7F7E6F'>&#62; &#62; and before creating the log tarball.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Aha, I didn&#39;t expect that the pilot would deliberately delete its</font>
<font color='#7F7E6F'>&#62; output files</font>
<font color='#7F7E6F'>&#62; after lsm-put (successful or not apparently).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Our lsm-put indeed does not like symlinked files and gives that</font>
<font color='#7F7E6F'>&#62; &#34;exists but is</font>
<font color='#7F7E6F'>&#62; not a regular file&#34; error. It doesn&#39;t delete the input file, but from</font>
<font color='#7F7E6F'>&#62; above,</font>
<font color='#7F7E6F'>&#62; the sequence is apparently.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1. Job produces symlinked output</font>
<font color='#7F7E6F'>&#62; 2. Our lsm-put produces an error</font>
<font color='#7F7E6F'>&#62; 3. The job itself removes the symlink target, leaving a broken symlink</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; So your observation that the</font>
<font color='#7F7E6F'>&#62; &#62; links</font>
<font color='#7F7E6F'>&#62; &#62; lead nowhere would have to be made in a small time window. The log</font>
<font color='#7F7E6F'>&#62; &#62; shows the file is there,and gives it&#96;s size, immediately before lsm-</font>
<font color='#7F7E6F'>&#62; &#62; put.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I grabbed the working directory in that state by looking at the most</font>
<font color='#7F7E6F'>&#62; recent</font>
<font color='#7F7E6F'>&#62; error in our logs.</font>
<div id='show_280859426' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_280859426'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; I have never understood what lsm tools were for actually - is it to</font>
<font color='#7F7E6F'>&#62; &#62; avoid lcg-cp? There is also the gfal-copy alternative supported in</font>
<font color='#7F7E6F'>&#62; the</font>
<font color='#7F7E6F'>&#62; &#62; pilot I think.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Our lsm is written to this official but ancient specification&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//www.usatlas.bnl.gov/twiki/bin/view/Admins/LocalSiteMover' target='_blank' rel='nofollow'>http&#58;//www.usatlas.bnl.gov/twiki/bin/view/Admins/LocalSiteMover</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It does a bunch of things for us locally&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) It let&#39;s us control whether cp, scp or &#60;nothing&#62; is used depending</font>
<font color='#7F7E6F'>&#62; on the</font>
<font color='#7F7E6F'>&#62; type of node (BU, Harvard, Mass Open Cloud).</font>
<font color='#7F7E6F'>&#62; 2) Allows us to dynamically control where the LSM traffic goes - what</font>
<font color='#7F7E6F'>&#62; nodes are</font>
<font color='#7F7E6F'>&#62; used and what networks are used (in particular, there is a private 20G</font>
<font color='#7F7E6F'>&#62; between</font>
<font color='#7F7E6F'>&#62; the BU and HU parts of NET2 that we need to use for the LSM traffic).</font>
<font color='#7F7E6F'>&#62; 3) It allows us to limit the burstiness of reading/writing to GPFS</font>
<font color='#7F7E6F'>&#62; which can</font>
<font color='#7F7E6F'>&#62; cause problems otherwise.</font>
<font color='#7F7E6F'>&#62; 4) It allows us to efficiently compute adler32 using our local</font>
<font color='#7F7E6F'>&#62; software to do</font>
<font color='#7F7E6F'>&#62; that which, similarly, limits the load and burstiness on GPFS and</font>
<font color='#7F7E6F'>&#62; dynamically</font>
<font color='#7F7E6F'>&#62; and stores adler32 in GPFS extended attributes.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ve been meaning to explain this in one of the LSM email threads. LSM</font>
<font color='#7F7E6F'>&#62; traffic</font>
<font color='#7F7E6F'>&#62; is a major load on our site. Very roughly, it bursts up to 80GB/s not</font>
<font color='#7F7E6F'>&#62; counting</font>
<font color='#7F7E6F'>&#62; the induced Adler computation load. It&#39;s not something I want to</font>
<font color='#7F7E6F'>&#62; change</font>
<font color='#7F7E6F'>&#62; casually and see what happens.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Anyhow, for the immediate problem, I&#39;m going to see if I can modify</font>
<font color='#7F7E6F'>&#62; our lsm-put</font>
<font color='#7F7E6F'>&#62; to handle symlinked output files.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; - Saul</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Even xrdp should work, so long as the spacetoken is set somehow.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Every GP job fails, so it is not a flakey thing.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Cheers,</font>
<font color='#7F7E6F'>&#62; &#62; Rod.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; -- by rodney.walker at Mon Nov 28 14&#58;22&#58;05 UTC 2016</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; &#62; -- by OSG-GOC at Mon Nov 28 14&#58;23&#58;13 UTC 2016</font>
-- by youssef@.... at Mon Nov 28 15&#58;57&#58;42 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_280859426').click(function() {
            $('#detail_280859426').slideDown("normal");
            $('#show_280859426').hide();
            $('#hide_280859426').show();
        });
        $('#hide_280859426').click(function() {
            $('#detail_280859426').slideUp();
            $('#hide_280859426').hide();
            $('#show_280859426').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1480346223'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T15:17:03+00:00">Nov 28, 2016 03:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480346223">&nbsp;</a></div><pre>On Mon Nov 28 09&#58;24&#58;16 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62; The pilot removes the output files at some point after they are stored</font>
<font color='#7F7E6F'>&#62; and before creating the log tarball.</font>

Aha, I didn&#39;t expect that the pilot would deliberately delete its output files
after lsm-put (successful or not apparently).

Our lsm-put indeed does not like symlinked files and gives that &#34;exists but is
not a regular file&#34; error. It doesn&#39;t delete the input file, but from above,
the sequence is apparently.

1. Job produces symlinked output
2. Our lsm-put produces an error
3. The job itself removes the symlink target, leaving a broken symlink

<font color='#7F7E6F'>&#62; So your observation that the</font>
<font color='#7F7E6F'>&#62; links</font>
<font color='#7F7E6F'>&#62; lead nowhere would have to be made in a small time window. The log</font>
<font color='#7F7E6F'>&#62; shows the file is there,and gives it&#96;s size, immediately before lsm-</font>
<font color='#7F7E6F'>&#62; put.</font>

I grabbed the working directory in that state by looking at the most recent
error in our logs.

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have never understood what lsm tools were for actually - is it to</font>
<font color='#7F7E6F'>&#62; avoid lcg-cp? There is also the gfal-copy alternative supported in the</font>
<font color='#7F7E6F'>&#62; pilot I think.</font>

Our lsm is written to this official but ancient specification&#58;

<a href='http&#58;//www.usatlas.bnl.gov/twiki/bin/view/Admins/LocalSiteMover' target='_blank' rel='nofollow'>http&#58;//www.usatlas.bnl.gov/twiki/bin/view/Admins/LocalSiteMover</a>

It does a bunch of things for us locally&#58;
<div id='show_1915722585' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1915722585'>
1) It let&#39;s us control whether cp, scp or &#60;nothing&#62; is used depending on the
type of node (BU, Harvard, Mass Open Cloud).
2) Allows us to dynamically control where the LSM traffic goes - what nodes are
used and what networks are used (in particular, there is a private 20G between
the BU and HU parts of NET2 that we need to use for the LSM traffic).
3) It allows us to limit the burstiness of reading/writing to GPFS which can
cause problems otherwise.
4) It allows us to efficiently compute adler32 using our local software to do
that which, similarly, limits the load and burstiness on GPFS and dynamically
and stores adler32 in GPFS extended attributes.

I&#39;ve been meaning to explain this in one of the LSM email threads. LSM traffic
is a major load on our site. Very roughly, it bursts up to 80GB/s not counting
the induced Adler computation load. It&#39;s not something I want to change
casually and see what happens.

Anyhow, for the immediate problem, I&#39;m going to see if I can modify our lsm-put
to handle symlinked output files.

- Saul

<font color='#7F7E6F'>&#62; Even xrdp should work, so long as the spacetoken is set somehow.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Every GP job fails, so it is not a flakey thing.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Rod.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by rodney.walker at Mon Nov 28 14&#58;22&#58;05 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Mon Nov 28 14&#58;23&#58;13 UTC 2016</font>
-- by youssef@.... at Mon Nov 28 15&#58;16&#58;52 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_1915722585').click(function() {
            $('#detail_1915722585').slideDown("normal");
            $('#show_1915722585').hide();
            $('#hide_1915722585').show();
        });
        $('#hide_1915722585').click(function() {
            $('#detail_1915722585').slideUp();
            $('#hide_1915722585').hide();
            $('#show_1915722585').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1480342993'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T14:23:13+00:00">Nov 28, 2016 02:23 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480342993">&nbsp;</a></div><pre>Hi,
The pilot removes the output files at some point after they are stored and before creating the log tarball. So your observation that the links lead nowhere would have to be made in a small time window. The log shows the file is there,and gives it&#96;s size, immediately before lsm-put.

I have never understood what lsm tools were for actually - is it to avoid lcg-cp? There is also the gfal-copy alternative supported in the pilot I think.
Even xrdp should work, so long as the spacetoken is set somehow.

Every GP job fails, so it is not a flakey thing.

Cheers,
Rod.

-- by rodney.walker at Mon Nov 28 14&#58;22&#58;05 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1480342115'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T14:08:35+00:00">Nov 28, 2016 02:08 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480342115">&nbsp;</a></div><pre>On Mon Nov 28 05&#58;55&#58;15 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; To add to my simplistic view. - the log suggest the lsm client is from</font>
<font color='#7F7E6F'>&#62; osg-wn-1.0.0</font>

It&#39;s not from OSG. It&#39;s our own python code that has been working fine for
years.

<font color='#7F7E6F'>&#62; I know nothong of OSG releases, but v1 seems old in out line of work.</font>
<font color='#7F7E6F'>&#62; I</font>
<font color='#7F7E6F'>&#62; see</font>
<font color='#7F7E6F'>&#62; osg-wn-client-3.0.0-18.osg.el6</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It could be that these GP, where we do not merge the MP outputs, are</font>
<font color='#7F7E6F'>&#62; the only jobs with soft links to the output files.</font>
<font color='#7F7E6F'>&#62;</font>

Since there were no output files to lsm-put, I assumed that the jobs were
ending in some mangled way. The error message &#34;...exists but is not a regular
file&#34; comes from our python code, so you won&#39;t see that exact message at any
other site even if the same problem is happening elsewhere.

I&#39;ll check if our lsm-put can somehow remove a file it&#39;s trying to lsm-put if
it&#39;s a symlink.

Cheers,

- Saul

<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Rod.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by rodney.walker at Mon Nov 28 10&#58;53&#58;59 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Mon Nov 28 10&#58;54&#58;46 UTC 2016</font>
<div id='show_1964468078' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1964468078'>-- by youssef@.... at Mon Nov 28 14&#58;08&#58;26 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_1964468078').click(function() {
            $('#detail_1964468078').slideDown("normal");
            $('#show_1964468078').hide();
            $('#hide_1964468078').show();
        });
        $('#hide_1964468078').click(function() {
            $('#detail_1964468078').slideUp();
            $('#hide_1964468078').hide();
            $('#show_1964468078').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1480330486'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T10:54:46+00:00">Nov 28, 2016 10:54 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480330486">&nbsp;</a></div><pre>To add to my simplistic view. - the log suggest the lsm client is from osg-wn-1.0.0
I know nothong of OSG releases, but v1 seems old in out line of work. I see
osg-wn-client-3.0.0-18.osg.el6

It could be that these GP, where we do not merge the MP outputs, are the only jobs with soft links to the output files.

Cheers,
Rod.

-- by rodney.walker at Mon Nov 28 10&#58;53&#58;59 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1480327841'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-28T10:10:41+00:00">Nov 28, 2016 10:10 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480327841">&nbsp;</a></div><pre>Hi,
I realize we live in a post-fact world, but if the jobs only fail on the 1 site, then it is a site problem! In this job log the size of the file is checked just before running lsm-put, and it is most certainly there. It might be too obvious but a link is not a regular file - does lsm-put accepts links?

Cheers,
Rod.

<a href='http&#58;//bigpanda.cern.ch/job?pandaid=3094183913' target='_blank' rel='nofollow'>http&#58;//bigpanda.cern.ch/job?pandaid=3094183913</a> I

2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Getting local File(/scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001) info.
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Executing getsize() for file&#58; /scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Got file size&#58; 13426095
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Executing adler32() for file&#58; /scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Got adler32 checksum&#58; 47574ef7
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Executing command&#58;  export X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-net2/16578141325470040706.6053409348385800879/x509_user_proxy; lsm-put -t ATLASDATADISK --size 13426095 --checksum adler32&#58;47574ef7 --guid B82EFF58-33B7-204A-B49C-7CC3FD0F0E94 /scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/c9/ee/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/c9/ee/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001</a>
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| Command finished after 0.470000 s
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| ec = 211, output = *** ERROR *** lsm status 211&#58; command [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t ATLASDATADISK --size 13426095 --checksum adler32&#58;47574ef7 --guid B82EFF58-33B7-204A-B49C-7CC3FD0F0E94 /scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/c9/ee/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/c9/ee/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001</a>] failed with error&#58; local source [/scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001] exists but is not a regular file
2016-11-26 00&#58;45&#58;33|29604|LocalSiteMov| !!WARNING!!2990!! Command failed&#58;  export X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-net2/16578141325470040706.6053409348385800879/x509_user_proxy; lsm-put -t ATLASDATADISK --size 13426095 --checksum adler32&#58;47574ef7 --guid B82EFF58-33B7-204A-B49C-7CC3FD0F0E94 /scratch/Panda_Pilot_27616_1480115561/PandaJob_3094183913_1480115594/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/c9/ee/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/c9/ee/DAOD_HIGG4D1.09977651._000397.pool.root.1.panda.um_001</a>

-- by rodney.walker at Mon Nov 28 10&#58;10&#58;23 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1480283181'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-27T21:46:21+00:00">Nov 27, 2016 09:46 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480283181">&nbsp;</a></div><pre>How / when did you create your Panda_Pilot_120346_1479173221.tar.gz? I attached selected pieces of the pilotlog.txt and added few comments - I thing that information in this file proves that output files have been in worker_x subdirectories a second before lsm-put started unsuccessful transfer. Did you try to copy symlinked file manually using lsm-put? Are source files for lsm-put available somewhere at public location?

-- by Petr Vokac at Sun Nov 27 21&#58;45&#58;13 UTC 2016

Added attachment ggus124922.pilotlog.txt
<a href='https&#58;//ggus.eu/index.php?mode=download&attid=ATT107051' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=download&attid=ATT107051</a>

-- by Petr Vokac at Sun Nov 27 21&#58;45&#58;12 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1480186912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-26T19:01:52+00:00">Nov 26, 2016 07:01 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480186912">&nbsp;</a></div><pre>Hi Petr,

On Sat Nov 26 08&#58;56&#58;20 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; I just guess it is an issue with &#34;lsm-put&#34; implementation (I don&#39;t</font>
<font color='#7F7E6F'>&#62; have</font>
<font color='#7F7E6F'>&#62; access to the sources to be sure what is going on inside this data</font>
<font color='#7F7E6F'>&#62; mover). These ATLAS multicore jobs produces output files in athenaMP</font>
<font color='#7F7E6F'>&#62; worker subdirectory and those files are symlinked from job base</font>
<font color='#7F7E6F'>&#62; directory. It seem to me that even thought ATLAS pilot can deal with</font>
<font color='#7F7E6F'>&#62; symlinks (correctly get file size and checksum of the symlinked output</font>
<font color='#7F7E6F'>&#62; file) your site mover lsm-put gets confused by symlink and fails with</font>
<font color='#7F7E6F'>&#62; an exception.</font>

The problem is that the symlinked directories are not there, so there are no
files to get the size of, checksum of, etc.

If you go to my previous link

<a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-11/broken_symlink_panda_output/

you should be able to verify this. The &#34;tar zip&#34; link will let you download the
entire PanDA working directory for one of the failing jobs. If you untar it,
then cd into

Panda_Pilot_120346_1479173221/PandaJob_3078617668_data

You&#39;ll see the output files that lsm-put is being called for. Do

ls -la and you should be able to confirm that the output files are symlinks
pointing to directories which do not exist.

Cheers,

- Saul

<div id='show_38832694' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_38832694'>youssef@Sauls-MacBook-Pro&#58;~/Desktop/Panda_Pilot_120346_1479173221/PandaJob_3078617668_data$
ls -latotal 72drwxr-xr-x@ 11 youssef staff 374 Nov 14 20&#58;58 .drwxr-xr-x@ 141
youssef staff 4794 Nov 14 20&#58;58 ..lrwxr-xr-x@ 1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_001 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_0/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_002 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_1/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_003 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_2/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_004 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_3/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_005 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_4/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_006 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_5/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_007 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_6/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000lrwxr-xr-x@
1 youssef staff 93 Nov 14 20&#58;58
DAOD_JETM3.09889908._000092.pool.root.1.panda.um_008 -&#62;
athenaMP-workers-AODtoDAOD-a2da/worker_7/DAOD_JETM3.09889908._000092.pool.root.1.panda.um_000-rw-r--r--@
1 youssef staff 545 Nov 14 20&#58;58 PoolFileCatalog.xml
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Could you check if &#34;lsm-put&#34; used by ATLAS jobs</font>
<font color='#7F7E6F'>&#62; (/atlasgrid/osg-wn-1.0.0/lsm/lsm-put) can deal with symlinks?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Petr Vokac at Sat Nov 26 13&#58;54&#58;48 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Sat Nov 26 13&#58;55&#58;49 UTC 2016</font>
-- by youssef@.... at Sat Nov 26 19&#58;01&#58;43 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_38832694').click(function() {
            $('#detail_38832694').slideDown("normal");
            $('#show_38832694').hide();
            $('#hide_38832694').show();
        });
        $('#hide_38832694').click(function() {
            $('#detail_38832694').slideUp();
            $('#hide_38832694').hide();
            $('#show_38832694').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1480168549'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-26T13:55:49+00:00">Nov 26, 2016 01:55 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1480168549">&nbsp;</a></div><pre>I just guess it is an issue with &#34;lsm-put&#34; implementation (I don&#39;t have access to the sources to be sure what is going on inside this data mover). These ATLAS multicore jobs produces output files in athenaMP worker subdirectory and those files are symlinked from job base directory. It seem to me that even thought ATLAS pilot can deal with symlinks (correctly get file size and checksum of the symlinked output file) your site mover lsm-put gets confused by symlink and fails with an exception.

Could you check if &#34;lsm-put&#34; used by ATLAS jobs (/atlasgrid/osg-wn-1.0.0/lsm/lsm-put) can deal with symlinks?

-- by Petr Vokac at Sat Nov 26 13&#58;54&#58;48 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1479749971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-21T17:39:31+00:00">Nov 21, 2016 05:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1479749971">&nbsp;</a></div><pre>We still have failures with this error at about 30% level right now&#58;
<a href='http&#58;//bigpanda.cern.ch/jobs/?jobtype=production&sortby=count&computingsite=BU_ATLAS_Tier2_MCORE&hours=12&jobstatus=failed&piloterrorcode=1137&hours=12&display_limit=100' target='_blank' rel='nofollow'>http&#58;//bigpanda.cern.ch/jobs/?jobtype=production&sortby=count&computingsite=BU_ATLAS_Tier2_MCORE&hours=12&jobstatus=failed&piloterrorcode=1137&hours=12&display_limit=100</a>
Any feedback?

-- by armen.vartapetian at Mon Nov 21 17&#58;38&#58;56 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1479396731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-17T15:32:11+00:00">Nov 17, 2016 03:32 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1479396731">&nbsp;</a></div><pre>The failure rate is close to 90%. Adding gdp and ddm support for assistance.

-- by armen.vartapetian at Thu Nov 17 15&#58;31&#58;18 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1479349257'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-17T02:20:57+00:00">Nov 17, 2016 02:20 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1479349257">&nbsp;</a></div><pre>Hello Armen,

Did you see the link to the details I provided in my previous message?

<a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-11/broken_symlink_panda_output/

These jobs are failing because the output files are broken symlinks (note that
the link above has a sample tar-zipped PanDA working directory with broken
symlink output files). Since this problem happens on many different worker
nodes, I don&#39;t see how this could be a site issue.

Notice that you may not see the exact error &#34;...exists but is not a regular
file&#34; as this comes from our LSM. On another site, you should see some sort of
LSM put error, but I can&#39;t tell you exactly what it will be.

Could you include the right people to the ticket? I don&#39;t know who &#34;gdp&#34; is or
who should be looking at this.

Regards,

- Saul

On Wed Nov 16 15&#58;31&#58;15 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; To update - right now the error rate with this error for</font>
<font color='#7F7E6F'>&#62; BU_ATLAS_Tier2_MCORE is at 55% level, with similar rate for</font>
<font color='#7F7E6F'>&#62; HU_ATLAS_Tier2_MCORE. I checked several other sites, but don&#39;t think I</font>
<font color='#7F7E6F'>&#62; see anything similar and failures at that rate levels.</font>
<font color='#7F7E6F'>&#62; Can you please check. If it&#39;s not a site issue, I&#39;ll suggest to</font>
<font color='#7F7E6F'>&#62; involve</font>
<font color='#7F7E6F'>&#62; gdp to this ticket.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Armen</font>
<font color='#7F7E6F'>&#62; ADCoS Expert shifter</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by armen.vartapetian at Wed Nov 16 20&#58;30&#58;21 UTC 2016</font>
<div id='show_987678158' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_987678158'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Wed Nov 16 20&#58;30&#58;41 UTC 2016</font>
-- by youssef@.... at Thu Nov 17 02&#58;20&#58;49 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_987678158').click(function() {
            $('#detail_987678158').slideDown("normal");
            $('#show_987678158').hide();
            $('#hide_987678158').show();
        });
        $('#hide_987678158').click(function() {
            $('#detail_987678158').slideUp();
            $('#hide_987678158').hide();
            $('#show_987678158').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1479328241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-16T20:30:41+00:00">Nov 16, 2016 08:30 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1479328241">&nbsp;</a></div><pre>To update - right now the error rate with this error for BU_ATLAS_Tier2_MCORE is at 55% level, with similar rate for HU_ATLAS_Tier2_MCORE. I checked several other sites, but don&#39;t think I see anything similar and failures at that rate levels.
Can you please check. If it&#39;s not a site issue, I&#39;ll suggest to involve gdp to this ticket.

Armen
ADCoS Expert shifter

-- by armen.vartapetian at Wed Nov 16 20&#58;30&#58;21 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></pre></div><div class='update_description'><i onclick="document.location='31814#1479314623'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-16T16:43:43+00:00">Nov 16, 2016 04:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1479314623">&nbsp;</a></div><pre>Hi,

Is anyone noticed this?

It&#39;s pretty clearly not our problem, but I don&#39;t want to just close the ticket
since it&#39;s probably affecting other sites and it can be confusing to track down
remotely.

- Saul

On Tue Nov 15 09&#58;08&#58;33 2016, youssef@.... wrote&#58;
<font color='#7F7E6F'>&#62; Greetings,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The problem is that the job outputs are broken symlinks pointing at</font>
<font color='#7F7E6F'>&#62; files</font>
<font color='#7F7E6F'>&#62; beginning with &#34;athenaMP-workers-AODtoDAOD...&#34;. Today this is</font>
<font color='#7F7E6F'>&#62; happening for</font>
<font color='#7F7E6F'>&#62; about 2% of our MCORE jobs and since it&#39;s happening on many worker</font>
<font color='#7F7E6F'>&#62; nodes, it</font>
<font color='#7F7E6F'>&#62; can&#39;t really be a local file system problem. Do you know who should</font>
<font color='#7F7E6F'>&#62; see this?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Here are details including a captured PanDA working directory&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-</font>
<font color='#7F7E6F'>&#62; 11/broken_symlink_panda_output/</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; - Saul</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Wed Nov 09 08&#58;28&#58;31 2016, youssef@.... wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; Thanks Michal. We&#39;ll have a look. - Saul</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; On Tue Nov 08 13&#58;12&#58;14 2016, osg-goc-rest wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; In the last 12 hours, there are 221 jobs which failed at</font>
<font color='#7F7E6F'>&#62; &#62; &#62; BU_ATLAS_Tier2_MCORE with</font>
<div id='show_1789973941' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1789973941'><font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; pilot&#58; Put error&#58; XOT8.09653637._000404.pool.root.1.panda.um_001]</font>
<font color='#7F7E6F'>&#62; &#62; &#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; &#62; &#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; example of failed job&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; <a href='http&#58;//bigpanda.cern.ch/job?pandaid=3069825011' target='_blank' rel='nofollow'>http&#58;//bigpanda.cern.ch/job?pandaid=3069825011</a></font>
<font color='#7F7E6F'>&#62; &#62; &#62; log file</font>
<font color='#7F7E6F'>&#62; &#62; &#62; (<a href='http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-' target='_blank' rel='nofollow'>http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-</a></font>
<font color='#7F7E6F'>&#62; &#62; a8ab-</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
d209deaa934e/panda/tarball_PandaJob_3069825011_BU_ATLAS_Tier2_MCORE/pilotlog.txt)
<font color='#7F7E6F'>&#62; &#62; &#62; extract&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 2016-11-08 05&#58;53&#58;59|142810|LocalSiteMov| Executing command&#58; export</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-</font>
<font color='#7F7E6F'>&#62; &#62; &#62; net2/16578142366551363921.6053409348385785256/x509_user_proxy;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; lsm-put -t ATLASDATADISK --size 209545702 --checksum</font>
<font color='#7F7E6F'>&#62; &#62; adler32&#58;7ec658d6</font>
<font color='#7F7E6F'>&#62; &#62; &#62; --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
<font color='#7F7E6F'>&#62; &#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| Command finished after</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 0.470000 s</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| ec = 211, output = ***</font>
<font color='#7F7E6F'>&#62; &#62; ERROR</font>
<font color='#7F7E6F'>&#62; &#62; &#62; *** lsm status 211&#58; command [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put</font>
<font color='#7F7E6F'>&#62; -t</font>
<font color='#7F7E6F'>&#62; &#62; &#62; ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid</font>
<font color='#7F7E6F'>&#62; &#62; &#62; FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>]
<font color='#7F7E6F'>&#62; &#62; &#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; &#62; &#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Command</font>
<font color='#7F7E6F'>&#62; &#62; &#62; failed&#58; export</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-</font>
<font color='#7F7E6F'>&#62; &#62; &#62; net2/16578142366551363921.6053409348385785256/x509_user_proxy;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; lsm-put -t ATLASDATADISK --size 209545702 --checksum</font>
<font color='#7F7E6F'>&#62; &#62; adler32&#58;7ec658d6</font>
<font color='#7F7E6F'>&#62; &#62; &#62; --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
<font color='#7F7E6F'>&#62; &#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Stage</font>
<font color='#7F7E6F'>&#62; Out</font>
<font color='#7F7E6F'>&#62; &#62; &#62; failed&#58; Status=211 Output=*** ERROR *** lsm status 211&#58; command</font>
<font color='#7F7E6F'>&#62; &#62; &#62; [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t ATLASDATADISK --size</font>
<font color='#7F7E6F'>&#62; &#62; 209545702</font>
<font color='#7F7E6F'>&#62; &#62; &#62; --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>]
<font color='#7F7E6F'>&#62; &#62; &#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; &#62; &#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; &#62; &#62; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; [Ticket History]</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Subject&#58; Jobs at BU_ATLAS_Tier2_MCORE are failing with put errors</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Ticket Type&#58; TEAM</font>
<font color='#7F7E6F'>&#62; &#62; &#62; CC&#58; atlas-adc-cloud-US@....;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; -- by Michal.Svatos at Tue Nov 08 18&#58;11&#58;21 UTC 2016</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; &#62; &#62; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=31814#1478628699' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=31814#1478628699</a></font>
-- by youssef@.... at Wed Nov 16 16&#58;43&#58;34 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_1789973941').click(function() {
            $('#detail_1789973941').slideDown("normal");
            $('#show_1789973941').hide();
            $('#hide_1789973941').show();
        });
        $('#hide_1789973941').click(function() {
            $('#detail_1789973941').slideUp();
            $('#hide_1789973941').hide();
            $('#show_1789973941').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1479218949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-15T14:09:09+00:00">Nov 15, 2016 02:09 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1479218949">&nbsp;</a></div><pre>Greetings,

The problem is that the job outputs are broken symlinks pointing at files
beginning with &#34;athenaMP-workers-AODtoDAOD...&#34;. Today this is happening for
about 2% of our MCORE jobs and since it&#39;s happening on many worker nodes, it
can&#39;t really be a local file system problem. Do you know who should see this?

Here are details including a captured PanDA working directory&#58;

<a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-11/broken_symlink_panda_output/

- Saul

On Wed Nov 09 08&#58;28&#58;31 2016, youssef@.... wrote&#58;
<font color='#7F7E6F'>&#62; Thanks Michal. We&#39;ll have a look. - Saul</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Tue Nov 08 13&#58;12&#58;14 2016, osg-goc-rest wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; In the last 12 hours, there are 221 jobs which failed at</font>
<font color='#7F7E6F'>&#62; &#62; BU_ATLAS_Tier2_MCORE with</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; pilot&#58; Put error&#58; XOT8.09653637._000404.pool.root.1.panda.um_001]</font>
<font color='#7F7E6F'>&#62; &#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; &#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; example of failed job&#58;</font>
<font color='#7F7E6F'>&#62; &#62; <a href='http&#58;//bigpanda.cern.ch/job?pandaid=3069825011' target='_blank' rel='nofollow'>http&#58;//bigpanda.cern.ch/job?pandaid=3069825011</a></font>
<font color='#7F7E6F'>&#62; &#62; log file</font>
<font color='#7F7E6F'>&#62; &#62; (<a href='http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-' target='_blank' rel='nofollow'>http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-</a></font>
<font color='#7F7E6F'>&#62; a8ab-</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
d209deaa934e/panda/tarball_PandaJob_3069825011_BU_ATLAS_Tier2_MCORE/pilotlog.txt)
<div id='show_1569485788' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1569485788'><font color='#7F7E6F'>&#62; &#62; extract&#58;</font>
<font color='#7F7E6F'>&#62; &#62; 2016-11-08 05&#58;53&#58;59|142810|LocalSiteMov| Executing command&#58; export</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-</font>
<font color='#7F7E6F'>&#62; &#62; net2/16578142366551363921.6053409348385785256/x509_user_proxy;</font>
<font color='#7F7E6F'>&#62; &#62; lsm-put -t ATLASDATADISK --size 209545702 --checksum</font>
<font color='#7F7E6F'>&#62; adler32&#58;7ec658d6</font>
<font color='#7F7E6F'>&#62; &#62; --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
<font color='#7F7E6F'>&#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| Command finished after</font>
<font color='#7F7E6F'>&#62; &#62; 0.470000 s</font>
<font color='#7F7E6F'>&#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| ec = 211, output = ***</font>
<font color='#7F7E6F'>&#62; ERROR</font>
<font color='#7F7E6F'>&#62; &#62; *** lsm status 211&#58; command [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t</font>
<font color='#7F7E6F'>&#62; &#62; ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid</font>
<font color='#7F7E6F'>&#62; &#62; FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>]
<font color='#7F7E6F'>&#62; &#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; &#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Command</font>
<font color='#7F7E6F'>&#62; &#62; failed&#58; export</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-</font>
<font color='#7F7E6F'>&#62; &#62; net2/16578142366551363921.6053409348385785256/x509_user_proxy;</font>
<font color='#7F7E6F'>&#62; &#62; lsm-put -t ATLASDATADISK --size 209545702 --checksum</font>
<font color='#7F7E6F'>&#62; adler32&#58;7ec658d6</font>
<font color='#7F7E6F'>&#62; &#62; --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
<font color='#7F7E6F'>&#62; &#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Stage Out</font>
<font color='#7F7E6F'>&#62; &#62; failed&#58; Status=211 Output=*** ERROR *** lsm status 211&#58; command</font>
<font color='#7F7E6F'>&#62; &#62; [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t ATLASDATADISK --size</font>
<font color='#7F7E6F'>&#62; 209545702</font>
<font color='#7F7E6F'>&#62; &#62; --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-</font>
<font color='#7F7E6F'>&#62; &#62; 9DACF5994032</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>]
<font color='#7F7E6F'>&#62; &#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; &#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; &#62; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; [Ticket History]</font>
<font color='#7F7E6F'>&#62; &#62; Subject&#58; Jobs at BU_ATLAS_Tier2_MCORE are failing with put errors</font>
<font color='#7F7E6F'>&#62; &#62; Ticket Type&#58; TEAM</font>
<font color='#7F7E6F'>&#62; &#62; CC&#58; atlas-adc-cloud-US@....;</font>
<font color='#7F7E6F'>&#62; &#62; -- by Michal.Svatos at Tue Nov 08 18&#58;11&#58;21 UTC 2016</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; &#62; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=31814#1478628699' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=31814#1478628699</a></font>
-- by youssef@.... at Tue Nov 15 14&#58;08&#58;33 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_1569485788').click(function() {
            $('#detail_1569485788').slideDown("normal");
            $('#show_1569485788').hide();
            $('#hide_1569485788').show();
        });
        $('#hide_1569485788').click(function() {
            $('#detail_1569485788').slideUp();
            $('#hide_1569485788').hide();
            $('#show_1569485788').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1478698133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-09T13:28:53+00:00">Nov 9, 2016 01:28 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1478698133">&nbsp;</a></div><pre>Thanks Michal. We&#39;ll have a look. - Saul

On Tue Nov 08 13&#58;12&#58;14 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; In the last 12 hours, there are 221 jobs which failed at</font>
<font color='#7F7E6F'>&#62; BU_ATLAS_Tier2_MCORE with</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; pilot&#58; Put error&#58; XOT8.09653637._000404.pool.root.1.panda.um_001]</font>
<font color='#7F7E6F'>&#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; example of failed job&#58;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//bigpanda.cern.ch/job?pandaid=3069825011' target='_blank' rel='nofollow'>http&#58;//bigpanda.cern.ch/job?pandaid=3069825011</a></font>
<font color='#7F7E6F'>&#62; log file</font>
<font color='#7F7E6F'>&#62; (<a href='http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-a8ab-' target='_blank' rel='nofollow'>http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-a8ab-</a></font>
<font color='#7F7E6F'>&#62;</font>
d209deaa934e/panda/tarball_PandaJob_3069825011_BU_ATLAS_Tier2_MCORE/pilotlog.txt)
<font color='#7F7E6F'>&#62; extract&#58;</font>
<font color='#7F7E6F'>&#62; 2016-11-08 05&#58;53&#58;59|142810|LocalSiteMov| Executing command&#58; export</font>
<font color='#7F7E6F'>&#62; X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-</font>
<font color='#7F7E6F'>&#62; net2/16578142366551363921.6053409348385785256/x509_user_proxy;</font>
<font color='#7F7E6F'>&#62; lsm-put -t ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6</font>
<font color='#7F7E6F'>&#62; --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
<font color='#7F7E6F'>&#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| Command finished after</font>
<font color='#7F7E6F'>&#62; 0.470000 s</font>
<font color='#7F7E6F'>&#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| ec = 211, output = *** ERROR</font>
<font color='#7F7E6F'>&#62; *** lsm status 211&#58; command [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t</font>
<font color='#7F7E6F'>&#62; ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid</font>
<font color='#7F7E6F'>&#62; FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_2092322537' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2092322537'>/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>]
<font color='#7F7E6F'>&#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Command</font>
<font color='#7F7E6F'>&#62; failed&#58; export</font>
<font color='#7F7E6F'>&#62; X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-</font>
<font color='#7F7E6F'>&#62; net2/16578142366551363921.6053409348385785256/x509_user_proxy;</font>
<font color='#7F7E6F'>&#62; lsm-put -t ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6</font>
<font color='#7F7E6F'>&#62; --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
<font color='#7F7E6F'>&#62; 2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Stage Out</font>
<font color='#7F7E6F'>&#62; failed&#58; Status=211 Output=*** ERROR *** lsm status 211&#58; command</font>
<font color='#7F7E6F'>&#62; [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t ATLASDATADISK --size 209545702</font>
<font color='#7F7E6F'>&#62; --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-</font>
<font color='#7F7E6F'>&#62; 9DACF5994032</font>
<font color='#7F7E6F'>&#62;</font>
/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>]
<font color='#7F7E6F'>&#62; failed with error&#58; local source</font>
<font color='#7F7E6F'>&#62;</font>
[/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001]
<font color='#7F7E6F'>&#62; exists but is not a regular file</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket History]</font>
<font color='#7F7E6F'>&#62; Subject&#58; Jobs at BU_ATLAS_Tier2_MCORE are failing with put errors</font>
<font color='#7F7E6F'>&#62; Ticket Type&#58; TEAM</font>
<font color='#7F7E6F'>&#62; CC&#58; atlas-adc-cloud-US@....;</font>
<font color='#7F7E6F'>&#62; -- by Michal.Svatos at Tue Nov 08 18&#58;11&#58;21 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=31814#1478628699' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=31814#1478628699</a></font>
-- by youssef@.... at Wed Nov 09 13&#58;28&#58;31 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26631
</div><script type='text/javascript'>
        $('#show_2092322537').click(function() {
            $('#detail_2092322537').slideDown("normal");
            $('#show_2092322537').hide();
            $('#hide_2092322537').show();
        });
        $('#hide_2092322537').click(function() {
            $('#detail_2092322537').slideUp();
            $('#hide_2092322537').hide();
            $('#show_2092322537').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31814#1478628699'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-08T18:11:39+00:00">Nov 8, 2016 06:11 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1478628699">&nbsp;</a></div><pre>In the last 12 hours, there are 221 jobs which failed at BU_ATLAS_Tier2_MCORE with

pilot&#58; Put error&#58; XOT8.09653637._000404.pool.root.1.panda.um_001] failed with error&#58; local source [/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001] exists but is not a regular file

example of failed job&#58;
<a href='http&#58;//bigpanda.cern.ch/job?pandaid=3069825011' target='_blank' rel='nofollow'>http&#58;//bigpanda.cern.ch/job?pandaid=3069825011</a>
log file (<a href='http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-a8ab-d209deaa934e/panda/tarball_PandaJob_3069825011_BU_ATLAS_Tier2_MCORE/pilotlog.txt' target='_blank' rel='nofollow'>http&#58;//aipanda053.cern.ch/media/filebrowser/e519dc55-3887-4f6a-a8ab-d209deaa934e/panda/tarball_PandaJob_3069825011_BU_ATLAS_Tier2_MCORE/pilotlog.txt</a>) extract&#58;
2016-11-08 05&#58;53&#58;59|142810|LocalSiteMov| Executing command&#58;  export X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-net2/16578142366551363921.6053409348385785256/x509_user_proxy; lsm-put -t ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032 /scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| Command finished after 0.470000 s
2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| ec = 211, output = *** ERROR *** lsm status 211&#58; command [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032 /scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>] failed with error&#58; local source [/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001] exists but is not a regular file
2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Command failed&#58;  export X509_USER_PROXY=/home/osg/usatlas1/.globus/usatlas1/.globus/job/atlas-net2/16578142366551363921.6053409348385785256/x509_user_proxy; lsm-put -t ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032 /scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>
2016-11-08 05&#58;54&#58;00|142810|LocalSiteMov| !!WARNING!!2990!! Stage Out failed&#58; Status=211 Output=*** ERROR *** lsm status 211&#58; command [/atlasgrid/osg-wn-1.0.0/lsm/lsm-put -t ATLASDATADISK --size 209545702 --checksum adler32&#58;7ec658d6 --guid FD2BFC0D-2E03-1E43-939B-9DACF5994032 /scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001 <a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/panda/f0/bd/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001</a>] failed with error&#58; local source [/scratch/Panda_Pilot_141910_1478582169/PandaJob_3069825011_1478582177/DAOD_EXOT8.09653637._000404.pool.root.1.panda.um_001] exists but is not a regular file

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=124922</a>

[Ticket History]
Subject&#58; Jobs at BU_ATLAS_Tier2_MCORE are failing with put errors
Ticket Type&#58; TEAM
CC&#58; atlas-adc-cloud-US@....;
-- by Michal.Svatos at Tue Nov 08 18&#58;11&#58;21 UTC 2016</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F31814">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 31814});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
