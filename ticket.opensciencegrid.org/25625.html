<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[25625] Critical metrics not showing up on &#34;Current RSV status&#34; page for UCSB_SE</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=25625" method="post">
<div class="page-header">
    <h3><span class="muted">25625</span> / Critical metrics not showing up on &#34;Current RSV status&#34; page for UCSB_SE</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Christopher West</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCSB_SE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Christopher West</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier3</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Wait for user response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-07-10</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/25625", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/25625?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/25625?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Critical%20metrics%20not%20showing%20up%20on%20%26%2334%3BCurrent%20RSV%20status%26%2334%3B%20page%20for%20UCSB_SE%20ISSUE%3D25625%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='25625#1436282593'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-07T15:23:13+00:00">Jul 7, 2015 03:23 PM UTC</time><a class="anchor" name="1436282593">&nbsp;</a></div><pre>Ok Chris,

I will do so. Please feel free to open a new ticket.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='25625#1436208143'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-06T18:42:23+00:00">Jul 6, 2015 06:42 PM UTC</time><a class="anchor" name="1436208143">&nbsp;</a></div><pre>Hi,

I&#39;m not sure if it is worth the effort to try to fix this. I still have the monitoring information locally as the web page displaying RSV information is generated correctly. Also, there is independent monitoring of the same functionality from CERN. As far as I can tell, this issue only affects the display of the RSV status on the OSG page, and this information isn&#39;t used anywhere downstream. I may come back to this issue at some point but for now it&#39;s not a priority. Perhaps you should close the ticket and if I have trouble later I can submit a new ticket referencing this one?

Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25625#1436201900'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-06T16:58:20+00:00">Jul 6, 2015 04:58 PM UTC</time><a class="anchor" name="1436201900">&nbsp;</a></div><pre>Hi Chris,

Is there any chance you can have one of them with a second cname or an alias so two hostnames resolving to same IP?

I think that could work

OSG  Software Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='25625#1435774208'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-01T18:10:08+00:00">Jul 1, 2015 06:10 PM UTC</time> by <b>echism</b><a class="anchor" name="1435774208">&nbsp;</a></div><pre>I&#39;m unsure where we are on this. How shall we proceed?

Thank you</pre></div><div class='update_description'><i onclick="document.location='25625#1435006222'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-22T20:50:22+00:00">Jun 22, 2015 08:50 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1435006222">&nbsp;</a></div><pre>Hi Christopher,

I checked with Mat and it looks like there&#39;s no way to separate out the probes for the SE and CE is they are testing services at the same hostname.  You might be able to get it to work if you have an alternate hostname for the server and use that for testing but that might cause problems with name resolution and certificate names.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='25625#1434665183'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-18T22:06:23+00:00">Jun 18, 2015 10:06 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1434665183">&nbsp;</a></div><pre>Hi Christopher,

You can set the sitename to different names in the ProbeConfig file but I believe that all of the rsv probe information gets sent by a single gratia probe so I don&#39;t think there&#39;s a way to separate out the two.  I&#39;ll check on this however.

Suchandra</pre></div><div class='update_description'><i onclick="document.location='25625#1434661709'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-18T21:08:29+00:00">Jun 18, 2015 09:08 PM UTC</time><a class="anchor" name="1434661709">&nbsp;</a></div><pre>Hi Suchandra and Elizabeth,

Perhaps this is the information that you&#39;re looking for&#58;

[root@cms25 gratia]# pwd
/etc/gratia
[root@cms25 gratia]# grep -r EnableProbe * | grep ProbeConfig
condor/ProbeConfig&#58;    EnableProbe=&#34;1&#34;
gridftp-transfer/ProbeConfig.unmodified&#58;    EnableProbe=&#34;0&#34;
gridftp-transfer/ProbeConfig&#58;    EnableProbe=&#34;1&#34;
hadoop-storage/ProbeConfig&#58;    EnableProbe=&#34;0&#34;
metric/ProbeConfig&#58;    EnableProbe=&#34;1&#34;
services/ProbeConfig&#58;    EnableProbe=&#34;0&#34;

If reporting both CE and SE information when running on the same host is not supported, maybe it&#39;s not worthwhile to bother trying to find a workaround? Probably the CE will move to another host once the site is fully functional and we are therefore able to devote more resources to the site. I don&#39;t think that reporting SE information is required by CMS.

Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25625#1434660707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-18T20:51:47+00:00">Jun 18, 2015 08:51 PM UTC</time> by <b>echism</b><a class="anchor" name="1434660707">&nbsp;</a></div><pre>Suchandra,

This is from the most recent profile&#58;

RSV information

rsv-control -l

Metrics enabled for host&#58; cms25.physics.ucsb.edu          | Service
----------------------------------------------------------+--------------------
org.osg.batch.jobmanagers-available                       | OSG-GRAM-CE
org.osg.certificates.cacert-expiry                        | OSG-CE
org.osg.certificates.crl-expiry                           | OSG-CE
org.osg.general.java-version                              | OSG-CE
org.osg.general.osg-directories-CE-permissions            | OSG-CE
org.osg.general.osg-version                               | OSG-CE
org.osg.general.ping-host                                 | OSG-CE
org.osg.general.vo-supported                              | OSG-CE
org.osg.globus.gram-authentication                        | OSG-GRAM-CE
org.osg.globus.gridftp-simple                             | GridFTP
org.osg.gratia.condor                                     | OSG-CE
org.osg.gratia.metric                                     | OSG-CE
org.osg.htcondor-ce.authentication                        | OSG-HTCondor-CE
org.osg.htcondor-ce.job-routes                            | OSG-HTCondor-CE
org.osg.local.hostcert-expiry                             | OSG-Local-Monitor
org.osg.local.httpcert-expiry                             | OSG-Local-Monitor
org.osg.srm.srmcp-readwrite                               | OSG-SRM
org.osg.srm.srmping                                       | OSG-SRM

Is that what you wanted?

Thank you</pre></div><div class='update_description'><i onclick="document.location='25625#1434481483'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-16T19:04:43+00:00">Jun 16, 2015 07:04 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1434481483">&nbsp;</a></div><pre>I&#39;m not sure if you can have both reported separately.  Which gratia probes do you have enabled?

Suchandra Thapa
OSG Software Team</pre></div><div class='update_description'><i onclick="document.location='25625#1434157536'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-13T01:05:36+00:00">Jun 13, 2015 01:05 AM UTC</time><a class="anchor" name="1434157536">&nbsp;</a></div><pre>Hi,

I issued &#34;rsv-control --on&#34;. org.osg.srm.srmping and org.osg.srm.srmcp-readwrite are currently running&#58;

[root@cms25 ~]# rsv-control -j

Hostname&#58; cms25.physics.ucsb.edu
ID OWNER      ST NEXT RUN TIME   METRIC
2385.0 rsv        I  06-12 18&#58;31     org.osg.globus.gram-authentication
2373.0 rsv        I  06-12 18&#58;47     org.osg.general.java-version
2382.0 rsv        I  06-12 18&#58;13     org.osg.srm.srmping
2377.0 rsv        I  06-12 18&#58;08     org.osg.globus.gridftp-simple
2386.0 rsv        I  06-13 01&#58;40     org.osg.local.hostcert-expiry
2374.0 rsv        I  06-12 18&#58;54     org.osg.general.vo-supported
2383.0 rsv        I  06-12 18&#58;47     org.osg.general.osg-version
2378.0 rsv        I  06-12 18&#58;28     org.osg.srm.srmcp-readwrite
2371.0 rsv        I  06-12 18&#58;31     org.osg.htcondor-ce.authentication
2387.0 rsv        I  06-12 18&#58;07     org.osg.general.ping-host
2380.0 rsv        I  06-12 18&#58;23     org.osg.gratia.metric
2375.0 rsv        I  06-12 18&#58;30     org.osg.certificates.crl-expiry
2384.0 rsv        I  06-13 01&#58;24     org.osg.local.httpcert-expiry
2379.0 rsv        I  06-13 04&#58;59     org.osg.htcondor-ce.job-routes
2372.0 rsv        I  06-12 18&#58;15     org.osg.certificates.cacert-expiry
2388.0 rsv        I  06-13 04&#58;59     org.osg.batch.jobmanagers-available
2381.0 rsv        I  06-12 18&#58;09     org.osg.gratia.condor
2376.0 rsv        I  06-12 18&#58;37     org.osg.general.osg-directories-CE-permissions

ID OWNER      ST CONSUMER
2390.0 rsv        R  gratia-consumer
2389.0 rsv        R  html-consumer

One unusual feature of our setup is that the CE and SE run on the same machine. Do I need a special gratia configuration? For example, /etc/gratia/metric/ProbeConfig does not contain &#34;UCSB_SE&#34;, only &#34;UCSB_CE&#34;.

Chris

<div id='show_1792293743' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1792293743'>by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West
</div><script type='text/javascript'>
        $('#show_1792293743').click(function() {
            $('#detail_1792293743').slideDown("normal");
            $('#show_1792293743').hide();
            $('#hide_1792293743').show();
        });
        $('#hide_1792293743').click(function() {
            $('#detail_1792293743').slideUp();
            $('#hide_1792293743').hide();
            $('#show_1792293743').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='25625#1434060360'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-11T22:06:00+00:00">Jun 11, 2015 10:06 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1434060360">&nbsp;</a></div><pre>Hi,

I saw this in the profile output&#58;

WARNING&#58; The following metrics are enabled for this host but not running&#58;
org.osg.srm.srmcp-readwrite org.osg.srm.srmping

Try running&#58;
rsv-control --on

-Mat</pre></div><div class='update_description'><i onclick="document.location='25625#1433613981'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-06T18:06:21+00:00">Jun 6, 2015 06:06 PM UTC</time><a class="anchor" name="1433613981">&nbsp;</a></div><pre>My SE information wasn&#39;t showing up in the BDII and so I changed my GIP configuration. I&#39;m not sure if this is relevant to the current issue but in any case I&#39;ve attached the current output of &#34;rsv-control --profile&#34; to this ticket as rsv-profiler.tar.gz.06JUN2015.txt. As noted in my previous message, I also changed srm_hosts in 30-rsv.ini.

Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25625#1433190131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-01T20:22:11+00:00">Jun 1, 2015 08:22 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1433190131">&nbsp;</a></div><pre>Correct. If there aren&#39;t any srm hosts specified, the SRM metrics won&#39;t be run.
You need to put a list of SRM hosts to run the metrics against in the srm_hosts attribute.
-Mat</pre></div><div class='update_description'><i onclick="document.location='25625#1433185123'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-01T18:58:43+00:00">Jun 1, 2015 06:58 PM UTC</time><a class="anchor" name="1433185123">&nbsp;</a></div><pre>I just tried this suggestion with the 30-rsv.ini file that I have attached and it still does not work.

One possibly strange issue with my site is that I have the same machine listed twice, once for the CE and once for the SE&#58;

<a href='https&#58;//oim.opensciencegrid.org/oim/topology?facility_id=10102' target='_blank' rel='nofollow'>https&#58;//oim.opensciencegrid.org/oim/topology?facility_id=10102</a>

Is that allowed or am I only supposed to have one entry per machine?

Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25625#1432940283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-29T22:58:03+00:00">May 29, 2015 10:58 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1432940283">&nbsp;</a></div><pre>Mat, can I call on your rsv + osg-configure experience to take a peek at this?

I see this in 30-rsv.ini&#58;

srm_hosts = UNAVAILABLE

Is it necessary to specify something for srm_hosts in order to run the OSG-SRM metrics?  (In this case org.osg.srm.srmping and org.osg.srm.srmcp-readwrite, which are not reporting to OIM for some reason.)

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='25625#1432844526'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-28T20:22:06+00:00">May 28, 2015 08:22 PM UTC</time> by <b>echism</b><a class="anchor" name="1432844526">&nbsp;</a></div><pre>Software team,

I didn&#39;t see anything suspicious jump out from this rsv profile, can you take a look?

Thank you</pre></div><div class='update_description'><i onclick="document.location='25625#1432842255'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-28T19:44:15+00:00">May 28, 2015 07:44 PM UTC</time><a class="anchor" name="1432842255">&nbsp;</a></div><pre>Hi Elizabeth,

I&#39;ve attached the output of rsv-control --profile.

Thanks

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25625#1432839663'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-28T19:01:03+00:00">May 28, 2015 07:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1432839663">&nbsp;</a></div><pre>Hi Chris,

Can you run rsv-control --profile and attach the output to this ticket? You will need to append the filename with .txt in order to upload it. If you want me to download the file some other way, that&#39;s fine also.

Thank you</pre></div><div class='update_description'><i onclick="document.location='25625#1432834327'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-05-28T17:32:07+00:00">May 28, 2015 05:32 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1432834327">&nbsp;</a></div><pre>Could you explain why the &#34;SRM ping&#34; and &#34;SRMCP Read / Write&#34; metrics do not show up on this page&#58;

<a href='https&#58;//myosg.grid.iu.edu/rgcurrentstatus/index?datasource=currentstatus&rg=on&rg_300=on&end_type=now' target='_blank' rel='nofollow'>https&#58;//myosg.grid.iu.edu/rgcurrentstatus/index?datasource=currentstatus&rg=on&rg_300=on&end_type=now</a>

The SE and the CE are on the same host and the the CE metrics are reported properly so I&#39;m not sure why this happens. I don&#39;t see anything obviously wrong in the RSV or GIP logs on cms25.physics.ucsb.edu. I&#39;ve pasted the output of a manual run of these two metrics.

Thanks for your help,
Chris

----------------------------------------------------------------------------------

[root@cms25 ~]# rsv-control --run --host cms25.physics.ucsb.edu org.osg.srm.srmcp-readwrite

Running metric org.osg.srm.srmcp-readwrite&#58;

metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2015-05-28 10&#58;20&#58;00 PDT
metricStatus&#58; OK
serviceType&#58; OSG-SRM
serviceURI&#58; cms25.physics.ucsb.edu
gatheredAt&#58; cms25.physics.ucsb.edu
summaryData&#58; OK
detailsData&#58; Successful transfer to remote host.
Successful transfer from remote host.
Original file and received file are identical.
Remote file was properly listed using srm-ls.

EOT

[root@cms25 ~]# rsv-control --run --host cms25.physics.ucsb.edu org.osg.srm.srmping

Running metric org.osg.srm.srmping&#58;

metricName&#58; org.osg.srm.srmping
<div id='show_1617478300' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1617478300'>metricType&#58; status
timestamp&#58; 2015-05-28 10&#58;20&#58;13 PDT
metricStatus&#58; OK
serviceType&#58; OSG-SRM
serviceURI&#58; cms25.physics.ucsb.edu
gatheredAt&#58; cms25.physics.ucsb.edu
summaryData&#58; OK
detailsData&#58; SRM server running at cms25.physics.ucsb.edu is alive and responding to the srm-ping command.
Output from srm-ping&#58;
srm-ping   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012

BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
OSG Support at osg-software@.... and
documentation at <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/</a>

##############################################################
# SRM_HOME = /etc/bestman2
# BESTMAN_LIB = /usr/share/java/bestman2
# JAVA_HOME = /usr/java/latest
java version &#34;1.7.0_51&#34;
Java(TM) SE Runtime Environment (build 1.7.0_51-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)

# BESTMAN_SYSCONF = /etc/sysconfig/bestman2
##############################################################
#################################################################
# BeStMan and BeStMan Clients Copyright(c) 2007-2011,
# Lawrence Berkeley National Laboratory. All rights reserved.
# Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
#################################################################
#
# BESTMAN_SYSCONF contains both external env settings and internal definitions
#
#################################################################
# Below is ONLY for ESTERNAL env settings
#################################################################
#
#
# Initialization
SRM_HOME=/etc/bestman2
BESTMAN_SYSCONF=/etc/sysconfig/bestman2
BESTMAN_SYSCONF_LIB=/etc/sysconfig/bestman2lib
BESTMAN2_CONF=/etc/bestman2/conf/bestman2.rc
JAVA_HOME=/etc/alternatives/java_sdk
#
#
# BeStMan2 server system init variables
BESTMAN_LOG=/var/log/bestman2/bestman2.log
BESTMAN_PID=/var/run/bestman2.pid
BESTMAN_LOCK=/var/lock/bestman2
SRM_OWNER=bestman
#
#
# BeStMan2 server and clients common variables
BESTMAN_LIB=/usr/share/java/bestman2
X509_CERT_DIR=/etc/grid-security/certificates
# GLOBUS_HOSTNAME=
# GLOBUS_LOCATION=
GLOBUS_TCP_PORT_RANGE=20000,25000
GLOBUS_TCP_SOURCE_RANGE=20000,25000
# VOMSDIR=
# BESTMAN_JAVA_SRM_OTHER_OPTS=
#
#
# BeStMan2 server variables
BESTMAN_MAX_JAVA_HEAP=1024
# BESTMAN_JAVA_STACK_SIZE=
# BESTMAN_EVENT_LOG_COUNT=
# BESTMAN_EVENT_LOG_SIZE=
# BESTMAN_CONNECTOR_QUEUESIZE=
# BESTMAN_CONNECTION_ACCEPTORSIZE=
BESTMAN_GUMSCERTPATH=/etc/grid-security/bestman/bestmancert.pem
BESTMAN_GUMSKEYPATH=/etc/grid-security/bestman/bestmankey.pem
# BESTMAN_GUMSPROXYPATH=
# BESTMAN_PLUGIN=
# BESTMAN_EXTRALIB=
BESTMAN_GUMS_ENABLED=yes
JETTY_DEBUG_ENABLED=no
BESTMAN_GATEWAYMODE_ENABLED=yes
BESTMAN_FULLMODE_ENABLED=no
#
#
# BeStMan2 clients variables
JAVA_CLIENT_MAX_HEAP=512
JAVA_CLIENT_MIN_HEAP=32
# JAVA_CLIENT_STACK_SIZE=

#################################################################
# BESTMAN_SYSCONF_LIB = /etc/sysconfig/bestman2lib
##############################################################
#################################################################
# BeStMan and BeStMan Clients Copyright(c) 2007-2011,
# Lawrence Berkeley National Laboratory. All rights reserved.
# Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
#################################################################
#
#
####################################################################
# Below is only for BESTMAN2 SERVER and BESTMAN2 CLIENT LIB settings
####################################################################
#
#
if [ &#34;x$BESTMAN_SYSCONF_MODE&#34; = &#34;xserver&#34; ]; then
BESTMAN2_SERVER_LIB=.
# Axis and related dependencies
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath axis wsdl4j commons-discovery commons-logging bestman2/axis log4j)
# GUMS and related deps
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath commons-collections joda-time voms-api-java trustmanager trustmanager-axis xalan-j2 jakarta-commons-lang privilege-xacml)
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;/usr/lib/gums/openws-1.4.1.jar&#58;/usr/lib/gums/opensaml-2.4.1.jar&#58;/usr/lib/gums/xmltooling-1.3.1.jar&#58;/usr/lib/gums/velocity-1.5.jar&#58;/usr/lib/gums/xmlsec-1.4.4.jar
# Jetty JARs
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath jetty)
# jglobus JARs
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath jglobus bcprov cog-jglobus-axis)
# Remainder odds-n-ends
BESTMAN2_SERVER_LIB=$BESTMAN2_SERVER_LIB&#58;$(build-classpath bestman2/others)
else
BESTMAN2_CLIENT_LIB=.&#58;$(build-classpath cog-jglobus-axis)
BESTMAN2_CLIENT_LIB=$BESTMAN2_CLIENT_LIB&#58;$(build-classpath axis wsdl4j commons-discovery commons-logging bestman2/axis log4j)
BESTMAN2_CLIENT_LIB=$BESTMAN2_CLIENT_LIB&#58;$(build-classpath jglobus bcprov)
fi
#################################################################
##############################################################
# X509_USER_PROXY = /tmp/rsvproxy
##############################################################

Parsing config file /etc/bestman2/conf/srmclient.conf

Get Credential for proxyPath /tmp/rsvproxy

===================================
SRM Configuration

serviceUrl     &#58; httpg&#58;//cms25.physics.ucsb.edu&#58;8443/srm/v2/server
Debug ON       &#58; true
Quiet ON       &#58; false
Using proxyFile &#58; /tmp/rsvproxy
SRM-CLIENT&#58; Connecting to serviceurl httpg&#58;//cms25.physics.ucsb.edu&#58;8443/srm/v2/server

SRM-CLIENT&#58; ProxyType found 18

SRM-CLIENT&#58; limited delegation by system

SRM-PING&#58; Thu May 28 10&#58;20&#58;08 PDT 2015  Calling SrmPing Request...

SRM-PING   #### Output from SRM ####
versionInfo=v2.3.0

Extra information (Key=Value)
backend_type=BeStMan
backend_version=2.2.2.3.0
backend_build_date=2014-11-06T08&#58;04&#58;16.000Z
gsiftpTxfServers[0]=<a href='gsiftp&#58;//cms25.physics.ucsb.edu&#58;2811' target='_blank' rel='nofollow'>gsiftp&#58;//cms25.physics.ucsb.edu&#58;2811</a>
GatewayMode=Enabled
clientDN=/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=rsv/cms25.physics.ucsb.edu
gumsIDMapped=rsv

EOT

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West

</div><script type='text/javascript'>
        $('#show_1617478300').click(function() {
            $('#detail_1617478300').slideDown("normal");
            $('#show_1617478300').hide();
            $('#hide_1617478300').show();
        });
        $('#hide_1617478300').click(function() {
            $('#detail_1617478300').slideUp();
            $('#hide_1617478300').hide();
            $('#show_1617478300').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F25625">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 25625});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
