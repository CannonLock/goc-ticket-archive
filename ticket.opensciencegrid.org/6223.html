<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[6223] Other Issues</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6223" method="post">
<div class="page-header">
    <h3><span class="muted">6223</span> / Other Issues</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Keith Chadwick</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-01-27</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/6223", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6223#1233160283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-28T16:31:23+00:00">Jan 28, 2009 04:31 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1233160283">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='6223#1232655851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-22T20:24:11+00:00">Jan 22, 2009 08:24 PM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1232655851">&nbsp;</a></div><pre>Kyle,

Feel free to close this ticket.

-Keith.

At 8&#58;11 PM +0000 1/22/09, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6223#1232655076'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-22T20:11:16+00:00">Jan 22, 2009 08:11 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1232655076">&nbsp;</a></div><pre>Would you all like me to close this ticket or keep it open with longer &#34;next action
dates&#34; until the update is in place?

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='6223#1232570351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-21T20:39:11+00:00">Jan 21, 2009 08:39 PM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1232570351">&nbsp;</a></div><pre>Alain,

Thanks for the update.

-Keith.

At 8&#58;12 PM +0000 1/21/09, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6223#1232568731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-21T20:12:11+00:00">Jan 21, 2009 08:12 PM UTC</time> by <b>VDT</b><a class="anchor" name="1232568731">&nbsp;</a></div><pre>David Groep agreed to the changes&#58;

<font color='#7F7E6F'>&#62; From&#58; David Groep &#60;davidg@....&#62;</font>
<font color='#7F7E6F'>&#62; Date&#58; January 21, 2009 1&#58;56&#58;24 PM CST</font>
<font color='#7F7E6F'>&#62; To&#58; Alain Roy &#60;roy@....&#62;</font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; Requests for Fetch CRL</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi Alain,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Agreed on both issues. Hope to get to fixing them tomorrow in a 2.6.7</font>
<font color='#7F7E6F'>&#62; version of the tool. I&#39;ll keep you posted!</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 	Cheers,</font>
<font color='#7F7E6F'>&#62; 	DavidG.</font>

We&#39;ll include them in a future update to the VDT, but I don&#39;t know
when he&#39;ll release the update to fetch-crl.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6223#1232558651'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-21T17:24:11+00:00">Jan 21, 2009 05:24 PM UTC</time> by <b>VDT</b><a class="anchor" name="1232558651">&nbsp;</a></div><pre>On Jan 16, 2009, at 11&#58;33 AM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; When you convey Keith&#39;s request to improve error message David Groep,</font>
<font color='#7F7E6F'>&#62; could you also ask him ensure that fetch-crl returns a non-zero exit</font>
<font color='#7F7E6F'>&#62; code on failures. Currently error code is not being set when the</font>
<font color='#7F7E6F'>&#62; downloaded CRLs fail to verify.</font>

Good suggestion. I sent him the following email&#58;

<font color='#7F7E6F'>&#62; From&#58; Alain Roy &#60;roy@....&#62;</font>
<font color='#7F7E6F'>&#62; Date&#58; January 21, 2009 11&#58;16&#58;10 AM CST</font>
<font color='#7F7E6F'>&#62; To&#58; David Groep &#60;davidg@....&#62;</font>
<font color='#7F7E6F'>&#62; Subject&#58; Requests for Fetch CRL</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi David,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Recently a site administrator in OSG reported a problem with a CRL.</font>
<font color='#7F7E6F'>&#62; The details aren&#39;t important, but the ensuing discussion led to two</font>
<font color='#7F7E6F'>&#62; suggestions for Fetch CRL.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) The error message for the CRL should be improved so that it is</font>
<font color='#7F7E6F'>&#62; easier to figure out which CA is responsible. For example, the</font>
<font color='#7F7E6F'>&#62; original error message was&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; fetch-crl[18456]&#58; 20090112T172610-0600 verify failed for CRL issued</font>
<font color='#7F7E6F'>&#62; by &#39;CA Developer/UID=certman (4bcd9350)&#39; (Error getting CRL issuer</font>
<font color='#7F7E6F'>&#62; certificate)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; But the hash there isn&#39;t the hash for the CA, but the hash for the</font>
<font color='#7F7E6F'>&#62; CRL. In this case, the hash for the CA should have been b89793e4 or</font>
<font color='#7F7E6F'>&#62; 3deda549. (I&#39;m not sure which one offhand--they&#39;re related.)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 2) Someone else suggested that when a CRL verification fails, fetch-</font>
<font color='#7F7E6F'>&#62; crl should have a non-zero return code. If a CRL fails, it&#39;s the</font>
<font color='#7F7E6F'>&#62; sign of a potentially serious problem, and people should be alerted</font>
<div id='show_503876503' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_503876503'><font color='#7F7E6F'>&#62; to it.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; What do you think?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The original ticket, if you want to see it, is below&#58;</font>
<font color='#7F7E6F'>&#62;    <a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; -alain</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -----------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62; Alain Roy</font>
<font color='#7F7E6F'>&#62; Open Science Grid Software Coordinator            roy@....</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.org</a>                 <a href='http&#58;//vdt.cs.wisc.edu' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu</a></font>

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62</a>;
VDT Support&#58; vdt-support@....
</div><script type='text/javascript'>
        $('#show_503876503').click(function() {
            $('#detail_503876503').slideDown("normal");
            $('#show_503876503').hide();
            $('#hide_503876503').show();
        });
        $('#hide_503876503').click(function() {
            $('#detail_503876503').slideUp();
            $('#hide_503876503').hide();
            $('#show_503876503').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6223#1232127011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-16T17:30:11+00:00">Jan 16, 2009 05:30 PM UTC</time> by <b>Anand Padmanabhan</b><a class="anchor" name="1232127011">&nbsp;</a></div><pre>Hi Alain,

When you convey Keith&#39;s request to improve error message David Groep,
could you also ask him ensure that fetch-crl returns a non-zero exit
code on failures. Currently error code is not being set when the
downloaded CRLs fail to verify.

Thanks
Anand

Jim Basney wrote&#58;
<font color='#7F7E6F'>&#62; My comment is in the ticket&#58;</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//oim.grid.iu.edu/gocticket/viewer?id=6223' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/viewer?id=6223</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; If fetch-crl fails to verify a CRL, it does not install the bad CRL. It</font>
<font color='#7F7E6F'>&#62; leaves the existing CRL in place. Therefore, I do not see a risk from</font>
<font color='#7F7E6F'>&#62; this bad CRL.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I will follow-up with SDSC to see what happened.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Alain,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The two CRLs Kith mentions b89793e4 and 3deda549 are currently in</font>
<font color='#7F7E6F'>&#62;&#62; verifying OK with openssl commands. I am not sure about the 4bcd9350.</font>
<font color='#7F7E6F'>&#62;&#62; This CA does not seem to be a part of distribution from either OSG/VDT.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Also for what it is worth, the fetchCRL rsv probes</font>
<font color='#7F7E6F'>&#62;&#62; (<a href='https&#58;//everest.cigi.uiuc.edu&#58;8443/rsv/everest.cigi.uiuc.edu/index.html#cacert-crl-fetchcrl-centralized-probe.org.osg.centralized.cacert.crl.process.fetchcrl' target='_blank' rel='nofollow'>https&#58;//everest.cigi.uiuc.edu&#58;8443/rsv/everest.cigi.uiuc.edu/index.html#cacert-crl-fetchcrl-centralized-probe.org.osg.centralized.cacert.crl.process.fetchcrl</a>)</font>
<font color='#7F7E6F'>&#62;&#62;  that I am running hourly, did not see the any errors during the</font>
<font color='#7F7E6F'>&#62;&#62; relevant period.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Just my observations. I will let Mine or Jim comment.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks</font>
<div id='show_206686124' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_206686124'><font color='#7F7E6F'>&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Alain Roy wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Hi OSG Security Team,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; The VDT got a question about a possibly improperly signed CRL. I don&#39;t</font>
<font color='#7F7E6F'>&#62;&#62;&#62; feel qualified to look into it--can someone help?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; It&#39;s VDT ticket #4673&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; <a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I put Jim and Mine on the ticket--who else should I add to it?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; -alain</font>

--
Anand Padmanabhan, PhD
Research Scientist
CyberInfrastructure and Geospatial Information Laboratory (CIGI)
and
National Center for Supercomputing Applications (NCSA)
University of Illinois at Urbana-Champaign
Telephone&#58; (217) 244-9315
<a href='http&#58;//cigi.uiuc.edu' target='_blank' rel='nofollow'>http&#58;//cigi.uiuc.edu</a>
</div><script type='text/javascript'>
        $('#show_206686124').click(function() {
            $('#detail_206686124').slideDown("normal");
            $('#show_206686124').hide();
            $('#hide_206686124').show();
        });
        $('#hide_206686124').click(function() {
            $('#detail_206686124').slideUp();
            $('#hide_206686124').hide();
            $('#show_206686124').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6223#1232081441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-16T04:50:41+00:00">Jan 16, 2009 04:50 AM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1232081441">&nbsp;</a></div><pre>I think we know what happened now. One of the SDSC CA operators revoked a certificate
on a test CA (&#34;CA Developer/UID=certman&#34;) running on the same machine as the
production SDSC CA, and the test CA&#39;s CRL overwrote the production CA&#39;s CRL, thereby
causing the CRL errors. When the production CA periodically re-generated its CRL, it
overwrote the bad CRL, thereby resolving the short-lived problem. SDSC will fix the
configuration of the test CA so this won&#39;t happen again.

Note that the SDSC CA is one of the CAs we propose to drop from the OSG CA
distribution, because it is not used by any OSG VOs&#58;
<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0901&amp' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0901&amp</a>;L=tg-security&amp;P=178

I second Keith&#39;s request for the fetch-crl error message to be improved. Alain, will
you convey that request to David?

Otherwise, I propose that we consider this issue resolved.</pre></div><div class='update_description'><i onclick="document.location='6223#1231977112'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-14T23:51:52+00:00">Jan 14, 2009 11:51 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1231977112">&nbsp;</a></div><pre>From&#58; Darren Bennett [mailto&#58;dbennett@....]
Sent&#58; Wednesday, January 14, 2009 3&#58;29 PM
Subject&#58; Re&#58; CRL errors

I just spoke with Scott. This problem appears to have been caused as the
result of the removal of the CRL from our webserver. Scott will work on
correcting the problem and preventing it in the future. Thanks!

Darren Bennett, CISSP
Chief Information Security Officer
San Diego Supercomputer Center
University of California San Diego
dbennett@....
858-246-0518</pre></div><div class='update_description'><i onclick="document.location='6223#1231903581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-14T03:26:21+00:00">Jan 14, 2009 03:26 AM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1231903581">&nbsp;</a></div><pre>FYI.

-------- Original Message --------
Subject&#58; RE&#58; CRL errors
Date&#58; Tue, 13 Jan 2009 17&#58;20&#58;13 -0800
From&#58; Leonard K Carson &#60;lcarson@....&#62;
To&#58; Jim Basney &#60;jbasney@....&#62;

Jim,
Not that I know of but we&#39;ll have a look.
Best, Leo.

-----Original Message-----
From&#58; Jim Basney [mailto&#58;jbasney@....]
Sent&#58; Tuesday, January 13, 2009 3&#58;37 PM
To&#58; certman@....
Subject&#58; CRL errors

Hello,

Between 17&#58;00 on 12-Jan-2009 and 3&#58;00 on 13-Jan-2009 (Central), OSG
sites saw the following errors from fetch-crl&#58;

<font color='#7F7E6F'>&#62; verify failed for CRL issued by &#39;CA Developer/UID=certman (4bcd9350)&#39; (Error</font>
getting CRL issuer certificate)

Was there a problem with the SDSC and/or NPACI CRLs during this time?

Thanks,
Jim Basney
OSG Security Team</pre></div><div class='update_description'><i onclick="document.location='6223#1231902731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-14T03:12:11+00:00">Jan 14, 2009 03:12 AM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1231902731">&nbsp;</a></div><pre>Alain,

I don&#39;t see any direct action by OSG at the present time.

However...

I would first expect that the CA operator issue a public notice
about the incident (unless the cause of the incident was due to
a security breach) to the relying parties via the OSG GOC.

If the incident was due to a security incident, then I would expect
that the CA operator would notify the various Grid security teams
about the incident (much like the communication that has taken
place in other incidents).

So perhaps the appropriate OSG Security Team members could gently
encourage the CA operator to &#34;fess up&#34;.

It also would have been useful to have fetch-crl report the ${crlHash}
of the bad CRL - that would have allowed a rapid identification of
the CA.  This suggested change should probably be fed back to David
Groep.

-Keith.

At 2&#58;51 AM +0000 1/14/09, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6223#1231901470'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-14T02:51:10+00:00">Jan 14, 2009 02:51 AM UTC</time> by <b>VDT</b><a class="anchor" name="1231901470">&nbsp;</a></div><pre>On Jan 13, 2009, at 8&#58;43 PM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; The problem is that the CA operator appears to have failed to properly</font>
<font color='#7F7E6F'>&#62; execute their responsibilities.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; If the previous CRL expired during the interval that the &#34;bad&#34; CRL was</font>
<font color='#7F7E6F'>&#62; &#34;in circulation&#34;, that would have resulted in all certificates</font>
<font color='#7F7E6F'>&#62; signed by</font>
<font color='#7F7E6F'>&#62; that CA failing to authenticate.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The expiration of the previous CRL would also impact the site RSV</font>
<font color='#7F7E6F'>&#62; metrics.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So, a CA circulating a &#34;bad&#34; CRL is not as benign as it might</font>
<font color='#7F7E6F'>&#62; initially</font>
<font color='#7F7E6F'>&#62; appear - it can eventually have cascading results through more than</font>
<font color='#7F7E6F'>&#62; one</font>
<font color='#7F7E6F'>&#62; area of the OSG infrastructure.</font>

Hi Keith--

What do you propose is an appropriate action for us right now, given
that the CA operator appears to have corrected it&#39;s earlier error?

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6223#1231897331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-14T01:42:11+00:00">Jan 14, 2009 01:42 AM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1231897331">&nbsp;</a></div><pre>The problem is that the CA operator appears to have failed to properly
execute their responsibilities.

If the previous CRL expired during the interval that the &#34;bad&#34; CRL was
&#34;in circulation&#34;, that would have resulted in all certificates signed by
that CA failing to authenticate.

The expiration of the previous CRL would also impact the site RSV metrics.

So, a CA circulating a &#34;bad&#34; CRL is not as benign as it might initially
appear - it can eventually have cascading results through more than one
area of the OSG infrastructure.

-Keith.

At 11&#58;32 PM +0000 1/13/09, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6223#1231889530'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-13T23:32:10+00:00">Jan 13, 2009 11:32 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1231889530">&nbsp;</a></div><pre>If fetch-crl fails to verify a CRL, it does not install the bad CRL. It leaves the
existing CRL in place. Therefore, I do not see a risk from this bad CRL.

I will follow-up with SDSC to see what happened.</pre></div><div class='update_description'><i onclick="document.location='6223#1231888691'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-13T23:18:11+00:00">Jan 13, 2009 11:18 PM UTC</time> by <b>VDT</b><a class="anchor" name="1231888691">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; So I am left with the uneasy feeling that around 17&#58;00 (central) on</font>
<font color='#7F7E6F'>&#62; 12-Jan-2009,</font>
<font color='#7F7E6F'>&#62; one of the above CA&#39;s issued a set of CRLs that were &#34;improperly&#34;</font>
<font color='#7F7E6F'>&#62; signed.</font>

Hi Keith,

This is definitely something for which I want to get help from the OSG
Security Team. I&#39;ve added Mine Altunay and Jim Basney to this ticket,
and I hope they can help us sort it out.

Did you have any users access your site during that time interval?

Thanks,
-alain

-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6223#1231885450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-13T22:24:10+00:00">Jan 13, 2009 10:24 PM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1231885450">&nbsp;</a></div><pre>GOC,

We did some additional research at Fermilab earlier today on this issue.

The errors started at just after 17&#58;00 on 12-Jan-2009 and stopped around
3&#58;00 on 13-Jan-2009 (times listed are Central time zone).

Poking around the various CRLs (with a modified copy of fetch_crl),
I see that the following CRLs were issued at 8&#58;00 GMT and 9&#58;00 GMT on
13-Jan-2009&#58;

fetch-crl-enhanced.sh[16029]&#58; 20090113T133653-0600 processing
&#39;/etc/grid-security/certificates/3deda549.crl_url&#39;
fetch-crl-enhanced.sh[16029]&#58; 20090113T133653-0600 updating CA
&#39;3deda549.0&#39; CRL &#39;Certificate Authority/UID=certman (3deda549)&#39;
lastUpdate Jan 13 09&#58;00&#58;00 2009 GMT nextUpdate Jan 20 09&#58;00&#58;00 2009
GMT

fetch-crl-enhanced.sh[21518]&#58; 20090113T133739-0600 processing
&#39;/etc/grid-security/certificates/b89793e4.crl_url&#39;
fetch-crl-enhanced.sh[21518]&#58; 20090113T133739-0600 updating CA
&#39;b89793e4.0&#39; CRL &#39;Certificate Manager/UID=certman (b89793e4)&#39;
lastUpdate Jan 13 08&#58;01&#58;00 2009 GMT nextUpdate Jan 20 08&#58;01&#58;00 2009
GMT

So I am left with the uneasy feeling that around 17&#58;00 (central) on
12-Jan-2009,
one of the above CA&#39;s issued a set of CRLs that were &#34;improperly&#34; signed.

-Keith.

At 10&#58;10 PM +0000 1/13/09, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6223#1231884730'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-13T22:12:10+00:00">Jan 13, 2009 10:12 PM UTC</time> by <b>VDT</b><a class="anchor" name="1231884730">&nbsp;</a></div><pre>Greetings from the VDT support system!

This message was generated automatically in response to the creation of a
ticket regarding&#58;

Open Science Grid&#58; Other Issues ISSUE=6223 PROJ=71

Your original request is copied below for reference.

There is no need to reply to this message right now -- someone from the VDT
team will respond to you as soon as possible.  If you wish to view your
support ticket online, visit&#58;

<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=4673</a>

Your ticket has been assigned an ID as follows&#58;

[vdt-support #4673]

Please include the ticket ID in the subject line of all future email about
this issue.  To do so, you may reply to this message.

Thank you for your interest in the VDT.

vdt-support@....

-------------------------------------------------------------------------
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6223#1231884607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-13T22:10:07+00:00">Jan 13, 2009 10:10 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1231884607">&nbsp;</a></div><pre>VDT,

Could you look into this?

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='6223#1231804306'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-01-12T23:51:46+00:00">Jan 12, 2009 11:51 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1231804306">&nbsp;</a></div><pre>Within FermiGrid, our hourly fetch_crl update processes have just started issuing the following notification&#58;

fetch-crl[18456]&#58; 20090112T172610-0600 verify failed for CRL issued by &#39;CA Developer/UID=certman (4bcd9350)&#39; (Error getting CRL issuer certificate)

This is a new error that I have not seen from fetch_crl before...

It just started around 17&#58;20 or so...

I&#39;ve looked through all the certificates (*.0) and CRLs (*.r0) in
/etc/grid-security/certificates and I cannot find a reference to&#58;

&#39;CA Developer/UID=certman (4bcd9350)&#39;.

There is a certman reference in the following CAs&#58;

[chadwick@fg6x1 tools]$ ./find_ca.sh
CA is /etc/grid-security/certificates/b89793e4.0
CA is /etc/grid-security/certificates/3deda549.0

And it is also present in the following CRLs&#58;

[chadwick@fg6x1 tools]$ grep certman /etc/grid-security/certificates/*.r0
/etc/grid-security/certificates/3deda549.r0&#58;        Issuer&#58; /C=US/O=SDSC/OU=SDSC-CA/CN=Certificate Authority/UID=certman
/etc/grid-security/certificates/b89793e4.r0&#58;        Issuer&#58; /C=US/O=NPACI/OU=SDSC/CN=Certificate Manager/UID=certman

-Keith.</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6223">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
