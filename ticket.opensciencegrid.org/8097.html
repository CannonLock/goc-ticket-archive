<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[8097] RSV related issue</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=8097" method="post">
<div class="page-header">
    <h3><span class="muted">8097</span> / RSV related issue</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bobby Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-02-15</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">RSV-Ops <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/8097", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='8097#1266116250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-14T02:57:30+00:00">Feb 14, 2010 02:57 AM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1266116250">&nbsp;</a></div><pre>Closing as this has cleared up.</pre></div><div class='update_description'><i onclick="document.location='8097#1266087725'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-13T19:02:05+00:00">Feb 13, 2010 07:02 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1266087725">&nbsp;</a></div><pre>The disabled metrics disappeared at Midnight (likely) as you suggested. Thanks much for the help. I think this ticket can now be closed.

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8097#1265918886'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-11T20:08:06+00:00">Feb 11, 2010 08:08 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1265918886">&nbsp;</a></div><pre>OK, thanks. I&#39;ll check on it tomorrow.

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8097#1265918167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-11T19:56:07+00:00">Feb 11, 2010 07:56 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1265918167">&nbsp;</a></div><pre>As of OSG 1.2.6, disabled metrics should disappear from the web page
by the next day.  I think it happens at midnight.  If I&#39;m wrong, let
me know and I&#39;ll work with you to remove it.

Thanks,
scot

On Thu, Feb 11, 2010 at 1&#58;41 PM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8097#1265917268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-11T19:41:08+00:00">Feb 11, 2010 07:41 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1265917268">&nbsp;</a></div><pre>Yesterday was not a good day to respond to this, what with the winter storm and other pressing issues.

Will this procedure also clean out the web page view, so that it does not, forevermore, taint the page? Well, if it doesn&#39;t, I guess I can deal with it. Trying it now.

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8097#1265822045'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-10T17:14:05+00:00">Feb 10, 2010 05:14 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1265822045">&nbsp;</a></div><pre>Hi Bob,
So here&#39;s how I think you&#39;ll need to disable this metric for now.
Note that I might have the name of the submission file slightly wrong,
but I think you&#39;ll know which one is appropriate.  You want to remove
the gate02 submission file for the org.osg.gratia.metric metric.

vdt-control --off osg-rsv
rm $VDT_LOCATION/osg-rsv/submissions/probes/gate02.grid.umich.edu__gratia-config-probe@....
vdt-control --on osg-rsv

If you re-run configure-osg, this file will get re-generated.  Sorry,
I know that sucks.  There is a tool in development, rsv-control, that
will allow you to&#58;
a) easily disable a metric (without manually deleting a submission file)
b) specify metrics per host, so you don&#39;t have to run through this
hoopla in the future

We&#39;re hoping the tool will be available in a release in the near future.

Let me know if you have any further questions.

Thanks,
scot

On Wed, Feb 10, 2010 at 8&#58;17 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8097#1265811427'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-10T14:17:07+00:00">Feb 10, 2010 02:17 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1265811427">&nbsp;</a></div><pre>We are not running rsv directly on gate02, it is being probed from gate01. I will disable the probe.

Note, this is what you get out of the osg 1.2.6 install if you specify multiple CE. So, the disabling of this probe is then a manual step. Perhaps a primary and a secondary CE parameter are needed to replace the single specification?

OK, now that I&#39;ve said that, I&#39;m sitting here thinking it would be good if you specified the full procedure I should follow after I disable that probe in the gate02 conf file. Is it sufficient to stop, then restart, the osg-rsv service?

bob

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8097#1265751126'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-09T21:32:06+00:00">Feb 9, 2010 09:32 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1265751126">&nbsp;</a></div><pre>Hi Bob,
I&#39;m not an expert on the Gratia metric or RSV collector, but I&#39;ve
copied the relavant experts in case we need their help.  I think this
might actually be a simpler issue though.

Are you running RSV on gate02?  If not, then you don&#39;t need to run the
&#39;org.osg.gratia.metric&#39; against it from gate01.  If you need help
disabling this, let me know - config.ini might not allow you to run
different metrics on different hosts (this is an issue we&#39;re working
on right now).

Thanks,
scot

On Tue, Feb 9, 2010 at 7&#58;58 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8097#1265750220'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-09T21:17:00+00:00">Feb 9, 2010 09:17 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1265750220">&nbsp;</a></div><pre>RSV-Ops,

Are you currently looking into this issue?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='8097#1265674663'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-09T00:17:43+00:00">Feb 9, 2010 12:17 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1265674663">&nbsp;</a></div><pre>From&#58; Bob Ball &#60;ball@....&#62;
To&#58; OSG Operations Center &#60;goc@....&#62;
Subject&#58; rsv problem
Date-Sent&#58; Monday, February 08, 2010 4&#58;23 PM -0500

I just updated our gatekeeper gate01.aglt2.org today to osg 1.2.6.  This is the
source machine for all of our rsv probes.  I had updated our non-ATLAS-VO gatekeeper
(gate02.grid.umich.edu) to this same version last week.

With the rsv probes now running from gate01, I see this error in the gate02 probe
org.osg.gratia.metric

metricName&#58; org.osg.gratia.metric
metricType&#58; status
timestamp&#58; 2010-02-08 15&#58;49&#58;01 EST
metricStatus&#58; CRITICAL
serviceType&#58; OSG-CE
serviceURI&#58; gate02.grid.umich.edu
gatheredAt&#58; gate01.aglt2.org
summaryData&#58; CRITICAL
detailsData&#58; 0 records waiting to be re-sent to rsv.grid.iu.edu&#58;8880 in 0 files
(including 0 archive files).
749 files in data folder /opt/osg-1.2.6/gratia/var/data.
ERROR&#58; Probe metric&#58;gate02.grid.umich.edu has never been seen by Gratia collector
rsv.grid.iu.edu&#58;8880
EOT

This makes little sense to me.  If I modify the cron script by hand
7,17,27,37,47,57 * * * * /opt/osg-1.2.6/gratia/probe/condor/condor_meter.cron.sh &#62;
/opt/osg-1.2.6/gratia/var/logs/gratia-probe-condor.log 2&#62;&amp;1

I can see it run and try to access the directory above. Begin processing directory
/opt/osg-1.2.6/gratia/var/data

So, I just don&#39;t have a clue about why this metric should be failing.  Can you give
<div id='show_438997911' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_438997911'>me some hints about where I should be looking for problems?

Thanks,
bob
</div><script type='text/javascript'>
        $('#show_438997911').click(function() {
            $('#detail_438997911').slideDown("normal");
            $('#show_438997911').hide();
            $('#hide_438997911').show();
        });
        $('#hide_438997911').click(function() {
            $('#detail_438997911').slideUp();
            $('#hide_438997911').hide();
            $('#show_438997911').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F8097">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
