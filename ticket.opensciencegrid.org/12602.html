<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12602] Atlas RSV vs WLCG report for 08-29-2012</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12602" method="post">
<div class="page-header">
    <h3><span class="muted">12602</span> / Atlas RSV vs WLCG report for 08-29-2012</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Horst Severini</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Horst Severini</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-08-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12602", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12602?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12602?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Atlas%20RSV%20vs%20WLCG%20report%20for%2008-29-2012%20ISSUE%3D12602%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12602#1346346582'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T17:09:42+00:00">Aug 30, 2012 05:09 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1346346582">&nbsp;</a></div><pre>Hello,
If you are happy, I am happy. I&#39;m resolving this ticket. Please feel free to ask at any time, my bandwidth was not wasted.
Scott</pre></div><div class='update_description'><i onclick="document.location='12602#1346345592'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T16:53:12+00:00">Aug 30, 2012 04:53 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1346345592">&nbsp;</a></div><pre>Hi Soichi,

good points. Okay, I&#39;ll stop removing downtimes in the future, I promise! &#58;)

I think maybe only displaying down times for a week after the end would be
sufficient, since after that they really don&#39;t matter any more, right?

And maybe there could be a button to display older downtimes if an admin
needs to see them?

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='12602#1346344925'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T16:42:05+00:00">Aug 30, 2012 04:42 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1346344925">&nbsp;</a></div><pre>Ah, I see..

The downtime page only displays downtimes that &#34;ends&#34; within the last 30 days. So, they won&#39;t keep accumulating on your page. I am not sure how many site admins do the same as you do - due to similar reasons. I think I should probably improve the list somehow so that admins aren&#39;t compeled to do the cleanup?  The bottom line is that, downtime shouldn&#39;t be removed unless it&#39;s completely a mistake.

Soichi</pre></div><div class='update_description'><i onclick="document.location='12602#1346343789'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T16:23:09+00:00">Aug 30, 2012 04:23 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1346343789">&nbsp;</a></div><pre>Hi Soichi,

no, I don&#39;t enter possible down times, I just enter scheduled or unscheduled
downtimes for when they actually happen.

But then when they&#39;re done, I usually remove them from OIM again,
just so that I don&#39;t have to wade through a whole bunch of out of date
entries the next time when I want to enter a new down time.
Is that unusual? Maybe I&#39;m just a clean freak ... &#58;)

If people think I shouldn&#39;t do this, I can stop deleting them.
I just thought it&#39;s cleaner that way, but I didn&#39;t think about the fact
that deleting them might mess up accounting!

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='12602#1346343169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T16:12:49+00:00">Aug 30, 2012 04:12 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1346343169">&nbsp;</a></div><pre>Horst,

Why do you have to remove downtime at the end of downtime? Usually, user will enter a downtime specifying start / end time of the downtime and leave it there forever - after the downtime is over. Or .. maybe you are entering &#34;possible&#34; downtime and removing it later if it didn&#39;t actually happen?

Soichi</pre></div><div class='update_description'><i onclick="document.location='12602#1346341090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T15:38:10+00:00">Aug 30, 2012 03:38 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1346341090">&nbsp;</a></div><pre>P.S.&#58; So in the future, I should leave downtimes (scheduled or unscheduled)
in OIM for at least another few hours, or maybe a day, after the outage
is over, before I delete them again, to make sure they propagate properly
to the WLCG accounting?</pre></div><div class='update_description'><i onclick="document.location='12602#1346341088'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T15:38:08+00:00">Aug 30, 2012 03:38 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1346341088">&nbsp;</a></div><pre>Hi Scott,

I see, good point. Okay, then you can close this ticket again,
sorry for having wasted your time and bandwidth! &#58;)

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='12602#1346340742'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T15:32:22+00:00">Aug 30, 2012 03:32 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1346340742">&nbsp;</a></div><pre>Hello,
I don&#39;t think it is worth the trouble. If you add an unscheduled downtime exactly covering the &#34;critical&#34; period, neither availability nor reliability will change at the end of the month.
Scott</pre></div><div class='update_description'><i onclick="document.location='12602#1346339648'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T15:14:08+00:00">Aug 30, 2012 03:14 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1346339648">&nbsp;</a></div><pre>Hi Scott,

thanks for looking into this.

So should I go ahead and retroactively re-schedule the downtime, and see
if that makes it into the WLCG accounting? Can we request a re-calculation
like that? Or do you think that&#39;s not worth the effort?

Thanks a lot,

Horst</pre></div><div class='update_description'><i onclick="document.location='12602#1346336891'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T14:28:11+00:00">Aug 30, 2012 02:28 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1346336891">&nbsp;</a></div><pre>Hello,

An UNscheduled downtime counts as down in WLCG accounting. My logs indicate the downtime was removed 23&#58;40 UTC, there is a delay of up to 2.5 hours for downtimes to propagate all the way through. It is unlikely that the change made it to WLCG before their calculation. Downtime changes are supposed to propagate to WLCG automatically but these happen so rarely (and really should not happen at all) I can&#39;t recall the last test of this. My RSV data shows the CE down until 22&#58;47 UTC and no downtime currently registered. This gives an A/R of 5%. This is the data WLCG uses to calculate the A/R numbers at the end of the month. As it is now, OU_OCHEP_SWT2 will show 5% A/R for this date.

For completeness here is what I have&#58;
status changed to critical 28/Aug 20&#58;57 UTC
status changed to ok at 29/Aug 22&#58;37 UTC
there is no downtime of any kind registered for this period.

Scott</pre></div><div class='update_description'><i onclick="document.location='12602#1346330978'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T12:49:38+00:00">Aug 30, 2012 12:49 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346330978">&nbsp;</a></div><pre>[by Horst Severini]

Hi all,

I&#39;m not sure why our (OU_OCHEP_SWT2) WLCG Reliability would be 0 here, since we were in an unscheduled OIM downtime during the entire time where we had these Lustre problems, so the Reliability should have still remained 100%, right?

The RSV Reliability shows 69%, which is better, but still low.
I think it should also be 100%.

Wait -- I just looked at MyOSG, and it shows red for that time, not blue&#58;

<a href='http&#58;//myosg.grid.iu.edu/rgstatushistory/index?downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=08%2F30%2F2012&end_type=now&end_date=08%2F30%2F2012&facility=on&facility_10029=on&gridtype=on&gridtype_1=on&gridtype_2=on&service_1=on&service_5=on&active=on&active_value=1&disable_value=1' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/rgstatushistory/index?downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=08%2F30%2F2012&end_type=now&end_date=08%2F30%2F2012&facility=on&facility_10029=on&gridtype=on&gridtype_1=on&gridtype_2=on&service_1=on&service_5=on&active=on&active_value=1&disable_value=1</a>

Hmm, maybe I shouldn&#39;t have deleted the downtime in OIM after it was over?
I was under the impression that once a downtime was over, I can delete it again from OIM, but that may be a faulty assumption.
If so, then for how long does a downtime need to remain there?
Till the following month&#39;s WLCG calculations?

Please adivise. I&#39;d obviously like to fix this for the record, since I&#39;d like to have as good a WLCG record as possible. &#58;)

Thanks a lot,

Horst</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12602">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 12602});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
