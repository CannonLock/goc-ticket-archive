<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2196] Fermi/Remedy - 80571 - [vdt-support #1899] OSG 0.4.1/VDT 1.3.10 configure-prima-gt4</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2196" method="post">
<div class="page-header">
    <h3><span class="muted">2196</span> / Fermi/Remedy - 80571 - [vdt-support #1899] OSG 0.4.1/VDT 1.3.10 configure-prima-gt4</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">JOHN WEIGAND</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">1970-01-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2196", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2196#1153324584'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-19T15:56:24+00:00">Jul 19, 2006 03:56 PM UTC</time> by <b>VDT</b><a class="anchor" name="1153324584">&nbsp;</a></div><pre>The configure_prima_gt4 script looks good with the only exception being
the certificate used to populate the vomsdir which you have already
taken care of.

I like to note on this ticket that the need for the certificate in the
/etc/grid-security/vomsdir directory should not be a requirement and the
directory should not even have to exist if the prima-authz.conf has
verifyAC=false..... this should be resolved in PRIMA, but may be
difficult to find.

the ticket can be closed.

John Weigand

Alain Roy via RT wrote&#58;

<font color='#7F7E6F'>&#62;John,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;I didn&#39;t change the RM-Server at all. I only changed so that if you</font>
<font color='#7F7E6F'>&#62;install PRIMA by itself (not installing the full VDT or Globus or</font>
<font color='#7F7E6F'>&#62;whatever), it won&#39;t install the Globus-RM-Server. This prevents it from</font>
<font color='#7F7E6F'>&#62;installing a bunch of pre-web services Globus when only using</font>
<font color='#7F7E6F'>&#62;web-services Globus.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;If you install the VDT as you always do, my change made no impact.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;I think we can close this ticket about configure-prima-gt4, but let&#39;s</font>
<font color='#7F7E6F'>&#62;continue looking at your Globus problems.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;-alain</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62;What can I look for in the install to indicate to me what you changed</font>
<font color='#7F7E6F'>&#62;&#62;with the RM server?</font>
<div id='show_1637955830' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1637955830'><font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;John</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;John Weigand wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;Alain,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;when did you effect this change... the installs that occurred sunday</font>
<font color='#7F7E6F'>&#62;&#62;&#62;night 7/16 around 23&#58;00 appeared to have been fine.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;but when I re-installed this morning, I&#39;m getting an error with web</font>
<font color='#7F7E6F'>&#62;&#62;&#62;services just using the grid-mapfile... before configuring for</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;PRIMA.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;These were from another machine (cmssrv09) submitting to cms-</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;xen1.....</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_1637955830').click(function() {
            $('#detail_1637955830').slideDown("normal");
            $('#show_1637955830').hide();
            $('#hide_1637955830').show();
        });
        $('#hide_1637955830').click(function() {
            $('#detail_1637955830').slideUp();
            $('#hide_1637955830').hide();
            $('#show_1637955830').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1153305850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-19T10:44:10+00:00">Jul 19, 2006 10:44 AM UTC</time> by <b>VDT</b><a class="anchor" name="1153305850">&nbsp;</a></div><pre>John,

I didn&#39;t change the RM-Server at all. I only changed so that if you
install PRIMA by itself (not installing the full VDT or Globus or
whatever), it won&#39;t install the Globus-RM-Server. This prevents it from
installing a bunch of pre-web services Globus when only using
web-services Globus.

If you install the VDT as you always do, my change made no impact.

I think we can close this ticket about configure-prima-gt4, but let&#39;s
continue looking at your Globus problems.

-alain

<font color='#7F7E6F'>&#62; What can I look for in the install to indicate to me what you changed</font>
<font color='#7F7E6F'>&#62; with the RM server?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John Weigand wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Alain,</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; when did you effect this change... the installs that occurred sunday</font>
<font color='#7F7E6F'>&#62; &#62; night 7/16 around 23&#58;00 appeared to have been fine.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; but when I re-installed this morning, I&#39;m getting an error with web</font>
<font color='#7F7E6F'>&#62; &#62; services just using the grid-mapfile... before configuring for</font>
<font color='#7F7E6F'>&#62; PRIMA.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; These were from another machine (cmssrv09) submitting to cms-</font>
<font color='#7F7E6F'>&#62; xen1.....</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<div id='show_443660903' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_443660903'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_443660903').click(function() {
            $('#detail_443660903').slideDown("normal");
            $('#show_443660903').hide();
            $('#hide_443660903').show();
        });
        $('#hide_443660903').click(function() {
            $('#detail_443660903').slideUp();
            $('#hide_443660903').hide();
            $('#show_443660903').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1153154835'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-17T16:47:15+00:00">Jul 17, 2006 04:47 PM UTC</time> by <b>VDT</b><a class="anchor" name="1153154835">&nbsp;</a></div><pre>What can I look for in the install to indicate to me what you changed
with the RM server?

John

John Weigand wrote&#58;

<font color='#7F7E6F'>&#62; Alain,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; when did you effect this change... the installs that occurred sunday</font>
<font color='#7F7E6F'>&#62; night 7/16 around 23&#58;00 appeared to have been fine.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; but when I re-installed this morning, I&#39;m getting an error with web</font>
<font color='#7F7E6F'>&#62; services just using the grid-mapfile... before configuring for PRIMA.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; These were from another machine (cmssrv09) submitting to cms-xen1.....</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='2196#1153154830'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-17T16:47:10+00:00">Jul 17, 2006 04:47 PM UTC</time> by <b>VDT</b><a class="anchor" name="1153154830">&nbsp;</a></div><pre>Alain,

when did you effect this change... the installs that occurred sunday
night 7/16 around 23&#58;00 appeared to have been fine.

but when I re-installed this morning, I&#39;m getting an error with web
services just using the grid-mapfile... before configuring for PRIMA.

These were from another machine (cmssrv09) submitting to cms-xen1.....

On the client side I get&#58;
-------------------------
globusrun-ws -submit -F cms-xen1.fnal.gov&#58;9443 -Ft Fork -c /usr/bin/whoami
Submitting job...Done.
Job ID&#58; uuid&#58;b3930c10-15af-11db-b4b4-0007e923d0a1
Termination time&#58; 07/18/2006 16&#58;17 GMT
Current job state&#58; Failed
Destroying job...Done.
globusrun-ws&#58; Job failed&#58; Internal fault occurred while running the
submit script.
The globus-job-manager-script.pl script received a bad argument.
Check for the existance of the appropriate resource manager adapter Perl
module
in the ${GLOBUS_LOCATION}/lib/perl/Globus/GRAM/JobManager/ directory.

On the CE side&#39;s container.log&#58;
---------------------------------
I get everything authorized and the errors from the
globus-job-manager-script.pl script  go to the bit bucket or back to the
user only.

===================================
This is when I submit on cms-xen1 to cms-xen1&#58;
Client side output&#58;
----------
<div id='show_366434212' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_366434212'>globusrun-ws -submit -F cms-xen1.fnal.gov&#58;9443 -Ft Fork -c /usr/bin/whoami
Submitting job...Done.
Job ID&#58; uuid&#58;0e880934-15b2-11db-a6ae-00163e010001
Termination time&#58; 07/18/2006 16&#58;34 GMT
Current job state&#58; Failed
Destroying job...Done.
Segmentation fault

Container.log output&#58;
---------------------
Nothing but normal authorizations.

=====================================
However, if I run where gsiftp is needed, I get
Client side output&#58;
--------------------
globusrun-ws -submit -F cms-xen1.fnal.gov&#58;9443 -Ft Fork -s -c
/usr/bin/whoami
Delegating user credentials...Done.
Submitting job...Done.
Job ID&#58; uuid&#58;61e2e50e-15b2-11db-9d3f-00163e010001
Termination time&#58; 07/18/2006 16&#58;36 GMT
Current job state&#58; Failed
Destroying job...Done.
Cleaning up any delegated credentials...Done.
Segmentation fault

Container.log output&#58;
---------------------
2006-07-17 11&#58;37&#58;19,997 ERROR service.TransferWork [Thread-73,run&#58;722]
Terminal transfer error&#58;
Error deleting a file
&#34;/home/osgtest/82415a4c-15b2-11db-a246-00163e010001.0.stdout&#34; [Caused
by&#58; Server refused performing the request. Custom message&#58; Server
refused deleting file (error code 1) [Nested exception message&#58;  Custom
message&#58; Unexpected reply&#58; 500-Command failed &#58;
globus_gridftp_server_file.c&#58;globus_l_gfs_file_delete&#58;724&#58;
500-System error in unlink&#58; No such file or directory
500-A system call failed&#58; No such file or directory
500 End.]]
Error deleting a file
&#34;/home/osgtest/82415a4c-15b2-11db-a246-00163e010001.0.stdout&#34;
. Caused by
org.globus.ftp.exception.ServerException&#58; Server refused performing the
request. Custom message&#58; Server refused deleting file (error code 1)
[Nested exception message&#58;  Custom message&#58; Unexpected reply&#58;
500-Command failed &#58;
globus_gridftp_server_file.c&#58;globus_l_gfs_file_delete&#58;724&#58;
500-System error in unlink&#58; No such file or directory
500-A system call failed&#58; No such file or directory
500 End.].  Nested exception is
org.globus.ftp.exception.UnexpectedReplyCodeException&#58;  Custom message&#58;
Unexpected reply&#58; 500-Command failed &#58;
globus_gridftp_server_file.c&#58;globus_l_gfs_file_delete&#58;724&#58;
500-System error in unlink&#58; No such file or directory
500-A system call failed&#58; No such file or directory
500 End.
at
org.globus.ftp.vanilla.FTPControlChannel.execute(FTPControlChannel.java&#58;328)
at org.globus.ftp.FTPClient.deleteFile(FTPClient.java&#58;253)
at
org.globus.transfer.reliable.service.DeleteClient.delete(DeleteClient.java&#58;189)
at
org.globus.transfer.reliable.service.TransferWork.run(TransferWork.java&#58;686)
at
org.globus.wsrf.impl.work.WorkManagerImpl$WorkWrapper.run(WorkManagerImpl.java&#58;345)
at java.lang.Thread.run(Thread.java&#58;534)

I&#39;m still trying to figure out if this is my problem, as I just
reconfigured cms-xen1 to install from 1.3.11 or if it is caused by your
change.

John Weigand

John

Alain Roy via RT wrote&#58;

<font color='#7F7E6F'>&#62;&#62;1) Now installing PRIMA-GT4 also installs all of Globus pre-web</font>
<font color='#7F7E6F'>&#62;&#62;services. I don&#39;t think that this is what we want... I&#39;ll think about</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;this.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;I just decided to remove PRIMA&#39;s depdendency on Globus-RM-Server. This</font>
<font color='#7F7E6F'>&#62;is good enough.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;-alain</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_366434212').click(function() {
            $('#detail_366434212').slideDown("normal");
            $('#show_366434212').hide();
            $('#hide_366434212').show();
        });
        $('#hide_366434212').click(function() {
            $('#detail_366434212').slideUp();
            $('#hide_366434212').hide();
            $('#show_366434212').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152916272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-14T22:31:12+00:00">Jul 14, 2006 10:31 PM UTC</time> by <b>VDT</b><a class="anchor" name="1152916272">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; 1) Now installing PRIMA-GT4 also installs all of Globus pre-web</font>
<font color='#7F7E6F'>&#62; services. I don&#39;t think that this is what we want... I&#39;ll think about</font>
this.

I just decided to remove PRIMA&#39;s depdendency on Globus-RM-Server. This
is good enough.

-alain

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='2196#1152915731'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-14T22:22:11+00:00">Jul 14, 2006 10:22 PM UTC</time> by <b>VDT</b><a class="anchor" name="1152915731">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; I should have waited a bit, I guess.  But I wasn&#39;t sure how long it</font>
<font color='#7F7E6F'>&#62; would take me to complete testing the various combinations of security</font>
<font color='#7F7E6F'>&#62; config settings to reduce the number of PRIMA/GUMS calls.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So here is the correct configure_prima_gt4.... ignore the previously</font>
<font color='#7F7E6F'>&#62; sent one.... it works but generates too many PRIMA/GUMS calls.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It is now down to 5 total.... 3 for web services  and 2 for any gsiftp</font>
<font color='#7F7E6F'>&#62; IO (stdout/err).  This is in place of the 12 previously being made.  It</font>
<font color='#7F7E6F'>&#62; appears there is some subtle caching that occurs on some of the services</font>
<font color='#7F7E6F'>&#62; running in the same thread as the primary service.  When  &#34;authz&#34; value</font>
<font color='#7F7E6F'>&#62; is set to &#34;gridmap&#34;, it uses the cache if it is available.  Anyway that</font>
<font color='#7F7E6F'>&#62; is the best I can tell for now.</font>

John,

I&#39;ve taken your updates into the VDT.

Somewhere else, you mentioned that PRIMA-GT4 needs PRIMA to be
installed, so I have made it dependent. Two notes related to this&#58;

1) Now installing PRIMA-GT4 also installs all of Globus pre-web
services. I don&#39;t think that this is what we want... I&#39;ll think about this.

2) If it can&#39;t find the shared library from PRIMA, it prints a funky
error message from ls. That&#39;s probably suboptimal. I don&#39;t know that
it&#39;s worth spending time on though.

If you can give this a shot, please do and let me know how it goes.

Thanks,
-alain

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So there are only 4 files that require modification&#58;</font>
<div id='show_10890024' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_10890024'><font color='#7F7E6F'>&#62;    ./etc/gram-service/managed-job-factory-security-config.xml</font>
<font color='#7F7E6F'>&#62;    ./etc/globus_delegation_service/factory-security-config.xml</font>
<font color='#7F7E6F'>&#62;    ./etc/globus_wsrf_rft/factory-security-config.xml</font>
<font color='#7F7E6F'>&#62;    ./etc/globus_wsrf_core/global_security_descriptor.xml</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The last one is the oddball... it is never invoked in any of the tests</font>
<font color='#7F7E6F'>&#62; I&#39;ve run... but if left as is</font>
<font color='#7F7E6F'>&#62; &#34;&#60;gridmap=/etc/grid-security/grid-mapfile&#34;/&#62;, the container will fail to</font>
<font color='#7F7E6F'>&#62; start unless the grid-mapfile exists (which it shouldn&#39;t if using</font>
<font color='#7F7E6F'>&#62; PRIMA/GUMS).  It can be set to either&#58;</font>
<font color='#7F7E6F'>&#62;    &#60;authz value=&#34;gridmap&#34;/&#62;</font>
<font color='#7F7E6F'>&#62;        or</font>
<font color='#7F7E6F'>&#62;    &#60;authz  value=&#34;osg&#58;org.opensciencegrid.authz.gt4.OSGAuthorization&#34;/&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I chose the later just to be safe. just to be sage.  I have no clue when</font>
<font color='#7F7E6F'>&#62; it is used however.  I have to figure that out.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; My guess is this will all change as/if this is used.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John Weigand</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John Weigand wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Alain / Tim</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; here&#39;s is an updated configure_prima_gt4.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; I notice it runs automatically in the installation process. I don&#39;t</font>
<font color='#7F7E6F'>&#62; &#62; think it should and actually the version I&#39;ve given you won&#39;t be able</font>
<font color='#7F7E6F'>&#62; &#62; to as it requires the GUMS server as an argument.</font>
<font color='#7F7E6F'>&#62; &#62; If it MUSTrun automatically, then the edit MUST be commented out or</font>
<font color='#7F7E6F'>&#62; &#62; removed.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; John</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Alain Roy via RT wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62; John,</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62; I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62; &#62;&#62; message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62; &#62;&#62; configure_prima_gt4 is much different now. It used to create the</font>
<font color='#7F7E6F'>&#62; &#62;&#62; configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62; &#62;&#62; directory and tell people to copy it if they want it. Now there are</font>
<font color='#7F7E6F'>&#62; &#62;&#62; three things it does. 1) At install time (with --install flag), just</font>
<font color='#7F7E6F'>&#62; &#62;&#62; print a message in the</font>
<font color='#7F7E6F'>&#62; &#62;&#62; post-install</font>
<font color='#7F7E6F'>&#62; &#62;&#62;   to tell people to run it by hand. 2) With --enable, do all the</font>
<font color='#7F7E6F'>&#62; &#62;&#62; configuration</font>
<font color='#7F7E6F'>&#62; &#62;&#62; 3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62; &#62;&#62; We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62; &#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62; One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62; &#62;&#62; prima no longer distributes</font>
<font color='#7F7E6F'>&#62; &#62;&#62; etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62; &#62;&#62; into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<font color='#7F7E6F'>&#62; &#62;&#62; shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62; The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62; &#62;&#62; have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62; &#62;&#62; If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62; &#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_10890024').click(function() {
            $('#detail_10890024').slideDown("normal");
            $('#show_10890024').hide();
            $('#hide_10890024').show();
        });
        $('#hide_10890024').click(function() {
            $('#detail_10890024').slideUp();
            $('#hide_10890024').hide();
            $('#show_10890024').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152915550'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-14T22:19:10+00:00">Jul 14, 2006 10:19 PM UTC</time> by <b>VDT</b><a class="anchor" name="1152915550">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; here&#39;s is an updated configure_prima_gt4.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I notice it runs automatically in the installation process.</font>
<font color='#7F7E6F'>&#62; I don&#39;t think it should and actually the version I&#39;ve given you won&#39;t</font>
<font color='#7F7E6F'>&#62; be</font>
<font color='#7F7E6F'>&#62; able to as it requires the GUMS server as an argument.</font>

John, it is run during the installation process, but it runs with the
--install flag. When this flag is given, it puts a message into the
post-install/README file, then quits. It does not enable PRIMA.

I&#39;ve used this trick in several places to make sure that I get a message
into the post-intsall/README for folks to read.

-alain

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='2196#1152814305'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-13T18:11:45+00:00">Jul 13, 2006 06:11 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1152814305">&nbsp;</a></div><pre>Burt,

Your update is only in the Footprints ticket once, which is good news. I can&#39;t get into the VDT ticket
system, RT, right now. I have been trying today with no luck. The site appears to timeout. I&#39;ll contact
Alain Roy and Tim Cartwright for information. --Tim</pre></div><div class='update_description'><i onclick="document.location='2196#1152734654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T20:04:14+00:00">Jul 12, 2006 08:04 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1152734654">&nbsp;</a></div><pre>Hi folks,

This is just a test to see if we get a double-entry in Footprints for
this particular ticket.</pre></div><div class='update_description'><i onclick="document.location='2196#1152732380'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T19:26:20+00:00">Jul 12, 2006 07:26 PM UTC</time> by <b>VDT</b><a class="anchor" name="1152732380">&nbsp;</a></div><pre>Alain / Tim

I should have waited a bit, I guess.  But I wasn&#39;t sure how long it
would take me to complete testing the various combinations of security
config settings to reduce the number of PRIMA/GUMS calls.

So here is the correct configure_prima_gt4.... ignore the previously
sent one.... it works but generates too many PRIMA/GUMS calls.

It is now down to 5 total.... 3 for web services  and 2 for any gsiftp
IO (stdout/err).  This is in place of the 12 previously being made.  It
appears there is some subtle caching that occurs on some of the services
running in the same thread as the primary service.  When  &#34;authz&#34; value
is set to &#34;gridmap&#34;, it uses the cache if it is available.  Anyway that
is the best I can tell for now.

So there are only 4 files that require modification&#58;
./etc/gram-service/managed-job-factory-security-config.xml
./etc/globus_delegation_service/factory-security-config.xml
./etc/globus_wsrf_rft/factory-security-config.xml
./etc/globus_wsrf_core/global_security_descriptor.xml

The last one is the oddball... it is never invoked in any of the tests
I&#39;ve run... but if left as is
&#34;&#60;gridmap=/etc/grid-security/grid-mapfile&#34;/&#62;, the container will fail to
start unless the grid-mapfile exists (which it shouldn&#39;t if using
PRIMA/GUMS).  It can be set to either&#58;
&#60;authz value=&#34;gridmap&#34;/&#62;
or
&#60;authz  value=&#34;osg&#58;org.opensciencegrid.authz.gt4.OSGAuthorization&#34;/&#62;

I chose the later just to be safe. just to be sage.  I have no clue when
it is used however.  I have to figure that out.

My guess is this will all change as/if this is used.
<div id='show_91700072' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_91700072'>
John Weigand

John Weigand wrote&#58;

<font color='#7F7E6F'>&#62; Alain / Tim</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; here&#39;s is an updated configure_prima_gt4.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I notice it runs automatically in the installation process. I don&#39;t</font>
<font color='#7F7E6F'>&#62; think it should and actually the version I&#39;ve given you won&#39;t be able</font>
<font color='#7F7E6F'>&#62; to as it requires the GUMS server as an argument.</font>
<font color='#7F7E6F'>&#62; If it MUSTrun automatically, then the edit MUST be commented out or</font>
<font color='#7F7E6F'>&#62; removed.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Alain Roy via RT wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; John,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62;&#62; message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62; configure_prima_gt4 is much different now. It used to create the</font>
<font color='#7F7E6F'>&#62;&#62; configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62;&#62; directory and tell people to copy it if they want it. Now there are</font>
<font color='#7F7E6F'>&#62;&#62; three things it does. 1) At install time (with --install flag), just</font>
<font color='#7F7E6F'>&#62;&#62; print a message in the</font>
<font color='#7F7E6F'>&#62;&#62; post-install</font>
<font color='#7F7E6F'>&#62;&#62;   to tell people to run it by hand. 2) With --enable, do all the</font>
<font color='#7F7E6F'>&#62;&#62; configuration</font>
<font color='#7F7E6F'>&#62;&#62; 3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62;&#62; We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62;&#62; prima no longer distributes</font>
<font color='#7F7E6F'>&#62;&#62; etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62;&#62; into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<font color='#7F7E6F'>&#62;&#62; shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62;&#62; have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62;&#62; If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_91700072').click(function() {
            $('#detail_91700072').slideDown("normal");
            $('#show_91700072').hide();
            $('#hide_91700072').show();
        });
        $('#hide_91700072').click(function() {
            $('#detail_91700072').slideUp();
            $('#hide_91700072').hide();
            $('#show_91700072').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152732370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T19:26:10+00:00">Jul 12, 2006 07:26 PM UTC</time> by <b>VDT</b><a class="anchor" name="1152732370">&nbsp;</a></div><pre>Alain / Tim

I should have waited a bit, I guess.  But I wasn&#39;t sure how long it
would take me to complete testing the various combinations of security
config settings to reduce the number of PRIMA/GUMS calls.

So here is the correct configure_prima_gt4.... ignore the previously
sent one.... it works but generates too many PRIMA/GUMS calls.

It is now down to 5 total.... 3 for web services  and 2 for any gsiftp
IO (stdout/err).  This is in place of the 12 previously being made.  It
appears there is some subtle caching that occurs on some of the services
running in the same thread as the primary service.  When  &#34;authz&#34; value
is set to &#34;gridmap&#34;, it uses the cache if it is available.  Anyway that
is the best I can tell for now.

So there are only 4 files that require modification&#58;
./etc/gram-service/managed-job-factory-security-config.xml
./etc/globus_delegation_service/factory-security-config.xml
./etc/globus_wsrf_rft/factory-security-config.xml
./etc/globus_wsrf_core/global_security_descriptor.xml

The last one is the oddball... it is never invoked in any of the tests
I&#39;ve run... but if left as is
&#34;&#60;gridmap=/etc/grid-security/grid-mapfile&#34;/&#62;, the container will fail to
start unless the grid-mapfile exists (which it shouldn&#39;t if using
PRIMA/GUMS).  It can be set to either&#58;
&#60;authz value=&#34;gridmap&#34;/&#62;
or
&#60;authz  value=&#34;osg&#58;org.opensciencegrid.authz.gt4.OSGAuthorization&#34;/&#62;

I chose the later just to be safe. just to be sage.  I have no clue when
it is used however.  I have to figure that out.

My guess is this will all change as/if this is used.
<div id='show_848857715' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_848857715'>
John Weigand

John Weigand wrote&#58;

<font color='#7F7E6F'>&#62; Alain / Tim</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; here&#39;s is an updated configure_prima_gt4.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I notice it runs automatically in the installation process. I don&#39;t</font>
<font color='#7F7E6F'>&#62; think it should and actually the version I&#39;ve given you won&#39;t be able</font>
<font color='#7F7E6F'>&#62; to as it requires the GUMS server as an argument.</font>
<font color='#7F7E6F'>&#62; If it MUSTrun automatically, then the edit MUST be commented out or</font>
<font color='#7F7E6F'>&#62; removed.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Alain Roy via RT wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; John,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62;&#62; message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62; configure_prima_gt4 is much different now. It used to create the</font>
<font color='#7F7E6F'>&#62;&#62; configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62;&#62; directory and tell people to copy it if they want it. Now there are</font>
<font color='#7F7E6F'>&#62;&#62; three things it does. 1) At install time (with --install flag), just</font>
<font color='#7F7E6F'>&#62;&#62; print a message in the</font>
<font color='#7F7E6F'>&#62;&#62; post-install</font>
<font color='#7F7E6F'>&#62;&#62;   to tell people to run it by hand. 2) With --enable, do all the</font>
<font color='#7F7E6F'>&#62;&#62; configuration</font>
<font color='#7F7E6F'>&#62;&#62; 3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62;&#62; We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62;&#62; prima no longer distributes</font>
<font color='#7F7E6F'>&#62;&#62; etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62;&#62; into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<font color='#7F7E6F'>&#62;&#62; shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62;&#62; have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62;&#62; If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_848857715').click(function() {
            $('#detail_848857715').slideDown("normal");
            $('#show_848857715').hide();
            $('#hide_848857715').show();
        });
        $('#hide_848857715').click(function() {
            $('#detail_848857715').slideUp();
            $('#hide_848857715').hide();
            $('#show_848857715').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152732362'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T19:26:02+00:00">Jul 12, 2006 07:26 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1152732362">&nbsp;</a></div><pre>Alain / Tim

I should have waited a bit, I guess.  But I wasn&#39;t sure how long it
would take me to complete testing the various combinations of security
config settings to reduce the number of PRIMA/GUMS calls.

So here is the correct configure_prima_gt4.... ignore the previously
sent one.... it works but generates too many PRIMA/GUMS calls.

It is now down to 5 total.... 3 for web services  and 2 for any gsiftp
IO (stdout/err).  This is in place of the 12 previously being made.  It
appears there is some subtle caching that occurs on some of the services
running in the same thread as the primary service.  When  &#34;authz&#34; value
is set to &#34;gridmap&#34;, it uses the cache if it is available.  Anyway that
is the best I can tell for now.

So there are only 4 files that require modification&#58;
./etc/gram-service/managed-job-factory-security-config.xml
./etc/globus_delegation_service/factory-security-config.xml
./etc/globus_wsrf_rft/factory-security-config.xml
./etc/globus_wsrf_core/global_security_descriptor.xml

The last one is the oddball... it is never invoked in any of the tests
I&#39;ve run... but if left as is
&#34;&#60;gridmap=/etc/grid-security/grid-mapfile&#34;/&#62;, the container will fail to
start unless the grid-mapfile exists (which it shouldn&#39;t if using
PRIMA/GUMS).  It can be set to either&#58;
&#60;authz value=&#34;gridmap&#34;/&#62;
or
&#60;authz  value=&#34;osg&#58;org.opensciencegrid.authz.gt4.OSGAuthorization&#34;/&#62;

I chose the later just to be safe. just to be sage.  I have no clue when
it is used however.  I have to figure that out.

My guess is this will all change as/if this is used.
<div id='show_1514153999' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1514153999'>
John Weigand

John Weigand wrote&#58;

<font color='#7F7E6F'>&#62; Alain / Tim</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; here&#39;s is an updated configure_prima_gt4.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I notice it runs automatically in the installation process. I don&#39;t</font>
<font color='#7F7E6F'>&#62; think it should and actually the version I&#39;ve given you won&#39;t be able</font>
<font color='#7F7E6F'>&#62; to as it requires the GUMS server as an argument.</font>
<font color='#7F7E6F'>&#62; If it MUSTrun automatically, then the edit MUST be commented out or</font>
<font color='#7F7E6F'>&#62; removed.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Alain Roy via RT wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; John,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62;&#62; message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62; configure_prima_gt4 is much different now. It used to create the</font>
<font color='#7F7E6F'>&#62;&#62; configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62;&#62; directory and tell people to copy it if they want it. Now there are</font>
<font color='#7F7E6F'>&#62;&#62; three things it does. 1) At install time (with --install flag), just</font>
<font color='#7F7E6F'>&#62;&#62; print a message in the</font>
<font color='#7F7E6F'>&#62;&#62; post-install</font>
<font color='#7F7E6F'>&#62;&#62;   to tell people to run it by hand. 2) With --enable, do all the</font>
<font color='#7F7E6F'>&#62;&#62; configuration</font>
<font color='#7F7E6F'>&#62;&#62; 3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62;&#62; We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62;&#62; prima no longer distributes</font>
<font color='#7F7E6F'>&#62;&#62; etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62;&#62; into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<font color='#7F7E6F'>&#62;&#62; shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62;&#62; have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62;&#62; If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
</div><script type='text/javascript'>
        $('#show_1514153999').click(function() {
            $('#detail_1514153999').slideDown("normal");
            $('#show_1514153999').hide();
            $('#hide_1514153999').show();
        });
        $('#hide_1514153999').click(function() {
            $('#detail_1514153999').slideUp();
            $('#hide_1514153999').hide();
            $('#show_1514153999').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152732350'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T19:25:50+00:00">Jul 12, 2006 07:25 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1152732350">&nbsp;</a></div><pre>Alain / Tim

I should have waited a bit, I guess.  But I wasn&#39;t sure how long it
would take me to complete testing the various combinations of security
config settings to reduce the number of PRIMA/GUMS calls.

So here is the correct configure_prima_gt4.... ignore the previously
sent one.... it works but generates too many PRIMA/GUMS calls.

It is now down to 5 total.... 3 for web services  and 2 for any gsiftp
IO (stdout/err).  This is in place of the 12 previously being made.  It
appears there is some subtle caching that occurs on some of the services
running in the same thread as the primary service.  When  &#34;authz&#34; value
is set to &#34;gridmap&#34;, it uses the cache if it is available.  Anyway that
is the best I can tell for now.

So there are only 4 files that require modification&#58;
./etc/gram-service/managed-job-factory-security-config.xml
./etc/globus_delegation_service/factory-security-config.xml
./etc/globus_wsrf_rft/factory-security-config.xml
./etc/globus_wsrf_core/global_security_descriptor.xml

The last one is the oddball... it is never invoked in any of the tests
I&#39;ve run... but if left as is
&#34;&#60;gridmap=/etc/grid-security/grid-mapfile&#34;/&#62;, the container will fail to
start unless the grid-mapfile exists (which it shouldn&#39;t if using
PRIMA/GUMS).  It can be set to either&#58;
&#60;authz value=&#34;gridmap&#34;/&#62;
or
&#60;authz  value=&#34;osg&#58;org.opensciencegrid.authz.gt4.OSGAuthorization&#34;/&#62;

I chose the later just to be safe. just to be sage.  I have no clue when
it is used however.  I have to figure that out.

My guess is this will all change as/if this is used.
<div id='show_710898657' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_710898657'>
John Weigand

John Weigand wrote&#58;

<font color='#7F7E6F'>&#62; Alain / Tim</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; here&#39;s is an updated configure_prima_gt4.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I notice it runs automatically in the installation process. I don&#39;t</font>
<font color='#7F7E6F'>&#62; think it should and actually the version I&#39;ve given you won&#39;t be able</font>
<font color='#7F7E6F'>&#62; to as it requires the GUMS server as an argument.</font>
<font color='#7F7E6F'>&#62; If it MUSTrun automatically, then the edit MUST be commented out or</font>
<font color='#7F7E6F'>&#62; removed.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Alain Roy via RT wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; John,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62;&#62; message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62; configure_prima_gt4 is much different now. It used to create the</font>
<font color='#7F7E6F'>&#62;&#62; configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62;&#62; directory and tell people to copy it if they want it. Now there are</font>
<font color='#7F7E6F'>&#62;&#62; three things it does. 1) At install time (with --install flag), just</font>
<font color='#7F7E6F'>&#62;&#62; print a message in the</font>
<font color='#7F7E6F'>&#62;&#62; post-install</font>
<font color='#7F7E6F'>&#62;&#62;   to tell people to run it by hand. 2) With --enable, do all the</font>
<font color='#7F7E6F'>&#62;&#62; configuration</font>
<font color='#7F7E6F'>&#62;&#62; 3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62;&#62; We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62;&#62; ---------------------------</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62;&#62; prima no longer distributes</font>
<font color='#7F7E6F'>&#62;&#62; etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62;&#62; into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<font color='#7F7E6F'>&#62;&#62; shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62;&#62; have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62;&#62; If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
</div><script type='text/javascript'>
        $('#show_710898657').click(function() {
            $('#detail_710898657').slideDown("normal");
            $('#show_710898657').hide();
            $('#hide_710898657').show();
        });
        $('#hide_710898657').click(function() {
            $('#detail_710898657').slideUp();
            $('#hide_710898657').hide();
            $('#show_710898657').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152717581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T15:19:41+00:00">Jul 12, 2006 03:19 PM UTC</time> by <b>VDT</b><a class="anchor" name="1152717581">&nbsp;</a></div><pre>Alain / Tim

here&#39;s is an updated configure_prima_gt4.

I notice it runs automatically in the installation process.
I don&#39;t think it should and actually the version I&#39;ve given you won&#39;t be
able to as it requires the GUMS server as an argument.
If it MUSTrun automatically, then the edit MUST be commented out or removed.

John

Alain Roy via RT wrote&#58;

<font color='#7F7E6F'>&#62;John,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62;message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;---------------------------</font>
<font color='#7F7E6F'>&#62;configure_prima_gt4 is much different now.</font>
<font color='#7F7E6F'>&#62;It used to create the configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62;directory and tell people to copy it if they want it.</font>
<font color='#7F7E6F'>&#62;Now there are three things it does.</font>
<font color='#7F7E6F'>&#62;1) At install time (with --install flag), just print a message in the</font>
<font color='#7F7E6F'>&#62;post-install</font>
<font color='#7F7E6F'>&#62;   to tell people to run it by hand.</font>
<font color='#7F7E6F'>&#62;2) With --enable, do all the configuration</font>
<font color='#7F7E6F'>&#62;3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62;We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62;---------------------------</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62;prima no longer distributes</font>
<font color='#7F7E6F'>&#62;etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62;into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<div id='show_1543507970' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1543507970'><font color='#7F7E6F'>&#62;shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62;have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
View ticket at &#60;<a href='http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/rt/Ticket/Display.html?user=guest&pass=guest&id=1899&#62</a>;
VDT Support, vdt-support@....
</div><script type='text/javascript'>
        $('#show_1543507970').click(function() {
            $('#detail_1543507970').slideDown("normal");
            $('#show_1543507970').hide();
            $('#hide_1543507970').show();
        });
        $('#hide_1543507970').click(function() {
            $('#detail_1543507970').slideUp();
            $('#hide_1543507970').hide();
            $('#show_1543507970').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152717071'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T15:11:11+00:00">Jul 12, 2006 03:11 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1152717071">&nbsp;</a></div><pre>Alain / Tim

here&#39;s is an updated configure_prima_gt4.

I notice it runs automatically in the installation process.
I don&#39;t think it should and actually the version I&#39;ve given you won&#39;t be
able to as it requires the GUMS server as an argument.
If it MUSTrun automatically, then the edit MUST be commented out or removed.

John

Alain Roy via RT wrote&#58;

<font color='#7F7E6F'>&#62;John,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit</font>
<font color='#7F7E6F'>&#62;message, which I think explains it fully&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;---------------------------</font>
<font color='#7F7E6F'>&#62;configure_prima_gt4 is much different now.</font>
<font color='#7F7E6F'>&#62;It used to create the configuration stuff, but leave it in the post-install</font>
<font color='#7F7E6F'>&#62;directory and tell people to copy it if they want it.</font>
<font color='#7F7E6F'>&#62;Now there are three things it does.</font>
<font color='#7F7E6F'>&#62;1) At install time (with --install flag), just print a message in the</font>
<font color='#7F7E6F'>&#62;post-install</font>
<font color='#7F7E6F'>&#62;   to tell people to run it by hand.</font>
<font color='#7F7E6F'>&#62;2) With --enable, do all the configuration</font>
<font color='#7F7E6F'>&#62;3) With --disable, undo all the configuration</font>
<font color='#7F7E6F'>&#62;We also now edit many more security configuration files.</font>
<font color='#7F7E6F'>&#62;---------------------------</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;One request&#58; can you work with the other GT4 PRIMA guys so that GT4</font>
<font color='#7F7E6F'>&#62;prima no longer distributes</font>
<font color='#7F7E6F'>&#62;etc/gram-service/managed-job-factory-security-config.xml? We drop that</font>
<font color='#7F7E6F'>&#62;into the Globus directory, and it will half-configure GT4 PRIMA when it</font>
<div id='show_1804542346' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1804542346'><font color='#7F7E6F'>&#62;shouldn&#39;t. h</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;The upshot of this is that you get all the configuration, but people</font>
<font color='#7F7E6F'>&#62;have to run configure_prima_gt4 --enable to get it.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;If you can try this out in VDT 1.3.11, that would be great.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1804542346').click(function() {
            $('#detail_1804542346').slideDown("normal");
            $('#show_1804542346').hide();
            $('#hide_1804542346').show();
        });
        $('#hide_1804542346').click(function() {
            $('#detail_1804542346').slideUp();
            $('#hide_1804542346').hide();
            $('#show_1804542346').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1152318071'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-08T00:21:11+00:00">Jul 8, 2006 12:21 AM UTC</time> by <b>VDT</b><a class="anchor" name="1152318071">&nbsp;</a></div><pre>John,

I&#39;ve updated configure_prima significantly. Here&#39;s my CVS commit
message, which I think explains it fully&#58;

---------------------------
configure_prima_gt4 is much different now.
It used to create the configuration stuff, but leave it in the post-install
directory and tell people to copy it if they want it.
Now there are three things it does.
1) At install time (with --install flag), just print a message in the
post-install
to tell people to run it by hand.
2) With --enable, do all the configuration
3) With --disable, undo all the configuration
We also now edit many more security configuration files.
---------------------------

One request&#58; can you work with the other GT4 PRIMA guys so that GT4
prima no longer distributes
etc/gram-service/managed-job-factory-security-config.xml? We drop that
into the Globus directory, and it will half-configure GT4 PRIMA when it
shouldn&#39;t. h

The upshot of this is that you get all the configuration, but people
have to run configure_prima_gt4 --enable to get it.

If you can try this out in VDT 1.3.11, that would be great.</pre></div><div class='update_description'><i onclick="document.location='2196#1152250213'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-07T05:30:13+00:00">Jul 7, 2006 05:30 AM UTC</time> by <b>VDT</b><a class="anchor" name="1152250213">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; The ./vdt/setup/configure-prima-gt4 script modifies only 1 web services</font>
<font color='#7F7E6F'>&#62; security xml configuration file.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have found there to be 15 configuration files with hardcoded</font>
<font color='#7F7E6F'>&#62; references</font>
<font color='#7F7E6F'>&#62; for use of the grid-mapfile (included in this list, is the one</font>
<font color='#7F7E6F'>&#62; modified by</font>
<font color='#7F7E6F'>&#62; the configure-prima-gt4 script)&#58;</font>

Hi John and GOC,

We&#39;ll try to do this for VDT 1.3.11, but no promises&#58; we&#39;re a bit backed
up on this release right now. If not 1.3.11, then 1.3.12.

Thanks,
-alain</pre></div><div class='update_description'><i onclick="document.location='2196#1152207075'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-06T17:31:15+00:00">Jul 6, 2006 05:31 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1152207075">&nbsp;</a></div><pre>Updated Title of GOC ticket to now include the VDT ticket number.</pre></div><div class='update_description'><i onclick="document.location='2196#1152192191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-06T13:23:11+00:00">Jul 6, 2006 01:23 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1152192191">&nbsp;</a></div><pre>After further testing, the changes only need to be made to these
configuration files for web services to work with gt4prima&#58;

globus_delegation_service/service-security-config.xml
globus_delegation_service/factory-security-config.xml

globus_wsrf_core/global_security_descriptor.xml

globus_wsrf_mds_index/factory-security-config.xml
globus_wsrf_mds_index/index-security-config.xml
globus_wsrf_mds_index/index-security-config.xml

globus_wsrf_rft/security-config.xml
globus_wsrf_rft/factory-security-config.xml

gram-service/managed-job-factory-security-config.xml
gram-service/managed-job-security-config.xml

I&#39;ve also documented the installation process here for both gridmap and
gt4prima authorization....
<a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~weigand/globus-ws/installation/installation.html

this is based on OSG 0.4.1.

John Weigand

Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2196#1152129670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-05T20:01:10+00:00">Jul 5, 2006 08:01 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1152129670">&nbsp;</a></div><pre>VDT Support,

Hi. Please create a ticket for the following issue reported by John
Weigand at FNAL. Once I receive the auto-reply from RT I&#39;ll add the
VDT ticket number to the title of the ticket in Footprints here at
the GOC, preventing any looping.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a>

============================
In OSG 0.4.1/VDT 1.3.10&#58;

The ./vdt/setup/configure-prima-gt4 script modifies only 1 web services
security xml configuration file.

I have found there to be 15 configuration files with hardcoded
references
for use of the grid-mapfile (included in this list, is the one
modified by
the configure-prima-gt4 script)&#58;
./etc/gram-service/managed-job-factory-security-config.xml
./etc/gram-service/managed-job-security-config.xml
./etc/globus_delegation_service/factory-security-config.xml
./etc/globus_delegation_service/service-security-config.xml
./etc/globus_delegation_test/test-security-config.xml
./etc/globus_wsrf_core/global_security_descriptor.xml
./etc/globus_wsrf_mds_index/factory-security-config.xml
./etc/globus_wsrf_mds_index/index-security-config.xml
./etc/globus_wsrf_rft/factory-security-config.xml
./etc/globus_wsrf_rft/security-config.xml
<div id='show_824530429' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_824530429'>./etc/globus_wsrf_core_samples_counter/security-config.xml
./etc/globus_wsrf_core_samples_mgmt/security-config.xml
./etc/globus_wsrf_test_unit/security-config.xml
./etc/globus_wsrf_test_unit/identity-security-config.xml

Granted, some of these are &#39;samples&#39; or &#39;test&#39; services, but if a
site is
going to use the OSGAuthorization service then they should all be
changed.

A more detailed list (with the necessary changes) can be found at&#58;
<a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~weigand/globus-ws/config-xml.shtml

These are all the ones I could find that had explicit references to the
grid-mapfile and I hope there are not any more hidden ones.

Two other items related to this script&#58;

1. The script currently does not restart the globus-ws container. It
probably should or, at least, tell you that the container need to be
restarted.

2. Under pre-ws globus using prima, it never hurt for the grid-
mapfile to
exist as it was never accessed. With ws using gt4prima, it may not be a
bad idea to, at the least, rename the grid-mapfile in the event there
ARE
other references.
</div><script type='text/javascript'>
        $('#show_824530429').click(function() {
            $('#detail_824530429').slideDown("normal");
            $('#show_824530429').hide();
            $('#hide_824530429').show();
        });
        $('#hide_824530429').click(function() {
            $('#detail_824530429').slideUp();
            $('#hide_824530429').hide();
            $('#show_824530429').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2196#1151599818'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-06-29T16:50:18+00:00">Jun 29, 2006 04:50 PM UTC</time> by <b>Footprints Remedy</b><a class="anchor" name="1151599818">&nbsp;</a></div><pre>Short Description=OSG 0.4.1/VDT 1.3.10 configure-prima-gt4

Status=Service Desk

In OSG 0.4.1/VDT 1.3.10&#58;

The ./vdt/setup/configure-prima-gt4 script modifies only 1 web services
security xml configuration file.

I have found there to be 15 configuration files with hardcoded references
for use of the grid-mapfile (included in this list, is the one modified by
the configure-prima-gt4 script)&#58;
./etc/gram-service/managed-job-factory-security-config.xml
./etc/gram-service/managed-job-security-config.xml
./etc/globus_delegation_service/factory-security-config.xml
./etc/globus_delegation_service/service-security-config.xml
./etc/globus_delegation_test/test-security-config.xml
./etc/globus_wsrf_core/global_security_descriptor.xml
./etc/globus_wsrf_mds_index/factory-security-config.xml
./etc/globus_wsrf_mds_index/index-security-config.xml
./etc/globus_wsrf_rft/factory-security-config.xml
./etc/globus_wsrf_rft/security-config.xml
./etc/globus_wsrf_core_samples_counter/security-config.xml
./etc/globus_wsrf_core_samples_mgmt/security-config.xml
./etc/globus_wsrf_test_unit/security-config.xml
./etc/globus_wsrf_test_unit/identity-security-config.xml

Granted, some of these are &#39;samples&#39; or &#39;test&#39; services, but if a site is
going to use the OSGAuthorization service then they should all be changed.

A more detailed list (with the necessary changes) can be found at&#58;
<a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~weigand/globus-ws/config-xml.shtml

These are all the ones I could find that had explicit references to the
grid-mapfile and I hope there are not any more hidden ones.
<div id='show_1072655356' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1072655356'>
Two other items related to this script&#58;

1. The script currently does not restart the globus-ws container.  It
probably should or, at least, tell you that the container need to be
restarted.

2. Under pre-ws globus using prima, it never hurt for the grid-mapfile to
exist as it was never accessed.  With ws using gt4prima, it may not be a
bad idea to, at the least, rename the grid-mapfile in the event there ARE
other references.
</div><script type='text/javascript'>
        $('#show_1072655356').click(function() {
            $('#detail_1072655356').slideDown("normal");
            $('#show_1072655356').hide();
            $('#hide_1072655356').show();
        });
        $('#hide_1072655356').click(function() {
            $('#detail_1072655356').slideUp();
            $('#hide_1072655356').hide();
            $('#show_1072655356').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2196">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
