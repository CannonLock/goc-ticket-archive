<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[8141] Bug Report - RSV Proxy bug when using service certificates</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=8141" method="post">
<div class="page-header">
    <h3><span class="muted">8141</span> / Bug Report - RSV Proxy bug when using service certificates</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Anthony Tiradani</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-04-05</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/8141", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='8141#1297107131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-07T19:32:11+00:00">Feb 7, 2011 07:32 PM UTC</time> by <b>VDT</b><a class="anchor" name="1297107131">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1297106950'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-07T19:29:10+00:00">Feb 7, 2011 07:29 PM UTC</time> by <b>VDT</b><a class="anchor" name="1297106950">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1297106767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-07T19:26:07+00:00">Feb 7, 2011 07:26 PM UTC</time> by <b>VDT</b><a class="anchor" name="1297106767">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1297106586'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-07T19:23:06+00:00">Feb 7, 2011 07:23 PM UTC</time> by <b>VDT</b><a class="anchor" name="1297106586">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1297106407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-07T19:20:07+00:00">Feb 7, 2011 07:20 PM UTC</time> by <b>VDT</b><a class="anchor" name="1297106407">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1297106227'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-02-07T19:17:07+00:00">Feb 7, 2011 07:17 PM UTC</time> by <b>VDT</b><a class="anchor" name="1297106227">&nbsp;</a></div><pre>Hello,
This bug has been fixed.  The new RSV will automatically renew the service
certificate proxy if the lifetime is short.

I&#39;ve sent Anthony the details on this in the past.  If he wants to discuss
this further I can talk with him.

Thanks,
scot

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1285177269'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-22T17:41:09+00:00">Sep 22, 2010 05:41 PM UTC</time> by <b>VDT</b><a class="anchor" name="1285177269">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1285177086'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-22T17:38:06+00:00">Sep 22, 2010 05:38 PM UTC</time> by <b>VDT</b><a class="anchor" name="1285177086">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1285176906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-22T17:35:06+00:00">Sep 22, 2010 05:35 PM UTC</time> by <b>VDT</b><a class="anchor" name="1285176906">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1285176728'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-22T17:32:08+00:00">Sep 22, 2010 05:32 PM UTC</time> by <b>VDT</b><a class="anchor" name="1285176728">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1285176547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-22T17:29:07+00:00">Sep 22, 2010 05:29 PM UTC</time> by <b>VDT</b><a class="anchor" name="1285176547">&nbsp;</a></div><pre>[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1285176367'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-22T17:26:07+00:00">Sep 22, 2010 05:26 PM UTC</time> by <b>VDT</b><a class="anchor" name="1285176367">&nbsp;</a></div><pre>Tony,
I&#39;ve addressed the issue of service certificate proxies expiring in the
upcoming version of RSV.

Before running each metric the RSV infrastructure will check on the
lifetime of the service proxy.  If it is less than 6 hours, it will
regenerate a proxy with a lifetime of 12 hours.

There will no longer be an independent Condor-cron job to regenerate the
proxy since it will be validated before each metric runs.

We expect to have a pre-release of this version of RSV in the near
future.  You&#39;re welcome to test it at that time.  If you&#39;re interested
I&#39;ll email you when it&#39;s ready.

Thanks,
scot

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1269277555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-22T17:05:55+00:00">Mar 22, 2010 05:05 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1269277555">&nbsp;</a></div><pre>Cool - thanks! Closing. --ag</pre></div><div class='update_description'><i onclick="document.location='8141#1269267787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-22T14:23:07+00:00">Mar 22, 2010 02:23 PM UTC</time> by <b>VDT</b><a class="anchor" name="1269267787">&nbsp;</a></div><pre>On Mar 22, 2010, at 8&#58;15 AM, osg@.... via RT wrote&#58;
<font color='#7F7E6F'>&#62; Can we close this GOC ticket? I will be happy to ping TOny and Alain when this update is made, and is ready to be tested. We do this all the time (i.e making a note to ping original customer within our JIRA ticket, and then pinging). --ag</font>

Sounds fine to me.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1269263660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-22T13:14:20+00:00">Mar 22, 2010 01:14 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1269263660">&nbsp;</a></div><pre>Can we close this GOC ticket? I will be happy to ping TOny and Alain when this update is made, and is ready to be tested. We do this all the time (i.e making a note to ping original customer within our JIRA ticket, and then pinging). --ag</pre></div><div class='update_description'><i onclick="document.location='8141#1269025506'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-19T19:05:06+00:00">Mar 19, 2010 07:05 PM UTC</time> by <b>VDT</b><a class="anchor" name="1269025506">&nbsp;</a></div><pre>On Mar 19, 2010, at 12&#58;52 PM, osg@.... via RT wrote&#58;
<font color='#7F7E6F'>&#62; Because of licensing we have a very limited JIRA instance, so there is internal use only. I provide a spreadsheet summary to OSG management twice a week, if you&#39;d like a copy I&#39;ll send one your way.</font>

Nah, I think it&#39;s okay. Thanks.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1269021109'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-19T17:51:49+00:00">Mar 19, 2010 05:51 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1269021109">&nbsp;</a></div><pre>BTW the JIRA ticket at the GOC is MISC-39.</pre></div><div class='update_description'><i onclick="document.location='8141#1269021069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-19T17:51:09+00:00">Mar 19, 2010 05:51 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1269021069">&nbsp;</a></div><pre>Alain,

Because of licensing we have a very limited JIRA instance, so there is internal use only. I provide a spreadsheet summary to OSG management twice a week, if you&#39;d like a copy I&#39;ll send one your way.

Rob</pre></div><div class='update_description'><i onclick="document.location='8141#1268933346'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-18T17:29:06+00:00">Mar 18, 2010 05:29 PM UTC</time> by <b>VDT</b><a class="anchor" name="1268933346">&nbsp;</a></div><pre>On Mar 17, 2010, at 8&#58;18 AM, osg@.... via RT wrote&#58;
<font color='#7F7E6F'>&#62; I&#39;m going to create a JIRA ticket on this issue. The GOC will do this work, but not immediately as we are preparing for a production service update, look for action starting in April. I&#39;ll set the NAD accordingly.</font>

Wonderful, thank you!

I&#39;m not aware of your JIRA tracker. Is this something I should use to follow the ticket, or is it just for your internal use? If it is something I can follow, where do I find it?

Thanks,
-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1268831852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-17T13:17:32+00:00">Mar 17, 2010 01:17 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1268831852">&nbsp;</a></div><pre>I&#39;m going to create a JIRA ticket on this issue. The GOC will do this work, but not immediately as we are preparing for a production service update, look for action starting in April. I&#39;ll set the NAD accordingly.</pre></div><div class='update_description'><i onclick="document.location='8141#1268674990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-15T17:43:10+00:00">Mar 15, 2010 05:43 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1268674990">&nbsp;</a></div><pre>I&#39;ve talked with Alain Roy about this issue. I&#39;ll be discussing it internally with the GOC developers this week.</pre></div><div class='update_description'><i onclick="document.location='8141#1267816149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-03-05T19:09:09+00:00">Mar 5, 2010 07:09 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1267816149">&nbsp;</a></div><pre>I plan on taking this one up with Alain at the AHM. Changing assignment from Chris to me.</pre></div><div class='update_description'><i onclick="document.location='8141#1267207155'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-26T17:59:15+00:00">Feb 26, 2010 05:59 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1267207155">&nbsp;</a></div><pre>Alain,

Are there any updates on this issue?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='8141#1266614949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T21:29:09+00:00">Feb 19, 2010 09:29 PM UTC</time> by <b>VDT</b><a class="anchor" name="1266614949">&nbsp;</a></div><pre>Yes Tony, that helps.

Given that proxy renewal is easy (service certificates need no password), I wonder if the best thing to do is to generate the proxy immediately before running an RSV metric.

Hmmm... I&#39;ll talk it over with folks and see what we can do. I agree that you shouldn&#39;t have to be worried about the renewal of the service certificate proxies.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1266613506'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T21:05:06+00:00">Feb 19, 2010 09:05 PM UTC</time> by <b>Anthony Tiradani</b><a class="anchor" name="1266613506">&nbsp;</a></div><pre>Hi Alain,

We ran into this problem after the recent power outage at Fermi.  The
RSV server was down during the next scheduled renewal.  It was brought
up and began monitoring and showing success.  But, since it wasn&#39;t
renewed the second time it began to show failures around 10pm.  Catalin
was notified and had to log in and manually renew the proxy.  This was
somewhat of a surprise since we &#34;aren&#39;t supposed to&#34; have to worry about
proxies.

I suppose there are 3 (maybe more) ways to go about fixing this.
1) increase the proxy lifetime so that a one day downtime won&#39;t cause
problems.
2) increase the frequency of renewals
3) increase the frequency of renewals and refuse to to submit with a
proxy that has a remaining lifetime less than the renewal interval.

I kind of like #3 since it would cover the case where the server goes
down, the renewal is missed.  When the server is brought back up, the
tests will not show green until the proxy is renewed then.  That way an
admin will not be led to believe that all is good.

Hope this explains the situation?

Anthony Tiradani

On 02/19/2010 02&#58;44 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8141#1266612247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T20:44:07+00:00">Feb 19, 2010 08:44 PM UTC</time> by <b>VDT</b><a class="anchor" name="1266612247">&nbsp;</a></div><pre>Tony,

I&#39;m a bit worried about the failing of the proxy generation. I&#39;d like to understand that as well. Is this happening frequently to you? Do you understand why it&#39;s happening?

I spoke a bit with Mine Altunay, the OSG Security Officer. She has some concerns about making a longer-lived proxy. I think we can sort them out, but give us a bit of time to discuss it.

Thanks,
-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1266603966'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T18:26:06+00:00">Feb 19, 2010 06:26 PM UTC</time> by <b>VDT</b><a class="anchor" name="1266603966">&nbsp;</a></div><pre>Hi Tony,

I&#39;m looking into it. I want to make sure I have the technical details
right--I thought the service certificates didn&#39;t need a proxy, so I&#39;m a
bit confused. Let me double-check what is going on.

In addition, there are some restrictions in how people are allowed to
use service certificates. I&#39;ll ask around and get back to you soon.

-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='8141#1266603787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T18:23:07+00:00">Feb 19, 2010 06:23 PM UTC</time> by <b>VDT</b><a class="anchor" name="1266603787">&nbsp;</a></div><pre>Greetings from the VDT support system!

This message was generated automatically in response to the creation of a
ticket regarding&#58;

[vdt-support #-1] Open Science Grid&#58; Bug Report - RSV Proxy bug when using service certificates ISSUE=8141 PROJ=71

Your original request is copied below for reference.

There is no need to reply to this message right now -- someone from the VDT
team will respond to you as soon as possible.  If you wish to view your
support ticket online, visit&#58;

<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=6475</a>

Your ticket has been assigned an ID as follows&#58;

[vdt-support #6475]

Please include the ticket ID in the subject line of all future email about
this issue.  To do so, you may reply to this message.

Thank you for your interest in the VDT.

vdt-support@....

-------------------------------------------------------------------------
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='8141#1266603541'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T18:19:01+00:00">Feb 19, 2010 06:19 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1266603541">&nbsp;</a></div><pre>Hey Alain,

Thanks for the heads up. now that you mentioned it, I think I remember hearing something about that. Sorry for the inconvenience. I have moved this to the VDT SC.

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='8141#1266602526'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T18:02:06+00:00">Feb 19, 2010 06:02 PM UTC</time> by <b>VDT</b><a class="anchor" name="1266602526">&nbsp;</a></div><pre>Christopher--

The new procedure is to assign the bugs to the VDT, not to rsv-dev. Can you do that please? We&#39;ll be glad to triage the bug and take appropriate action on it.

Thanks,
-alain

On Feb 18, 2010, at 6&#58;49 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='8141#1266540594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-19T00:49:54+00:00">Feb 19, 2010 12:49 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1266540594">&nbsp;</a></div><pre>RSV-Ops can you look into this issue, please?

Thanks,

Christopher</pre></div><div class='update_description'><i onclick="document.location='8141#1266512887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-02-18T17:08:07+00:00">Feb 18, 2010 05:08 PM UTC</time> by <b>Anthony Tiradani</b><a class="anchor" name="1266512887">&nbsp;</a></div><pre>RSV will generate proxies based on service certificates and will renew the proxies twice a day.  The problem is that the proxies lifetime is only 1 day and RSV will not submit using a proxy that has a lifetime of less than an hour or two.  If the proxy fails to renew for any reason, there may be a downtime recorded because of an invalid proxy.

I believe that the proxy lifetime should be extended to 2 days while maintaining the renewal rate of twice a day.

According to Arvind the VDT handles RSV bugs, so please forward to the appropriate people.</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F8141">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
