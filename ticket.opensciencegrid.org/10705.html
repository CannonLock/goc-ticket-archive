<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[10705] lcg-cp fails with CGSI-gSOAP Error reading token data header&#58; Connection closed</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=10705" method="post">
<div class="page-header">
    <h3><span class="muted">10705</span> / lcg-cp fails with CGSI-gSOAP Error reading token data header&#58; Connection closed</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Iftach Sadeh</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Iftach Sadeh</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2011-10-12</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Tanya Levshina <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=72775">72775</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=20459">20459</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/10705", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='10705#1318776668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-16T14:51:08+00:00">Oct 16, 2011 02:51 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1318776668">&nbsp;</a></div><pre>This is an automatic reply. I am unable to read my email. I will read your message when I return.

Thank you.</pre></div><div class='update_description'><i onclick="document.location='10705#1318776646'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-16T14:50:46+00:00">Oct 16, 2011 02:50 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1318776646">&nbsp;</a></div><pre>-- by null at Sun Oct 16 14&#58;49&#58;39 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1318281442'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-10T21:17:22+00:00">Oct 10, 2011 09:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1318281442">&nbsp;</a></div><pre>Hi Iftach,

I am closing this ticket. I would like to express my gratitude for your
diligent work on this matter and your eagerness to run the various tests.

As to the problem with BNL, there is now also an open Savannah ticket that you
might look at&#58;

&#60;<a href='http&#58;//savannah.cern.ch/bugs/?87292&#62' target='_blank' rel='nofollow'>http&#58;//savannah.cern.ch/bugs/?87292&#62</a>;
Regards,

Patrick
-- by mcguigan@.... at Mon Oct 10 21&#58;17&#58;11 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1318153559'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-09T09:45:59+00:00">Oct 9, 2011 09:45 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1318153559">&nbsp;</a></div><pre>Dear Patrick,
Thanks for the detailed answer. I hope this matter can somehow be
resolved on a global scale. I very much appreciate the fact that on your
part you were very dedicated and managed to find a local solution.
I have opened a ticket for BNL-ATLAS concerning the failed attempt from
ANALY_BNL_ATLAS, e.g.&#58;

dq2-get -n 1
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25/

I am not sure which &#39;Affected SITE&#39; would refer to
SLACXRD_LOCALGROUPDISK for e.g.&#58;

dq2-get -n 1
user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1

Could you please help me out with this novice question, and I&#39;ll submit
a ticket for that site as well.
Thank you again!

Best Regards,
Iftach Sadeh.

Tel-Aviv University,
Israel.

Web&#58;          <a href='http&#58;//alzt.tau.ac.il/' target='_blank' rel='nofollow'>http&#58;//alzt.tau.ac.il/</a>~sadeh
E-mail&#58;       sadeh@....
Phone (fax)&#58;  +972-3-640-6449 (7932)

On 10/05/2011 08&#58;00 PM, helpdesk@.... wrote&#58;
<font color='#7F7E6F'>&#62; *********************************************************************************</font>
<font color='#7F7E6F'>&#62;   This is an automated mail. When replying don&#39;t change the subject line!</font>
<font color='#7F7E6F'>&#62;   Type your text above this box and S T R I P  P R E V I O U S  M A I L S please!!</font>
<font color='#7F7E6F'>&#62; *********************************************************************************</font>
<div id='show_775137914' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_775137914'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Dear user,</font>
<font color='#7F7E6F'>&#62; Your GGUS ticket #72775 was updated.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; REFERENCE LINK&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></font>
<font color='#7F7E6F'>&#62; SUBJECT&#58; lcg-cp fails with CGSI-gSOAP Error reading token data header&#58; Connection closed</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; =====================</font>
<font color='#7F7E6F'>&#62; LATEST MODIFICATIONS&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; LAST MODIFIER -&#62;  OSG-GOC (via Footprints)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; PUBLIC DIARY -&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi Iftach,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I had some conversations with both SLAC and BNL concerning transfers. Here is a</font>
<font color='#7F7E6F'>&#62; summary of what I know.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The SRM service (bestman2) used at SWT2_CPB and SLAC has an issue with the</font>
<font color='#7F7E6F'>&#62; Israeli CA because the DN of the CA&#39;s certificate contains an email address.</font>
<font color='#7F7E6F'>&#62; Bestman2 represents the email address as &#34;E=&#60;address&#62;&#34; and fails to</font>
<font color='#7F7E6F'>&#62; authenticate against the signing policy file. We patched the signing policy</font>
<font color='#7F7E6F'>&#62; file at SWT2_CPB for the CA so that bestman2 would handle the certificate. This</font>
<font color='#7F7E6F'>&#62; has seemingly worked at SWT2_CPB. The patch to the signing policy file allows</font>
<font color='#7F7E6F'>&#62; bestman2 to work, but it seems to me that bestman2 has a general problem with</font>
<font color='#7F7E6F'>&#62; DN&#39;s using email addresses. The bestman team is aware of the situation.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; SLAC implemented the change to the signing policy file. The user&#39;s certificate</font>
<font color='#7F7E6F'>&#62; was able to authenticate against the SRM service using srmping. The current</font>
<font color='#7F7E6F'>&#62; issue with SLAC should be brought up with them in a separate ticket as it</font>
<font color='#7F7E6F'>&#62; should not be the same issue that started this ticket.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; BNL uses the dCache SRM service and does not seem to have the same issue with</font>
<font color='#7F7E6F'>&#62; the signing policy file. However, they seem to have an intermittent issue with</font>
<font color='#7F7E6F'>&#62; CA&#39;s whose DN&#39;s contain an email address. The report from BNL indicates that</font>
<font color='#7F7E6F'>&#62; the thing will work correctly for a short time after a restart, but will then</font>
<font color='#7F7E6F'>&#62; fail. It becomes difficult to track down because the SRM developers do not have</font>
<font color='#7F7E6F'>&#62; credentials from the problematic CA&#39;s. This seems to be wider than the Israeli</font>
<font color='#7F7E6F'>&#62; CA. I would recommend that you submit a separate ticket with them as well.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Does this seem to be a a reasonable solution?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Patrick</font>
<font color='#7F7E6F'>&#62;   -- by mcguigan@.... at Wed Oct 05 17&#58;59&#58;07 UTC 2011</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</font>

-- by imsadeh@.... at Sun Oct 09 09&#58;45&#58;14 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a>
</div><script type='text/javascript'>
        $('#show_775137914').click(function() {
            $('#detail_775137914').slideDown("normal");
            $('#show_775137914').hide();
            $('#hide_775137914').show();
        });
        $('#hide_775137914').click(function() {
            $('#detail_775137914').slideUp();
            $('#hide_775137914').hide();
            $('#show_775137914').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1317837557'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-05T17:59:17+00:00">Oct 5, 2011 05:59 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1317837557">&nbsp;</a></div><pre>Hi Iftach,

I had some conversations with both SLAC and BNL concerning transfers. Here is a
summary of what I know.

The SRM service (bestman2) used at SWT2_CPB and SLAC has an issue with the
Israeli CA because the DN of the CA&#39;s certificate contains an email address.
Bestman2 represents the email address as &#34;E=&#60;address&#62;&#34; and fails to
authenticate against the signing policy file. We patched the signing policy
file at SWT2_CPB for the CA so that bestman2 would handle the certificate. This
has seemingly worked at SWT2_CPB. The patch to the signing policy file allows
bestman2 to work, but it seems to me that bestman2 has a general problem with
DN&#39;s using email addresses. The bestman team is aware of the situation.

SLAC implemented the change to the signing policy file. The user&#39;s certificate
was able to authenticate against the SRM service using srmping. The current
issue with SLAC should be brought up with them in a separate ticket as it
should not be the same issue that started this ticket.

BNL uses the dCache SRM service and does not seem to have the same issue with
the signing policy file. However, they seem to have an intermittent issue with
CA&#39;s whose DN&#39;s contain an email address. The report from BNL indicates that
the thing will work correctly for a short time after a restart, but will then
fail. It becomes difficult to track down because the SRM developers do not have
credentials from the problematic CA&#39;s. This seems to be wider than the Israeli
CA. I would recommend that you submit a separate ticket with them as well.

Does this seem to be a a reasonable solution?

Patrick
-- by mcguigan@.... at Wed Oct 05 17&#58;59&#58;07 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1317833035'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-05T16:43:55+00:00">Oct 5, 2011 04:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1317833035">&nbsp;</a></div><pre>Added attachment mailbody.Wed._05_Oct_2011_18.24.48_.0200.txt

-- by imsadeh@.... at Wed Oct 05 16&#58;42&#58;29 UTC 2011

----------- e-mail with large body ------

added in total as mailbody.Wed._05_Oct_2011_18.24.48_.0200.txt

------------ e-mail with large body ------
Dear Elizabeth,

My apologies for not replaying earlier.
The problem persists both at BNL and at SLAC. An attempt from
SLACXRD_LOCALGROUPDISK from a few min. ago&#58;

[lxplus249] iftach $ dq2-get -n 1
user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1
Querying DQ2 central catalogues to resolve datasetname
user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1
Datasets found&#58; 1
Generating random sample of datasets

....

user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.1900.180241_overlay_bit240.recotag_recotrf.ESD.pool.root&#58;
Starting transfer

user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.1900.180241_overlay_bit240.recotag_recotrf.ESD.pool.root&#58;
external failed&#58;
stdout&#58;

stderr&#58;Using grid catalog type&#58; UNKNOWN
Using grid catalog &#58; (null)
VO name&#58; atlas
Checksum type&#58; None
<div id='show_1902129086' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1902129086'>Trying SURL
<a href='srm&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server?SFN=/xrootd/atlas/atlaslocalgroupdisk/user09/AndrewHaas477621/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX/user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.1900.180241_overlay_bit240.recotag_recotrf.ESD.pool.root' target='_blank' rel='nofollow'>srm&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server?SFN=/xrootd/atlas/atlaslocalgroupdisk/user09/AndrewHaas477621/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX/user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.1900.180241_overlay_bit240.recotag_recotrf.ESD.pool.root</a>
...
[SE][Ls][] httpg&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server&#58;
CGSI-gSOAP running on lxplus249.cern.ch reports Error reading token
data header&#58; Connection closed

lcg_cp&#58; Communication error on send

user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.1900.180241_overlay_bit240.recotag_recotrf.ESD.pool.root&#58;
external tool failed, no file was transferred

Download Summary&#58;
File&#58;
user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1/J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.COMCOND-BLKPST-002-00.1900.180241_overlay_bit240.recotag_recotrf.ESD.pool.root,
FAILED

Total number of datasets requested&#58; 1
Total number of files in dataset&#58; 50
Total number of files specifically requested by user&#58; 0
Total number of file download attempts by dq2-get&#58; 1
Number of successful file download attempts&#58; 0
Number of failed file download attempts&#58; 1
Number of files where validation was skipped&#58; 0

Best Regards,
Iftach Sadeh.

Tel-Aviv University,
Israel.

Web&#58;          <a href='http&#58;//alzt.tau.ac.il/' target='_blank' rel='nofollow'>http&#58;//alzt.tau.ac.il/</a>~sadeh
E-mail&#58;       sadeh@....
Phone (fax)&#58;  +972-3-640-6449 (7932)

On 10/05/2011 06&#58;00 PM, helpdesk@.... wrote&#58;
<font color='#7F7E6F'>&#62; *********************************************************************************</font>
<font color='#7F7E6F'>&#62;   This is an automated mail. When replying don&#39;t change the subject line!</font>
<font color='#7F7E6F'>&#62;   Type your text above this box and S T R ...</font>
...
--- body truncated, see attachment mailbody.Wed._05_Oct_2011_18.24.48_.0200.txt for full text ---

-- by imsadeh@.... at Wed Oct 05 16&#58;42&#58;29 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a>
</div><script type='text/javascript'>
        $('#show_1902129086').click(function() {
            $('#detail_1902129086').slideDown("normal");
            $('#show_1902129086').hide();
            $('#hide_1902129086').show();
        });
        $('#hide_1902129086').click(function() {
            $('#detail_1902129086').slideUp();
            $('#hide_1902129086').hide();
            $('#show_1902129086').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1317830334'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-10-05T15:58:54+00:00">Oct 5, 2011 03:58 PM UTC</time> by <b>echism</b><a class="anchor" name="1317830334">&nbsp;</a></div><pre>Iftach,

Did you receive my last inquiry?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1317240111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-28T20:01:51+00:00">Sep 28, 2011 08:01 PM UTC</time> by <b>echism</b><a class="anchor" name="1317240111">&nbsp;</a></div><pre>Iftach,

It looks like you were running your jobs at BNL. Did you try SLAC?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1316786584'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-23T14:03:04+00:00">Sep 23, 2011 02:03 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1316786584">&nbsp;</a></div><pre>Added attachment mailbody.Fri._23_Sep_2011_17.00.33_.0300.txt

-- by imsadeh@.... at Fri Sep 23 14&#58;01&#58;24 UTC 2011

Dear Patrick,
The file with the test results is attached.
The problem with the other site persists. Here the the test I have just
made.

[lxplus410] iftach $ dq2-get -n 1
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25/
Querying DQ2 central catalogues to resolve datasetname
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25/
Datasets found&#58; 1
Generating random sample of datasets
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1
1
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1&#58;
Querying DQ2 central catalogues for replicas...
Querying DQ2 central catalogues for files in dataset...
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1&#58;
Using site BNL-OSG2_USERDISK
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1&#58;
Querying local file catalogue of site BNL-OSG2_USERDISK...
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1/user.sadeh.001280.EXT0._01119.generalStuff.root&#58;
Getting SRM metadata
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1/user.sadeh.001280.EXT0._01119.generalStuff.root&#58;
might not be cached. Staging will take some time.
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1/user.sadeh.001280.EXT0._01119.generalStuff.root&#58;
Starting transfer

user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1/user.sadeh.001280.EXT0._01119.generalStuff.root&#58;
external failed&#58;
stdout&#58;

<div id='show_1437671635' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1437671635'>stderr&#58;Using grid catalog type&#58; UNKNOWN
Using grid catalog &#58; (null)
VO name&#58; atlas
Checksum type&#58; None
Trying SURL
<a href='srm&#58;//dcsrm.usatlas.bnl.gov&#58;8443/srm/managerv2?SFN=/pnfs/usatlas.bnl.gov/atlasuserdisk/user.sadeh/user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1_sub028270154/user.sadeh.001280.EXT0._01119.generalStuff.root' target='_blank' rel='nofollow'>srm&#58;//dcsrm.usatlas.bnl.gov&#58;8443/srm/managerv2?SFN=/pnfs/usatlas.bnl.gov/atlasuserdisk/user.sadeh/user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1_sub028270154/user.sadeh.001280.EXT0._01119.generalStuff.root</a>
...
[SE][Ls][] httpg&#58;//dcsrm.usatlas.bnl.gov&#58;8443/srm/managerv2&#58;
CGSI-gSOAP running on lxplus410.cern.ch reports Error reading token
data header&#58; Connection closed

lcg_cp&#58; Communication error on send

user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1/user.sadeh.001280.EXT0._01119.generalStuff.root&#58;
external tool failed, no file was transferred

Download Summary&#58;
File&#58;
user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25.2213.ANALY_BNL_ATLAS_1/user.sadeh.001280.EXT0._01119.generalStuff.root,
FAILED

Total number of datasets requested&#58; 1
Total number of files in dataset&#58; 560
Total number of files specifically requested by user&#58; 0
Total number of file download attempts by dq2-get&#58; 1
Number of successful file download attempts&#58; 0
Number of failed file download attempts&#58; 1
Number of files where validation was skipped&#58; 0
Finished

Best Regards,
Iftach Sadeh.

Tel-Aviv University,
Israel.

Web&#58;<a href='http&#58;//alzt.tau.ac.il/' target='_blank' rel='nofollow'>http&#58;//alzt.tau.ac.il/</a>~sadeh
E-mail&#58;sadeh@....
Phone (fax)&#58;  +972-3-640-6449 (7932)

On 09/23/2011 02&#58;18 AM, Patrick McGuigan wrote&#58;
<font color='#7F7E6F'>&#62; Hi Iftach,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I have spoken with SLAC and they have implemented the patch, can you</font>
<font color='#7F7E6F'>&#62; retry your dq2-get against their site?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; ...</font>
...
--- body truncated, see attachment mailbody.Fri._23_Sep_2011_17.00.33_.0300.txt for full text ---

-- by imsadeh@.... at Fri Sep 23 14&#58;01&#58;24 UTC 2011

----------- e-mail with large body ------

added in total as mailbody.Fri._23_Sep_2011_17.00.33_.0300.txt

------------ e-mail with large body ------

-- by imsadeh@.... at Fri Sep 23 14&#58;01&#58;24 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a>
</div><script type='text/javascript'>
        $('#show_1437671635').click(function() {
            $('#detail_1437671635').slideDown("normal");
            $('#show_1437671635').hide();
            $('#hide_1437671635').show();
        });
        $('#hide_1437671635').click(function() {
            $('#detail_1437671635').slideUp();
            $('#hide_1437671635').hide();
            $('#show_1437671635').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1316733584'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-22T23:19:44+00:00">Sep 22, 2011 11:19 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1316733584">&nbsp;</a></div><pre>Added attachment mailbody.Thu._22_Sep_2011_18.18.37_-0500.txt

-- by mcguigan@.... at Thu Sep 22 23&#58;19&#58;16 UTC 2011

----------- e-mail with large body ------

added in total as mailbody.Thu._22_Sep_2011_18.18.37_-0500.txt

------------ e-mail with large body ------

-- by mcguigan@.... at Thu Sep 22 23&#58;19&#58;16 UTC 2011

Hi Iftach,

I have spoken with SLAC and they have implemented the patch, can you retry your dq2-get
against their site?

The last tests did not execute properly because of problems with how the commands were
cut/pasted.  Can you try the following and send me the test.out file directly.  There
seems to be more issues with attachments in the ggus ticketing system.

After creating your proxy use the following five commands&#58;

mkdir -p /tmp/iftach
cd /tmp/iftach
wget <a href='http&#58;//www-hep.uta.edu/' target='_blank' rel='nofollow'>http&#58;//www-hep.uta.edu/</a>~mcguigan/Sadeh/testme.sh
chmod +x testme.sh
./testme.sh &#62;test.out 2&#62;&1

Regards,

Patrick

On 09/04/2011 08&#58;24 AM, Iftach Sadeh wrote&#58;
<font color='#7F7E6F'>&#62; Dear Patrick,</font>
<div id='show_579636884' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_579636884'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The output of the tests are&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     [lxplus444] ~ $ cat test.sh</font>
<font color='#7F7E6F'>&#62;     source /afs/cern.ch/atlas/offline/external/GRID/ddm/DQ2Clients/setup.sh</font>
<font color='#7F7E6F'>&#62;     voms-proxy-init -voms atlas</font>
<font color='#7F7E6F'>&#62;     mkdir -p /tmp/iftach</font>
<font color='#7F7E6F'>&#62;     cd /tmp/iftach</font>
<font color='#7F7E6F'>&#62;     srmping -2 <a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443</a></font>
<font color='#7F7E6F'>&#62;     srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443</a></font>
<font color='#7F7E6F'>&#62;     srmping -2 -webservice_path=srm/v2/server</font>
<font color='#7F7E6F'>&#62;     <a href='srm&#58;//osgserv04.slac.stanford.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//osgserv04.slac.stanford.edu&#58;8443</a></font>
<font color='#7F7E6F'>&#62;     srmping -2 <a href='srm&#58;//head01.aglt2.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443</a></font>
<font color='#7F7E6F'>&#62;     srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//atlas.bu.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443</a></font>
<font color='#7F7E6F'>&#62;     srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//gk03.atlas-swt2.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443</a></font>
<font color='#7F7E6F'>&#62;     [lxplus444] ~ $ source test.sh</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       - Enabled current AFS CERN GRID SLC5 UI</font>
<font color='#7F7E6F'>&#62;       - Enabled Python 2.5</font>
<font color='#7F7E6F'>&#62;       - Configured local site</font>
<font color='#7F7E6F'>&#62;       - Enabled DQ2 Clients</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     -- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT --</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       If you have not done so already, execute&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;         voms-proxy-init -voms atlas</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     -- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT --</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       If you have any questions, go to&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     <a href='https&#58;//twiki.cern.ch/twiki/bin/view/Atlas/DQ2ClientsHowTo' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/Atlas/DQ2ClientsHowTo</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       Ready</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     Enter GRID pass phrase&#58;</font>
<font color='#7F7E6F'>&#62;     Your identity&#58; /C=IL/O=IUCC/OU=TAU/OU=PHYSICS/CN=Iftach Sadeh</font>
<font color='#7F7E6F'>&#62;     Creating temporary proxy ................................ Done</font>
<font color='#7F7E6F'>&#62;     Contacting  lcg-voms.cern.ch&#58;15001 [/DC=ch/DC=cern/OU=computers/CN=lcg-voms.cern.ch]</font>
<font color='#7F7E6F'>&#62;     &#34;atlas&#34; Done</font>
<font color='#7F7E6F'>&#62;     Creating proxy ................... Done</font>
<font color='#7F7E6F'>&#62;     Your proxy is valid until Mon Sep  5 01&#58;24&#58;54 2011</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 0 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 1 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 2 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 3 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 4 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 5 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 6 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 7 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 8 failed with error</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; ; nested exception is&#58;</font>
<font color='#7F7E6F'>&#62;          java.io.EOFException</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try again</font>
<font color='#7F7E6F'>&#62;     SRMClientV2 &#58; srmPing&#58; try # 9 fai...</font>
...
--- body truncated, see attachment mailbody.Thu._22_Sep_2011_18.18.37_-0500.txt for full text ---

-- by mcguigan@.... at Thu Sep 22 23&#58;19&#58;16 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a>
</div><script type='text/javascript'>
        $('#show_579636884').click(function() {
            $('#detail_579636884').slideDown("normal");
            $('#show_579636884').hide();
            $('#hide_579636884').show();
        });
        $('#hide_579636884').click(function() {
            $('#detail_579636884').slideUp();
            $('#hide_579636884').hide();
            $('#show_579636884').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1316724181'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-22T20:43:01+00:00">Sep 22, 2011 08:43 PM UTC</time> by <b>echism</b><a class="anchor" name="1316724181">&nbsp;</a></div><pre>Patrick,

I suggest discussing this patch on osg-sites. Do you think you could do that?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1316347875'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-18T12:11:15+00:00">Sep 18, 2011 12:11 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1316347875">&nbsp;</a></div><pre>Dear All,

The problem with SWT2_CPB_USERDISK is resolved.
However, I still have the same kind of problem on other sites, e.g. retrieval of datasets from BNL-OSG2_USERDISK , such as&#58;

dq2-get -n 1 user.sadeh.generalStuff_MC10b_J3_pythia_jetjet_e574_s934_s946_r2299_Date_12_09_Time_23_04_25/

fail with the same errors&#58;
....
lcg_cp&#58; Communication error on send
....

Can the solution for SWT2_CPB_USERDISK be shared between the sites?
Thanks!
-- by iftach sadeh at Sun Sep 18 12&#58;09&#58;49 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1316017087'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-14T16:18:07+00:00">Sep 14, 2011 04:18 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1316017087">&nbsp;</a></div><pre>This is an automatic reply. I am unable to read my email. I will read your message when I return.

Thank you.</pre></div><div class='update_description'><i onclick="document.location='10705#1316016822'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-14T16:13:42+00:00">Sep 14, 2011 04:13 PM UTC</time> by <b>echism</b><a class="anchor" name="1316016822">&nbsp;</a></div><pre>Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1315142769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-09-04T13:26:09+00:00">Sep 4, 2011 01:26 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1315142769">&nbsp;</a></div><pre>Added attachment mailbody.Sun._04_Sep_2011_16.24.38_.0300.txt

-- by imsadeh@.... at Sun Sep 04 13&#58;25&#58;04 UTC 2011

Dear Patrick,

The output of the tests are&#58;

[lxplus444] ~ $ cat test.sh
source /afs/cern.ch/atlas/offline/external/GRID/ddm/DQ2Clients/setup.sh
voms-proxy-init -voms atlas
mkdir -p /tmp/iftach
cd /tmp/iftach
srmping -2 <a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server
<a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server
<a href='srm&#58;//osgserv04.slac.stanford.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//osgserv04.slac.stanford.edu&#58;8443</a>
srmping -2 <a href='srm&#58;//head01.aglt2.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//atlas.bu.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//gk03.atlas-swt2.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443</a>
[lxplus444] ~ $ source test.sh

- Enabled current AFS CERN GRID SLC5 UI
- Enabled Python 2.5
- Configured local site
- Enabled DQ2 Clients

-- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT --

If you have not done so already, execute&#58;

voms-proxy-init -voms atlas

-- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT -- IMPORTANT --
<div id='show_864727397' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_864727397'>
If you have any questions, go to&#58;

<a href='https&#58;//twiki.cern.ch/twiki/bin/view/Atlas/DQ2ClientsHowTo' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/Atlas/DQ2ClientsHowTo</a>

Ready

Enter GRID pass phrase&#58;
Your identity&#58; /C=IL/O=IUCC/OU=TAU/OU=PHYSICS/CN=Iftach Sadeh
Creating temporary proxy ................................ Done
Contacting  lcg-voms.cern.ch&#58;15001
[/DC=ch/DC=cern/OU=computers/CN=lcg-voms.cern.ch] &#34;atlas&#34; Done
Creating proxy ................... Done
Your proxy is valid until Mon Sep  5 01&#58;24&#58;54 2011
SRMClientV2 &#58; srmPing&#58; try # 0 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 1 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 2 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 3 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 4 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 5 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 6 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 7 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 8 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 9 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 10 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 11 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 12 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SRMClientV2 &#58; srmPing&#58; try # 13 failed with error
SRMClientV2 &#58; ; nested exception is&#58;
java.io.EOFException
SRMClientV2 &#58; srmPing&#58; try again
SR...
...
--- body truncated, see attachment mailbody.Sun._04_Sep_2011_16.24.38_.0300.txt for full text ---

-- by imsadeh@.... at Sun Sep 04 13&#58;25&#58;04 UTC 2011

----------- e-mail with large body ------

added in total as mailbody.Sun._04_Sep_2011_16.24.38_.0300.txt

------------ e-mail with large body ------

-- by imsadeh@.... at Sun Sep 04 13&#58;25&#58;04 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a>
</div><script type='text/javascript'>
        $('#show_864727397').click(function() {
            $('#detail_864727397').slideDown("normal");
            $('#show_864727397').hide();
            $('#hide_864727397').show();
        });
        $('#hide_864727397').click(function() {
            $('#detail_864727397').slideUp();
            $('#hide_864727397').hide();
            $('#show_864727397').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1314090064'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-23T09:01:04+00:00">Aug 23, 2011 09:01 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1314090064">&nbsp;</a></div><pre>Hi Iftach,

Can you run a final test for us. I think we have a patch in place that will
allow your cert to be used against our Bestman service, but I would like you to
test in other places.

Can you create your proxy in the normal way, try the following commands and
send the output&#58;

srmping -2 <a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server
<a href='srm&#58;//osgserv04.slac.stanford.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//osgserv04.slac.stanford.edu&#58;8443</a>
srmping -2 <a href='srm&#58;//head01.aglt2.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//head01.aglt2.org&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//atlas.bu.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443</a>
srmping -2 -webservice_path=srm/v2/server <a href='srm&#58;//gk03.atlas-swt2.org&#58;8443' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443</a>

In particular if the last test works, you can retry the dq2-get that started
this ticket.

Regards,

Patrick
-- by mcguigan@.... at Tue Aug 23 09&#58;00&#58;52 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1313695446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-18T19:24:06+00:00">Aug 18, 2011 07:24 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1313695446">&nbsp;</a></div><pre>This is an automatic reply. I am unable to read my email. I will read your message when I return.

Thank you.</pre></div><div class='update_description'><i onclick="document.location='10705#1313695362'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-18T19:22:42+00:00">Aug 18, 2011 07:22 PM UTC</time> by <b>echism</b><a class="anchor" name="1313695362">&nbsp;</a></div><pre>Mark or Patrick,

Please send us an update on this.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1312981592'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-10T13:06:32+00:00">Aug 10, 2011 01:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1312981592">&nbsp;</a></div><pre>Is there anything new on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1312380254'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-03T14:04:14+00:00">Aug 3, 2011 02:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1312380254">&nbsp;</a></div><pre>Hi Patrick,

Is there anything new on this?

Thank you,
Elizabeth
-- by Elizabeth Chism at Wed Aug 03 14&#58;03&#58;54 UTC 2011

GOCTX Source&#58; <a href='10705.html#1312380233' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=10705#1312380233</a></pre></div><div class='update_description'><i onclick="document.location='10705#1312380234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-08-03T14:03:54+00:00">Aug 3, 2011 02:03 PM UTC</time> by <b>echism</b><a class="anchor" name="1312380234">&nbsp;</a></div><pre>Hi Patrick,

Is there anything new on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1311632456'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-25T22:20:56+00:00">Jul 25, 2011 10:20 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311632456">&nbsp;</a></div><pre>Hi Elizabeth,

Work is continuing on this matter.

The SRM developers have identified a problem with how Bestman is authenticating
the user&#39;s proxy. The problem arises because the the CA&#39;s certificate includes
an email attribute as part of the DN in the Subject/Issuer in the CA&#39;s
certificate. When Bestman is processing the cert it sees the attribute as
&#34;E=ca@....&#34; but the signing policy file for the CA will allow for
either &#34;emailAddress=ca@....&#34; or &#34;Email=ca@....&#34;.

We are still investigating.

Patrick
-- by mcguigan@.... at Mon Jul 25 22&#58;20&#58;47 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1311611257'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-25T16:27:37+00:00">Jul 25, 2011 04:27 PM UTC</time> by <b>echism</b><a class="anchor" name="1311611257">&nbsp;</a></div><pre>Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='10705#1311373963'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-22T22:32:43+00:00">Jul 22, 2011 10:32 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311373963">&nbsp;</a></div><pre>Hi Iftach,

The SRM developers would like you to run some additional tests against their
servers where more debugging information can be collected.

The following commands (again after creating your proxy in the normal way)
will&#58;
download the SRM client software and configure it
replace the logging properties file to increase the default logging
run the srm ping against two test servers
collect the output into a single tarball
mail the results to me directly

We appreciate your help in debugging this problem!
Patrick

commands&#58;

cd /tmp/iftach/
wget <a href='https&#58;//codeforge.lbl.gov/frs/download.php/334/bestman-client-2.1.0.tar.gz' target='_blank' rel='nofollow'>https&#58;//codeforge.lbl.gov/frs/download.php/334/bestman-client-2.1.0.tar.gz</a>
tar zxf bestman-client-2.1.0.tar.gz
cd bestman-client/setup
./configure --enable-clientonly
cd ../properties
rm log4j.properties
wget <a href='http&#58;//www-hep.uta.edu/' target='_blank' rel='nofollow'>http&#58;//www-hep.uta.edu/</a>~mcguigan/Sadeh/log4j.properties
cd ../bin
./srm-ping <a href='srm&#58;//srm.lbl.gov&#58;6377/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//srm.lbl.gov&#58;6377/srm/v2/server</a> -debug -log lbl.log &#62;lbl.output
2&#62;&1
./srm-ping <a href='srm&#58;//fg0x5fnal.gov&#58;10443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//fg0x5fnal.gov&#58;10443/srm/v2/server</a> -debug -log fnal.log
<font color='#7F7E6F'>&#62;fnal.output 2&#62;&1</font>
tar -cvzf testrun.tgz *.output *.log
echo &#34;SRM Testing Results are attached&#34; | mutt -a testrun.tgz -s &#34;SRM Testing&#34;
-- mcguigan@....

<div id='show_1963983388' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1963983388'>You can then remove the bestman-client dirs/files in /tmp/iftach.

A note for followers of this ticket&#58; Iftach mailed the attachment from the
previous test directly to me and I shared the results with the SRM developers
and others in the OSG-Storage mailing list and LBL&#39;s srm-support mailing list.
-- by mcguigan@.... at Fri Jul 22 22&#58;32&#58;13 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459
</div><script type='text/javascript'>
        $('#show_1963983388').click(function() {
            $('#detail_1963983388').slideDown("normal");
            $('#show_1963983388').hide();
            $('#hide_1963983388').show();
        });
        $('#hide_1963983388').click(function() {
            $('#detail_1963983388').slideUp();
            $('#hide_1963983388').hide();
            $('#show_1963983388').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1311323944'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-22T08:39:04+00:00">Jul 22, 2011 08:39 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311323944">&nbsp;</a></div><pre>Hi Iftach,

We are still missing the output from the tests. Can you resend and put the
results into the email, rather than as an attachment.

Regards,

Patrick
-- by mcguigan@.... at Fri Jul 22 08&#58;38&#58;55 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1311241380'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-21T09:43:00+00:00">Jul 21, 2011 09:43 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311241380">&nbsp;</a></div><pre>Hi Iftach,

The second attachment is showing zero bytes and appears to be empty. Can you
paste the output into an email? This would be easier anyways since the
attachments are not forwarded by ggus.

Patrick
-- by mcguigan@.... at Thu Jul 21 09&#58;42&#58;53 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1311241158'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-21T09:39:18+00:00">Jul 21, 2011 09:39 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311241158">&nbsp;</a></div><pre>Sorry for that, I have attached it again.
For some reason, though, I can not access the files that I upload. I only see a line like
iftach sadeh	 2011-07-21	 09&#58;36	 Added attachment out_21July2011.sh
in the log (with no clickable link...)
-- by iftach sadeh at Thu Jul 21 09&#58;38&#58;13 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311241039'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-21T09:37:19+00:00">Jul 21, 2011 09:37 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311241039">&nbsp;</a></div><pre>Added attachment out_21July2011.sh

-- by iftach sadeh at Thu Jul 21 09&#58;36&#58;32 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311239642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-21T09:14:02+00:00">Jul 21, 2011 09:14 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311239642">&nbsp;</a></div><pre>Hi,

The attached file in the ggus system appears to be empty?
-- by mcguigan@.... at Thu Jul 21 09&#58;13&#58;54 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1311238458'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-21T08:54:18+00:00">Jul 21, 2011 08:54 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311238458">&nbsp;</a></div><pre>Dear Patrick,
The output of the session is attached.

Best Regards,
Iftach.
-- by iftach sadeh at Thu Jul 21 08&#58;53&#58;11 UTC 2011

Added attachment out_21July2011.sh

-- by iftach sadeh at Thu Jul 21 08&#58;53&#58;10 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311233442'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-21T07:30:42+00:00">Jul 21, 2011 07:30 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311233442">&nbsp;</a></div><pre>Hi Iftach,

The information that you provided seems to indicate that our SRM (Bestman) has
some difficulty with your certificate, while the rest of our grid
infrastructure does not have a problem. The SRM developers would like to get
some additional information from their SRM clients, which are not natively
installed at lxplus. I am including some commands that will download,
configure, and run their client software and an additional test using openssl.

Could you run these commands after logging into lxplus and setting up your
proxy in the normal manner and send the output.

cd /tmp/iftach/
wget <a href='https&#58;//codeforge.lbl.gov/frs/download.php/334/bestman-client-2.1.0.tar.gz' target='_blank' rel='nofollow'>https&#58;//codeforge.lbl.gov/frs/download.php/334/bestman-client-2.1.0.tar.gz</a>
tar zxf bestman-client-2.1.0.tar.gz
cd bestman-client/setup
./configure --enable-clientonly
cd ../bin
date
./srm-ping <a href='srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server</a> -debug
echo &#34;Result SWT2&#58;&#34; $?
./srm-ping <a href='srm&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server</a> -debug
echo &#34;Result SLAC&#58;&#34; $?

openssl s_client -connect gk03.atlas-swt2.org&#58;8443 -showcerts -CApath
$X509_CERT_DIR -cert $X509_USER_PROXY

After running the command you can delete the bestman-client software in
/tmp/iftach.

Let me know if you run into any problems as I will be online until 12&#58;30 CEST.

Regards,
Patrick
-- by mcguigan@.... at Thu Jul 21 07&#58;30&#58;34 UTC 2011
<div id='show_1749222253' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1749222253'>
GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459
</div><script type='text/javascript'>
        $('#show_1749222253').click(function() {
            $('#detail_1749222253').slideDown("normal");
            $('#show_1749222253').hide();
            $('#hide_1749222253').show();
        });
        $('#hide_1749222253').click(function() {
            $('#detail_1749222253').slideUp();
            $('#hide_1749222253').hide();
            $('#show_1749222253').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1311157673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-20T10:27:53+00:00">Jul 20, 2011 10:27 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311157673">&nbsp;</a></div><pre>Added attachment out.sh

-- by iftach sadeh at Wed Jul 20 10&#58;26&#58;48 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311157554'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-20T10:25:54+00:00">Jul 20, 2011 10:25 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311157554">&nbsp;</a></div><pre>Dear Patrick,

Attached is the output of the tests you ask for.

Best Regards,
Iftach.
-- by iftach sadeh at Wed Jul 20 10&#58;24&#58;22 UTC 2011

Added attachment out.sh

-- by iftach sadeh at Wed Jul 20 10&#58;24&#58;21 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311116697'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-19T23:04:57+00:00">Jul 19, 2011 11:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311116697">&nbsp;</a></div><pre>Hi Iftach,

We would like to resolve this issue and the fact that you are seeing problems
at both SWT2_CPB and SLAC may be an indication of the problem.

I am wondering if you can perform some additional tests from lxplus to help us
narrow down the problem.
After setting up your grid environment in the normal way including your proxy,
can you run the commands below and provide the output?
The commands do NOT include the $ character and items in () are comments. Also,
could you provide the commands that you use to setup your grid environment,
just in case something unexpected shows up?

$ date

$ voms-proxy-info -all

$ export LFC_HOST=gk02.atlas-swt2.org
#(the following is a one line command, don&#39;t know how it shows up in the mail)
$ lfc-ls -li
/grid/atlas/users/pathena/user.sadeh/user.sadeh.generalStuff_MC10_J4_pythia_jetjet_e574_s934_s946_r1653_Date_26_06_Time_11_19_35.ANALY_SWT2_CPB_sub022667331/user.sadeh.000990._1260903101.log.tgz

#(We have created a small, 100byte, file for testing can you retrieve it?)

$ globusrun -a -r gk01.atlas-swt2.org
$ globus-url-copy -dbg <a href='gsiftp&#58;//gk04.atlas-swt2.org/xrd/srm-test/testme.sadeh' target='_blank' rel='nofollow'>gsiftp&#58;//gk04.atlas-swt2.org/xrd/srm-test/testme.sadeh</a>
file&#58;///tmp/testme.sadeh

#(Test against our SRM)
$ srmping -2 -debug -webservice_path=srm/v2/server
<a href='srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server</a>
#(Test against our SLAC&#39;s SRM)
$ srmping -2 -debug -webservice_path=srm/v2/server <a href='srm&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server' target='_blank' rel='nofollow'>srm&#58;//osgserv04.slac.stanford.edu&#58;8443/srm/v2/server</a>

I am expecting that the last two tests might fail.
<div id='show_1522944080' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1522944080'>
Regards,

Patrick
-- by mcguigan@.... at Tue Jul 19 23&#58;04&#58;48 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459
</div><script type='text/javascript'>
        $('#show_1522944080').click(function() {
            $('#detail_1522944080').slideDown("normal");
            $('#show_1522944080').hide();
            $('#hide_1522944080').show();
        });
        $('#hide_1522944080').click(function() {
            $('#detail_1522944080').slideUp();
            $('#hide_1522944080').hide();
            $('#show_1522944080').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='10705#1311100964'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-19T18:42:44+00:00">Jul 19, 2011 06:42 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311100964">&nbsp;</a></div><pre>Dear Mark,
Unfortunately I still have a problem. I have been having this problem for several weeks now, as you can see in&#58;

<a href='https&#58;//groups.cern.ch/group/hn-atlas-dist-analysis-help/Lists/Archive/Flat.aspx?RootFolder=https%3a%2f%2fgroups%2ecern%2ech%2fgroup%2fhn-atlas-dist-analysis-help%2fLists%2fArchive%2fProblem%20with%20dataset%20retrieval&FolderCTID=0x01200200FB8F64B0E343CB4680DEAC546A9DF813' target='_blank' rel='nofollow'>https&#58;//groups.cern.ch/group/hn-atlas-dist-analysis-help/Lists/Archive/Flat.aspx?RootFolder=https%3a%2f%2fgroups%2ecern%2ech%2fgroup%2fhn-atlas-dist-analysis-help%2fLists%2fArchive%2fProblem%20with%20dataset%20retrieval&FolderCTID=0x01200200FB8F64B0E343CB4680DEAC546A9DF813</a>

While other users seem to have no problems with these datasets. I personally can not download.
-- by iftach sadeh at Tue Jul 19 18&#58;41&#58;43 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311100364'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-19T18:32:44+00:00">Jul 19, 2011 06:32 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311100364">&nbsp;</a></div><pre>Hi,
Please re-try your download.  We were able to successfully copy the dataset to lxplus today, so possibly this was a temporary problem.

-- Mark Sosebee
====================================
dq2-get user.sadeh.generalStuff_MC10_J4_pythia_jetjet_e574_s934_s946_r1653_Date_26_06_Time_11_19_35.ANALY_SWT2_CPB
...........

otal number of datasets requested&#58; 1
Total number of files in dataset&#58; 1398
Total number of files specifically requested by user&#58; 0
Total number of file download attempts by dq2-get&#58; 1398
Number of successful file download attempts&#58; 1398
Number of failed file download attempts&#58; 0
Number of files where validation was skipped&#58; 0
Finished

-- by Mark Sosebee at Tue Jul 19 18&#58;32&#58;05 UTC 2011

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a></pre></div><div class='update_description'><i onclick="document.location='10705#1311082020'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-19T13:27:00+00:00">Jul 19, 2011 01:27 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311082020">&nbsp;</a></div><pre>Hi all,

this is just a general comment which unfortunately won&#39;t help you solve
this particular problem, but please include the site name where the problem
is occurring in the subject line of the ticket, so that we don&#39;t have to
dig down a few pages into the body of the ticket to find out whether
this concerns us at all (in this case it doesn&#39;t concern me, since
it&#39;s a UTA site and not an OU site).

Much appreciated,

Horst

-- by hs@.... at Tue Jul 19 13&#58;26&#58;53 UTC 2011

GOCTX Source&#58; BNL Ticket&#58; Queue=SWTier2 ID=20459</pre></div><div class='update_description'><i onclick="document.location='10705#1311081158'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-07-19T13:12:38+00:00">Jul 19, 2011 01:12 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1311081158">&nbsp;</a></div><pre>I cannot retrieve the file(s), getting this CGSI-gSOAP Error. The output of voms-proxy-info and CGSI_TRACEFILE attached.

I get the following output&#58;
----------------------------------------------------------------------------------------------
Starting transfer
user.sadeh.generalStuff_MC10_J4_pythia_jetjet_e574_s934_s946_r1653_Date_26_06_Time_11_19_35.ANALY_SWT2_CPB/user.sadeh.000990._1260903101.log.tgz&#58; external failed&#58;
stdout&#58;
stderr&#58;Using grid catalog type&#58; UNKNOWN
Using grid catalog &#58; (null)
VO name&#58; atlas
Checksum type&#58; None
Trying SURL <a href='srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server?SFN=/xrd/atlasuserdisk/user.sadeh.generalStuff_MC10_J4_pythia_jetjet_e574_s934_s946_r1653_Date_26_06_Time_11_19_35.ANALY_SWT2_CPB_sub022667331/user.sadeh.000990._1260903101.log.tgz' target='_blank' rel='nofollow'>srm&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server?SFN=/xrd/atlasuserdisk/user.sadeh.generalStuff_MC10_J4_pythia_jetjet_e574_s934_s946_r1653_Date_26_06_Time_11_19_35.ANALY_SWT2_CPB_sub022667331/user.sadeh.000990._1260903101.log.tgz</a> ...
[SE][Ls][] httpg&#58;//gk03.atlas-swt2.org&#58;8443/srm/v2/server&#58; CGSI-gSOAP running on lxplus420.cern.ch reports Error reading token data header&#58; Connection closed
lcg_cp&#58; Communication error on send
----------------------------------------------------------------------------------------------

I have tried to follow instructions at
<a href='https&#58;//twiki.cern.ch/twiki/bin/viewauth/Atlas/DQ2ClientsTroubleshooting#dq2_get_fails_with_Error_reading' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/viewauth/Atlas/DQ2ClientsTroubleshooting#dq2_get_fails_with_Error_reading</a>
to generate&#58;
uberftp SERVERHOSTNAME &#62; uberftp-SERVERHOSTNAME.out
and attach with this message, however, I get &#58;

----------------------------------------------------------------------------------------------
[lxplus420] iftach $ uberftp httpg&#58;//gk03.atlas-swt2.org &#62; uberftp-SERVERHOSTNAME.out; cat uberftp-SERVERHOSTNAME.out
globus_xio&#58; Unable to connect to gk03.atlas-swt2.org]&#58;2811
globus_xio&#58; globus_libc_getaddrinfo failed.
globus_common&#58; Name or service not known
Failed to connect to httpg&#58;//gk03.atlas-swt2.org port 2811.
----------------------------------------------------------------------------------------------

In addition to the site SWT2_CPB for the above dataset, I also have the same problem on SLACXRD_LOCALGROUPDISK, e.g. I get&#58;

----------------------------------------------------------------------------------------------
...
Querying DQ2 central catalogues for files in dataset...
<div id='show_1610838018' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1610838018'>user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1&#58; Using site SLACXRD_LOCALGROUPDISK
user09.AndrewHaas477621.J1_QGSP_BERT_ATLAS-GEO-16-00-00_180241_G4AtlasAppsFIX.16.6.3.5.COMCOND-BLKPST-002-00180241_overlay_bit240.recotag.ESD.v1&#58; Querying local file catalogue of site SLACXRD_LOCALGROUPDISK...
...
lcg_cp&#58; Communication error on send
...
----------------------------------------------------------------------------------------------

Used commandline&#58; dq2-get -n 1 user.sadeh.generalStuff_MC10_J4_pythia_jetjet_e574_s934_s946_r1653_Date_26_06_Time_11_19_35.ANALY_SWT2_CPB
Received error message&#58; lcg_cp&#58; Communication error on send
Softwareversion&#58; Scientific Linux CERN SLC release 5.6 (Boron) /afs/cern.ch/project/gd/LCG-share/3.2.8-0/lcg lcg_util-1.7.6-2 GFAL-client-1.11.8-3
Affected site&#58; SWT2_CPB
Affected VO&#58; atlas

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=72775</a>

[Ticket History]
Changed CC to atlasdast@....
-- by Iftach Sadeh at Tue Jul 19 12&#58;57&#58;06 UTC 2011
</div><script type='text/javascript'>
        $('#show_1610838018').click(function() {
            $('#detail_1610838018').slideDown("normal");
            $('#show_1610838018').hide();
            $('#hide_1610838018').show();
        });
        $('#hide_1610838018').click(function() {
            $('#detail_1610838018').slideUp();
            $('#hide_1610838018').hide();
            $('#show_1610838018').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F10705">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
