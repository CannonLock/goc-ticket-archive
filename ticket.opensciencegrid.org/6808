<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[6808] New VOMS server installation</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6808" method="post">
<div class="page-header">
    <h3><span class="muted">6808</span> / New VOMS server installation</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Steve Gallo</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">check status</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-11-04</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=6808", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/6808?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/6808?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20New%20VOMS%20server%20installation%20ISSUE%3D6808%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6808#1257801037'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-09T21:10:37+00:00">Nov 9, 2009 09:10 PM UTC</time> by <b>echism</b><a class="anchor" name="1257801037">&nbsp;</a></div><pre>I am delighted to see this resolved! Thank you everyone for the patience and persistence.

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1257544930'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T22:02:10+00:00">Nov 6, 2009 10:02 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257544930">&nbsp;</a></div><pre>On Nov 6, 2009, at 3&#58;21 PM, osg@.... via RT wrote&#58;
<font color='#7F7E6F'>&#62; It looks like it&#39;s working to me.  I&#39;m going to run through it</font>
<font color='#7F7E6F'>&#62; again, I think</font>
<font color='#7F7E6F'>&#62; one of the things that threw me off was the message&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Error deserializing SOAP response&#58; Response is &#34;text/html&#34;, not</font>
<font color='#7F7E6F'>&#62; &#34;text/xml&#34;</font>
<font color='#7F7E6F'>&#62; This is very probably caused by the VO being inactive...</font>

Yeah, I ran the command before the VOMS server was fulling running.
Waiting a moment and re-running it was sufficient to get it to work.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257542407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T21:20:07+00:00">Nov 6, 2009 09:20 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1257542407">&nbsp;</a></div><pre>You&#39;re right - the VomsInstallGuide page is real bad and would be better
off as a link to the VDT docs, IMO.

It looks like it&#39;s working to me.  I&#39;m going to run through it again, I think
one of the things that threw me off was the message&#58;

Error deserializing SOAP response&#58; Response is &#34;text/html&#34;, not &#34;text/xml&#34;
This is very probably caused by the VO being inactive...

Thanks for your help.
Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1257541867'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T21:11:07+00:00">Nov 6, 2009 09:11 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257541867">&nbsp;</a></div><pre>On Nov 6, 2009, at 2&#58;36 PM, osg@.... via RT wrote&#58;
<font color='#7F7E6F'>&#62; Which docs did you follow?</font>

From my last email&#58;

<font color='#7F7E6F'>&#62; The major thing I realized is that the VomsInstallGuide page is</font>
<font color='#7F7E6F'>&#62; horrible. I used the VDT documentation which is good but most people</font>
<font color='#7F7E6F'>&#62; don&#39;t see it. It&#39;s at&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//vdt.cs.wisc.edu/releases/2.0.0/voms.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/2.0.0/voms.html</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It&#39;s slightly out of date because it misses a step to enable the</font>
<font color='#7F7E6F'>&#62; services (with vdt-control --enable) but it was otherwise decent.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So I think it&#39;s in working order. How does it look to you?</font>

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257539710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T20:35:10+00:00">Nov 6, 2009 08:35 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1257539710">&nbsp;</a></div><pre>Can you send a script of what you did?  I&#39;d like to compare it to what
we did to see where we went wrong and if there is a disconnect with the
docs.

Which docs did you follow?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1257539707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T20:35:07+00:00">Nov 6, 2009 08:35 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257539707">&nbsp;</a></div><pre>One more note&#58; In ~roy/typescript.voms there is a file showing
everything I did. Typescripts are hard to read, so I edited it a bit to
get rid of all the control characters and illegible Pacman output. (It
looks great on a terminal but not in a file.)

-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257537551'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T19:59:11+00:00">Nov 6, 2009 07:59 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257537551">&nbsp;</a></div><pre>Hi Steve,

I just walked through the VOMS installation. I did the install, added a
GRASE VO, then added both you and me as an administrator. (You can
remove me, but I needed to be there to test it.)

Everything worked for me on the first try. I&#39;m not sure what went wrong
for you. That bothers me, but I&#39;m pleased it&#39;s working.

I installed it in /opt/grid/voms, and I moved your previous installation
to /opt/grid/voms.previous.

You can see it running at&#58;
<a href='https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/' target='_blank' rel='nofollow'>https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/</a>

In /opt/grid/voms/glite/etc/vomses, you can see a vomses file that will
let you use voms-proxy-init. I just did it and it worked&#58;

% voms-proxy-init --voms GRASE
Enter GRID pass phrase&#58;
Your identity&#58; /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511
Creating temporary proxy .............................................. Done
Contacting  dylan-new.ccr.buffalo.edu&#58;15000
[/DC=org/DC=doegrids/OU=Services/CN=http/dylan-new.ccr.buffalo.edu]
&#34;GRASE&#34; Done
Creating proxy .................................................. Done
Your proxy is valid until Sat Nov  7 02&#58;51&#58;44 2009

% voms-proxy-info -all
WARNING&#58; Unable to verify signature! Server certificate possibly not
installed.
Error&#58; Cannot verify AC signature!
subject   &#58; /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511/CN=proxy
issuer    &#58; /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511
identity  &#58; /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511
<div id='show_2004207132' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2004207132'>type      &#58; proxy
strength  &#58; 1024 bits
path      &#58; /tmp/x509up_u5312
timeleft  &#58; 11&#58;57&#58;17
=== VO GRASE extension information ===
VO        &#58; GRASE
subject   &#58; /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511
issuer    &#58;
/DC=org/DC=doegrids/OU=Services/CN=http/dylan-new.ccr.buffalo.edu
attribute &#58; /GRASE/Role=NULL/Capability=NULL
timeleft  &#58; 11&#58;57&#58;17
uri       &#58; dylan-new.ccr.buffalo.edu&#58;15000

The major thing I realized is that the VomsInstallGuide page is
horrible. I used the VDT documentation which is good but most people
don&#39;t see it. It&#39;s at&#58;

<a href='http&#58;//vdt.cs.wisc.edu/releases/2.0.0/voms.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/2.0.0/voms.html</a>

It&#39;s slightly out of date because it misses a step to enable the
services (with vdt-control --enable) but it was otherwise decent.

So I think it&#39;s in working order. How does it look to you?

-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....
</div><script type='text/javascript'>
        $('#show_2004207132').click(function() {
            $('#detail_2004207132').slideDown("normal");
            $('#show_2004207132').hide();
            $('#hide_2004207132').show();
        });
        $('#hide_2004207132').click(function() {
            $('#detail_2004207132').slideUp();
            $('#hide_2004207132').hide();
            $('#show_2004207132').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1257528727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T17:32:07+00:00">Nov 6, 2009 05:32 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257528727">&nbsp;</a></div><pre>Thanks, I&#39;m in.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257527647'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T17:14:07+00:00">Nov 6, 2009 05:14 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1257527647">&nbsp;</a></div><pre>Done.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1257527286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-06T17:08:06+00:00">Nov 6, 2009 05:08 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257527286">&nbsp;</a></div><pre>Great. tonic.cs.wisc.edu is down this morning (a bad power supply) and
that&#39;s the only host from which I can connect to dylan-new. Hopefully
tonic will be back shortly, but can you also add access from
cobalt.cs.wisc.edu?

Thanks,
-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257443408'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-05T17:50:08+00:00">Nov 5, 2009 05:50 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257443408">&nbsp;</a></div><pre>On Nov 4, 2009, at 10&#58;51 PM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; Hi Alain, it sure is!  Have at it.</font>

Great, I&#39;ll do it first thing on Friday morning.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257396608'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-05T04:50:08+00:00">Nov 5, 2009 04:50 AM UTC</time> by <b>GRASE</b><a class="anchor" name="1257396608">&nbsp;</a></div><pre>Hi Alain, it sure is!  Have at it.

Steve
--
Sent from my iPhone

On Nov 4, 2009, at 5&#58;23 PM, Open Science Grid FootPrints &#60;osg@....
<font color='#7F7E6F'>&#62; wrote&#58;</font>

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1257373387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-04T22:23:07+00:00">Nov 4, 2009 10:23 PM UTC</time> by <b>VDT</b><a class="anchor" name="1257373387">&nbsp;</a></div><pre>Hi Steve--

I&#39;d like to resume work on this ticket. Is it still okay for me to log
in and do an independent installation, off to the side of yours, as root?

Thanks,
-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1257260722'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-11-03T15:05:22+00:00">Nov 3, 2009 03:05 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1257260722">&nbsp;</a></div><pre>I&#39;ve mailed Tim Cartwright and Scot Kronenfeld outside of this ticket to see if they can give us any direction.

Rob</pre></div><div class='update_description'><i onclick="document.location='6808#1256655187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-27T14:53:07+00:00">Oct 27, 2009 02:53 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1256655187">&nbsp;</a></div><pre>VDT is obviously quite busy, is there anyone else that can take a look
into this?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1256324434'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-23T19:00:34+00:00">Oct 23, 2009 07:00 PM UTC</time> by <b>echism</b><a class="anchor" name="1256324434">&nbsp;</a></div><pre>VDT,

Please update us.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1255716576'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-16T18:09:36+00:00">Oct 16, 2009 06:09 PM UTC</time> by <b>echism</b><a class="anchor" name="1255716576">&nbsp;</a></div><pre>VDT,

Please follow up on this issue.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1255362447'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-12T15:47:27+00:00">Oct 12, 2009 03:47 PM UTC</time> by <b>echism</b><a class="anchor" name="1255362447">&nbsp;</a></div><pre>VDT,

Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1254843791'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-06T15:43:11+00:00">Oct 6, 2009 03:43 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1254843791">&nbsp;</a></div><pre>I figured that I&#39;d try again using the VDT instructions at

<a href='http&#58;//vdt.cs.wisc.edu/releases/2.0.0/voms.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/2.0.0/voms.html</a>

but when trying to add the VO admin I get the following error&#58;

[root@dylan-new ~]# voms-admin --vo GRASE create-user ~smgallo/.globus/usercert.pem assign-role VO VO-Admin
~smgallo/.globus/usercert.pem
Error deserializing SOAP response&#58; Response is &#34;text/html&#34;, not &#34;text/xml&#34;
This is very probably caused by the VO being inactive...

script file is attached.

I&#39;d really like to get this resolved as the current VOMS server is on very
old hardware and off warranty, plus this ticket has been active for 6 months...

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1254239051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T15:44:11+00:00">Sep 29, 2009 03:44 PM UTC</time> by <b>VDT</b><a class="anchor" name="1254239051">&nbsp;</a></div><pre>I sent my email last week--I don&#39;t know why it didn&#39;t get sent by the
GOC ticket system until today. That&#39;s odd. I had time when I sent the
email to deal with this, but today I&#39;m traveling and involved in a
meeting. Bummer! I&#39;ll be available again on Thursday/Friday.

I had forgotten that I needed to log in from tonic--now it works fine.
Sorry about that.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1254238153'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-29T15:29:13+00:00">Sep 29, 2009 03:29 PM UTC</time> by <b>NYSGRID</b><a class="anchor" name="1254238153">&nbsp;</a></div><pre>Alain

What IP are are coming from? I don&#39;t see you even getting to dylan-new.
As some point we poke a hole for tonic.cs.wisc.edu. (128.105.121.53)

Jon

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1253819472'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-24T19:11:12+00:00">Sep 24, 2009 07:11 PM UTC</time> by <b>VDT</b><a class="anchor" name="1253819472">&nbsp;</a></div><pre>On Sep 24, 2009, at 1&#58;03 PM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; The name of the machine is dylan-new.ccr.buffalo.edu. Do you remember</font>
<font color='#7F7E6F'>&#62; your login and passwd?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Steve is out on Paternity leave for the next couple weeks.</font>

Congratulations Steve!

I do remember my login and password, but I can&#39;t login&#58;

% ssh -vvv roy@....
OpenSSH_5.1p1, OpenSSL 0.9.7l 28 Sep 2006
debug1&#58; Reading configuration data /Users/roy/.ssh/config
debug1&#58; Reading configuration data /etc/ssh_config
debug2&#58; ssh_connect&#58; needpriv 0
debug1&#58; Connecting to dylan-new.ccr.buffalo.edu [128.205.41.143] port
22.
debug1&#58; Connection established.
debug1&#58; identity file /Users/roy/.ssh/identity type -1
debug1&#58; identity file /Users/roy/.ssh/id_rsa type -1
debug3&#58; Not a RSA1 key file /Users/roy/.ssh/id_dsa.
debug2&#58; key_type_from_name&#58; unknown key type &#39;-----BEGIN&#39;
debug3&#58; key_read&#58; missing keytype
debug2&#58; key_type_from_name&#58; unknown key type &#39;Proc-Type&#58;&#39;
debug3&#58; key_read&#58; missing keytype
debug2&#58; key_type_from_name&#58; unknown key type &#39;DEK-Info&#58;&#39;
debug3&#58; key_read&#58; missing keytype
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
<div id='show_597638349' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_597638349'>debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug3&#58; key_read&#58; missing whitespace
debug2&#58; key_type_from_name&#58; unknown key type &#39;-----END&#39;
debug3&#58; key_read&#58; missing keytype
debug1&#58; identity file /Users/roy/.ssh/id_dsa type 2
ssh_exchange_identification&#58; Connection closed by remote host

It doesn&#39;t seem to be an issue with my public key--removing it shows
the same problem.

Any idea how I can log in?

Thanks,
-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....
</div><script type='text/javascript'>
        $('#show_597638349').click(function() {
            $('#detail_597638349').slideDown("normal");
            $('#show_597638349').hide();
            $('#hide_597638349').show();
        });
        $('#hide_597638349').click(function() {
            $('#detail_597638349').slideUp();
            $('#hide_597638349').hide();
            $('#show_597638349').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1253815332'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-24T18:02:12+00:00">Sep 24, 2009 06:02 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1253815332">&nbsp;</a></div><pre>Alain

The name of the machine is dylan-new.ccr.buffalo.edu. Do you remember
your login and passwd?

Steve is out on Paternity leave for the next couple weeks.

Jon

-------- Original Message --------
Subject&#58; Open Science Grid&#58; New VOMS server installation ISSUE=6808 PROJ=71
Date&#58; Thu, 24 Sep 2009 15&#58;29 +0000
From&#58; Open Science Grid FootPrints &#60;osg@....&#62;
Reply-To&#58; osg@....
To&#58; smgallo@....

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6808#1253806152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-24T15:29:12+00:00">Sep 24, 2009 03:29 PM UTC</time> by <b>VDT</b><a class="anchor" name="1253806152">&nbsp;</a></div><pre>I&#39;m sorry for dropping this. I have time to look at it this afternoon.
Is my login still active? Mind if I try it out interactively?

Thanks,
-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1253713092'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-23T13:38:12+00:00">Sep 23, 2009 01:38 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1253713092">&nbsp;</a></div><pre>Hi Rob

We&#39;re waiting to hear back from the VDT folks. Jon will reinstall and
send you a capture.

Steve

Sent from my iPhone

On Sep 23, 2009, at 6&#58;43 AM, Open Science Grid FootPrints &#60;osg@....
<font color='#7F7E6F'>&#62; wrote&#58;</font>

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1253702617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-23T10:43:37+00:00">Sep 23, 2009 10:43 AM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1253702617">&nbsp;</a></div><pre>Steve,

Any updates on installation of a new VOMS server for GRASE? Capturing output and sending it to this and the VDT ticket would help a great deal in troubleshooting.

Rob</pre></div><div class='update_description'><i onclick="document.location='6808#1253114232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-16T15:17:12+00:00">Sep 16, 2009 03:17 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1253114232">&nbsp;</a></div><pre>We can re-try the install and post the capture of everything that we did
if that helps.  We&#39;re concerned that the hardware which is our current VOMS
server is off warranty and old (5+ years).  Sometimes the software breaks
when trying to manage user lists as well since this is a very old install.
I&#39;d really love to be able to install the new one...

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1253106778'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-16T13:12:58+00:00">Sep 16, 2009 01:12 PM UTC</time> by <b>echism</b><a class="anchor" name="1253106778">&nbsp;</a></div><pre>Alain,

Is there anything new on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1252523494'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-09T19:11:34+00:00">Sep 9, 2009 07:11 PM UTC</time> by <b>echism</b><a class="anchor" name="1252523494">&nbsp;</a></div><pre>Alain,

Is there anything new on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1252011132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-03T20:52:12+00:00">Sep 3, 2009 08:52 PM UTC</time> by <b>VDT</b><a class="anchor" name="1252011132">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Thank you for your patience. VDT, can we take another look at this</font>
<font color='#7F7E6F'>&#62; one please? I would really appreciate it.</font>

My apologies--we&#39;ve been swamped. I&#39;ll take a look at it on Monday.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1251920249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-02T19:37:29+00:00">Sep 2, 2009 07:37 PM UTC</time> by <b>echism</b><a class="anchor" name="1251920249">&nbsp;</a></div><pre>Steve,

Thank you for your patience. VDT, can we take another look at this one please? I would really appreciate it.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1251727514'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-31T14:05:14+00:00">Aug 31, 2009 02:05 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1251727514">&nbsp;</a></div><pre>Nothing new on my end, I haven&#39;t heard back from Alain, I&#39;m assuming that
he&#39;s swamped.  We could run through the install again and post a capture
of everything that we&#39;ve done.  Maybe someone can run through it and check
the docs to make sure things are consistent.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1250691058'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-19T14:10:58+00:00">Aug 19, 2009 02:10 PM UTC</time> by <b>echism</b><a class="anchor" name="1250691058">&nbsp;</a></div><pre>Alain,

Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1250091245'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-12T15:34:05+00:00">Aug 12, 2009 03:34 PM UTC</time> by <b>echism</b><a class="anchor" name="1250091245">&nbsp;</a></div><pre>Alain,

Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1249475855'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-05T12:37:35+00:00">Aug 5, 2009 12:37 PM UTC</time> by <b>echism</b><a class="anchor" name="1249475855">&nbsp;</a></div><pre>Alain,

Are there any updates on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1248921372'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-30T02:36:12+00:00">Jul 30, 2009 02:36 AM UTC</time> by <b>VDT</b><a class="anchor" name="1248921372">&nbsp;</a></div><pre>I&#39;m so sorry, I haven&#39;t had a chance yet, but will do so soon.

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1248882132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-29T15:42:12+00:00">Jul 29, 2009 03:42 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1248882132">&nbsp;</a></div><pre>Hi alain,

Have you had a chance to take a look at our VOMS install this week?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1248284934'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-22T17:48:54+00:00">Jul 22, 2009 05:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1248284934">&nbsp;</a></div><pre>Alain,

Please keep us posted on this.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1248116773'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-20T19:06:13+00:00">Jul 20, 2009 07:06 PM UTC</time> by <b>VDT</b><a class="anchor" name="1248116773">&nbsp;</a></div><pre>Hi Steve,

My meeting last week got busier than expected and I didn&#39;t get a
chance to try it yet. I&#39;ll give it a shot this week.

Thanks,
-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1247665152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-15T13:39:12+00:00">Jul 15, 2009 01:39 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1247665152">&nbsp;</a></div><pre>That&#39;s fine by me.  You can save the certs and such.  Could you save a typescript
of what you do so that if it works we can compare and see where the differences
are?  We followed the documentation at
<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide</a>

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1247649852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-15T09:24:12+00:00">Jul 15, 2009 09:24 AM UTC</time> by <b>VDT</b><a class="anchor" name="1247649852">&nbsp;</a></div><pre>Hi Steve--

Thanks for providing direct access, it&#39;s definitely helpful!

I&#39;m still stumped. Do you mind if I do a fresh installation myself to
see if I can work through the issues more directly? I would move your
voms installation directory to voms.original and do a fresh install.

Thanks,
-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1247219832'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-10T09:57:12+00:00">Jul 10, 2009 09:57 AM UTC</time> by <b>VDT</b><a class="anchor" name="1247219832">&nbsp;</a></div><pre>On Jul 10, 2009, at 4&#58;01 AM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; I&#39;m sure that can be arranged.  What&#39;s your contact info so I can</font>
<font color='#7F7E6F'>&#62; get you</font>
<font color='#7F7E6F'>&#62; the details directly?</font>

At the moment, I&#39;m Europe without a phone, so I&#39;m hard to contact
directly. Can I give you an ssh public key?

ssh-dss
AAAAB3NzaC1kc3MAAACBAIXzjjWIek3GLFpx6ifmKlKHEX582ihRt7H5VrNyB0f3tC9KzgAKbPCd4yCDGc16Pu7imF
+dkt4b8F4mfqFJx58k+pfr5QApmaVWjPHX/
8qP7uYJ639JctY0ONObVZNJyCvNSUjv15HUTr9HORAXbJi4xZWoO0fClE5B0bkksTuDAAAAFQClQHcDWW79aLJ7lFnfCF8Ycxt6nwAAAIAZZzrXkXeO2WKlEI4XRkf6iDxhzbleFK7b
/
4L4fTRk43DLvDZOb3xQdo47p94bqfq8QBnBOCDHlIL8NmI6hJjYJgk2dhd9ArvsjvmEBBXh0KkGNiktuUFMLHra7OgsMWIZqGomO8njHTr
/
hH22fCvrE4BlidhTJHSeAspnXVkUwAAAAIACew2kP8AipsfcVIl0l7DLrEMPnzHyEjcjhTyMW2mq3
+BgHlYfYRTLCEr7L0WzL3cCd5pNNhVptPcOfkm
+
XbKLMfon5GeWv3X9Ed8QIhcihgbRyOsW1aosSLSMtFpwDbzctgcjzUtnogXQ3dewQNGIFEJ
+Zta1ABSi4dHKpcLaIA== roy@....

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1247191220'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-10T02:00:20+00:00">Jul 10, 2009 02:00 AM UTC</time> by <b>GRASE</b><a class="anchor" name="1247191220">&nbsp;</a></div><pre>I&#39;m sure that can be arranged.  What&#39;s your contact info so I can get you
the details directly?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1247173392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-09T21:03:12+00:00">Jul 9, 2009 09:03 PM UTC</time> by <b>VDT</b><a class="anchor" name="1247173392">&nbsp;</a></div><pre>On Jul 9, 2009, at 10&#58;58 PM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; Yeah, it created them in the mysql5 database.  Would it be helpful</font>
<font color='#7F7E6F'>&#62; if we wiped</font>
<font color='#7F7E6F'>&#62; everything out, went through the install and sent you a script with</font>
<font color='#7F7E6F'>&#62; everything</font>
<font color='#7F7E6F'>&#62; that we did and the results?</font>

I don&#39;t really want to ask you to do that, but I&#39;m at a lose for what
else to do.

Here&#39;s another idea&#58; is it possible to get access to the computer, so
I could do some interactive debugging?

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1247173031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-09T20:57:11+00:00">Jul 9, 2009 08:57 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1247173031">&nbsp;</a></div><pre>Yeah, it created them in the mysql5 database.  Would it be helpful if we wiped
everything out, went through the install and sent you a script with everything
that we did and the results?

Steve

[root@dylan-new ~]# . /opt/grid/voms/setup.sh
[root@dylan-new ~]# which mysql
/opt/grid/voms/mysql/bin/mysql
[root@dylan-new ~]# mysql
Welcome to the MySQL monitor.  Commands end with ; or &#92;g.
Your MySQL connection id is 1 to server version&#58; 4.1.22

Type &#39;help;&#39; or &#39;&#92;h&#39; for help. Type &#39;&#92;c&#39; to clear the buffer.

mysql&#62; show databases;
+----------+
| Database |
+----------+
| mysql    |
| test     |
+----------+
2 rows in set (0.00 sec)

mysql&#62; exit
Bye

[root@dylan-new ~]# /opt/grid/voms/mysql5/bin/mysql
Welcome to the MySQL monitor.  Commands end with ; or &#92;g.
Your MySQL connection id is 2
Server version&#58; 5.0.67 Source distribution

Type &#39;help;&#39; or &#39;&#92;h&#39; for help. Type &#39;&#92;c&#39; to clear the buffer.

mysql&#62; show databases;
<div id='show_1103895115' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1103895115'>+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| test               |
| voms_GRASE         |
+--------------------+
4 rows in set (0.00 sec)

mysql&#62; use voms_GRASE;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&#62; show tables;
+----------------------+
| Tables_in_voms_GRASE |
+----------------------+
| acl2                 |
| acl2_permissions     |
| admins               |
| admins_history       |
| attributes           |
| ca                   |
| capabilities         |
| group_attrs          |
| groups               |
| history              |
| m                    |
| memb_req             |
| role_attrs           |
| roles                |
| seqnumber            |
| usr                  |
| usr_attrs            |
| version              |
+----------------------+
18 rows in set (0.00 sec)

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1103895115').click(function() {
            $('#detail_1103895115').slideDown("normal");
            $('#show_1103895115').hide();
            $('#hide_1103895115').show();
        });
        $('#hide_1103895115').click(function() {
            $('#detail_1103895115').slideUp();
            $('#hide_1103895115').hide();
            $('#show_1103895115').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1247172492'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-09T20:48:12+00:00">Jul 9, 2009 08:48 PM UTC</time> by <b>VDT</b><a class="anchor" name="1247172492">&nbsp;</a></div><pre>At this point, I&#39;m running out of ideas. I haven&#39;t seen this problem
before and am not sure how to debug it.

Grasping at straw here&#58; I see that the stack trace shows hibernate,
which interacts with the database. The database is up and running? It
has the VOMS tables in it?

-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1246985833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-07T16:57:13+00:00">Jul 7, 2009 04:57 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1246985833">&nbsp;</a></div><pre>Hi Guys,

Any more ideas?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1246473251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T18:34:11+00:00">Jul 1, 2009 06:34 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1246473251">&nbsp;</a></div><pre>I tried that with no luck.  Here is what I did with the exception shown in
the web browser.

Steve

[root@dylan-new ~]# chown -R daemon&#58;daemon /etc/grid-security/http

[root@dylan-new ~]# vdt-control -off
disabling init service voms... ok
disabling init service tomcat-55... ok
disabling init service apache... ok
disabling init service mysql... ok
disabling init service mysql5... ok
disabling cron service vdt-update-certs... ok
disabling cron service vdt-rotate-logs... ok
disabling cron service fetch-crl... ok

[root@dylan-new ~]# ps -ef|fgrep java
root     25834 24353  0 14&#58;28 pts/0    00&#58;00&#58;00 fgrep java

[root@dylan-new ~]# vdt-control -on
enabling cron service fetch-crl... ok
enabling cron service vdt-rotate-logs... ok
enabling cron service vdt-update-certs... ok
enabling init service mysql5... ok
enabling init service mysql... ok
enabling init service apache... ok
enabling init service tomcat-55... ok
enabling init service voms... ok

[root@dylan-new ~]# ps -ef|fgrep java
daemon   26162     1 92 14&#58;29 pts/0    00&#58;00&#58;11 /opt/grid/voms/jdk1.5/bin/java
-Djava.util.logging.config.file=/opt/grid/voms/tomcat/v55/conf/logging.properties -server -Xmx256M -XX&#58;MaxPermSize=256m
-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
-Djava.endorsed.dirs=/opt/grid/voms/tomcat/v55/common/endorsed -classpath
<div id='show_2033210019' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2033210019'>&#58;/opt/grid/voms/tomcat/v55/bin/bootstrap.jar&#58;/opt/grid/voms/tomcat/v55/bin/commons-logging-api.jar
-Dcatalina.base=/opt/grid/voms/tomcat/v55 -Dcatalina.home=/opt/grid/voms/tomcat/v55
-Djava.io.tmpdir=/opt/grid/voms/tomcat/v55/temp org.apache.catalina.startup.Bootstrap start

[root@dylan-new ~]# ps -ef|fgrep GRASE
daemon   26220     1  0 14&#58;29 pts/0    00&#58;00&#58;00 /opt/grid/voms/glite/sbin/edg-voms --conf
/opt/grid/voms/glite/etc/voms/GRASE/voms.conf
daemon   26222     1  0 14&#58;29 ?        00&#58;00&#58;00 /opt/grid/voms/glite/sbin/edg-voms --conf
/opt/grid/voms/glite/etc/voms/GRASE/voms.conf

<a href='https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/voms/GRASE' target='_blank' rel='nofollow'>https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/voms/GRASE</a>

type Exception report

message

description The server encountered an internal error () that prevented it from fulfilling this request.

exception

javax.servlet.ServletException&#58; Filter execution threw an exception

root cause

java.lang.ExceptionInInitializerError
com.mchange.v2.c3p0.PoolConfig.&#60;clinit&#62;(PoolConfig.java&#58;93)
org.hibernate.connection.C3P0ConnectionProvider.configure(C3P0ConnectionProvider.java&#58;84)
org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;124)
org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;56)
org.hibernate.cfg.SettingsFactory.createConnectionProvider(SettingsFactory.java&#58;397)
org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java&#58;62)
org.hibernate.cfg.Configuration.buildSettings(Configuration.java&#58;2006)
org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java&#58;1289)
org.glite.security.voms.admin.database.HibernateFactory.&#60;clinit&#62;(HibernateFactory.java&#58;66)
org.glite.security.voms.admin.dao.VOMSAdminDAO.&#60;init&#62;(VOMSAdminDAO.java&#58;51)
org.glite.security.voms.admin.dao.VOMSAdminDAO.instance(VOMSAdminDAO.java&#58;57)
org.glite.security.voms.admin.operations.CurrentAdmin.instance(CurrentAdmin.java&#58;64)
org.glite.security.voms.admin.servlets.SecurityContextFilter.doFilter(SecurityContextFilter.java&#58;72)

root cause

java.lang.NullPointerException
java.util.Arrays$ArrayList.&#60;init&#62;(Arrays.java&#58;2355)
java.util.Arrays.asList(Arrays.java&#58;2341)
sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java&#58;67)
sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java&#58;161)
java.net.URL.openStream(URL.java&#58;1007)
java.lang.ClassLoader.getResourceAsStream(ClassLoader.java&#58;1161)
org.apache.catalina.loader.WebappClassLoader.getResourceAsStream(WebappClassLoader.java&#58;1204)
java.lang.Class.getResourceAsStream(Class.java&#58;1998)
com.mchange.v2.cfg.BasicMultiPropertiesConfig.&#60;init&#62;(BasicMultiPropertiesConfig.java&#58;48)
com.mchange.v2.cfg.BasicMultiPropertiesConfig.&#60;init&#62;(BasicMultiPropertiesConfig.java&#58;39)
com.mchange.v2.cfg.MultiPropertiesConfig.read(MultiPropertiesConfig.java&#58;64)
com.mchange.v2.cfg.MultiPropertiesConfig.readVmConfig(MultiPropertiesConfig.java&#58;73)
com.mchange.v2.log.MLog.&#60;clinit&#62;(MLog.java&#58;48)
com.mchange.v2.c3p0.PoolConfig.&#60;clinit&#62;(PoolConfig.java&#58;93)
org.hibernate.connection.C3P0ConnectionProvider.configure(C3P0ConnectionProvider.java&#58;84)
org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;124)
org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;56)
org.hibernate.cfg.SettingsFactory.createConnectionProvider(SettingsFactory.java&#58;397)
org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java&#58;62)
org.hibernate.cfg.Configuration.buildSettings(Configuration.java&#58;2006)
org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java&#58;1289)
org.glite.security.voms.admin.database.HibernateFactory.&#60;clinit&#62;(HibernateFactory.java&#58;66)
org.glite.security.voms.admin.dao.VOMSAdminDAO.&#60;init&#62;(VOMSAdminDAO.java&#58;51)
org.glite.security.voms.admin.dao.VOMSAdminDAO.instance(VOMSAdminDAO.java&#58;57)
org.glite.security.voms.admin.operations.CurrentAdmin.instance(CurrentAdmin.java&#58;64)
org.glite.security.voms.admin.servlets.SecurityContextFilter.doFilter(SecurityContextFilter.java&#58;72)

note The full stack trace of the root cause is available in the Apache Tomcat/5.5.27 logs.

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2033210019').click(function() {
            $('#detail_2033210019').slideDown("normal");
            $('#show_2033210019').hide();
            $('#hide_2033210019').show();
        });
        $('#hide_2033210019').click(function() {
            $('#detail_2033210019').slideUp();
            $('#hide_2033210019').hide();
            $('#show_2033210019').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1246471092'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T17:58:12+00:00">Jul 1, 2009 05:58 PM UTC</time> by <b>VDT</b><a class="anchor" name="1246471092">&nbsp;</a></div><pre>On Jul 1, 2009, at 12&#58;36 PM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; Yes, this is the same instance that we were having issues with</font>
<font color='#7F7E6F'>&#62; before.  Jon</font>
<font color='#7F7E6F'>&#62; removed the /opt/grid/voms directory and re-installed everything.</font>
<font color='#7F7E6F'>&#62; I&#39;ve re-run</font>
<font color='#7F7E6F'>&#62; vdt-system-profile and attached the file to this message.</font>
<font color='#7F7E6F'>&#62; Permissions on</font>
<font color='#7F7E6F'>&#62; the httpcerts are below.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -bash-3.2$ ls -l /etc/grid-security/http/http{key,cert}.pem</font>
<font color='#7F7E6F'>&#62; -rw-r--r-- 1 root root 1509 May  6 10&#58;18 /etc/grid-security/http/</font>
<font color='#7F7E6F'>&#62; httpcert.pem</font>
<font color='#7F7E6F'>&#62; -r-------- 1 root root 1679 May  6 10&#58;18 /etc/grid-security/http/</font>
<font color='#7F7E6F'>&#62; httpkey.pem</font>

I&#39;m pretty sure that the httpkey.pem file has to be owned by the
daemon user because Tomcat is run by the daemon user. I can&#39;t swear
that this is your problem, but Tomcat will definitley fail to
authenticate because it can&#39;t read its private key. Can you do the
following?

chown -R daemon&#58;daemon /etc/grid-security/http

Then restart Tomcat. (vdt-control -off/on)

Does that help?

Thanks,
-alain

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1246469654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T17:34:14+00:00">Jul 1, 2009 05:34 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1246469654">&nbsp;</a></div><pre>Hi Alain,

Yes, this is the same instance that we were having issues with before.  Jon
removed the /opt/grid/voms directory and re-installed everything.  I&#39;ve re-run
vdt-system-profile and attached the file to this message.  Permissions on
the httpcerts are below.

-bash-3.2$ ls -l /etc/grid-security/http/http{key,cert}.pem
-rw-r--r-- 1 root root 1509 May  6 10&#58;18 /etc/grid-security/http/httpcert.pem
-r-------- 1 root root 1679 May  6 10&#58;18 /etc/grid-security/http/httpkey.pem

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1246466411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T16:40:11+00:00">Jul 1, 2009 04:40 PM UTC</time> by <b>VDT</b><a class="anchor" name="1246466411">&nbsp;</a></div><pre>Hi.

Tim has become unexpectedly swamped, so I&#39;m taking over this ticket from
him. I&#39;m sorry for the delays.

Can I assume you&#39;re still having the problem? I have a few questions.

1) You sent us a vdt-profile&#58; is it for the same installation that you
last reported problems with? The one throwing an exception? That is, did
you reinstall before you tried Tim&#39;s suggestions? I just want to make
sure I&#39;m looking at the right information.

2) What are the permission on your httpcert and httpkey? That is, what
is the output of&#58;

ls -l /etc/grid-security/http/

Thanks,
-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1246463933'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T15:58:53+00:00">Jul 1, 2009 03:58 PM UTC</time> by <b>echism</b><a class="anchor" name="1246463933">&nbsp;</a></div><pre>Are there any updates on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1245876373'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-24T20:46:13+00:00">Jun 24, 2009 08:46 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1245876373">&nbsp;</a></div><pre>Hi Tim,

I agree about the OSG docs.  Still having issues, but I&#39;ve made progress.
After creating the voms I needed to restart all of the services, not just
the voms service.  Otherwise apache/tomcat didn&#39;t behave and only one
/opt/grid/voms/glite/sbin/edg-voms process was started.  But, adding an
administrative user or accessing the web tools still gives me problems.

Here&#39;s what I have done&#58;

#&#62; vdt-control --off
disabling init service voms... ok

#&#62; $VDT_LOCATION/vdt/setup/configure_voms --server y  --vo GRASE
--mail-from smgallo@....  --smtp-host mail.ccr.buffalo.edu  --vdt-install $VDT_LOCATION

#&#62; vdt-control --on
enabling cron service fetch-crl... ok
enabling cron service vdt-rotate-logs... ok
enabling cron service vdt-update-certs... ok
enabling init service mysql5... ok
enabling init service mysql... ok
enabling init service apache... ok
enabling init service tomcat-55... ok
enabling init service voms... ok

#&#62; ps -ef|fgrep GRASE
daemon   30524     1  0 16&#58;39 pts/1    00&#58;00&#58;00 /opt/grid/voms/glite/sbin/edg-voms --conf
/opt/grid/voms/glite/etc/voms/GRASE/voms.conf
daemon   30526     1  0 16&#58;39 ?        00&#58;00&#58;00 /opt/grid/voms/glite/sbin/edg-voms --conf
/opt/grid/voms/glite/etc/voms/GRASE/voms.conf

#&#62; voms-admin --vo GRASE create-user ~smgallo/.globus/usercert.pem assign-role VO VO-Admin ~smgallo/.globus/usercert.pem
java.lang.reflect.InvocationTargetException
dylan-new.ccr.buffalo.edu
<div id='show_2118122892' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2118122892'>
Now, if I go to <a href='https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/' target='_blank' rel='nofollow'>https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/</a> I do see a link for
&#34;VOMS&#58; GRASE&#34; but when I click on it I get the following exception&#58;

exception

javax.servlet.ServletException&#58; Filter execution threw an exception

root cause

java.lang.NoClassDefFoundError
org.glite.security.voms.admin.dao.VOMSAdminDAO.&#60;init&#62;(VOMSAdminDAO.java&#58;51)
org.glite.security.voms.admin.dao.VOMSAdminDAO.instance(VOMSAdminDAO.java&#58;57)
org.glite.security.voms.admin.operations.CurrentAdmin.instance(CurrentAdmin.java&#58;64)
org.glite.security.voms.admin.servlets.SecurityContextFilter.doFilter(SecurityContextFilter.java&#58;72)

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2118122892').click(function() {
            $('#detail_2118122892').slideDown("normal");
            $('#show_2118122892').hide();
            $('#hide_2118122892').show();
        });
        $('#hide_2118122892').click(function() {
            $('#detail_2118122892').slideUp();
            $('#hide_2118122892').hide();
            $('#show_2118122892').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1245857472'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-24T15:31:12+00:00">Jun 24, 2009 03:31 PM UTC</time> by <b>VDT</b><a class="anchor" name="1245857472">&nbsp;</a></div><pre>Steve&#58;

I&#39;m really very sorry about this, but the instructions you are
following (along with the rest of OSG!) are horribly bad.  I do not
have time to try to fix them today, but I can try to give you a quick
summary of how things *should* go, at least at a high level.

Roughly speaking, here is the process for setting up a new VOMS server&#58;

1. Install the OSG&#58;voms package (as described in the docs)
2. Source a setup script
3. Install the CA certificates (i.e., &#34;Install the CA Certificate
Updater&#34;)
4. Create one or more VOs
5. Start VDT services (i.e., vdt-control --on)
6. For each VO, add the initial VO administrator

Those are the main pieces, in order.  The VDT also has some basic VOMS
documentation, in case it&#39;s helpful&#58;

<a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/voms.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/voms.html</a>

Let me know if this info helps!

-- Tim

On 24 Jun 2009, at 09&#58;24, osg@.... via RT wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245852972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-24T14:16:12+00:00">Jun 24, 2009 02:16 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1245852972">&nbsp;</a></div><pre>I&#39;ve found several other issues...

Following these instructions&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide#Included_topic_Voms_Configuratio' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide#Included_topic_Voms_Configuratio</a>

I&#39;ve run the following command&#58;

$VDT_LOCATION/vdt/setup/configure_voms --server y
--vo GRASE
--mail-from smgallo@....
--smtp-host mail.ccr.buffalo.edu
--vdt-install $VDT_LOCATION

Verifying the database install as per the instructions fails.  The default mysql
in the root path is mysql4&#58;

/opt/grid/voms/mysql/bin/mysql

[root@dylan-new ~]# mysql -u root
Welcome to the MySQL monitor.  Commands end with ; or &#92;g.
Your MySQL connection id is 1 to server version&#58; 4.1.22

Type &#39;help;&#39; or &#39;&#92;h&#39; for help. Type &#39;&#92;c&#39; to clear the buffer.

mysql&#62; show databases;
+----------+
| Database |
+----------+
| mysql    |
| test     |
+----------+
2 rows in set (0.00 sec)

But, I do notice that the mysql5 instance is now enabled whereas before
<div id='show_2145780328' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2145780328'>it was not, however it is not started at this point.

[root@dylan-new ~]# vdt-control --list
Service            | Type   | Desired State
-------------------+--------+--------------
fetch-crl          | cron   | enable
vdt-rotate-logs    | cron   | enable
vdt-update-certs   | cron   | enable
mysql5             | init   | enable
mysql              | init   | enable
apache             | init   | enable
tomcat-55          | init   | enable
voms               | init   | enable

It did seem to create the databse in mysql5 though&#58;

/opt/grid/voms/vdt-app-data/mysql5/var/voms_GRASE/

And it did create $VDT_LOCATION/vdt-app-data/voms/voms/GRASE

Moving on to the next step (Enabling Vo Admin), it fails&#58;

[root@dylan-new ~]# voms-admin --nousercert --vo GRASE add-ACL-entry /GRASE ANYONE VOMS_CA
&#34;CONTAINER_READ,MEMBERSHIP_READ&#34; true
Error deserializing SOAP response&#58; Response is &#34;text/html&#34;, not &#34;text/xml&#34;
This is very probably caused by the VO being inactive...

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2145780328').click(function() {
            $('#detail_2145780328').slideDown("normal");
            $('#show_2145780328').hide();
            $('#hide_2145780328').show();
        });
        $('#hide_2145780328').click(function() {
            $('#detail_2145780328').slideUp();
            $('#hide_2145780328').hide();
            $('#show_2145780328').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1245784571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-23T19:16:11+00:00">Jun 23, 2009 07:16 PM UTC</time> by <b>VDT</b><a class="anchor" name="1245784571">&nbsp;</a></div><pre>Steve&#58;

18 KB is not a problem!  No worries there.

The profile output didn&#39;t include everything that I might need,
because apparently you ran the install as root but the vdt-system-
profiler command as non-root.  But... I may not need to see more output.

I just skimmed through the documentation page that you linked to
earlier.  It has at least one significant flaw -- the VOMS service
will not be configured and therefore will not be present in the
services/state file UNTIL you actually create one or more VOs.  After
installation, skip *way* down to the section labeled &#34;Included topic&#58;
Voms Configuration&#34;, and do the &#34;Creating a VO&#34; steps before actually
trying to start up the VDT services.  I suspect that will help a lot.

Ironically enough, I am going to an OSG documentation meeting on
Thursday and Friday.  I will see if I can get someone to fix the
problems in this document.

Let me know how things go!

-- Tim

On 23 Jun 2009, at 11&#58;15, osg@.... via RT wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245773231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-23T16:07:11+00:00">Jun 23, 2009 04:07 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1245773231">&nbsp;</a></div><pre>It&#39;s actually only 18k compressed so I attached it to the email.  If
there&#39;s a problem I&#39;ll post it online.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245772152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-23T15:49:12+00:00">Jun 23, 2009 03:49 PM UTC</time> by <b>VDT</b><a class="anchor" name="1245772152">&nbsp;</a></div><pre>Steve&#58;

Could you please source a setup script and run vdt-system-profiler?
It should produce a very long log file.  Please post that file online
and send its URL, or gzip it and attach it to a reply to this email
(although it will probably be rather large for email).

-- Tim

On 23 Jun 2009, at 09&#58;06, osg@.... via RT wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245765673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-23T14:01:13+00:00">Jun 23, 2009 02:01 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1245765673">&nbsp;</a></div><pre>Hi Tim,

We&#39;ve wiped out our entire /opt/grid installation and Jon has reinstalled
using the instructions at <a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide</a>

pacman -get  OSG&#58;voms

However, after running vdt-control --on, we do not see a voms service listed.  Also, we
see a mysql5 service (marked as disabled) but this is not listed in the instructions.

[root@dylan-new voms]# vdt-control --on
enabling cron service fetch-crl... ok
enabling cron service vdt-rotate-logs... ok
enabling cron service vdt-update-certs... ok
skipping init service &#39;mysql5&#39; -- marked as disabled
enabling init service mysql... ok
enabling init service apache... ok
enabling init service tomcat-55... ok

Please advise, I believe that we saw a similar problem last time we tried
to install.

Thanks,
STeve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245427631'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T16:07:11+00:00">Jun 19, 2009 04:07 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1245427631">&nbsp;</a></div><pre>I think that we&#39;re going to try and re-install the VDT on that host
next week and see if that gets us anywhere.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245415477'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-19T12:44:37+00:00">Jun 19, 2009 12:44 PM UTC</time> by <b>echism</b><a class="anchor" name="1245415477">&nbsp;</a></div><pre>Steve&#58;

See below for the response from the developer -- he says that the
installation is broken.

I&#39;m not sure I would have much to add here.  I have never seen the
errors originally described in the ticket before, and I have seen a
lot of different VOMS errors.

Show More

I see at least two paths we could pursue here.  (1) I could dig into
the details of your existing install to try to figure out why it&#39;s so
broken.  And/or (2), you could just reinstall in an empty directory
and see if it works better this time.  Which one (or both) would you
like to proceed with?

-- tim</pre></div><div class='update_description'><i onclick="document.location='6808#1245342491'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-18T16:28:11+00:00">Jun 18, 2009 04:28 PM UTC</time> by <b>VDT</b><a class="anchor" name="1245342491">&nbsp;</a></div><pre>I never heard back from Andrea Ceccanti, the VOMS Admin developer, so
I just pinged him again.  I really want to hear what he has to say
about the exception traces before I dig in myself.

-- Tim

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245276613'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-17T22:10:13+00:00">Jun 17, 2009 10:10 PM UTC</time> by <b>VDT</b><a class="anchor" name="1245276613">&nbsp;</a></div><pre>I am going to take a look at this tomorrow.

On 17 Jun 2009, at 16&#58;25, osg@.... via RT wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1245273407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-17T21:16:47+00:00">Jun 17, 2009 09:16 PM UTC</time> by <b>echism</b><a class="anchor" name="1245273407">&nbsp;</a></div><pre>VDT,

Is there anything new on this?

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1244650031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-10T16:07:11+00:00">Jun 10, 2009 04:07 PM UTC</time> by <b>VDT</b><a class="anchor" name="1244650031">&nbsp;</a></div><pre>On Jun 10, 2009, at 10&#58;55 AM, osg@.... via RT
wrote&#58;
<font color='#7F7E6F'>&#62; Are there any updates on this issue?</font>

I&#39;m not sure where Tim left on this, and he&#39;s on vacation, returning
on Monday. I&#39;ll hassle him to finish looking into this ASAP when he
returns.

-alain
-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1244649312'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-10T15:55:12+00:00">Jun 10, 2009 03:55 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1244649312">&nbsp;</a></div><pre>Not from my end - waiting to hear back from the VDT folks.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1244649192'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-10T15:53:12+00:00">Jun 10, 2009 03:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1244649192">&nbsp;</a></div><pre>Are there any updates on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1244036154'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-03T13:35:54+00:00">Jun 3, 2009 01:35 PM UTC</time> by <b>echism</b><a class="anchor" name="1244036154">&nbsp;</a></div><pre>Tim,

Could you share your VOMS contacts with me? I would find them exceptionally useful.

Thanks,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1243536191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T18:43:11+00:00">May 28, 2009 06:43 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1243536191">&nbsp;</a></div><pre>Hi Tim,

We&#39;re on RHEL5.3, x86_64, OSG 1.0.1

-bash-3.2$ vdt-version

You have installed a subset of VDT version 1.10.1v&#58;

Software                                                 Status
--------                                                 ------
Apache HTTPD 2.2.9                                       OK
CA Certificates 1.6 (includes IGTF 1.29 CAs)             -
Fetch CRL 2.6.6                                          -
GPT 3.2autotools2004-NMI-9.0                             -
Java 5 SDK 1.5.0_17                                      OK
Logrotate 3.7                                            -
MySQL 4.1.22                                             -
MySQL 5.0.67                                             OK
MySQL Connector/J 5.0.6                                  -
Apache Tomcat 5.5.27                                     OK
vdt-update-certs 2.2                                     -
VOMS 1.8.8-2p1                                           OK
VOMS Admin 2.0.14-1                                      -
Wget 1.11.4                                              OK

When I ran into the problems mysql was running (both /opt/voms/mysql5/bin/mysqld_safe
and /opt/voms/mysql/bin/mysqld_safe).

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1243527191'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-28T16:13:11+00:00">May 28, 2009 04:13 PM UTC</time> by <b>VDT</b><a class="anchor" name="1243527191">&nbsp;</a></div><pre>Steve&#58;

<font color='#7F7E6F'>&#62; I&#39;m trying to install a new VOMS server for GRASE and NYSGRID and</font>
<font color='#7F7E6F'>&#62; have been running into issues with tomcat. We are following</font>
<font color='#7F7E6F'>&#62; instructions at the following url&#58;</font>

Sorry for the delays in getting back to you.  We were really buried
trying to get the VDT 2.0.0 release out, and I&#39;m only just catching up
with email.

<font color='#7F7E6F'>&#62; Everything looks good, except that the $VDT_LOCATION/osg-voms-</font>
<font color='#7F7E6F'>&#62; version command does not exist (but osg-version does).</font>

The documentation was out-of-date, but just got fixed.  In a nutshell,
just use osg-version.

Next, could you provide some basic information about your
installation?  Info like the platform you are on, the OSG and/or VDT
version you installed, the top-level packages you installed, etc.,
would be good to know.

So, I see from your write-up that you installed the VOs, then started
VOMS&#58;

<font color='#7F7E6F'>&#62; #&#62; /opt/voms/vdt/setup/configure_voms --server y</font>
<font color='#7F7E6F'>&#62; --vo NYSGRID</font>
<font color='#7F7E6F'>&#62; --mail-from smgallo@....</font>
<font color='#7F7E6F'>&#62; --smtp-host mail.ccr.buffalo.edu</font>
<font color='#7F7E6F'>&#62; --vdt-install /opt/voms</font>
<font color='#7F7E6F'>&#62; #&#62; vdt-control --off voms</font>
<font color='#7F7E6F'>&#62; #&#62; vdt-control --on voms</font>

When you ran into trouble with Tomcat, was the MySQL service running?

I&#39;ll send some of these exceptions to the VOMS Admin developer to see
<div id='show_1764527611' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1764527611'>if he knows what might have caused them.

-- Tim

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....
</div><script type='text/javascript'>
        $('#show_1764527611').click(function() {
            $('#detail_1764527611').slideDown("normal");
            $('#show_1764527611').hide();
            $('#hide_1764527611').show();
        });
        $('#hide_1764527611').click(function() {
            $('#detail_1764527611').slideUp();
            $('#hide_1764527611').hide();
            $('#show_1764527611').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6808#1242851110'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-20T20:25:10+00:00">May 20, 2009 08:25 PM UTC</time> by <b>VDT</b><a class="anchor" name="1242851110">&nbsp;</a></div><pre>We do have the ticket, but have been backlogged due to the impending
VDT 2.0.0 release. Tim will try to answer soon.

-alain

-----------------------------------------------------------------
Alain Roy                         vdt-support@....
VDT Support                   <a href='http&#58;//vdt.cs.wisc.edu/support.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/support.html</a>

--
View ticket at &#60;<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302&#62</a>;
VDT Support&#58; vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='6808#1242849227'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-20T19:53:47+00:00">May 20, 2009 07:53 PM UTC</time> by <b>echism</b><a class="anchor" name="1242849227">&nbsp;</a></div><pre>VDT,

Do you still have this ticket? I want to make sure after our ticket exchange problems. We appreciate your assistance.

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1242239202'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-13T18:26:42+00:00">May 13, 2009 06:26 PM UTC</time> by <b>echism</b><a class="anchor" name="1242239202">&nbsp;</a></div><pre>VDT,

Could you help with this? After a VOMS install, Steve Gallo is having problems with Tomcat.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6808#1242239110'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-13T18:25:10+00:00">May 13, 2009 06:25 PM UTC</time> by <b>VDT</b><a class="anchor" name="1242239110">&nbsp;</a></div><pre>I haven&#39;t had time to look into this yet.  I will try to do so soon!

-- Tim

On 13 May 2009, at 11&#58;51, osg@.... via RT wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1242233351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-13T16:49:11+00:00">May 13, 2009 04:49 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1242233351">&nbsp;</a></div><pre>Hi, are there any ideas on this?  It&#39;s thrown me for a loop.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6808#1241811251'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-08T19:34:11+00:00">May 8, 2009 07:34 PM UTC</time> by <b>VDT</b><a class="anchor" name="1241811251">&nbsp;</a></div><pre>Greetings from the VDT support system!

This message was generated automatically in response to the creation of a
ticket regarding&#58;

[vdt-support #-1] Open Science Grid&#58; New VOMS server installation ISSUE=6808 PROJ=71

Your original request is copied below for reference.

There is no need to reply to this message right now -- someone from the VDT
team will respond to you as soon as possible.  If you wish to view your
support ticket online, visit&#58;

<a href='http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302' target='_blank' rel='nofollow'>http&#58;//crt.cs.wisc.edu/Ticket/Display.html?user=guest&pass=guest&id=5302</a>

Your ticket has been assigned an ID as follows&#58;

[vdt-support #5302]

Please include the ticket ID in the subject line of all future email about
this issue.  To do so, you may reply to this message.

Thank you for your interest in the VDT.

vdt-support@....

-------------------------------------------------------------------------
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='6808#1241637448'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-06T19:17:28+00:00">May 6, 2009 07:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1241637448">&nbsp;</a></div><pre>Hi,

I&#39;m trying to install a new VOMS server for GRASE and NYSGRID and have
been running into issues with tomcat.  We are following instructions
at the following url&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/VomsInstallGuide</a>

Everything looks good, except that the $VDT_LOCATION/osg-voms-version
command does not exist (but osg-version does).

I have created a GRASE VO and imported users from the old host using
the voms-admin command line&#58;

#&#62; . /opt/voms/setup.sh
#&#62; /opt/voms/vdt/setup/configure_voms --server y &#92;
--vo GRASE &#92;
--mail-from smgallo@.... &#92;
--smtp-host mail.ccr.buffalo.edu &#92;
--vdt-install /opt/voms
#&#62; cat /opt/voms/vdt-app-data/voms/vomses/GRASE
&#34;GRASE&#34; &#34;dylan-new.ccr.buffalo.edu&#34; &#34;15000&#34; &#34;/DC=org/DC=doegrids/OU=Services/CN=http/dylan.ccr.buffalo.edu&#34; &#34;GRASE&#34; &#34;40&#34;
# vdt-control --on voms
enabling init service voms... ok
#&#62; voms-admin --nousercert --vo GRASE add-ACL-entry /GRASE ANYONE VOMS_CA &#34;CONTAINER_READ,MEMBERSHIP_READ&#34; true
#&#62; voms-admin --vo GRASE add-ACL-entry /GRASE ~smgallo/.globus/usercert.pem ALL TRUE
#&#62; voms-admin --vo GRASE create-group &#34;grid&#34;
#&#62; voms-admin --vo GRASE list-groups
/GRASE
/GRASE/grid
#&#62; voms-admin --nousercert --vo GRASE create-user &#39;/DC=org/DC=doegrids/OU=People/CN=mike malkowski 501787&#39; &#39;/DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1&#39; &#39;mike malkowski 501787&#39; &#39;malkowski@....&#39;
#&#62; voms-admin --nousercert --vo GRASE add-member &#34;/GRASE/grid&#34; &#39;/DC=org/DC=doegrids/OU=People/CN=mike malkowski 501787&#39; &#39;/DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1&#39;

This seems to function correctly after adding &#34;ALL&#58; localhost
dylan-new.ccr.buffalo.edu&#34; to /etc/hosts.allow.
<div id='show_1120765209' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1120765209'>
Now, when creating a VO for NYSGRID I am having issues with tomcat.
So far, I have run the following commands&#58;

#&#62; /opt/voms/vdt/setup/configure_voms --server y &#92;
--vo NYSGRID &#92;
--mail-from smgallo@.... &#92;
--smtp-host mail.ccr.buffalo.edu &#92;
--vdt-install /opt/voms
#&#62; vdt-control --off voms
#&#62; vdt-control --on voms
#&#62; voms-admin-ping
Testing GRASE&#58;                         [  OK  ]
Testing NYSGRID&#58;                       [  OK  ]
[root@dylan-new logs]# ps -ef | egrep &#39;GRASE|NYSGRID&#39;
daemon   20012     1  0 14&#58;45 pts/2    00&#58;00&#58;00 /opt/voms/glite/sbin/edg-voms --conf /opt/voms/glite/etc/voms/GRASE/voms.conf
daemon   20014     1  0 14&#58;45 ?        00&#58;00&#58;00 /opt/voms/glite/sbin/edg-voms --conf /opt/voms/glite/etc/voms/GRASE/voms.conf
daemon   20051     1  0 14&#58;45 pts/2    00&#58;00&#58;00 /opt/voms/glite/sbin/edg-voms --conf /opt/voms/glite/etc/voms/NYSGRID/voms.conf
daemon   20053     1  0 14&#58;45 ?        00&#58;00&#58;00 /opt/voms/glite/sbin/edg-voms --conf /opt/voms/glite/etc/voms/NYSGRID/voms.conf

#&#62; voms-admin --nousercert --vo NYSGRID add-ACL-entry /NYSGRID ANYONE VOMS_CA &#34;CONTAINER_READ,MEMBERSHIP_READ&#34; true
java.lang.reflect.InvocationTargetException
dylan-new.ccr.buffalo.edu

I have attached the catalina.out file from tomcat. It appears that
tomcat is dying after sitting for a few minutes (without activity).  I
have used vdt-control --off and vdt-control --on to restart services
and we have also rebooted the machine without luck.

When accessing <a href='https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/voms/GRASE' target='_blank' rel='nofollow'>https&#58;//dylan-new.ccr.buffalo.edu&#58;8443/voms/GRASE</a> I get
the following error&#58;

exception&#58;
javax.servlet.ServletException&#58; Filter execution threw an exception

root cause&#58;
java.lang.NoClassDefFoundError
org.glite.security.voms.admin.dao.VOMSAdminDAO.&#60;init&#62;(VOMSAdminDAO.java&#58;51)
org.glite.security.voms.admin.dao.VOMSAdminDAO.instance(VOMSAdminDAO.java&#58;57)
org.glite.security.voms.admin.operations.CurrentAdmin.instance(CurrentAdmin.java&#58;64)
org.glite.security.voms.admin.servlets.SecurityContextFilter.doFilter(SecurityContextFilter.java&#58;72)

Any suggestions?

Steve

May 6, 2009 2&#58;45&#58;01 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent
INFO&#58; The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path&#58; /opt/voms/jdk1.5/jre/lib/amd64/server&#58;/opt/voms/jdk1.5/jre/lib/amd64&#58;/opt/voms/jdk1.5/jre/../lib/amd64&#58;/opt/voms/apache/lib&#58;/opt/voms/mysql/lib/mysql&#58;/opt/voms/jdk1.5/jre/lib/i386&#58;/opt/voms/jdk1.5/jre/lib/i386/server&#58;/opt/voms/jdk1.5/jre/lib/i386/client&#58;/opt/voms/glite/lib64&#58;/opt/voms/glite/lib&#58;/opt/voms/mysql5/lib/mysql&#58;/opt/voms/globus/lib&#58;/opt/voms/berkeley-db/lib&#58;/opt/voms/expat/lib&#58;/opt/voms/apache/lib&#58;/opt/voms/mysql/lib/mysql&#58;/opt/voms/jdk1.5/jre/lib/i386&#58;/opt/voms/jdk1.5/jre/lib/i386/server&#58;/opt/voms/jdk1.5/jre/lib/i386/client&#58;/opt/voms/glite/lib64&#58;/opt/voms/glite/lib&#58;/opt/voms/mysql5/lib/mysql&#58;/opt/voms/berkeley-db/lib&#58;/opt/voms/expat/lib&#58;
May 6, 2009 2&#58;45&#58;01 PM org.apache.catalina.startup.Catalina load
INFO&#58; Initialization processed in 1865 ms
May 6, 2009 2&#58;45&#58;01 PM org.apache.catalina.core.StandardService start
INFO&#58; Starting service Catalina
May 6, 2009 2&#58;45&#58;01 PM org.apache.catalina.core.StandardEngine start
INFO&#58; Starting Servlet Engine&#58; Apache Tomcat/5.5.27
May 6, 2009 2&#58;45&#58;01 PM org.apache.catalina.core.StandardHost start
INFO&#58; XML validation disabled
May 6, 2009 2&#58;45&#58;01 PM org.apache.catalina.startup.HostConfig deployDescriptor
WARNING&#58; A docBase /opt/voms/tomcat/v55/webapps/voms/GRASE inside the host appBase has been specified, and will be ignored
May 6, 2009 2&#58;45&#58;08 PM org.apache.catalina.startup.HostConfig deployDescriptor
WARNING&#58; A docBase /opt/voms/tomcat/v55/webapps/voms/NYSGRID inside the host appBase has been specified, and will be ignored
May 6, 2009 2&#58;45&#58;15 PM org.apache.catalina.startup.HostConfig deployDescriptor
WARNING&#58; A docBase /opt/voms/tomcat/v55/webapps/vomses inside the host appBase has been specified, and will be ignored
May 6, 2009 2&#58;45&#58;16 PM org.apache.jk.common.ChannelSocket init
INFO&#58; JK&#58; ajp13 listening on /127.0.0.1&#58;8943
May 6, 2009 2&#58;45&#58;16 PM org.apache.jk.server.JkMain start
INFO&#58; Jk running ID=0 time=0/140  config=null
May 6, 2009 2&#58;45&#58;16 PM org.apache.catalina.storeconfig.StoreLoader load
INFO&#58; Find registry server-registry.xml at classpath resource
May 6, 2009 2&#58;45&#58;16 PM org.apache.catalina.startup.Catalina start
INFO&#58; Server startup in 14804 ms
Exception in thread &#34;Timer-0&#34; java.lang.ExceptionInInitializerError
at com.mchange.v2.c3p0.PoolConfig.&#60;clinit&#62;(PoolConfig.java&#58;93)
at org.hibernate.connection.C3P0ConnectionProvider.configure(C3P0ConnectionProvider.java&#58;84)
at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;124)
at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;56)
at org.hibernate.cfg.SettingsFactory.createConnectionProvider(SettingsFactory.java&#58;397)
at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java&#58;62)
at org.hibernate.cfg.Configuration.buildSettings(Configuration.java&#58;2006)
at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java&#58;1289)
at org.glite.security.voms.admin.database.HibernateFactory.&#60;clinit&#62;(HibernateFactory.java&#58;66)
at org.glite.security.voms.admin.common.tasks.UpdateCATask.run(UpdateCATask.java&#58;104)
at java.util.TimerThread.mainLoop(Timer.java&#58;512)
at java.util.TimerThread.run(Timer.java&#58;462)
Caused by&#58; java.lang.NullPointerException
at java.util.Arrays$ArrayList.&#60;init&#62;(Arrays.java&#58;2355)
at java.util.Arrays.asList(Arrays.java&#58;2341)
at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java&#58;67)
at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java&#58;161)
at java.net.URL.openStream(URL.java&#58;1007)
at java.lang.ClassLoader.getResourceAsStream(ClassLoader.java&#58;1161)
at org.apache.catalina.loader.WebappClassLoader.getResourceAsStream(WebappClassLoader.java&#58;1204)
at java.lang.Class.getResourceAsStream(Class.java&#58;1998)
at com.mchange.v2.cfg.BasicMultiPropertiesConfig.&#60;init&#62;(BasicMultiPropertiesConfig.java&#58;48)
at com.mchange.v2.cfg.BasicMultiPropertiesConfig.&#60;init&#62;(BasicMultiPropertiesConfig.java&#58;39)
at com.mchange.v2.cfg.MultiPropertiesConfig.read(MultiPropertiesConfig.java&#58;64)
at com.mchange.v2.cfg.MultiPropertiesConfig.readVmConfig(MultiPropertiesConfig.java&#58;73)
at com.mchange.v2.log.MLog.&#60;clinit&#62;(MLog.java&#58;48)
... 12 more
Exception in thread &#34;Timer-1&#34; java.lang.ExceptionInInitializerError
at com.mchange.v2.c3p0.PoolConfig.&#60;clinit&#62;(PoolConfig.java&#58;93)
at org.hibernate.connection.C3P0ConnectionProvider.configure(C3P0ConnectionProvider.java&#58;84)
at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;124)
at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java&#58;56)
at org.hibernate.cfg.SettingsFactory.createConnectionProvider(SettingsFactory.java&#58;397)
at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java&#58;62)
at org.hibernate.cfg.Configuration.buildSettings(Configuration.java&#58;2006)
at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java&#58;1289)
at org.glite.security.voms.admin.database.HibernateFactory.&#60;clinit&#62;(HibernateFactory.java&#58;66)
at org.glite.security.voms.admin.common.tasks.UpdateCATask.run(UpdateCATask.java&#58;104)
at java.util.TimerThread.mainLoop(Timer.java&#58;512)
at java.util.TimerThread.run(Timer.java&#58;462)
Caused by&#58; java.lang.NullPointerException
at java.util.Arrays$ArrayList.&#60;init&#62;(Arrays.java&#58;2355)
at java.util.Arrays.asList(Arrays.java&#58;2341)
at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java&#58;67)
at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java&#58;161)
at java.net.URL.openStream(URL.java&#58;1007)
at java.lang.ClassLoader.getResourceAsStream(ClassLoader.java&#58;1161)
at org.apache.catalina.loader.WebappClassLoader.getResourceAsStream(WebappClassLoader.java&#58;1204)
at java.lang.Class.getResourceAsStream(Class.java&#58;1998)
at com.mchange.v2.cfg.BasicMultiPropertiesConfig.&#60;init&#62;(BasicMultiPropertiesConfig.java&#58;48)
at com.mchange.v2.cfg.BasicMultiPropertiesConfig.&#60;init&#62;(BasicMultiPropertiesConfig.java&#58;39)
at com.mchange.v2.cfg.MultiPropertiesConfig.read(MultiPropertiesConfig.java&#58;64)
at com.mchange.v2.cfg.MultiPropertiesConfig.readVmConfig(MultiPropertiesConfig.java&#58;73)
at com.mchange.v2.log.MLog.&#60;clinit&#62;(MLog.java&#58;48)
... 12 more
</div><script type='text/javascript'>
        $('#show_1120765209').click(function() {
            $('#detail_1120765209').slideDown("normal");
            $('#show_1120765209').hide();
            $('#hide_1120765209').show();
        });
        $('#hide_1120765209').click(function() {
            $('#detail_1120765209').slideUp();
            $('#hide_1120765209').hide();
            $('#show_1120765209').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6808">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 6808});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
