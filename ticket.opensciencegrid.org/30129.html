<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30129] CA-MCGILL-CLUMEQ &#60;-&#62; NET2 data transfers failing (75%)</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30129" method="post">
<div class="page-header">
    <h3><span class="muted">30129</span> / CA-MCGILL-CLUMEQ &#60;-&#62; NET2 data transfers failing (75%)</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Petr Vokac</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Petr Vokac</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-06-17</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=121955">121955</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=26216">26216</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30129", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30129?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30129?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20CA-MCGILL-CLUMEQ%20%26%2360%3B-%26%2362%3B%20NET2%20data%20transfers%20failing%20%2875%25%29%20ISSUE%3D30129%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30129#1467417581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-01T23:59:41+00:00">Jul 1, 2016 11:59 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1467417581">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by GGUS SYSTEM at Fri Jul 01 23&#58;59&#58;03 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955</a></pre></div><div class='update_description'><i onclick="document.location='30129#1466166187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-17T12:23:07+00:00">Jun 17, 2016 12:23 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1466166187">&nbsp;</a></div><pre>The timeouts from McGill have been gone for a few days. Something might have
been solved at the McGill or networking end, but I&#39;m not sure (I am pretty sure
this isn&#39;t a problem we can do anything about at our end). In any case, I&#39;m
going to close the ticket for now.

- Saul
-- by youssef@.... at Fri Jun 17 12&#58;22&#58;57 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26216</pre></div><div class='update_description'><i onclick="document.location='30129#1465676354'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-11T20:19:14+00:00">Jun 11, 2016 08:19 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465676354">&nbsp;</a></div><pre>Sorry, I did not realized that files with zero size are probably completely different issue of file transfer source CA-MCGILL-CLUMEQ and in this case NET2 is just innocent destination.

-- by Petr Vokac at Sat Jun 11 20&#58;18&#58;40 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955</a></pre></div><div class='update_description'><i onclick="document.location='30129#1465605934'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-11T00:45:34+00:00">Jun 11, 2016 12:45 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465605934">&nbsp;</a></div><pre>Hi Petr,

None of the files listed in the attached list exist in our storage at all.

Here, for instance is the directory on our site for the first file

<a href='http&#58;//egg.bu.edu/gpfs1/atlasdatadisk/rucio/data15_13TeV/01/7b/' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/gpfs1/atlasdatadisk/rucio/data15_13TeV/01/7b/</a>

Is that what you mean?

- Saul

On Fri Jun 10 17&#58;44&#58;17 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; Could you check your storage for invalid file replicas with size 0?</font>
<font color='#7F7E6F'>&#62; There are currently several file transfers that fails because they are</font>
<font color='#7F7E6F'>&#62; trying to access these invalid replicas (list of unique problematic</font>
<font color='#7F7E6F'>&#62; source files attached, but I can&#39;t be sure that it contain all invalid</font>
<font color='#7F7E6F'>&#62; zero size files).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=%28Data+Brokering,Data+Consolidation,Deletion,Express,Production+Input,Production+Output,Recovery,Staging,User+Subscriptions,default%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.error_code=21&d.src.cloud=%22CA%22&d.state=%28TRANSFER_FAILED%29&date.from=201606101710&date.interval=0&date.to=201606102110&dst.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-RRC-KI-T1,-RO-14-</font>
<font color='#7F7E6F'>&#62; ITIM%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP%29&grouping.dst=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&samples=true&src.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-RRC-KI-T1,-RO-14-</font>
<font color='#7F7E6F'>&#62; ITIM%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP%29&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Petr Vokac at Fri Jun 10 21&#58;42&#58;46 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Added attachment CA-MCGILL-CLUMEQ.SIZE0.txt</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ggus.eu/index.php?mode=download&attid=ATT106587' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=download&attid=ATT106587</a></font>
<div id='show_1856774494' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1856774494'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -- by Petr Vokac at Fri Jun 10 21&#58;42&#58;45 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955</a></font>
<font color='#7F7E6F'>&#62; -- by OSG-GOC at Fri Jun 10 21&#58;43&#58;54 UTC 2016</font>
-- by youssef@.... at Sat Jun 11 00&#58;45&#58;26 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26216
</div><script type='text/javascript'>
        $('#show_1856774494').click(function() {
            $('#detail_1856774494').slideDown("normal");
            $('#show_1856774494').hide();
            $('#hide_1856774494').show();
        });
        $('#hide_1856774494').click(function() {
            $('#detail_1856774494').slideUp();
            $('#hide_1856774494').hide();
            $('#show_1856774494').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30129#1465595034'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-10T21:43:54+00:00">Jun 10, 2016 09:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465595034">&nbsp;</a></div><pre>Could you check your storage for invalid file replicas with size 0? There are currently several file transfers that fails because they are trying to access these invalid replicas (list of unique problematic source files attached, but I can&#39;t be sure that it contain all invalid zero size files).

<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering</a>,Data+Consolidation,Deletion,Express,Production+Input,Production+Output,Recovery,Staging,User+Subscriptions,default%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.error_code=21&d.src.cloud=%22CA%22&d.state=%28TRANSFER_FAILED%29&date.from=201606101710&date.interval=0&date.to=201606102110&dst.site=%28-TEST,-RDF,-AWS,-CEPH,-RRC-KI-T1,-RO-14-ITIM%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&grouping.dst=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&samples=true&src.site=%28-TEST,-RDF,-AWS,-CEPH,-RRC-KI-T1,-RO-14-ITIM%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&tab=details

-- by Petr Vokac at Fri Jun 10 21&#58;42&#58;46 UTC 2016

Added attachment CA-MCGILL-CLUMEQ.SIZE0.txt
<a href='https&#58;//ggus.eu/index.php?mode=download&attid=ATT106587' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=download&attid=ATT106587</a>

-- by Petr Vokac at Fri Jun 10 21&#58;42&#58;45 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955</a></pre></div><div class='update_description'><i onclick="document.location='30129#1465344577'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-08T00:09:37+00:00">Jun 8, 2016 12:09 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465344577">&nbsp;</a></div><pre>Hi again,

Shawn has pointed out that perfSonar is showing packet loss going from McGill
to NET2.

<a href='http&#58;//psmad.grid.iu.edu/serviceTest/graphWidget.cgi?url=http&#58' target='_blank' rel='nofollow'>http&#58;//psmad.grid.iu.edu/serviceTest/graphWidget.cgi?url=http&#58</a>;//psds.grid.iu.edu/esmond/perfsonar/archive/&source=ps-latency.clumeq.mcgill.ca&dest=atlas-npt1.bu.edu&ipversion=4&agent=ps-latency.clumeq.mcgill.ca#

Could someone include the WLCG Network Transfer folks on the ticket so they can
comment? I don&#39;t think I can do that myself.

- Saul

On Tue Jun 07 15&#58;34&#58;30 2016, youssef@.... wrote&#58;
<font color='#7F7E6F'>&#62; Greetings,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The timeouts in gridftp transfers from McGill to atlas.bu.edu have</font>
<font color='#7F7E6F'>&#62; continued</font>
<font color='#7F7E6F'>&#62; steadily.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; After looking into the issue, it looks like it&#39;s likely a network</font>
<font color='#7F7E6F'>&#62; problem. Here</font>
<font color='#7F7E6F'>&#62; is a little study summarizing the situation</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-</font>
<font color='#7F7E6F'>&#62; 06/McGill_timeouts_to_NET2/</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;m going to contact Shawn and the perfSonar/throughput guys to see if</font>
<font color='#7F7E6F'>&#62; they can</font>
<font color='#7F7E6F'>&#62; comment.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; - Saul</font>
-- by youssef@.... at Wed Jun 08 00&#58;09&#58;29 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26216</pre></div><div class='update_description'><i onclick="document.location='30129#1465328081'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T19:34:41+00:00">Jun 7, 2016 07:34 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465328081">&nbsp;</a></div><pre>Greetings,

The timeouts in gridftp transfers from McGill to atlas.bu.edu have continued
steadily.

After looking into the issue, it looks like it&#39;s likely a network problem. Here
is a little study summarizing the situation

<a href='http&#58;//egg.bu.edu/NET2%7binf&#58' target='_blank' rel='nofollow'>http&#58;//egg.bu.edu/NET2%7binf&#58</a>;NET2%7d/gadget&#58;Studies/section&#58;report/2016-06/McGill_timeouts_to_NET2/

I&#39;m going to contact Shawn and the perfSonar/throughput guys to see if they can
comment.

- Saul
-- by youssef@.... at Tue Jun 07 19&#58;34&#58;30 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26216</pre></div><div class='update_description'><i onclick="document.location='30129#1465086163'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-05T00:22:43+00:00">Jun 5, 2016 12:22 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465086163">&nbsp;</a></div><pre>Yes, we noticed also, the timeouts have returned, still only incoming transfers
from McGill.

We&#39;re attempting to increase timeouts and retries in our Bestman/SRM
configuration to see if that helps. - Saul

On Sat Jun 04 09&#58;47&#58;13 2016, osg-goc-rest wrote&#58;
<font color='#7F7E6F'>&#62; A lot of data transfers from CA-MCGILL-CLUMEQ-T2_DATADISK to</font>
<font color='#7F7E6F'>&#62; NET2_DATADISK fails (2k in last 4 hours) with error message&#58; TRANSFER</font>
<font color='#7F7E6F'>&#62; Transfer canceled because the gsiftp performance marker timeout of 360</font>
<font color='#7F7E6F'>&#62; seconds has been exceeded, or all performance markers during that</font>
<font color='#7F7E6F'>&#62; period indicated zero bytes transferred. This is probably same issue</font>
<font color='#7F7E6F'>&#62; that was already reported in</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ggus.eu/?mode=ticket_info&ticket_id=121336' target='_blank' rel='nofollow'>https&#58;//ggus.eu/?mode=ticket_info&ticket_id=121336</a> that was never</font>
<font color='#7F7E6F'>&#62; fully</font>
<font color='#7F7E6F'>&#62; understood.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Example of failed transfer&#58;</font>
<font color='#7F7E6F'>&#62; 2016-06-04</font>
<font color='#7F7E6F'>&#62; 13&#58;08&#58;07 data16_13TeV&#58;DAOD_EGAM1.08308918._000029.pool.root.1 #186</font>
<font color='#7F7E6F'>&#62; TRANSFER_FAILED</font>
<font color='#7F7E6F'>&#62; TOOL ID rucio-conveyor</font>
<font color='#7F7E6F'>&#62; SRC SITE CA-MCGILL-CLUMEQ-T2_DATADISK</font>
<font color='#7F7E6F'>&#62; SRC</font>
<font color='#7F7E6F'>&#62; URL</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1</a>
<font color='#7F7E6F'>&#62; DST SITE NET2_DATADISK</font>
<font color='#7F7E6F'>&#62; DST</font>
<font color='#7F7E6F'>&#62; URL</font>
<font color='#7F7E6F'>&#62;</font>
<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1</a>
<font color='#7F7E6F'>&#62; TRANSFER ID 91479cf8-92ba-503e-a309-08bfd7c28d0d</font>
<font color='#7F7E6F'>&#62; TRANSFER ENDPOINT <a href='https&#58;//fts.usatlas.bnl.gov&#58;8446' target='_blank' rel='nofollow'>https&#58;//fts.usatlas.bnl.gov&#58;8446</a></font>
<font color='#7F7E6F'>&#62; ERROR MSG TRANSFER Transfer canceled because the gsiftp performance</font>
<div id='show_448012512' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_448012512'><font color='#7F7E6F'>&#62; marker timeout of 360 seconds has been exceeded, or all performance</font>
<font color='#7F7E6F'>&#62; markers during that period indicated zero bytes transferred</font>
<font color='#7F7E6F'>&#62; ACTIVITY Data Brokering</font>
<font color='#7F7E6F'>&#62; FILE SIZE 60486935 bytes</font>
<font color='#7F7E6F'>&#62; DURATION 370 s</font>
<font color='#7F7E6F'>&#62; DATASET MONITORING Details on Rucio UI&#58; file</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; List of all failed transfers in last 4 hours&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=%28Data+Brokering,Data+Consolidation,Deletion,Production+Input,Production+Output,Staging%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.error_code=186&d.src.cloud=%22CA%22&d.src.site=%22CA-
<font color='#7F7E6F'>&#62; MCGILL-CLUMEQ-</font>
<font color='#7F7E6F'>&#62;</font>
T2%22&d.state=%28TRANSFER_FAILED%29&date.from=201606040100&date.interval=0&date.to=201606041400&dst.cloud=%28%22US%22%29&dst.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-</font>
<font color='#7F7E6F'>&#62; LAL%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP%29&grouping.dst=%28cloud,site%29&grouping.src=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&samples=true&src.cloud=%28%22CA%22%29&src.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-</font>
<font color='#7F7E6F'>&#62; LAL%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP%29&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I would start with successful transfers that were preceded by transfer</font>
<font color='#7F7E6F'>&#62; failures, e.g.&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=%28Data+Brokering,Data+Consolidation,Deletion,Production+Input,Production+Output,Staging%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.name=DAOD_HIGG2D1.08127993._000076.pool.root.1&d.scope=data15_13TeV&date.from=201606040920&date.interval=0&date.to=201606041320&dst.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-</font>
<font color='#7F7E6F'>&#62; LAL%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP%29&grouping.dst=%28cloud,site%29&grouping.src=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&src.cloud=%28%22CA%22%29&src.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-</font>
<font color='#7F7E6F'>&#62; LAL%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP%29&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; List of all recent successful transfers&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; http&#58;//dashb-atlas-</font>
<font color='#7F7E6F'>&#62;</font>
ddm.cern.ch/ddm2/#activity=%28Data+Brokering,Data+Consolidation,Deletion,Production+Input,Production+Output,Staging%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.state=%28TRANSFER_DONE%29&date.from=201606040920&date.interval=0&date.to=201606041320&dst.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-</font>
<font color='#7F7E6F'>&#62; LAL%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62;</font>
GRIDFTP%29&grouping.dst=%28cloud,site%29&grouping.src=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&src.cloud=%28%22CA%22%29&src.site=%28-
<font color='#7F7E6F'>&#62; TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-</font>
<font color='#7F7E6F'>&#62; LAL%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-</font>
<font color='#7F7E6F'>&#62; GRIDFTP%29&tab=details</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket History]</font>
<font color='#7F7E6F'>&#62; Subject&#58; CA-MCGILL-CLUMEQ &#60;-&#62; NET2 data transfers failing (75%)</font>
<font color='#7F7E6F'>&#62; Ticket Type&#58; TEAM</font>
<font color='#7F7E6F'>&#62; CC&#58; atlas-adc-cloud-US@....;</font>
<font color='#7F7E6F'>&#62; -- by Petr Vokac at Sat Jun 04 13&#58;45&#58;05 UTC 2016</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Ticket Origin]</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=30129#1465047964' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=30129#1465047964</a></font>
-- by youssef@.... at Sun Jun 05 00&#58;22&#58;33 UTC 2016

GOCTX Source&#58; BNL Ticket&#58; Queue=NETier2 ID=26216
</div><script type='text/javascript'>
        $('#show_448012512').click(function() {
            $('#detail_448012512').slideDown("normal");
            $('#show_448012512').hide();
            $('#hide_448012512').show();
        });
        $('#hide_448012512').click(function() {
            $('#detail_448012512').slideUp();
            $('#hide_448012512').hide();
            $('#show_448012512').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30129#1465047964'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-04T13:46:04+00:00">Jun 4, 2016 01:46 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1465047964">&nbsp;</a></div><pre>A lot of data transfers from CA-MCGILL-CLUMEQ-T2_DATADISK to NET2_DATADISK fails (2k in last 4 hours) with error message&#58; TRANSFER Transfer canceled because the gsiftp performance marker timeout of 360 seconds has been exceeded, or all performance markers during that period indicated zero bytes transferred. This is probably same issue that was already reported in <a href='https&#58;//ggus.eu/?mode=ticket_info&ticket_id=121336' target='_blank' rel='nofollow'>https&#58;//ggus.eu/?mode=ticket_info&ticket_id=121336</a> that was never fully understood.

Example of failed transfer&#58;
2016-06-04 13&#58;08&#58;07	data16_13TeV&#58;DAOD_EGAM1.08308918._000029.pool.root.1	#186	TRANSFER_FAILED
TOOL ID	rucio-conveyor
SRC SITE	CA-MCGILL-CLUMEQ-T2_DATADISK
SRC URL	<a href='srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//storm02.clumeq.mcgill.ca&#58;8444/srm/managerv2?SFN=/atlas/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1</a>
DST SITE	NET2_DATADISK
DST URL	<a href='srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1' target='_blank' rel='nofollow'>srm&#58;//atlas.bu.edu&#58;8443/srm/v2/server?SFN=/gpfs1/atlasdatadisk/rucio/data16_13TeV/20/46/DAOD_EGAM1.08308918._000029.pool.root.1</a>
TRANSFER ID	91479cf8-92ba-503e-a309-08bfd7c28d0d
TRANSFER ENDPOINT	<a href='https&#58;//fts.usatlas.bnl.gov&#58;8446' target='_blank' rel='nofollow'>https&#58;//fts.usatlas.bnl.gov&#58;8446</a>
ERROR MSG	TRANSFER Transfer canceled because the gsiftp performance marker timeout of 360 seconds has been exceeded, or all performance markers during that period indicated zero bytes transferred
ACTIVITY	Data Brokering
FILE SIZE	60486935 bytes
DURATION	370 s
DATASET MONITORING	Details on Rucio UI&#58;  file

List of all failed transfers in last 4 hours&#58;
<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering</a>,Data+Consolidation,Deletion,Production+Input,Production+Output,Staging%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.error_code=186&d.src.cloud=%22CA%22&d.src.site=%22CA-MCGILL-CLUMEQ-T2%22&d.state=%28TRANSFER_FAILED%29&date.from=201606040100&date.interval=0&date.to=201606041400&dst.cloud=%28%22US%22%29&dst.site=%28-TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-LAL%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&grouping.dst=%28cloud,site%29&grouping.src=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&samples=true&src.cloud=%28%22CA%22%29&src.site=%28-TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-LAL%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&tab=details

I would start with successful transfers that were preceded by transfer failures, e.g.&#58;
<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering</a>,Data+Consolidation,Deletion,Production+Input,Production+Output,Staging%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.name=DAOD_HIGG2D1.08127993._000076.pool.root.1&d.scope=data15_13TeV&date.from=201606040920&date.interval=0&date.to=201606041320&dst.site=%28-TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-LAL%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&grouping.dst=%28cloud,site%29&grouping.src=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&src.cloud=%28%22CA%22%29&src.site=%28-TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-LAL%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&tab=details

List of all recent successful transfers&#58;
<a href='http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering' target='_blank' rel='nofollow'>http&#58;//dashb-atlas-ddm.cern.ch/ddm2/#activity=%28Data+Brokering</a>,Data+Consolidation,Deletion,Production+Input,Production+Output,Staging%29&d.dst.cloud=%22US%22&d.dst.site=%22NET2%22&d.state=%28TRANSFER_DONE%29&date.from=201606040920&date.interval=0&date.to=201606041320&dst.site=%28-TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-LAL%29&dst.tier=%280,1,2%29&dst.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&grouping.dst=%28cloud,site%29&grouping.src=%28cloud,site%29&m.content=%28d_dof,d_eff,d_faf,s_eff,s_err,s_suc,t_eff,t_err,t_suc%29&src.cloud=%28%22CA%22%29&src.site=%28-TEST,-RDF,-AWS,-CEPH,-ITEP,-RO-14-ITIM,-UKI-SOUTHGRID-BHAM-HEP,-GRIF-LAL%29&src.tier=%280,1,2%29&src.token=%28-TEST,-CEPH,-PPS,-GRIDFTP%29&tab=details

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=121955</a>

[Ticket History]
Subject&#58; CA-MCGILL-CLUMEQ &#60;-&#62; NET2 data transfers failing (75%)
Ticket Type&#58; TEAM
CC&#58; atlas-adc-cloud-US@....;
-- by Petr Vokac at Sat Jun 04 13&#58;45&#58;05 UTC 2016</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30129">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
