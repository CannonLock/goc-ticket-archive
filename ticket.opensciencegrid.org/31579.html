<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[31579] Jobs incorrectly held due to expired proxy</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=31579" method="post">
<div class="page-header">
    <h3><span class="muted">31579</span> / Jobs incorrectly held due to expired proxy</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brian Lin</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UFlorida-CMS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Brian Lin</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">fGOC</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-11-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">fGOC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/31579", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31579?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31579?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Jobs%20incorrectly%20held%20due%20to%20expired%20proxy%20ISSUE%3D31579%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='31579#1478010913'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-01T14:35:13+00:00">Nov 1, 2016 02:35 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1478010913">&nbsp;</a></div><pre>If Bockjoo&#39;s fine with this, we can close this ticket. However, I agree
with Marty that the factory should limit the max number of glideins to
the max allowed OSG jobs at UFL, especially if we only anticipate that
number to drop in the future. This eases unnecessary load on the factory.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477953312'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-31T22:35:12+00:00">Oct 31, 2016 10:35 PM UTC</time><a class="anchor" name="1477953312">&nbsp;</a></div><pre>Bockjoo,

Okay, we will not restrict your glidein limits at the factory. However, you should then anticipate a regular build up of held glideins from non-CMS VOs you preempt locally. When the number of held glideins for any VO goes over 50 held glideins, submission of new glideins will stop until the held ones have been removed. The factory will clean up long-held glideins at sites every 30 days.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31579#1477701671'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-29T00:41:11+00:00">Oct 29, 2016 12:41 AM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477701671">&nbsp;</a></div><pre>Hi Marty,
At the moment, limit is 5000 / 8 = 625 glideins in each CE.
In the (near) future, this might change and become 1/2 smaller.
But since we know the reason, I prefer to restricting nothing at the
factory.
Thanks,
Bockjoo
On 10/28/16 4&#58;35 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477690691'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T21:38:11+00:00">Oct 28, 2016 09:38 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477690691">&nbsp;</a></div><pre>Not sure. I&#39;d have to talk to Jaime (or you &#58;D) because the blahp -&#62;
Gridmanager -&#62; Schedd? -&#62; job ad error reporting pipeline isn&#39;t
completely clear to me.</pre></div><div class='update_description'><i onclick="document.location='31579#1477689539'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T21:18:59+00:00">Oct 28, 2016 09:18 PM UTC</time><a class="anchor" name="1477689539">&nbsp;</a></div><pre>Hi BrianL,

Any way to get those failures back into the hold message?

Brian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=bbockelm/CN=659869/CN=Brian Paul Bockelman</pre></div><div class='update_description'><i onclick="document.location='31579#1477686899'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T20:34:59+00:00">Oct 28, 2016 08:34 PM UTC</time><a class="anchor" name="1477686899">&nbsp;</a></div><pre>Brian,

Okay, I&#39;ll investigate how best to do this.

Bockjoo,

What are the limits you&#39;re placing on OSG glideins? i.e., Do you have a max number of OSG glideins you let in? If so, I can match these limits at the factory to prevent the excess glideins that are going held.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31579#1477684572'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T19:56:12+00:00">Oct 28, 2016 07:56 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477684572">&nbsp;</a></div><pre>Yea, unfortunately the blahp is not passing the reason back to Condor
but quickly inspecting the logs show that it&#39;s because of backend job
submission limits&#58;

10/28/16 13&#58;57&#58;53 [2773518] (339326.0) blah_job_submit() failed&#58;
submission command failed (exit code = 1) (stdout&#58;There was an error
running the SLURM sbatch command.-The command
was&#58;-&#39;/opt/slurm/bin/sbatch
/tmp/condor_g_scratch.0x2b9964706fd0.2030870/bl_b6bfa9fd7ef5 2&#62;&1&#39;-and
the output was&#58;-&#39;sbatch&#58; error&#58; Batch job submission failed&#58; Job
violates accounting/QOS policy (job submit limit, user&#39;s size and/or
time limits)-&#39;-) (stderr&#58;Error from qsub&#58; There was an error running the
SLURM sbatch command.-The command was&#58;-&#39;/opt/slurm/bin/sbatch
/tmp/condor_g_scratch.0x2b9964706fd0.2030870/bl_b6bfa9fd7ef5 2&#62;&1&#39;-and
the output was&#58;-&#39;sbatch&#58; error&#58; Batch job submission failed&#58; Job
violates accounting/QOS policy (job submit limit, user&#39;s size and/or
time limits)-&#39;-)

We should probably remove the held jobs from the factory so that we
don&#39;t keep slamming this CE with the factory&#39;s job resubmission mechanism.</pre></div><div class='update_description'><i onclick="document.location='31579#1477684285'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T19:51:25+00:00">Oct 28, 2016 07:51 PM UTC</time><a class="anchor" name="1477684285">&nbsp;</a></div><pre>Brian,

Sounds good. Removed held glideins from GOC factory as well. Note, however, we are still getting held OSG glideins. For example, latest from SDSC factory [1].

Marty Kandes
UCSD Glidein Factory Operations

[1]

3940461.0   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940461.1   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940461.2   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940461.3   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940461.4   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940461.5   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940461.6   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940461.7   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940461.8   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940461.9   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940464.0   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940464.1   feosgflock     10/28 12&#58;23 Failed to get expiration time of proxy&#58; unable to read proxy file
3940464.2   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940464.3   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940464.4   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940464.5   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940464.6   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940464.7   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;
3940464.8   feosgflock     10/28 12&#58;26 Attempts to submit failed&#58;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31579#1477681496'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T19:04:56+00:00">Oct 28, 2016 07:04 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477681496">&nbsp;</a></div><pre>I&#39;ve created a gittrac ticket with the Condor folks <a href='https&#58;//htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=5985.' target='_blank' rel='nofollow'>https&#58;//htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=5985.</a> I&#39;ve been told that this specific issue will go away when 8.6.0 is released and the factories move over to it.

Marty, you can go ahead and remove the held jobs from the GOC factory as well. If things look better on Monday, I think we should be able to close this ticket!</pre></div><div class='update_description'><i onclick="document.location='31579#1477679171'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T18:26:11+00:00">Oct 28, 2016 06:26 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477679171">&nbsp;</a></div><pre>Hi Brian,
I see. It&#39;s good to know.
In fact it makes sense because I saw some number of such jobs on the
other CE yesterday.
Hopefully, side-effect is not that big.
Thanks,
Bockjoo
On 10/28/16 1&#58;57 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477678319'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T18:11:59+00:00">Oct 28, 2016 06:11 PM UTC</time><a class="anchor" name="1477678319">&nbsp;</a></div><pre>Brian,

Nice summary. I&#39;ve cleared held glideins from SDSC factory. I will update here by end of day if new held glideins appear.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31579#1477677457'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T17:57:37+00:00">Oct 28, 2016 05:57 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477677457">&nbsp;</a></div><pre>Ok, after speaking with Marty, I think we got to the bottom of this as either a factory or condor bug&#58;

1) Factory submitted a job on 10/23 with a proxy that expired on 10/25, noting the expiration date in the job ad
2) That job got held (reason unknown)
3) The factory periodically resubmits held jobs
4) Proxy expires, CMS renews the proxy, but the factory job&#39;s ad does not update the proxy expiration date
5) Job gets resubmitted to the CE with a valid new proxy but we still check against the old x509UserProxyExpiration and immediately hold the new job

So it seems like Condor should update the x509UserProxyExpiration more frequently or that the factory shouldn&#39;t resubmit held jobs (or be more careful about resubmitting its held jobs). Marty will be clearing out the held glideins at the SDSC factory but will leave the ones from the GOC factory in case we need to inspect them. Sorry for the trouble Bockjoo!</pre></div><div class='update_description'><i onclick="document.location='31579#1477673470'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T16:51:10+00:00">Oct 28, 2016 04:51 PM UTC</time><a class="anchor" name="1477673470">&nbsp;</a></div><pre>Brian,

Okay, here is the list of held CMS glideins at the GOC [1] and SDSC [2] factories. Here are the CMS pilot proxies currently available at the GOC [3] [4] and SDSC [5] [6] factories, respectively. Let me know if you need more specific information about any one glidein in particular.

Marty Kandes
UCSD Glidein Factory Operations

[1]

3522202.0   fecmsglobal    10/23 04&#58;26   4+13&#58;29&#58;04 H  0   0.1  glidein_startup.sh
3522202.1   fecmsglobal    10/23 04&#58;26   4+13&#58;32&#58;14 H  0   0.1  glidein_startup.sh
3522731.0   fecmsglobal    10/23 09&#58;38   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
3522777.0   fecmsglobal    10/23 09&#58;57   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
3522789.1   fecmsglobal    10/23 10&#58;06   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
3522839.0   fecmsglobal    10/23 10&#58;37   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
3522990.2   fecmsglobal    10/23 11&#58;55   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
3526872.0   fecmsglobal    10/24 23&#58;45   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
3526951.1   fecmsglobal    10/25 00&#58;33   0+03&#58;35&#58;34 H  0   0.1  glidein_startup.sh
3526951.3   fecmsglobal    10/25 00&#58;33   1+20&#58;55&#58;01 H  0   0.1  glidein_startup.sh
3526951.4   fecmsglobal    10/25 00&#58;33   1+23&#58;12&#58;07 H  0   0.1  glidein_startup.sh
3526951.5   fecmsglobal    10/25 00&#58;33   1+19&#58;31&#58;45 H  0   0.1  glidein_startup.sh
3526951.6   fecmsglobal    10/25 00&#58;33   1+21&#58;34&#58;12 H  0   0.1  glidein_startup.sh
3526966.0   fecmsglobal    10/25 00&#58;42   1+17&#58;02&#58;25 H  0   0.1  glidein_startup.sh
3527294.0   fecmsglobal    10/25 04&#58;13   1+17&#58;02&#58;22 H  0   0.1  glidein_startup.sh
3527311.0   fecmsglobal    10/25 04&#58;34   1+17&#58;02&#58;22 H  0   0.1  glidein_startup.sh
3527311.1   fecmsglobal    10/25 04&#58;34   1+17&#58;02&#58;29 H  0   0.1  glidein_startup.sh
3527334.0   fecmsglobal    10/25 05&#58;17   1+14&#58;59&#58;55 H  0   0.1  glidein_startup.sh
3527468.0   fecmsglobal    10/25 10&#58;35   1+17&#58;29&#58;03 H  0   0.1  glidein_startup.sh
3527480.0   fecmsglobal    10/25 10&#58;53   1+17&#58;17&#58;06 H  0   0.1  glidein_startup.sh
3527480.1   fecmsglobal    10/25 10&#58;53   1+17&#58;14&#58;02 H  0   0.1  glidein_startup.sh
3527480.2   fecmsglobal    10/25 10&#58;53   1+17&#58;14&#58;10 H  0   0.1  glidein_startup.sh
3527483.0   fecmsglobal    10/25 10&#58;56   1+17&#58;11&#58;15 H  0   0.1  glidein_startup.sh
3527539.0   fecmsglobal    10/25 11&#58;41   1+17&#58;08&#58;12 H  0   0.1  glidein_startup.sh
3527551.0   fecmsglobal    10/25 11&#58;53   1+16&#58;53&#58;44 H  0   0.1  glidein_startup.sh
3527551.1   fecmsglobal    10/25 11&#58;53   1+16&#58;44&#58;54 H  0   0.1  glidein_startup.sh
<div id='show_1430440210' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1430440210'>3527551.2   fecmsglobal    10/25 11&#58;53   1+16&#58;59&#58;25 H  0   0.1  glidein_startup.sh
3527551.3   fecmsglobal    10/25 11&#58;53   1+16&#58;50&#58;39 H  0   0.1  glidein_startup.sh
3527551.4   fecmsglobal    10/25 11&#58;53   1+16&#58;50&#58;49 H  0   0.1  glidein_startup.sh
3527551.5   fecmsglobal    10/25 11&#58;53   1+16&#58;50&#58;44 H  0   0.1  glidein_startup.sh
3527551.6   fecmsglobal    10/25 11&#58;53   1+16&#58;45&#58;01 H  0   0.1  glidein_startup.sh
3527551.7   fecmsglobal    10/25 11&#58;53   1+16&#58;44&#58;57 H  0   0.1  glidein_startup.sh
3527551.8   fecmsglobal    10/25 11&#58;53   1+16&#58;44&#58;56 H  0   0.1  glidein_startup.sh
3527551.9   fecmsglobal    10/25 11&#58;53   1+16&#58;42&#58;10 H  0   0.1  glidein_startup.sh
3527552.0   fecmsglobal    10/25 11&#58;53   1+16&#58;50&#58;41 H  0   0.1  glidein_startup.sh
3527552.1   fecmsglobal    10/25 11&#58;53   1+16&#58;45&#58;04 H  0   0.1  glidein_startup.sh
3527552.2   fecmsglobal    10/25 11&#58;53   1+16&#58;56&#58;37 H  0   0.1  glidein_startup.sh
3527552.2   fecmsglobal    10/25 11&#58;53   1+16&#58;56&#58;37 H  0   0.1  glidein_startup.sh
3527552.3   fecmsglobal    10/25 11&#58;53   1+16&#58;47&#58;47 H  0   0.1  glidein_startup.sh
3527552.4   fecmsglobal    10/25 11&#58;53   1+16&#58;56&#58;32 H  0   0.1  glidein_startup.sh
3527552.5   fecmsglobal    10/25 11&#58;53   1+16&#58;56&#58;28 H  0   0.1  glidein_startup.sh
3527552.6   fecmsglobal    10/25 11&#58;53   1+16&#58;45&#58;00 H  0   0.1  glidein_startup.sh
3527552.7   fecmsglobal    10/25 11&#58;53   1+16&#58;42&#58;01 H  0   0.1  glidein_startup.sh
3527552.8   fecmsglobal    10/25 11&#58;53   1+16&#58;42&#58;11 H  0   0.1  glidein_startup.sh
3527552.9   fecmsglobal    10/25 11&#58;53   1+16&#58;39&#58;13 H  0   0.1  glidein_startup.sh
3529549.0   fecmsglobal    10/26 20&#58;15   0+04&#58;03&#58;46 H  0   0.1  glidein_startup.sh
3531884.0   feosgflock     10/28 14&#58;54   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh

[2]

3923329.0   fecmsglobal    10/22 22&#58;45   4+06&#58;14&#58;04 H  0   0.1  glidein_startup.sh
3932300.0   fecmsglobal    10/24 17&#58;41   1+14&#58;59&#58;59 H  0   0.1  glidein_startup.sh
3932300.3   fecmsglobal    10/24 17&#58;41   1+15&#58;00&#58;05 H  0   0.1  glidein_startup.sh
3932754.0   fecmsglobal    10/24 19&#58;29   1+16&#58;10&#58;22 H  0   0.1  glidein_startup.sh
3932754.1   fecmsglobal    10/24 19&#58;29   1+16&#58;09&#58;25 H  0   0.1  glidein_startup.sh
3932754.4   fecmsglobal    10/24 19&#58;29   1+16&#58;07&#58;11 H  0   0.1  glidein_startup.sh
3932754.5   fecmsglobal    10/24 19&#58;29   1+15&#58;03&#58;08 H  0   0.1  glidein_startup.sh
3933850.0   fecmsglobal    10/25 04&#58;55   1+16&#58;30&#58;40 H  0   0.1  glidein_startup.sh
3933850.1   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;56 H  0   0.1  glidein_startup.sh
3933850.2   fecmsglobal    10/25 04&#58;55   1+16&#58;30&#58;41 H  0   0.1  glidein_startup.sh
3933850.3   fecmsglobal    10/25 04&#58;55   1+16&#58;30&#58;48 H  0   0.1  glidein_startup.sh
3933850.4   fecmsglobal    10/25 04&#58;55   1+16&#58;30&#58;40 H  0   0.1  glidein_startup.sh
3933850.5   fecmsglobal    10/25 04&#58;55   1+16&#58;30&#58;43 H  0   0.1  glidein_startup.sh
3933850.6   fecmsglobal    10/25 04&#58;55   1+16&#58;25&#58;08 H  0   0.1  glidein_startup.sh
3933850.7   fecmsglobal    10/25 04&#58;55   1+16&#58;22&#58;17 H  0   0.1  glidein_startup.sh
3933850.8   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;57 H  0   0.1  glidein_startup.sh
3933852.0   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;54 H  0   0.1  glidein_startup.sh
3933852.1   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;52 H  0   0.1  glidein_startup.sh
3933852.2   fecmsglobal    10/25 04&#58;55   1+16&#58;30&#58;43 H  0   0.1  glidein_startup.sh
3933852.3   fecmsglobal    10/25 04&#58;55   1+16&#58;25&#58;03 H  0   0.1  glidein_startup.sh
3933852.4   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;54 H  0   0.1  glidein_startup.sh
3933852.5   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;50 H  0   0.1  glidein_startup.sh
3933852.6   fecmsglobal    10/25 04&#58;55   1+16&#58;27&#58;57 H  0   0.1  glidein_startup.sh
3933852.7   fecmsglobal    10/25 04&#58;55   1+16&#58;25&#58;01 H  0   0.1  glidein_startup.sh
3933852.9   fecmsglobal    10/25 04&#58;55   1+16&#58;25&#58;07 H  0   0.1  glidein_startup.sh
3933922.0   fecmsglobal    10/25 05&#58;38   1+16&#58;16&#58;50 H  0   0.1  glidein_startup.sh
3933922.1   fecmsglobal    10/25 05&#58;38   1+16&#58;16&#58;45 H  0   0.1  glidein_startup.sh
3933922.2   fecmsglobal    10/25 05&#58;38   1+16&#58;14&#58;03 H  0   0.1  glidein_startup.sh
3933967.0   fecmsglobal    10/25 06&#58;07   1+16&#58;14&#58;14 H  0   0.1  glidein_startup.sh
3933976.0   fecmsglobal    10/25 06&#58;13   1+16&#58;11&#58;21 H  0   0.1  glidein_startup.sh
3934015.0   fecmsglobal    10/25 06&#58;37   1+16&#58;11&#58;15 H  0   0.1  glidein_startup.sh
3934015.1   fecmsglobal    10/25 06&#58;37   1+16&#58;11&#58;27 H  0   0.1  glidein_startup.sh
3934019.0   fecmsglobal    10/25 06&#58;40   1+16&#58;08&#58;37 H  0   0.1  glidein_startup.sh
3934034.0   fecmsglobal    10/25 06&#58;45   1+16&#58;05&#58;30 H  0   0.1  glidein_startup.sh
3934689.2   fecmsglobal    10/25 14&#58;14   1+22&#58;58&#58;37 H  0   0.1  glidein_startup.sh
3934689.3   fecmsglobal    10/25 14&#58;14   1+22&#58;58&#58;40 H  0   0.1  glidein_startup.sh
3934689.4   fecmsglobal    10/25 14&#58;14   1+22&#58;52&#58;56 H  0   0.1  glidein_startup.sh
3934689.5   fecmsglobal    10/25 14&#58;14   1+22&#58;47&#58;05 H  0   0.1  glidein_startup.sh
3934689.7   fecmsglobal    10/25 14&#58;14   1+23&#58;19&#58;38 H  0   0.0  glidein_startup.sh
3934689.8   fecmsglobal    10/25 14&#58;14   1+22&#58;58&#58;41 H  0   0.1  glidein_startup.sh
3934689.9   fecmsglobal    10/25 14&#58;14   1+22&#58;44&#58;17 H  0   0.1  glidein_startup.sh
3934690.1   fecmsglobal    10/25 14&#58;14   1+22&#58;52&#58;52 H  0   0.1  glidein_startup.sh
3934690.3   fecmsglobal    10/25 14&#58;14   1+22&#58;32&#58;59 H  0   0.1  glidein_startup.sh
3934690.9   fecmsglobal    10/25 14&#58;14   1+22&#58;30&#58;07 H  0   0.1  glidein_startup.sh
3937079.1   fecmsglobal    10/26 18&#58;27   0+04&#58;03&#58;13 H  0   0.1  glidein_startup.sh
3939933.2   fecmsglobal    10/28 04&#58;50   0+02&#58;34&#58;49 H  0   0.0  glidein_startup.sh
3940168.2   feosgflock     10/28 07&#58;24   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh

[3]

subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch/CN=2122677890
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
identity  &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsglobal/glidein_gfactory_instance/credential_CMSG-v1_0.main_411868
timeleft  &#58; 69&#58;19&#58;33
key usage &#58; Digital Signature, Key Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/dcms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/itcms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
attribute &#58; /cms/uscms/Role=NULL/Capability=NULL
timeleft  &#58; 69&#58;19&#58;32
uri       &#58; lcg-voms2.cern.ch&#58;15002

[4]

subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch/CN=2122677890
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
identity  &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsglobal/glidein_gfactory_instance/credential_CMSG-v1_0.overflow_411868
timeleft  &#58; 69&#58;18&#58;54
key usage &#58; Digital Signature, Key Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/dcms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/itcms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
attribute &#58; /cms/uscms/Role=NULL/Capability=NULL
timeleft  &#58; 69&#58;18&#58;53
uri       &#58; lcg-voms2.cern.ch&#58;15002

[5]

subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch/CN=2122677890
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
identity  &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsglobal/glidein_gfactory_instance/credential_CMSG-v1_0.main_411868
timeleft  &#58; 69&#58;15&#58;32
key usage &#58; Digital Signature, Key Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/dcms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/itcms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
attribute &#58; /cms/uscms/Role=NULL/Capability=NULL
timeleft  &#58; 69&#58;15&#58;31
uri       &#58; lcg-voms2.cern.ch&#58;15002

[6]

subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch/CN=2122677890
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
identity  &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsglobal/glidein_gfactory_instance/credential_CMSG-v1_0.overflow_411868
timeleft  &#58; 69&#58;15&#58;11
key usage &#58; Digital Signature, Key Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot02/vocms080.cern.ch
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/dcms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/itcms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
attribute &#58; /cms/uscms/Role=NULL/Capability=NULL
timeleft  &#58; 69&#58;15&#58;10
uri       &#58; lcg-voms2.cern.ch&#58;15002

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1430440210').click(function() {
            $('#detail_1430440210').slideDown("normal");
            $('#show_1430440210').hide();
            $('#hide_1430440210').show();
        });
        $('#hide_1430440210').click(function() {
            $('#detail_1430440210').slideUp();
            $('#hide_1430440210').hide();
            $('#show_1430440210').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31579#1477613236'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-28T00:07:16+00:00">Oct 28, 2016 12:07 AM UTC</time><a class="anchor" name="1477613236">&nbsp;</a></div><pre>Thanks, Bockjoo.

Okay, I&#39;ll circle back to this one tomorrow.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31579#1477609870'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T23:11:10+00:00">Oct 27, 2016 11:11 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477609870">&nbsp;</a></div><pre>Hi Marty,
osg.rc.ufl.edu is the problem.
Thanks,
Bockjoo
On 10/27/16 6&#58;41 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477608089'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T22:41:29+00:00">Oct 27, 2016 10:41 PM UTC</time><a class="anchor" name="1477608089">&nbsp;</a></div><pre>Brian,

Just to confirm. The problem is a cms.rc.ufl.edu, not osg.rc.ufl.edu?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='31579#1477606966'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T22:22:46+00:00">Oct 27, 2016 10:22 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477606966">&nbsp;</a></div><pre>Factory Ops&#58; Bockjoo has a few held jobs on his CE right now that claim to have expired proxies but inspecting the local proxies seem to indicate they&#39;re valid and unexpired. How do they look on your end? Also, what&#39;s the original submission date of the job?</pre></div><div class='update_description'><i onclick="document.location='31579#1477605671'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T22:01:11+00:00">Oct 27, 2016 10:01 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477605671">&nbsp;</a></div><pre>Bockjoo,

I&#39;m looking at a few of the held jobs and I&#39;m noticing that condor appears to believe that the job get submitted [1] and then almost immediately held [2] but condor believes the proxy expired 36 hours before the job was submitted [1]. I&#39;m going to need to do a little more digging tomorrow to see if I can get anywhere. Thanks for your patience!

Cheers,
Brian

[1] $ date -d @$(condor_ce_q 336919.0 -af QDate)
Thu Oct 27 12&#58;57&#58;31 CDT 2016

[2] $ date -d @$(condor_ce_q 336919.0 -af EnteredCurrentStatus)
Thu Oct 27 12&#58;58&#58;22 CDT 2016

[3] $ date -d @$(condor_ce_q 336919.0 -af x509userproxyexpiration)
Wed Oct 26 01&#58;00&#58;10 CDT 2016</pre></div><div class='update_description'><i onclick="document.location='31579#1477597451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T19:44:11+00:00">Oct 27, 2016 07:44 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477597451">&nbsp;</a></div><pre>Hi Brian,
I am periodically removing half of the held jobs by the proxy expired
reason.
This will remove older part of half of the held jobs every hour.
Thanks,
Bockjoo
On 10/27/16 3&#58;13 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477595603'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T19:13:23+00:00">Oct 27, 2016 07:13 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477595603">&nbsp;</a></div><pre>Re-opened because the issue has come back. Bockjoo, I see a few held jobs due to the expired user proxy. Could you leave a few around for me to inspect?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477508536'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T19:02:16+00:00">Oct 26, 2016 07:02 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477508536">&nbsp;</a></div><pre>Bockjoo&#58; it looks like my jobs are being mapped to the cmspilot user now!

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477506552'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T18:29:12+00:00">Oct 26, 2016 06:29 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477506552">&nbsp;</a></div><pre>Hi Brian,
Yu Fu changed the mapping.
Can you check to see if you are mapped to cmspilot?
Thanks,
Bockjoo
On 10/26/16 1&#58;56 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477504571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T17:56:11+00:00">Oct 26, 2016 05:56 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477504571">&nbsp;</a></div><pre>I forgot to mention something that might or might not be helpful.
We have two CEs. The other CE does not have this issue.
So, something on this CE (osg.rc.ufl.edu) must be offending something.
Thanks,
Bockjoo
On 10/26/16 1&#58;26 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477504391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T17:53:11+00:00">Oct 26, 2016 05:53 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477504391">&nbsp;</a></div><pre>OK, I will leave one.
I don&#39;t think glexec is related since you are looking at the CE.
Yu Fu might know how to map you to cmspilot.
I am copying to him.
Yu, can you map Brian Lin to the cmspilot account to debug the issue on osg&#58;
/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Lin 1047
to cmspilot?
Thanks,
Bockjoo
On 10/26/16 1&#58;26 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477502773'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T17:26:13+00:00">Oct 26, 2016 05:26 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477502773">&nbsp;</a></div><pre>Could you leave a few behind next time around so I can try and inspect
why condor&#39;s got the wrong time for the proxy expiration? Also, is
glexec the reason I&#39;m being mapped to the grid user? I&#39;d be able to do
more troubleshooting if I was being mapped as the cmspilot user.

- Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477501513'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T17:05:13+00:00">Oct 26, 2016 05:05 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477501513">&nbsp;</a></div><pre>Yes, I periodically and manually remove those held jobs.
If I release them, they are idling forever anyway, I think.
So, I hope this is ok. Otherwise, we are not going to get more glideins,
so I must remove them periodically.
CE SPOOL dir shared is on our lustre. I will check if there is any clock
drifit.
That&#39;s a good suggestion.
Thanks,
Bockjoo
On 10/26/16 12&#58;41 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477500075'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T16:41:15+00:00">Oct 26, 2016 04:41 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477500075">&nbsp;</a></div><pre>Bockjoo,

Did you remove the jobs? I&#39;m not currently seeing any held jobs due to
expired proxy on osg.rc.ufl.edu. How is the CE SPOOL dir shared in your
cluster? Could you check to see if there&#39;s any clock drift between your
CE and your shared FS?

- Brian

P.S. I&#39;m still being mapped to grid19578</pre></div><div class='update_description'><i onclick="document.location='31579#1477439409'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-25T23:50:09+00:00">Oct 25, 2016 11:50 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477439409">&nbsp;</a></div><pre>Unfortunately, the issue of incorectly held jobs reappeared.
Bockjoo
On 10/24/16 2&#58;53 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477335204'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-24T18:53:24+00:00">Oct 24, 2016 06:53 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477335204">&nbsp;</a></div><pre>Alright, closing. Could you open a new GOC ticket for your other blahp issue?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477333751'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-24T18:29:11+00:00">Oct 24, 2016 06:29 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477333751">&nbsp;</a></div><pre>My answer&#58;
1)
No. condor version is 8.4.9&#58;
[root@osg ~]# rpm -qa | grep condor
htcondor-ce-pbs-2.0.10-1.osg33.el6.noarch
condor-procd-8.4.9-1.osg33.el6.x86_64
condor-classads-8.4.9-1.osg33.el6.x86_64
htcondor-ce-client-2.0.10-1.osg33.el6.noarch
osg-htcondor-ce-pbs-3.3-3.osg33.el6.x86_64
condor-python-8.4.9-1.osg33.el6.x86_64
condor-8.4.9-1.osg33.el6.x86_64
osg-htcondor-ce-3.3-3.osg33.el6.x86_64
htcondor-ce-2.0.10-1.osg33.el6.noarch
globus-gram-job-manager-condor-2.5-1.1.osg33.el6.noarch
condor-cron-1.0.11-1.osg33.el6.noarch

OSG repo for osg33 does not look it has 8.5.x

2) yes, pilots are running fine without the original issue so far
3) grid* user jobs are held because only small number of cores are given
to them and most of the jobs have been idling
because of cms jobs
4) same as 3)

3) and 4) are not the issue related directly with this ticket.
So, I think in principle, this ticket can be closed in view of 2).
Thanks,
Bockjoo

On 10/24/16 2&#58;16 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477332985'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-24T18:16:25+00:00">Oct 24, 2016 06:16 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477332985">&nbsp;</a></div><pre>Bockjoo,

A few things&#58;

1) Did you update to HTCondor 8.5.x?
2) The cmspilots look much better, they&#39;re not getting held due to expired proxy
3) There are a few grid* user jobs that are held due to an expired proxy, do the proxies look expired when you inspect them directly?
4) grid19467 user jobs are all getting held because of an inability to limit proxies. Are you running glexec? We can disable the limited proxies with the blahp-1.18.27 (available in osg-testing) and replacing the problematic pbs_status.py with the one you&#39;re running now.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477075090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:38:10+00:00">Oct 21, 2016 06:38 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477075090">&nbsp;</a></div><pre>Yea, the GSI auth issue is that I&#39;m still apparently not being mapped to
cmspilot. I&#39;m sorry that this has caused such a headache but hopefully
the update has resolved the proxy issues we were seeing initially. Let&#39;s
keep an eye on it and see if they&#39;re resolved.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477074371'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:26:11+00:00">Oct 21, 2016 06:26 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477074371">&nbsp;</a></div><pre>I am not sure what you mean by &#34;GSI auth issue&#34;.
Are you referring to your DN that is not being mapped to cmspilot?
By the way, I replaced pbs_status.py (
blahp-1.18.26.bosco-1.osg33.el6.x86_64 )
with the pre-update version of the pbs_status.py (
blahp-1.18.16.bosco-1.osg33.el6.x86_64 )
and now the jobs are filling the status cache.
I removed all the held jobs and will see how this progresses.
I renamed the blahp-1.18.26 pbs_status.py to be
/usr/libexec/blahp/pbs_status.py.original

Even if we fix /usr/libexec/blahp/pbs_status.py.original for this issue,
I think I have to apply the hack Horst mentioned so going back to the
previous version
seems to be the best option at this point as I don&#39;t see a great deal of
improvement in pbs_status.py.original
Thanks,
Bockjoo
On 10/21/16 2&#58;01 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477072892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T18:01:32+00:00">Oct 21, 2016 06:01 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477072892">&nbsp;</a></div><pre>Bockjoo,

I&#39;d be curious to see what happens if you restart the CE (this should kill all gridmanager and associated blahp processes) and what effect that has on the file locking issues. That may also solve the GSI auth issue because HTCondor-CE&#39;s GSI cache will reset.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477070051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T17:14:11+00:00">Oct 21, 2016 05:14 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477070051">&nbsp;</a></div><pre>MySQL DB shows it is mapped to cmspilot.
I don&#39;t know what I am missing.
You should be able to see /var/tmp/qstat_cache_cmspilot/pbs_status.log
now&#58;
10/21/16 13&#58;11&#58;20 2821655 Unable to acquire lock, try 47; will sleep for
0.78 seconds and try for 5.28 more seconds.
10/21/16 13&#58;11&#58;20 2821633 Fatal exception - Unable to acquire lock
10/21/16 13&#58;11&#58;20 2821633 1ERROR&#58; Internal exception, Unable to acquire lock
10/21/16 13&#58;11&#58;20 2821633 Jobid 545475 not in cache; querying PBS
10/21/16 13&#58;11&#58;21 2821633 Starting qstat.
10/21/16 13&#58;11&#58;21 2821655 Another process, 2821631 (age 8 seconds),
holds the cache lock.
10/21/16 13&#58;11&#58;21 2821655 Unable to acquire lock, try 48; will sleep for
0.94 seconds and try for 4.49 more seconds.
10/21/16 13&#58;11&#58;21 2821609 Finished qstat (time=10.988474).
10/21/16 13&#58;11&#58;21 2821609 Finished querying PBS for jobid 545521
10/21/16 13&#58;11&#58;21 2821609 0[BatchJobId=&#34;545521&#34;; JobStatus=1; ]
10/21/16 13&#58;11&#58;21 2821610 Finished qstat (time=10.945373).
10/21/16 13&#58;11&#58;21 2821610 Finished querying PBS for jobid 545522
10/21/16 13&#58;11&#58;21 2821610 0[BatchJobId=&#34;545522&#34;; JobStatus=1; ]
10/21/16 13&#58;11&#58;22 2821655 Another process, 2821631 (age 9 seconds),
holds the cache lock.
10/21/16 13&#58;11&#58;22 2821655 Unable to acquire lock, try 49; will sleep for
0.97 seconds and try for 3.55 more seconds.

I will look up pbs_status.py to see if I understand the complaint.
Thanks,
Bockjoo
On 10/21/16 12&#58;56 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477068970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T16:56:10+00:00">Oct 21, 2016 04:56 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477068970">&nbsp;</a></div><pre>I&#39;m using this DN&#58;

/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Lin 1047

But it looks like I&#39;m still being mapped to the grid user. Either way,
could you touch &#39;/var/tmp/qstat_cache_cmspilot/pbs_status.debug&#39;, wait a
little while, and then attach the contents of
&#39;/var/tmp/qstat_cache_cmspilot/pbs_status.log&#39; to the ticket?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477068072'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T16:41:12+00:00">Oct 21, 2016 04:41 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477068072">&nbsp;</a></div><pre>I assumed you are using the doegrid one&#58;
/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Brian Lin 1047
Can you try again?
Thanks,
Bockjoo
On 10/21/16 12&#58;32 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477067531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T16:32:11+00:00">Oct 21, 2016 04:32 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477067531">&nbsp;</a></div><pre>It still looks like I&#39;m being mapped to &#34;grid19216&#34;.

- Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477067170'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T16:26:10+00:00">Oct 21, 2016 04:26 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477067170">&nbsp;</a></div><pre>Your DN is mapped to cmspilot now.
Can you check?
Thanks,
Bockjoo
On 10/21/16 11&#58;44 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477064650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:44:10+00:00">Oct 21, 2016 03:44 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477064650">&nbsp;</a></div><pre>Also, if it&#39;s easy, would I be able to get root access to the machine?
It would make troubleshooting go quickly. If that&#39;s not easy, would you
be able to map my DN to the cmspilot user?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477064111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:35:11+00:00">Oct 21, 2016 03:35 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477064111">&nbsp;</a></div><pre>Bockjoo,

Things are looking bad again. Could you touch
/var/tmp/qstat_cache_cmspilot/pbs_status.debug?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477063421'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:23:41+00:00">Oct 21, 2016 03:23 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477063421">&nbsp;</a></div><pre>Pilots seem like they&#39;re flowing in, is the blahp_results_cache populating?</pre></div><div class='update_description'><i onclick="document.location='31579#1477063212'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:20:12+00:00">Oct 21, 2016 03:20 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477063212">&nbsp;</a></div><pre>I have executed the suggested removal command.
On 10/21/16 11&#58;16 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477063211'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:20:11+00:00">Oct 21, 2016 03:20 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477063211">&nbsp;</a></div><pre>I don&#39;t have any problem with qstat as the cmspilot user. It shows the
result correctly.
1ERROR&#58; &#39;545004&#39; because you don&#39;t have permission to read other user&#39;s
cache.

On 10/21/16 11&#58;09 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477062960'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:16:00+00:00">Oct 21, 2016 03:16 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477062960">&nbsp;</a></div><pre>I just ran /usr/libexec/blahp/pbs_status.py against a more recent job with more success. Let&#39;s try and remove all of the held jobs to see if the cache starts populating again&#58;

condor_ce_rm -const &#39;jobstatus =?= 5&#39;</pre></div><div class='update_description'><i onclick="document.location='31579#1477062572'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:09:32+00:00">Oct 21, 2016 03:09 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477062572">&nbsp;</a></div><pre>Strange, can you run qstat as the cmspilot user successfully? Both qstat on a particular job and just &#39;qstat&#39; to display all running jobs? I ran it remotely and this is what I got&#58;

1ERROR&#58; &#39;545004&#39;

I&#39;m not sure if there&#39;s some sort of permission issue involving the user I&#39;m running as that&#39;s preventing me from running qstat on other jobs? I&#39;m also running all of this against osg.rc.ufl.edu.</pre></div><div class='update_description'><i onclick="document.location='31579#1477062490'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:08:10+00:00">Oct 21, 2016 03:08 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477062490">&nbsp;</a></div><pre>I don&#39;t think so. qstat binary for SLURM is /opt/slurm/bin/qstat.
Anyway, I have removed /usr/bin/qstat and created the softlink to
/opt/slurm/bin/qstat.
Thanks,
Bockjoo
On 10/21/16 10&#58;58 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477062133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T15:02:13+00:00">Oct 21, 2016 03:02 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477062133">&nbsp;</a></div><pre>That file is empty.
/usr/libexec/blahp/pbs_status.py pbs/20161021/545004
seems to work as expected though.
Thanks,
Bockjoo
On 10/21/16 10&#58;52 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1477061894'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T14:58:14+00:00">Oct 21, 2016 02:58 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477061894">&nbsp;</a></div><pre>Bockjoo,

I ran some qstat commands locally on your CE that the blahp performs (via condor_ce_run -l) and I&#39;m seeing the following&#58;

Unable to communicate with moab.ufhpc(172.16.168.79)
Cannot connect to specified server host &#39;moab.ufhpc&#39;.
Unable to communicate with moab.ufhpc(172.16.168.79)
Cannot connect to specified server host &#39;moab.ufhpc&#39;.
Unable to communicate with moab.ufhpc(172.16.168.79)
Cannot connect to specified server host &#39;moab.ufhpc&#39;.
qstat&#58; cannot connect to server moab.ufhpc (errno=111) Connection refused

Is there an issue with your moab server?

- Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477061522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T14:52:02+00:00">Oct 21, 2016 02:52 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1477061522">&nbsp;</a></div><pre>Bockjoo,

What do the contents of /var/tmp/qstat_cache_cmspilot/blahp_results_cache look like? Is the file empty?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1477009390'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-21T00:23:10+00:00">Oct 21, 2016 12:23 AM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1477009390">&nbsp;</a></div><pre>After the upgrade, this
condor_ce_run -lr osg.rc.ufl.edu&#58;9619 &#34;pwd&#34;
runs fine.
But condor_g submission gets held due to&#58;
318696.0   cmspilot       10/20 18&#58;59 status command failed&#58; &#60;blah&#62;
execute_cmd&#58; 30 seconds timeout expired, killing child process.- &#60;blah&#62;
killed by signal  15.-
318707.0   cmspilot       10/20 19&#58;28 BLAH_JOB_STATUS timed out

I am wondering if this will be cleared by itself.
Thanks,
Bockjoo

On 10/20/16 3&#58;41 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1476992471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T19:41:11+00:00">Oct 20, 2016 07:41 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1476992471">&nbsp;</a></div><pre>I have upgraded the software&#58;
[root@osg ~]# rpm -qa | grep &#34;htcondor&#92;|condor&#92;|blahp&#34;
htcondor-ce-pbs-2.0.10-1.osg33.el6.noarch
condor-procd-8.4.9-1.osg33.el6.x86_64
condor-classads-8.4.9-1.osg33.el6.x86_64
htcondor-ce-client-2.0.10-1.osg33.el6.noarch
osg-htcondor-ce-pbs-3.3-3.osg33.el6.x86_64
condor-python-8.4.9-1.osg33.el6.x86_64
blahp-1.18.26.bosco-1.osg33.el6.x86_64
condor-8.4.9-1.osg33.el6.x86_64
osg-htcondor-ce-3.3-3.osg33.el6.x86_64
htcondor-ce-2.0.10-1.osg33.el6.noarch
globus-gram-job-manager-condor-2.5-1.1.osg33.el6.noarch
condor-cron-1.0.11-1.osg33.el6.noarch

I will let you know how it goes.
Thanks,
Bockjoo
On 10/20/16 3&#58;19 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1476991160'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T19:19:20+00:00">Oct 20, 2016 07:19 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476991160">&nbsp;</a></div><pre>Bockjoo,

One last update&#58; the new version of the blahp that fixes glexec and disabling of limited proxies is available in osg-testing, now. However it&#39;s untested so it&#39;s up to you whether you want to install it and disable limited proxies in /etc/blah.config or not.

- Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1476991031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T19:17:11+00:00">Oct 20, 2016 07:17 PM UTC</time> by <b>Bockjoo Kim</b><a class="anchor" name="1476991031">&nbsp;</a></div><pre>OK, I will upgrade them.
Thanks,
Bockjoo
On 10/20/16 2&#58;59 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31579#1476989954'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T18:59:14+00:00">Oct 20, 2016 06:59 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476989954">&nbsp;</a></div><pre>Bockjoo,

I&#39;ve also noticed that you&#39;ve got some pretty old versions of HTCondor, HTCondor-CE, and the blahp. Could you update these packages?

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1476987862'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T18:24:22+00:00">Oct 20, 2016 06:24 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476987862">&nbsp;</a></div><pre>Oops, that openssl command should read&#58;

openssl x509 -in /cms/data/htcondor-ce/osg/var/lib/condor-ce/spool/5458/0/cluster315458.proc0.subproc0/credential_CMSG-v1_0.main_411868 -noout -text</pre></div><div class='update_description'><i onclick="document.location='31579#1476986682'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T18:04:42+00:00">Oct 20, 2016 06:04 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476986682">&nbsp;</a></div><pre>Bockjoo,

The CE seems to believe that it expired on Oct 18th&#58;

condor_ce_q -af x509userproxyexpiration
1476828010

Just to make sure you&#39;re looking at the right file, can you run the following?

openssl x509 -in /cms/data/htcondor-ce/osg/var/lib/condor-ce/spool/5458/0/cluster315458.proc0.subproc0/ -noout -text

I see there are also a ton of other held jobs, due to submit attempt failures related to limited proxies. I&#39;d suggest disabling limited proxies but there&#39;s currently a bug with glexec + disabling limited proxies (<a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-2475' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-2475</a>) but there should be a new blahp build available in osg-testing later today.

- Brian</pre></div><div class='update_description'><i onclick="document.location='31579#1476979750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T16:09:10+00:00">Oct 20, 2016 04:09 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1476979750">&nbsp;</a></div><pre>Bockjoo sent the following e-mail to osg-int&#58;

Hi,
CMS pilot jobs are becoming held due to the expired proxy&#58;
315458.0   cmspilot       10/19 16&#58;44 CE job in status 1 put on hold by SYSTEM_PERIODIC_HOLD due to expired user proxy.

But the proxy of the pilot user is vaild&#58;
openssl x509 -in $(echo $(condor_ce_q -l 315458| grep ^Iwd | cut -d&#92;&#34; -f2)/cred*) -noout -startdate -enddate
notBefore=Oct 19 20&#58;36&#58;37 2016 GMT
notAfter=Oct 22 14&#58;00&#58;11 2016 GMT

What am I missing?
Thanks,
Bockjoo</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F31579">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 31579});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
