<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[26111] TTU-ANTAEUS - Glideins failing validation</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=26111" method="post">
<div class="page-header">
    <h3><span class="muted">26111</span> / TTU-ANTAEUS - Glideins failing validation</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brendan Dennis</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">TTU-ANTAEUS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Brendan Dennis</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">TIGRE</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Alain or Amy to update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-09-25</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">TIGRE <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/26111", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/26111?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/26111?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20TTU-ANTAEUS%20-%20Glideins%20failing%20validation%20ISSUE%3D26111%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='26111#1443128859'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-24T21:07:39+00:00">Sep 24, 2015 09:07 PM UTC</time><a class="anchor" name="1443128859">&nbsp;</a></div><pre>Alan,

We are registering the downtime on the glidein factories. Please contact us when you are ready to test the new HTCondor-CE. Ticket closed.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='26111#1443120430'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-24T18:47:10+00:00">Sep 24, 2015 06:47 PM UTC</time><a class="anchor" name="1443120430">&nbsp;</a></div><pre>I suppose we can close it. The problem of the overloading CE was not related to the original problem, which we had fixed I believe by doing the GUMS updates.
We will be hiring a new person soon, I hope, and may use the HTCondor-CE switch as an opportunity to train the new person in OSG installation and maintenance. Meanwhile the gatekeeper (but not other services) on antaeus will be offline until further notice.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1443118778'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-24T18:19:38+00:00">Sep 24, 2015 06:19 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1443118778">&nbsp;</a></div><pre>Hello All,

Should we close this until Antaeus is able to switch to the HTCondor-CE? Also I think that the software people would be the ones to write the documentation from the upgrade pov. I can email them and inquire about that.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1443031076'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-23T17:57:56+00:00">Sep 23, 2015 05:57 PM UTC</time><a class="anchor" name="1443031076">&nbsp;</a></div><pre>The good news&#58; updating to GUMS 1.5, required to implement the security-related update, and consequent updating to the OSG 3.2 version to get there, likely fixed any remaining GUMS configuration.

The bad news&#58; Updating to OSG 3.2 on Antaeus itself has apparently created a condition in which turning on the globus-gatekeeper process quickly results in very high load (20 up to over 100) on the CE. Consequently we have turned off the OSG globus-gatekeeper until we have time try to switch to the HTCondor-CE and pursue further OSG configuration and updates.

Side notes&#58; It would be *extermely* nice if OSG updates (a) did NOT start with the blanket instructions to enable all repositories and do a generic yum update very unfriendly on Rocks cluster machines), and (b) did not enforce updates to so many configuration files, forcing us to go through the whole setup looking for .rpmnew and other consequences requiring manual intervention. At minimum, there should be a summary somewhere that one could go through, and/or the TWiki instructions should be written from the point of view of doing an update rather than a new installation.

I will register a downtime for Antaeus and hope we can get to this sometime within a couple of weeks.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1443030133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-23T17:42:13+00:00">Sep 23, 2015 05:42 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1443030133">&nbsp;</a></div><pre>Thanks for the update, Brendan.

Amy or Alain,

Let us know what you are able to find out from the logs.

Regards,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1442870688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-21T21:24:48+00:00">Sep 21, 2015 09:24 PM UTC</time><a class="anchor" name="1442870688">&nbsp;</a></div><pre>I&#39;m guessing it&#39;s some sort of issue with their squid proxy, so the logs for that service would be the first place to look. Normally when a site has issues with its squid proxy, it&#39;s because the proxy is down entirely. That doesn&#39;t appear to be the case here; it looks like the proxy is up, but for some reason fetching via it is failing.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1442605284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-18T19:41:24+00:00">Sep 18, 2015 07:41 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1442605284">&nbsp;</a></div><pre>Brendan,

Do you know which log files they should look at for clues to the source of the issue?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1442294650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-15T05:24:10+00:00">Sep 15, 2015 05:24 AM UTC</time><a class="anchor" name="1442294650">&nbsp;</a></div><pre>Currently, it&#39;s looking like all glideins are failing validation while trying to fetch files from the factory due to some sort of issue with the antaeus proxy [1]. It&#39;s not the normal &#34;proxy is down&#34; error so unfortunately this is the only error I&#39;m getting and I can&#39;t provide much more. It appears to be happening with all glideins, regardless of factory, VO, or worker node.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
Mon Sep 14 20&#58;25&#58;56 CDT 2015 Failed to load file &#39;description.f93edh.cfg&#39; from &#39;<a href='http&#58;//gfactory-1.t2.ucsd.edu/factory/stage&#39' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/factory/stage&#39</a>; using proxy &#39;antaeus.hpcc.ttu.edu&#58;3128&#39;.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1442002460'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-11T20:14:20+00:00">Sep 11, 2015 08:14 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1442002460">&nbsp;</a></div><pre>Due to the GUMS security update, I have updated to OSG 3.2.27 on all TTU site OSG resources and brought the GUMS installation to the current version.  I can’t go to OSG 3.3 on GUMS because the operating system for that server is still at CentOS 5, but otherwise things should be up to date.

Please re-verify to see if you still have any problems.

Alan

On Sep 11, 2015, at 2&#58;58 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='26111#1442001512'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-11T19:58:32+00:00">Sep 11, 2015 07:58 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1442001512">&nbsp;</a></div><pre>Greetings all,

Checking in to see if upgrades/testing has been successful.  Please advise.

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='26111#1441388172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-04T17:36:12+00:00">Sep 4, 2015 05:36 PM UTC</time><a class="anchor" name="1441388172">&nbsp;</a></div><pre>That&#39;s fine with me, I&#39;ll keep an eye on this ticket and follow up later with how glideins are doing once the 3.2 upgrade is done.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1441205910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-02T14:58:30+00:00">Sep 2, 2015 02:58 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1441205910">&nbsp;</a></div><pre>Alan,

If Brendan doesn&#39;t mind then yes, we can revisit this when Amy is back. I am on PTO next week and I can check back on this when I return.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1441125395'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-01T16:36:35+00:00">Sep 1, 2015 04:36 PM UTC</time><a class="anchor" name="1441125395">&nbsp;</a></div><pre>It looks to me that the GUMS server here is still at OSG 3.1, judging from the repositories.

Since the goal here was to get the glideins working, and the current status seems to be that at least the majority of them are now working for the Fermilab VO, can we defer a more comprehensive upgrade to 3.2 until Amy gets back an a seek or so?

Alan

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1441124231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-09-01T16:17:11+00:00">Sep 1, 2015 04:17 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1441124231">&nbsp;</a></div><pre>Hi Alain,

I&#39;m a little confused by the last few updates. The lar1 and lar1nd haven&#39;t been in the vo-pkg since May. Here is a link to the latest release info <a href='https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/Release3226' target='_blank' rel='nofollow'>https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/Release3226</a>

I don&#39;t know how the yum update didn&#39;t pull the latest rpms but judging by what I am seeing, it looks like your rpms are still out of date. I think you can follow this <a href='https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/YumRepositories#Install_OSG_Repositories' target='_blank' rel='nofollow'>https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/YumRepositories#Install_OSG_Repositories</a> to get the latest rpms.

Please let me know how this goes and if you have any questions or issues.

~Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1441056121'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-31T21:22:01+00:00">Aug 31, 2015 09:22 PM UTC</time><a class="anchor" name="1441056121">&nbsp;</a></div><pre>Following up on my previous update, it seems that the &#34;lar1nd&#34;-related entries in the hostToGroupMapping lines for lar1nd-production, lar1ndana and lar1nd-gli were incorrectly entered without the &#34;nd&#34; (so were lard-production, lar1ana and lar1gli, respectively) in the gums.config file after the yum update.

I changed them to &#34;lar1nd&#34;* as above, and now the group member updates appear to succeed - at least for most VOs. (There are some with some errors that still need tracking down).

It is in the process of updating group members -- up to the ones starting with &#34;g&#34; right now - and this should complete soon. I&#39;ll look at the remaining errors once this is done.

Can you check again in a few minutes to see if mappings succeed? Also, can you check the OSG gums configuration that is being distributed with respect to the lard-related errors noted above and fixed manually by us here, please? Perhaps others would be affected by this, depending on where it crept in (our side or OSG).

thanks,
Alan

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1441055093'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-31T21:04:53+00:00">Aug 31, 2015 09:04 PM UTC</time><a class="anchor" name="1441055093">&nbsp;</a></div><pre>Amy is away and asked me to look at this.. It&#39;s been a long time since I looked at the GUMS configurations or server, so I started by looking at the age of the software.

Several components were out of date, so I did a comprehensive &#34;yum update&#34; and restarted the server. We are now at the following versions of gums components&#58;

[root@gums ~]# rpm -qa | grep gums
osg-gums-config-58-3.osg31.el5
gums-1.3.18.009-24.osg31.el5
gums-service-1.3.18.009-24.osg31.el5

Looking at the gums admin log, I see messages like the following&#58;

31 Aug 2015 16&#58;01&#58;06,130 [WARN ]&#58; Automatic group update had failures - The configuration wasn&#39;t read correctly&#58; Error at line 4261 char 28&#58; The groupToAccountMapping &#39;lar1-production&#39; is used within a hostToGroupMapping, but it was not defined.
31 Aug 2015 16&#58;01&#58;06,131 [INFO ]&#58; Starting automatic updateBannedGroups
31 Aug 2015 16&#58;01&#58;06,625 [WARN ]&#58; Automatic banned group update had failures - The configuration wasn&#39;t read correctly&#58; Error at line 4261 char 28&#58; The groupToAccountMapping &#39;lar1-production&#39; is used within a hostToGroupMapping, but it was not defined.

Can you advise, please? The current gums.config file is attached.

Alan

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1441048404'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-31T19:13:24+00:00">Aug 31, 2015 07:13 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1441048404">&nbsp;</a></div><pre>Hello Amy,

Have you been able to sort out your GUMS issue?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1440438680'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-24T17:51:20+00:00">Aug 24, 2015 05:51 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1440438680">&nbsp;</a></div><pre>Hello Amy,

Have you been able to sort out your GUMS issue?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1439913141'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-18T15:52:21+00:00">Aug 18, 2015 03:52 PM UTC</time><a class="anchor" name="1439913141">&nbsp;</a></div><pre>Amy,

Thanks for the update. If you can let us know when you&#39;ve sorted out the GUMS issue, that&#39;d be great. We can check back on the glidein status then.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='26111#1439828696'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-17T16:24:56+00:00">Aug 17, 2015 04:24 PM UTC</time><a class="anchor" name="1439828696">&nbsp;</a></div><pre>Hi Brendan,

Thanks for the update. Last week we just have our GUMS configuration file updated based on the newly released gum.config template, the updated gums configurations doesn&#39;t work as expected, it should be a cause to the failures on the Glidein job submissions. The open ticket for the issue is at <a href='26480.html' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/26480.</a>

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1439790908'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-17T05:55:08+00:00">Aug 17, 2015 05:55 AM UTC</time><a class="anchor" name="1439790908">&nbsp;</a></div><pre>Amie,

Currently, all glideins for all VOs are going held with the same hold reason [1]. This is preventing any glideins from successfully submitting.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
000 (2619335.009.000) 08/17 00&#58;27&#58;25 Job submitted from host&#58; &#60;129.79.53.27&#58;23898&#62;
...
018 (2619335.009.000) 08/17 00&#58;27&#58;39 Globus job submission failed!
Reason&#58; 7 authentication with the remote server failed
...
012 (2619335.009.000) 08/17 00&#58;37&#58;50 Job was held.
Globus error 7&#58; authentication with the remote server failed
Code 2 Subcode 7

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1439585887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-14T20:58:07+00:00">Aug 14, 2015 08:58 PM UTC</time><a class="anchor" name="1439585887">&nbsp;</a></div><pre>Hi Marty & Brenda,

The rebuild of the nodes is done now. Could one of you run a test to check on the current status? Thank you.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1439314869'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-11T17:41:09+00:00">Aug 11, 2015 05:41 PM UTC</time><a class="anchor" name="1439314869">&nbsp;</a></div><pre>Hi Marty,

Thanks for the updates. The two nodes had an issue that the /state/partition1 directory there was full, this is a folder for users to store temporary files for their job submissions. I have cleaned up the old temporary files in the directory so it won&#39;t cause job failures.

I&#39;m going to rebuild the rest nodes in serial queue, hopefully it can be done by this Friday. I&#39;ll let you know then.

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1439309844'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-11T16:17:24+00:00">Aug 11, 2015 04:17 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1439309844">&nbsp;</a></div><pre>Hello Amy,

Please update this once you have had time to review the information.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1438891627'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-06T20:07:07+00:00">Aug 6, 2015 08:07 PM UTC</time><a class="anchor" name="1438891627">&nbsp;</a></div><pre>Amy,

Things are looking better. Many glideins appear to be running user jobs (from all VOs) successfully. However, some appear to be failing due to an issue with little or no available disk space on the worker nodes [1] [2] [3] [4]. It looks like the problem worker nodes are compute-19-2.local and compute-19-4.local. When you get back, have a look into this as well.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

cat&#58; write error&#58; No space left on device
cat&#58; write error&#58; No space left on device
/home/GRIDUSERS/osg/.globus/.gass_cache/local/md5/83/d6d4ea54130fef48b8c4639b303d7c/md5/a3/8ff0655261a82214bcca3304e9db4c/data&#58; line 1047&#58; echo&#58; write error&#58; No space left on device
Wed Aug 5 01&#58;05&#58;44 CDT 2015 Could not create &#39;/state/partition1/glide_Hwah4W/glidein_config&#39;

[2]

Signature OK for main&#58;condor_config.monitor.f2amKi.include.
cat_consts.f2amKi.sh&#58; OK
Signature OK for main&#58;cat_consts.f2amKi.sh.
/state/partition1/glide_72jX08/main/error_gen.sh&#58; line 31&#58; echo&#58; write error&#58; No space left on device
/state/partition1/glide_72jX08/main/error_gen.sh&#58; line 59&#58; echo&#58; write error&#58; No space left on device
/state/partition1/glide_72jX08/main/error_gen.sh&#58; line 40&#58; echo&#58; write error&#58; No space left on device
/state/partition1/glide_72jX08/main/error_gen.sh&#58; line 49&#58; echo&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
No signature for /state/partition1/glide_72jX08/main/condor_platform_select.f2amKi.sh.
grep&#58; write error&#58; No space left on device
/state/partition1/glide_72jX08/add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
/collector_setup.f69iSJ.sh&#58; Permission denied
Wed Aug 5 10&#58;09&#58;05 CDT 2015 Failed to load file &#39;collector_setup.f69iSJ.sh&#39; from &#39;<a href='http&#58;//glidein.grid.iu.edu/factory/stage&#39' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/stage&#39</a>; using proxy &#39;antaeus.hpcc.ttu.edu&#58;3128&#39;.

[3]

grep&#58; write error&#58; No space left on device
<div id='show_1955868843' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1955868843'>grep&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
/home/GRIDUSERS/glow/.globus/.gass_cache/local/md5/51/b6c29eef26b7892aa65b797162ad90/md5/d5/83211b10274a12d8f3a4cb960b0f23/data&#58; line 1285&#58; echo&#58; write error&#58; No space left on device
/&#58; Is a directory
/home/GRIDUSERS/glow/.globus/.gass_cache/local/md5/51/b6c29eef26b7892aa65b797162ad90/md5/d5/83211b10274a12d8f3a4cb960b0f23/data&#58; line 1353&#58; echo&#58; write error&#58; No space left on device
Wed Aug 5 06&#58;50&#58;45 CDT 2015 Failed to load file &#39;&#39; from &#39;<a href='http&#58;//glidein.grid.iu.edu/factory/stage&#39' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/stage&#39</a>; using proxy &#39;antaeus.hpcc.ttu.edu&#58;3128&#39;.
/home/GRIDUSERS/glow/.globus/.gass_cache/local/md5/51/b6c29eef26b7892aa65b797162ad90/md5/d5/83211b10274a12d8f3a4cb960b0f23/data&#58; line 1363&#58; echo&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
grep&#58; write error&#58; No space left on device
add_config_line.source&#58; line 18&#58; echo&#58; write error&#58; No space left on device
Wed Aug 5 06&#58;50&#58;45 CDT 2015 Sleeping 289
Wed Aug 5 06&#58;55&#58;34 CDT 2015 Sleeping 332

[4]

mkdir&#58; cannot create directory &#96;/state/partition1/glide_fGeDp1/tmp&#39;&#58; No space left on device
Wed Aug 5 07&#58;12&#58;46 CDT 2015 Cannot create &#39;/state/partition1/glide_fGeDp1/tmp&#39;

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1955868843').click(function() {
            $('#detail_1955868843').slideDown("normal");
            $('#show_1955868843').hide();
            $('#hide_1955868843').show();
        });
        $('#hide_1955868843').click(function() {
            $('#detail_1955868843').slideUp();
            $('#hide_1955868843').hide();
            $('#show_1955868843').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='26111#1438869141'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-06T13:52:21+00:00">Aug 6, 2015 01:52 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1438869141">&nbsp;</a></div><pre>Hi Brendan,

It looks like you can test some of the nodes while the others are still being rebuilt. Setting this for next TUE, when Amy will be back.

~Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1438721290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-04T20:48:10+00:00">Aug 4, 2015 08:48 PM UTC</time><a class="anchor" name="1438721290">&nbsp;</a></div><pre>Hi Chris,

The rebuild still in the process, but most of the nodes have been rebuilt, the rest that haven&#39;t been rebuilt are disabled. A new test can be started as only the rebuilt nodes are enable. I&#39;ll continue work on this next Tuesday when I come back from the trip.

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1438708876'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-08-04T17:21:16+00:00">Aug 4, 2015 05:21 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1438708876">&nbsp;</a></div><pre>Hi Amy,

Do you have an update on this? Are you still in the process of rebuilding the nodes?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1438290742'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-30T21:12:22+00:00">Jul 30, 2015 09:12 PM UTC</time><a class="anchor" name="1438290742">&nbsp;</a></div><pre>Hi Chris and Brenda,

Thank you Brenda for your suggestions, it&#39;s very helpful. I have checked, looks like on some of the worker nodes, CVMFS doesn&#39;t have the correct settings. I&#39;m still trying to rebuild them to see if the rebuild will fix the problem. As there are jobs running and some of them can take up to 5 days to finish, I hope I can have the nodes rebuilt by next Tuesday before I leave for a conference on Wednesday. I&#39;ll keep you updated on the status.

Thanks again,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1438284681'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-30T19:31:21+00:00">Jul 30, 2015 07:31 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1438284681">&nbsp;</a></div><pre>Hi Amy,

Have you had time to review Brendan&#39;s last update?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1438035635'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-27T22:20:35+00:00">Jul 27, 2015 10:20 PM UTC</time><a class="anchor" name="1438035635">&nbsp;</a></div><pre>Hi Amy,

The networking related issues only seem to relate to GLOW glideins. As I&#39;ve mentioned in the past few tickets, there are also still issues with&#58;

1.) CMS glideins being unable to discover the location of various CMS software (likely on CVMFS) [1]
2.) Fermilab glideins also being unable to find software on CVMFS [2]
3.) OSG glideins failing due to being unable to locate globus-url-copy [3]
4.) Apparently missing/outdated CA certificates that may be the root cause for some or all of these issues [4]

It appears as if there is a serious misconfiguration on the worker nodes resulting in the validation scripts not being able to find common software/files. Can you please examine why these failures are occurring while waiting to hear back about the GLOW networking issues?

Brendan Dennis
UCSD Glidein Factory Operations

[1]
discover_CMSSW.f6ndhL.sh&#58; OK
Signature OK for client&#58;discover_CMSSW.f6ndhL.sh.
cmsset_default.sh not found!&#92;n
Looked in /cms.cern.ch/cmsset_default.sh
and /cvmfs/cms.cern.ch/cmsset_default.sh
and /cmsset_default.sh
and /lustre/work/osg_apps/cmssoft/cms/cmsset_default.sh
and $PARROT_RUN_WORKS is set to
=== Validation error in /state/partition1/glide_VOnsj6/client/discover_CMSSW.sh ===
Mon Jul 27 16&#58;13&#58;06 CDT 2015 Error running &#39;/state/partition1/glide_VOnsj6/client/discover_CMSSW.sh&#39;
The test script did not produce an XML file. No further information available.

[2]
IFFE_script.f5kaN1.sh&#58; OK
Signature OK for client&#58;IFFE_script.f5kaN1.sh.
Mon Jul 27 14&#58;54&#58;03 CDT 2015 ERROR&#58; Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate
=== Validation error in /state/partition1/glide_BBNLmN/client/IFFE_script.sh ===
Mon Jul 27 15&#58;14&#58;38 CDT 2015 Error running &#39;/state/partition1/glide_BBNLmN/client/IFFE_script.sh&#39;
Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate

<div id='show_1505551910' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1505551910'>[3]
Relevant portion of stderr&#58;
Signature OK for client&#58;osgvo-node-validation.f3rht8.
=== Validation error in /state/partition1/glide_upb0jW/client/osgvo-node-validation ===
Mon Jul 27 16&#58;24&#58;04 CDT 2015 Error running &#39;/state/partition1/glide_upb0jW/client/osgvo-node-validation&#39;
The test script did not produce an XML file. No further information available.

Relevant portion of stdout&#58;
Executing /state/partition1/glide_upb0jW/client/osgvo-node-validation
INFO&#58;    This is an OSG-FLOCK node validation script.
INFO&#58;    In case of problems, contact Mats Rynge (rynge@....)
INFO&#58;    Checking disk space - 1 GB free is required
INFO&#58;       There is 69 GB space available
INFO&#58;    Checking the environment...
INFO&#58;       checking PATH (/opt/gridengine/bin/lx26-amd64&#58;/sbin&#58;/usr/sbin&#58;/bin&#58;/usr/bin)
INFO&#58;       checking access to /usr/bin/
INFO&#58;       checking for globus-url-copy
FATAL ERROR&#58; globus-url-copy not found - this usually means that the wn package is not installed

[4]
setup_x509.f5sfqc.sh&#58; OK
Signature OK for main&#58;setup_x509.f5sfqc.sh.
WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/ (/home/GRIDUSERS/osg/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/usr/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659
</div><script type='text/javascript'>
        $('#show_1505551910').click(function() {
            $('#detail_1505551910').slideDown("normal");
            $('#show_1505551910').hide();
            $('#hide_1505551910').show();
        });
        $('#hide_1505551910').click(function() {
            $('#detail_1505551910').slideUp();
            $('#hide_1505551910').hide();
            $('#show_1505551910').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='26111#1438020323'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-27T18:05:23+00:00">Jul 27, 2015 06:05 PM UTC</time><a class="anchor" name="1438020323">&nbsp;</a></div><pre>Hi Brendan and Chris,

I have submitted a request to our IT department for checking on the firewall of TTU network, but haven&#39;t heard back from them yet. I&#39;ll check with them about the status.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1438015633'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-27T16:47:13+00:00">Jul 27, 2015 04:47 PM UTC</time><a class="anchor" name="1438015633">&nbsp;</a></div><pre>Nothing has changed from the factory perspective since my last update, there&#39;s still mass glidein failures across all VOs.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1438013459'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-27T16:10:59+00:00">Jul 27, 2015 04:10 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1438013459">&nbsp;</a></div><pre>Amy or Brendan,

Do either of you have an update on this?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1437489554'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-21T14:39:14+00:00">Jul 21, 2015 02:39 PM UTC</time><a class="anchor" name="1437489554">&nbsp;</a></div><pre>Hi Amy,

I&#39;m not sure when it started happening, as our logs are autorotated quite frequently. Going by our factory monitoring page [1], it looks like it&#39;s been going on since at least May or early June.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
<a href='http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryCompletedStats.html?entry=CMS_T3_US_TTU_antaeus_serial&frontend=glowVO2_frontend&infoGroup=badput' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryCompletedStats.html?entry=CMS_T3_US_TTU_antaeus_serial&frontend=glowVO2_frontend&infoGroup=badput</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1437409280'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-20T16:21:20+00:00">Jul 20, 2015 04:21 PM UTC</time><a class="anchor" name="1437409280">&nbsp;</a></div><pre>Hi Brendan,

The worker nodes don&#39;t have a firewall on each of them to block the accesses. It might be the firewall of TTU network blocking the accesses. Could you check and let me know when did this happen? I&#39;ll check with TTU network operation department to make sure the gldenin accesses are not blocked there.

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1437165418'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T20:36:58+00:00">Jul 17, 2015 08:36 PM UTC</time><a class="anchor" name="1437165418">&nbsp;</a></div><pre>Hi Amy,

The GLOW glideins are still continuing to fail with the same errors, as the worker nodes also need to be able to access those GLOW frontend servers, not just the TTU-Antaeus gatekeeper.

Additionally, the OSG, CMS, Fermilab, and SBGrid glideins are all still failing with the same errors as outlined in my earlier reply as well.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1437147828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-17T15:43:48+00:00">Jul 17, 2015 03:43 PM UTC</time><a class="anchor" name="1437147828">&nbsp;</a></div><pre>Hi Brendan,

The firewall on the gatekeeper of TTU-Antaeus has been modified to allow the accesses from the two glidein servers. Could you check to see if it works? Thanks!

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1437003443'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-15T23:37:23+00:00">Jul 15, 2015 11:37 PM UTC</time><a class="anchor" name="1437003443">&nbsp;</a></div><pre>The two GLOW frontends I know of that do submission right now are&#58;
glidein2.chtc.wisc.edu
glidein3.chtc.wisc.edu

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1436991248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-15T20:14:08+00:00">Jul 15, 2015 08:14 PM UTC</time><a class="anchor" name="1436991248">&nbsp;</a></div><pre>Hi Brendan,

Thanks for the update. Could you let me know the ip address of GLOW frontend or the port number for the validation access? I&#39;ll make sure it&#39;s not a firewall issue at our end. Thanks.

Sincerely,
HPCC Staff

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1436822594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-13T21:23:14+00:00">Jul 13, 2015 09:23 PM UTC</time><a class="anchor" name="1436822594">&nbsp;</a></div><pre>It looks like there&#39;s something still not quite right going on, as all frontends are currently having different problems that are preventing glideins from running successfully&#58;

- CMS glideins are now failing validation due to an out of space error [1]
- OSG glideins are still failing validation with the same error as the first post [2]
- Fermilab glideins are also still failing validation with the same error as the first post [3]
- GLOW glideins are making it past validation fine, but it looks like there may be something in place that prevent the worker nodes from talking with the GLOW frontend [4] which is causing user jobs to fail to run. Possibly firewall rules?
- SBGrid glideins are also making it past validation, but the glidein condor process is having trouble with authentication back to the frontend [5]

Brendan Dennis
UCSD Glidein Factory Operations

[1]
------- =================== ---------------
Setting X509_USER_PROXY  to canonical path /home/CMS/uscmspool4153/.globus/uscmspool4153/.globus/job/antaeus/16506149110387857921.554376309349786538/x509_user_proxy
mktemp&#58; failed to create directory via template &#96;/state/partition1/glide_XXXXXX&#39;&#58; No space left on device
Mon Jul 13 15&#58;38&#58;41 CDT 2015 Cannot create temp &#39;/state/partition1/glide_XXXXXX&#39;

[2]
OSG glideins
From stderr&#58;
Signature OK for client&#58;osgvo-node-validation.f3rht8.
=== Validation error in /state/partition1/glide_ifQUIu/client/osgvo-node-validation ===
Mon Jul 13 15&#58;42&#58;46 CDT 2015 Error running &#39;/state/partition1/glide_ifQUIu/client/osgvo-node-validation&#39;
The test script did not produce an XML file. No further information available.

From stdout&#58;
Executing /state/partition1/glide_ifQUIu/client/osgvo-node-validation
INFO&#58;    This is an OSG-FLOCK node validation script.
INFO&#58;    In case of problems, contact Mats Rynge (rynge@....)
INFO&#58;    Checking disk space - 1 GB free is required
INFO&#58;       There is 69 GB space available
INFO&#58;    Checking the environment...
INFO&#58;       checking PATH (/opt/gridengine/bin/lx26-amd64&#58;/sbin&#58;/usr/sbin&#58;/bin&#58;/usr/bin)
INFO&#58;       checking access to /usr/bin/
INFO&#58;       checking for globus-url-copy
<div id='show_1717810630' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1717810630'>FATAL ERROR&#58; globus-url-copy not found - this usually means that the wn package is not installed
=== Glidein ending Mon Jul 13 16&#58;02&#58;45 CDT 2015 (1436821365) with code 1 after 1202 ===

[3]
Fermilab glideins
IFFE_script.f5kaAE.sh&#58; OK
Signature OK for client&#58;IFFE_script.f5kaAE.sh.
Mon Jul 13 15&#58;13&#58;14 CDT 2015 ERROR&#58; Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate
=== Validation error in /state/partition1/glide_1OmdA1/client/IFFE_script.sh ===
Mon Jul 13 15&#58;33&#58;48 CDT 2015 Error running &#39;/state/partition1/glide_1OmdA1/client/IFFE_script.sh&#39;
Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate

[4]
GLOW glideins
07/13/15 15&#58;42&#58;50 (pid&#58;8266) SECMAN&#58; required authentication with collector glidein2.chtc.wisc.edu&#58;9654 failed, so aborting command CCB_REGISTER.
07/13/15 15&#58;42&#58;50 (pid&#58;8266) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/13/15 15&#58;42&#58;50 (pid&#58;8266) CCBListener&#58; connection to CCB server glidein2.chtc.wisc.edu&#58;9654 failed; will try to reconnect in 60 seconds.
07/13/15 15&#58;42&#58;56 (pid&#58;8266) SECMAN&#58; required authentication with collector glidein2.chtc.wisc.edu&#58;9654 failed, so aborting command UPDATE_MASTER_AD.
07/13/15 15&#58;42&#58;56 (pid&#58;8266) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/13/15 15&#58;42&#58;56 (pid&#58;8266) Failed to start non-blocking update to &#60;128.104.100.30&#58;9654&#62;.
07/13/15 15&#58;43&#58;50 (pid&#58;8266) SECMAN&#58; required authentication with collector glidein2.chtc.wisc.edu&#58;9654 failed, so aborting command CCB_REGISTER.
07/13/15 15&#58;43&#58;50 (pid&#58;8266) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/13/15 15&#58;43&#58;50 (pid&#58;8266) CCBListener&#58; connection to CCB server glidein2.chtc.wisc.edu&#58;9654 failed; will try to reconnect in 60 seconds.
07/13/15 15&#58;44&#58;50 (pid&#58;8266) SECMAN&#58; required authentication with collector glidein2.chtc.wisc.edu&#58;9654 failed, so aborting command CCB_REGISTER.
07/13/15 15&#58;44&#58;50 (pid&#58;8266) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

[5]
07/13/15 16&#58;03&#58;49 (pid&#58;10356) authenticate_self_gss&#58; acquiring self credentials failed. Please check your Condor configuration file if this is a server process. Or the user environment variable if this is a user process.

GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; Error with GSI credential
globus_sysconfig&#58; Could not find a valid trusted CA certificates directory
globus_sysconfig&#58; Could not find a valid trusted CA certificates directory
globus_sysconfig&#58; File does not exist&#58; X509_CERT_DIR is not a valid directory

07/13/15 16&#58;03&#58;49 (pid&#58;10356) SECMAN&#58; required authentication with collector 134.174.140.230&#58;9657 failed, so aborting command CCB_REGISTER.
07/13/15 16&#58;03&#58;49 (pid&#58;10356) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5003&#58;Failed to authenticate.  Globus is reporting error (851968&#58;22).  There is probably a problem with your credentials.  (Did you run grid-proxy-init?)
07/13/15 16&#58;03&#58;49 (pid&#58;10356) CCBListener&#58; connection to CCB server 134.174.140.230&#58;9657 failed; will try to reconnect in 60 seconds.
07/13/15 16&#58;03&#58;50 (pid&#58;10356) authenticate_self_gss&#58; acquiring self credentials failed. Please check your Condor configuration file if this is a server process. Or the user environment variable if this is a user process.

GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; Error with GSI credential
globus_sysconfig&#58; Could not find a valid trusted CA certificates directory
globus_sysconfig&#58; Could not find a valid trusted CA certificates directory
globus_sysconfig&#58; File does not exist&#58; X509_CERT_DIR is not a valid directory

07/13/15 16&#58;03&#58;50 (pid&#58;10356) DC_AUTHENTICATE&#58; required authentication of 10.6.28.26 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5003&#58;Failed to authenticate.  Globus is reporting error (851968&#58;44).  There is probably a problem with your credentials.  (Did you run grid-proxy-init?)
07/13/15 16&#58;03&#58;50 (pid&#58;10356) authenticate_self_gss&#58; acquiring self credentials failed. Please check your Condor configuration file if this is a server process. Or the user environment variable if this is a user process.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659
</div><script type='text/javascript'>
        $('#show_1717810630').click(function() {
            $('#detail_1717810630').slideDown("normal");
            $('#show_1717810630').hide();
            $('#hide_1717810630').show();
        });
        $('#hide_1717810630').click(function() {
            $('#detail_1717810630').slideUp();
            $('#hide_1717810630').hide();
            $('#show_1717810630').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='26111#1436813986'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-13T18:59:46+00:00">Jul 13, 2015 06:59 PM UTC</time><a class="anchor" name="1436813986">&nbsp;</a></div><pre>Hi Brendan,

I just removed the downtime through the OIM website, it should make a difference. Please check again. Thank you.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1436809872'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-13T17:51:12+00:00">Jul 13, 2015 05:51 PM UTC</time><a class="anchor" name="1436809872">&nbsp;</a></div><pre>Hey Amy,

The site is still schedule as being in downtime right now, so the glidein factories have it temporarily disabled for submission. I can manually remove it from the downtimes list, but it&#39;ll just get readded in a few minutes, so I was hoping you could remove it on your end. Once that happens and the factory starts submitting to it again, I&#39;ll let you know how glideins are running.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='26111#1436809495'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-13T17:44:55+00:00">Jul 13, 2015 05:44 PM UTC</time><a class="anchor" name="1436809495">&nbsp;</a></div><pre>Hi Chris,

The UPS issue has been resolved. Marty, could you check on glidein performance? Thanks.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1436801814'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-13T15:36:54+00:00">Jul 13, 2015 03:36 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436801814">&nbsp;</a></div><pre>Hi Amy,

What is the status of this ticket? Are you still having issues with the UPS?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1436537010'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-10T14:03:30+00:00">Jul 10, 2015 02:03 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436537010">&nbsp;</a></div><pre>Ok I&#39;ve updated the admin order for the both of you. I should have also asked if you wanted me to switch you two for the security and reports as well.

~Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1436534956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-10T13:29:16+00:00">Jul 10, 2015 01:29 PM UTC</time><a class="anchor" name="1436534956">&nbsp;</a></div><pre>Yes, please.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1436532190'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-10T12:43:10+00:00">Jul 10, 2015 12:43 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436532190">&nbsp;</a></div><pre>Alain and Amy,

OIM lists Alain as the Primary admin, if you&#39;d like I can change that for you now.

~Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1436477478'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-09T21:31:18+00:00">Jul 9, 2015 09:31 PM UTC</time><a class="anchor" name="1436477478">&nbsp;</a></div><pre>Thanks for the updates everyone. Let us know when site conditions have normalized and we&#39;ll check in again on glidein performance.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='26111#1436467736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-09T18:48:56+00:00">Jul 9, 2015 06:48 PM UTC</time><a class="anchor" name="1436467736">&nbsp;</a></div><pre>Note&#58; the primary OSG maintainer at TTU is Amy Wang, now cc&#39;ed.

There are apparently problems in a UPS supporting a network switch between our data centers, and this is affecting connectivity to our grid resources. This may require a further shutdown to replace the UPS.

Amy will update the Antaeus availability in the downtime tool.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='26111#1436466401'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-09T18:26:41+00:00">Jul 9, 2015 06:26 PM UTC</time><a class="anchor" name="1436466401">&nbsp;</a></div><pre>Hi Chris,

The cause should be that all the compute nodes on TTU-Antaeus have been disabled as we had an issue with the job scheduler SGE recently. We are now in the process to fix the issue, hopefully it can be resolved by tomorrow. We&#39;ll keep you updated.

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='26111#1436464551'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-09T17:55:51+00:00">Jul 9, 2015 05:55 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1436464551">&nbsp;</a></div><pre>Hi Alain,

I just wanted to verify that you saw this ticket. Please update when you can.

~Chris</pre></div><div class='update_description'><i onclick="document.location='26111#1436397232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-07-08T23:13:52+00:00">Jul 8, 2015 11:13 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1436397232">&nbsp;</a></div><pre>Hi TTU-ANTAEUS admins,

I&#39;ve noticed that glideins submitted to your gatekeeper [1] have been failing validation recently. The reasons vary depending on which frontend is submitting to the site, but all frontends do share one error involving missing CA certificates in common [2]. CMS glideins ultimately fail due to not being able to find CMSSW [3], OSG glideins due to not being able to find globus-url-copy [4], and Fermilab glideins due to missing files [5]. It looks like there may be some problems with CVMFS that may be the root issue causing all of this, could someone take a look? Thanks!

Brendan Dennis
UCSD Glidein Factory Operations

[1]
gatekeeper=&#34;antaeus.hpcc.ttu.edu&#58;2119/jobmanager-sge&#34;
rsl=&#34;(queue=serial)(jobtype=single)&#34;

[2]
Signature OK for main&#58;setup_x509.f5sfqc.sh.
WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/ (/home/CMS/uscmspool4153/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/usr/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!

[3]
Signature OK for client&#58;discover_CMSSW.f6ndhL.sh.
cmsset_default.sh not found!&#92;n
Looked in /cms.cern.ch/cmsset_default.sh
and /cvmfs/cms.cern.ch/cmsset_default.sh
and /cmsset_default.sh
and /lustre/work/osg_apps/cmssoft/cms/cmsset_default.sh
and $PARROT_RUN_WORKS is set to
=== Validation error in /state/partition1/glide_NUI0ml/client/discover_CMSSW.sh ===
Wed Jul 8 16&#58;12&#58;42 CDT 2015 Error running &#39;/state/partition1/glide_NUI0ml/client/discover_CMSSW.sh&#39;
The test script did not produce an XML file. No further information available.
Wed Jul 8 16&#58;12&#58;42 CDT 2015 Notifying VO of error
<div id='show_1662882176' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1662882176'>
[4]
stderr error&#58;
Signature OK for client&#58;osgvo-node-validation.f3rht8.
=== Validation error in /state/partition1/glide_poeFNV/client/osgvo-node-validation ===
Wed Jul 8 17&#58;27&#58;00 CDT 2015 Error running &#39;/state/partition1/glide_poeFNV/client/osgvo-node-validation&#39;
The test script did not produce an XML file. No further information available.

stdout error&#58;
FATAL ERROR&#58; globus-url-copy not found - this usually means that the wn package is not installed
=== Glidein ending Wed Jul  8 17&#58;47&#58;00 CDT 2015 (1436395620) with code 1 after 1202 ===

[5]
IFFE_script.f5kaAE.sh&#58; OK
Signature OK for client&#58;IFFE_script.f5kaAE.sh.
Wed Jul 8 17&#58;24&#58;03 CDT 2015 ERROR&#58; Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate
=== Validation error in /state/partition1/glide_kh1tq9/client/IFFE_script.sh ===
Wed Jul 8 17&#58;44&#58;37 CDT 2015 Error running &#39;/state/partition1/glide_kh1tq9/client/IFFE_script.sh&#39;
Did not find CERN file /cvmfs/grid.cern.ch/util/cvmfs-uptodate

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659

</div><script type='text/javascript'>
        $('#show_1662882176').click(function() {
            $('#detail_1662882176').slideDown("normal");
            $('#show_1662882176').hide();
            $('#hide_1662882176').show();
        });
        $('#hide_1662882176').click(function() {
            $('#detail_1662882176').slideUp();
            $('#hide_1662882176').hide();
            $('#show_1662882176').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F26111">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
