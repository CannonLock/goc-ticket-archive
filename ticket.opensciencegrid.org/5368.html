<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5368] Ticket exchange system tests- GOC to USATLAS</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5368" method="post">
<div class="page-header">
    <h3><span class="muted">5368</span> / Ticket exchange system tests- GOC to USATLAS</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Frederick Luehring</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">add as appropriate</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-08-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5368", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5368?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5368?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Ticket%20exchange%20system%20tests-%20GOC%20to%20USATLAS%20ISSUE%3D5368%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5368#1220043613'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-29T21:00:13+00:00">Aug 29, 2008 09:00 PM UTC</time> by <b>echism</b><a class="anchor" name="1220043613">&nbsp;</a></div><pre>From the history I will assume that adding the SC as an assignee is all that needs to
be done.</pre></div><div class='update_description'><i onclick="document.location='5368#1219689697'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-25T18:41:37+00:00">Aug 25, 2008 06:41 PM UTC</time> by <b>echism</b><a class="anchor" name="1219689697">&nbsp;</a></div><pre>#   	Fri Aug 08 18&#58;25&#58;12 2008  	osg@.... - Ticket
created 	  	 [Reply] [Comment]
Subject&#58; 	Open Science Grid&#58; Ticket exchange system tests- GOC to USATLAS
ISSUE=5368 PROJ=71
Date&#58; 	Fri, 8 Aug 2008 22&#58;24 +0000
To&#58; 	rt-racf-gridservices@....
From&#58; 	Open Science Grid FootPrints &#60;osg@....&#62;
Download (untitled)
text/plain 910b
When replying, type your text above this line.
----------------------------------------------
This message is to let you know that Open Science Grid ticket 5368 &#34;Ticket
exchange system tests- GOC to USATLAS&#34; which is assigned to you, was updated
on 08/08/2008 at 22&#58;24&#58;08 with the following information&#58;

FootPrints Ticket Description&#58;
USATLAS support,

We are trying to isolate the problems with the ticket exchange system. Please
excuse
a series of test tickets and respond once, then close any that you receive on
arrival.

Thank you,
Elizabeth

Assignees&#58; OSG Support Centers, USATLAS, Elizabeth Chism
Status&#58; Service Desk
Originating VO Support Center&#58; OSG-GOC
Destination VO Support Center&#58; OSG-GOC
Originating Ticket Number&#58;
Destination Ticket Number&#58;

Thank You,
OSG Grid Operations Center
<div id='show_350872520' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_350872520'>goc@...., 317-278-9699
info&#58; <a href='http&#58;//www.opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org</a>
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a>

#  	   	Fri Aug 08 18&#58;25&#58;13 2008  	RT_System - OSG GOC Ticket ISSUE=5368
PROJ=71 added

#  	   	Mon Aug 11 16&#58;55&#58;18 2008  	tomw - Correspondence added 	  	 [Reply]
[Comment]
Download (untitled)
text/plain 53b
closing the ticket at requestor&#39;s request

tom wlodek

#  	   	Mon Aug 11 16&#58;55&#58;19 2008  	RT_System - Status changed from &#39;new&#39; to
&#39;open&#39;

#  	   	Mon Aug 11 16&#58;55&#58;19 2008  	RT_System - Given to tomw
#  	   	Mon Aug 11 16&#58;55&#58;20 2008  	tomw - Status changed from &#39;open&#39; to
&#39;resolved&#39;

#  	   	Tue Aug 12 17&#58;14&#58;03 2008  	smithj4 - Correspondence added 	  	 [Reply]
[Comment]
Download (untitled)
text/plain 1.3k
Hi Elizabeth &amp; Tim,

The Atlas/BNL RT system did receive your two emails this afternoon, Tue
Aug 12 at 1&#58;06PM and 1&#58;43PM EDT. What exactly are you testing for?

Just for your information, we have a filter in front of our RT system
used for ticket exchanges like this. It matches the FootPrints issue
number with our RT ID number so the emails are appended to the correct
ticket instead of creating a new ticket. To prevent email loops, our RT
system is set to not notify the sender when an email is received and
appended to a ticket. Other than the ticket creation auto-reply, only
manual replies are sent. Also, once a ticket is closed on our side, it
can only be manually re-opened. Future correspondences will be received
and recorded in the ticket, but they will not automatically re-open the
ticket.

One final note, because of past ticket exchange mail loop problems, most
recently with CERN&#39;s Remedy system, this filter also looks for too many
emails from the same sender, sent within a short interval, over some
threshold and the emails are not passed through to RT for a few hours.
The current threshold is set to 6 emails from the same sender within 6
minutes, resulting in a block for 2 hours. So, if you do any sort of
bulk updating of BNL/Atlas RT tickets and go over this limit, then
OSG-GOC FootPrints will be blocked from sending more emails to RT for
two hours.

~Jason

#  	   	Tue Aug 12 17&#58;14&#58;04 2008  	RT_System - Status changed from &#39;resolved&#39;
to &#39;open&#39;

#  	   	Thu Aug 14 14&#58;18&#58;32 2008  	tomw - Status changed from &#39;open&#39; to
&#39;resolved&#39;

#  	   	Thu Aug 14 19&#58;29&#58;18 2008  	luehring@.... - Correspondence
added 	  	 [Reply] [Comment]
RT-Send-CC&#58; 	goc@....
Download (untitled)
text/plain 669b
Hi Tom,

Elizabeth Chism and Tim Silvers at the GOC are wondering about this
test ticket. I have added goc@.... as a cc. I believe
this reply will reopen the ticket which I want because Elizabeth and Tim
did not receive notification that you closed the ticked and they would
like to talk to you about that. Thanks greatly.

Fred

PS If you want to phone the GOC to work on this, call +1 317 278 9699.
Elizabeth answers the phone from 13&#58;00 to 21&#58;00 EDT.

--
Fred Luehring Indiana U. HEP mailto&#58;luehring@.... 1-812-855-1025 IU
<a href='http&#58;//cern.ch/Fred.Luehring' target='_blank' rel='nofollow'>http&#58;//cern.ch/Fred.Luehring</a> mailto&#58;Fred.Luehring@.... 41-22-767-1172
CERN

#  	   	Thu Aug 14 19&#58;29&#58;19 2008  	RT_System - Status changed from &#39;resolved&#39;
to &#39;open&#39;

#  	   	Thu Aug 14 19&#58;29&#58;19 2008  	RT_System - Cc luehring@.... added

--
Fred Luehring Indiana U. HEP mailto&#58;luehring@....  1-812-855-1025 IU
<a href='http&#58;//cern.ch/Fred.Luehring' target='_blank' rel='nofollow'>http&#58;//cern.ch/Fred.Luehring</a> mailto&#58;Fred.Luehring@.... 41-22-767-1172 CERN
</div><script type='text/javascript'>
        $('#show_350872520').click(function() {
            $('#detail_350872520').slideDown("normal");
            $('#show_350872520').hide();
            $('#hide_350872520').show();
        });
        $('#hide_350872520').click(function() {
            $('#detail_350872520').slideUp();
            $('#hide_350872520').hide();
            $('#show_350872520').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5368#1219331403'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-21T15:10:03+00:00">Aug 21, 2008 03:10 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1219331403">&nbsp;</a></div><pre>Elizabeth,

I thought Fred had provided you with information in separate email regarding this ticket. If you didn&#39;t
receive it, could you followup with him, please? This and the master ticket can hopefully be closed
soon. Of course, if there is an issue with the ATLAS ticket exchange, we will need to address it.

Thank you,

Tim</pre></div><div class='update_description'><i onclick="document.location='5368#1218755042'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-14T23:04:02+00:00">Aug 14, 2008 11:04 PM UTC</time> by <b>echism</b><a class="anchor" name="1218755042">&nbsp;</a></div><pre>Fred to assist in the AM.</pre></div><div class='update_description'><i onclick="document.location='5368#1218562924'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-12T17:42:04+00:00">Aug 12, 2008 05:42 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1218562924">&nbsp;</a></div><pre>ATLAS,

As Elizabeth mentioned, this ticket was created for the purposes of testing the ticket exchange. We
don&#39;t know if this ticket has made it to the ATLAS RT ticket tracking system, but so far we have
received on response, automated or otherwise. Could someone please followup?

I&#39;ve added Fred to the ticket as the customer so that perhaps he can followup if in fact the ticket
hasn&#39;t made it into the RT system (Fred has access to that system).

Tim</pre></div><div class='update_description'><i onclick="document.location='5368#1218560713'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-12T17:05:13+00:00">Aug 12, 2008 05:05 PM UTC</time> by <b>echism</b><a class="anchor" name="1218560713">&nbsp;</a></div><pre>USATLAS support,

We are trying to isolate the problems with the ticket exchange system. Please excuse
a series of test tickets and respond once, then close any that you receive on arrival.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='5368#1218234248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-08-08T22:24:08+00:00">Aug 8, 2008 10:24 PM UTC</time> by <b>echism</b><a class="anchor" name="1218234248">&nbsp;</a></div><pre>USATLAS support,

We are trying to isolate the problems with the ticket exchange system. Please excuse
a series of test tickets and respond once, then close any that you receive on arrival.

Thank you,
Elizabeth</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5368">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 5368});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
