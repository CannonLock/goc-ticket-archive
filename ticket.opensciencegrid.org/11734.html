<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[11734] Resource Specific Issue on UConn-OSG_CE</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=11734" method="post">
<div class="page-header">
    <h3><span class="muted">11734</span> / Resource Specific Issue on UConn-OSG_CE</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Richard T. Jones</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UConn-OSG_CE</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/resource</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Richard T. Jones</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for updates</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-04-06</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/11734", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/11734?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/11734?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Resource%20Specific%20Issue%20on%20UConn-OSG_CE%20ISSUE%3D11734%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='11734#1333162567'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-31T02:56:07+00:00">Mar 31, 2012 02:56 AM UTC</time> by <b>GLUEX</b><a class="anchor" name="1333162567">&nbsp;</a></div><pre>Hello,

I see glidein jobs from glow, engage, hcc, and osg running on the cluster right now, and everything seems normal.  Unless the factory operators are seeing issues with these glideins, I would say this ticket can be closed.

-Richard J.

On 3/29/2012 9&#58;51 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1333029061'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-29T13:51:01+00:00">Mar 29, 2012 01:51 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1333029061">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='11734#1332371441'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-21T23:10:41+00:00">Mar 21, 2012 11:10 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1332371441">&nbsp;</a></div><pre>The good news is&#58;
I don&#39;t see the preload errors anymore.

The bad news&#58;
the glideins still don&#39;t work &#58;(

Now I see these problems&#58;
03/21/12 18&#58;44&#58;19 (pid&#58;5183) State change&#58; benchmarks completed
03/21/12 18&#58;44&#58;19 (pid&#58;5183) Changing activity&#58; Benchmarking -&#62; Idle
03/21/12 18&#58;44&#58;23 (pid&#58;5183) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector glidein.chtc.wisc.edu&#58;9655, fd is 11
03/21/12 18&#58;44&#58;23 (pid&#58;5183) Buf&#58;&#58;write()&#58; condor_write() failed
03/21/12 18&#58;49&#58;53 (pid&#58;5183) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector glidein.chtc.wisc.edu&#58;9655, fd is 9
03/21/12 18&#58;49&#58;53 (pid&#58;5183) Buf&#58;&#58;write()&#58; condor_write() failed
03/21/12 18&#58;55&#58;44 (pid&#58;5183) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector glidein.chtc.wisc.edu&#58;9655, fd is 9
03/21/12 18&#58;55&#58;44 (pid&#58;5183) Buf&#58;&#58;write()&#58; condor_write() failed
03/21/12 19&#58;01&#58;35 (pid&#58;5183) condor_write()&#58; Socket closed when trying to write 4096 bytes to collector glidein.chtc.wisc.edu&#58;9655, fd is 9

PS&#58; These are GLOW glideins, so adding Dan in CC in case he can provide any info from his side.

Igor</pre></div><div class='update_description'><i onclick="document.location='11734#1332367450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-21T22:04:10+00:00">Mar 21, 2012 10:04 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1332367450">&nbsp;</a></div><pre>Igor,

Ok, yes that explains it.  I need to replace /lib64/libkeepalive.so with the literal string &#34;/$LIB/libkeepalive.so&#34;.  Apparently the loader recognizes this $LIB symbol and replaces it with lib or lib64 depending on what type of binary is being loaded.

I have installed this change, and verified that the job environment now sees it.  Please let me know if it solves this problem.

-Richard J.

On 3/21/2012 11&#58;37 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1332344230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-21T15:37:10+00:00">Mar 21, 2012 03:37 PM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1332344230">&nbsp;</a></div><pre>Hi Richard.

We are still getting
03/21/12 10&#58;47&#58;29 (pid&#58;24867) start_procd&#58; error received from procd&#58; ERROR&#58; ld.so&#58; object &#39;/lib64/libkeepalive.so&#39; from LD_PRELOAD cannot be preloade
problem.

I think the problem is the fact that our binaries are 32bit, while the preload is trying to force on us a 64-bit library.

Igor</pre></div><div class='update_description'><i onclick="document.location='11734#1331774468'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-15T01:21:08+00:00">Mar 15, 2012 01:21 AM UTC</time> by <b>GLUEX</b><a class="anchor" name="1331774468">&nbsp;</a></div><pre>Hello,

I think I have solved the &#34;/lib64/libkeepalive.so not found&#34; problem now.  The keepalive preload is now functional.  Please confirm that jobs are now able to complete and hold tcp connections to the outside world.

-Richard J.

On 3/11/2012 1&#58;40 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1331487604'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-11T17:40:04+00:00">Mar 11, 2012 05:40 PM UTC</time><a class="anchor" name="1331487604">&nbsp;</a></div><pre>Hi Richard,

We discovered a few problems here.
1. Our factory had low hold limits set and when those limits are hit no new glideins are requested.  These limits get hit much sooner at the UCSD Factory because of a glideinWMS bug.  The GOC Factory does not have this bug but you currently don&#39;t have your Gluex frontend registered with it.  That is why you saw mostly Engage and Glow glideins.

2. Even though we have had a good amount of glideins from other VOs get through to UConn mostly from the GOC factory, none of them were able to run user jobs.  Since about Feb 28 we see them register their respective Frontend collectors but they are unable to claim jobs.  I believe in the past this has corresponded to your campus firewall rules you mention below.  Interestingly I see this in our glidein error logs, maybe LD_PRELOAD is broken?
ERROR&#58; ld.so&#58; object &#39;/lib64/libkeepalive.so&#39; from LD_PRELOAD cannot be preloaded&#58; ignored.

We&#39;ve increased the hold limits at UCSD to address issue 1 but I think you&#39;ll have to investigate 2 more from your end.

Jeff

-- by Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='11734#1331324736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-09T20:25:36+00:00">Mar 9, 2012 08:25 PM UTC</time><a class="anchor" name="1331324736">&nbsp;</a></div><pre>Hello,

We just haven&#39;t seen a big workflow yet at UConn to confirm if the CE is back up and running yet.  As soon as we see more glideins try to run there we will let you know how it goes.

Jeff

-- by Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='11734#1331323120'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-09T19:58:40+00:00">Mar 9, 2012 07:58 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1331323120">&nbsp;</a></div><pre>as per offline email discussion with burt, im taking osg-software out from assignees list. seems osg-gfactory support is right list to follow up further on this.
-neha</pre></div><div class='update_description'><i onclick="document.location='11734#1331071870'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T22:11:10+00:00">Mar 6, 2012 10:11 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1331071870">&nbsp;</a></div><pre>That worked -- I now see your site in the BDII!
Now back to the main subject in the ticket -- you should be at gt5 (and the GIP will report that&#58; GlueCEInfoGRAMVersion&#58; 5.0.
We&#39;ll see if the OSG Glidein Factory can now get gt5 pilots running at your site.

- B</pre></div><div class='update_description'><i onclick="document.location='11734#1331068748'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T21:19:08+00:00">Mar 6, 2012 09:19 PM UTC</time><a class="anchor" name="1331068748">&nbsp;</a></div><pre>more from Burt&#58;
&#34;I see that CEMon isn&#39;t correctly running because there&#39;s a
bunch of missing directories under /var/cache/tomcat5/work &#34;

This is getting me on the right track.  I checked and I seem to have an already existing user in LDAP called &#34;tomcat&#34; which is conflicting with the new one created during the rpm install.  The situation is the following&#58;

1) there is (now) a tomcat user in /etc/passwd with uid 91, gid 91 defined in /etc/passwd
2) there was already existing (since a long time ago) a local user on our site named &#34;tomcat&#34;, uid 199, gid 2 defined in LDAP

When I thought I was giving permissions to tomcat(91) I was apparently assigning it to tomcat(199).

Watching /usr/share/tomcat5/logs/catalina.log, I was able to find all of the places where this was causing errors at tomcat5 startup.  Now I believe it is running.  Sorry for this.

-- by Richard T. Jones</pre></div><div class='update_description'><i onclick="document.location='11734#1331065247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T20:20:47+00:00">Mar 6, 2012 08:20 PM UTC</time><a class="anchor" name="1331065247">&nbsp;</a></div><pre>I think Burt may have cleared this up for me.  He says that tomcat5 is in charge of running gip info uploads at regular intervals.  The fact that /var/log/gip must be owned by the tomcat user is a good hint.  I restarted tomcat5, so let&#39;s see.

-- by Richard T. Jones</pre></div><div class='update_description'><i onclick="document.location='11734#1331064547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T20:09:07+00:00">Mar 6, 2012 08:09 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1331064547">&nbsp;</a></div><pre>I am a bit puzzled by this.  I just upgraded to 3.0.8, and I don&#39;t see anything in /etc/init.d called glite-ce-monitor.  Did it just go away, or get renamed to something else?  Perhaps this is related to the problem.  I do see something called osg-info-services but I was just informed under this ticket (see above) that osg-info-services is not supported by OSG and I am not supposed to be running it.

&#34;Additionally, with regards to ReSS (I didn&#39;t know you were using osg-info-services -- I&#39;m not sure it&#39;s officially supported FYI)&#34;

As soon as I learn what the pusher job is, maybe starting it will clear up this problem.

-Richard J.

On 3/6/2012 2&#58;57 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1331063825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T19:57:05+00:00">Mar 6, 2012 07:57 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1331063825">&nbsp;</a></div><pre>Hi Richard,

Yes, I meant osg-configure.  Looking now, it seems that CEMon itself isn&#39;t executing&#58; I don&#39;t see any &#34;sending&#34; lines in /var/log/glite-ce-monitor/glite-ce-monitor.log.
Maybe just restart tomcat and see if it picks up?

- B</pre></div><div class='update_description'><i onclick="document.location='11734#1331061487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T19:18:07+00:00">Mar 6, 2012 07:18 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1331061487">&nbsp;</a></div><pre>That is interesting.  I just looked at /var/log/gip and /var/cache/gip and both were indeed owned by root&#58;root.  Then I reran osg-configure -c by hand and checked again, and nothing had changed.  BTW, when you wrote &#34;configure-osg&#34; did you mean &#34;osg-configure&#34;?  In release3, I understand that the old configure-osg is obsolete and we should now use osg-configure instead.  Is this correct?

Afterward, I ran $ gip_info &#62;gip_info.out 2&#62;gip_info.err on my CE, and dumped the 2 output files into the web folder <a href='http&#58;//gryphn.phys.uconn.edu/UConn-OSG/diagnose/' target='_blank' rel='nofollow'>http&#58;//gryphn.phys.uconn.edu/UConn-OSG/diagnose/</a>

-Richard Jones

On 3/6/2012 1&#58;01 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1331061307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T19:15:07+00:00">Mar 6, 2012 07:15 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1331061307">&nbsp;</a></div><pre>Here are the steps I have taken so far&#58;

1. as root on my CE, $ chown tomcat&#58;daemon /var/cache/gip
2. as root on my CE, $ chown tomcat&#58;daemon /var/log/gip
3. as root on my CE, $ gip_info &#62;gip_info.out 2&#62;gip_info.err

The output files from step 3 above have been placed in the web folder&#58;

<a href='http&#58;//zeus.phys.uconn.edu/UConn-OSG/diagnose/' target='_blank' rel='nofollow'>http&#58;//zeus.phys.uconn.edu/UConn-OSG/diagnose/</a>

-Richard J.

On 3/6/2012 12&#58;38 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1331056914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T18:01:54+00:00">Mar 6, 2012 06:01 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1331056914">&nbsp;</a></div><pre>Hi Richard,

Found one last thing that is likely the problem -- the /var/log/gip and /var/cache/gip are owned by root, but they need to be owned by the tomcat user.
If you chown /var/log/gip, /var/log/gip/gip.log, and /var/cache/gip to tomcat that may get things moving.

Tony tells me configure-osg _should_ reset these permissions if run as root, so maybe something else isn&#39;t working properly too..</pre></div><div class='update_description'><i onclick="document.location='11734#1331055549'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T17:39:09+00:00">Mar 6, 2012 05:39 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1331055549">&nbsp;</a></div><pre>1) We use LD_PRELOAD in our job environment to make sure that all applications that run in the condor job context, especially glideinWMS daemons, have tcp-keepalives enabled for all outgoing tcp connections.  This is transparent to the jobs themselves, being preconfigured in the job environment using a condor job wrapper.  These keepalives solve a long-standing issue with our university netops team who has a policy of cutting off tcp sockets going through the internet firewall after X seconds of inactivity.  For our reasons for using LD_PRELOAD instead of /etc/ld.so.preload, we can open a separate thread.   All of that, just to say that when I upgraded to release3, it broke my jobwrapper script, and it took me a couple of days to discover and fix it.  I believe these errors are no longer happening, as of March 5.

2) Thanks for this.  I have changed condor_config to point to /etc/condor/condor_config in /etc/condor/config.d/20-condor.ini and redid osg-configure -c.  Let&#39;s see what happens.

3) You are right, the osg-info-services service was installed but NOT started by the rpm installer.  It just seemed like it might be related to my problems with my CEmon record, so I started it by hand.  It sounds like it is not needed, so I have now turned it off again.

thanks for your help,
-Richard Jones

On 3/6/2012 12&#58;19 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11734#1331055521'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T17:38:41+00:00">Mar 6, 2012 05:38 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1331055521">&nbsp;</a></div><pre>Looking further, the condor_config issue may not be fatal.  If you want to run gip_info &#62;& /tmp/gip-info.txt and e-mail the output that might be useful.</pre></div><div class='update_description'><i onclick="document.location='11734#1331054370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-06T17:19:30+00:00">Mar 6, 2012 05:19 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1331054370">&nbsp;</a></div><pre>Hi Rich,

Two things&#58;

I looked at your /var/log/gip/gip.log.  Is the networking/auth ok on your gatekeeper?  The connection seemed to be a bit flaky, globus-url-copy hanging, fork jobs sometimes working, sometimes coming back complaining about LD_PRELOAD with some keepalive library?

First and most important&#58;
2012-03-03 17&#58;39&#58;36,428 GIP.common&#58;INFO /usr/lib/python2.4/site-packages/gip_testing.py&#58;111&#58;  Command condor_status -submitter -xml -constraint &#39;TRUE&#39; exited with 1, stderr&#58; [&#39;File specified in CONDOR_CONFIG environment variable&#58;&#92;n&#39;, &#39;&#34;DEFAULT&#34;

There&#39;s a bug here -- sorry, I missed this use case.  We&#39;re picking up condor_config = DEFAULT out of
/etc/osg/config.d/20-condor.ini -- if you change that to the actual condor_config path, I believe you&#39;ll be publishing ok to BDII.  I&#39;ll fix this for the next GIP.

Additionally, with regards to ReSS (I didn&#39;t know you were using osg-info-services -- I&#39;m not sure it&#39;s officially supported FYI)

2012-03-06 08&#58;00&#58;10,566 CEMonUploader&#58;ERROR /usr/sbin/osg-info-services&#58;350&#58;
Exception occured for endpoint&#58; <a href='https&#58;//osg-ress-1.fnal.gov&#58;8443/ig/services/CEInfoCollector' target='_blank' rel='nofollow'>https&#58;//osg-ress-1.fnal.gov&#58;8443/ig/services/CEInfoCollector</a>
&#60;urlopen error SSL_CTX_use_PrivateKey_file error&#62;

This indicates the process running GIP doesn&#39;t have access to the private key file.

- B</pre></div><div class='update_description'><i onclick="document.location='11734#1330819040'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-03T23:57:20+00:00">Mar 3, 2012 11:57 PM UTC</time><a class="anchor" name="1330819040">&nbsp;</a></div><pre>The contact string is still gluskap.phys.uconn.edu&#58;/jobmanager-condor but I don&#39;t know how to check the parameter called &#34;gridtype&#34;.  Is this something I set, or something the GOC sets?  I looked through the OIM resource database and cannot see anywhere to set the gridtype parameter.  I agree with you that it probably should be gt5 now, but do not know how to check this.

Not sure why you cannot see my BDII record.  If you go to myosg.grid.iu.edu and select BDII information, our site shows up as UConn_OSG.  You can look at different views (Compute Element, Cluster, Storage Element, service, etc.)  Some of this information looks screwed up, like the total number of running jobs is always 0 and the number of free job slots is always zero in the Compute Element view.

Even more puzzling is the RESS status.  There is this classAd called &#34;isClassadValid&#34; that is supposed to be 1 if the info for our site is present and valid.  It is a logical AND of the following parameters&#58; ( isClassadValidAreCrtiticalAttributesPresent && isClassadValidAreImportantAttributesPresent && isClassadValidAreStateSlotsAndCPUNonNegative && isClassadValidIsCEHostNetAvailable ).  Weird thing is that all of these parameters evaluate individually to true (1) but the AND evaluates to false (0).  Any idea how to diagnose this?

-- by Richard T. Jones</pre></div><div class='update_description'><i onclick="document.location='11734#1330640420'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-01T22:20:20+00:00">Mar 1, 2012 10:20 PM UTC</time><a class="anchor" name="1330640420">&nbsp;</a></div><pre>Hello,

In our condor logs for both GOC and UCSD factories we are seeing&#58;
026 (202954.000.000) 02/25 16&#58;30&#58;13 Detected Down Grid Resource
GridResource&#58; gt2 gluskap.phys.uconn.edu&#58;/jobmanager-condor

We&#39;ve started getting these messages since about February 24th.  We are submitting with&#58;
gatekeeper=&#34;gluskap.phys.uconn.edu&#58;/jobmanager-condor&#34; gridtype=&#34;gt2&#34;

Richard can you please confirm this is still the correct contact string?  I assume however since you have upgraded with rpms that it should now be gt5.  As a side note I don&#39;t see an entry at all for uconn in BDII (using is.grid.iu.edu server).

Jeff
OSG Glidein Factory Operations

-- by Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='11734#1330634210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-01T20:36:50+00:00">Mar 1, 2012 08:36 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1330634210">&nbsp;</a></div><pre>glidein folk&#58; can you comment on this? Is there a problem with his information in the BDII, or something else? Thanks!
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='11734#1330459588'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-02-28T20:06:28+00:00">Feb 28, 2012 08:06 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1330459588">&nbsp;</a></div><pre>[by Richard T. Jones]

After upgrading my CE to version 3.0.7 using the RPM&#39;s distribution, and configuring my site ini files, I am not receiving glideins from the UCSD glideinWMS factory any more.  Before the upgrade glideins were coming in, but now since the upgrade not.  I am seeing glideins from the glidein.grid.iu.edu factory (glow vo) but our Gluex vo uses the UCSD glidein factory, and that one seems to think our site is down.  I checked that we do have updated entries in BDII for our site.  I suspect that there might be a problem with my config that is poisoning my BDII record, but I checked it over and things look correct.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F11734">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
