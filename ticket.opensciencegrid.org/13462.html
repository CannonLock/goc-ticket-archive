<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[13462] GLOW pilot jobs at FNAL_FERMIGRID</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=13462" method="post">
<div class="page-header">
    <h3><span class="muted">13462</span> / GLOW pilot jobs at FNAL_FERMIGRID</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Steve Timm</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">GLOW</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Steve Timm</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">GLOW-TECH</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Ping for update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-02-26</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GLOW-TECH <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/13462", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='13462#1361991329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-27T18:55:29+00:00">Feb 27, 2013 06:55 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1361991329">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='13462#1361910505'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-26T20:28:25+00:00">Feb 26, 2013 08:28 PM UTC</time><a class="anchor" name="1361910505">&nbsp;</a></div><pre>Yes indeed the glow users are once again using gLexec, this ticket can be closed.
Thanks very much.

Steve Timm

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183</pre></div><div class='update_description'><i onclick="document.location='13462#1361830120'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-25T22:08:40+00:00">Feb 25, 2013 10:08 PM UTC</time><a class="anchor" name="1361830120">&nbsp;</a></div><pre>Yes, a workaround was put in place.  Base don what we see on our end, the problem should be solved.

--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1361823022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-25T20:10:22+00:00">Feb 25, 2013 08:10 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1361823022">&nbsp;</a></div><pre>Steve,

Do you have any updates on this ? Was the work around put in place ?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='13462#1360618707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-11T21:38:27+00:00">Feb 11, 2013 09:38 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1360618707">&nbsp;</a></div><pre>Hello All,

Once the work around is in place and tested could someone confirm this issue is resolved and I will close the ticket?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='13462#1360618118'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-11T21:28:38+00:00">Feb 11, 2013 09:28 PM UTC</time><a class="anchor" name="1360618118">&nbsp;</a></div><pre>I was able to figure out whats going on. I talked to Dan and recommended a work around that should prevent the problem from happening even if he adds new attr to the group. The instructions are listed in our internal glideinwms issue tracker <a href='https&#58;//cdcvs.fnal.gov/redmine/issues/3457' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/issues/3457</a>

by /DC=org/DC=doegrids/OU=People/CN=Parag Mhashilkar 209917</pre></div><div class='update_description'><i onclick="document.location='13462#1360603269'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-11T17:21:09+00:00">Feb 11, 2013 05:21 PM UTC</time><a class="anchor" name="1360603269">&nbsp;</a></div><pre>I discovered that the presence of Glexec_Use in the constants file depends on the order of the attrs I define in the glexec frontend group!

If I order the attrs like this&#58;

&#60;attrs&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;REQUIRED&#34;/&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;x509UserProxySubject =!= undefined &amp;&amp; ((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &lt;= GLIDEIN_ToDie-CurrentTime))&#34;/&#62;
&#60;/attrs&#62;

Then I get this in the constants file&#58;

GLIDEIN_Glexec_Use      REQUIRED
GLIDECLIENT_Group_Start         x509UserProxySubject =!= undefined && ((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &#60;= GLIDEIN_ToDie-CurrentTime))

But if I order them like this&#58;

&#60;attrs&#62;
&#60;attr name=&#34;GLIDECLIENT_Group_Start&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; type=&#34;string&#34; value=&#34;x509UserProxySubject =!= undefined &amp;&amp; ((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &lt;= GLIDEIN_ToDie-CurrentTime))&#34;/&#62;
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;REQUIRED&#34;/&#62;
&#60;/attrs&#62;

Then I get this in the constants file&#58;

GLIDECLIENT_Group_Start 	x509UserProxySubject =!= undefined && ((isUndefined(TARGET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &#60;= GLIDEIN_ToDie-CurrentTime))

Parag is looking into it.

--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1360601203'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-11T16:46:43+00:00">Feb 11, 2013 04:46 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1360601203">&nbsp;</a></div><pre>Dan -- we&#39;re looking into this now at high priority.  Sorry for the delay.</pre></div><div class='update_description'><i onclick="document.location='13462#1360600704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-11T16:38:24+00:00">Feb 11, 2013 04:38 PM UTC</time><a class="anchor" name="1360600704">&nbsp;</a></div><pre>No changes have been suggested by the glideinWMS support folks, so I&#39;d expect the problem to still exist.

Steve, let us know if it is a problem for us to continue allowing jobs to run at your site as is, until this issue is resolved.  The reason we don&#39;t run more often is that we only allow jobs with proxies to run on FermiGrid, and many of our jobs do not have one.

--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1360377907'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-09T02:45:07+00:00">Feb 9, 2013 02:45 AM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1360377907">&nbsp;</a></div><pre>There are no remaining GLOW jobs in the queue at FNAL_FERMIGRID anymore.  The last ones exited on February 5.
Once they submit again, I’ll check again to see if they have glexec configured this time.  As far as I know, they had  not resolved the problem up until now, i.e. the jobs were still not using glexec as of Feb. 5.

Steve Timm</pre></div><div class='update_description'><i onclick="document.location='13462#1360375670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-09T02:07:50+00:00">Feb 9, 2013 02:07 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1360375670">&nbsp;</a></div><pre>Hello,

Just a general ping on this ticket to see where it stands and if anyone has any updates.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='13462#1359490571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-29T20:16:11+00:00">Jan 29, 2013 08:16 PM UTC</time><a class="anchor" name="1359490571">&nbsp;</a></div><pre>What version are we running?  That&#39;s a good question.  I was just reminded about an incident in which yum attempted to update to 2.6.1 from 2.6.0, and somehow resulted in the following situation&#58;

# rpm -q --whatprovides /usr/sbin/glideinFrontendElement.py
glideinwms-vofrontend-2.6.0-3.osg.el5
glideinwms-vofrontend-2.6.1-1.osg.el5

Despite that oddity, we have not noticed any sign that this broke the system.  If you think the glexec problem could somehow be related, we&#39;ll have to clean things up sooner rather than later.

--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1359489790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-29T20:03:10+00:00">Jan 29, 2013 08:03 PM UTC</time> by <b>Burt Holzman</b><a class="anchor" name="1359489790">&nbsp;</a></div><pre>Sorry, I missed this ticket entirely earlier. We&#39;ll have a look.  What
version frontend are you running?

On 01/29/13 13&#58;55, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13462#1359489339'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-29T19:55:39+00:00">Jan 29, 2013 07:55 PM UTC</time><a class="anchor" name="1359489339">&nbsp;</a></div><pre>Dear glideinWMS support folks,

I haven&#39;t heard anything about this issue.  Are you aware of it?  Is there any information we can provide to help debug?

Steve, if it becomes urgent that we stop violating your policy, please let us know.  Sorry for the wait.

Thanks,
Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1359162278'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-26T01:04:38+00:00">Jan 26, 2013 01:04 AM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1359162278">&nbsp;</a></div><pre>Had wrong string for the glideinwms mailing list.</pre></div><div class='update_description'><i onclick="document.location='13462#1359162232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-26T01:03:52+00:00">Jan 26, 2013 01:03 AM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1359162232">&nbsp;</a></div><pre>Removing factory ops from CC... not much they can do.</pre></div><div class='update_description'><i onclick="document.location='13462#1359162205'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-26T01:03:25+00:00">Jan 26, 2013 01:03 AM UTC</time> by <b>Igor Sfiligoi</b><a class="anchor" name="1359162205">&nbsp;</a></div><pre>If you are sure you have
&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;REQUIRED&#34;/&#62;
in the glexec group
then looks like a bug to me.

GLIDEIN_Glexec_Use
is not defined in
<a href='http&#58;//glidein.chtc.wisc.edu/gwms/stage/frontend_chtc/group_glexec/constants.d1ohtH.cfg' target='_blank' rel='nofollow'>http&#58;//glidein.chtc.wisc.edu/gwms/stage/frontend_chtc/group_glexec/constants.d1ohtH.cfg</a>

(but it is in the global
<a href='http&#58;//glidein.chtc.wisc.edu/gwms/stage/frontend_chtc/constants.cbqgrW.cfg' target='_blank' rel='nofollow'>http&#58;//glidein.chtc.wisc.edu/gwms/stage/frontend_chtc/constants.cbqgrW.cfg</a>
)

Adding glideinWMS support mailing list in CC.</pre></div><div class='update_description'><i onclick="document.location='13462#1359157152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-25T23:39:12+00:00">Jan 25, 2013 11:39 PM UTC</time><a class="anchor" name="1359157152">&nbsp;</a></div><pre>Dear Factory Support,

We have a frontend group that is supposed to use glexec, but is not using it.

In our configuration, we define the following at the global scope&#58;

&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;NEVER&#34;/&#62;

In the glexec frontend group, we attempt to override this with the following&#58;

&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;REQUIRED&#34;/&#62;

However, glideins in this group still do not use glexec.  Steve provided details from one such glidein in his prior post in this ticket.  It contains lines such as the following&#58;

Fri Jan 25 13&#58;18&#58;00 CST 2013 Factory requires glidein to use glexec&#58; False
Fri Jan 25 13&#58;18&#58;00 CST 2013 VO&#39;s desire to use glexec&#58; NEVER

Are we not using the correct method for declaring our desire to use glexec for glideins submitted in behalf of this frontend group?  Let me know if you need any more information.

Thanks,
--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1359142928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-25T19:42:08+00:00">Jan 25, 2013 07:42 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1359142928">&nbsp;</a></div><pre>There are 100-some jobs at Fermilab at the moment, some of which, at
least, Isabel&#39;s jobs have matched to.  They are still not running glexec.

Apropos things from StartdLog

StartdLog&#58;GLIDEIN_Glexec_Use = &#34;NEVER&#34;
StartdLog&#58;GLIDECLIENT_Group = &#34;glexec&#34;
StartdLog&#58;GLEXEC_JOB = false
StartdLog&#58;GLIDEIN_REQUIRE_GLEXEC_USE = false
StartdLog&#58;GLIDEIN_Req_MUPJ_gLExec = &#34;True&#34;
StartdLog&#58;GLIDECLIENT_Name = &#34;chtc.glexec&#34;
StartdLog&#58;GLEXEC_STARTER = false

From stdout of the glidein starting up&#58;

###############################
GLIDECLIENT_CONSTS_FILE
/local/stage1/disk3/dir_19327/glide_J19420/client/consta
nts.cfg
GLIDECLIENT_CONDOR_VARS_FILE
/local/stage1/disk3/dir_19327/glide_J19420/client/c
ondor_vars.lst
GLIDECLIENT_UNTAR_CFG_FILE
/local/stage1/disk3/dir_19327/glide_J19420/client/unt
ar.cfg
GLIDECLIENT_BLACKLIST_FILE
/local/stage1/disk3/dir_19327/glide_J19420/client/nod
es.blacklist
#
GLIDEIN_Expose_Grid_Env True
GLIDEIN_Glexec_Use NEVER
GLIDECLIENT_Start TARGET.WantGlidein && ( (isUndefined(osg_site_whitelist)
|| st
ringListMember(GLIDEIN_Site, osg_site_whitelist)=?=True) &&
(isUndefined(osg_sit
<div id='show_58781942' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_58781942'>e_blacklist) || stringListMember(GLIDEIN_Site, osg_site_blacklist)=!=True)
)
GLIDECLIENT_GRIDMAP
/local/stage1/disk3/dir_19327/glide_J19420/client/grid-mapfi
le
GLIDECLIENT_GROUP_CONSTS_FILE
/local/stage1/disk3/dir_19327/glide_J19420/client_
group_glexec/constants.cfg
GLIDECLIENT_GROUP_CONDOR_VARS_FILE
/local/stage1/disk3/dir_19327/glide_J19420/cl
ient_group_glexec/condor_vars.lst
GLIDECLIENT_GROUP_UNTAR_CFG_FILE
/local/stage1/disk3/dir_19327/glide_J19420/clie
nt_group_glexec/untar.cfg
GLIDECLIENT_GROUP_BLACKLIST_FILE
/local/stage1/disk3/dir_19327/glide_J19420/clie
nt_group_glexec/nodes.blacklist
#
GLIDECLIENT_Group_Start x509UserProxySubject =!= undefined &&
((isUndefined(TARG
ET.estimated_run_hours) || TARGET.estimated_run_hours*3600 &#60;=
GLIDEIN_ToDie-Curr
entTime))
ENTRY_CONSTS_FILE
/local/stage1/disk3/dir_19327/glide_J19420/entry_HCC_US_Fermig
ridosg1/constants.cfg
ENTRY_CONDOR_VARS_FILE
/local/stage1/disk3/dir_19327/glide_J19420/entry_HCC_US_F
ermigridosg1/condor_vars.lst
ENTRY_UNTAR_CFG_FILE
/local/stage1/disk3/dir_19327/glide_J19420/entry_HCC_US_Fer
migridosg1/untar.cfg
ENTRY_BLACKLIST_FILE
/local/stage1/disk3/dir_19327/glide_J19420/entry_HCC_US_Fer
migridosg1/nodes.blacklist
#
GLEXEC_BIN OSG
GLEXEC_JOB True
GLIDEIN_Country US
GLIDEIN_Max_Walltime 82800
GLIDEIN_Req_MUPJ_gLExec True
GLIDEIN_ResourceName FNAL_FERMIGRID
GLIDEIN_SE_VONAME_LOWERCASE
<a href='srm&#58;//fndca1.fnal.gov&#58;8443/srm/managerv2?SFN=/pnfs/f' target='_blank' rel='nofollow'>srm&#58;//fndca1.fnal.gov&#58;8443/srm/managerv2?SFN=/pnfs/f</a>
nal.gov/usr/fermigrid/volatile/
GLIDEIN_SEs fndca1.fnal.gov
GLIDEIN_Site Fermigridosg1
GLIDEIN_Supported_VOs HCC,GLUEX,nanoHUB,OSGVO,EngageVO,UCSDRok,NEES,glowVO
Site_Req_Explicit_Auth True
VOS_USING_SE_VONAME_LOWERCASE Engage,GLOW,Gluex,HCC,nanoHUB,NEES,OSG
GLIDEIN_Gatekeeper fermigridosg1.fnal.gov&#58;2119/jobmanager-condor
GLIDEIN_GridType gt2
GLIDEIN_REQUIRE_VOMS True
GLIDEIN_REQUIRE_GLEXEC_USE False
GLIDEIN_GlobusRSL
(queue=default)(jobtype=single)(gluerequirements=(requirements
&#39;GlueSubClusterName =!=
GlueClusterName&#39;))(subclusterrsl=true)(minmemory=1500)
# --- End entry constants       ---
MEMORY 2500
OSIssue Scientific Linux SLF release 5.3 (Lederman)
OSKernelRelease 2.6.18-308.24.1.el5
OSglibc_major 2
OSglibc_minor 5
OSglibc_micro 0
GLIDECLIENT_GLIDEIN_PARROT
/local/stage1/disk3/dir_19327/glide_J19420/client/par
rot
PARROT_CFG /local/stage1/disk3/dir_19327/glide_J19420/client/parrot_cfg
GLIDEIN_PARROT
/local/stage1/disk3/dir_19327/glide_J19420/client/parrot/parrot
CVMFS_OSG_APP /cvmfs/cms.hep.wisc.edu/osg/app
GLIDECLIENT_GLIDEIN_CMS_SITECONF
/local/stage1/disk3/dir_19327/glide_J19420/clie
nt/cms_siteconf
SiteSquidVersion 2.6.STABLE23
VO_CMS_SW_DIR /cvmfs/cms.hep.wisc.edu/osg/app/cmssoft/cms
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
define_OSG_SE&#58; VO did not identify itself.. nothing to do
Executing /local/stage1/disk3/dir_19327/glide_J19420/main/validate_node.sh
Executing
/local/stage1/disk3/dir_19327/glide_J19420/main/condor_platform_select
.sh
Executing
/local/stage1/disk3/dir_19327/glide_J19420/main/create_mapfile.sh
Executing
/local/stage1/disk3/dir_19327/glide_J19420/main/collector_setup.sh
Executing /local/stage1/disk3/dir_19327/glide_J19420/main/gcb_setup.sh
Not using GCB
Executing /local/stage1/disk3/dir_19327/glide_J19420/main/glexec_setup.sh
Fri Jan 25 13&#58;18&#58;00 CST 2013 Factory requires glidein to use glexec&#58; False
Fri Jan 25 13&#58;18&#58;00 CST 2013 VO&#39;s desire to use glexec&#58; NEVER
Fri Jan 25 13&#58;18&#58;00 CST 2013 Entry configured with glexec&#58; OSG
Fri Jan 25 13&#58;18&#58;00 CST 2013 VO does not want to use glexec
Executing /local/stage1/disk3/dir_19327/glide_J19420/main/java_setup.sh
Fri Jan 25 13&#58;18&#58;01 CST 2013 GLIDEIN_Java_Use not configured. Defaulting
it to N
EVER
Fri Jan 25 13&#58;18&#58;01 CST 2013 VO does not want to use Java
Executing
/local/stage1/disk3/dir_19327/glide_J19420/main/glidein_memory_setup.s
h
Fri Jan 25 13&#58;18&#58;01 CST 2013 Setting GLIDEIN_MaxMemMBs=2500
=== Last script starting Fri Jan 25 13&#58;18&#58;01 CST 2013 (1359141481) after
validating for 9 ===

=== Condor starting Fri Jan 25 13&#58;18&#58;02 CST 2013 (1359141482) ===
=== Condor started in background, now waiting on process 24115 ===
-----------------------------------------------------------------

On Fri, 25 Jan 2013, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_58781942').click(function() {
            $('#detail_58781942').slideDown("normal");
            $('#show_58781942').hide();
            $('#hide_58781942').show();
        });
        $('#hide_58781942').click(function() {
            $('#detail_58781942').slideUp();
            $('#hide_58781942').hide();
            $('#show_58781942').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='13462#1359133290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-25T17:01:30+00:00">Jan 25, 2013 05:01 PM UTC</time><a class="anchor" name="1359133290">&nbsp;</a></div><pre>We made a configuration change yesterday to the GLOW frontend.  We are now waiting for existing glideins to clear out so that we can observe if the configuration change solves the problem.

More info&#58;

The glideins submitted to Fermigrid were being submitted with the following attribute&#58;

&#60;attr name=&#34;GLIDEIN_Glexec_Use&#34; glidein_publish=&#34;True&#34; job_publish=&#34;True&#34; parameter=&#34;False&#34; type=&#34;string&#34; value=&#34;OPTIONAL&#34;/&#62;

According to the glideinWMS documentation, OPTIONAL has the following meaning&#58; &#34;use GLEXEC if the site is configured with it&#34;.

We configured the frontend matching logic to only match jobs with x509 credentials to sites in this special group.  However, we were not setting the start expression of these glideins to require jobs with x509 credentials, so perhaps the glideins were sometimes running without glexec when such jobs got matched to them.  This does not explain to me how Isobel&#39;s jobs could have run without glexec, because her jobs do have credentials, but it could explain why other users would run without credentials.  We know that in the past we did observe glexec being used, so everything would make sense if the problem only affects jobs that lack credentials.

The configuration change we made was to adjust the start expression to only match jobs with x509 credentials.  We also changed GLIDEIN_Glexec_Use from OPTIONAL to REQUIRED, just to be safe.

--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1359044290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-24T16:18:10+00:00">Jan 24, 2013 04:18 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1359044290">&nbsp;</a></div><pre>CMS jobs have better priority on FermiGrid (the non-cms-tier 1 part of
it) than GLOW jobs do.  If the
glideins were correctly marked with the right VO the user&#39;s jobs would
have a better chance to start and finish.  I recognize there may be
internal CMS issues why they may not want a tier 3 / campus grid
submitting independent set of glideins to the grid in the name of CMS.

If GLOW wants to submit users from your own campus grid using your own VO
that is your prerogative, I guess.  There was a time when HCC (nebraska
campus grid) had a similar issue with multiple VO submissions and figured
out how to make it work better in this regard.  You might want to check
with Derek Weitzel to see what he did.

Steve Timm

On Thu, 24 Jan 2013, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13462#1359043114'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-24T15:58:34+00:00">Jan 24, 2013 03:58 PM UTC</time><a class="anchor" name="1359043114">&nbsp;</a></div><pre>It has been our policy to use glexec when running on sites that require it.  This configuration was working on Fermigrid, but apparently something has gone wrong.  I am investigating.

Regarding the use of cross-VO glexec&#58; it is certainly not our intention to be doing anything sneaky here.  Our campus grid provides a glidein frontend for University of Wisconsin researchers to use under the GLOW VO.  The user in question happens to be a member of CMS, but she is also a UW researcher who is using campus services just like anyone else on our campus.  The particular jobs she is running are not a type that can be submitted through the CMS glidein service.  She is just submitting locally to condor on our campus, and is therefore benefiting from the campus service that overflows to OSG.

Given the above, do you still consider this cross-VO glexec to be a problem?  If so, we will need to exclude CMS users from using Fermigrid via the GLOW glidein service.

--Dan

by /DC=org/DC=doegrids/OU=People/CN=Dan Bradley 268953</pre></div><div class='update_description'><i onclick="document.location='13462#1359042988'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-24T15:56:28+00:00">Jan 24, 2013 03:56 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1359042988">&nbsp;</a></div><pre>Hi Dan
Please read the ticket details and take appropriate action (removing jobs that are not using glexec) and resubmit them properly. If we do not hear back from you by end of business day today, we will unfortunately have to remove/kill these jobs from our end.

Thank you</pre></div><div class='update_description'><i onclick="document.location='13462#1358988424'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-24T00:47:04+00:00">Jan 24, 2013 12:47 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358988424">&nbsp;</a></div><pre>GLOW is submitting a large number of pilot jobs to FNAL_FERMIGRID from glidein.chtc.wisc.edu
with certificate /DC=org/DC=doegrids/OU=Services/CN=pilot/glidein.chtc.wisc.edu
These appear to be pilot jobs and the user jobs running on them appear to be from Isabel Ojalvo of CMS.
Isabel has run previously on our site without incident. However there are two problems with
the current jobs&#58;

1) They are not using glexec.  It is required that all multi-user pilot jobs that run at FermiGrid must use glexec.
2) If they were using glexec it would be a cross-VO glexec, which is not illegal but is frowned upon because it
makes various Gratia accounting be inaccurate.  Glideins that are doing work for the CMS VO should be submitted
with a CMS VO pilot proxy.

We noticed these jobs due to a high level of Squid activity to cvmfs01.hep.wisc.edu.  At this point we do not
believe that the squid access is problematic or at too high of a level, but will continue to monitor it.

Please remove the current set of GLOW jobs that are running, and replace them with those that use Glexec, as fast as possible.

I am copying the user, ojalvo@.....

Steve Timm
Site administrator, FNAL_FERMIGRID

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F13462">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
