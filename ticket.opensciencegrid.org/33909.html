<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[33909] U of U Compute Element Glideins going Held due to authentication failure</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=33909" method="post">
<div class="page-header">
    <h3><span class="muted">33909</span> / U of U Compute Element Glideins going Held due to authentication failure</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">VAIBHAV GUPTA</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">U of U Compute Element</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">OSG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">VAIBHAV GUPTA</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">Community Support Center</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-06-08</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Derek Weitzel <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/33909", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33909?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/33909?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20U%20of%20U%20Compute%20Element%20Glideins%20going%20Held%20due%20to%20authentication%20failure%20ISSUE%3D33909%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='33909#1496769587'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-06T17:19:47+00:00">Jun 6, 2017 05:19 PM UTC</time><a class="anchor" name="1496769587">&nbsp;</a></div><pre>site looks good, closing ticket now.
VG

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=VAIBHAV GUPTA 4273</pre></div><div class='update_description'><i onclick="document.location='33909#1496769171'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-06T17:12:51+00:00">Jun 6, 2017 05:12 PM UTC</time> by <b>echism</b><a class="anchor" name="1496769171">&nbsp;</a></div><pre>Should this be closed?

Thanks</pre></div><div class='update_description'><i onclick="document.location='33909#1496417530'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-02T15:32:10+00:00">Jun 2, 2017 03:32 PM UTC</time> by <b>Derek Weitzel</b><a class="anchor" name="1496417530">&nbsp;</a></div><pre>Hi,

The certificate looks good.  I am able to authenticate with the server now.  Additionally, it appears that jobs are running on ember (but not on kingspeak) and are running OSG jobs successfully.

Everything looks good on this end.

-Derek

<font color='#7F7E6F'>&#62; On Jun 1, 2017, at 3&#58;33 PM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33909#1496349210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-01T20:33:30+00:00">Jun 1, 2017 08:33 PM UTC</time><a class="anchor" name="1496349210">&nbsp;</a></div><pre>The new host cert. is installed (see below).  I haven&#39;t requested a &#34;service cert&#34; yet.  The Twiki says that the http cert would be installed at /etc/grid-security/http, but I don&#39;t have an http directory there.  So I assume that I don&#39;t have it installed and don&#39;t need to request a service cert.?

[root@osggate grid-security]# openssl x509 -in /etc/grid-security/hostcert.pem -text
Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58; 4294999886 (0x100007f4e)
Signature Algorithm&#58; sha256WithRSAEncryption
Issuer&#58; DC=org, DC=cilogon, C=US, O=CILogon, CN=CILogon OSG CA 1
Validity
Not Before&#58; Jun  1 20&#58;01&#58;45 2017 GMT
Not After &#58; Jul  1 20&#58;06&#58;45 2018 GMT
Subject&#58; DC=org, DC=opensciencegrid, O=Open Science Grid, OU=Services, CN=osggate.chpc.utah.edu
Subject Public Key Info&#58;
Public Key Algorithm&#58; rsaEncryption
Public-Key&#58; (2048 bit)
Modulus&#58;
00&#58;db&#58;55&#58;f3&#58;b4&#58;d3&#58;5e&#58;e1&#58;c1&#58;bb&#58;fd&#58;3a&#58;7d&#58;4c&#58;53&#58;
5b&#58;c2&#58;21&#58;99&#58;75&#58;7d&#58;d4&#58;f1&#58;11&#58;94&#58;ea&#58;61&#58;bd&#58;30&#58;78&#58;
71&#58;51&#58;6c&#58;a3&#58;05&#58;d8&#58;fa&#58;fc&#58;bf&#58;9e&#58;fe&#58;65&#58;de&#58;9b&#58;5e&#58;
69&#58;d7&#58;c7&#58;58&#58;cf&#58;22&#58;9d&#58;13&#58;c5&#58;d0&#58;35&#58;14&#58;37&#58;dc&#58;4f&#58;
f9&#58;e5&#58;06&#58;3f&#58;6b&#58;72&#58;3a&#58;6e&#58;c5&#58;7d&#58;79&#58;35&#58;7c&#58;c6&#58;4f&#58;
1a&#58;01&#58;bb&#58;e9&#58;d1&#58;39&#58;a8&#58;c7&#58;a8&#58;9e&#58;68&#58;c5&#58;93&#58;b1&#58;05&#58;
f4&#58;4a&#58;37&#58;58&#58;22&#58;af&#58;0e&#58;bb&#58;e8&#58;2d&#58;03&#58;d4&#58;3b&#58;d2&#58;40&#58;
67&#58;b8&#58;29&#58;63&#58;63&#58;9f&#58;ac&#58;a0&#58;f7&#58;d7&#58;ca&#58;52&#58;4c&#58;e1&#58;35&#58;
93&#58;c9&#58;71&#58;57&#58;1f&#58;70&#58;32&#58;a1&#58;f4&#58;e9&#58;56&#58;9a&#58;59&#58;a5&#58;44&#58;
ce&#58;33&#58;60&#58;aa&#58;93&#58;38&#58;d6&#58;44&#58;d1&#58;24&#58;f5&#58;68&#58;86&#58;3f&#58;c8&#58;
a0&#58;07&#58;66&#58;ae&#58;a1&#58;f7&#58;1f&#58;ea&#58;9a&#58;d1&#58;3c&#58;8d&#58;35&#58;ee&#58;0a&#58;
40&#58;08&#58;c7&#58;5a&#58;e3&#58;b6&#58;b3&#58;a9&#58;38&#58;09&#58;38&#58;88&#58;a1&#58;9f&#58;79&#58;
92&#58;52&#58;6c&#58;68&#58;da&#58;4e&#58;e1&#58;27&#58;83&#58;71&#58;5c&#58;4e&#58;70&#58;43&#58;49&#58;
c0&#58;83&#58;66&#58;3b&#58;11&#58;73&#58;06&#58;42&#58;29&#58;39&#58;bf&#58;8d&#58;e2&#58;12&#58;49&#58;
bf&#58;ec&#58;3a&#58;f2&#58;1f&#58;6b&#58;55&#58;69&#58;2c&#58;b0&#58;56&#58;6c&#58;8e&#58;f9&#58;c4&#58;
67&#58;97&#58;5d&#58;f0&#58;dd&#58;7e&#58;42&#58;b5&#58;c8&#58;3f&#58;77&#58;03&#58;b4&#58;1d&#58;bb&#58;
0c&#58;73&#58;e2&#58;fe&#58;e0&#58;b6&#58;0f&#58;4a&#58;63&#58;fb&#58;64&#58;e1&#58;62&#58;b3&#58;4d&#58;
42&#58;9f
<div id='show_1152600278' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1152600278'>Exponent&#58; 65537 (0x10001)
X509v3 extensions&#58;
X509v3 Basic Constraints&#58; critical
CA&#58;FALSE
X509v3 Key Usage&#58; critical
Digital Signature, Key Encipherment, Data Encipherment
X509v3 Certificate Policies&#58;
Policy&#58; 1.3.6.1.4.1.34998.1.6.2
Policy&#58; 1.2.840.113612.5.2.2.1

X509v3 CRL Distribution Points&#58;

Full Name&#58;
URI&#58;<a href='http&#58;//crl.cilogon.org/cilogon-osg.crl' target='_blank' rel='nofollow'>http&#58;//crl.cilogon.org/cilogon-osg.crl</a>

X509v3 Extended Key Usage&#58;
TLS Web Client Authentication, TLS Web Server Authentication
X509v3 Subject Alternative Name&#58;
DNS&#58;osggate.chpc.utah.edu, email&#58;irvin.allen@....

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Irvin Allen 3792
</div><script type='text/javascript'>
        $('#show_1152600278').click(function() {
            $('#detail_1152600278').slideDown("normal");
            $('#show_1152600278').hide();
            $('#hide_1152600278').show();
        });
        $('#hide_1152600278').click(function() {
            $('#detail_1152600278').slideUp();
            $('#hide_1152600278').hide();
            $('#show_1152600278').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33909#1496340671'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-01T18:11:11+00:00">Jun 1, 2017 06:11 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1496340671">&nbsp;</a></div><pre>Elizabeth, Guy isn&#39;t at UofU anymore and Irvin should be made a grid admin.

Irvin, you should be able to go to this page
<a href='https&#58;//oim.opensciencegrid.org/oim/gridadmin' target='_blank' rel='nofollow'>https&#58;//oim.opensciencegrid.org/oim/gridadmin</a>, login using your user
cert, and request to be a GridAdmin. Let us know if you have any
questions about the process.

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='33909#1496340033'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-06-01T18:00:33+00:00">Jun 1, 2017 06:00 PM UTC</time> by <b>echism</b><a class="anchor" name="1496340033">&nbsp;</a></div><pre>The only gridadmin we have listed is Guy Adams. That&#39;s who you may want to bug to approve this.

Thank you</pre></div><div class='update_description'><i onclick="document.location='33909#1496170834'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-30T19:00:34+00:00">May 30, 2017 07:00 PM UTC</time> by <b>irvin.allen@....</b><a class="anchor" name="1496170834">&nbsp;</a></div><pre>I requested the new cert and got a reply that they had received my request, but I have still not heard back with the new cert.

On May 30, 2017, at 12&#58;51 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='33909#1496170305'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-30T18:51:45+00:00">May 30, 2017 06:51 PM UTC</time> by <b>echism</b><a class="anchor" name="1496170305">&nbsp;</a></div><pre>Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='33909#1495643983'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T16:39:43+00:00">May 24, 2017 04:39 PM UTC</time> by <b>Derek Weitzel</b><a class="anchor" name="1495643983">&nbsp;</a></div><pre>I think those commands come from the package osg-pki-tools in the OSG repo.  Just a quick yum install osg-pki-tools should do it.

Yes, a service certificate, so it&#39;s close the the same as the previous host cert.  And yes, you cannot read the host key by using openssl x509, it&#39;s the private key, and doesn&#39;t really have any useful information.</pre></div><div class='update_description'><i onclick="document.location='33909#1495643710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T16:35:10+00:00">May 24, 2017 04:35 PM UTC</time> by <b>irvin.allen@....</b><a class="anchor" name="1495643710">&nbsp;</a></div><pre>I don’t have the “osg-cert-request” and “osg-cert-retrieve” commands.

Also, do I need a “service certificate”?  I can’t use&#58;

openssl x509 -in /etc/grid-security/hostkey.pem -text
unable to load certificate
140512299034528&#58;error&#58;0906D06C&#58;PEM routines&#58;PEM_read_bio&#58;no start line&#58;pem_lib.c&#58;703&#58;Expecting&#58; TRUSTED CERTIFICATE

[root@osggate grid-security]# openssl x509 -in /etc/grid-security/hostcert.pem -text
Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58; 4294973556 (0x100001874)
Signature Algorithm&#58; sha256WithRSAEncryption
Issuer&#58; DC=org, DC=cilogon, C=US, O=CILogon, CN=CILogon OSG CA 1
Validity
Not Before&#58; Mar 29 18&#58;18&#58;33 2016 GMT
Not After &#58; Apr 28 18&#58;23&#58;33 2017 GMT
Subject&#58; DC=org, DC=opensciencegrid, O=Open Science Grid, OU=Services, CN=osggate.chpc.utah.edu&#60;<a href='http&#58;//osggate.chpc.utah.edu&#62' target='_blank' rel='nofollow'>http&#58;//osggate.chpc.utah.edu&#62</a>;
Subject Public Key Info&#58;
Public Key Algorithm&#58; rsaEncryption
Public-Key&#58; (2048 bit)
Modulus&#58;
00&#58;ca&#58;8d&#58;21&#58;63&#58;6e&#58;5f&#58;76&#58;4d&#58;bf&#58;97&#58;8a&#58;d9&#58;b6&#58;50&#58;
1e&#58;d6&#58;5c&#58;38&#58;e1&#58;d7&#58;92&#58;c3&#58;f1&#58;7e&#58;1b&#58;0d&#58;46&#58;5b&#58;72&#58;
fb&#58;99&#58;8c&#58;e0&#58;34&#58;06&#58;90&#58;c9&#58;40&#58;9a&#58;f3&#58;f8&#58;71&#58;93&#58;8f&#58;
ff&#58;f7&#58;24&#58;5b&#58;d4&#58;d4&#58;d7&#58;6c&#58;86&#58;0e&#58;1d&#58;69&#58;fb&#58;0b&#58;f1&#58;
e5&#58;4b&#58;c5&#58;6b&#58;93&#58;ac&#58;45&#58;19&#58;a1&#58;4b&#58;33&#58;f9&#58;6f&#58;aa&#58;75&#58;
62&#58;06&#58;02&#58;9c&#58;bb&#58;2f&#58;72&#58;a0&#58;42&#58;24&#58;44&#58;e8&#58;e1&#58;86&#58;52&#58;
ff&#58;50&#58;6b&#58;01&#58;7b&#58;35&#58;d8&#58;b4&#58;f6&#58;ee&#58;95&#58;24&#58;d9&#58;f1&#58;7e&#58;
7f&#58;63&#58;ca&#58;44&#58;26&#58;5e&#58;8a&#58;9c&#58;06&#58;eb&#58;c3&#58;2d&#58;6f&#58;ff&#58;88&#58;
fa&#58;dd&#58;f5&#58;73&#58;33&#58;6a&#58;35&#58;02&#58;8f&#58;92&#58;8d&#58;81&#58;8e&#58;cc&#58;a8&#58;
78&#58;6d&#58;cf&#58;f6&#58;d0&#58;e3&#58;89&#58;99&#58;01&#58;ab&#58;1b&#58;02&#58;c9&#58;1e&#58;23&#58;
56&#58;af&#58;9d&#58;ef&#58;88&#58;92&#58;90&#58;f4&#58;d3&#58;13&#58;cf&#58;07&#58;6f&#58;bb&#58;a8&#58;
a1&#58;53&#58;1e&#58;52&#58;d4&#58;1d&#58;ce&#58;3a&#58;8e&#58;7f&#58;d8&#58;53&#58;e8&#58;b2&#58;7b&#58;
<div id='show_935707973' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_935707973'>28&#58;8f&#58;7a&#58;58&#58;84&#58;17&#58;d2&#58;e6&#58;e8&#58;8f&#58;a9&#58;16&#58;2f&#58;fe&#58;de&#58;
21&#58;e3&#58;39&#58;3b&#58;5a&#58;75&#58;db&#58;06&#58;6e&#58;84&#58;ed&#58;67&#58;46&#58;a6&#58;cd&#58;
64&#58;5e&#58;18&#58;5e&#58;22&#58;7a&#58;56&#58;1e&#58;ec&#58;13&#58;e6&#58;87&#58;c4&#58;d1&#58;1a&#58;
52&#58;65&#58;b8&#58;94&#58;55&#58;77&#58;1b&#58;01&#58;db&#58;22&#58;29&#58;f6&#58;31&#58;a0&#58;5d&#58;
40&#58;82&#58;82&#58;8a&#58;9f&#58;e1&#58;dc&#58;f0&#58;0e&#58;d5&#58;2f&#58;f1&#58;ef&#58;bb&#58;9f&#58;
56&#58;e5
Exponent&#58; 65537 (0x10001)
X509v3 extensions&#58;
X509v3 Basic Constraints&#58; critical
CA&#58;FALSE
X509v3 Key Usage&#58; critical
Digital Signature, Key Encipherment, Data Encipherment
X509v3 Certificate Policies&#58;
Policy&#58; 1.3.6.1.4.1.34998.1.6.1
Policy&#58; 1.2.840.113612.5.2.2.1

X509v3 CRL Distribution Points&#58;

Full Name&#58;
URI&#58;<a href='http&#58;//crl.cilogon.org/cilogon-osg.crl' target='_blank' rel='nofollow'>http&#58;//crl.cilogon.org/cilogon-osg.crl</a>

X509v3 Extended Key Usage&#58;
TLS Web Client Authentication, TLS Web Server Authentication
X509v3 Subject Alternative Name&#58;
DNS&#58;osggate.chpc.utah.edu&#60;<a href='http&#58;//osggate.chpc.utah.edu&#62' target='_blank' rel='nofollow'>http&#58;//osggate.chpc.utah.edu&#62</a>;, email&#58;guy.adams@....&#60;mailto&#58;guy.adams@....&#62;

On May 24, 2017, at 9&#58;29 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_935707973').click(function() {
            $('#detail_935707973').slideDown("normal");
            $('#show_935707973').hide();
            $('#hide_935707973').show();
        });
        $('#hide_935707973').click(function() {
            $('#detail_935707973').slideUp();
            $('#hide_935707973').hide();
            $('#show_935707973').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33909#1495639753'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T15:29:13+00:00">May 24, 2017 03:29 PM UTC</time> by <b>Derek Weitzel</b><a class="anchor" name="1495639753">&nbsp;</a></div><pre>Yeah, I think your VO is just OSG.

-Derek

<font color='#7F7E6F'>&#62; On May 24, 2017, at 10&#58;26 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33909#1495639573'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T15:26:13+00:00">May 24, 2017 03:26 PM UTC</time> by <b>irvin.allen@....</b><a class="anchor" name="1495639573">&nbsp;</a></div><pre>Thanks for the command.  When I cat the file, I couldn’t see the info.

Looks like it expired.

Not After &#58; Apr 28 18&#58;23&#58;33 2017 GMT

I will follow the twiki guide to request a new cert.  Is my VO just OSG?

On May 24, 2017, at 9&#58;12 AM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='33909#1495638721'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T15:12:01+00:00">May 24, 2017 03:12 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1495638721">&nbsp;</a></div><pre>Irvin,

hostcert.pem should have 0644 permissions. You can also inspect it (to make sure it&#39;s not expired among other things) with the following command&#58;

openssl x509 -in /etc/grid-security/hostcert.pem -noout -text | less

Thanks,
Brian</pre></div><div class='update_description'><i onclick="document.location='33909#1495638675'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T15:11:15+00:00">May 24, 2017 03:11 PM UTC</time> by <b>Derek Weitzel</b><a class="anchor" name="1495638675">&nbsp;</a></div><pre>Judging by the last modification date of the hostcert.pem and hostkey.pem, It’s likely you will need new host certificates.

You can view the content of the hostcert.pem with the command&#58;

$ openssl x509 -in /etc/grid-security/hostcert.pem -text

You should find an expiration date in the text there.  Something like “not valid after…&#34;

-Derek

<font color='#7F7E6F'>&#62; On May 24, 2017, at 10&#58;02 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33909#1495638129'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-24T15:02:09+00:00">May 24, 2017 03:02 PM UTC</time> by <b>irvin.allen@....</b><a class="anchor" name="1495638129">&nbsp;</a></div><pre>I’m not sure how to check the certs.

[root@osggate ~]# cd /etc/grid-security/
[root@osggate grid-security]# ll
total 7076
-rw-r--r--.  1 root root     234 Apr 24 09&#58;21 ban-mapfile
-rw-r--r--.  1 root root     200 Apr 24 09&#58;21 ban-voms-mapfile
drwxr-xr-x.  2 root root   49152 Mar 22 08&#58;02 certificates
-rw-r--r--.  1 root root 3564767 May 24 06&#58;51 grid-mapfile
-rw-r--r--.  1 root root 3564767 May 24 04&#58;22 grid-mapfile.1
-rw-r--r--.  1 root root      61 Apr  3 15&#58;33 gsi-authz.conf
-rw-r--r--.  1 root root    2460 Sep 24  2016 gsi.conf
-rw-------.  1 root root    1540 Mar 29  2016 host_certificate.H7453.osggate.chpc.utah.edu.x509.pem
-rw-------.  1 root root    1540 Mar 29  2016 hostcert.pem
-rw-------.  1 root root    1704 Mar 29  2016 hostkey.pem
drwxr-xr-x. 42 root root    4096 May 24 08&#58;16 vomsdir

FYI&#58;  I applied many updates this morning and rebooted the box.

On May 22, 2017, at 3&#58;09 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='33909#1495487357'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-22T21:09:17+00:00">May 22, 2017 09:09 PM UTC</time> by <b>Derek Weitzel</b><a class="anchor" name="1495487357">&nbsp;</a></div><pre>Actually, this isn&#39;t a hosted CE.  Ivrin is the correct contact for this.

Irvin, is the host cert on the CE still good?  It&#39;s in /etc/grid-security.</pre></div><div class='update_description'><i onclick="document.location='33909#1495486752'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-22T20:59:12+00:00">May 22, 2017 08:59 PM UTC</time><a class="anchor" name="1495486752">&nbsp;</a></div><pre>Adding Brain and Derek , since they manage the hosted CE&#39;s

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=VAIBHAV GUPTA 4273</pre></div><div class='update_description'><i onclick="document.location='33909#1495486715'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-22T20:58:35+00:00">May 22, 2017 08:58 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1495486715">&nbsp;</a></div><pre>We are observing that all the glidiens are going held  on entry OSG_US_Utah_CHPC_osggate, primarily for user  feosgflock.
The logs show (below) authentication failed at the CE using GSI.

4023069.1   feosgflock      5/22 20&#58;09 Error connecting to schedd osggate.chpc.utah.edu&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5002&#58;Failed to authenticate because the remote (server) side was not able to acquire its credentials.|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS

Here are the proxy  details----

0] 20&#58;49&#58;00 UTC [gfactory@glidein&#58;osg-gfactory]$ sudo voms-proxy-info -all -file /var/lib/gwms-factory/client-proxies/user_feosgflock/glidein_gfactory_instance/credential_osg-flock-grid-iu-edu_OSG_gWMSFrontend.main_357570
[sudo] password for gfactory&#58;
subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu/CN=62858872
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
identity  &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_feosgflock/glidein_gfactory_instance/credential_osg-flock-grid-iu-edu_OSG_gWMSFrontend.main_357570
timeleft  &#58; 167&#58;30&#58;48
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO osg extension information ===
VO        &#58; osg
subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/osg-flock.grid.iu.edu
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=voms1.opensciencegrid.org
attribute &#58; /osg/Role=NULL/Capability=NULL
attribute &#58; /osg/ams/Role=NULL/Capability=NULL
attribute &#58; /osg/ligo/Role=NULL/Capability=NULL
timeleft  &#58; 23&#58;30&#58;48
uri       &#58; voms1.opensciencegrid.org&#58;15027

Kindly please look into it.

Thanks & Regards,

VG
OSG Factory OPS
UCSD-Physics

<div id='show_416121326' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_416121326'>by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=VAIBHAV GUPTA 4273

</div><script type='text/javascript'>
        $('#show_416121326').click(function() {
            $('#detail_416121326').slideDown("normal");
            $('#show_416121326').hide();
            $('#hide_416121326').show();
        });
        $('#hide_416121326').click(function() {
            $('#detail_416121326').slideUp();
            $('#hide_416121326').hide();
            $('#show_416121326').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F33909">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 33909});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
