<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[22728] Access to the Twiki OSG3 documentation problem</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=22728" method="post">
<div class="page-header">
    <h3><span class="muted">22728</span> / Access to the Twiki OSG3 documentation problem</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Juan Eduardo Ramirez Vargas</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Juan Eduardo Ramirez Vargas</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-10-16</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/22728", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22728?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22728?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Access%20to%20the%20Twiki%20OSG3%20documentation%20problem%20ISSUE%3D22728%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='22728#1413470689'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-16T14:44:49+00:00">Oct 16, 2014 02:44 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1413470689">&nbsp;</a></div><pre>Thanks, Eduardo

HTTPS access to that resource seems to be restored today.

Closing as resolved.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22728#1413469814'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-16T14:30:14+00:00">Oct 16, 2014 02:30 PM UTC</time> by <b>eduardo@....</b><a class="anchor" name="1413469814">&nbsp;</a></div><pre>Thanks Vince,
With this is enough, I know now that http should work.

If you want close this ticket then.
Eduardo

On 10/15/2014 06&#58;11 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22728#1413411061'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T22:11:01+00:00">Oct 15, 2014 10:11 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1413411061">&nbsp;</a></div><pre>It appears that HTTPS access is failing.  I am able to access the page using standard HTTP.

<a href='http&#58;//koji-hub.batlab.org/koji/search?match=glob&type=build&terms=bestman2-2.3.0-20.osg31.el5' target='_blank' rel='nofollow'>http&#58;//koji-hub.batlab.org/koji/search?match=glob&type=build&terms=bestman2-2.3.0-20.osg31.el5</a>

We will look into the HTTPS issue.  In the meanwhile, if you use the above link you can access the page/site without HTTPS.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22728#1413410049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T21:54:09+00:00">Oct 15, 2014 09:54 PM UTC</time> by <b>eduardo@....</b><a class="anchor" name="1413410049">&nbsp;</a></div><pre>Hi Vince,
Yes am able to see
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/ReleaseNotes' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/ReleaseNotes</a>
Thanks.

but for the link on the packages like
<a href='https&#58;//koji-hub.batlab.org/koji/search?match=glob&type=build&terms=bestman2-2.3.0-20.osg31.el5' target='_blank' rel='nofollow'>https&#58;//koji-hub.batlab.org/koji/search?match=glob&type=build&terms=bestman2-2.3.0-20.osg31.el5</a>

I get &#58;
Secure Connection Failed
An error occurred during a connection to koji-hub.batlab.org.
Cannot communicate securely with peer&#58; no common encryption algorithm(s).
(Error code&#58; ssl_error_no_cypher_overlap)

Should I open a different ticket for this?
Why is the point to have the link and no access?

Eduardo

On 10/15/2014 05&#58;32 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22728#1413409690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T21:48:10+00:00">Oct 15, 2014 09:48 PM UTC</time> by <b>eduardo@....</b><a class="anchor" name="1413409690">&nbsp;</a></div><pre>My cert was issue on march, but also I had a sha-1 version that
expired a month ago.
Now CERN stop issuing sha-1 certs.

On 10/15/2014 04&#58;27 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22728#1413408763'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T21:32:43+00:00">Oct 15, 2014 09:32 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1413408763">&nbsp;</a></div><pre>Greetings Eduardo,

We believe we have resolves this issue.  Could you please try to access the TWIki again and report your results?

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22728#1413404864'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T20:27:44+00:00">Oct 15, 2014 08:27 PM UTC</time> by <b>echism</b><a class="anchor" name="1413404864">&nbsp;</a></div><pre>Eduardo,

Was your cert recently renewed?</pre></div><div class='update_description'><i onclick="document.location='22728#1413382384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T14:13:04+00:00">Oct 15, 2014 02:13 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1413382384">&nbsp;</a></div><pre>Thank you for the update.  We are currently looking into this (and the related) issue and will get back with you shortly.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22728#1413341649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-15T02:54:09+00:00">Oct 15, 2014 02:54 AM UTC</time> by <b>eduardo@....</b><a class="anchor" name="1413341649">&nbsp;</a></div><pre>I just became aware that ticket <a href='https&#58;//ticket.grid.iu.edu/22715' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/22715</a>
hits the same problem. Which suggest a problem with CERN certs only either
because sha-2 or because is not recognizing its cacert &#34;CERN Grid
Certification Authority&#34;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22728#1413321850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T21:24:10+00:00">Oct 14, 2014 09:24 PM UTC</time> by <b>eduardo@....</b><a class="anchor" name="1413321850">&nbsp;</a></div><pre>Hi again,
I just hit cancel when asking for my cert, and the page loaded !?

But trying the same to the packages links like for example this&#58;

<a href='https&#58;//koji-hub.batlab.org/koji/search?match=glob&type=build&terms=bestman2-2.3.0-20.osg31.el5' target='_blank' rel='nofollow'>https&#58;//koji-hub.batlab.org/koji/search?match=glob&type=build&terms=bestman2-2.3.0-20.osg31.el5</a>

did not work.
What should I do?

Eduardo

On 10/14/2014 01&#58;43 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22728#1413321515'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T21:18:35+00:00">Oct 14, 2014 09:18 PM UTC</time> by <b>eduardo@....</b><a class="anchor" name="1413321515">&nbsp;</a></div><pre>Hi,

I don&#39;t see anything just the Secure Connection Failed. (No Hello,
TWikiGuest)

I closed and opened my browser to make sure is taking my valid cert only.
My old sha-1 cert from cern expired a month ago. And CERN is not issuing
sha-1 certs anymore.

My browser is firefox (firefox-24.8.0-2.el5_10.x86_64).
The funny thing is that I just tested with Konqueror (to which I never
uploaded my cert nor use the browser it self) and the page load with no
problem!?

I do not understand why is asking for my cert.  In first place

Eduardo

On 10/14/2014 01&#58;43 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='22728#1413308606'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T17:43:26+00:00">Oct 14, 2014 05:43 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1413308606">&nbsp;</a></div><pre>Greetings Eduardo,

Can you check your browser to be certain you are not authenticating with an old or expired certificate?

When you access <a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/ReleaseNotes' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/ReleaseNotes</a> do you see your name listed in the upper left corner or do you see &#34;Hello, TWikiGuest!&#34;?

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22728#1413301561'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-10-14T15:46:01+00:00">Oct 14, 2014 03:46 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1413301561">&nbsp;</a></div><pre>Hi,
I was trying to access this page
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/ReleaseNotes' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/ReleaseNotes</a>

But I am getting a message&#58;
Secure Connection Failed

An error occurred during a connection to twiki.grid.iu.edu.
SSL peer rejected your certificate as expired.
(Error code&#58; ssl_error_expired_cert_alert)

My cert expires next year (3/17/2015)
My DN is
DC=ch, DC=cern, OU=Organic Units, OU=Users, CN=jramirez, CN=662428, CN=Juan Eduardo Ramirez Vargas

Serial number(59&#58;e0&#58;40&#58;0f&#58;00&#58;00&#58;00&#58;00&#58;05&#58;ef)

So I wonder if there is a problem with certs issue by Issuer&#58; &#34;DC=ch, DC=cern, CN=CERN Grid Certification Authority&#34; ? or else? sha-2 perhaps?

Before I was able to see that page (even without cert) but now the problem is the same as when trying to access the osg koji pages.

Could be both pages fixed?

Thanks for any help
Eduardo</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F22728">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 22728});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
