<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[6420] dCache - Intermittent failures in storage probes</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6420" method="post">
<div class="page-header">
    <h3><span class="muted">6420</span> / dCache - Intermittent failures in storage probes</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Ted Hesselroth</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">check for response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-04-08</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/6420", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/6420?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/6420?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20dCache%20-%20Intermittent%20failures%20in%20storage%20probes%20ISSUE%3D6420%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6420#1238592905'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-04-01T13:35:05+00:00">Apr 1, 2009 01:35 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1238592905">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='6420#1238008045'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-03-25T19:07:25+00:00">Mar 25, 2009 07:07 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1238008045">&nbsp;</a></div><pre>On Mar 18, 2009, at 7&#58;24 PM, Charles Waldman wrote&#58;

Neha Sharma writes&#58;

whats the current state of things..are you seeking help from someone
currently..

I&#39;m grateful for any useful suggestions, but am not actively seeking
help at the moment.

so then can i close the ticket?

thanks
-neha

looks like ted asked in his last email as to which version
of srmclient you were using..did you get chance to follow up with him
on that?

It&#39;s been mentioned before that this is&#58;

Storage Resource Manager (SRM) Client version 2.0.9
Copyright (c) 2002-2008 Fermi National Accelerator Laboratory

We&#39;ve taken a number of actions, including running this
with Java 1.6 and moving RSV probes to a less loaded server.

We got some very good suggestions from Brian Bockelman.
I have not yet folloed up on all of his suggestions, in
particular this one&#58;

I&#39;d install dcache-srmclient from dcache.org
and then link /opt/osg/srm-client-fermi -&#62; /opt/d-cache/srm

Right now we&#39;re in the midst of troubleshooting a dropped-packet
<div id='show_822221941' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_822221941'>problem on our network, until that&#39;s fixed I don&#39;t think we can
meaningfully troubleshoot anything else.  I&#39;ll keep you updated.

Cheers,

- Charles
</div><script type='text/javascript'>
        $('#show_822221941').click(function() {
            $('#detail_822221941').slideDown("normal");
            $('#show_822221941').hide();
            $('#hide_822221941').show();
        });
        $('#hide_822221941').click(function() {
            $('#detail_822221941').slideUp();
            $('#hide_822221941').hide();
            $('#show_822221941').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6420#1238007732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-03-25T19:02:12+00:00">Mar 25, 2009 07:02 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1238007732">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='http&#58;//oim.grid.iu.edu/gocticket' target='_blank' rel='nofollow'>http&#58;//oim.grid.iu.edu/gocticket</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='6420#1237402707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-03-18T18:58:27+00:00">Mar 18, 2009 06:58 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1237402707">&nbsp;</a></div><pre>We were talking about it at the OSG Storage meeting today and were wondering if you are using the latest srm
client for your RSV probes. It would be of interest also for the dccp clients that are hanging.

Ted

Ted Hesselroth wrote&#58;
The stack trace in the original message indicates an EOF on the read of the very first token of the handshake. Is
that still what the error message is?

If so, it seems to me that there would not have been enough information exchanged for authentication setup to
come into play. You can check the /opt/d-cache/libexec/apache-tomcat-5.5.20/logs  for messages other than in
catalina.out, which may give you authentication denial records.

But it seems more like a networking problem. Odd that it would happen fully 20 % of the time. How loaded is the
machine running the probe? Would it be possible to run the storage probe only, within the rsv framework, to
test whether resource contention is involved?

It&#39;s hard to say precisely without it being repeatable. I am trying various firewall settings on my client/server
setup, but I haven&#39;t been able to duplicate this error yet.

Ted

Charles Waldman wrote&#58;
Tanya&#58;

As suggested we have upgraded dCache to the latest OSG version and these problems are persisting.  There
are two
(possibly related) problems - one from the &#39;srmping&#39; probe
and one from the &#39;srmcp&#39; probe.

Has a support ticket been opened for this issue? Tanya Levshina writes&#58;
<font color='#7F7E6F'>&#62; Hi Sarah,</font>
<font color='#7F7E6F'>&#62;  &#62; We will look at your &#34;no write pool&#34; problem carefully, but I remeber that we have similar problem before for</font>
dcache 1.8.0.12 (There was a bug in srm - some records were not deleted from srm database when file was
deleted or transferred failed, this caused any attempt to transfrerred file with the same name to fail).
<div id='show_1825749974' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1825749974'><font color='#7F7E6F'>&#62;  &#62; So, I am wondering when are you going to upgrade your dcache installation?</font>
<font color='#7F7E6F'>&#62;  &#62; Thanks,</font>
<font color='#7F7E6F'>&#62;  &#62; Tanya</font>
<font color='#7F7E6F'>&#62;   &#62;  &#62; ----- Original Message -----</font>
<font color='#7F7E6F'>&#62; From&#58; Sarah Williams &#60;saewill@....&#62;</font>
<font color='#7F7E6F'>&#62; Date&#58; Monday, February 9, 2009 12&#58;25 pm</font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; Intermittent failures in storage probes</font>
<font color='#7F7E6F'>&#62; To&#58; asim@....</font>
<font color='#7F7E6F'>&#62; Cc&#58; OSG STORAGE &#60;osg-storage@....&#62;, MWT2 &#60;mwt2-core-</font>
l@....&#62;
<font color='#7F7E6F'>&#62;  &#62;  &#62; &#62; -----BEGIN PGP SIGNED MESSAGE-----</font>
<font color='#7F7E6F'>&#62; &#62; Hash&#58; SHA1</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; You&#39;re right, in the srm log I see&#58;</font>
<font color='#7F7E6F'>&#62; &#62; Exception thrown by</font>
<font color='#7F7E6F'>&#62; &#62; diskCacheV111.services.authorization.VOAuthorizationPlugin&#58; Permission</font>
<font color='#7F7E6F'>&#62; &#62; Denied&#58; No mapping retrieved service for DN</font>
<font color='#7F7E6F'>&#62; &#62; /DC=org/DC=doegrids/OU=People/CN=Alexander Sim 546622 and role null</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; I&#39;ve added you to the local users, so your srmping command should work  &#62; &#62; now.</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; &#62; anyways, so manual run goes through, but rsv probe fails...?</font>
<font color='#7F7E6F'>&#62; &#62; The rsv probe succeeds about 80% of the time, but fails the other times.</font>
<font color='#7F7E6F'>&#62; &#62; I haven&#39;t been able to get the error manually.</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; &#62; previous output was related to the gsi handshaking. can you see if</font>
<font color='#7F7E6F'>&#62; &#62; &#62; /opt/osg/globus/TRUSTED_CA  is up to date?</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; I checked /opt/osg/globus/TRUSTED_CA, and it contains the certs from the</font>
<font color='#7F7E6F'>&#62; &#62; osg-ca-cert-1.4-0 rpm, which was release Feb 4.</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; Here&#39;s the command using /opt/osg/globus/TRUSTED_CA&#58;</font>
<font color='#7F7E6F'>&#62; &#62; sarah@uct2-grid6~$ /opt/osg/srm-client-fermi//bin/srmping -retry_num=0</font>
<font color='#7F7E6F'>&#62; &#62; - -debug -2 -x509_user_proxy=/opt/osg/proxies/rsv_proxy.pem</font>
<font color='#7F7E6F'>&#62; &#62; <a href='srm&#58;//uct2-dc1.uchicago.edu&#58;8443' target='_blank' rel='nofollow'>srm&#58;//uct2-dc1.uchicago.edu&#58;8443</a> -webservice_path=srm/managerv2</font>
<font color='#7F7E6F'>&#62; &#62; Storage Resource Manager (SRM) Client version 2.0.9</font>
<font color='#7F7E6F'>&#62; &#62; Copyright (c) 2002-2008 Fermi National Accelerator Laboratory</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; SRM Configuration&#58;</font>
<font color='#7F7E6F'>&#62; &#62;     debug=true</font>
<font color='#7F7E6F'>&#62; &#62;     gsissl=true</font>
<font color='#7F7E6F'>&#62; &#62;     help=false</font>
<font color='#7F7E6F'>&#62; &#62;     pushmode=false</font>
<font color='#7F7E6F'>&#62; &#62;     userproxy=true</font>
<font color='#7F7E6F'>&#62; &#62;     buffer_size=131072</font>
<font color='#7F7E6F'>&#62; &#62;     tcp_buffer_size=0</font>
<font color='#7F7E6F'>&#62; &#62;     streams_num=1</font>
<font color='#7F7E6F'>&#62; &#62;     config_file=/opt/osg/srm-client-fermi/etc/config-2.xml</font>
<font color='#7F7E6F'>&#62; &#62;     glue_mapfile=/opt/osg/srm-client-fermi/conf/SRMServerV1.map</font>
<font color='#7F7E6F'>&#62; &#62;     webservice_path=srm/managerv2</font>
<font color='#7F7E6F'>&#62; &#62;     webservice_protocol=https</font>
<font color='#7F7E6F'>&#62; &#62;     gsiftpclinet=globus-url-copy</font>
<font color='#7F7E6F'>&#62; &#62;     protocols_list=http,gsiftp</font>
<font color='#7F7E6F'>&#62; &#62;     save_config_file=null</font>
<font color='#7F7E6F'>&#62; &#62;     srmcphome=/opt/osg/srm-client-fermi</font>
<font color='#7F7E6F'>&#62; &#62;     urlcopy=sbin/urlcopy.sh</font>
<font color='#7F7E6F'>&#62; &#62;     x509_user_cert=</font>
<font color='#7F7E6F'>&#62; &#62;     x509_user_key=</font>
<font color='#7F7E6F'>&#62; &#62;     x509_user_proxy=/opt/osg/proxies/rsv_proxy.pem</font>
<font color='#7F7E6F'>&#62; &#62;     x509_user_trusted_certificates=/opt/osg/globus/TRUSTED_CA</font>
<font color='#7F7E6F'>&#62; &#62;     globus_tcp_port_range=null</font>
<font color='#7F7E6F'>&#62; &#62;     gss_expected_name=null</font>
<font color='#7F7E6F'>&#62; &#62;     storagetype=permanent</font>
<font color='#7F7E6F'>&#62; &#62;     retry_num=0</font>
<font color='#7F7E6F'>&#62; &#62;     retry_timeout=10000</font>
<font color='#7F7E6F'>&#62; &#62;     wsdl_url=null</font>
<font color='#7F7E6F'>&#62; &#62;     use_urlcopy_script=false</font>
<font color='#7F7E6F'>&#62; &#62;     connect_to_wsdl=false</font>
<font color='#7F7E6F'>&#62; &#62;     delegate=true</font>
<font color='#7F7E6F'>&#62; &#62;     full_delegation=true</font>
<font color='#7F7E6F'>&#62; &#62;     server_mode=passive</font>
<font color='#7F7E6F'>&#62; &#62;     srm_protocol_version=2</font>
<font color='#7F7E6F'>&#62; &#62;     request_lifetime=86400</font>
<font color='#7F7E6F'>&#62; &#62;     access latency=null</font>
<font color='#7F7E6F'>&#62; &#62;     overwrite mode=null</font>
<font color='#7F7E6F'>&#62; &#62;     priority=0</font>
<font color='#7F7E6F'>&#62; &#62; Mon Feb 09 12&#58;20&#58;04 CST 2009&#58; In SRMClient ExpectedName&#58; host</font>
<font color='#7F7E6F'>&#62; &#62; Mon Feb 09 12&#58;20&#58;04 CST 2009&#58; SRMClient(https,srm/managerv2,true)</font>
<font color='#7F7E6F'>&#62; &#62; SRMClientV2 &#58; user credentials are&#58;</font>
<font color='#7F7E6F'>&#62; &#62; /DC=org/DC=doegrids/OU=People/CN=Sarah Williams 349314</font>
<font color='#7F7E6F'>&#62; &#62; SRMClientV2 &#58; connecting to srm at</font>
<font color='#7F7E6F'>&#62; &#62; httpg&#58;//uct2-dc1.uchicago.edu&#58;8443/srm/managerv2</font>
<font color='#7F7E6F'>&#62; &#62; SRMClientV2 &#58; srmPing , contacting service</font>
<font color='#7F7E6F'>&#62; &#62; httpg&#58;//uct2-dc1.uchicago.edu&#58;8443/srm/managerv2</font>
<font color='#7F7E6F'>&#62; &#62; Mon Feb 09 12&#58;20&#58;11 CST 2009&#58; received response</font>
<font color='#7F7E6F'>&#62; &#62; Mon Feb 09 12&#58;20&#58;11 CST 2009&#58; VersionInfo &#58; v2.2</font>
<font color='#7F7E6F'>&#62; &#62; backend_type&#58;dCache</font>
<font color='#7F7E6F'>&#62; &#62; backend_version&#58;production-1-8-0-12p6</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62; - --Sarah</font>
<font color='#7F7E6F'>&#62; &#62;  &#62; &#62;</font>
</div><script type='text/javascript'>
        $('#show_1825749974').click(function() {
            $('#detail_1825749974').slideDown("normal");
            $('#show_1825749974').hide();
            $('#hide_1825749974').show();
        });
        $('#hide_1825749974').click(function() {
            $('#detail_1825749974').slideUp();
            $('#hide_1825749974').hide();
            $('#show_1825749974').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6420#1237402129'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-03-18T18:48:49+00:00">Mar 18, 2009 06:48 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1237402129">&nbsp;</a></div><pre>Thanks Charles

w.r.t (4) below&#58; it corresponds to ticket OSG-Storage ticket 6423. I will track the ticket in desy ticketing system

Hang in dccp client, in cache_open/data_hello_conversation/poll
This is detailed in dcache.org ticket 4337
<a href='http&#58;//www.dcache.org/rt/Ticket/Display.html?id=4337' target='_blank' rel='nofollow'>http&#58;//www.dcache.org/rt/Ticket/Display.html?id=4337</a> (guest/guest)
This bug is affecting production jobs, not just the RSV
probes.  I am pursuing this problem with help from Patrick
and Tigran, who are interested in debugging this.</pre></div><div class='update_description'><i onclick="document.location='6420#1236194317'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-03-04T19:18:37+00:00">Mar 4, 2009 07:18 PM UTC</time> by <b>Ted Hesselroth</b><a class="anchor" name="1236194317">&nbsp;</a></div><pre>Correspondence&#58;

The stack trace in the original message indicates an EOF on the read of the very
first token of the handshake. Is that still what the error message is?

If so, it seems to me that there would not have been enough information exchanged for
authentication setup to come into play. You can check the
/opt/d-cache/libexec/apache-tomcat-5.5.20/logs  for messages other than in
catalina.out, which may give you authentication denial records.

But it seems more like a networking problem. Odd that it would happen fully 20 % of
the time. How loaded is the machine running the probe? Would it be possible to run
the storage probe only, within the rsv framework, to test whether resource contention
is involved?

It&#39;s hard to say precisely without it being repeatable. I am trying various firewall
settings on my client/server setup, but I haven&#39;t been able to duplicate this error yet.

Ted

We were talking about it at the OSG Storage meeting today and were wondering if you
are using the latest srm client for your RSV probes. It would be of interest also for
the dccp clients that are hanging.

Ted</pre></div><div class='update_description'><i onclick="document.location='6420#1235591669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-02-25T19:54:29+00:00">Feb 25, 2009 07:54 PM UTC</time> by <b>echism</b><a class="anchor" name="1235591669">&nbsp;</a></div><pre>Ted,

Would you like me to include the UChicago people on this ticket? If so, please tell
me which specific resource is involved.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6420#1235496960'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-02-24T17:36:00+00:00">Feb 24, 2009 05:36 PM UTC</time> by <b>Ted Hesselroth</b><a class="anchor" name="1235496960">&nbsp;</a></div><pre>From UChicago&#58;

We have upgraded dCache to the latest OSG
version and these problems are persisting.  There are two
(possibly related) problems - one from the &#39;srmping&#39; probe
and one from the &#39;srmcp&#39; probe.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6420">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 6420});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
