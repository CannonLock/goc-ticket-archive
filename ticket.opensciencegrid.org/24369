<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[24369] HTCondor-CE at AGLT2</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=24369" method="post">
<div class="page-header">
    <h3><span class="muted">24369</span> / HTCondor-CE at AGLT2</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">GOC glidein</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">MIS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Bob Ball</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">osg-glidein-factory</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Bob to give ok to cloe</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-03-19</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/24369", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/24369?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/24369?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20HTCondor-CE%20at%20AGLT2%20ISSUE%3D24369%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='24369#1426701942'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-18T18:05:42+00:00">Mar 18, 2015 06:05 PM UTC</time><a class="anchor" name="1426701942">&nbsp;</a></div><pre>Hi Bob, Brendan,

It looks like the glow glideins are now being matched properly. All other stats from factory monitoring also look good over the last few days. Let&#39;s watch the glow glideins for another day or so to see if this behavior has in fact stabilized. If it has, we can probably close this ticket out then.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24369#1426523811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-16T16:36:51+00:00">Mar 16, 2015 04:36 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1426523811">&nbsp;</a></div><pre>Strange about glow.  I see about the same number in R state from both
condor_ce_q and condor_q here.  From your plot, I guess you mean the
condor_q job is not grabbing what it needs to actually do anything?  The
bulk of the glow jobs here seem to be completing within about 20-25mins
of starting.  pstree is not very informative on one.

[root@bl-1-7 ~]# pstree -h -p -l 2167929
condor_starter(2167929)---condor_exec.exe(2167933)---condor_startup.(2172629)---condor_master(2173354)-+-condor_procd(2173356)
&#96;-condor_startd(2173357)

bob

On 3/16/2015 12&#58;15 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1426522901'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-16T16:21:41+00:00">Mar 16, 2015 04:21 PM UTC</time><a class="anchor" name="1426522901">&nbsp;</a></div><pre>Wait, nevermind, I didn&#39;t think to check how GLOW was doing overall right now. It looks like there&#39;s something messed up on the GLOW end of things, as GLOW in general started having a very large spike in unmatched glideins for all sites. It just coincidentally started happening around the time I switched this site over on the factories, making me think it was a site issue. So, ignore everything I said about GLOW issues.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1426522504'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-16T16:15:04+00:00">Mar 16, 2015 04:15 PM UTC</time><a class="anchor" name="1426522504">&nbsp;</a></div><pre>The switchover took place within minutes of my last post. I don&#39;t know the exact time, but I&#39;m guessing around 9&#58;30AM PST on Friday, March 13th.

Also, the site has been looking good since the switchover, except for GLOW glideins; for some reason, most are now going unmatched on the site [1]. I did essentially replace the old GRAM entry with the new HTCondorCE one (as in, it kept the old name but the details changed), but that&#39;s our normal action for replacing a site&#39;s old gatekeeper with a new HTCondorCE one, and I&#39;ve never seen it cause high unmatched in the past.

I&#39;m not that familiar with GLOW submissions and experiments, so this may be horribly off, but of the three log files we have for GLOW (IceCube, CHTCSubmit, and main), it looks like IceCube and CHTCSubmit are both matching and running on the site, whereas glideins from the main group are the ones going unmatched.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
<a href='http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryStatus.html?entry=HCC_US_Michigan_gate02&frontend=glowVO2_frontend' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryStatus.html?entry=HCC_US_Michigan_gate02&frontend=glowVO2_frontend</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1426519834'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-16T15:30:34+00:00">Mar 16, 2015 03:30 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1426519834">&nbsp;</a></div><pre>Hi Brendan,

Can you provide Bob with the time of the switch over?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='24369#1426290314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-13T23:45:14+00:00">Mar 13, 2015 11:45 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1426290314">&nbsp;</a></div><pre>Looks like we are entirely switched over.  Can you tell me at what time
the full switchover went into effect?

Yes then, please, go ahead and close.

Thanks,
bob

On 3/13/2015 2&#58;54 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1426272852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-13T18:54:12+00:00">Mar 13, 2015 06:54 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1426272852">&nbsp;</a></div><pre>Hi Bob,

Please give the go ahead to close and I will do so.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='24369#1426264351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-13T16:32:31+00:00">Mar 13, 2015 04:32 PM UTC</time><a class="anchor" name="1426264351">&nbsp;</a></div><pre>I&#39;ve gone ahead and replaced the GRAM entry with the new HTCondorCE entry on the production factories, as well as removed the submission limits, so this can probably be closed now (assuming nothing goes wrong).

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1426190054'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T19:54:14+00:00">Mar 12, 2015 07:54 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1426190054">&nbsp;</a></div><pre>Hi, sorry, I have not responded.  As far as I am concerned, all
glide-ins sent to AGLT2_CE2 (gate02.grid.umich.edu) can now be of the
HTCondor-CE flavor.  The parallel GRAM submission can be stopped.

bob

On 3/12/2015 3&#58;01 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1426188207'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T19:23:27+00:00">Mar 12, 2015 07:23 PM UTC</time><a class="anchor" name="1426188207">&nbsp;</a></div><pre>Chris,

I believe we&#39;re just waiting on Bob to give us the go ahead to lift the glidein submission limits on the factories.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='24369#1426186911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-12T19:01:51+00:00">Mar 12, 2015 07:01 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1426186911">&nbsp;</a></div><pre>Hello All,

Is this ticket good to close or are we waiting on something else?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='24369#1425923804'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-09T17:56:44+00:00">Mar 9, 2015 05:56 PM UTC</time><a class="anchor" name="1425923804">&nbsp;</a></div><pre>Things are looking good from our end, too. From the monitoring page, it looks like both OSG and GLOW glideins have been running user jobs and completing without issue. It looks like the entry is all good to go, so I can remove the submission limits whenever you&#39;re ready.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425844030'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-08T19:47:10+00:00">Mar 8, 2015 07:47 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425844030">&nbsp;</a></div><pre>I just looked at a couple of HTCondor-CE glideins to
gate02.grid.umich.edu, one from glow and one from osg, and they appear
just fine, from my point of view.  How do they look from your end?

bob

On 3/5/2015 3&#58;25 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425664095'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-06T17:48:15+00:00">Mar 6, 2015 05:48 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425664095">&nbsp;</a></div><pre>Sure, let&#39;s give it a try.

bob

On 3/6/2015 11&#58;54 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425660865'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-06T16:54:25+00:00">Mar 6, 2015 04:54 PM UTC</time><a class="anchor" name="1425660865">&nbsp;</a></div><pre>I can fine tune with specific VOs are submitted, so I&#39;m thinking what I&#39;ll do is add the entry to our production factories, but put some hard limits in place for those VOs to limit the number of glidein submissions to two per VO per factory, for four total per VO. If that sounds good, then I&#39;ll get the entries added shortly.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425587138'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-05T20:25:38+00:00">Mar 5, 2015 08:25 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425587138">&nbsp;</a></div><pre>I am willing to try changing the production glideins at any time you
wish to do so.  Preferably it is in the AM on the day you do so, giving
me time to figure out how they are doing.  Maybe just change one of the
3 that day?  See how it goes?  Or are the 3 VOs linked?

bob

On 3/5/2015 3&#58;16 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425586613'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-05T20:16:53+00:00">Mar 5, 2015 08:16 PM UTC</time><a class="anchor" name="1425586613">&nbsp;</a></div><pre>It turns out our testing infrastructure isn&#39;t quite working completely yet with HTCondor-CE sites. The MIS glideins were all fine because they were actually submitted using a test frontend, but for GLOW and OSG (or other non-MIS VOs) we have to use a tool that directly submits jobs to the gatekeeper. Apparently, it doesn&#39;t set the proxy information properly for HTCondor-CE, thus those held jobs. So, unfortunately, I don&#39;t think we&#39;ll be able to test those VOs on our ITB factory, or at least not anytime soon.

The fact that MIS glideins have been running fine makes me think we could probably just push this into production and see how it handles OSG/GLOW/SBGrid glideins.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425585018'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-05T19:50:18+00:00">Mar 5, 2015 07:50 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425585018">&nbsp;</a></div><pre>It does not appear that they made it to the gatekeeper here&#58;

[ball@gate02&#58;~]$ condor_ce_q

-- Submitter&#58; gate02.grid.umich.edu &#58;
&#60;141.211.43.122&#58;9620?sock=9029_4e57_4&#62; &#58; gate02.grid.umich.edu
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD

0 jobs; 0 completed, 0 removed, 0 idle, 0 running, 0 held, 0 suspended

bob

On 3/5/2015 2&#58;31 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425583893'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-05T19:31:33+00:00">Mar 5, 2015 07:31 PM UTC</time><a class="anchor" name="1425583893">&nbsp;</a></div><pre>The MIS job submission has been stopped. I&#39;ve tried submitting one GLOW and one OSG job, but they both went held pretty quickly with the same reason [1]. This may be a problem on my end with the proxies I used, as our submission of test jobs works a bit differently for GLOW and OSG and this is my first time doing it this way, but it may also be something with your end, I&#39;m not sure. I&#39;ll check with Jeff the next chance I get to see if it is something we can fix here.

Brendan Dennis
UCSD Glidein Factory Operations

[1]
012 (288.000.000) 03/05 19&#58;21&#58;45 Job was held.
Error connecting to schedd gate02.grid.umich.edu&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method|AUTHENTICATE&#58;1004&#58;Failed to authenticate using GSI|GSI&#58;5003&#58;Failed to authenticate.  Globus is reporting error (851968&#58;320).  There is probably a problem with your credentials.  (Did you run grid-proxy-init?)|AUTHENTICATE&#58;1004&#58;Failed to authenticate using FS
Code 0 Subcode 0

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425503917'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T21:18:37+00:00">Mar 4, 2015 09:18 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425503917">&nbsp;</a></div><pre>Hi,

I have debugged my issue with the JobRouter, so, if you are happy, then
I guess I&#39;d like to see some glow or sbgrid or osg (or other) glideins
reach us via HTCondor-CE.  If those are good, then HTC-CE is probably
good to go full time here instead of GRAM.  The mis test job cron can be
stopped.

bob

On 3/4/2015 2&#58;29 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425497389'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T19:29:49+00:00">Mar 4, 2015 07:29 PM UTC</time><a class="anchor" name="1425497389">&nbsp;</a></div><pre>Sure, sounds good. I&#39;ve changed the cron job to run every 15 minutes and set the sleep timer in the test script to 10 minutes.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425496774'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T19:19:34+00:00">Mar 4, 2015 07:19 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425496774">&nbsp;</a></div><pre>How about every 15 minutes?  And, if they could have some duration to
them (maybe a 10 minute sleep before they quit) then I&#39;ll have a chance
to see them and do something with them.

Thanks,
bob

On 3/4/2015 2&#58;12 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425496320'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T19:12:00+00:00">Mar 4, 2015 07:12 PM UTC</time><a class="anchor" name="1425496320">&nbsp;</a></div><pre>It actually looks like all five of those test jobs ran to completion without issue, which is always a good sign. To help with your own internal testing, I&#39;ll setup a cronjob to submit two new test jobs every hour.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425495850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T19:04:10+00:00">Mar 4, 2015 07:04 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425495850">&nbsp;</a></div><pre>Thanks.  Please keep these coming for a while, trying to debug what
comes in and what I do with it.  It is not quite correct yet.

bob

On 3/4/2015 1&#58;27 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425493622'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T18:27:02+00:00">Mar 4, 2015 06:27 PM UTC</time><a class="anchor" name="1425493622">&nbsp;</a></div><pre>Hi Bob,

I&#39;ve gone ahead and created a new entry on the test factory for the HTCondor-CE gatekeeper and submitted some test jobs to it to see how it works. Hopefully, you should see glideins starting up on the site soon, but I&#39;ll keep an eye out and report any errors.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='24369#1425442449'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-04T04:14:09+00:00">Mar 4, 2015 04:14 AM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1425442449">&nbsp;</a></div><pre>Yes, that is correct, both will be in place for a while.  I think the
JobRouter will do what I want, but now only a few sample cases will tell
me for certain.

bob

On 3/3/2015 4&#58;42 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='24369#1425418960'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-03T21:42:40+00:00">Mar 3, 2015 09:42 PM UTC</time><a class="anchor" name="1425418960">&nbsp;</a></div><pre>Hi Bob,

Thanks for the update. I have just CC&#39;d our factory ops list.

If I understand correctly, you will keep both HTCondor CE and the gram CE running for a while on the same host, gate02.grid.umich.edu? We will create an additional entry point from our ITB test factory first to make sure glideins are able to be submitted through the HTCondor CE.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='24369#1425418130'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-03T21:28:50+00:00">Mar 3, 2015 09:28 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1425418130">&nbsp;</a></div><pre>Changing admin to Jeff.</pre></div><div class='update_description'><i onclick="document.location='24369#1425417344'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-03-03T21:15:44+00:00">Mar 3, 2015 09:15 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1425417344">&nbsp;</a></div><pre>Hi,

Our AGLT2_CE_2 gatekeeper (gate02.grid.umich.edu) should now be able to
accept HTCondor-CE jobs in addition to the older GRAM jobs.  Can I
interest OSG in changing the factories that feed this gate-keeper to the
new HTC-CE format?

If so, I would like to coordinate with you on setting up some tests of
this.  I will be available on EST day times for such coordination for
the remainder of this week.

Thanks,
bob</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F24369">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 24369});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
