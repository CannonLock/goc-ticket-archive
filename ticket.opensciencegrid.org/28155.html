<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[28155] OSG certificates via cvmfs</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=28155" method="post">
<div class="page-header">
    <h3><span class="muted">28155</span> / OSG certificates via cvmfs</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Serguei Fedorov</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Oasis</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Serguei Fedorov</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">OSG Software</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-01-12</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Thomas Lee <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div><div class="assignee" style="width: 60%">Dave Dykstra <span class="muted"> / OSG Security Coordinators</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Theisen <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/28155", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/28155?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/28155?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%20certificates%20via%20cvmfs%20ISSUE%3D28155%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='28155#1452698391'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T15:19:51+00:00">Jan 13, 2016 03:19 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1452698391">&nbsp;</a></div><pre>closing per request.</pre></div><div class='update_description'><i onclick="document.location='28155#1452696970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T14:56:10+00:00">Jan 13, 2016 02:56 PM UTC</time> by <b>sfedorov@....</b><a class="anchor" name="1452696970">&nbsp;</a></div><pre>It can be closed. Looks like the issue is fixed

-Serguei

*From&#58;* Open Science Grid FootPrints [mailto&#58;osg@....]
*Sent&#58;* Wednesday, January 13, 2016 8&#58;01 AM
*To&#58;* sfedorov@....
*Subject&#58;* Open Science Grid&#58; OSG certificates via cvmfs ISSUE=28155 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='28155#1452690060'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T13:01:00+00:00">Jan 13, 2016 01:01 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1452690060">&nbsp;</a></div><pre>I created a new ticket for the nas01 problem, <a href='28159.html' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/28159</a>

I believe this ticket can be closed.</pre></div><div class='update_description'><i onclick="document.location='28155#1452687900'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T12:25:00+00:00">Jan 13, 2016 12:25 PM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1452687900">&nbsp;</a></div><pre>The osg VO rsync finally finished after about 8 hours.  There were 762 new files for a total of 175MB transferred.  The publish then took only 15 seconds so that further implicates nas01 or the network as the source of the performance trouble, since the publish operation does not involve nas01, it&#39;s all internal to the physical machine the oasis* VMs are on (unless the problems were fixed by then).

Then the mis VO rsync took about 15 minutes and publish 18 seconds.  Now the osg-wn-client certificates are back.</pre></div><div class='update_description'><i onclick="document.location='28155#1452659290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T04:28:10+00:00">Jan 13, 2016 04:28 AM UTC</time><a class="anchor" name="1452659290">&nbsp;</a></div><pre>Adding Thomas Lee so he&#39;s aware there&#39;s performance issues with the NAS.

I don&#39;t think they caused the issue here but they are certainly worrying.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=bbockelm/CN=659869/CN=Brian Paul Bockelman</pre></div><div class='update_description'><i onclick="document.location='28155#1452656510'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T03:41:50+00:00">Jan 13, 2016 03:41 AM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1452656510">&nbsp;</a></div><pre>Actually, I tried a little rsync test case and found out it does not re-copy symlinks if the only thing that changes is the timestamp.

So I instead replaced all those symlinks with &#39;$(OASIS_CERTIFICATES&#58;-/cvmfs/oasis.opensciencegrid.org/mis/certificates)&#39; which is equivalent except for providing a default if $OASIS_CERTIFICATES is not set (which it always is since it is set in /etc/cvmfs/config.d/oasis.opensciencegrid.org.conf).</pre></div><div class='update_description'><i onclick="document.location='28155#1452655404'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T03:23:24+00:00">Jan 13, 2016 03:23 AM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1452655404">&nbsp;</a></div><pre>I found that /cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.[23]//current/*/etc/grid-security/certificates all had the same problem so I removed and recreated them all.  Hopefully that will fix the problem when oasis finally gets around to running a publish for mis.</pre></div><div class='update_description'><i onclick="document.location='28155#1452654932'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T03:15:32+00:00">Jan 13, 2016 03:15 AM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1452654932">&nbsp;</a></div><pre>I recreated that symlink and asked for a publish.  However, a publish on the osg VO has been running for over 3 hours so far.   More precisely, the rsync from /net/nas01/Public/ouser.osg to /cvmfs/oasis.opensciencegrid.org/osg has been running that long.  The actual publish hasn&#39;t started yet.

The response time on oasis-login is extremely poor right now too.  I think there&#39;s something wrong with the performance of the nas01 file server.</pre></div><div class='update_description'><i onclick="document.location='28155#1452654145'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T03:02:25+00:00">Jan 13, 2016 03:02 AM UTC</time> by <b>Dave Dykstra</b><a class="anchor" name="1452654145">&nbsp;</a></div><pre>I think this may be a case of this ticket&#58; <a href='https&#58;//sft.its.cern.ch/jira/browse/CVM-874' target='_blank' rel='nofollow'>https&#58;//sft.its.cern.ch/jira/browse/CVM-874</a>

It says that &#34;recreating the symlinks content&#34; worked around the problem.  I&#39;m going to try to do that now.</pre></div><div class='update_description'><i onclick="document.location='28155#1452648770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T01:32:50+00:00">Jan 13, 2016 01:32 AM UTC</time><a class="anchor" name="1452648770">&nbsp;</a></div><pre>It seems that osg-wn-client 3.2.33 is working appropriately.   CC&#39;ing a few software folks.

Is it possible that the &#39;current&#39; symlink was changed to 3.2.34 prior to the certificates link being set appropriately?  Since we&#39;re running the CRL cronjob more frequently, I wouldn&#39;t be surprised if the CRL update happened while a osg-wn-client software update was ongoing (meaning it&#39;s important that &#39;current&#39; isn&#39;t set until everything is 100% complete.

I suppose this indicates that is not the problem, however&#58;

$ cat /cvmfs/oasis.opensciencegrid.org/mis/update.details
Update initiated&#58; Tue Jan 12 19&#58;44&#58;13 UTC 2016
Update unix time&#58; 1452627853
Initiated by&#58; ouser.mis
With proxy  &#58; subject= /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brian Lin 1047/CN=1791021175/CN=904978484
via ssh from&#58; ingwe.cs.wisc.edu.  (128.105.121.64)

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=bbockelm/CN=659869/CN=Brian Paul Bockelman</pre></div><div class='update_description'><i onclick="document.location='28155#1452648023'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-13T01:20:23+00:00">Jan 13, 2016 01:20 AM UTC</time><a class="anchor" name="1452648023">&nbsp;</a></div><pre>Hi,

It seems that the CRLs are appropriately updated but the symlink /cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.1/3.1.42/el6-x86_64/etc/grid-security/certificates is broken.  It should be dereference to $(OASIS_CERTIFICATES); it&#39;s set right on oasis-login.opensciencegrid.org (I don&#39;t have access to oasis.opensciencegrid.org to see if it&#39;s right there too).

I note that the symlink was last updated around the time Kevin started to see broken jobs.  Perhaps there&#39;s a sequencing issue around the OSG software update and the first CRL run?

It&#39;s not clear why - but I would note that the NAS is seeing pretty poor performance.  I don&#39;t think they are related, however.

Brian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=bbockelm/CN=659869/CN=Brian Paul Bockelman</pre></div><div class='update_description'><i onclick="document.location='28155#1452637569'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-12T22:26:09+00:00">Jan 12, 2016 10:26 PM UTC</time> by <b>klannon@....</b><a class="anchor" name="1452637569">&nbsp;</a></div><pre>To clarify, we can eliminate the error by switching to locally installed
certificates, but it *does not* resolve the actual problem which is that
we are using CVMFS to provide the certificates to a large pool of
opportunistic resources for which there is no option to install the
certificates locally.  Until this problem is resolved, the opportunistic
part of our cluster is completely dead in the water.</pre></div><div class='update_description'><i onclick="document.location='28155#1452636988'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-12T22:16:28+00:00">Jan 12, 2016 10:16 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1452636988">&nbsp;</a></div><pre>Hello,

It looks like the problem with OSG certificates through CVMFS came back  again.
Since I switch to our local location the issue is resolved,

If anyone can check cvmfs certificates ?   We use following settings&#58;

X509_VOMS_DIR=/cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.2/3.2.34/el6-x86_64/etc/grid-security/vomsdir
X509_CERT_DIR=/cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.2/3.2.34/el6-x86_64/etc/grid-security/certificates

Thanks

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F28155">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
