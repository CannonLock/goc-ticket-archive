<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[28628] OSG 3.3 SE Failed to open checksum file</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=28628" method="post">
<div class="page-header">
    <h3><span class="muted">28628</span> / OSG 3.3 SE Failed to open checksum file</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Serguei Fedorov</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Serguei Fedorov</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-02-25</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/28628", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/28628?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/28628?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%203.3%20SE%20Failed%20to%20open%20checksum%20file%20ISSUE%3D28628%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='28628#1456435735'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-25T21:28:55+00:00">Feb 25, 2016 09:28 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1456435735">&nbsp;</a></div><pre>Hi Serguei, thanks for reporting your findings.  I&#39;m not quite sure why those packages would have caused the problem, but perhaps this will be useful information for us to investigate if the issue comes up again.  Let us know if you run into any other issues.

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='28628#1456435309'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-25T21:21:49+00:00">Feb 25, 2016 09:21 PM UTC</time><a class="anchor" name="1456435309">&nbsp;</a></div><pre>It looks like the source of errors is related to some packages installed

osg-se-hadoop-gridftp-3.3-2.osg33.el6.x86_64
osg-gridftp-hdfs-3.3-2.osg33.el6.x86_64
gridftp-hdfs-0.5.4-24.osg33.el6.x86_64

Since those abovementioned packages were removed everything works.

So the ticket can be closed.  I have resolved it myself.

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787</pre></div><div class='update_description'><i onclick="document.location='28628#1456412775'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-25T15:06:15+00:00">Feb 25, 2016 03:06 PM UTC</time><a class="anchor" name="1456412775">&nbsp;</a></div><pre>Any ideas why rsv-control fails on the metric&#58;  org.osg.globus.gridftp-simple, complaining on some kind of checksum file ?

rsv-control --run --host deepthought.crc.nd.edu org.osg.globus.gridftp-simple

45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum ADLER32&#58; 83ac2fe3
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum MD5&#58; 9865ca32df1d2c0e27c92b6d3e383ad6
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum CRC32&#58; 3160393271
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Failed to open checksum file (host=deepthought.crc.nd.edu, user=rsv, path=/tmp/gridftp-probe-test-file.1456250295.45068.remote)
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; HDFS&#58; hdfsOpenFile(/cksums//tmp/gridftp-probe-test-file.1456250295.45068.remote)&#58; FileSystem#create((Lorg/apache/hadoop/fs/Path;ZISJ)Lorg/apache/hadoop/fs/FSDataOutputStream;) error&#58;
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; HDFS&#58; java.io.IOException&#58; Mkdirs failed to create /cksums/tmp
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Stopping HDFS log forwarder; 2 messages forwarded.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Failure attempting to transfer &#34;/tmp/gridftp-probe-test-file.1456250295.45068.remote&#34;.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Transfer failure&#58;
System error in Failed to open checksum file (host=deepthought.crc.nd.edu, user=rsv, path=/tmp/gridftp-probe-test-file.1456250295.45068.remote)&#58; Unknown error 255
A system call failed&#58; Unknown error 255

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787</pre></div><div class='update_description'><i onclick="document.location='28628#1456351149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-24T21:59:09+00:00">Feb 24, 2016 09:59 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1456351149">&nbsp;</a></div><pre>Our hadoop FUSE  mount point is /hadoop, so the line from /etc/fstab

hadoop-fuse-dfs# /hadoop fuse
server=eddie,port=19000,rdbuffer=131072,allow_other 0 0

We do not have /mnt/hadoop.  The directory /hadoop/store/sfedorov exists

[root@earth ~]# ls -lrt /hadoop/store/sfedorov/
total 0
-rw-r--r-- 1 uscms01 osgusers 0 Feb 23 12&#58;52 test.txt

The srm command even create test file in it, but with zero size

-Serguei

On Wed, Feb 24, 2016 at 3&#58;15 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='28628#1456344950'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-24T20:15:50+00:00">Feb 24, 2016 08:15 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1456344950">&nbsp;</a></div><pre>I think we&#39;ve run into the /cksums error before, though I don&#39;t remember what the issue was exactly.  I&#39;m CC&#39;ing Mat and Brian in case they happen to remember.

But the /cksums path is relative to the HDFS filesystem, not your main OS/disk filesystem.  So, for instance, if you had a FUSE mount of hadoop at /mnt/hadoop, and you created a file /mnt/hadoop/store/sfedorov/test.txt, I believe hadoop would also try to create a checksum file for it at /mnt/hadoop/cksums/store/sfedorov/test.txt.

What is your hadoop FUSE mount point, and does your /hadoop/store/sfedorov/ directory inside of hdfs exist?

Carl</pre></div><div class='update_description'><i onclick="document.location='28628#1456250422'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-23T18:00:22+00:00">Feb 23, 2016 06:00 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1456250422">&nbsp;</a></div><pre>Hello,

I have problem to make SE working under OSG3.3  RHEL6.7 on our new server.

I use the same configuration for our existing server in OSG3.2, but it does not work at some point.

If I issue the command&#58;  srm-copy file&#58;///tmp/tmp.txt <a href='srm&#58;//deepthought.crc.nd.edu&#58;8443/srm/v2/server&#92' target='_blank' rel='nofollow'>srm&#58;//deepthought.crc.nd.edu&#58;8443/srm/v2/server&#92</a>;?SFN=/hadoop/store/sfedorov/test.txt
The following goes to /var/log/gridftp-auth.log&#58;

[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Configuration read from /etc/gridftp.conf.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Server started in inetd mode.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; New connection from&#58; earth.crc.nd.edu&#58;49383
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Max memory buffer count&#58; 200.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Max file buffer count&#58; 1500.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Checking current load on the server.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Start gridftp server; hadoop nameserver hadoop-name, port 9000, replicas 2.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Checksum algorithms in use&#58; MD5,ADLER32,CRC32,CKSUM.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; DN /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787 successfully authorized.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; User uscms01 successfully authorized.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Going to do stat on file /hadoop/store/sfedorov/test.txt.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; We are going to open file /hadoop/store/sfedorov/test.txt.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Open file /hadoop/store/sfedorov/test.txt with 2 replicas.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Successfully opened file /hadoop/store/sfedorov/test.txt for user uscms01.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; SEND buffer size may not be properly set.  Requested size = 1048576, actualy size = 249856
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Starting to transfer &#34;/hadoop/store/sfedorov/test.txt&#34;.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; receive 1 blocks of size 2679 bytes
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Trying to close file in HDFS; zero outstanding blocks.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; receive 1 blocks of size 0 bytes
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Checksum CKSUM&#58; 918382759
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Checksum ADLER32&#58; 25c0ea33
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Checksum MD5&#58; 34cd7b7aac5f02f9c171c5d7b82744d0
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Checksum CRC32&#58; 3333230387
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Failed to open checksum file (host=deepthought.crc.nd.edu, user=uscms01, path=/hadoop/store/sfedorov/test.txt)
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; HDFS&#58; hdfsOpenFile(/cksums//hadoop/store/sfedorov/test.txt)&#58; FileSystem#create((Lorg/apache/hadoop/fs/Path;ZISJ)Lorg/apache/hadoop/fs/FSDataOutputStream;) error&#58;
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; HDFS&#58; java.io.IOException&#58; Mkdirs failed to create /cksums/hadoop/store/sfedorov
<div id='show_435265785' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_435265785'>[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Stopping HDFS log forwarder; 2 messages forwarded.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Failure attempting to transfer &#34;/hadoop/store/sfedorov/test.txt&#34;.
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Transfer failure&#58;
System error in Failed to open checksum file (host=deepthought.crc.nd.edu, user=uscms01, path=/hadoop/store/sfedorov/test.txt)&#58; Unknown error 255
A system call failed&#58; Unknown error 255

[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; force_close&#58;
Handle not in the proper state

[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Closed connection from earth.crc.nd.edu&#58;49383
[42395] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Destroying the HDFS connection.
[40720] Tue Feb 23 12&#58;49&#58;46 2016 &#58;&#58; Child process 42395 ended with rc = 0

What is the prefix /cksums    before the FUSE path /hadoop/store/sfedorov

When I am running the RSV test

rsv-control --run --host deepthought.crc.nd.edu org.osg.globus.gridftp-simple

I get kind of similar in /var/log/gridftp-auth.log

[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Configuration read from /etc/gridftp.conf.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Server started in inetd mode.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; New connection from&#58; deepthought.crc.nd.edu&#58;49383
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Max memory buffer count&#58; 200.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Max file buffer count&#58; 1500.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checking current load on the server.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Start gridftp server; hadoop nameserver hadoop-name, port 9000, replicas 2.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum algorithms in use&#58; MD5,ADLER32,CRC32,CKSUM.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; DN /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=rsv/deepthought.crc.nd.edu successfully authorized.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; User rsv successfully authorized.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Going to do stat on file /tmp/gridftp-probe-test-file.1456250295.45068.remote.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; We are going to open file /tmp/gridftp-probe-test-file.1456250295.45068.remote.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Open file /tmp/gridftp-probe-test-file.1456250295.45068.remote with 2 replicas.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Successfully opened file /tmp/gridftp-probe-test-file.1456250295.45068.remote for user rsv.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Starting to transfer &#34;/tmp/gridftp-probe-test-file.1456250295.45068.remote&#34;.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; receive 1 blocks of size 134 bytes
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Trying to close file in HDFS; zero outstanding blocks.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; receive 1 blocks of size 0 bytes
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum CKSUM&#58; 4293481899
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum ADLER32&#58; 83ac2fe3
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum MD5&#58; 9865ca32df1d2c0e27c92b6d3e383ad6
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Checksum CRC32&#58; 3160393271
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Failed to open checksum file (host=deepthought.crc.nd.edu, user=rsv, path=/tmp/gridftp-probe-test-file.1456250295.45068.remote)
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; HDFS&#58; hdfsOpenFile(/cksums//tmp/gridftp-probe-test-file.1456250295.45068.remote)&#58; FileSystem#create((Lorg/apache/hadoop/fs/Path;ZISJ)Lorg/apache/hadoop/fs/FSDataOutputStream;) error&#58;
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; HDFS&#58; java.io.IOException&#58; Mkdirs failed to create /cksums/tmp
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Stopping HDFS log forwarder; 2 messages forwarded.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Failure attempting to transfer &#34;/tmp/gridftp-probe-test-file.1456250295.45068.remote&#34;.
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Transfer failure&#58;
System error in Failed to open checksum file (host=deepthought.crc.nd.edu, user=rsv, path=/tmp/gridftp-probe-test-file.1456250295.45068.remote)&#58; Unknown error 255
A system call failed&#58; Unknown error 255

[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; force_close&#58;
Handle not in the proper state

[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Closed connection from deepthought.crc.nd.edu&#58;49383
[45133] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Destroying the HDFS connection.
[40720] Tue Feb 23 12&#58;58&#58;15 2016 &#58;&#58; Child process 45133 ended with rc = 0

What needs to be change in my configuration ?  Am I missing anything ?

-Serguei

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Serguei Fedorov 787

</div><script type='text/javascript'>
        $('#show_435265785').click(function() {
            $('#detail_435265785').slideDown("normal");
            $('#show_435265785').hide();
            $('#hide_435265785').show();
        });
        $('#hide_435265785').click(function() {
            $('#detail_435265785').slideUp();
            $('#hide_435265785').hide();
            $('#show_435265785').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F28628">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
