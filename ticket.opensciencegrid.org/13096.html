<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[13096] SMU_HPC grid certs not found</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=13096" method="post">
<div class="page-header">
    <h3><span class="muted">13096</span> / SMU_HPC grid certs not found</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alexander Georges</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">SMU_HPC</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">ATLAS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Alexander Georges</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-05-14</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=22729">22729</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/13096", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13096?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13096?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20SMU_HPC%20grid%20certs%20not%20found%20ISSUE%3D13096%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='13096#1367953605'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T19:06:45+00:00">May 7, 2013 07:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1367953605">&nbsp;</a></div><pre>Hi Amit,

How are things going? Can we help at all?

Kindest regards,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13096#1366693639'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-23T05:07:19+00:00">Apr 23, 2013 05:07 AM UTC</time><a class="anchor" name="1366693639">&nbsp;</a></div><pre>Hi Elizabeth,

Thank you for reaching out. I only got a chance to rebuild one node and is looking good(cnod66). Rest were busy and couldn&#39;t get it off the queue earlier. Now I have all so I should be able to rebuild them tomorrow.

Once done I will ping you guys to perform the final tests hopefully.

Best Regards,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1366672630'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-22T23:17:10+00:00">Apr 22, 2013 11:17 PM UTC</time> by <b>echism</b><a class="anchor" name="1366672630">&nbsp;</a></div><pre>Hi Amit,

Do you want help with anything on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13096#1365455920'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-08T21:18:40+00:00">Apr 8, 2013 09:18 PM UTC</time><a class="anchor" name="1365455920">&nbsp;</a></div><pre>Hi Jeff,

Good to hear from out after OSG AHM

I might have to rebuild those nodes, i see a lot of rpms missing.
Thank you for debugging this for us,
I will get back after I rebuild.

Thank you,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365450049'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-08T19:40:49+00:00">Apr 8, 2013 07:40 PM UTC</time><a class="anchor" name="1365450049">&nbsp;</a></div><pre>Sorry, i meant *-proxy-info tools, not init.

Thanks,
Jeff

by /DC=org/DC=doegrids/OU=People/CN=Jeffrey M. Dost 948199</pre></div><div class='update_description'><i onclick="document.location='13096#1365449928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-08T19:38:48+00:00">Apr 8, 2013 07:38 PM UTC</time><a class="anchor" name="1365449928">&nbsp;</a></div><pre>Hi Amit,

Good news, I think this issue is finally looking resolved.  I no longer see any of the original grid cert errors.  However I am now seeing a new error on a few nodes that is probably easy to fix on your end&#58;
/usr/local/condor/execute/dir_25934/glide_u25991/main/setup_x509.sh&#58; line 91&#58; grid-proxy-info&#58; command not found
/usr/local/condor/execute/dir_25934/glide_u25991/main/setup_x509.sh&#58; line 93&#58; voms-proxy-info&#58; command not found

I saw this on the following nodes&#58;
cnode65.hpc.smu.edu
cnode66.hpc.smu.edu
cnode67.hpc.smu.edu
cnode68.hpc.smu.edu
cwnode8.hpc.smu.edu
wnode22.hpc.smu.edu
wnode23.hpc.smu.edu

Can you please double check to see if grid-proxy-init and / or voms-proxy-init are properly installed on the above nodes?

I think once we get this one resolved we should close this ticket.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

by /DC=org/DC=doegrids/OU=People/CN=Jeffrey M. Dost 948199</pre></div><div class='update_description'><i onclick="document.location='13096#1365434825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-08T15:27:05+00:00">Apr 8, 2013 03:27 PM UTC</time><a class="anchor" name="1365434825">&nbsp;</a></div><pre>Hi Alex,

That is strange CE never went down since Friday and all of the RSV status is healthy. Don&#39;t know if there is something else that shows our CE down.
Can you please try again. I am on my CE now and all looking good.

Thanks,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365210234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-06T01:03:54+00:00">Apr 6, 2013 01:03 AM UTC</time><a class="anchor" name="1365210234">&nbsp;</a></div><pre>I tried to but your CE appears down again&#58;

<a href='http&#58;//myosg.grid.iu.edu/rgstatushistory/index?downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=04%2F05%2F2013&end_type=now&end_date=04%2F05%2F2013&all_resources=on&rg_113=on&active_value=1&disable_value=1#detail?resource_id=259&service_id=1&time=1365206462' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/rgstatushistory/index?downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=04%2F05%2F2013&end_type=now&end_date=04%2F05%2F2013&all_resources=on&rg_113=on&active_value=1&disable_value=1#detail?resource_id=259&service_id=1&time=1365206462</a>

We&#39;ll resume this testing next week.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1365202487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T22:54:47+00:00">Apr 5, 2013 10:54 PM UTC</time><a class="anchor" name="1365202487">&nbsp;</a></div><pre>I have added hostname to wrapper script temporarily to detect further issues. Please let me know what you notice.
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365202248'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T22:50:48+00:00">Apr 5, 2013 10:50 PM UTC</time><a class="anchor" name="1365202248">&nbsp;</a></div><pre>Please try again.
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365202032'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T22:47:12+00:00">Apr 5, 2013 10:47 PM UTC</time><a class="anchor" name="1365202032">&nbsp;</a></div><pre>Hi amit, I resubmitted some more tests so we can see what condor_history is set to.  Also, since there is only this one line returned back to us in the logs, I cannot tell you which node these ran on.  Though, i doubt all my glideins happened to land on one specific node.  I can tell you the gridjobId for a few glideins if this will help.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1365201765'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T22:42:45+00:00">Apr 5, 2013 10:42 PM UTC</time><a class="anchor" name="1365201765">&nbsp;</a></div><pre>I found that this was an issue on only one node cnode72 I am fixing it. Please let me know if you still see any issue.

Thank you,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365201005'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T22:30:05+00:00">Apr 5, 2013 10:30 PM UTC</time><a class="anchor" name="1365201005">&nbsp;</a></div><pre>This is strange&#58;
I don&#39;t see anything wrong in the wrapper script&#58; May an eagles eye would help&#58;
#!/bin/sh

# Set this to the full path to condor_history&#58;
condor_history=/usr/local/condor-current/bin/condor_history

# I added the following line right now to see if you see this on the stdout
ls -l $condor_history

# Set this to something greater than POLLING_INTERVAL (default 5)
sleep_time=10

if ! [ -x &#34;${condor_history}&#34; ]; then
echo &#34;USER_JOB_WRAPPER has incorrect path to condor_history&#34; 2&#62;&1
exit 1
fi

if ! [ -f &#34;${_CONDOR_MACHINE_AD}&#34; ]; then
echo &#34;USER_JOB_WRAPPER cannot find machine ad&#34; 2&#62;&1
exit 1
fi
....
....
export X509_CERT_DIR=/grid/osg-ca-certs/certificates

exec &#34;$@&#34;

I don&#39;t understand why it fails at that, Could you please point me to the node that it failed may be some nodes have in-executable files.That is all I can think of.

Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365199673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T22:07:53+00:00">Apr 5, 2013 10:07 PM UTC</time><a class="anchor" name="1365199673">&nbsp;</a></div><pre>No, we don&#39;t request a whole node for the test.  So I submitted some tests, and all are writing out empty stderr logs.  The stdout logs all contain this&#58;

USER_JOB_WRAPPER has incorrect path to condor_history

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1365199076'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T21:57:56+00:00">Apr 5, 2013 09:57 PM UTC</time><a class="anchor" name="1365199076">&nbsp;</a></div><pre>Also curious if you request a whole node for your tests ?
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365198594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T21:49:54+00:00">Apr 5, 2013 09:49 PM UTC</time><a class="anchor" name="1365198594">&nbsp;</a></div><pre>Hi Alex,

It is back up and running. Please try again.

Thank you,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1365197756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T21:35:56+00:00">Apr 5, 2013 09:35 PM UTC</time><a class="anchor" name="1365197756">&nbsp;</a></div><pre>It seems to me your CE is down&#58;

<a href='http&#58;//myosg.grid.iu.edu/rgstatushistory/index?downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=04%2F05%2F2013&end_type=now&end_date=04%2F05%2F2013&all_resources=on&rg_113=on&active_value=1&disable_value=1#detail?resource_id=259&service_id=1&time=1365150179' target='_blank' rel='nofollow'>http&#58;//myosg.grid.iu.edu/rgstatushistory/index?downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&bdiitree_type=total_jobs&bdii_object=service&bdii_server=is-osg&start_type=7daysago&start_date=04%2F05%2F2013&end_type=now&end_date=04%2F05%2F2013&all_resources=on&rg_113=on&active_value=1&disable_value=1#detail?resource_id=259&service_id=1&time=1365150179</a>

Can you please look into this?  Any tests I send will just go idle until this is up and running.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1365129221'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-05T02:33:41+00:00">Apr 5, 2013 02:33 AM UTC</time><a class="anchor" name="1365129221">&nbsp;</a></div><pre>Hi Alex,

Thank you for your patience. I finally found the issue. There was a condor job wrapper script to allow requesting a whole node and this wrapper script had it hard coded, the incorrect path. I have modified this path to the correct path /grid/osg-ca-certs/certificates

Please submit more test jobs to see if we have resolved this issue or something else is causing this.

One think I want to ask is were you requesting a whole node job?
Thank you,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1364477612'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-28T13:33:32+00:00">Mar 28, 2013 01:33 PM UTC</time><a class="anchor" name="1364477612">&nbsp;</a></div><pre>Hi Alex, I will look into this later today and get back.
Thank you
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1364423935'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T22:38:55+00:00">Mar 27, 2013 10:38 PM UTC</time><a class="anchor" name="1364423935">&nbsp;</a></div><pre>My tests landed on&#58;
cnode39.hpc.smu.edu
cnode46.hpc.smu.edu
cnode69.hpc.smu.edu
cwnode11.hpc.smu.edu
cwnode7.hpc.smu.edu

The nodes I posted awhile back are still suffering though

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1364422700'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T22:18:20+00:00">Mar 27, 2013 10:18 PM UTC</time><a class="anchor" name="1364422700">&nbsp;</a></div><pre>Hi Alex,

I am still looking to find where this could be. Any idea on what node that this happened during your test.

Thanks,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1364421983'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T22:06:23+00:00">Mar 27, 2013 10:06 PM UTC</time><a class="anchor" name="1364421983">&nbsp;</a></div><pre>So, I ran another batch of test jobs.  To reiterate, I don&#39;t think the problem is in the certificates.  It is in $X509_CERT_DIR being set to the wrong thing.

Currently&#58;  $X509_CERT_DIR=/grid/wn-client/globus/share/certificates
What it should be&#58; $X509_CERT_DIR=/grid/osg-ca-certs/certificates

Do you see anywhere this variable is being set to the wrong value?

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1364418717'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T21:11:57+00:00">Mar 27, 2013 09:11 PM UTC</time><a class="anchor" name="1364418717">&nbsp;</a></div><pre>Hi Amit,

When glideins land on a worker node, there is a set of tests that are run that make sure the node is desirable to run on.  There is a subset of worker nodes at the site that are failing on the test that locates the CA certificates.  When these glideins fail this test, they &#34;fail validation&#34; and don&#39;t start up.  This ends up wasting CPU time because a glidein will hang around on whatever node it fails on for about 20 minutes...so if glideins keep failing on a node, this CPU time adds up.  The red peaks in the graph I pointed to really show the extent to which this error is present from day to day.

The root issue seems to be that these worker nodes are looking in /grid/wn-client/globus/share/certificates for the appropriate certificates, whereas they should be looking in /grid/osg-ca-certs/certificates.  All this being said, I can perform some more extensive testing and hopefully figure out where the path /grid/wn-client/globus/share/certificates is coming from.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1364417073'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T20:44:33+00:00">Mar 27, 2013 08:44 PM UTC</time><a class="anchor" name="1364417073">&nbsp;</a></div><pre>Based on the link Alex sent out, it seems there is a &#34;Fraction wasted due to node validation&#34;? I am not ware of what node validation does a GFactory request would perform. If anybody can point me it would be helpful. I don&#39;t think each of the compute host a needs to have a valid host certificate, does it?

Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1364414620'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T20:03:40+00:00">Mar 27, 2013 08:03 PM UTC</time><a class="anchor" name="1364414620">&nbsp;</a></div><pre>Hi Elizabeth,

Every directory in the path /grid/osg-ca-certs/certificates-1.33NEW/ has 755 as it permission, so I don&#39;t think that is an issue, it were an issues it would have affected the rest of the jobs as well.

Please let me know if this is the directory you meant to check for permissions.
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1364414286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T19:58:06+00:00">Mar 27, 2013 07:58 PM UTC</time><a class="anchor" name="1364414286">&nbsp;</a></div><pre>Dear All,
I will continue to work on this issue from SMU.

I recently updated the certificates so all should be good. I even traced back the comments made by Alex to look into the /usr/etc/globus-user-env.sh and it won&#39;t do any good because it is just a place holder for backward compatibility.
So please point me to some more details to verify what else could have gone wrong.

Thank you,
Amit

by /DC=org/DC=doegrids/OU=People/CN=Amit H Kumar 127285</pre></div><div class='update_description'><i onclick="document.location='13096#1364414272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T19:57:52+00:00">Mar 27, 2013 07:57 PM UTC</time> by <b>echism</b><a class="anchor" name="1364414272">&nbsp;</a></div><pre>Amit,

I would check the directory and permissions next.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13096#1364414106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T19:55:06+00:00">Mar 27, 2013 07:55 PM UTC</time> by <b>echism</b><a class="anchor" name="1364414106">&nbsp;</a></div><pre>Alex,

Maybe someone meant to only close the ATLAS ticket, but did both? I didn&#39;t close it.

I see that someone has already changed the ownership of SMU_HPC in OIM. Thank you. I will let everyone know about Justin.

Thank you
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='13096#1364413854'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T19:50:54+00:00">Mar 27, 2013 07:50 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1364413854">&nbsp;</a></div><pre>I have verified all of the host certs and they are all valid. Can
somebody tell me what else to look for.

Thank you,
Amit

From&#58;
OSG GOC TX via RT [mailto&#58;RT-RACF@....]
Sent&#58; Wednesday, March 27,
2013 11&#58;13 AM
Subject&#58; [rt.racf.bnl.gov #22729] SMU_HPC grid certs
not found

Ticket URL&#58;
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=22729' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=22729</a>
Requestors&#58;
tx+rtbnlprod_fp71@....&#60;mailto&#58;tx+rtbnlprod_fp71@....&#62;
Ccs&#58; (None)

Queue&#58; USAtlasTier3

Owner&#58; Doug
Benjamin

Status&#58; open

Priority&#58; Low

Transaction&#58;
Correspondence added by osg-goc-rest

Subject&#58; SMU_HPC grid
certs not found

OSG GOC Ticket&#58;
<div id='show_1227383776' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1227383776'>13096&#60;<a href='13096.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=13096&#62</a>;

Resource
Group Name&#58; SMU_HPC

VO Name&#58; ATLAS
Resource Name&#58; SMU_HPC

________________________________

If
you would like an idea of the extent to which this issue is causing
glideins to fail&#58;

http&#58;//gfactory-
1.t2.ucsd.edu/osg_gfactory/factoryCompletedStats.html?entry=OSG_US_SMU_smuosg1&frontend=total&infoGroup=validation&elements=validation_All%,validation_Most%,validation_500m%,validation_250m%,validation_100m%,validation_25m%,validation_5m%,validation_None%,&rra=1&window_min=1362709649032.258&window_max=1364443200000&timezone=+12
All the red peaks correspond to failed glideins.  Justin, if you
cannot

fix this issue please cc in to this conversation someone who
can.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander
Georges 435073

-- by goc at Wed Mar 27 16&#58;12&#58;30 UTC 2013
-- by ahkumar@.... at Wed Mar 27 19&#58;47&#58;31 UTC 2013

GOCTX Source&#58; BNL Ticket&#58; Queue=USAtlasTier3 ID=22729
</div><script type='text/javascript'>
        $('#show_1227383776').click(function() {
            $('#detail_1227383776').slideDown("normal");
            $('#show_1227383776').hide();
            $('#hide_1227383776').show();
        });
        $('#hide_1227383776').click(function() {
            $('#detail_1227383776').slideUp();
            $('#hide_1227383776').hide();
            $('#show_1227383776').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='13096#1364400970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T16:16:10+00:00">Mar 27, 2013 04:16 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1364400970">&nbsp;</a></div><pre>Justin Ross is no longer with SMU. Please send any SMU related correspondence to Amit Kumar at ahkumar@....&#60;mailto&#58;ahkumar@....&#62; or Allen Hughes at ahughes@....&#60;mailto&#58;ahughes@....&#62;. If you need urgent assistance you could also contact the Help Desk at help@....&#60;mailto&#58;help@....&#62;.</pre></div><div class='update_description'><i onclick="document.location='13096#1364400750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T16:12:30+00:00">Mar 27, 2013 04:12 PM UTC</time><a class="anchor" name="1364400750">&nbsp;</a></div><pre>If you would like an idea of the extent to which this issue is causing glideins to fail&#58;

<a href='http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryCompletedStats.html?entry=OSG_US_SMU_smuosg1&frontend=total&infoGroup=validation&elements=validation_All%' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/osg_gfactory/factoryCompletedStats.html?entry=OSG_US_SMU_smuosg1&frontend=total&infoGroup=validation&elements=validation_All%</a>,validation_Most%,validation_500m%,validation_250m%,validation_100m%,validation_25m%,validation_5m%,validation_None%,&rra=1&window_min=1362709649032.258&window_max=1364443200000&timezone=+12

All the red peaks correspond to failed glideins.  Justin, if you cannot fix this issue please cc in to this conversation someone who can.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1364400628'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-27T16:10:28+00:00">Mar 27, 2013 04:10 PM UTC</time><a class="anchor" name="1364400628">&nbsp;</a></div><pre>I am still seeing this issue.  It is not advised to close a ticket while an issue is persisting.

-Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1358278263'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T19:31:03+00:00">Jan 15, 2013 07:31 PM UTC</time><a class="anchor" name="1358278263">&nbsp;</a></div><pre>Again, this issue still persists and is consistently leading to a fraction of pilots failing.  Of course, this means wasted CPU time.  Is it possible for you to look into this soon?

Thanks,
Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1357150114'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-02T18:08:34+00:00">Jan 2, 2013 06:08 PM UTC</time><a class="anchor" name="1357150114">&nbsp;</a></div><pre>Justin, I am still seeing 100% of pilots failing to run at your site.  Have you looked into this again?

Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1355773005'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-17T19:36:45+00:00">Dec 17, 2012 07:36 PM UTC</time><a class="anchor" name="1355773005">&nbsp;</a></div><pre>As recent as yesterday, i find the error again on many of these nodes.  It looks like the variable GLOBUS_PATH is incorrectly set for these worker nodes.  For successful pilots, X509_CERT_DIR is first set to /grid/wn-client/globus/share/certificates but is later on changed to /grid/osg-ca-certs/certificates.  For unsuccessful pilots, X509_CERT_DIR stays set to /grid/wn-client/globus/share/certificates.  It looks GLOBUS_PATH points to /usr/etc/globus-user-env.sh which is making the proper changes to X509_CERT_DIR.  I think this may fix the issue.

Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1355496309'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-14T14:45:09+00:00">Dec 14, 2012 02:45 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1355496309">&nbsp;</a></div><pre>I have reviewed these nodes and I can’t find a difference from the other nodes.

The certificates are in /grid/osg-ca-certs/certificates.  Same as all other nodes.  In /etc/osg/wn-client/setup.sh(csh) it populates the variable X509_CERT_DIR with /grid/osg-ca-certs/certificates which is the same as on all other nodes.

Justin</pre></div><div class='update_description'><i onclick="document.location='13096#1355345827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-12T20:57:07+00:00">Dec 12, 2012 08:57 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1355345827">&nbsp;</a></div><pre>I thought it was fixed since the ticket was closed.  I will take a look.

Justin</pre></div><div class='update_description'><i onclick="document.location='13096#1355345555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-12T20:52:35+00:00">Dec 12, 2012 08:52 PM UTC</time><a class="anchor" name="1355345555">&nbsp;</a></div><pre>Justin, I am still seeing these errors as recent as today on the same set of worker nodes.  Can you please look into this again?

Alex

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><div class='update_description'><i onclick="document.location='13096#1354665145'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-04T23:52:25+00:00">Dec 4, 2012 11:52 PM UTC</time><a class="anchor" name="1354665145">&nbsp;</a></div><pre>This doesn&#39;t appear from our end.

I see the same errors as recently as 20 minutes ago, for the same list of worker nodes.

Can the admins please double-check?

Thanks,
Jeff
OSG Glidein Factory Operations

by /DC=org/DC=doegrids/OU=People/CN=Jeffrey M. Dost 948199</pre></div><div class='update_description'><i onclick="document.location='13096#1354635160'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-04T15:32:40+00:00">Dec 4, 2012 03:32 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1354635160">&nbsp;</a></div><pre>site admin fixed the site
-- by benjamin@.... at Tue Dec 04 15&#58;32&#58;29 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=USAtlasTier3 ID=22729</pre></div><div class='update_description'><i onclick="document.location='13096#1354578128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-03T23:42:08+00:00">Dec 3, 2012 11:42 PM UTC</time> by <b>Justin Ross</b><a class="anchor" name="1354578128">&nbsp;</a></div><pre>This issue should be fixed now.

Justin</pre></div><div class='update_description'><i onclick="document.location='13096#1354566704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-12-03T20:31:44+00:00">Dec 3, 2012 08:31 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1354566704">&nbsp;</a></div><pre>Hi, pilots are failing at your site on some worker nodes that cannot find the necessary grid certificates.  Could you please look into this when you get a chance?  Thanks.

=== Validation error in /usr/local/condor/execute/dir_10596/glide_Z10642/main/setup_x509.sh ===
Sun Dec 2 21&#58;02&#58;07 CST 2012 Error running &#39;/usr/local/condor/execute/dir_10596/glide_Z10642/main/setup_x509.sh&#39;
Could not find grid-certificates!
Looked in&#58;
$X509_CERT_DIR (/grid/wn-client/globus/share/certificates)
$HOME/.globus/certificates/ (/users/osg/.globus/certificates/)
/etc/grid-security/certificates/

gatekeeper=&#34;smuosg1.hpc.smu.edu&#58;2119/jobmanager-condor&#34;

cnode61.hpc.smu.edu
cnode65.hpc.smu.edu
cnode66.hpc.smu.edu
cnode67.hpc.smu.edu
cnode68.hpc.smu.edu
cwnode10.hpc.smu.edu
cwnode8.hpc.smu.edu
wnode22.hpc.smu.edu
wnode23.hpc.smu.edu

Best,
Alex Georges
UCSD Factory Operations

by /DC=org/DC=doegrids/OU=People/CN=Alexander Georges 435073</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F13096">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 13096});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
