<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[20246] problems with authentication through globus after new host certificate</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=20246" method="post">
<div class="page-header">
    <h3><span class="muted">20246</span> / problems with authentication through globus after new host certificate</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Irena Johnson</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Irena Johnson</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Follow Up</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-03-24</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/20246", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/20246?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/20246?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20problems%20with%20authentication%20through%20globus%20after%20new%20host%20certificate%20ISSUE%3D20246%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='20246#1395691385'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-24T20:03:05+00:00">Mar 24, 2014 08:03 PM UTC</time> by <b>echism</b><a class="anchor" name="1395691385">&nbsp;</a></div><pre>Irena,

If you want to put in a wide maintenance window and do an overhaul of these systems, we will be happy to help you along. I think it would be a good idea, with an eye on ease of future maintenance, but of course the decision is yours. I&#39;ll close this now that your cert is working, but please contact us again if you want to deploy up-to-date software.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395581654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-23T13:34:14+00:00">Mar 23, 2014 01:34 PM UTC</time> by <b>Kevin Hill</b><a class="anchor" name="1395581654">&nbsp;</a></div><pre>Manually created sha1 cert for now.</pre></div><div class='update_description'><i onclick="document.location='20246#1395439767'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T22:09:27+00:00">Mar 21, 2014 10:09 PM UTC</time><a class="anchor" name="1395439767">&nbsp;</a></div><pre>Dear All,

Let&#39;s continue troubleshooting this first thing on Monday.

Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395438190'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T21:43:10+00:00">Mar 21, 2014 09:43 PM UTC</time> by <b>echism</b><a class="anchor" name="1395438190">&nbsp;</a></div><pre>I&#39;m including the software team on this ticket.

Software team,

To sum up&#58;
This resource has an atypical setup where they&#39;re not using our packages for their gatekeeper, but have some of our components. They have an older version of openssl that isn&#39;t working with SHA2. Is there a document that details what you all had to do in order to make globus GK work with SHA2? I ultimately recommend that they use our packages, but in the meantime I&#39;m scrambling for a workaround because they&#39;re not in a position to deploy totally different software right this moment.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395437510'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T21:31:50+00:00">Mar 21, 2014 09:31 PM UTC</time><a class="anchor" name="1395437510">&nbsp;</a></div><pre>Elizabeth,

$ osg-version
OSG 3.1.10

We do not have a rpm for globus-gatekeeper. The globus service is through xinetd.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395437354'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T21:29:14+00:00">Mar 21, 2014 09:29 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1395437354">&nbsp;</a></div><pre>Irena,

What versions of OSG CE RPM packages are you using?

2014-03-21 21&#58;23&#58;34 UTC [hayashis@ce&#58;~]$ osg-version
OSG 3.1.25
2014-03-21 21&#58;28&#58;52 UTC [hayashis@ce&#58;~]$ rpm -q globus-gatekeeper
globus-gatekeeper-9.6-1.11.osg.el5.x86_64

etc..

?</pre></div><div class='update_description'><i onclick="document.location='20246#1395435843'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T21:04:03+00:00">Mar 21, 2014 09:04 PM UTC</time> by <b>echism</b><a class="anchor" name="1395435843">&nbsp;</a></div><pre>The support for SHA2 came in with 0.9.8o. I&#39;m looking for more info now.

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395435466'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:57:46+00:00">Mar 21, 2014 08:57 PM UTC</time><a class="anchor" name="1395435466">&nbsp;</a></div><pre>transpgrid1 # openssl version
OpenSSL 0.9.8e-fips-rhel5 01 Jul 2008

We do not have jglobus.

Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395435388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:56:28+00:00">Mar 21, 2014 08:56 PM UTC</time> by <b>echism</b><a class="anchor" name="1395435388">&nbsp;</a></div><pre>Did you ever answer Soichi&#39;s inquiry about openssl version? I am wondering if some of the software components, this and possibly jglobus, are so old that they aren&#39;t designed to work with SHA2.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395433020'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:17:00+00:00">Mar 21, 2014 08:17 PM UTC</time><a class="anchor" name="1395433020">&nbsp;</a></div><pre>This is the SN of the current host certificate that we are using&#58;

0676707DB4B12D2E3C9829A3D8F11CD4

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395432938'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:15:38+00:00">Mar 21, 2014 08:15 PM UTC</time><a class="anchor" name="1395432938">&nbsp;</a></div><pre>Alain,

Yes, this is correct.

--Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395432853'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:14:13+00:00">Mar 21, 2014 08:14 PM UTC</time> by <b>Kevin Hill</b><a class="anchor" name="1395432853">&nbsp;</a></div><pre>Hi Irena,
Is the right key in use? Not sure I can think of anything else simple to
check off the top of my head... I&#39;ll see what I can come up with though.

-kevin

On 3/21/14 3&#58;02 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20246#1395432522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:08:42+00:00">Mar 21, 2014 08:08 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1395432522">&nbsp;</a></div><pre>Irena,

The other 4 host certs that I see approved aren&#39;t being used correct?
Just the one host cert with the S/N ending in *11CD4.

-Alain</pre></div><div class='update_description'><i onclick="document.location='20246#1395432129'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T20:02:09+00:00">Mar 21, 2014 08:02 PM UTC</time> by <b>ijohnson@....</b><a class="anchor" name="1395432129">&nbsp;</a></div><pre>Hi Kevin,

The host certificate we are using is the latest one -- we generated it
after we got the latest CA distribution.

--irena

On Fri, Mar 21, 2014 at 3&#58;56 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20246#1395431769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T19:56:09+00:00">Mar 21, 2014 07:56 PM UTC</time> by <b>Kevin Hill</b><a class="anchor" name="1395431769">&nbsp;</a></div><pre>Hi,
Looks like five different certs have been issued for this host, and one
was revoked. Any chance they are using the one that was revoked? the one
I checked, I think the latest one, does look like it was signed correctly.

-kevin

On 3/21/14 2&#58;50 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20246#1395431424'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T19:50:24+00:00">Mar 21, 2014 07:50 PM UTC</time> by <b>Kevin Hill</b><a class="anchor" name="1395431424">&nbsp;</a></div><pre>Hi,
Is this a sha2 cert? was it one of the ones that got signed with the
wrong digicert CA cert? Do we have a copy of it? Maybe I should see if I
can look it up...

thanks,
-kevin

On 3/21/14 2&#58;39 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20246#1395430777'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T19:39:37+00:00">Mar 21, 2014 07:39 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1395430777">&nbsp;</a></div><pre>I just had a phone conversation with Irena and Keny(?). They&#39;ve installed osg-ca-certs under /etc/grid-security/certificate on transpgrid.pppl.gov with the latest CA distribution , and they&#39;ve rerun the same test they did yesterday
<font color='#7F7E6F'>&#62; openssl s_client -showcerts -cert /etc/grid-security/hostcert.pem -key /etc/grid-security/hostkey.pem -CApath /etc/grid-security/certificates/ -debug -connect transpgrid1.pppl.gov&#58;2119</font>
which failed again with the same error message.
<font color='#7F7E6F'>&#62; globus_gsi_gssapi&#58; Error during delegation&#58; Delegation protocol violation</font>

When they put the old sha1 certificate back, everything works again, but this certificate will expire tomorrow. I am wondering if the client globus connection will continue to work even with the transpgrid.pppl.gov host certificate expired, but it&#39;s unlikely.

Also, it&#39;s very difficult to troubleshoot this issue from GOC because  transpgrid.pppl.gov is only accessible via their VPN network. We need help from other experts, Alain, Kevin? to see why switching to the new host certificate causes the error message they are seeing.

That&#39;s all I have at the moment.</pre></div><div class='update_description'><i onclick="document.location='20246#1395426312'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T18:25:12+00:00">Mar 21, 2014 06:25 PM UTC</time><a class="anchor" name="1395426312">&nbsp;</a></div><pre>In the past, after generating the host certificate, we had asked the users to copy the following files to their site&#39;s /etc/grid-security/certificates folder.

2694e4f2.0 -&#62; DigiCertGridRootCA-Root.cer
2694e4f2.signing_policy -&#62; DigiCertGridRootCA-Root.signing_policy
DigiCertGridCA-1.cer
DigiCertGridCA-1.signing_policy
DigiCertGridRootCA-Root.cer
DigiCertGridRootCA-Root.signing_policy
c7a717ce.0 -&#62; DigiCertGridCA-1.cer
c7a717ce.signing_policy -&#62; DigiCertGridCA-1.signing_policy

However, these files have not been updated since last time when the host certificate was generated (back in Nov. 2013).

Could I give you a call so we can speed up a little ? Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395425850'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T18:17:30+00:00">Mar 21, 2014 06:17 PM UTC</time><a class="anchor" name="1395425850">&nbsp;</a></div><pre>Is there a command under the osg-ca-certs RPM that I should do to generate the host certificate? Thanks,

Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395424366'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T17:52:46+00:00">Mar 21, 2014 05:52 PM UTC</time><a class="anchor" name="1395424366">&nbsp;</a></div><pre>Would it be better if we spoke on the phone? Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395424310'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T17:51:50+00:00">Mar 21, 2014 05:51 PM UTC</time><a class="anchor" name="1395424310">&nbsp;</a></div><pre>On our transpgrid1 server we have a read only  files system. We used a different system to install the osg rpm packages. I generated the hostkey & hostcert on transpgrid with the openssl command. Should I have run this command on our system that has the osg packages?

There is a file /etc/grid-security/certificates/c7a717ce.0  that was probably generated with the sha1 encryption --- and I do not have a new one. Is there a way to generate this file? Do we need it?

Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395423721'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T17:42:01+00:00">Mar 21, 2014 05:42 PM UTC</time><a class="anchor" name="1395423721">&nbsp;</a></div><pre># diff /tmp/old.txt /tmp/new.txt
5,6c5,6
&#60;             03&#58;59&#58;63&#58;83&#58;4c&#58;f0&#58;29&#58;3d&#58;d9&#58;84&#58;ee&#58;45&#58;67&#58;23&#58;7d&#58;97
&#60;         Signature Algorithm&#58; sha1WithRSAEncryption
---
<font color='#7F7E6F'>&#62;             06&#58;76&#58;70&#58;7d&#58;b4&#58;b1&#58;2d&#58;2e&#58;3c&#58;98&#58;29&#58;a3&#58;d8&#58;f1&#58;1c&#58;d4</font>
<font color='#7F7E6F'>&#62;         Signature Algorithm&#58; sha256WithRSAEncryption</font>
9,10c9,10
&#60;             Not Before&#58; Feb 11 00&#58;00&#58;00 2013 GMT
&#60;             Not After &#58; Mar 22 12&#58;00&#58;00 2014 GMT
---
<font color='#7F7E6F'>&#62;             Not Before&#58; Mar 21 00&#58;00&#58;00 2014 GMT</font>
<font color='#7F7E6F'>&#62;             Not After &#58; Apr 26 12&#58;00&#58;00 2015 GMT</font>
16,33c16,33
&#60;                     00&#58;ba&#58;a3&#58;93&#58;d4&#58;e1&#58;18&#58;f9&#58;da&#58;c9&#58;ba&#58;03&#58;61&#58;f7&#58;7e&#58;
&#60;                     c1&#58;5e&#58;85&#58;8e&#58;03&#58;36&#58;6b&#58;53&#58;e5&#58;d6&#58;4f&#58;54&#58;2f&#58;5c&#58;a9&#58;
&#60;                     9b&#58;a9&#58;f3&#58;d8&#58;c6&#58;76&#58;96&#58;46&#58;b6&#58;40&#58;9c&#58;ed&#58;d3&#58;e3&#58;13&#58;
&#60;                     d5&#58;52&#58;f4&#58;55&#58;82&#58;fd&#58;19&#58;f7&#58;3e&#58;01&#58;2f&#58;e5&#58;32&#58;dc&#58;1f&#58;
&#60;                     2b&#58;f4&#58;8b&#58;38&#58;d6&#58;54&#58;7e&#58;ea&#58;b5&#58;16&#58;6e&#58;40&#58;65&#58;17&#58;97&#58;
&#60;                     ed&#58;23&#58;67&#58;af&#58;3a&#58;42&#58;65&#58;d5&#58;a7&#58;a8&#58;74&#58;30&#58;f6&#58;a5&#58;e3&#58;
&#60;                     9b&#58;34&#58;ba&#58;bf&#58;03&#58;6a&#58;55&#58;8c&#58;50&#58;13&#58;35&#58;e5&#58;1a&#58;04&#58;9f&#58;
&#60;                     26&#58;a5&#58;db&#58;78&#58;53&#58;08&#58;5e&#58;2e&#58;4b&#58;61&#58;d7&#58;45&#58;aa&#58;58&#58;7f&#58;
&#60;                     b5&#58;cd&#58;93&#58;38&#58;7b&#58;51&#58;59&#58;98&#58;32&#58;0d&#58;8d&#58;28&#58;9d&#58;80&#58;4d&#58;
&#60;                     73&#58;89&#58;71&#58;5f&#58;58&#58;68&#58;22&#58;9f&#58;04&#58;41&#58;fd&#58;c9&#58;6d&#58;28&#58;6c&#58;
&#60;                     6e&#58;54&#58;41&#58;69&#58;38&#58;9d&#58;fb&#58;b9&#58;93&#58;44&#58;79&#58;34&#58;f0&#58;ce&#58;c0&#58;
&#60;                     d5&#58;e7&#58;6e&#58;0d&#58;94&#58;1f&#58;ed&#58;cb&#58;17&#58;63&#58;ef&#58;76&#58;84&#58;48&#58;ed&#58;
&#60;                     67&#58;db&#58;b9&#58;97&#58;13&#58;be&#58;a1&#58;b8&#58;ed&#58;02&#58;26&#58;35&#58;8c&#58;5d&#58;00&#58;
&#60;                     8c&#58;02&#58;e0&#58;ae&#58;15&#58;c6&#58;94&#58;2e&#58;47&#58;4c&#58;11&#58;af&#58;7a&#58;16&#58;fa&#58;
&#60;                     95&#58;e8&#58;c8&#58;1a&#58;f8&#58;cb&#58;a2&#58;a0&#58;94&#58;06&#58;c7&#58;6a&#58;76&#58;48&#58;1f&#58;
&#60;                     a8&#58;cc&#58;24&#58;3a&#58;5b&#58;a3&#58;97&#58;64&#58;be&#58;69&#58;a0&#58;44&#58;3e&#58;cc&#58;9d&#58;
&#60;                     cb&#58;82&#58;0f&#58;b7&#58;b3&#58;1d&#58;ef&#58;c5&#58;da&#58;62&#58;6a&#58;2e&#58;b6&#58;56&#58;b0&#58;
&#60;                     de&#58;7f
---
<font color='#7F7E6F'>&#62;                     00&#58;d8&#58;cd&#58;d6&#58;fd&#58;a3&#58;5f&#58;4a&#58;1e&#58;45&#58;32&#58;24&#58;09&#58;93&#58;01&#58;</font>
<font color='#7F7E6F'>&#62;                     ca&#58;d7&#58;7a&#58;ba&#58;d5&#58;55&#58;09&#58;c5&#58;8b&#58;65&#58;ba&#58;eb&#58;4e&#58;ef&#58;fa&#58;</font>
<div id='show_249911776' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_249911776'><font color='#7F7E6F'>&#62;                     cc&#58;57&#58;0d&#58;fa&#58;b8&#58;0b&#58;57&#58;28&#58;03&#58;82&#58;6d&#58;f7&#58;01&#58;1a&#58;2d&#58;</font>
<font color='#7F7E6F'>&#62;                     99&#58;40&#58;33&#58;2f&#58;b4&#58;70&#58;6c&#58;65&#58;e2&#58;da&#58;ef&#58;14&#58;46&#58;36&#58;1a&#58;</font>
<font color='#7F7E6F'>&#62;                     2b&#58;d5&#58;88&#58;b8&#58;29&#58;e2&#58;37&#58;29&#58;f5&#58;cd&#58;2e&#58;fc&#58;27&#58;e5&#58;9c&#58;</font>
<font color='#7F7E6F'>&#62;                     16&#58;ad&#58;6d&#58;c6&#58;b3&#58;d3&#58;3d&#58;31&#58;ff&#58;8a&#58;67&#58;0f&#58;5d&#58;9e&#58;f3&#58;</font>
<font color='#7F7E6F'>&#62;                     66&#58;62&#58;0a&#58;e6&#58;25&#58;6a&#58;26&#58;51&#58;b8&#58;1b&#58;ac&#58;ee&#58;4b&#58;9c&#58;5a&#58;</font>
<font color='#7F7E6F'>&#62;                     5f&#58;73&#58;3c&#58;f0&#58;47&#58;b5&#58;44&#58;4e&#58;d1&#58;a0&#58;52&#58;ad&#58;26&#58;66&#58;2a&#58;</font>
<font color='#7F7E6F'>&#62;                     d8&#58;2e&#58;db&#58;1a&#58;77&#58;ba&#58;94&#58;c3&#58;34&#58;62&#58;a8&#58;ad&#58;e4&#58;7d&#58;f9&#58;</font>
<font color='#7F7E6F'>&#62;                     77&#58;23&#58;8b&#58;98&#58;2d&#58;7d&#58;01&#58;9a&#58;f3&#58;5f&#58;f0&#58;93&#58;3f&#58;21&#58;7e&#58;</font>
<font color='#7F7E6F'>&#62;                     56&#58;e2&#58;45&#58;2b&#58;b0&#58;20&#58;ab&#58;f5&#58;c9&#58;ee&#58;1c&#58;a0&#58;fc&#58;c0&#58;ef&#58;</font>
<font color='#7F7E6F'>&#62;                     28&#58;c0&#58;67&#58;fa&#58;98&#58;7d&#58;7c&#58;81&#58;c4&#58;5a&#58;e8&#58;83&#58;16&#58;1d&#58;c7&#58;</font>
<font color='#7F7E6F'>&#62;                     87&#58;6d&#58;0b&#58;26&#58;de&#58;61&#58;b0&#58;dc&#58;92&#58;d7&#58;13&#58;fa&#58;95&#58;ad&#58;0f&#58;</font>
<font color='#7F7E6F'>&#62;                     07&#58;f3&#58;80&#58;b6&#58;23&#58;5d&#58;be&#58;fc&#58;29&#58;64&#58;02&#58;b6&#58;51&#58;83&#58;cb&#58;</font>
<font color='#7F7E6F'>&#62;                     35&#58;1a&#58;c6&#58;71&#58;3b&#58;9f&#58;d4&#58;cc&#58;72&#58;f6&#58;d4&#58;a4&#58;c4&#58;0a&#58;f2&#58;</font>
<font color='#7F7E6F'>&#62;                     6f&#58;19&#58;33&#58;e0&#58;8c&#58;2b&#58;c8&#58;5d&#58;ba&#58;74&#58;a9&#58;26&#58;84&#58;1e&#58;7c&#58;</font>
<font color='#7F7E6F'>&#62;                     eb&#58;48&#58;c8&#58;77&#58;0e&#58;2c&#58;ea&#58;95&#58;a3&#58;93&#58;15&#58;15&#58;58&#58;9e&#58;90&#58;</font>
<font color='#7F7E6F'>&#62;                     d8&#58;9f</font>
40c40
&#60;                 E1&#58;FF&#58;AF&#58;46&#58;C6&#58;74&#58;2E&#58;F0&#58;6B&#58;D0&#58;6E&#58;2F&#58;59&#58;61&#58;D2&#58;9A&#58;F0&#58;66&#58;31&#58;8D
---
<font color='#7F7E6F'>&#62;                 A6&#58;FC&#58;D6&#58;33&#58;07&#58;44&#58;51&#58;ED&#58;0B&#58;65&#58;D0&#58;D0&#58;D6&#58;1F&#58;6A&#58;7F&#58;0F&#58;F5&#58;89&#58;3B</font>
62,77c62,77
&#60;     Signature Algorithm&#58; sha1WithRSAEncryption
&#60;         09&#58;65&#58;6b&#58;56&#58;c7&#58;37&#58;57&#58;6f&#58;23&#58;80&#58;f9&#58;54&#58;3c&#58;f0&#58;3f&#58;94&#58;82&#58;78&#58;
&#60;         5d&#58;4f&#58;a4&#58;70&#58;e5&#58;e4&#58;a0&#58;39&#58;ef&#58;22&#58;4e&#58;f7&#58;b9&#58;c5&#58;21&#58;ea&#58;b0&#58;e9&#58;
&#60;         36&#58;07&#58;ba&#58;d7&#58;0a&#58;d4&#58;52&#58;9e&#58;34&#58;39&#58;5f&#58;07&#58;2d&#58;18&#58;a0&#58;0f&#58;bb&#58;79&#58;
&#60;         bc&#58;06&#58;2c&#58;38&#58;2a&#58;0f&#58;22&#58;a1&#58;18&#58;a8&#58;aa&#58;8c&#58;4d&#58;5c&#58;57&#58;87&#58;bb&#58;4d&#58;
&#60;         0f&#58;44&#58;6a&#58;45&#58;77&#58;14&#58;78&#58;cb&#58;00&#58;a6&#58;ae&#58;ad&#58;6a&#58;5c&#58;34&#58;02&#58;fc&#58;70&#58;
&#60;         db&#58;06&#58;8c&#58;18&#58;b0&#58;20&#58;5f&#58;7d&#58;c7&#58;3c&#58;e7&#58;ab&#58;2c&#58;df&#58;2b&#58;29&#58;11&#58;95&#58;
&#60;         30&#58;8b&#58;98&#58;a8&#58;c4&#58;60&#58;58&#58;33&#58;e2&#58;3d&#58;11&#58;5c&#58;2e&#58;91&#58;ae&#58;87&#58;2e&#58;a6&#58;
&#60;         7d&#58;01&#58;fb&#58;26&#58;86&#58;31&#58;4a&#58;db&#58;f9&#58;6c&#58;16&#58;cd&#58;8b&#58;5e&#58;f9&#58;ce&#58;f8&#58;3d&#58;
&#60;         d7&#58;00&#58;83&#58;d5&#58;8a&#58;a5&#58;30&#58;ca&#58;ce&#58;0f&#58;eb&#58;a2&#58;07&#58;77&#58;b5&#58;d1&#58;72&#58;bf&#58;
&#60;         bf&#58;c2&#58;ab&#58;18&#58;27&#58;9d&#58;75&#58;18&#58;90&#58;88&#58;8d&#58;0c&#58;0e&#58;e1&#58;29&#58;71&#58;9d&#58;41&#58;
&#60;         12&#58;67&#58;d0&#58;b9&#58;3e&#58;8b&#58;f3&#58;71&#58;4b&#58;bb&#58;80&#58;62&#58;d9&#58;ff&#58;51&#58;4c&#58;63&#58;d5&#58;
&#60;         e9&#58;3a&#58;6d&#58;d0&#58;34&#58;29&#58;cf&#58;05&#58;fa&#58;a3&#58;88&#58;fa&#58;27&#58;e3&#58;3f&#58;32&#58;98&#58;85&#58;
&#60;         7f&#58;72&#58;bc&#58;ac&#58;37&#58;6a&#58;4e&#58;c2&#58;d9&#58;e8&#58;11&#58;3d&#58;10&#58;b3&#58;7f&#58;62&#58;8b&#58;ba&#58;
&#60;         b3&#58;eb&#58;88&#58;8a&#58;94&#58;f6&#58;7c&#58;ba&#58;15&#58;e8&#58;66&#58;3d&#58;47&#58;6f&#58;1e&#58;3c&#58;c3&#58;33&#58;
&#60;         ff&#58;fe&#58;f2&#58;fa
---
<font color='#7F7E6F'>&#62;     Signature Algorithm&#58; sha256WithRSAEncryption</font>
<font color='#7F7E6F'>&#62;         9f&#58;7e&#58;dd&#58;29&#58;13&#58;eb&#58;90&#58;fb&#58;b7&#58;d4&#58;0f&#58;39&#58;e6&#58;a2&#58;e1&#58;37&#58;90&#58;3c&#58;</font>
<font color='#7F7E6F'>&#62;         94&#58;0f&#58;e7&#58;5a&#58;97&#58;a4&#58;84&#58;b7&#58;3e&#58;b3&#58;7f&#58;9b&#58;6b&#58;19&#58;68&#58;b0&#58;e0&#58;a3&#58;</font>
<font color='#7F7E6F'>&#62;         b4&#58;db&#58;4b&#58;c8&#58;54&#58;7f&#58;52&#58;f0&#58;16&#58;13&#58;3d&#58;97&#58;5a&#58;17&#58;7a&#58;48&#58;dc&#58;6d&#58;</font>
<font color='#7F7E6F'>&#62;         9c&#58;bd&#58;b7&#58;75&#58;e1&#58;42&#58;d9&#58;ce&#58;52&#58;fc&#58;e8&#58;ea&#58;ee&#58;06&#58;9e&#58;4b&#58;fb&#58;59&#58;</font>
<font color='#7F7E6F'>&#62;         a8&#58;20&#58;ee&#58;55&#58;1f&#58;02&#58;69&#58;74&#58;99&#58;de&#58;e4&#58;3c&#58;df&#58;a6&#58;9e&#58;f4&#58;46&#58;60&#58;</font>
<font color='#7F7E6F'>&#62;         6e&#58;34&#58;66&#58;21&#58;4d&#58;d8&#58;21&#58;1f&#58;aa&#58;db&#58;e0&#58;6f&#58;39&#58;ef&#58;6d&#58;8a&#58;13&#58;98&#58;</font>
<font color='#7F7E6F'>&#62;         d3&#58;80&#58;0a&#58;f2&#58;69&#58;b5&#58;19&#58;80&#58;ce&#58;6f&#58;8e&#58;6f&#58;a3&#58;87&#58;25&#58;00&#58;af&#58;87&#58;</font>
<font color='#7F7E6F'>&#62;         ba&#58;a8&#58;84&#58;50&#58;c8&#58;7b&#58;86&#58;57&#58;09&#58;49&#58;0f&#58;b9&#58;1d&#58;9a&#58;7e&#58;c1&#58;7f&#58;df&#58;</font>
<font color='#7F7E6F'>&#62;         87&#58;2b&#58;da&#58;1d&#58;4f&#58;82&#58;9d&#58;8f&#58;dd&#58;fa&#58;01&#58;56&#58;fb&#58;dc&#58;05&#58;d5&#58;ed&#58;50&#58;</font>
<font color='#7F7E6F'>&#62;         bd&#58;da&#58;19&#58;c5&#58;dd&#58;ac&#58;ad&#58;26&#58;5f&#58;5b&#58;e6&#58;a1&#58;bb&#58;d2&#58;62&#58;ff&#58;53&#58;6b&#58;</font>
<font color='#7F7E6F'>&#62;         a1&#58;b7&#58;d8&#58;5f&#58;de&#58;db&#58;36&#58;c9&#58;3f&#58;55&#58;77&#58;1f&#58;69&#58;5d&#58;57&#58;9e&#58;cb&#58;ee&#58;</font>
<font color='#7F7E6F'>&#62;         bf&#58;f4&#58;50&#58;85&#58;27&#58;f5&#58;86&#58;13&#58;27&#58;46&#58;24&#58;da&#58;d3&#58;af&#58;ec&#58;51&#58;76&#58;6a&#58;</font>
<font color='#7F7E6F'>&#62;         a2&#58;69&#58;e6&#58;b1&#58;9a&#58;a0&#58;59&#58;d9&#58;d0&#58;f3&#58;54&#58;ea&#58;a9&#58;cb&#58;d0&#58;92&#58;c8&#58;83&#58;</font>
<font color='#7F7E6F'>&#62;         82&#58;a4&#58;20&#58;08&#58;7d&#58;2f&#58;3e&#58;b1&#58;15&#58;42&#58;bd&#58;25&#58;4f&#58;e4&#58;07&#58;d9&#58;86&#58;7a&#58;</font>
<font color='#7F7E6F'>&#62;         a4&#58;b7&#58;02&#58;d3</font>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116
</div><script type='text/javascript'>
        $('#show_249911776').click(function() {
            $('#detail_249911776').slideDown("normal");
            $('#show_249911776').hide();
            $('#hide_249911776').show();
        });
        $('#hide_249911776').click(function() {
            $('#detail_249911776').slideUp();
            $('#hide_249911776').hide();
            $('#show_249911776').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20246#1395422983'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T17:29:43+00:00">Mar 21, 2014 05:29 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1395422983">&nbsp;</a></div><pre>I believe Elizabeth sent you those files just to see if the missing CA files are causing the issue or not, but you should install them via &#34;yum install osg-ca-certs&#34; or such in the long term. Please see <a href='https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallComputeElement#3_3_Certificates' target='_blank' rel='nofollow'>https&#58;//twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallComputeElement#3_3_Certificates</a>

Yes, you can run openssl command to dump your certificate and use &#34;diff&#34; command to see what&#39;s different between your old and new host certificate.
<font color='#7F7E6F'>&#62; openssl x509 -in hostcert.pem.old -noout -text &#62; old.txt</font>
<font color='#7F7E6F'>&#62; openssl x509 -in hostcert.pem -noout -text &#62; new.txt</font>
<font color='#7F7E6F'>&#62; diff old.txt new.txt</font>

Soichi</pre></div><div class='update_description'><i onclick="document.location='20246#1395421543'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T17:05:43+00:00">Mar 21, 2014 05:05 PM UTC</time><a class="anchor" name="1395421543">&nbsp;</a></div><pre>Hi,

Elizabeth sent me a tar file that contained *.info *.namespaces *.crl_url that I didn&#39;t have. So here it is what I have now&#58;

# ls -l /etc/grid-security/certificates/
total 60
-rw-r--r--+ 1 root root 1610 Oct 10  2012 1c3f2ca8.0
-rw-r--r--+ 1 root root 1436 May 19  2011 1c3f2ca8.0-10102012
lrwxrwxrwx  1 root root   10 Oct 25 12&#58;43 1c3f2ca8.pem -&#62; 1c3f2ca8.0
-rw-r--r--+ 1 root root 2201 May 19  2011 1c3f2ca8.signing_policy
-rw-r--r--+ 1 root root 1367 Oct  2  2012 2694e4f2.0
-rw-r--r--+ 1 root root 1367 Oct  2  2012 2694e4f2.pem
-rw-r--r--+ 1 root root  243 Oct  2  2012 2694e4f2.signing_policy
-rw-r--r--+ 1 root root 1424 May 19  2011 304672b7.0
lrwxrwxrwx  1 root root   10 Oct 25 12&#58;43 304672b7.pem -&#62; 304672b7.0
-rw-r--r--+ 1 root root 1447 May 19  2011 304672b7.signing_policy
lrwxrwxrwx  1 root root   26 Oct 25 12&#58;43 6ecf4ebc.0 -&#62; DigiCertGridTESTRootCA.cer
lrwxrwxrwx  1 root root   26 Oct 25 12&#58;43 6ecf4ebc.pem -&#62; DigiCertGridTESTRootCA.cer
lrwxrwxrwx  1 root root   37 Oct 25 12&#58;43 6ecf4ebc.signing_policy -&#62; DigiCertGridTESTRootCA.signing_policy
lrwxrwxrwx  1 root root   24 Oct 25 12&#58;43 9763ce9e.0 -&#62; DigiCertGridTESTCA-1.cer
lrwxrwxrwx  1 root root   24 Oct 25 12&#58;43 9763ce9e.pem -&#62; DigiCertGridTESTCA-1.cer
lrwxrwxrwx  1 root root   35 Oct 25 12&#58;43 9763ce9e.signing_policy -&#62; DigiCertGridTESTCA-1.signing_policy
-rw-r--r--+ 1 root root 1700 Nov  7  2012 c7a717ce.0
-rw-r--r--+ 1 root root 1700 Nov  7  2012 c7a717ce.pem
-rw-r--r--+ 1 root root  254 Nov  7  2012 c7a717ce.signing_policy
-rw-r--r--+ 1 root root 1448 May 19  2011 d1b603c3.0
lrwxrwxrwx  1 root root   10 Oct 25 12&#58;43 d1b603c3.pem -&#62; d1b603c3.0
-rw-r--r--+ 1 root root 2123 May 19  2011 d1b603c3.signing_policy
-rw-r--r--+ 1 root root  106 Jan 29 12&#58;03 DigiCertAssuredIDRootCA-Root.crl_url
-rw-r--r--+ 1 root root  497 Jan 29 12&#58;03 DigiCertAssuredIDRootCA-Root.info
-rw-r--r--+ 1 root root  543 Jan 29 12&#58;03 DigiCertAssuredIDRootCA-Root.namespaces
-rw-r--r--+ 1 root root   92 Jan 29 12&#58;03 DigiCertGridCA-1-Classic.crl_url
-rw-r--r--+ 1 root root  498 Jan 29 12&#58;03 DigiCertGridCA-1-Classic.info
-rw-r--r--+ 1 root root  750 Jan 29 12&#58;03 DigiCertGridCA-1-Classic.namespaces
-rw-r--r--+ 1 root root 1700 Nov  7  2012 DigiCertGridCA-1.pem
<div id='show_1807951227' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1807951227'>-rw-r--r--+ 1 root root  254 Nov  7  2012 DigiCertGridCA-1.signing_policy
-rw-r--r--+ 1 root root   96 Jan 29 12&#58;03 DigiCertGridRootCA-Root.crl_url
-rw-r--r--+ 1 root root  471 Jan 29 12&#58;03 DigiCertGridRootCA-Root.info
-rw-r--r--+ 1 root root  521 Jan 29 12&#58;03 DigiCertGridRootCA-Root.namespaces
-rw-r--r--+ 1 root root 1367 Oct  2  2012 DigiCertGridRootCA-Root.pem
-rw-r--r--+ 1 root root  243 Oct  2  2012 DigiCertGridRootCA-Root.signing_policy
-rw-r--r--+ 1 root root 1786 Oct 18  2012 DigiCertGridTESTCA-1.cer
-rw-r--r--+ 1 root root  213 Oct 18  2012 DigiCertGridTESTCA-1.signing_policy
-rw-r--r--+ 1 root root 1406 Oct 18  2012 DigiCertGridTESTRootCA.cer
-rw-r--r--+ 1 root root  257 Oct 18  2012 DigiCertGridTESTRootCA.signing_policy
-rw-r--r--+ 1 root root   98 Jan 29 12&#58;03 DigiCertGridTrustCA-Classic.crl_url
-rw-r--r--+ 1 root root  521 Jan 29 12&#58;03 DigiCertGridTrustCA-Classic.info
-rw-r--r--+ 1 root root  778 Jan 29 12&#58;03 DigiCertGridTrustCA-Classic.namespaces

Could you please let me know which command to run to get the info from the old/new host certificate (openssl x509 -text in hostcert.pem  ??)

Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116
</div><script type='text/javascript'>
        $('#show_1807951227').click(function() {
            $('#detail_1807951227').slideDown("normal");
            $('#show_1807951227').hide();
            $('#hide_1807951227').show();
        });
        $('#hide_1807951227').click(function() {
            $('#detail_1807951227').slideUp();
            $('#hide_1807951227').hide();
            $('#show_1807951227').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20246#1395420777'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T16:52:57+00:00">Mar 21, 2014 04:52 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1395420777">&nbsp;</a></div><pre>Ok, that&#39;s good. Thanks!

So, in your CE, you have a physical host called transpgrid1.pppl.gov and transpgrid.pppl.gov is an alias to grid1. And users are supposed to connect via transpgrid.pppl.gov and not transpgrid1.pppl.gov?  Since you are using an aliased hostname, I am wondering if you&#39;ve used SAN attribute to request your old certificate? I am not sure if you have to have both hostnames listed in the SAN.

Can you compare the openssl x509 dump between your old and new host certificates and see if you see any significant differences? (especially on X509v3 Subject Alternative Name&#58;)

For the list of CAs under your /etc/grid-security/certificate, it looks like you didn&#39;t install the standard OSG CA RPMs (like osg-ca-certs or igtf-ca-certs). Is there any reason for that? Also, what do you mean by &#34;we have a separate system where the osg packet has been installed.&#34; We need to know what CA certificates are installed on your CE / gatekeeper (transpgrid1.pppl.gov).</pre></div><div class='update_description'><i onclick="document.location='20246#1395419654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T16:34:14+00:00">Mar 21, 2014 04:34 PM UTC</time><a class="anchor" name="1395419654">&nbsp;</a></div><pre>Hi,

We figured out why we got the error while trying to generate a new certificate (we had a module globus loaded and it might have changed the path to the openssl.cnf). After I unloaded this module, I was able to generate a new host certificate. We are trying now to see if it is working.

Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395419434'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T16:30:34+00:00">Mar 21, 2014 04:30 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1395419434">&nbsp;</a></div><pre>Hi. I am trying to help with this issue.

By quickly skimming through this ticket., it seems that Irena is having trouble generating a valid CSR to request for new host certificate.

<font color='#7F7E6F'>&#62; this is a new error I am getting&#58;</font>
<font color='#7F7E6F'>&#62; # umask 077; openssl req -new -newkey rsa&#58;2048 -nodes -keyout hostkey_test1.pem -subj &#34;/CN=transpgrid1.pppl.gov&#34;</font>
<font color='#7F7E6F'>&#62; Unable to load config info</font>

Is this where the issue is at the moment? If so, can you post output you see when you run..
$ openssl version

Thanks,
Soichi</pre></div><div class='update_description'><i onclick="document.location='20246#1395416866'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:47:46+00:00">Mar 21, 2014 03:47 PM UTC</time><a class="anchor" name="1395416866">&nbsp;</a></div><pre>Elizabeth,

we have a separate system where the osg packet has been installed. This is what we have &#58;

$ ls -l /etc/grid-security/certificates/Digi*
-rw-r--r-- 1 root root 1700 Nov  7  2012 /etc/grid-security/certificates/DigiCertGridCA-1.pem
-rw-r--r-- 1 root root  254 Nov  7  2012 /etc/grid-security/certificates/DigiCertGridCA-1.signing_policy
-rw-r--r-- 1 root root   96 Oct  2  2012 /etc/grid-security/certificates/DigiCertGridRootCA-Root.crl_url
-rw-r--r-- 1 root root  471 Oct  2  2012 /etc/grid-security/certificates/DigiCertGridRootCA-Root.info
-rw-r--r-- 1 root root 1367 Oct  2  2012 /etc/grid-security/certificates/DigiCertGridRootCA-Root.pem
-rw-r--r-- 1 root root  243 Oct  2  2012 /etc/grid-security/certificates/DigiCertGridRootCA-Root.signing_policy
-rw-r--r-- 1 root root 1786 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTCA-1.cer
-rw-r--r-- 1 root root  213 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTCA-1.signing_policy
-rw-r--r-- 1 root root 1406 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTRootCA.cer
-rw-r--r-- 1 root root  257 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTRootCA.signing_policy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395416661'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:44:21+00:00">Mar 21, 2014 03:44 PM UTC</time><a class="anchor" name="1395416661">&nbsp;</a></div><pre>ELizabeth, these are all the files under /etc/grid-security/certificates&#58;

# ls -l /etc/grid-security/certificates/
total 45
-rw-r--r--+ 1 root root 1610 Oct 10  2012 1c3f2ca8.0
-rw-r--r--+ 1 root root 1436 May 19  2011 1c3f2ca8.0-10102012
lrwxrwxrwx  1 root root   10 Oct 25 12&#58;43 1c3f2ca8.pem -&#62; 1c3f2ca8.0
-rw-r--r--+ 1 root root 2201 May 19  2011 1c3f2ca8.signing_policy
-rw-r--r--+ 1 root root 1367 Oct  2  2012 2694e4f2.0
-rw-r--r--+ 1 root root 1367 Oct  2  2012 2694e4f2.pem
-rw-r--r--+ 1 root root  243 Oct  2  2012 2694e4f2.signing_policy
-rw-r--r--+ 1 root root 1424 May 19  2011 304672b7.0
lrwxrwxrwx  1 root root   10 Oct 25 12&#58;43 304672b7.pem -&#62; 304672b7.0
-rw-r--r--+ 1 root root 1447 May 19  2011 304672b7.signing_policy
lrwxrwxrwx  1 root root   26 Oct 25 12&#58;43 6ecf4ebc.0 -&#62; DigiCertGridTESTRootCA.cer
lrwxrwxrwx  1 root root   26 Oct 25 12&#58;43 6ecf4ebc.pem -&#62; DigiCertGridTESTRootCA.cer
lrwxrwxrwx  1 root root   37 Oct 25 12&#58;43 6ecf4ebc.signing_policy -&#62; DigiCertGridTESTRootCA.signing_policy
lrwxrwxrwx  1 root root   24 Oct 25 12&#58;43 9763ce9e.0 -&#62; DigiCertGridTESTCA-1.cer
lrwxrwxrwx  1 root root   24 Oct 25 12&#58;43 9763ce9e.pem -&#62; DigiCertGridTESTCA-1.cer
lrwxrwxrwx  1 root root   35 Oct 25 12&#58;43 9763ce9e.signing_policy -&#62; DigiCertGridTESTCA-1.signing_policy
-rw-r--r--+ 1 root root 1700 Nov  7  2012 c7a717ce.0
-rw-r--r--+ 1 root root 1700 Nov  7  2012 c7a717ce.pem
-rw-r--r--+ 1 root root  254 Nov  7  2012 c7a717ce.signing_policy
-rw-r--r--+ 1 root root 1448 May 19  2011 d1b603c3.0
lrwxrwxrwx  1 root root   10 Oct 25 12&#58;43 d1b603c3.pem -&#62; d1b603c3.0
-rw-r--r--+ 1 root root 2123 May 19  2011 d1b603c3.signing_policy
-rw-r--r--+ 1 root root 1700 Nov  7  2012 DigiCertGridCA-1.pem
-rw-r--r--+ 1 root root  254 Nov  7  2012 DigiCertGridCA-1.signing_policy
-rw-r--r--+ 1 root root 1367 Oct  2  2012 DigiCertGridRootCA-Root.pem
-rw-r--r--+ 1 root root  243 Oct  2  2012 DigiCertGridRootCA-Root.signing_policy
-rw-r--r--+ 1 root root 1786 Oct 18  2012 DigiCertGridTESTCA-1.cer
-rw-r--r--+ 1 root root  213 Oct 18  2012 DigiCertGridTESTCA-1.signing_policy
-rw-r--r--+ 1 root root 1406 Oct 18  2012 DigiCertGridTESTRootCA.cer
-rw-r--r--+ 1 root root  257 Oct 18  2012 DigiCertGridTESTRootCA.signing_policy

<div id='show_1831021260' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1831021260'>by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116
</div><script type='text/javascript'>
        $('#show_1831021260').click(function() {
            $('#detail_1831021260').slideDown("normal");
            $('#show_1831021260').hide();
            $('#hide_1831021260').show();
        });
        $('#hide_1831021260').click(function() {
            $('#detail_1831021260').slideUp();
            $('#hide_1831021260').hide();
            $('#show_1831021260').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20246#1395416576'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:42:56+00:00">Mar 21, 2014 03:42 PM UTC</time> by <b>echism</b><a class="anchor" name="1395416576">&nbsp;</a></div><pre>Elizabeth,

ls -al /etc/grid-security/certificates/Digi*
-rw-r--r-- 1 root root  106 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertAssuredIDRootCA-Root.crl_url
-rw-r--r-- 1 root root  497 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertAssuredIDRootCA-Root.info
-rw-r--r-- 1 root root  543 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertAssuredIDRootCA-Root.namespaces
-rw-r--r-- 1 root root 1350 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertAssuredIDRootCA-Root.pem
-rw-r--r-- 1 root root  281 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertAssuredIDRootCA-Root.signing_policy
-rw-r--r-- 1 root root   92 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridCA-1-Classic.crl_url
-rw-r--r-- 1 root root  498 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridCA-1-Classic.info
-rw-r--r-- 1 root root  750 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridCA-1-Classic.namespaces
-rw-r--r-- 1 root root 1700 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridCA-1-Classic.pem
-rw-r--r-- 1 root root  254 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridCA-1-Classic.signing_policy
-rw-r--r-- 1 root root   96 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridRootCA-Root.crl_url
-rw-r--r-- 1 root root  471 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridRootCA-Root.info
-rw-r--r-- 1 root root  521 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridRootCA-Root.namespaces
-rw-r--r-- 1 root root 1367 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridRootCA-Root.pem
-rw-r--r-- 1 root root  243 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridRootCA-Root.signing_policy
-rw-r--r-- 1 root root   98 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridTrustCA-Classic.crl_url
-rw-r--r-- 1 root root  521 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridTrustCA-Classic.info
-rw-r--r-- 1 root root  778 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridTrustCA-Classic.namespaces
-rw-r--r-- 1 root root 2317 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridTrustCA-Classic.pem
-rw-r--r-- 1 root root  263 Jan 29 17&#58;03 /etc/grid-security/certificates/DigiCertGridTrustCA-Classic.signing_policy

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395416256'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:37:36+00:00">Mar 21, 2014 03:37 PM UTC</time><a class="anchor" name="1395416256">&nbsp;</a></div><pre>Elizabeth,

this is a new error I am getting&#58;

# umask 077; openssl req -new -newkey rsa&#58;2048 -nodes -keyout hostkey_test1.pem -subj &#34;/CN=transpgrid1.pppl.gov&#34;
Unable to load config info
Generating a 2048 bit RSA private key
......................................+++
.................................................................................+++
unable to write &#39;random state&#39;
writing new private key to &#39;hostkey_test1.pem&#39;
-----
unable to find &#39;distinguished_name&#39; in config
problems making Certificate Request
17339&#58;error&#58;0E06D06A&#58;configuration file routines&#58;NCONF_get_string&#58;no conf or environment variable&#58;conf_lib.c&#58;325&#58;

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395416226'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:37:06+00:00">Mar 21, 2014 03:37 PM UTC</time><a class="anchor" name="1395416226">&nbsp;</a></div><pre>umask 077; openssl req -new -newkey rsa&#58;2048 -nodes -keyout hostkey_transpgrid1_OSG_March2014.pem -subj &#34;/CN=transpgrid1.pppl.gov&#34;

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395414971'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:16:11+00:00">Mar 21, 2014 03:16 PM UTC</time> by <b>echism</b><a class="anchor" name="1395414971">&nbsp;</a></div><pre>Irena,

Yes, the number for the GOC is 317-278-9699. Please ask for me specifically.

It seems like your CRLs are missing unless you keep them elsewhere, I&#39;ll wait for your call to follow up on that.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395414502'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:08:22+00:00">Mar 21, 2014 03:08 PM UTC</time><a class="anchor" name="1395414502">&nbsp;</a></div><pre>Elizabeth, is there a phone number where we could talk?

Here is the output&#58;

# ls -l /etc/grid-security/certificates/Digi*
-rw-r--r--+ 1 root root 1700 Nov  7  2012 /etc/grid-security/certificates/DigiCertGridCA-1.pem
-rw-r--r--+ 1 root root  254 Nov  7  2012 /etc/grid-security/certificates/DigiCertGridCA-1.signing_policy
-rw-r--r--+ 1 root root 1367 Oct  2  2012 /etc/grid-security/certificates/DigiCertGridRootCA-Root.pem
-rw-r--r--+ 1 root root  243 Oct  2  2012 /etc/grid-security/certificates/DigiCertGridRootCA-Root.signing_policy
-rw-r--r--+ 1 root root 1786 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTCA-1.cer
-rw-r--r--+ 1 root root  213 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTCA-1.signing_policy
-rw-r--r--+ 1 root root 1406 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTRootCA.cer
-rw-r--r--+ 1 root root  257 Oct 18  2012 /etc/grid-security/certificates/DigiCertGridTESTRootCA.signing_policy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395414377'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T15:06:17+00:00">Mar 21, 2014 03:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1395414377">&nbsp;</a></div><pre>Irena,

Can you give me the output of ls -al /etc/grid-security/certificates/Digi* ?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395410981'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T14:09:41+00:00">Mar 21, 2014 02:09 PM UTC</time><a class="anchor" name="1395410981">&nbsp;</a></div><pre>Elizabeth,

here it is &#58;

# openssl x509 -text -noout -in hostcert_transpgrid1_OSG_2014_March.pem
Certificate&#58;
Data&#58;
Version&#58; 3 (0x2)
Serial Number&#58;
01&#58;20&#58;d2&#58;81&#58;1e&#58;6a&#58;50&#58;86&#58;25&#58;c4&#58;1e&#58;b5&#58;be&#58;69&#58;1a&#58;4e
Signature Algorithm&#58; sha256WithRSAEncryption
Issuer&#58; DC=com, DC=DigiCert-Grid, O=DigiCert Grid, CN=DigiCert Grid CA-1
Validity
Not Before&#58; Mar 19 00&#58;00&#58;00 2014 GMT
Not After &#58; Apr 24 12&#58;00&#58;00 2015 GMT
Subject&#58; DC=com, DC=DigiCert-Grid, O=Open Science Grid, OU=Services, CN=transpgrid1.pppl.gov
Subject Public Key Info&#58;
Public Key Algorithm&#58; rsaEncryption
RSA Public Key&#58; (2048 bit)
Modulus (2048 bit)&#58;
00&#58;c8&#58;21&#58;f7&#58;22&#58;d8&#58;c5&#58;75&#58;f2&#58;c2&#58;b0&#58;8f&#58;60&#58;1b&#58;a4&#58;
a9&#58;f8&#58;bb&#58;26&#58;fd&#58;29&#58;4d&#58;70&#58;39&#58;e9&#58;7d&#58;f9&#58;dc&#58;24&#58;f6&#58;
29&#58;69&#58;8c&#58;b6&#58;65&#58;a2&#58;a3&#58;c6&#58;49&#58;2a&#58;9c&#58;ea&#58;7e&#58;61&#58;67&#58;
bf&#58;4e&#58;79&#58;1f&#58;22&#58;b2&#58;15&#58;1a&#58;89&#58;20&#58;fe&#58;dc&#58;f4&#58;c1&#58;bb&#58;
e6&#58;16&#58;42&#58;bd&#58;71&#58;fb&#58;01&#58;d1&#58;3e&#58;d5&#58;1a&#58;25&#58;84&#58;a8&#58;44&#58;
bc&#58;1e&#58;48&#58;27&#58;7b&#58;f0&#58;a8&#58;1f&#58;95&#58;4d&#58;55&#58;da&#58;0d&#58;58&#58;02&#58;
47&#58;9b&#58;91&#58;00&#58;2e&#58;96&#58;b0&#58;d6&#58;d8&#58;db&#58;bc&#58;56&#58;6e&#58;98&#58;43&#58;
23&#58;50&#58;a4&#58;27&#58;df&#58;da&#58;6b&#58;5c&#58;1a&#58;12&#58;7f&#58;32&#58;15&#58;63&#58;13&#58;
9d&#58;f7&#58;91&#58;96&#58;df&#58;2b&#58;a9&#58;ae&#58;62&#58;c4&#58;8d&#58;97&#58;47&#58;5d&#58;33&#58;
73&#58;bd&#58;ed&#58;b7&#58;90&#58;8f&#58;da&#58;88&#58;5f&#58;76&#58;3f&#58;fc&#58;4e&#58;4f&#58;54&#58;
6c&#58;70&#58;81&#58;9c&#58;07&#58;00&#58;df&#58;36&#58;1a&#58;a8&#58;b4&#58;99&#58;c4&#58;99&#58;b3&#58;
88&#58;da&#58;6e&#58;1c&#58;22&#58;14&#58;30&#58;20&#58;fe&#58;91&#58;27&#58;74&#58;f3&#58;1b&#58;44&#58;
00&#58;e7&#58;53&#58;e3&#58;83&#58;26&#58;f9&#58;38&#58;d5&#58;3d&#58;e0&#58;e9&#58;8f&#58;56&#58;cd&#58;
75&#58;df&#58;61&#58;04&#58;d4&#58;b9&#58;be&#58;b7&#58;e9&#58;50&#58;eb&#58;56&#58;38&#58;a5&#58;3f&#58;
8e&#58;be&#58;40&#58;3a&#58;bd&#58;dd&#58;ac&#58;5c&#58;a6&#58;ce&#58;9f&#58;3a&#58;a5&#58;ba&#58;61&#58;
<div id='show_2013945403' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2013945403'>24&#58;b5&#58;64&#58;2c&#58;ac&#58;ae&#58;f2&#58;a3&#58;7e&#58;86&#58;63&#58;48&#58;0a&#58;75&#58;2c&#58;
2d&#58;a1&#58;75&#58;6f&#58;0c&#58;c8&#58;c7&#58;fa&#58;3a&#58;d9&#58;a8&#58;d3&#58;fc&#58;8e&#58;5b&#58;
a5&#58;ef
Exponent&#58; 65537 (0x10001)
X509v3 extensions&#58;
X509v3 Authority Key Identifier&#58;
keyid&#58;EF&#58;B0&#58;75&#58;9D&#58;68&#58;31&#58;D1&#58;E4&#58;F7&#58;2A&#58;89&#58;82&#58;53&#58;9D&#58;39&#58;77&#58;68&#58;2E&#58;20&#58;51

X509v3 Subject Key Identifier&#58;
CA&#58;8F&#58;A1&#58;7D&#58;71&#58;AE&#58;D4&#58;BE&#58;E7&#58;D8&#58;A5&#58;D0&#58;11&#58;75&#58;F4&#58;79&#58;48&#58;CC&#58;B3&#58;6F
X509v3 Subject Alternative Name&#58;
DNS&#58;transpgrid1.pppl.gov
X509v3 Key Usage&#58; critical
Digital Signature, Key Encipherment, Data Encipherment
X509v3 Extended Key Usage&#58;
TLS Web Server Authentication, TLS Web Client Authentication
X509v3 CRL Distribution Points&#58;
URI&#58;<a href='http&#58;//crl3.digicert.com/DigiCertGridCA-1.crl' target='_blank' rel='nofollow'>http&#58;//crl3.digicert.com/DigiCertGridCA-1.crl</a>
URI&#58;<a href='http&#58;//crl4.digicert.com/DigiCertGridCA-1.crl' target='_blank' rel='nofollow'>http&#58;//crl4.digicert.com/DigiCertGridCA-1.crl</a>

X509v3 Certificate Policies&#58;
Policy&#58; 1.2.840.113612.5.2.2.1
Policy&#58; 2.16.840.1.114412.31.1.1.1
Policy&#58; 1.2.840.113612.5.2.3.3.2

Authority Information Access&#58;
OCSP - URI&#58;<a href='http&#58;//ocsp.digicert.com' target='_blank' rel='nofollow'>http&#58;//ocsp.digicert.com</a>
CA Issuers - URI&#58;<a href='http&#58;//cacerts.digicert.com/DigiCertGridCA-1.crt' target='_blank' rel='nofollow'>http&#58;//cacerts.digicert.com/DigiCertGridCA-1.crt</a>

X509v3 Basic Constraints&#58; critical
CA&#58;FALSE
Signature Algorithm&#58; sha256WithRSAEncryption
07&#58;ae&#58;77&#58;18&#58;f9&#58;35&#58;7f&#58;d7&#58;e6&#58;fb&#58;1d&#58;58&#58;61&#58;b7&#58;72&#58;71&#58;78&#58;6c&#58;
c2&#58;1f&#58;e6&#58;b5&#58;bc&#58;07&#58;27&#58;45&#58;41&#58;c4&#58;87&#58;cd&#58;72&#58;1f&#58;39&#58;62&#58;62&#58;ef&#58;
b2&#58;87&#58;e1&#58;4b&#58;84&#58;33&#58;8e&#58;1b&#58;10&#58;9d&#58;ad&#58;39&#58;12&#58;96&#58;4a&#58;f1&#58;24&#58;7d&#58;
09&#58;10&#58;4f&#58;71&#58;1f&#58;84&#58;24&#58;71&#58;8e&#58;2c&#58;ec&#58;9c&#58;ef&#58;1d&#58;53&#58;05&#58;6e&#58;43&#58;
a1&#58;16&#58;bb&#58;cd&#58;5d&#58;9f&#58;79&#58;65&#58;e6&#58;1a&#58;dd&#58;c2&#58;3c&#58;48&#58;30&#58;9f&#58;b5&#58;76&#58;
1c&#58;a2&#58;5a&#58;6d&#58;ac&#58;e8&#58;cb&#58;4b&#58;da&#58;25&#58;54&#58;33&#58;c0&#58;21&#58;86&#58;c7&#58;37&#58;ed&#58;
c3&#58;a4&#58;43&#58;da&#58;6d&#58;ba&#58;cd&#58;c5&#58;54&#58;78&#58;32&#58;8e&#58;d4&#58;c6&#58;d3&#58;ca&#58;d4&#58;29&#58;
70&#58;9c&#58;37&#58;93&#58;6d&#58;1f&#58;2b&#58;76&#58;a3&#58;26&#58;3a&#58;45&#58;54&#58;dc&#58;db&#58;30&#58;31&#58;2c&#58;
01&#58;b7&#58;5a&#58;45&#58;74&#58;90&#58;9c&#58;03&#58;f3&#58;e2&#58;26&#58;48&#58;6a&#58;f0&#58;71&#58;b0&#58;94&#58;bd&#58;
9c&#58;37&#58;bf&#58;3b&#58;e8&#58;7a&#58;e3&#58;de&#58;b6&#58;3b&#58;b8&#58;c1&#58;d8&#58;7b&#58;83&#58;d7&#58;ab&#58;e3&#58;
17&#58;1b&#58;b1&#58;8c&#58;8d&#58;97&#58;07&#58;e5&#58;d2&#58;d2&#58;3c&#58;b3&#58;f8&#58;a8&#58;ee&#58;af&#58;3c&#58;95&#58;
56&#58;19&#58;78&#58;45&#58;91&#58;0d&#58;ba&#58;8a&#58;ea&#58;ff&#58;e9&#58;b7&#58;db&#58;89&#58;73&#58;41&#58;b0&#58;e1&#58;
52&#58;c0&#58;62&#58;2d&#58;55&#58;63&#58;91&#58;60&#58;c9&#58;e7&#58;e3&#58;d7&#58;c4&#58;11&#58;e5&#58;93&#58;e3&#58;93&#58;
25&#58;09&#58;42&#58;cf&#58;2f&#58;6c&#58;66&#58;73&#58;e4&#58;69&#58;50&#58;c2&#58;f6&#58;31&#58;e4&#58;aa&#58;51&#58;59&#58;
45&#58;49&#58;dd&#58;3c

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116
</div><script type='text/javascript'>
        $('#show_2013945403').click(function() {
            $('#detail_2013945403').slideDown("normal");
            $('#show_2013945403').hide();
            $('#hide_2013945403').show();
        });
        $('#hide_2013945403').click(function() {
            $('#detail_2013945403').slideUp();
            $('#hide_2013945403').hide();
            $('#show_2013945403').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20246#1395410846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T14:07:26+00:00">Mar 21, 2014 02:07 PM UTC</time> by <b>echism</b><a class="anchor" name="1395410846">&nbsp;</a></div><pre>Thanks Irena,

Could you give me the full output of openssl x509 -text -noout -in hostcert_transpgrid1_OSG_2014_March.pem?

Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395408317'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T13:25:17+00:00">Mar 21, 2014 01:25 PM UTC</time><a class="anchor" name="1395408317">&nbsp;</a></div><pre>The following is the output for the new host certificate & key
# openssl x509 -in hostcert_transpgrid1_OSG_2014_March.pem -noout -modulus
Modulus=C821F722D8C575F2C2B08F601BA4A9F8BB26FD294D7039E97DF9DC24F629698CB665A2A3C6492A9CEA7E6167BF4E791F22B2151A8920FEDCF4C1BBE61642BD71FB01D13ED51A2584A844BC1E48277BF0A81F954D55DA0D5802479B91002E96B0D6D8DBBC566E98432350A427DFDA6B5C1A127F321563139DF79196DF2BA9AE62C48D97475D3373BDEDB7908FDA885F763FFC4E4F546C70819C0700DF361AA8B499C499B388DA6E1C22143020FE912774F31B4400E753E38326F938D53DE0E98F56CD75DF6104D4B9BEB7E950EB5638A53F8EBE403ABDDDAC5CA6CE9F3AA5BA6124B5642CACAEF2A37E8663480A752C2DA1756F0CC8C7FA3AD9A8D3FC8E5BA5EF

# openssl rsa -in hostkey_transpgrid1_OSG_2014_March.pem -noout -modulus
Modulus=C821F722D8C575F2C2B08F601BA4A9F8BB26FD294D7039E97DF9DC24F629698CB665A2A3C6492A9CEA7E6167BF4E791F22B2151A8920FEDCF4C1BBE61642BD71FB01D13ED51A2584A844BC1E48277BF0A81F954D55DA0D5802479B91002E96B0D6D8DBBC566E98432350A427DFDA6B5C1A127F321563139DF79196DF2BA9AE62C48D97475D3373BDEDB7908FDA885F763FFC4E4F546C70819C0700DF361AA8B499C499B388DA6E1C22143020FE912774F31B4400E753E38326F938D53DE0E98F56CD75DF6104D4B9BEB7E950EB5638A53F8EBE403ABDDDAC5CA6CE9F3AA5BA6124B5642CACAEF2A37E8663480A752C2DA1756F0CC8C7FA3AD9A8D3FC8E5BA5EF

This is for the current (working) host certificate & key
# openssl x509 -in /etc/grid-security/hostcert.pem -noout -modulus
Modulus=BAA393D4E118F9DAC9BA0361F77EC15E858E03366B53E5D64F542F5CA99BA9F3D8C6769646B6409CEDD3E313D552F45582FD19F73E012FE532DC1F2BF48B38D6547EEAB5166E40651797ED2367AF3A4265D5A7A87430F6A5E39B34BABF036A558C501335E51A049F26A5DB7853085E2E4B61D745AA587FB5CD93387B515998320D8D289D804D7389715F5868229F0441FDC96D286C6E544169389DFBB993447934F0CEC0D5E76E0D941FEDCB1763EF768448ED67DBB99713BEA1B8ED0226358C5D008C02E0AE15C6942E474C11AF7A16FA95E8C81AF8CBA2A09406C76A76481FA8CC243A5BA39764BE69A0443ECC9DCB820FB7B31DEFC5DA626A2EB656B0DE7F

# openssl rsa -in /etc/grid-security/hostkey.pem -noout -modulus
Modulus=BAA393D4E118F9DAC9BA0361F77EC15E858E03366B53E5D64F542F5CA99BA9F3D8C6769646B6409CEDD3E313D552F45582FD19F73E012FE532DC1F2BF48B38D6547EEAB5166E40651797ED2367AF3A4265D5A7A87430F6A5E39B34BABF036A558C501335E51A049F26A5DB7853085E2E4B61D745AA587FB5CD93387B515998320D8D289D804D7389715F5868229F0441FDC96D286C6E544169389DFBB993447934F0CEC0D5E76E0D941FEDCB1763EF768448ED67DBB99713BEA1B8ED0226358C5D008C02E0AE15C6942E474C11AF7A16FA95E8C81AF8CBA2A09406C76A76481FA8CC243A5BA39764BE69A0443ECC9DCB820FB7B31DEFC5DA626A2EB656B0DE7F

Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395408036'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T13:20:36+00:00">Mar 21, 2014 01:20 PM UTC</time> by <b>echism</b><a class="anchor" name="1395408036">&nbsp;</a></div><pre>Irena,

Please send the output of&#58;

openssl x509 -in /etc/grid-security/hostcert.pem -noout -modulus

and

openssl rsa -in /etc/grid-security/hostkey.pem -noout -modulus

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395407224'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T13:07:04+00:00">Mar 21, 2014 01:07 PM UTC</time><a class="anchor" name="1395407224">&nbsp;</a></div><pre>I noticed that our current host certificate (that will expire) has the Signature Algorithm&#58; sha1WithRSAEncryption, while the new host certificate has  Signature Algorithm&#58; sha256WithRSAEncryption. Could this be a problem?

The command I used to generate the certificate request was&#58;

 umask	077;	 openssl	req	-new	-newkey	rsa&#58;2048	-nodes	-keyout	hostkey.pem	-subj	&#34;/CN=transpgrid1.pppl.gov&#34;

Thanks,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395405043'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-21T12:30:43+00:00">Mar 21, 2014 12:30 PM UTC</time><a class="anchor" name="1395405043">&nbsp;</a></div><pre>Hi, as you will see below, our hostcert.pem and hostkey.pem are soft links to  /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_transpgrid1_OSG.pem and respectively, to
/usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey_transpgrid1_OSG.pem

transpgrid1 ~]# ls -al /etc/grid-security/host*
lrwxrwxrwx 1 root root 48 Oct 25 12&#58;43 /etc/grid-security/hostcert.pem -&#62; /var/spool/globus/etc/grid-security/hostcert.pem
lrwxrwxrwx 1 root root 56 Oct 25 12&#58;43 /etc/grid-security/hostcert_request.pem -&#62; /var/spool/globus/etc/grid-security/hostcert_request.pem
lrwxrwxrwx 1 root root 47 Oct 25 12&#58;43 /etc/grid-security/hostkey.pem -&#62; /var/spool/globus/etc/grid-security/hostkey.pem

transpgrid1 ~]# ls -l /var/spool/globus/etc/grid-security/host*
lrwxrwxrwx 1 root root 73 May 31  2011 /var/spool/globus/etc/grid-security/hostcert.pem -&#62; /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert.pem
lrwxrwxrwx 1 root root 81 May 31  2011 /var/spool/globus/etc/grid-security/hostcert_request.pem -&#62; /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_request.pem
lrwxrwxrwx 1 root root 72 May 31  2011 /var/spool/globus/etc/grid-security/hostkey.pem -&#62; /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey.pem

transpgrid1 ~]# ls -l /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/host*
-rw-r--r--+ 1 ijohnson users 1870 Mar  4 15&#58;36 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/host_certificate.H3067.transpgrid.pppl.gov.pem
-rw-r--r--+ 1 root     root  1874 Mar 19 13&#58;38 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/host_certificate.H3261.transpgrid1.pppl.gov.pem
lrwxrwxrwx  1 root     root    28 Mar 20 15&#58;23 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert.pem -&#62; hostcert_transpgrid1_OSG.pem
-rw-r--r--+ 1 root     root  1387 Oct 20  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_regex.pem
-rw-r--r--+ 1 root     root   660 Oct 20  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_request_regex.pem
-rw-r--r--+ 1 root     root  1343 May 19  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_request_transpgrid1.pem
-rw-r--r--+ 1 root     root  1349 Nov 11  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_request_transpgrid.pem
-rw-r--r--+ 1 root     root  1874 Mar 19 13&#58;38 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_transpgrid1_OSG_2014_March.pem
-rw-r--r--+ 1 root     root  1874 Feb 11  2013 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_transpgrid1_OSG.pem
-rw-r--r--+ 1 root     root  1377 Apr 26  2012 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_transpgrid1.pem
-rw-r--r--+ 1 root     root  1351 Nov 14  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostcert_transpgrid.pem
lrwxrwxrwx  1 root     root    27 Mar 20 15&#58;24 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey.pem -&#62; hostkey_transpgrid1_OSG.pem
-rw-------+ 1 root     root   887 Oct 20  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey_regex.pem
-rw-------+ 1 root     root  1679 Mar 19 13&#58;32 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey_transpgrid1_OSG_2014_March.pem
-r--------+ 1 root     root  1679 Feb 11  2013 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey_transpgrid1_OSG.pem
-r--------+ 1 root     root   887 May 19  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey_transpgrid1.pem
-r--------+ 1 root     root   887 Nov 14  2011 /usr/pppl/cppg/.hosts/transpgrid1.pppl.gov/etc/grid-security/hostkey_transpgrid.pem

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395355809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T22:50:09+00:00">Mar 20, 2014 10:50 PM UTC</time> by <b>ijohnson@....</b><a class="anchor" name="1395355809">&nbsp;</a></div><pre>Elizabeth,

Thank you for your help. I will be in early tomorrow.

Irena

On Thursday, March 20, 2014, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20246#1395353785'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T22:16:25+00:00">Mar 20, 2014 10:16 PM UTC</time> by <b>echism</b><a class="anchor" name="1395353785">&nbsp;</a></div><pre>Irena,

Perhaps we should do it tomorrow first thing. If it seems like we&#39;re not able to easily diagnose the issue, we&#39;ll just issue a new cert and make sure it&#39;s in place and working before the weekend. I&#39;ll stay late tomorrow if necessary, so you don&#39;t have to go back tonight.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='20246#1395353469'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T22:11:09+00:00">Mar 20, 2014 10:11 PM UTC</time> by <b>ijohnson@....</b><a class="anchor" name="1395353469">&nbsp;</a></div><pre>Hi Vince,

I am not at work right now, and I am not able to vpn in to provide the
information you have requested. I could go back to work if you are able to
look into this problem. Please let me know. Thank you,

--
Irena

On Thu, Mar 20, 2014 at 5&#58;09 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20246#1395349748'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T21:09:08+00:00">Mar 20, 2014 09:09 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1395349748">&nbsp;</a></div><pre>Irena,

Checking in to see if you were able to run the suggested command and provide the output.
Please let me know if I can assist.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='20246#1395345074'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T19:51:14+00:00">Mar 20, 2014 07:51 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1395345074">&nbsp;</a></div><pre>Irena,

Could you please run the following command and provide the results?

ls -al /etc/grid-security/host*

Thank you!
Vince</pre></div><div class='update_description'><i onclick="document.location='20246#1395344992'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T19:49:52+00:00">Mar 20, 2014 07:49 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1395344992">&nbsp;</a></div><pre>Irena,

We are attempting to diagnose the issue but are unable to reach the resource FQDN=transpgrid1.pppl.gov to duplicate the error.
Were any other changes made when you installed the new host certificate?

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='20246#1395342148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T19:02:28+00:00">Mar 20, 2014 07:02 PM UTC</time><a class="anchor" name="1395342148">&nbsp;</a></div><pre>Is it possible to change this ticket&#39;s priority to critical?

Thank you,

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395341098'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T18:44:58+00:00">Mar 20, 2014 06:44 PM UTC</time><a class="anchor" name="1395341098">&nbsp;</a></div><pre>I could change back to the old host certificate (but it expires this weekend), so this is a critical problem!

Thank you,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395340236'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T18:30:36+00:00">Mar 20, 2014 06:30 PM UTC</time><a class="anchor" name="1395340236">&nbsp;</a></div><pre>Is there something I have missed in setting up the new host certificate? None of our offsite users are able to connect to our server.

Thank you,
--Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395339220'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T18:13:40+00:00">Mar 20, 2014 06:13 PM UTC</time><a class="anchor" name="1395339220">&nbsp;</a></div><pre>Now that we have a new host certificate, should the user re-initialize their proxy ?

Thanks,

--Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><div class='update_description'><i onclick="document.location='20246#1395338733'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T18:05:33+00:00">Mar 20, 2014 06:05 PM UTC</time><a class="anchor" name="1395338733">&nbsp;</a></div><pre>Please find the error one of our offsite users is having&#58;

<font color='#7F7E6F'>&#62; Output of &#34;grid-proxy-info&#34;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; venusa 116&#58; grid-proxy-info</font>
<font color='#7F7E6F'>&#62; subject  &#58; /DC=com/DC=DigiCert-Grid/O=Open Science</font>
<font color='#7F7E6F'>&#62; Grid/OU=People/CN=Will Wehner 2218/CN=proxy</font>
<font color='#7F7E6F'>&#62; issuer   &#58; /DC=com/DC=DigiCert-Grid/O=Open Science</font>
<font color='#7F7E6F'>&#62; Grid/OU=People/CN=Will Wehner 2218</font>
<font color='#7F7E6F'>&#62; identity &#58; /DC=com/DC=DigiCert-Grid/O=Open Science</font>
<font color='#7F7E6F'>&#62; Grid/OU=People/CN=Will Wehner 2218</font>
<font color='#7F7E6F'>&#62; type     &#58; full legacy globus proxy</font>
<font color='#7F7E6F'>&#62; strength &#58; 512 bits</font>
<font color='#7F7E6F'>&#62; path     &#58; /u/wehnerw/.globus/.pfgs/x509_proxy</font>
<font color='#7F7E6F'>&#62; timeleft &#58; 513&#58;51&#58;56  (21.4 days)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Output of &#34;globusrun -a -r transpgrid.pppl.gov&#34;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GRAM Authentication test failure&#58; authentication failed&#58;</font>
<font color='#7F7E6F'>&#62; GSS Major Status&#58; Authentication Failed</font>
<font color='#7F7E6F'>&#62; GSS Minor Status Error Chain&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; init.c&#58;499&#58; globus_gss_assist_init_sec_context_async&#58; Error during</font>
<font color='#7F7E6F'>&#62; context initialization</font>
<font color='#7F7E6F'>&#62; init_sec_context.c&#58;171&#58; gss_init_sec_context&#58; SSLv3 handshake</font>
<font color='#7F7E6F'>&#62; problems</font>
<font color='#7F7E6F'>&#62; globus_i_gsi_gss_utils.c&#58;881&#58; globus_i_gsi_gss_handshake&#58; Unable to</font>
<font color='#7F7E6F'>&#62; verify remote side&#39;s credentials</font>
<font color='#7F7E6F'>&#62; globus_i_gsi_gss_utils.c&#58;854&#58; globus_i_gsi_gss_handshake&#58; SSLv3</font>
<font color='#7F7E6F'>&#62; handshake problems&#58; Couldn&#39;t do ssl handshake</font>
<font color='#7F7E6F'>&#62; OpenSSL Error&#58; s3_clnt.c&#58;840&#58; in library&#58; SSL routines, function</font>
<font color='#7F7E6F'>&#62; SSL3_GET_SERVER_CERTIFICATE&#58; certificate verify failed</font>
<font color='#7F7E6F'>&#62; OpenSSL Error&#58; a_verify.c&#58;86&#58; in library&#58; asn1 encoding routines,</font>
<font color='#7F7E6F'>&#62; function ASN1_verify&#58; unknown message digest algorithm</font>
<div id='show_365860220' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_365860220'><font color='#7F7E6F'>&#62; globus_gsi_callback.c&#58;351&#58; globus_i_gsi_callback_handshake_callback&#58;</font>
<font color='#7F7E6F'>&#62; Could not verify credential</font>
<font color='#7F7E6F'>&#62; globus_gsi_callback.c&#58;443&#58; globus_i_gsi_callback_cred_verify&#58; Could</font>
<font color='#7F7E6F'>&#62; not</font>
<font color='#7F7E6F'>&#62; verify credential&#58; certificate signature failure</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116
</div><script type='text/javascript'>
        $('#show_365860220').click(function() {
            $('#detail_365860220').slideDown("normal");
            $('#show_365860220').hide();
            $('#hide_365860220').show();
        });
        $('#hide_365860220').click(function() {
            $('#detail_365860220').slideUp();
            $('#hide_365860220').hide();
            $('#show_365860220').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20246#1395337818'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-03-20T17:50:18+00:00">Mar 20, 2014 05:50 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1395337818">&nbsp;</a></div><pre>Our offsite users seem to not be able to authenticate to our server -- after I renewed the host certificate yesterday (FQDN=transpgrid1.pppl.gov). Could you please advise?

Below is the error we are getting in globus-gatekeeper.log&#58;

Failed reading length 0
GSS authentication failure
globus_gss_assist token &#58;3&#58; read failure&#58; Connection closed
Failure&#58; GSS failed Major&#58;01090000 Minor&#58;00000000 Token&#58;00000003

I also ran the following command on transpgrid1&#58;

openssl s_client -showcerts -cert /etc/grid-security/hostcert.pem -key /etc/grid-security/hostkey.pem -CApath /etc/grid-security/certificates/ -debug -connect transpgrid1.pppl.gov&#58;2119

which triggers the following error in globus-gatekeeper.log

GSS authentication failure
GSS Major Status&#58; General failure
GSS Minor Status Error Chain&#58;
globus_gsi_gssapi&#58; Error during delegation&#58; Delegation protocol violation
Failure&#58; GSS failed Major&#58;000d0000 Minor&#58;00000002 Token&#58;00000000

Thank you,
Irena

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Irena Johnson 1116</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F20246">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 20246});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
