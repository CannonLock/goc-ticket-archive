<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[36039] HTCondor CE collector gets stuck on a reconfig</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=36039" method="post">
<div class="page-header">
    <h3><span class="muted">36039</span> / HTCondor CE collector gets stuck on a reconfig</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Farrukh Aftab Khan</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Farrukh Aftab Khan</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2018-03-14</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/36039", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/36039?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/36039?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20HTCondor%20CE%20collector%20gets%20stuck%20on%20a%20reconfig%20ISSUE%3D36039%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='36039#1521060547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-14T20:49:07+00:00">Mar 14, 2018 08:49 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1521060547">&nbsp;</a></div><pre>Closing per Farrukh&#39;s comment</pre></div><div class='update_description'><i onclick="document.location='36039#1521059765'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-14T20:36:05+00:00">Mar 14, 2018 08:36 PM UTC</time><a class="anchor" name="1521059765">&nbsp;</a></div><pre>I can confirm that I do not observe the issue with HTCondor 8.6.10.

Thanks for all the help in debugging the issue and fixing it.

Please feel free to close the ticket.

Farrukh

by fkhan@....</pre></div><div class='update_description'><i onclick="document.location='36039#1521042560'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-14T15:49:20+00:00">Mar 14, 2018 03:49 PM UTC</time><a class="anchor" name="1521042560">&nbsp;</a></div><pre>8.6.10 was released today. I have installed it on my test CE and am now running some tests.

Farrukh

by fkhan@....</pre></div><div class='update_description'><i onclick="document.location='36039#1519930322'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-03-01T18:52:02+00:00">Mar 1, 2018 06:52 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1519930322">&nbsp;</a></div><pre>We did a lot of troubleshooting off-ticket. Turns out it&#39;s an HTCondor bug, for which we should have a pre-release build for Farrukh to test sometime next week.</pre></div><div class='update_description'><i onclick="document.location='36039#1519656633'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-26T14:50:33+00:00">Feb 26, 2018 02:50 PM UTC</time> by <b>echism</b><a class="anchor" name="1519656633">&nbsp;</a></div><pre>Hey Brian,

What&#39;s the news?

Thanks</pre></div><div class='update_description'><i onclick="document.location='36039#1519055576'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-19T15:52:56+00:00">Feb 19, 2018 03:52 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1519055576">&nbsp;</a></div><pre>There isn&#39;t a ticket yet since the condor team member is still investigating. I&#39;ll bug him about it today.</pre></div><div class='update_description'><i onclick="document.location='36039#1519055387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-19T15:49:47+00:00">Feb 19, 2018 03:49 PM UTC</time> by <b>echism</b><a class="anchor" name="1519055387">&nbsp;</a></div><pre>Anything new from out of band, Brian? Or can you send me the condor ticket link so I can follow it?

Thanks</pre></div><div class='update_description'><i onclick="document.location='36039#1518449132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-12T15:25:32+00:00">Feb 12, 2018 03:25 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1518449132">&nbsp;</a></div><pre>Update since some troubleshooting was done off-ticket&#58; Farrukh provided us his MasterLog and CollectorLog with &#39;ALL_DEBUG = D_ALL&#58;2&#39; set in his config and I&#39;ve forwarded that onto the condor team to have a look.</pre></div><div class='update_description'><i onclick="document.location='36039#1518118728'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-08T19:38:48+00:00">Feb 8, 2018 07:38 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1518118728">&nbsp;</a></div><pre>Yea, I tried to reach Farrukh on slack for a quick troubleshooting session but haven&#39;t heard back. Here&#39;s what I asked&#58;

&#34;Farrukh, I notice from your log the errors seem to precede receiving the SIGHUP from &#96;condor_ce_reconfig&#96;. Could you run &#96;date && condor_ce_reconfig&#96; to match the time stamps?&#34;</pre></div><div class='update_description'><i onclick="document.location='36039#1518104307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-08T15:38:27+00:00">Feb 8, 2018 03:38 PM UTC</time> by <b>echism</b><a class="anchor" name="1518104307">&nbsp;</a></div><pre>Software,

Do you have any advice?

Thanks</pre></div><div class='update_description'><i onclick="document.location='36039#1517945509'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2018-02-06T19:31:49+00:00">Feb 6, 2018 07:31 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1517945509">&nbsp;</a></div><pre>Hi,

Whenever a &#39;condor_ce_reconfig&#39; is issued on our CE, the collector gets stuck. The log snippet will D_FULLDEBUG is under [1] and with D_ALL is under [2]. We are running HTCondor CE 3.0.4-1 with HTCondor 8.6.8-2 from Madison on a SL7 node.

I can safely rule out SELinux and faulty local configurations. I was able to reproduce the same issue with selinux in permissive mode and by removing all additional local CE configurations other than the job routes. I also tried upgrading the condor version to 8.6.9, but the issue persists. I can also see the same behaviour with condor-8.6.9-1 coming from the OSG repo. Can you please try reproducing this on your side? If you don&#39;t observe the same behaviour, I can send out a configuration dump of our CE to see if you spot anything out of the ordinary.

Right now we are avoiding issuing a reconfig command and are restarting the service each time after a change. This is important for us because we recently enabled singularity on our cluster and glideinWMS pushes the traceability information back to the CE collector. If the collector is stuck, AuditPayloadLog doesn&#39;t get updated and we lose traceability information.

Please feel free to reassign the ticket if assigned incorrectly

Best regards,
Farrukh

[1]
02/01/18 14&#58;17&#58;35 attempt to connect to &#60;188.184.86.69&#58;47267&#62; failed&#58; timed out after 20 seconds.
02/01/18 14&#58;17&#58;35 Failed to send DC_INVALIDATE_KEY to daemon at &#60;188.184.86.69&#58;47267&#62;&#58; SECMAN&#58;2003&#58;TCP connection to daemon at &#60;188.184.86.69&#58;47267&#62; failed.
02/01/18 14&#58;17&#58;38 DC_AUTHENTICATE&#58; attempt to open invalid session cmsosgce4&#58;215695&#58;1517516200&#58;10, failing; this session was requested by &#60;188.184.86.176&#58;15353&#62; with return address &#60;188.184.86.176&#58;21119?addrs=188.184.86.176-21119+[2001-1458-201-e3--100-6aa]-21119&#62;
02/01/18 14&#58;17&#58;41 attempt to connect to &#60;188.184.86.69&#58;47267&#62; failed&#58; timed out after 20 seconds.
02/01/18 14&#58;17&#58;41 Failed to send DC_INVALIDATE_KEY to daemon at &#60;188.184.86.69&#58;47267&#62;&#58; SECMAN&#58;2003&#58;TCP connection to daemon at &#60;188.184.86.69&#58;47267&#62; failed.
02/01/18 14&#58;17&#58;43 condor_read()&#58; Socket closed when trying to read 5 bytes from &#60;131.225.204.206&#58;12526&#62;
02/01/18 14&#58;17&#58;43 condor_read()&#58; Socket closed when trying to read 21 bytes from &#60;131.225.204.206&#58;12526&#62; in non-blocking mode
02/01/18 14&#58;17&#58;43 IO&#58; EOF reading packet header
02/01/18 14&#58;17&#58;43 DaemonCore&#58; Can&#39;t receive command request from 131.225.204.206 (perhaps a timeout?)
02/01/18 14&#58;17&#58;43 Got SIGHUP.  Re-reading config files.
02/01/18 14&#58;17&#58;43 Enumerating interfaces&#58; lo 127.0.0.1 up
02/01/18 14&#58;17&#58;43 Enumerating interfaces&#58; enp3s0 131.225.204.206 up

[2]
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_ALWAYS) Timeout = 21.000000 seconds
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_NETWORK) condor_read(fd=16 &#60;131.225.204.206&#58;23041&#62;,,size=5,timeout=1,flags=2,non_blocking=0)
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_DAEMONCORE) DAEMONCORE&#58; ReadCommand()
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_NETWORK) condor_read(fd=16 &#60;131.225.204.206&#58;23041&#62;,,size=21,timeout=1,flags=0,non_blocking=1)
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_NETWORK) Stream&#58;&#58;get(int) failed to read padding
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_ALWAYS) DaemonCore&#58; Can&#39;t receive command request from 131.225.204.206 (perhaps a timeout?)
02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_DAEMONCORE) Cancel_Socket&#58; cancelled socket 6 &#60;Update Socket&#62; 0xeab620
<div id='show_1928222353' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1928222353'>02/01/18 14&#58;27&#58;09 (fd&#58;18) (pid&#58;220429) (D_NETWORK) CLOSE TCP &#60;131.225.204.206&#58;9619&#62; fd=16
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_DAEMONCORE) In DaemonCore Timeout()
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_DAEMONCORE) DaemonCore Timeout() Complete, returning 17
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) PERF&#58; entering select
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_DAEMONCORE) DaemonCore&#58; received Signal 1 (SIGHUP), raising event handle_dc_sighup()
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) PERF&#58; leaving select
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) State = SIGNALLED
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) max_fd = 17
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) Selection FD&#39;s
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS)     Read {5 7 8 10 11 12 13 14 17 } = 9
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS)     Write {} = 0
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS)     Except {} = 0
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) Timeout = 17.000000 seconds
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_DAEMONCORE) Calling Handler &#60;handle_dc_sighup()&#62; for Signal 1 &#60;SIGHUP&#62;
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_ALWAYS) Got SIGHUP.  Re-reading config files.
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_CONFIG) config&#58; using subsystem &#39;TOOL&#39;, local &#39;&#39;
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) Trying to getting network interface information after reading config
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) NETWORK_INTERFACE=* matches lo 127.0.0.1, enp3s0 131.225.204.206, choosing IP 131.225.204.206
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) NETWORK_INTERFACE=* matches lo 127.0.0.1, enp3s0 131.225.204.206, choosing IP 131.225.204.206
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) DNS returned&#58;
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME)     131.225.204.206
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) We returned&#58;
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME)     131.225.204.206
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME)    I like it.
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) hostname&#58; cmsosgce4.fnal.gov (score 5) new winner
02/01/18 14&#58;27&#58;09 (fd&#58;16) (pid&#58;220429) (D_HOSTNAME) I am&#58; hostname&#58; cmsosgce4, fully qualified doman name&#58; cmsosgce4.fnal.gov, IP&#58; 131.225.204.206, IPv4&#58; 131.225.204.206, IPv6&#58;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=fakhan/CN=762000/CN=Farrukh Aftab Khan

</div><script type='text/javascript'>
        $('#show_1928222353').click(function() {
            $('#detail_1928222353').slideDown("normal");
            $('#show_1928222353').hide();
            $('#hide_1928222353').show();
        });
        $('#hide_1928222353').click(function() {
            $('#detail_1928222353').slideUp();
            $('#hide_1928222353').hide();
            $('#show_1928222353').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F36039">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 36039});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
