<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[31110] RT -&#62; GOC -&#62; GGUS ticket exchange problems</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=31110" method="post">
<div class="page-header">
    <h3><span class="muted">31110</span> / RT -&#62; GOC -&#62; GGUS ticket exchange problems</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">John S. De Stefano Jr.</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">John S. De Stefano Jr.</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"><p><a target='_blank' href='30805'><b>30805</b> BNL-OSG2_LOCALGROUPDISK deletion errors</a></p></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">check on this</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-11-09</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Marina Krenz <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/31110", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31110?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31110?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20RT%20-%26%2362%3B%20GOC%20-%26%2362%3B%20GGUS%20ticket%20exchange%20problems%20ISSUE%3D31110%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='31110#1478620225'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-08T15:50:25+00:00">Nov 8, 2016 03:50 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1478620225">&nbsp;</a></div><pre>Great! I will close the ticket.</pre></div><div class='update_description'><i onclick="document.location='31110#1478619851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-08T15:44:11+00:00">Nov 8, 2016 03:44 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1478619851">&nbsp;</a></div><pre>Hi Marina,

That looks perfect; thank you.

~John</pre></div><div class='update_description'><i onclick="document.location='31110#1478614336'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-08T14:12:16+00:00">Nov 8, 2016 02:12 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1478614336">&nbsp;</a></div><pre>John,
I have added a functionality to link BNL tickets to your RT system. As as example please take a look at this ticket (top right section)

<a href='https&#58;//ticket.grid.iu.edu/31792' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/31792</a>

Please let me know if you have any questions.

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1478190589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-11-03T16:29:49+00:00">Nov 3, 2016 04:29 PM UTC</time> by <b>echism</b><a class="anchor" name="1478190589">&nbsp;</a></div><pre>May I close this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1477510116'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T19:28:36+00:00">Oct 26, 2016 07:28 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1477510116">&nbsp;</a></div><pre>I have added the link John mentioned below on ITB so it will be on Production next release cycle. And GGUS synchronization is all good.</pre></div><div class='update_description'><i onclick="document.location='31110#1477509579'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-26T19:19:39+00:00">Oct 26, 2016 07:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1477509579">&nbsp;</a></div><pre>Hey Marina,

What&#39;s the status of this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1476726431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-17T17:47:11+00:00">Oct 17, 2016 05:47 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1476726431">&nbsp;</a></div><pre>Hi Marina,

That would be great. The URL you have for RT is correct for our production system; currently, we don’t have an external interface to our test instance available.

Thanks,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1476718375'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-17T15:32:55+00:00">Oct 17, 2016 03:32 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1476718375">&nbsp;</a></div><pre>John,

For GGUS we have a link to which we pass a ticket ID and the information is resolved on their end. If you would like to make BNL tickets to be a link, I can make those modifications. Would this be a correct link  <a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=</a>$id  both for production and testing environments?

You will need to login to view the ticket on your end.</pre></div><div class='update_description'><i onclick="document.location='31110#1476715991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-17T14:53:11+00:00">Oct 17, 2016 02:53 PM UTC</time><a class="anchor" name="1476715991">&nbsp;</a></div><pre>We&#39;ve just entered another reply on the test ticket, this time via GGUS. The reply was received from GGUS, and sent to GOC, which routed it to our RT. All of that now seems to be working fine.

In the GOC ticket, under &#34;Assignees&#34;, is this entry&#58;
USATLAS (BNL Prod)26524  / Ticket Exchange

Unlike the GGUS entry just above it, the RT ticket number (26524) is not a link, which it probably should be? Does the fact that this is not a link indicate a problem? And maybe there should be a space between the ticket number and &#39;(BNL Prod)&#39;, but thats purely aesthetic.

Regarding whether Xin alone should be notified&#58; so long as GOC is correctly routing notifications to RT as well (which now seems to be the case), this is not an issue.

Thanks,
~John

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=destefan/CN=665120/CN=John Steven De Stefano Jr</pre></div><div class='update_description'><i onclick="document.location='31110#1476714558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-17T14:29:18+00:00">Oct 17, 2016 02:29 PM UTC</time><a class="anchor" name="1476714558">&nbsp;</a></div><pre>Adding Xin, whom we&#39;ve talked to about this but should be included in the discussion at this point. I think he agrees that he alone should not receive notification from OIM.

~John

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=destefan/CN=665120/CN=John Steven De Stefano Jr</pre></div><div class='update_description'><i onclick="document.location='31110#1476299590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T19:13:10+00:00">Oct 12, 2016 07:13 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1476299590">&nbsp;</a></div><pre>Hi Elizabeth,

That does clear things up a bit; thank you. Xin is very helpful, but one person can become a bottleneck, as we’ve seen in this case&#58; Xin didn’t know about our testing, and we didn’t know he was being notified.

Does this contact in OIM necessarily need to be a single human? or can it be a list?

Thanks,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1476280002'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T13:46:42+00:00">Oct 12, 2016 01:46 PM UTC</time> by <b>echism</b><a class="anchor" name="1476280002">&nbsp;</a></div><pre>Hey John,

Sorry, I misunderstood before. This has to do with the ownership information for BNL_ATLAS in OIM. Xin is listed as the point of contact for BNL_ATLAS which is why the notification is doing this&#58;

Notification mail sent&#58; Cc&#58; xzhao@....; Assignee&#58; GGUS (Prod) Marina Krenz Vince Neal USATLAS (BNL Prod)

Does that clear it up? Does OIM need a change?

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1476279432'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T13:37:12+00:00">Oct 12, 2016 01:37 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1476279432">&nbsp;</a></div><pre>Thanks, Elizabeth. And again&#58; I got your entry via email from GGUS and BNL RT, but nothing from OSG. And the same for the reply and “close” of the test ticket that someone at BNL did this morning&#58; saw communication from BNL and GGUS, and nothing from GOC.

Was the test ticket configured _not_ to send email notification from GOC? Or is something else wrong here?

Thanks,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1476227176'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T23:06:16+00:00">Oct 11, 2016 11:06 PM UTC</time> by <b>echism</b><a class="anchor" name="1476227176">&nbsp;</a></div><pre>I just entered one for testing purposes.</pre></div><div class='update_description'><i onclick="document.location='31110#1476220811'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T21:20:11+00:00">Oct 11, 2016 09:20 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1476220811">&nbsp;</a></div><pre>Thanks, Elizabeth and Marina. I’ve replied to the test ticket from our RT — I’ve received RT and GGUS replies, but not one from OSG, at least not yet.

~John</pre></div><div class='update_description'><i onclick="document.location='31110#1476219100'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T20:51:40+00:00">Oct 11, 2016 08:51 PM UTC</time> by <b>echism</b><a class="anchor" name="1476219100">&nbsp;</a></div><pre>I generated <a href='https&#58;//ticket.grid.iu.edu/31471' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/31471</a> for this purpose.</pre></div><div class='update_description'><i onclick="document.location='31110#1476210628'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T18:30:28+00:00">Oct 11, 2016 06:30 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1476210628">&nbsp;</a></div><pre>John,
I did test several tickets and timelines, both production and testing environment. All the communication moved within 1-3 minutes. The only thing I noticed is that the emails arrived at my inbox 10 minutes late however the time stamp was within the timeline I mentioned above.  So my email client seemed to be a little out of sync at the time. I have checked the times and processing both through our ticket-exchange and the backend Footprint software (they have email notification history).  Both of those are in sync.
The timestamp for the email notification sent to you in regard of the ticket update you mentioned below was 12&#58;11pm  on October 7th, 2013. So only 2 minutes after you sent it.
There might be some issues on the receiving end. At times it could be spam filtering, or grey listing. I will keep an eye on flow. If you will have delays with any particular ticket let me know and I will check when and who sent it.

Ticket exchange was tested in our testing environment and I went through the troubled tickets to make sure they all synced up and they did.  I don&#39;t see any more errors in the logs as before. GGUS has added/modified a field and it caused update errors, and those have been taken care of. I have been also keeping an eye on all incoming GGUS tickets  to make sure all the updates are going through.

I will check with ticket creation authorization and will get back with you.</pre></div><div class='update_description'><i onclick="document.location='31110#1476199392'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T15:23:12+00:00">Oct 11, 2016 03:23 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1476199392">&nbsp;</a></div><pre>Hi Marina,

<font color='#7F7E6F'>&#62; A ticket can be created here</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ticket.opensciencegrid.org/custom' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/custom</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; If you want a copy of the ticket be sent to GGUS and BNL you have to check those check boxes on the right under &#34;Ticket Exchange&#34; header. It will trigger an exchange with both of those systems.</font>

I get an auth error when trying to access this page. Is it available only to GOC staff?

Unless the auth can be sorted, can you please create a test ticket, and enable exchange between all ticket systems, so we can test the exchange?

Also, was anyone able to look into the email notification delays reported here last week?

Thanks,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1475862216'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T17:43:36+00:00">Oct 7, 2016 05:43 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1475862216">&nbsp;</a></div><pre>A ticket can be created here
<a href='https&#58;//ticket.opensciencegrid.org/custom' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/custom</a>

If you want a copy of the ticket be sent to GGUS and BNL you have to check those check boxes on the right under &#34;Ticket Exchange&#34; header. It will trigger an exchange with both of those systems.</pre></div><div class='update_description'><i onclick="document.location='31110#1475861531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T17:32:11+00:00">Oct 7, 2016 05:32 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1475861531">&nbsp;</a></div><pre>Hi Marina,

<font color='#7F7E6F'>&#62; John,</font>
<font color='#7F7E6F'>&#62; This is one of the tickets that had issues with synchronization with GGUS</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286</a></font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=30805' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=30805</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; All the updates were posted with GGUS on 9/30/2016.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Let me know if you have any questions.</font>
<font color='#7F7E6F'>&#62; Thank you</font>

Thanks. I am familiar with this ticket, which was closed and only tangentially related to this issue. I was hoping for a test ticket created for the purpose of troubleshooting the interconnection between these systems, so we don’t trouble those monitoring the production dCache service, but can still perform a bit more thorough testing on whether and when notifications between the ticket systems are sent.

I tried to create a ticket via GGUS, but I couldn’t find any OSG/US site options, nor a “ticket system” category to file it under. Can you please help me with this bit, or let me know how to create an OSG test ticket that will trigger notifications to GGUS and BNL RT?

Thanks,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1475860451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T17:14:11+00:00">Oct 7, 2016 05:14 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1475860451">&nbsp;</a></div><pre>Before testing anything, I can already point out a related problem&#58; I replied to this ticket via email an hour ago (12&#58;09 PM ET) and only received a copy of my reply just now, at 1&#58;06 PM ET, and (assumedly) only because Marina entered a reply of her own, which was also sent half an hour ago but I’m just getting notification of it now.

We’ve seen and reported delays in email notification between BNL and GOC in the past, but both sides (BNL and GOC) are certain the delay is on the other side.

Can someone please look at the mail or ticket notification logs on the server side and determine where the delay was?

Meanwhile, I will test this ticket exchange aspect when I am back from vacation next week.

Thank you,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1475858260'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T16:37:40+00:00">Oct 7, 2016 04:37 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1475858260">&nbsp;</a></div><pre>John,
This is one of the tickets that had issues with synchronization with GGUS

<a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286</a>
<a href='https&#58;//ticket.grid.iu.edu/viewer?id=30805' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=30805</a>

All the updates were posted with GGUS on 9/30/2016.

Let me know if you have any questions.
Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1475856672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-07T16:11:12+00:00">Oct 7, 2016 04:11 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1475856672">&nbsp;</a></div><pre>Hi Elizabeth,

<font color='#7F7E6F'>&#62; Are we done here?</font>

It’s hard to say definitively&#58; to be sure, we would need to see a ticket submitted and updated on all three systems. If Marina has already tested this on an existing ticket, can we have a ticket number for testing? If not, can someone please submit a test ticket so we can view and update it?

Thanks,
~John</pre></div><div class='update_description'><i onclick="document.location='31110#1475702090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T21:14:50+00:00">Oct 5, 2016 09:14 PM UTC</time> by <b>echism</b><a class="anchor" name="1475702090">&nbsp;</a></div><pre>John,

Are we done here?

Thanks</pre></div><div class='update_description'><i onclick="document.location='31110#1475265762'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T20:02:42+00:00">Sep 30, 2016 08:02 PM UTC</time> by <b>echism</b><a class="anchor" name="1475265762">&nbsp;</a></div><pre>Have any further problems been showing up?

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1474983931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T13:45:31+00:00">Sep 27, 2016 01:45 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1474983931">&nbsp;</a></div><pre>I have made the updates to the Ticket Exchange this morning. This should resolve the issues with GGUS synchronization. If you will encounter any problems please let me know.</pre></div><div class='update_description'><i onclick="document.location='31110#1474636079'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T13:07:59+00:00">Sep 23, 2016 01:07 PM UTC</time> by <b>echism</b><a class="anchor" name="1474636079">&nbsp;</a></div><pre>Hey Marina,

Anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1473770347'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T12:39:07+00:00">Sep 13, 2016 12:39 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1473770347">&nbsp;</a></div><pre>I am working on troubleshooting the issue. I believe I narrowed down the cause for the problem, will update the ticket on the progress.</pre></div><div class='update_description'><i onclick="document.location='31110#1473715841'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T21:30:41+00:00">Sep 12, 2016 09:30 PM UTC</time> by <b>echism</b><a class="anchor" name="1473715841">&nbsp;</a></div><pre>Hey Marina,

Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='31110#1473175003'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-06T15:16:43+00:00">Sep 6, 2016 03:16 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1473175003">&nbsp;</a></div><pre>I have done troubleshoot with GGUS ticket synchronization and what I found is if the field &#34;Related Issue&#34; (Comments tab bottom right) is filled on GGUS site then all the requests to update the tickets with GGUS fail, whether you try to send an update to GGUS or whether GGUS has added new updates. Once the &#34;Related Issue&#34;  field is cleared on GGUS site then all the tickets synchronize (out of order though).
The code that takes care of the &#34;Related Issue&#34;  field is part of the wsdl file that was generated by GGUS ticketing system. I will have to do more testing to narrow down whether we need an updated wsdl file from GGUS or whether it could be/should be handled internally through the  code.</pre></div><div class='update_description'><i onclick="document.location='31110#1472818203'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T12:10:03+00:00">Sep 2, 2016 12:10 PM UTC</time> by <b>Marina Krenz</b><a class="anchor" name="1472818203">&nbsp;</a></div><pre>There is a field &#34;Related Issue&#34;. This field is both on ITB and our code, but error we receive from GGUS Production says that this element is unexpected. I will start testing it on the ITB trying to reproduce the  same error and will find a fix. I have started to look into the issue. Will keep you posted on the progress.</pre></div><div class='update_description'><i onclick="document.location='31110#1472760161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-01T20:02:41+00:00">Sep 1, 2016 08:02 PM UTC</time> by <b>echism</b><a class="anchor" name="1472760161">&nbsp;</a></div><pre>Marina is looking into this, so I&#39;m assigning her.</pre></div><div class='update_description'><i onclick="document.location='31110#1472755081'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-01T18:38:01+00:00">Sep 1, 2016 06:38 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1472755081">&nbsp;</a></div><pre>Discussion of this issue began via email, but recipients have been dropped/lost. Putting contents of conversation into a ticket instead for better tracking and notification.

BTW, regarding GGUS&#58; this is certainly not the only ticket with this issue, and I assume the problem is more systematic. Another example would be a single ticket across the following systems&#58;
<a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26393' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26393</a>
<a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123379' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123379</a>
<a href='30926' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=30926</a>

But we don&#39;t know much about GGUS; I think GGUS itself should be contacted directly for more information, or perhaps even added to the thread here.

~John

====================
individual emails follow
in sequential order ....
====================

On Aug 25, 2016, at 10&#58;56 AM, Jason A. Smith &#60;smithj4@....&#62; wrote&#58;

Hi Rob,

Do you know who is working on the ticket exchange software at OSG these days? Is Soichi still there and doing it?

We recently noticed what appears to be a problem syncing data between the GOC and GGUS, see this ticket in each system for an example&#58;

RT&#58; <a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26383' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26383</a>
GOC&#58; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=30805' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=30805</a>
GGUS&#58; <a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286</a>

The updates from RT appear to make it to the GOC, but not to GGUS.

Also, we are in the process of testing an upgrade to the new version of RT here at BNL and will need to arrange some testing with the GOC before we upgrade our production server in the next few months.

Thanks,
~Jason

<div id='show_1400458294' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1400458294'>---------------------------

On Aug 26, 2016, at 4&#58;57 PM, Krenz, Marina &#60;mvkrenz@....&#62; wrote&#58;

Jason
Rob Quick has forwarded your issue to me.

From looking at the logs it looks like that there is a new field that has been passed to GGUS called “GHD_Related_Issue”, and it throws an error not recognizing it.

“org.apache.axis2.AxisFault&#58; org.apache.axis2.databinding.ADBException&#58; Unexpected subelement GHD_Related_Issue&#34;

I will look into more details next week.

Will keep you posted.

Thanks

---------------------------

On Aug 29, 2016, at 2&#58;05 PM, Krenz, Marina &#60;mvkrenz@....&#62; wrote&#58;

Jason,
I am writing you in regards to

RT&#58; <a href='https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26383' target='_blank' rel='nofollow'>https&#58;//rt.racf.bnl.gov/rt/Ticket/Display.html?id=26383</a>
GOC&#58; <a href='https&#58;//ticket.grid.iu.edu/viewer?id=30805' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/viewer?id=30805</a>
GGUS&#58; <a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=123286</a>

I see in the code “org.apache.axis2.AxisFault&#58; org.apache.axis2.databinding.ADBException&#58; Unexpected subelement GHD_Related_Issue” and it follows with “Failed to update ticket”.

Do you know by any chance if GGUS has any changes to their web services? Any fields removed or added?

Is this the only ticket that has issues? We could start a new test ticket in ITB try to replicate the error. But we need to makes sure that test environment and production are similar.

Thank you

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=destefan/CN=665120/CN=John Steven De Stefano Jr

</div><script type='text/javascript'>
        $('#show_1400458294').click(function() {
            $('#detail_1400458294').slideDown("normal");
            $('#show_1400458294').hide();
            $('#hide_1400458294').show();
        });
        $('#hide_1400458294').click(function() {
            $('#detail_1400458294').slideUp();
            $('#hide_1400458294').hide();
            $('#show_1400458294').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F31110">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 31110});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
