<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[23923] problems with ticket system at the moment ...</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=23923" method="post">
<div class="page-header">
    <h3><span class="muted">23923</span> / problems with ticket system at the moment ...</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">John S. De Stefano Jr.</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">John S. De Stefano Jr.</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Soichi to review</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-02-13</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/23923", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/23923?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/23923?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20problems%20with%20ticket%20system%20at%20the%20moment%20...%20ISSUE%3D23923%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='23923#1424052132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-16T02:02:12+00:00">Feb 16, 2015 02:02 AM UTC</time> by <b>OSG RA</b><a class="anchor" name="1424052132">&nbsp;</a></div><pre>Closing since separate issues are being tracked in Jira tickets.</pre></div><div class='update_description'><i onclick="document.location='23923#1423237241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-06T15:40:41+00:00">Feb 6, 2015 03:40 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1423237241">&nbsp;</a></div><pre>FYI.

For the attachment issue, I&#39;ve opened following internal ticket
<font color='#7F7E6F'>&#62; <a href='https&#58;//jira.opensciencegrid.org/browse/TICKET-116' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/TICKET-116</a></font>

Also, as I mentioned earlier
<font color='#7F7E6F'>&#62; I&#39;ve opened an internal Jira ticket to improve OSG&#39;s certificate renewal process.</font>
<font color='#7F7E6F'>&#62; &#62; <a href='https&#58;//jira.opensciencegrid.org/browse/OIM-118' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/OIM-118</a></font>

John,

Thank you for reporting these issues. Your feedback like this is extremely useful and important in order to improve our systems and user interfaces.</pre></div><div class='update_description'><i onclick="document.location='23923#1423231514'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-06T14:05:14+00:00">Feb 6, 2015 02:05 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1423231514">&nbsp;</a></div><pre>Please don’t feel obliged to hold things up on my request — I really don’t know the best way to implement it, nor whether it would be useful for everyone. I would think RAs would want to know when a user is having trouble or has requested help, but perhaps that’s not the case for all.

As for the other aspect of the ticket, regarding attachments&#58; the current system seems a bit broken, and is at least awkward to remember and use, but if that is the way it was designed and will remain, there isn’t much more to do.

Thanks,
~John

<font color='#7F7E6F'>&#62; On Feb 6, 2015, at 8&#58;37 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23923#1423229829'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-06T13:37:09+00:00">Feb 6, 2015 01:37 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1423229829">&nbsp;</a></div><pre>Alain,

At the moment, both RA and sponsors are listed under CC list. So, we can&#39;t use the usual CC suppression mechanism to suppress sending notification just for sponsors. Also, John&#39;s request seems to suggest that we allow each user to decide when to be notified - instead of deciding on our end for each VO.

I can&#39;t think of an easy way to implement the request with our currently infrastructure. In the future, we could implement a more robust notification system that allows user to determine when / what to be notified, but until then I recommend we manually remove CC / sponsors based on individual VO preference.</pre></div><div class='update_description'><i onclick="document.location='23923#1423222911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-06T11:41:51+00:00">Feb 6, 2015 11:41 AM UTC</time> by <b>OSG RA</b><a class="anchor" name="1423222911">&nbsp;</a></div><pre>Soichi,

You think that John&#39;s request could be implemented into the ticketing system?

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='23923#1423061830'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-04T14:57:10+00:00">Feb 4, 2015 02:57 PM UTC</time> by <b>jd@....</b><a class="anchor" name="1423061830">&nbsp;</a></div><pre>Hi Alain,

I can understand how some might find that annoying, but in this case, a user was getting frustrated, Saroj came and asked me about the issue, and I had no idea what was going on. Perhaps this notification could be an adjustable option somewhere? Admins and/or users could opt out as desired.

~John

<font color='#7F7E6F'>&#62; On Feb 4, 2015, at 7&#58;20 AM, Open Science Grid FootPrints &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='23923#1423052413'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-04T12:20:13+00:00">Feb 4, 2015 12:20 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1423052413">&nbsp;</a></div><pre>Soichi,

For new renewal tickets, I manually remove all but the primary RA & RA log from the ticket&#39;s CC list.
I do this because I was getting a lot of complaints in the past from individuals listed on the CC list
as to why there were getting email on an old ticket.  So for new renewal that come in on Monday
AM for ATLAS VO, Saroj is left on the CC.  If John wants me to leave him on the ticket, then I&#39;ll be
more than happy to do so.

Thanks,
-Alain</pre></div><div class='update_description'><i onclick="document.location='23923#1422996114'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-03T20:41:54+00:00">Feb 3, 2015 08:41 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1422996114">&nbsp;</a></div><pre>FYI.

I&#39;ve opened an internal Jira ticket to improve OSG&#39;s certificate renewal process.
<font color='#7F7E6F'>&#62; <a href='https&#58;//jira.opensciencegrid.org/browse/OIM-118' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/OIM-118</a></font></pre></div><div class='update_description'><i onclick="document.location='23923#1422994745'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-03T20:19:05+00:00">Feb 3, 2015 08:19 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1422994745">&nbsp;</a></div><pre>John,

I am sorry for all the issues you and your users are experiencing.

About the attachment issue, this is due to our system not capable of accessing(& synchronizing) attachments posted via email. Emails are processed by our GRNOC Footprints system, which then uploads it to location where only IU/GRNOC personal can access. We need to ask user to either 1) host any attachment elsewhere (like dropbox) and post the URL in the message,  OR 2) Use GOC ticket user interface to attach any files (this requires user to access GOC ticket with OIM registered user certificate).

Alain,

The Footprints log shows that you&#39;ve removed those CCs on 1/26. Can you explain reasons?

<font color='#7F7E6F'>&#62; 01/26/2015      	1&#58;42 PM      	Alain Deximo (via Web Services)      	Changed ENG Next Action Item, Changed ENG Next Action Date/Time (UTC)</font>
<font color='#7F7E6F'>&#62;        	       	       	Deleted CCs&#58; mernst@.... adeximo@.... jd@....</font></pre></div><div class='update_description'><i onclick="document.location='23923#1422992586'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-02-03T19:43:06+00:00">Feb 3, 2015 07:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1422992586">&nbsp;</a></div><pre>Hi,

I&#39;m honesty not sure whether there are transient and/or known problems with the ticket system at the moment, or whether I&#39;m noticing issues that should be addressed with which someone else may disagree.  In any case, please see the history of&#58; <a href='https&#58;//ticket.grid.iu.edu/18928' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/18928</a>

In this ticket, at timestamp Feb 2, 2015 01&#58;03 AM, a user was sent a notification for a certificate renewal, and attached to that notification is this metadata&#58;
Changed ENG Next Action Item, Changed ENG Next Action Date/Time (UTC)
Deleted CCs&#58; jd@.... adeximo@.... mernst@....

Thus, these RAs (including me) were removed from further notifications on this issue, and when the user requested assistance, I was unaware of any activity.. I certainly did not remove myself manually.

In addition, at timestamp Feb 3, 2015 01&#58;57 PM, an attached image was stripped out, and this put in its place&#58;
[cid&#58;image001.png@01D03FB8.F6523760]

If this is meant to be a URL or URI, it is obviously incomplete.

I wonder how many other tickets at the moment have similar issues?

Thanks,
~John

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John S. De Stefano Jr.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F23923">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 23923});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
