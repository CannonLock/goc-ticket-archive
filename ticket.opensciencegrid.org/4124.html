<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4124] Checking a few parameters from ReSS on ITB</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4124" method="post">
<div class="page-header">
    <h3><span class="muted">4124</span> / Checking a few parameters from ReSS on ITB</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls"> Ruth</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closing this ticket&#58; Frank confirmed it can be closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2007-09-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/4124", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4124#1190380727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-21T13:18:47+00:00">Sep 21, 2007 01:18 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1190380727">&nbsp;</a></div><pre>Closing ticket. Frank said the issue is resolved yesterday. I&#39;ve not heard any
objections to his note. -AG

Relevant threads on OSG-INT list&#58;

<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp</a>;L=osg-int&amp;T=0&amp;P=8638
<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp</a>;L=osg-int&amp;T=0&amp;P=7139
<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp</a>;L=osg-int&amp;T=0&amp;P=10885</pre></div><div class='update_description'><i onclick="document.location='4124#1190377628'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-21T12:27:08+00:00">Sep 21, 2007 12:27 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1190377628">&nbsp;</a></div><pre>Frank, Ruth .. and everyone else involved in this ticket...

OK, I am closing this ticket. Thanks everybody for the quick resolution!

Cheers,
Arvind

On 2007-09-20 09&#58;03 (-0400), Arvind Gopu had pondered&#58;

<font color='#7F7E6F'>&#62; Hi Frank,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks for letting us know! I will give everybody on this note&#39;s</font>
<font color='#7F7E6F'>&#62; recipients a chance to chime in if they have anything more to add ..</font>
<font color='#7F7E6F'>&#62; till COB today.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks & Cheers,</font>
<font color='#7F7E6F'>&#62; 	 Arvind</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 2007-09-19 22&#58;24 (-0700), frank Wuerthwein had pondered&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Dear friends at the GOC.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; I get the impression that this ticket can be closed. So let me try to</font>
<font color='#7F7E6F'>&#62; &#62; summarize, and then give people</font>
<font color='#7F7E6F'>&#62; &#62; one last chance to object to closing the ticket.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Problem&#58;</font>
<font color='#7F7E6F'>&#62; &#62; -------------</font>
<font color='#7F7E6F'>&#62; &#62; Several sites on OSG use condor as batch system in such a way that they</font>
<font color='#7F7E6F'>&#62; &#62; have special VMs (batch slots) on many or all their worker nodes that</font>
<font color='#7F7E6F'>&#62; &#62; can never be accessed by any grid job. These special slots are meant</font>
<font color='#7F7E6F'>&#62; &#62; only for sleep jobs to test scalability, and for administrative</font>
<font color='#7F7E6F'>&#62; &#62; purposes. These slots should not be counted by CEMON in any way.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<div id='show_925846834' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_925846834'><font color='#7F7E6F'>&#62; &#62; Solution&#58;</font>
<font color='#7F7E6F'>&#62; &#62; -------------</font>
<font color='#7F7E6F'>&#62; &#62; The slots show up in owner state whenever there is no administrative use</font>
<font color='#7F7E6F'>&#62; &#62; made of them. The GIP should thus simply not count slots that are in</font>
<font color='#7F7E6F'>&#62; &#62; owner state. A solution for how to configure the GIP to ignore slots in</font>
<font color='#7F7E6F'>&#62; &#62; owner state was sent around, and deployed at both Caltech and UCSD. It</font>
<font color='#7F7E6F'>&#62; &#62; is my understanding that this solution worked at both places. In</font>
<font color='#7F7E6F'>&#62; &#62; addition, I understand that the documentation was updated to include</font>
<font color='#7F7E6F'>&#62; &#62; this information.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Bottom line, all we were lacking is some documentation.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; For the record, while the sites are used for scalability testing, these</font>
<font color='#7F7E6F'>&#62; &#62; special slots will show up in CEMON anyway because they will then not</font>
<font color='#7F7E6F'>&#62; &#62; show up in owner state. owner state in condor means that those who are</font>
<font color='#7F7E6F'>&#62; &#62; privileged to use a slot are presently not active on the cluster. The</font>
<font color='#7F7E6F'>&#62; &#62; inverse is thus also true, as best as I understand. If even only one</font>
<font color='#7F7E6F'>&#62; &#62; slot is used by somebody who has privileges to the special slots then</font>
<font color='#7F7E6F'>&#62; &#62; they are no longer refered to as in owner. That&#39;s at least my</font>
<font color='#7F7E6F'>&#62; &#62; understanding.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; I believe that the only other sites that are likely to be affected by</font>
<font color='#7F7E6F'>&#62; &#62; this are cms@fnal and wisconsin. Both at least used to have similar</font>
<font color='#7F7E6F'>&#62; &#62; setups for scalability testing as Caltech and UCSD. Don&#39;t know who else</font>
<font color='#7F7E6F'>&#62; &#62; might be affected.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Many thanks for the quick resolution of this problem.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_925846834').click(function() {
            $('#detail_925846834').slideDown("normal");
            $('#show_925846834').hide();
            $('#hide_925846834').show();
        });
        $('#hide_925846834').click(function() {
            $('#detail_925846834').slideUp();
            $('#hide_925846834').hide();
            $('#show_925846834').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190305090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T16:18:10+00:00">Sep 20, 2007 04:18 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1190305090">&nbsp;</a></div><pre>Horst Severini wrote&#58;
<font color='#7F7E6F'>&#62; Hi Gabriele,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I append the table of the current value. Can people please check it for</font>
<font color='#7F7E6F'>&#62;&#62; their site?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; What happened to OUHEP_ITB? Did it disappear for some reason?</font>
<font color='#7F7E6F'>&#62; It was still in the old list on the bottom of your email, but it&#39;s not</font>
<font color='#7F7E6F'>&#62; there anymore in the new one.</font>

Ditto for CIT_ITB_1.

--Mike</pre></div><div class='update_description'><i onclick="document.location='4124#1190303828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T15:57:08+00:00">Sep 20, 2007 03:57 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1190303828">&nbsp;</a></div><pre>Hi Gabriele,
<font color='#7F7E6F'>&#62;[snip]</font>
<font color='#7F7E6F'>&#62; * GlueCEInfoTotalCPUs&#58; is the total number of CPU that exist for the</font>
<font color='#7F7E6F'>&#62; computing element AND are available for general access (i.e. this is</font>
<font color='#7F7E6F'>&#62; corrected by the &#34;owner&#34; parameter).</font>
<font color='#7F7E6F'>&#62; -Problem&#58;</font>
<font color='#7F7E6F'>&#62; Some installation actually use specific constraints to define these</font>
<font color='#7F7E6F'>&#62; (e.g. Xin at BNL defines ITB resources via</font>
<font color='#7F7E6F'>&#62; condor_status -constraints &#39;CPU_Type == &#34;osgitb&#34;&#39; ). This is why we had</font>
<font color='#7F7E6F'>&#62; the idea of introducing the extra degree of freedom in the selection of</font>
<font color='#7F7E6F'>&#62; -constraints.</font>
<font color='#7F7E6F'>&#62; -Questions&#58;</font>
<font color='#7F7E6F'>&#62; Xin, would the number of CPU be right in production?</font>
<font color='#7F7E6F'>&#62; Anybody else needs this feature?</font>
This is an interesting use case. I can investigate on how we can add
this constraints field. I don&#39;t think this will be too difficult, but we
need to be careful how we decide to add new features. If many folks need
it then maybe it should go to the current ITB release.
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; * GlueCEPolicyAssignedJobSlots&#58; total number of job slots available by</font>
<font color='#7F7E6F'>&#62; policy for a certain VO (i.e. when the VO runs no job at the site). This</font>
<font color='#7F7E6F'>&#62; should automatically exclude the CPUs marked as &#34;owner&#34;.</font>
<font color='#7F7E6F'>&#62; - Problem&#58;</font>
<font color='#7F7E6F'>&#62; for PBS this is number is GlueCEInfoTotalCPUs (ANAND, IS THIS TRUE?)</font>
For pbs since we cannot get the correct information, this is not set at
all. So I guess it would be 0. This can be easily fixed to publish
TotalCPU if that is what you would need
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; * GlueCEStateFreeJobSlots&#58; number of job slots currently available for a</font>
<font color='#7F7E6F'>&#62; certain VO. This should automatically exclude the CPUs marked as &#34;owner&#34;.</font>
<font color='#7F7E6F'>&#62; - Problem&#58;</font>
<font color='#7F7E6F'>&#62; for PBS this is number is GlueCEStateFreeCPUs (ANAND, IS THIS TRUE?)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; * GlueCEStateFreeCPUs&#58;</font>
<font color='#7F7E6F'>&#62; same as GlueCEStateFreeJobSlots ?</font>
<div id='show_1237967364' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1237967364'><font color='#7F7E6F'>&#62;[snip]</font>
Not necessarily. If qstat - Q -f returns a max_queuable line then the
FreeSlots advertised is Minimum of (max_queuable - total_jobs_in_queue ,
free_cpus). Remember in pbs the information is regarding queues not the
VOs, since we cannot get that information in many cases.

Thanks,
Anand
</div><script type='text/javascript'>
        $('#show_1237967364').click(function() {
            $('#detail_1237967364').slideDown("normal");
            $('#show_1237967364').hide();
            $('#hide_1237967364').show();
        });
        $('#hide_1237967364').click(function() {
            $('#detail_1237967364').slideUp();
            $('#hide_1237967364').hide();
            $('#show_1237967364').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190303109'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T15:45:09+00:00">Sep 20, 2007 03:45 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1190303109">&nbsp;</a></div><pre>Hi Gabriele,

<font color='#7F7E6F'>&#62; I append the table of the current value. Can people please check it for</font>
<font color='#7F7E6F'>&#62; their site?</font>

What happened to OUHEP_ITB? Did it disappear for some reason?
It was still in the old list on the bottom of your email, but it&#39;s not
there anymore in the new one.

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='4124#1190302209'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T15:30:09+00:00">Sep 20, 2007 03:30 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1190302209">&nbsp;</a></div><pre>Hi Gabriele,

<font color='#7F7E6F'>&#62;&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Now regarding the discussion on the JobSlot variables, the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; &#34;GlueCEStateFreeJobSlots&#34;, that should be correctly being advertised</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; for atleast the condor and pbs batch systems. As for the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; &#34;GlueCEPolicyAssignedJobSlots&#34; it should be correctly published for</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; the condor batch system, for pbs batch system it is not possible for</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; GIP this information due to permission issues (GIP scripts run as</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; daemon users and on most pbs system they cannot gather monitoring</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; jobs belonging to other users).</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; So, PBS tells you how many CPUs are available, but not how many slots</font>
<font color='#7F7E6F'>&#62;&#62;&#62; are available? Is this the argument for using number of CPU instead</font>
<font color='#7F7E6F'>&#62;&#62;&#62; of job slots?</font>
<font color='#7F7E6F'>&#62;&#62; You could still use the number of slots. The only thing is that this</font>
<font color='#7F7E6F'>&#62;&#62; number will be same as number of free cpu for pbs, but for Condor it</font>
<font color='#7F7E6F'>&#62;&#62; would reflect the number of slots for that particular VO, so atleast</font>
<font color='#7F7E6F'>&#62;&#62; on condor sites you would have a more accurate information to make</font>
<font color='#7F7E6F'>&#62;&#62; scheduling decision.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; OK, this helps.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; One more question. The &#34;owner&#34; parameter is used for Total CPUs</font>
<font color='#7F7E6F'>&#62; (...actually deprecated...), but not for the Available Slots, right?</font>
<font color='#7F7E6F'>&#62; If we recommend VO&#39;s to use slots, instead of CPU, they won&#39;t get the</font>
<font color='#7F7E6F'>&#62; benefit of the correction for &#34;owner&#34;, right?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks</font>
<font color='#7F7E6F'>&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [snip]</font>
This is a good question. I rechecked the code and it appears that even
the &#34;GlueCEPolicyAssignedJobSlots&#34; is getting the correct information.
Also if a quota is specified in the condor batch system for a particular
<div id='show_331982965' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_331982965'>VO this gets reflected in the GlueCEPolicyAssignedJobSlots, i.e. this
field is Minimum of ($total_vms available, quota of a particular VO).

So in short setting the &#34;OSG_GIP_SUBTRACT_OWNER&#34; parameter to correct
the &#34;owner&#34; state VMs, will affect both the &#34;GlueCEInfoTotalCPUs&#34; and
&#34;GlueCEPolicyAssignedJobSlots&#34;. So I think we should be using these job
slot variables.

Thanks
Anand
</div><script type='text/javascript'>
        $('#show_331982965').click(function() {
            $('#detail_331982965').slideDown("normal");
            $('#show_331982965').hide();
            $('#hide_331982965').show();
        });
        $('#hide_331982965').click(function() {
            $('#detail_331982965').slideUp();
            $('#hide_331982965').hide();
            $('#show_331982965').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190300770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T15:06:10+00:00">Sep 20, 2007 03:06 PM UTC</time> by <b>garzogli@....</b><a class="anchor" name="1190300770">&nbsp;</a></div><pre>Hi,
very good. I&#39;m glad that this solution is acceptable. We will have to
teach our stakeholders how to use (and comply with) the information from
the sites. Most people will start using the available number of CPU in
their calculations with OSG 0.8.0. On the samgrid side, for now we are
going to submit jobs more slowly, to  mitigate the problem&#58; let us know
if you still see problems and we&#39;ll be happy to work with you to be
&#34;nice users&#34;.

Back to understanding what attributes VOs should use... Anand, can you
please correct me if I&#39;m wrong?
I&#39;m looking at
<a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#GlueCEUniqueID' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#GlueCEUniqueID</a>
for help.

* GlueCEInfoTotalCPUs&#58; is the total number of CPU that exist for the
computing element AND are available for general access (i.e. this is
corrected by the &#34;owner&#34; parameter).
-Problem&#58;
Some installation actually use specific constraints to define these
(e.g. Xin at BNL defines ITB resources via
condor_status -constraints &#39;CPU_Type == &#34;osgitb&#34;&#39; ). This is why we had
the idea of introducing the extra degree of freedom in the selection of
-constraints.
-Questions&#58;
Xin, would the number of CPU be right in production?
Anybody else needs this feature?

* GlueCEPolicyAssignedJobSlots&#58; total number of job slots available by
policy for a certain VO (i.e. when the VO runs no job at the site). This
should automatically exclude the CPUs marked as &#34;owner&#34;.
- Problem&#58;
for PBS this is number is GlueCEInfoTotalCPUs (ANAND, IS THIS TRUE?)

* GlueCEStateFreeJobSlots&#58; number of job slots currently available for a
<div id='show_768377817' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_768377817'>certain VO. This should automatically exclude the CPUs marked as &#34;owner&#34;.
- Problem&#58;
for PBS this is number is GlueCEStateFreeCPUs (ANAND, IS THIS TRUE?)

* GlueCEStateFreeCPUs&#58;
same as GlueCEStateFreeJobSlots ?

I append the table of the current value. Can people please check it for
their site?
Thanks
Gabriele

GlueSiteName 	GlueSchema VersionMinor 	GlueCEInfoContactString
GlueCEPolicyAssignedJobSlots 	GlueCEStateFreeJobSlots
GlueCEInfoTotalCPUs (Depr.) 	GlueCEStateFreeCPUs (Depr.)
BNL_ITB_Test1 	3 	gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor
0 	0 	0 	0
CLEMSON-ITB 	2 	osggate.clemson.edu&#58;2119/jobmanager-condor 	1812
371 	1812 	0
CMS-BURT-ITB 	3 	cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor 	12 	8 	12 	8
CMS-QUIKTRIP-ITB 	3 	quiktrip.fnal.gov&#58;2119/jobmanager-condor 	12 	8 	12 	8
FNAL_CDFOSG_TEST 	2 	fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor 	10
10 	10 	0
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor
10 	1 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor 	150
19 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor 	1
1 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor 	225
19 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor
25 	19 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor
28 	19 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor 	300
19 	28 	19
FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor
40 	19 	28 	19
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
100 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
10 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
144 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
170 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor 	1 	1 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
200 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
20 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
25 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
40 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
50 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
52 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor 	5 	5 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
60 	6 	6 	6
FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor
64 	6 	6 	6
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor
100 	20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	10
2 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor
144 	20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor
170 	20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	1 	1
28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor
200 	20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	20
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	25
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	28
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	40
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	50
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	52
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	5 	5
28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	60
20 	28 	20
FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	64
20 	28 	20
ITB_INSTALL_TEST_2 	3 	cms-xen1.fnal.gov&#58;2119/jobmanager-condor 	2 	1 	2 	2
ITB_INSTALL_TEST_2 	3 	cms-xen1.fnal.gov&#58;2119/jobmanager-condor 	2 	2 	2 	2
ITB_INSTALL_TEST_3 	3 	cms-xen9.fnal.gov&#58;2119/jobmanager-condor 	2 	2 	2 	2
ITB_INSTALL_TEST 	3 	cmssrv09.fnal.gov&#58;2119/jobmanager-condor 	4 	4 	4 	4
IUB_ITB_AG2 	3 	dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor
0 	0 	0 	0
LIGO-CIT-ITB 	3 	osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor
11 	1 	11 	1
NERSC-VM-VTB0 	3 	osp-vtb00.nersc.gov&#58;2119/jobmanager-sge 	0 	0 	0 	0
Purdue-ITB 	3 	itb.rcac.purdue.edu&#58;2119/jobmanager-condor 	1049 	36
1049 	36
SBGrid-Harvard 	2 	hpc.sbgrid.org&#58;2119/jobmanager-condor 	22 	20 	22 	0
TTU-TESTWULF 	3 	testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs 	0 	4 	8 	4
UC_ITB 	3 	uct3-edge7.uchicago.edu&#58;2119/jobmanager-pbs 	0 	0 	0 	0
UCSDT2-ITB1 	3 	osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor 	334
266 	334 	266

Anand Padmanabhan wrote&#58;
<font color='#7F7E6F'>&#62; Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Anand,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Hi Gabriele and Frank,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; As a first step I did look at the GIP information in the 0.7.0. As</font>
<font color='#7F7E6F'>&#62;&#62;&#62; for jobs in the &#34;owner&#34; state, by default they get counted in total</font>
<font color='#7F7E6F'>&#62;&#62;&#62; CPUs but they are NOT counted for the free CPUs or free slots. In</font>
<font color='#7F7E6F'>&#62;&#62;&#62; case a site does not want to count CPUs in &#34;owner&#34; state for the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; total CPU count, they can add &#34;$OSG_GIP_SUBTRACT_OWNER=1&#34; into</font>
<font color='#7F7E6F'>&#62;&#62;&#62; $VDT_LOCATION/monitoring/gip-attributes.conf and that GIP should no</font>
<font color='#7F7E6F'>&#62;&#62;&#62; longer advertise these VMs. I remember this functionality was added</font>
<font color='#7F7E6F'>&#62;&#62;&#62; for the current release based on request from UCSD. Clearly it was</font>
<font color='#7F7E6F'>&#62;&#62;&#62; not properly documented on the twiki, so I have added the following</font>
<font color='#7F7E6F'>&#62;&#62;&#62; entry</font>
<font color='#7F7E6F'>&#62;&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62; and I have also added a link to CE documentation of GIP, so it would</font>
<font color='#7F7E6F'>&#62;&#62;&#62; be more easier for site admins to find the information. If needed I</font>
<font color='#7F7E6F'>&#62;&#62;&#62; could help port this solution back to OSG 0.6.0.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; This is very good. We should see on the ITB if these numbers are</font>
<font color='#7F7E6F'>&#62;&#62; closer to reality than what we&#39;ve seen in the past week. If admins</font>
<font color='#7F7E6F'>&#62;&#62; let me know when they make the change, I&#39;ll publish the new</font>
<font color='#7F7E6F'>&#62;&#62; information from ReSS.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Now regarding the discussion on the JobSlot variables, the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#34;GlueCEStateFreeJobSlots&#34;, that should be correctly being advertised</font>
<font color='#7F7E6F'>&#62;&#62;&#62; for atleast the condor and pbs batch systems. As for the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#34;GlueCEPolicyAssignedJobSlots&#34; it should be correctly published for</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the condor batch system, for pbs batch system it is not possible for</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GIP this information due to permission issues (GIP scripts run as</font>
<font color='#7F7E6F'>&#62;&#62;&#62; daemon users and on most pbs system they cannot gather monitoring</font>
<font color='#7F7E6F'>&#62;&#62;&#62; jobs belonging to other users).</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; So, PBS tells you how many CPUs are available, but not how many slots</font>
<font color='#7F7E6F'>&#62;&#62; are available? Is this the argument for using number of CPU instead</font>
<font color='#7F7E6F'>&#62;&#62; of job slots?</font>
<font color='#7F7E6F'>&#62; You could still use the number of slots. The only thing is that this</font>
<font color='#7F7E6F'>&#62; number will be same as number of free cpu for pbs, but for Condor it</font>
<font color='#7F7E6F'>&#62; would reflect the number of slots for that particular VO, so atleast</font>
<font color='#7F7E6F'>&#62; on condor sites you would have a more accurate information to make</font>
<font color='#7F7E6F'>&#62; scheduling decision.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Currently, I am not in the loop for the Condor-G/Gatekeeper status</font>
<font color='#7F7E6F'>&#62;&#62;&#62; files being out of sync as you suggested. Could you or someone help</font>
<font color='#7F7E6F'>&#62;&#62;&#62; me get upto date on this thread.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Jamie has talked to Parag about this. He should come back to us about</font>
<font color='#7F7E6F'>&#62;&#62; this issue.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; At any rate, one thing that we can do from SAM-Grid to mitigate the</font>
<font color='#7F7E6F'>&#62;&#62; problem is lowering the number of total jobs that we submit for every</font>
<font color='#7F7E6F'>&#62;&#62; negotiation cycle to OSG sites. Today it is 30 jobs. We can lower</font>
<font color='#7F7E6F'>&#62;&#62; this to 20 and see if it helps with the number of job managers.</font>
<font color='#7F7E6F'>&#62; Thanks for the update.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Hi Frank,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I think there is some confusion here. Let me try to clarify.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I have started the discussion on the accuracy of the parameters</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; from the ITB</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; because it uses for the first time GIP v1.3. The current production</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; deployment,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; instead, uses GIP v1.2, where most of those &#34;state&#34; attributes are</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; not very</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; reliable anyway. Because of this, SAM-Grid uses CEMon for its</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; static information</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; (gram url, site name, etc.) and gets its dynamic information from</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; its own</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; deployments of condor-g. My goal working with the ITB is fine</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; tuning v1.3 before</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; it goes to production with OSG 0.8.0. With OSG 0.8.0 we can get big</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; improvements</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; on our stakeholder&#39;s resource selection algorithms.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; In other words, CEMon, or better GIP, is NOT the reason for this</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; problem, at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; least for the fraction competing to SAM-Grid.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; For what concerns UCSD, the initial look at the problem seems</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; related to</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Condor-g / Gatekeeper status files being out of synch. Clearly, more</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; investigation needs to be done to identify a culprit for sure;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; however, Parag</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; and Jaime Frey have started talking and more will come in the next</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; few days,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; hopefully with the help of the troubleshooting team.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; In recent weeks, DZero MC production on OSG has ramped up&#58; I wonder</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; if we start</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; seeing these problem because of this. Our resource selection</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; algorithm tries to</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; maintain twice as many idle jobs, at the cluster queue, as running</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; jobs. We can</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; discuss if you think this is too aggressive and tune it. For</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; example, as I</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; mentioned in a separate email, we could try to keep 1 idle job per</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; running job&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; this may reduce the number of grid contexts at your site of 1/3&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; would that be</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; significant or not? At any rate, hopefully OSG 0.8.0 will advertise</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; better</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; information and we can weight this ratio according to the number of</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; slots</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; available at the cluster (...or available for our VO, if your</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; cluster is</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; configured that way).</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; UCSD is a precious resource on the OSG and I really hope we&#39;ll find</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; a way of</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; keeping it open for opportunistic usage.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; frank Wuerthwein wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; we need this fixed asap because we suspect it to be contributing</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; to the CE</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; We now had two such overloads in three days on the production</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; system osg-gw-2.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; I fear the nonsense advertizing from CEMON leads to us getting</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; pummeled by</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Those are the sets of users who use CEMON info for scheduling</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; decisions.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; This is particularly irritating because the treatment of &#34;owner&#34;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; slots had</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; on getting ML to report accurate info. The fact that OSG lost this</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; knowledge</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; is very irritating.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; scale on</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; If we can&#39;t figure out a way to have non-CMS users coexist with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; cms users then</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; you have a good point&#58; we started focusing on number of CPU, but</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; we have</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; So you are right, for resource selection Free Job Slots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Assigned Job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; GlueCEStateFreeJobSlots is the number of currently available job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots is the number of all available job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Below there is a summary of the information for each site. In</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; general the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; two numbers are different.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Will, can do you the same exercise as for total number of cpu and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; look at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; the implementation? It would be useful to see what the difference</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; is.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; In the case of Mike, there is no difference between the number of</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; CPU and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; the number of slots (...we we discussed). For Xin, the infor is not</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; available now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Can administrators please give a look also at these parameters</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; and see if</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; they make sense?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Thanks!</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; GlueSiteName    GlueSchema VersionMinor    GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots    GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; BNL_ITB_Test1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; CIT_ITB_1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; cithep201.ultralight.org&#58;2119/jobmanager-condor    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 45    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; CLEMSON-ITB    2    osggate.clemson.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 1629    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; CMS-BURT-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; CMS-QUIKTRIP-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; quiktrip.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_CDFOSG_TEST    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 10    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    150</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 1    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    225</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    300</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_TEST    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgtest1.fnal.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    100</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    144</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    170</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    200</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    50</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    52</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    5    5</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    60</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    64</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; ITB_INSTALL_TEST_2    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; cms-xen1.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; ITB_INSTALL_TEST_3    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; cms-xen9.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; ITB_INSTALL_TEST    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; cmssrv09.fnal.gov&#58;2119/jobmanager-condor    4    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; IUB_ITB_AG2    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; LBNL_VTB    3    osp1.lbl.gov&#58;2119/jobmanager-pbs    0    40    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; LIGO-CIT-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 10    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; NERSC-VM-VTB0    3    osp-vtb00.nersc.gov&#58;2119/jobmanager-sge</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; OUHEP_ITB    3    osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 8    0    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Purdue-ITB    3    itb.rcac.purdue.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 1047    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 1047</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; SBGrid-Harvard    2    hpc.sbgrid.org&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 22    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 22</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; TTU-TESTWULF    3    testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 0    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; UCSDT2-ITB1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor    1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; 12    1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; I agree, I think that batch slots are likely more generally</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; useful.  From</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; reading through the schema spec, it sounds like for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; selection the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; item that most people should use as of Glue 1.3 is FreeJobSlots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; table</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Gabriele created?  I am sure this still has issues with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; schedulers and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; queues we are already discussing, but it seems like that is what</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; folks may</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; want to focus on for resource selection.  Does that sound</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; reasonable?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; I think it is important to get this straightened out and will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; work with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Rob G,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; You proposed recreating the critical attributes committee on</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Thursday and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; meeting in the VTB timeslot.  It seems like this discussion is</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; right along</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; those lines.  Can we start this Tuesday?  I am not familiar with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; everyone</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; enough to know who exactly should come, but it seems like we</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; have a good</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; start right now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;  Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; numbers (slots and CPU). This could be an improvement for</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; future OSG</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;  Until then, do we want to try to report #CPUs as defined in</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; the Glue</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; schema, or #batch slots which makes it more useful for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; selection?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;  I think that # of slots is easier to get and more meaningful</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; for VOs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62; --Mike</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_768377817').click(function() {
            $('#detail_768377817').slideDown("normal");
            $('#show_768377817').hide();
            $('#hide_768377817').show();
        });
        $('#hide_768377817').click(function() {
            $('#detail_768377817').slideUp();
            $('#hide_768377817').hide();
            $('#show_768377817').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190293028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T12:57:08+00:00">Sep 20, 2007 12:57 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1190293028">&nbsp;</a></div><pre>Hi Frank,

Thanks for letting us know! I will give everybody on this note&#39;s
recipients a chance to chime in if they have anything more to add ..
till COB today.

Thanks & Cheers,
Arvind

On 2007-09-19 22&#58;24 (-0700), frank Wuerthwein had pondered&#58;

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Dear friends at the GOC.</font>
<font color='#7F7E6F'>&#62; &#62; I get the impression that this ticket can be closed. So let me try to</font>
<font color='#7F7E6F'>&#62; summarize, and then give people</font>
<font color='#7F7E6F'>&#62; one last chance to object to closing the ticket.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Problem&#58;</font>
<font color='#7F7E6F'>&#62; -------------</font>
<font color='#7F7E6F'>&#62; Several sites on OSG use condor as batch system in such a way that they</font>
<font color='#7F7E6F'>&#62; have special VMs (batch slots) on many or all their worker nodes that</font>
<font color='#7F7E6F'>&#62; can never be accessed by any grid job. These special slots are meant</font>
<font color='#7F7E6F'>&#62; only for sleep jobs to test scalability, and for administrative</font>
<font color='#7F7E6F'>&#62; purposes. These slots should not be counted by CEMON in any way.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Solution&#58;</font>
<font color='#7F7E6F'>&#62; -------------</font>
<font color='#7F7E6F'>&#62; The slots show up in owner state whenever there is no administrative use</font>
<font color='#7F7E6F'>&#62; made of them. The GIP should thus simply not count slots that are in</font>
<font color='#7F7E6F'>&#62; owner state. A solution for how to configure the GIP to ignore slots in</font>
<font color='#7F7E6F'>&#62; owner state was sent around, and deployed at both Caltech and UCSD. It</font>
<font color='#7F7E6F'>&#62; is my understanding that this solution worked at both places. In</font>
<font color='#7F7E6F'>&#62; addition, I understand that the documentation was updated to include</font>
<font color='#7F7E6F'>&#62; this information.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_1232614787' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1232614787'><font color='#7F7E6F'>&#62; Bottom line, all we were lacking is some documentation.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; For the record, while the sites are used for scalability testing, these</font>
<font color='#7F7E6F'>&#62; special slots will show up in CEMON anyway because they will then not</font>
<font color='#7F7E6F'>&#62; show up in owner state. owner state in condor means that those who are</font>
<font color='#7F7E6F'>&#62; privileged to use a slot are presently not active on the cluster. The</font>
<font color='#7F7E6F'>&#62; inverse is thus also true, as best as I understand. If even only one</font>
<font color='#7F7E6F'>&#62; slot is used by somebody who has privileges to the special slots then</font>
<font color='#7F7E6F'>&#62; they are no longer refered to as in owner. That&#39;s at least my</font>
<font color='#7F7E6F'>&#62; understanding.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I believe that the only other sites that are likely to be affected by</font>
<font color='#7F7E6F'>&#62; this are cms@fnal and wisconsin. Both at least used to have similar</font>
<font color='#7F7E6F'>&#62; setups for scalability testing as Caltech and UCSD. Don&#39;t know who else</font>
<font color='#7F7E6F'>&#62; might be affected.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Many thanks for the quick resolution of this problem.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1232614787').click(function() {
            $('#detail_1232614787').slideDown("normal");
            $('#show_1232614787').hide();
            $('#hide_1232614787').show();
        });
        $('#hide_1232614787').click(function() {
            $('#detail_1232614787').slideUp();
            $('#hide_1232614787').hide();
            $('#show_1232614787').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190266028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-20T05:27:08+00:00">Sep 20, 2007 05:27 AM UTC</time> by <b>frank wurthwein</b><a class="anchor" name="1190266028">&nbsp;</a></div><pre>Dear friends at the GOC.

I get the impression that this ticket can be closed. So let me try to
summarize, and then give people
one last chance to object to closing the ticket.

Problem&#58;
-------------
Several sites on OSG use condor as batch system in such a way that
they have special VMs (batch slots)
on many or all their worker nodes that can never be accessed by any
grid job.
These special slots are meant only for sleep jobs to test
scalability, and for administrative purposes.
These slots should not be counted by CEMON in any way.

Solution&#58;
-------------
The slots show up in owner state whenever there is no administrative
use made of them.
The GIP should thus simply not count slots that are in owner state.
A solution for how to configure the GIP to ignore slots in owner
state was sent around, and deployed at both Caltech and UCSD.
It is my understanding that this solution worked at both places. In
addition, I understand that the documentation
was updated to include this information.

Bottom line, all we were lacking is some documentation.

For the record, while the sites are used for scalability testing,
these special slots will show up in CEMON anyway
because they will then not show up in owner state. owner state in
condor means that those who are privileged
to use a slot are presently not active on the cluster. The inverse is
thus also true, as best as I understand. If even only
<div id='show_714000695' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_714000695'>one slot is used by somebody who has privileges to the special slots
then they are no longer refered to as in owner.
That&#39;s at least my understanding.

I believe that the only other sites that are likely to be affected by
this are cms@fnal and wisconsin. Both at least used to
have similar setups for scalability testing as Caltech and UCSD.
Don&#39;t know who else might be affected.

Many thanks for the quick resolution of this problem.

Best wishes, Frank
</div><script type='text/javascript'>
        $('#show_714000695').click(function() {
            $('#detail_714000695').slideDown("normal");
            $('#show_714000695').hide();
            $('#hide_714000695').show();
        });
        $('#hide_714000695').click(function() {
            $('#detail_714000695').slideUp();
            $('#hide_714000695').hide();
            $('#show_714000695').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190239387'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T22:03:07+00:00">Sep 19, 2007 10:03 PM UTC</time> by <b>garzogli@....</b><a class="anchor" name="1190239387">&nbsp;</a></div><pre>Hi Anand,

Anand Padmanabhan wrote&#58;
<font color='#7F7E6F'>&#62; Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Anand,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Now regarding the discussion on the JobSlot variables, the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#34;GlueCEStateFreeJobSlots&#34;, that should be correctly being advertised</font>
<font color='#7F7E6F'>&#62;&#62;&#62; for atleast the condor and pbs batch systems. As for the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#34;GlueCEPolicyAssignedJobSlots&#34; it should be correctly published for</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the condor batch system, for pbs batch system it is not possible for</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GIP this information due to permission issues (GIP scripts run as</font>
<font color='#7F7E6F'>&#62;&#62;&#62; daemon users and on most pbs system they cannot gather monitoring</font>
<font color='#7F7E6F'>&#62;&#62;&#62; jobs belonging to other users).</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; So, PBS tells you how many CPUs are available, but not how many slots</font>
<font color='#7F7E6F'>&#62;&#62; are available? Is this the argument for using number of CPU instead</font>
<font color='#7F7E6F'>&#62;&#62; of job slots?</font>
<font color='#7F7E6F'>&#62; You could still use the number of slots. The only thing is that this</font>
<font color='#7F7E6F'>&#62; number will be same as number of free cpu for pbs, but for Condor it</font>
<font color='#7F7E6F'>&#62; would reflect the number of slots for that particular VO, so atleast</font>
<font color='#7F7E6F'>&#62; on condor sites you would have a more accurate information to make</font>
<font color='#7F7E6F'>&#62; scheduling decision.</font>

OK, this helps.

One more question. The &#34;owner&#34; parameter is used for Total CPUs
(...actually deprecated...), but not for the Available Slots, right?
If we recommend VO&#39;s to use slots, instead of CPU, they won&#39;t get the
benefit of the correction for &#34;owner&#34;, right?

Thanks
Gabriele
<div id='show_112056081' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_112056081'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [snip]</font>
</div><script type='text/javascript'>
        $('#show_112056081').click(function() {
            $('#detail_112056081').slideDown("normal");
            $('#show_112056081').hide();
            $('#hide_112056081').show();
        });
        $('#hide_112056081').click(function() {
            $('#detail_112056081').slideUp();
            $('#hide_112056081').hide();
            $('#show_112056081').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190238668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T21:51:08+00:00">Sep 19, 2007 09:51 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1190238668">&nbsp;</a></div><pre>Gabriele Garzoglio wrote&#58;
<font color='#7F7E6F'>&#62; Hi Anand,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Gabriele and Frank,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; As a first step I did look at the GIP information in the 0.7.0. As for</font>
<font color='#7F7E6F'>&#62;&#62; jobs in the &#34;owner&#34; state, by default they get counted in total CPUs</font>
<font color='#7F7E6F'>&#62;&#62; but they are NOT counted for the free CPUs or free slots. In case a</font>
<font color='#7F7E6F'>&#62;&#62; site does not want to count CPUs in &#34;owner&#34; state for the total CPU</font>
<font color='#7F7E6F'>&#62;&#62; count, they can add &#34;$OSG_GIP_SUBTRACT_OWNER=1&#34; into</font>
<font color='#7F7E6F'>&#62;&#62; $VDT_LOCATION/monitoring/gip-attributes.conf and that GIP should no</font>
<font color='#7F7E6F'>&#62;&#62; longer advertise these VMs. I remember this functionality was added</font>
<font color='#7F7E6F'>&#62;&#62; for the current release based on request from UCSD. Clearly it was not</font>
<font color='#7F7E6F'>&#62;&#62; properly documented on the twiki, so I have added the following entry</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C</a></font>
<font color='#7F7E6F'>&#62;&#62; and I have also added a link to CE documentation of GIP, so it would</font>
<font color='#7F7E6F'>&#62;&#62; be more easier for site admins to find the information. If needed I</font>
<font color='#7F7E6F'>&#62;&#62; could help port this solution back to OSG 0.6.0.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This is very good. We should see on the ITB if these numbers are closer</font>
<font color='#7F7E6F'>&#62; to reality than what we&#39;ve seen in the past week. If admins let me know</font>
<font color='#7F7E6F'>&#62; when they make the change, I&#39;ll publish the new information from ReSS.</font>
<font color='#7F7E6F'>&#62;&#62; Now regarding the discussion on the JobSlot variables, the</font>
<font color='#7F7E6F'>&#62;&#62; &#34;GlueCEStateFreeJobSlots&#34;, that should be correctly being advertised</font>
<font color='#7F7E6F'>&#62;&#62; for atleast the condor and pbs batch systems. As for the</font>
<font color='#7F7E6F'>&#62;&#62; &#34;GlueCEPolicyAssignedJobSlots&#34; it should be correctly published for</font>
<font color='#7F7E6F'>&#62;&#62; the condor batch system, for pbs batch system it is not possible for</font>
<font color='#7F7E6F'>&#62;&#62; GIP this information due to permission issues (GIP scripts run as</font>
<font color='#7F7E6F'>&#62;&#62; daemon users and on most pbs system they cannot gather monitoring jobs</font>
<font color='#7F7E6F'>&#62;&#62; belonging to other users).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So, PBS tells you how many CPUs are available, but not how many slots</font>
<font color='#7F7E6F'>&#62; are available? Is this the argument for using number of CPU instead of</font>
<font color='#7F7E6F'>&#62; job slots?</font>
<div id='show_718946079' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_718946079'>You could still use the number of slots. The only thing is that this
number will be same as number of free cpu for pbs, but for Condor it
would reflect the number of slots for that particular VO, so atleast on
condor sites you would have a more accurate information to make
scheduling decision.
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Currently, I am not in the loop for the Condor-G/Gatekeeper status</font>
<font color='#7F7E6F'>&#62;&#62; files being out of sync as you suggested. Could you or someone help me</font>
<font color='#7F7E6F'>&#62;&#62; get upto date on this thread.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Jamie has talked to Parag about this. He should come back to us about</font>
<font color='#7F7E6F'>&#62; this issue.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; At any rate, one thing that we can do from SAM-Grid to mitigate the</font>
<font color='#7F7E6F'>&#62; problem is lowering the number of total jobs that we submit for every</font>
<font color='#7F7E6F'>&#62; negotiation cycle to OSG sites. Today it is 30 jobs. We can lower this</font>
<font color='#7F7E6F'>&#62; to 20 and see if it helps with the number of job managers.</font>
Thanks for the update.

Anand
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers</font>
<font color='#7F7E6F'>&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; Anand</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Hi Frank,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I think there is some confusion here. Let me try to clarify.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I have started the discussion on the accuracy of the parameters from</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the ITB</font>
<font color='#7F7E6F'>&#62;&#62;&#62; because it uses for the first time GIP v1.3. The current production</font>
<font color='#7F7E6F'>&#62;&#62;&#62; deployment,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; instead, uses GIP v1.2, where most of those &#34;state&#34; attributes are</font>
<font color='#7F7E6F'>&#62;&#62;&#62; not very</font>
<font color='#7F7E6F'>&#62;&#62;&#62; reliable anyway. Because of this, SAM-Grid uses CEMon for its static</font>
<font color='#7F7E6F'>&#62;&#62;&#62; information</font>
<font color='#7F7E6F'>&#62;&#62;&#62; (gram url, site name, etc.) and gets its dynamic information from its</font>
<font color='#7F7E6F'>&#62;&#62;&#62; own</font>
<font color='#7F7E6F'>&#62;&#62;&#62; deployments of condor-g. My goal working with the ITB is fine tuning</font>
<font color='#7F7E6F'>&#62;&#62;&#62; v1.3 before</font>
<font color='#7F7E6F'>&#62;&#62;&#62; it goes to production with OSG 0.8.0. With OSG 0.8.0 we can get big</font>
<font color='#7F7E6F'>&#62;&#62;&#62; improvements</font>
<font color='#7F7E6F'>&#62;&#62;&#62; on our stakeholder&#39;s resource selection algorithms.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; In other words, CEMon, or better GIP, is NOT the reason for this</font>
<font color='#7F7E6F'>&#62;&#62;&#62; problem, at</font>
<font color='#7F7E6F'>&#62;&#62;&#62; least for the fraction competing to SAM-Grid.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; For what concerns UCSD, the initial look at the problem seems related to</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Condor-g / Gatekeeper status files being out of synch. Clearly, more</font>
<font color='#7F7E6F'>&#62;&#62;&#62; investigation needs to be done to identify a culprit for sure;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; however, Parag</font>
<font color='#7F7E6F'>&#62;&#62;&#62; and Jaime Frey have started talking and more will come in the next</font>
<font color='#7F7E6F'>&#62;&#62;&#62; few days,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; hopefully with the help of the troubleshooting team.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; In recent weeks, DZero MC production on OSG has ramped up&#58; I wonder</font>
<font color='#7F7E6F'>&#62;&#62;&#62; if we start</font>
<font color='#7F7E6F'>&#62;&#62;&#62; seeing these problem because of this. Our resource selection</font>
<font color='#7F7E6F'>&#62;&#62;&#62; algorithm tries to</font>
<font color='#7F7E6F'>&#62;&#62;&#62; maintain twice as many idle jobs, at the cluster queue, as running</font>
<font color='#7F7E6F'>&#62;&#62;&#62; jobs. We can</font>
<font color='#7F7E6F'>&#62;&#62;&#62; discuss if you think this is too aggressive and tune it. For example,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; as I</font>
<font color='#7F7E6F'>&#62;&#62;&#62; mentioned in a separate email, we could try to keep 1 idle job per</font>
<font color='#7F7E6F'>&#62;&#62;&#62; running job&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; this may reduce the number of grid contexts at your site of 1/3&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; would that be</font>
<font color='#7F7E6F'>&#62;&#62;&#62; significant or not? At any rate, hopefully OSG 0.8.0 will advertise</font>
<font color='#7F7E6F'>&#62;&#62;&#62; better</font>
<font color='#7F7E6F'>&#62;&#62;&#62; information and we can weight this ratio according to the number of</font>
<font color='#7F7E6F'>&#62;&#62;&#62; slots</font>
<font color='#7F7E6F'>&#62;&#62;&#62; available at the cluster (...or available for our VO, if your cluster is</font>
<font color='#7F7E6F'>&#62;&#62;&#62; configured that way).</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; UCSD is a precious resource on the OSG and I really hope we&#39;ll find a</font>
<font color='#7F7E6F'>&#62;&#62;&#62; way of</font>
<font color='#7F7E6F'>&#62;&#62;&#62; keeping it open for opportunistic usage.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; frank Wuerthwein wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; we need this fixed asap because we suspect it to be contributing to</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; the CE</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; We now had two such overloads in three days on the production system</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; osg-gw-2.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I fear the nonsense advertizing from CEMON leads to us getting</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; pummeled by</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Those are the sets of users who use CEMON info for scheduling</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; decisions.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; This is particularly irritating because the treatment of &#34;owner&#34;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; slots had</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; on getting ML to report accurate info. The fact that OSG lost this</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; knowledge</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; is very irritating.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; scale on</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; If we can&#39;t figure out a way to have non-CMS users coexist with cms</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; users then</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; you have a good point&#58; we started focusing on number of CPU, but we</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; have</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; So you are right, for resource selection Free Job Slots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Assigned Job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; GlueCEStateFreeJobSlots is the number of currently available job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots is the number of all available job slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Below there is a summary of the information for each site. In</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; general the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; two numbers are different.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Will, can do you the same exercise as for total number of cpu and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; look at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; the implementation? It would be useful to see what the difference is.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; In the case of Mike, there is no difference between the number of</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; CPU and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; the number of slots (...we we discussed). For Xin, the infor is not</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; available now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Can administrators please give a look also at these parameters and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; see if</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; they make sense?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Thanks!</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; GlueSiteName    GlueSchema VersionMinor    GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots    GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; BNL_ITB_Test1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; CIT_ITB_1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; cithep201.ultralight.org&#58;2119/jobmanager-condor    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 45    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; CLEMSON-ITB    2    osggate.clemson.edu&#58;2119/jobmanager-condor    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 1629    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; CMS-BURT-ITB    3    cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; CMS-QUIKTRIP-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; quiktrip.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_CDFOSG_TEST    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 10    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    150</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 1    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    225</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    300</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_FERMIGRID_TEST    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgtest1.fnal.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    100</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    144</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    170</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    200</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    50</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    52</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    5    5</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    60</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    64</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; ITB_INSTALL_TEST_2    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; cms-xen1.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; ITB_INSTALL_TEST_3    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; cms-xen9.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; ITB_INSTALL_TEST    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; cmssrv09.fnal.gov&#58;2119/jobmanager-condor    4    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; IUB_ITB_AG2    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; LBNL_VTB    3    osp1.lbl.gov&#58;2119/jobmanager-pbs    0    40    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; LIGO-CIT-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 10    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; NERSC-VM-VTB0    3    osp-vtb00.nersc.gov&#58;2119/jobmanager-sge</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; OUHEP_ITB    3    osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Purdue-ITB    3    itb.rcac.purdue.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 1047    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 1047</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; SBGrid-Harvard    2    hpc.sbgrid.org&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 22    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 22</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; TTU-TESTWULF    3    testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 0    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; UCSDT2-ITB1    3    osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; 12    1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; I agree, I think that batch slots are likely more generally</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; useful.  From</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; reading through the schema spec, it sounds like for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; selection the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; item that most people should use as of Glue 1.3 is FreeJobSlots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the table</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Gabriele created?  I am sure this still has issues with schedulers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; queues we are already discussing, but it seems like that is what</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; folks may</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; want to focus on for resource selection.  Does that sound reasonable?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; I think it is important to get this straightened out and will work</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Rob G,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; You proposed recreating the critical attributes committee on</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Thursday and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; meeting in the VTB timeslot.  It seems like this discussion is</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; right along</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; those lines.  Can we start this Tuesday?  I am not familiar with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; everyone</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; enough to know who exactly should come, but it seems like we have</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; a good</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; start right now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;  Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; numbers (slots and CPU). This could be an improvement for future OSG</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;  Until then, do we want to try to report #CPUs as defined in the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Glue</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; schema, or #batch slots which makes it more useful for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; selection?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;  I think that # of slots is easier to get and more meaningful for</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; VOs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62; --Mike</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
</div><script type='text/javascript'>
        $('#show_718946079').click(function() {
            $('#detail_718946079').slideDown("normal");
            $('#show_718946079').hide();
            $('#hide_718946079').show();
        });
        $('#hide_718946079').click(function() {
            $('#detail_718946079').slideUp();
            $('#hide_718946079').hide();
            $('#show_718946079').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190237948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T21:39:08+00:00">Sep 19, 2007 09:39 PM UTC</time> by <b>anand-padmanabhan-1@....</b><a class="anchor" name="1190237948">&nbsp;</a></div><pre>Michael Thomas wrote&#58;
<font color='#7F7E6F'>&#62; Hi Gabriele,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Anand,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Hi Gabriele and Frank,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; As a first step I did look at the GIP information in the 0.7.0. As for</font>
<font color='#7F7E6F'>&#62;&#62;&#62; jobs in the &#34;owner&#34; state, by default they get counted in total CPUs</font>
<font color='#7F7E6F'>&#62;&#62;&#62; but they are NOT counted for the free CPUs or free slots. In case a</font>
<font color='#7F7E6F'>&#62;&#62;&#62; site does not want to count CPUs in &#34;owner&#34; state for the total CPU</font>
<font color='#7F7E6F'>&#62;&#62;&#62; count, they can add &#34;$OSG_GIP_SUBTRACT_OWNER=1&#34; into</font>
<font color='#7F7E6F'>&#62;&#62;&#62; $VDT_LOCATION/monitoring/gip-attributes.conf and that GIP should no</font>
<font color='#7F7E6F'>&#62;&#62;&#62; longer advertise these VMs. I remember this functionality was added</font>
<font color='#7F7E6F'>&#62;&#62;&#62; for the current release based on request from UCSD. Clearly it was not</font>
<font color='#7F7E6F'>&#62;&#62;&#62; properly documented on the twiki, so I have added the following entry</font>
<font color='#7F7E6F'>&#62;&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62; and I have also added a link to CE documentation of GIP, so it would</font>
<font color='#7F7E6F'>&#62;&#62;&#62; be more easier for site admins to find the information. If needed I</font>
<font color='#7F7E6F'>&#62;&#62;&#62; could help port this solution back to OSG 0.6.0.</font>
<font color='#7F7E6F'>&#62;&#62; This is very good. We should see on the ITB if these numbers are closer</font>
<font color='#7F7E6F'>&#62;&#62; to reality than what we&#39;ve seen in the past week. If admins let me know</font>
<font color='#7F7E6F'>&#62;&#62; when they make the change, I&#39;ll publish the new information from ReSS.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ve made the change on CIT_ITB_1.  Do I need to re-run configure_gip</font>
<font color='#7F7E6F'>&#62; after setting OSG_GIP_SUBTRACT_OWNER=1?</font>
<font color='#7F7E6F'>&#62;</font>
The change is in the GIP plugin, so you donot need to run configure_gip

Thanks
Anand</pre></div><div class='update_description'><i onclick="document.location='4124#1190237589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T21:33:09+00:00">Sep 19, 2007 09:33 PM UTC</time> by <b>Michael Thomas</b><a class="anchor" name="1190237589">&nbsp;</a></div><pre>Hi Gabriele,

Gabriele Garzoglio wrote&#58;
<font color='#7F7E6F'>&#62; Hi Anand,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Anand Padmanabhan wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Gabriele and Frank,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; As a first step I did look at the GIP information in the 0.7.0. As for</font>
<font color='#7F7E6F'>&#62;&#62; jobs in the &#34;owner&#34; state, by default they get counted in total CPUs</font>
<font color='#7F7E6F'>&#62;&#62; but they are NOT counted for the free CPUs or free slots. In case a</font>
<font color='#7F7E6F'>&#62;&#62; site does not want to count CPUs in &#34;owner&#34; state for the total CPU</font>
<font color='#7F7E6F'>&#62;&#62; count, they can add &#34;$OSG_GIP_SUBTRACT_OWNER=1&#34; into</font>
<font color='#7F7E6F'>&#62;&#62; $VDT_LOCATION/monitoring/gip-attributes.conf and that GIP should no</font>
<font color='#7F7E6F'>&#62;&#62; longer advertise these VMs. I remember this functionality was added</font>
<font color='#7F7E6F'>&#62;&#62; for the current release based on request from UCSD. Clearly it was not</font>
<font color='#7F7E6F'>&#62;&#62; properly documented on the twiki, so I have added the following entry</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C</a></font>
<font color='#7F7E6F'>&#62;&#62; and I have also added a link to CE documentation of GIP, so it would</font>
<font color='#7F7E6F'>&#62;&#62; be more easier for site admins to find the information. If needed I</font>
<font color='#7F7E6F'>&#62;&#62; could help port this solution back to OSG 0.6.0.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This is very good. We should see on the ITB if these numbers are closer</font>
<font color='#7F7E6F'>&#62; to reality than what we&#39;ve seen in the past week. If admins let me know</font>
<font color='#7F7E6F'>&#62; when they make the change, I&#39;ll publish the new information from ReSS.</font>

I&#39;ve made the change on CIT_ITB_1.  Do I need to re-run configure_gip
after setting OSG_GIP_SUBTRACT_OWNER=1?

--Mike</pre></div><div class='update_description'><i onclick="document.location='4124#1190237408'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T21:30:08+00:00">Sep 19, 2007 09:30 PM UTC</time> by <b>garzogli@....</b><a class="anchor" name="1190237408">&nbsp;</a></div><pre>Hi Anand,

Anand Padmanabhan wrote&#58;
<font color='#7F7E6F'>&#62; Hi Gabriele and Frank,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; As a first step I did look at the GIP information in the 0.7.0. As for</font>
<font color='#7F7E6F'>&#62; jobs in the &#34;owner&#34; state, by default they get counted in total CPUs</font>
<font color='#7F7E6F'>&#62; but they are NOT counted for the free CPUs or free slots. In case a</font>
<font color='#7F7E6F'>&#62; site does not want to count CPUs in &#34;owner&#34; state for the total CPU</font>
<font color='#7F7E6F'>&#62; count, they can add &#34;$OSG_GIP_SUBTRACT_OWNER=1&#34; into</font>
<font color='#7F7E6F'>&#62; $VDT_LOCATION/monitoring/gip-attributes.conf and that GIP should no</font>
<font color='#7F7E6F'>&#62; longer advertise these VMs. I remember this functionality was added</font>
<font color='#7F7E6F'>&#62; for the current release based on request from UCSD. Clearly it was not</font>
<font color='#7F7E6F'>&#62; properly documented on the twiki, so I have added the following entry</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C</a></font>
<font color='#7F7E6F'>&#62; and I have also added a link to CE documentation of GIP, so it would</font>
<font color='#7F7E6F'>&#62; be more easier for site admins to find the information. If needed I</font>
<font color='#7F7E6F'>&#62; could help port this solution back to OSG 0.6.0.</font>

This is very good. We should see on the ITB if these numbers are closer
to reality than what we&#39;ve seen in the past week. If admins let me know
when they make the change, I&#39;ll publish the new information from ReSS.
<font color='#7F7E6F'>&#62; Now regarding the discussion on the JobSlot variables, the</font>
<font color='#7F7E6F'>&#62; &#34;GlueCEStateFreeJobSlots&#34;, that should be correctly being advertised</font>
<font color='#7F7E6F'>&#62; for atleast the condor and pbs batch systems. As for the</font>
<font color='#7F7E6F'>&#62; &#34;GlueCEPolicyAssignedJobSlots&#34; it should be correctly published for</font>
<font color='#7F7E6F'>&#62; the condor batch system, for pbs batch system it is not possible for</font>
<font color='#7F7E6F'>&#62; GIP this information due to permission issues (GIP scripts run as</font>
<font color='#7F7E6F'>&#62; daemon users and on most pbs system they cannot gather monitoring jobs</font>
<font color='#7F7E6F'>&#62; belonging to other users).</font>

So, PBS tells you how many CPUs are available, but not how many slots
are available? Is this the argument for using number of CPU instead of
job slots?

<div id='show_1224198621' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1224198621'><font color='#7F7E6F'>&#62; Currently, I am not in the loop for the Condor-G/Gatekeeper status</font>
<font color='#7F7E6F'>&#62; files being out of sync as you suggested. Could you or someone help me</font>
<font color='#7F7E6F'>&#62; get upto date on this thread.</font>

Jamie has talked to Parag about this. He should come back to us about
this issue.

At any rate, one thing that we can do from SAM-Grid to mitigate the
problem is lowering the number of total jobs that we submit for every
negotiation cycle to OSG sites. Today it is 30 jobs. We can lower this
to 20 and see if it helps with the number of job managers.

Cheers
Gabriele
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Anand</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Frank,</font>
<font color='#7F7E6F'>&#62;&#62; I think there is some confusion here. Let me try to clarify.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I have started the discussion on the accuracy of the parameters from</font>
<font color='#7F7E6F'>&#62;&#62; the ITB</font>
<font color='#7F7E6F'>&#62;&#62; because it uses for the first time GIP v1.3. The current production</font>
<font color='#7F7E6F'>&#62;&#62; deployment,</font>
<font color='#7F7E6F'>&#62;&#62; instead, uses GIP v1.2, where most of those &#34;state&#34; attributes are</font>
<font color='#7F7E6F'>&#62;&#62; not very</font>
<font color='#7F7E6F'>&#62;&#62; reliable anyway. Because of this, SAM-Grid uses CEMon for its static</font>
<font color='#7F7E6F'>&#62;&#62; information</font>
<font color='#7F7E6F'>&#62;&#62; (gram url, site name, etc.) and gets its dynamic information from its</font>
<font color='#7F7E6F'>&#62;&#62; own</font>
<font color='#7F7E6F'>&#62;&#62; deployments of condor-g. My goal working with the ITB is fine tuning</font>
<font color='#7F7E6F'>&#62;&#62; v1.3 before</font>
<font color='#7F7E6F'>&#62;&#62; it goes to production with OSG 0.8.0. With OSG 0.8.0 we can get big</font>
<font color='#7F7E6F'>&#62;&#62; improvements</font>
<font color='#7F7E6F'>&#62;&#62; on our stakeholder&#39;s resource selection algorithms.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; In other words, CEMon, or better GIP, is NOT the reason for this</font>
<font color='#7F7E6F'>&#62;&#62; problem, at</font>
<font color='#7F7E6F'>&#62;&#62; least for the fraction competing to SAM-Grid.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; For what concerns UCSD, the initial look at the problem seems related to</font>
<font color='#7F7E6F'>&#62;&#62; Condor-g / Gatekeeper status files being out of synch. Clearly, more</font>
<font color='#7F7E6F'>&#62;&#62; investigation needs to be done to identify a culprit for sure;</font>
<font color='#7F7E6F'>&#62;&#62; however, Parag</font>
<font color='#7F7E6F'>&#62;&#62; and Jaime Frey have started talking and more will come in the next</font>
<font color='#7F7E6F'>&#62;&#62; few days,</font>
<font color='#7F7E6F'>&#62;&#62; hopefully with the help of the troubleshooting team.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; In recent weeks, DZero MC production on OSG has ramped up&#58; I wonder</font>
<font color='#7F7E6F'>&#62;&#62; if we start</font>
<font color='#7F7E6F'>&#62;&#62; seeing these problem because of this. Our resource selection</font>
<font color='#7F7E6F'>&#62;&#62; algorithm tries to</font>
<font color='#7F7E6F'>&#62;&#62; maintain twice as many idle jobs, at the cluster queue, as running</font>
<font color='#7F7E6F'>&#62;&#62; jobs. We can</font>
<font color='#7F7E6F'>&#62;&#62; discuss if you think this is too aggressive and tune it. For example,</font>
<font color='#7F7E6F'>&#62;&#62; as I</font>
<font color='#7F7E6F'>&#62;&#62; mentioned in a separate email, we could try to keep 1 idle job per</font>
<font color='#7F7E6F'>&#62;&#62; running job&#58;</font>
<font color='#7F7E6F'>&#62;&#62; this may reduce the number of grid contexts at your site of 1/3&#58;</font>
<font color='#7F7E6F'>&#62;&#62; would that be</font>
<font color='#7F7E6F'>&#62;&#62; significant or not? At any rate, hopefully OSG 0.8.0 will advertise</font>
<font color='#7F7E6F'>&#62;&#62; better</font>
<font color='#7F7E6F'>&#62;&#62; information and we can weight this ratio according to the number of</font>
<font color='#7F7E6F'>&#62;&#62; slots</font>
<font color='#7F7E6F'>&#62;&#62; available at the cluster (...or available for our VO, if your cluster is</font>
<font color='#7F7E6F'>&#62;&#62; configured that way).</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; UCSD is a precious resource on the OSG and I really hope we&#39;ll find a</font>
<font color='#7F7E6F'>&#62;&#62; way of</font>
<font color='#7F7E6F'>&#62;&#62; keeping it open for opportunistic usage.</font>
<font color='#7F7E6F'>&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; frank Wuerthwein wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; we need this fixed asap because we suspect it to be contributing to</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the CE</font>
<font color='#7F7E6F'>&#62;&#62;&#62; overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; We now had two such overloads in three days on the production system</font>
<font color='#7F7E6F'>&#62;&#62;&#62; osg-gw-2.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I fear the nonsense advertizing from CEMON leads to us getting</font>
<font color='#7F7E6F'>&#62;&#62;&#62; pummeled by</font>
<font color='#7F7E6F'>&#62;&#62;&#62; samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Those are the sets of users who use CEMON info for scheduling</font>
<font color='#7F7E6F'>&#62;&#62;&#62; decisions.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; This is particularly irritating because the treatment of &#34;owner&#34;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; slots had</font>
<font color='#7F7E6F'>&#62;&#62;&#62; previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62;&#62;&#62; on getting ML to report accurate info. The fact that OSG lost this</font>
<font color='#7F7E6F'>&#62;&#62;&#62; knowledge</font>
<font color='#7F7E6F'>&#62;&#62;&#62; is very irritating.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time</font>
<font color='#7F7E6F'>&#62;&#62;&#62; scale on</font>
<font color='#7F7E6F'>&#62;&#62;&#62; which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; If we can&#39;t figure out a way to have non-CMS users coexist with cms</font>
<font color='#7F7E6F'>&#62;&#62;&#62; users then</font>
<font color='#7F7E6F'>&#62;&#62;&#62; we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; you have a good point&#58; we started focusing on number of CPU, but we</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; have</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; So you are right, for resource selection Free Job Slots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Assigned Job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; GlueCEStateFreeJobSlots is the number of currently available job</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots is the number of all available job slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Below there is a summary of the information for each site. In</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; general the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; two numbers are different.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Will, can do you the same exercise as for total number of cpu and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; look at</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; the implementation? It would be useful to see what the difference is.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; In the case of Mike, there is no difference between the number of</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; CPU and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; the number of slots (...we we discussed). For Xin, the infor is not</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; available now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Can administrators please give a look also at these parameters and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; see if</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; they make sense?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Thanks!</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; GlueSiteName    GlueSchema VersionMinor    GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots    GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; BNL_ITB_Test1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; CIT_ITB_1    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; cithep201.ultralight.org&#58;2119/jobmanager-condor    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 45    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; CLEMSON-ITB    2    osggate.clemson.edu&#58;2119/jobmanager-condor    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 1629    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; CMS-BURT-ITB    3    cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; CMS-QUIKTRIP-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; quiktrip.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_CDFOSG_TEST    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 10    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    150</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 1    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    225</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    300</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_FERMIGRID_TEST    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgtest1.fnal.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    100</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    144</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    170</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    200</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    50</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    52</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    5    5</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    60</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor    64</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; ITB_INSTALL_TEST_2    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; cms-xen1.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; ITB_INSTALL_TEST_3    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; cms-xen9.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; ITB_INSTALL_TEST    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; cmssrv09.fnal.gov&#58;2119/jobmanager-condor    4    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; IUB_ITB_AG2    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; LBNL_VTB    3    osp1.lbl.gov&#58;2119/jobmanager-pbs    0    40    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; LIGO-CIT-ITB    3</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 10    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; NERSC-VM-VTB0    3    osp-vtb00.nersc.gov&#58;2119/jobmanager-sge</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; OUHEP_ITB    3    osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Purdue-ITB    3    itb.rcac.purdue.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 1047    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 1047</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; SBGrid-Harvard    2    hpc.sbgrid.org&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 22    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 22</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; TTU-TESTWULF    3    testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 0    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 8</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; UCSDT2-ITB1    3    osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; 12    1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; I agree, I think that batch slots are likely more generally</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; useful.  From</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; reading through the schema spec, it sounds like for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; selection the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; item that most people should use as of Glue 1.3 is FreeJobSlots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the table</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Gabriele created?  I am sure this still has issues with schedulers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; queues we are already discussing, but it seems like that is what</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; folks may</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; want to focus on for resource selection.  Does that sound reasonable?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; I think it is important to get this straightened out and will work</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Rob G,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; You proposed recreating the critical attributes committee on</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Thursday and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; meeting in the VTB timeslot.  It seems like this discussion is</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; right along</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; those lines.  Can we start this Tuesday?  I am not familiar with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; everyone</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; enough to know who exactly should come, but it seems like we have</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; a good</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; start right now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;  Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; numbers (slots and CPU). This could be an improvement for future OSG</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;  Until then, do we want to try to report #CPUs as defined in the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Glue</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; schema, or #batch slots which makes it more useful for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; selection?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;  I think that # of slots is easier to get and more meaningful for</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; VOs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62; --Mike</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
</div><script type='text/javascript'>
        $('#show_1224198621').click(function() {
            $('#detail_1224198621').slideDown("normal");
            $('#show_1224198621').hide();
            $('#hide_1224198621').show();
        });
        $('#hide_1224198621').click(function() {
            $('#detail_1224198621').slideUp();
            $('#hide_1224198621').hide();
            $('#show_1224198621').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190228050'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T18:54:10+00:00">Sep 19, 2007 06:54 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1190228050">&nbsp;</a></div><pre>Ruth/Shaowen,

From a GOC ticketing perspective, this thread is kind of out of control.
Five different threads on the OSG-INT archive -- only Anand has responded
to my request to include the GOC ticketing system with an appropriate
subject line addendum.

<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A1=ind0709c&L=osg-int&T=0' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A1=ind0709c&L=osg-int&T=0</a>

I don&#39;t think keeping track of who&#39;s saying what, and when .. and copying
those bits of information into the ticket, is a good use of my time. So I
am going watch this list for updates and copy n paste any resolution
Shaowen et al. may have at the end of it; And at that time, I will include
all the threads on the OSG-INT archives that relate to this issue in a
note on the ticket.

Ofcourse, anyone emailing back to this note with the words  ( ISSUE=4124
PROJ=71 ) on their subject line will hit the ticketing system.

Arvind

On 2007-09-19 10&#58;50 (-0700), Terrence Martin had pondered&#58;

<font color='#7F7E6F'>&#62; This is not a condor-g/GRAM acting like a major metropolitan area experiencing</font>
<font color='#7F7E6F'>&#62; a garbage strike. I am pretty aggressive at cleaning out the cruft from</font>
<font color='#7F7E6F'>&#62; condor-g/GRAM in the user areas.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; #!/bin/sh</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; for i in &#96;grep &#34;&#92;/osglocal&#92;/users&#34; /etc/passwd | awk -F&#58; &#39;{print $6}&#39; &#96;;</font>
<font color='#7F7E6F'>&#62; do</font>
<font color='#7F7E6F'>&#62; #echo &#34;tmpwatch -x $i/.emacs -x $i/.bash_logout -x $i/.bashrc -x</font>
<font color='#7F7E6F'>&#62; $i/.bash_profile -x $i/.zshrc 168 $i&#34;</font>
<font color='#7F7E6F'>&#62; tmpwatch -x $i/.emacs -x $i/.bash_logout -x $i/.bashrc -x $i/.bash_profile -x</font>
<font color='#7F7E6F'>&#62; $i/.zshrc 168 $i</font>
<div id='show_375192077' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_375192077'><font color='#7F7E6F'>&#62; done</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This command mows through the VO home directories with a vengeance and deletes</font>
<font color='#7F7E6F'>&#62; everything over 168 hours old. It works well, is very fast, and it is safer</font>
<font color='#7F7E6F'>&#62; that most other methods.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#34;When changing directories, tmpwatch is very sensitive to possible race</font>
<font color='#7F7E6F'>&#62; conditions and will exit with an error if one is detected. It does not fol-</font>
<font color='#7F7E6F'>&#62; low symbolic links in the directories it’s cleaning (even if a symbolic link</font>
<font color='#7F7E6F'>&#62; is given as its argument), will not switch filesystems, and only removes empty</font>
<font color='#7F7E6F'>&#62; directories and regular files.&#34;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I do not have a gram_scratch area in say the samgrid VO area that is older</font>
<font color='#7F7E6F'>&#62; than 7 days.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So in answer to the question of whether this is all that is needed? No. I have</font>
<font color='#7F7E6F'>&#62; had this mechanism in place for months and there are still overloads.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The source changes, but the results always seems the same. Something triggers</font>
<font color='#7F7E6F'>&#62; a higher load that some of the components can handle and the result is that</font>
<font color='#7F7E6F'>&#62; more gjm start running which multiplies the problem. Often the problem just</font>
<font color='#7F7E6F'>&#62; goes away, sometimes more manual methods are required to recover the CE.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Terrence</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; Hi Shaowen and Anand,</font>
<font color='#7F7E6F'>&#62; &#62; I&#39;ve sent an email earlier on the work that we are doing with the ITB. Now</font>
<font color='#7F7E6F'>&#62; &#62; let me talk about the problem at UCSD.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Initial investigations seems to indicate that condor-g and the gatekeeper do</font>
<font color='#7F7E6F'>&#62; &#62; not properly clean up status files when jobs finish. This is still being</font>
<font color='#7F7E6F'>&#62; &#62; investigated, but Jaime Frey from condor is in the loop.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; I know that Horst had installed cron jobs at his site to clean up stale gass</font>
<font color='#7F7E6F'>&#62; &#62; cache files. We are trying to understand if that is all is needed or also</font>
<font color='#7F7E6F'>&#62; &#62; actions at the condor-g side are necessary.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Any help is appreciated.</font>
<font color='#7F7E6F'>&#62; &#62; Cheers</font>
<font color='#7F7E6F'>&#62; &#62; Gabriele</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Shaowen Wang wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; OK. Anand and I may need to gather further information from some of you as</font>
<font color='#7F7E6F'>&#62; &#62; &#62; we have started working on this.</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Cheers,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; -Shaowen</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; -----Original Message-----</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; From&#58; owner-osg-int@.... [mailto&#58;owner-osg-</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; int@....] On Behalf Of Ruth</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Sent&#58; Tuesday, September 18, 2007 5&#58;03 PM</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; To&#58; frank Wuerthwein</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Cc&#58; Gabriele Garzoglio; William Law; Michael Thomas; osg-int Mailing</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; List;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Nikolay P. Kuropatkin; Parag Mhashilkar; Isabeau&#39;s mom; Robert Gardner;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; OSG Operations Center; Wang, Shaowen; osg-facility@....</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Subject&#58; Re&#58; Checking a few parameters from ReSS on ITB&#58; PRODUCTION</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; ISSUE</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Frank, Gabriele, all</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Since this particular Report is a Production Issue it should be treated</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; as such and Shaowen and the Troubleshooting team will come in and help.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; This becomes a high priority Trouble Ticket.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Shaowen owns the problem from the OSG perspective.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Ruth</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; frank Wuerthwein wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; we need this fixed asap because we suspect it to be contributing to</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; the CE overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; We now had two such overloads in three days on the production system</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; osg-gw-2.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; I fear the nonsense advertizing from CEMON leads to us getting</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; pummeled by samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; Those are the sets of users who use CEMON info for scheduling</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; decisions.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; This is particularly irritating because the treatment of &#34;owner&#34; slots</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; had previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; on getting ML to report accurate info. The fact that OSG lost this</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; knowledge is very irritating.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time scale</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; on which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; If we can&#39;t figure out a way to have non-CMS users coexist with cms</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; users then we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Hi,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; you have a good point&#58; we started focusing on number of CPU, but we</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; have agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; So you are right, for resource selection Free Job Slots and Assigned</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Job Slots is what we want.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; GlueCEStateFreeJobSlots is the number of currently available job</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; slots.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; GlueCEPolicyAssignedJobSlots is the number of all available job</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; slots.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Below there is a summary of the information for each site. In</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; general</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; the two numbers are different.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Will, can do you the same exercise as for total number of cpu and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; look at the implementation? It would be useful to see what the</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; difference is.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; In the case of Mike, there is no difference between the number of</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; CPU</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; and the number of slots (...we we discussed). For Xin, the infor is</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; not available now.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Can administrators please give a look also at these parameters and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; see if they make sense?</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Thanks!</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Gabriele</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; GlueSiteName 	GlueSchema VersionMinor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; GlueCEPolicyAssignedJobSlots 	GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; BNL_ITB_Test1 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor 	0 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; CIT_ITB_1 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; cithep201.ultralight.org&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 1814 	45 	1814</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; CLEMSON-ITB 	2 	osggate.clemson.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	1789</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 1629 	1789</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; CMS-BURT-ITB 	3 	cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 12</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	8 	12</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; CMS-QUIKTRIP-ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; quiktrip.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 12</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	8 	12</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_CDFOSG_TEST 	2</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 10 	10 	10</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 10 	0 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 150 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 1 	1 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 225 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 25 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 300 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 30 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 40 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_FERMIGRID_TEST 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; fgtest1.fnal.gov&#58;2119/jobmanager-condor 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	0 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 100 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 10 	0 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 144 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 170 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 1</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	0 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 1</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	1 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 200 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 20 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 25 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 30 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 40 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 50 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 52 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 5</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	5 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 60 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; FNAL_JUNKSITE_ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 64 	19 	30</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; ITB_INSTALL_TEST_2 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; cms-xen1.fnal.gov&#58;2119/jobmanager-condor 	2</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	2 	2</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; ITB_INSTALL_TEST_3 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; cms-xen9.fnal.gov&#58;2119/jobmanager-condor 	2</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	2 	2</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; ITB_INSTALL_TEST 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; cmssrv09.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 4</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	4 	4</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; IUB_ITB_AG2 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor 	0 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; LBNL_VTB 	3 	osp1.lbl.gov&#58;2119/jobmanager-pbs 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 40</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 40</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; LIGO-CIT-ITB 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor 	11 	10</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 11</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; NERSC-VM-VTB0 	3</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; osp-vtb00.nersc.gov&#58;2119/jobmanager-sge</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 0 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	0</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; OUHEP_ITB 	3 	osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 8</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	0 	8</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; Purdue-ITB 	3 	itb.rcac.purdue.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	1047 	1 	1047</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; SBGrid-Harvard 	2 	hpc.sbgrid.org&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 22</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	20 	22</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; TTU-TESTWULF 	3 	testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; 0</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	4 	8</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; UCSDT2-ITB1 	3 	osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; 	1741</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; 12 	1741</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; I agree, I think that batch slots are likely more generally</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; useful.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; From</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; reading through the schema spec, it sounds like for resource</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; selection</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; the</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; item that most people should use as of Glue 1.3 is FreeJobSlots</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; table</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; Gabriele created?  I am sure this still has issues with schedulers</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; queues we are already discussing, but it seems like that is what</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; folks</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; may</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; want to focus on for resource selection.  Does that sound</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; reasonable?</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; I think it is important to get this straightened out and will work</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; with</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; Rob G,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; You proposed recreating the critical attributes committee on</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; Thursday</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; meeting in the VTB timeslot.  It seems like this discussion is</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; right</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; along</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; those lines.  Can we start this Tuesday?  I am not familiar with</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; everyone</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; enough to know who exactly should come, but it seems like we have</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; a</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; good</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; start right now.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; Will</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;  Hi,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; [snip]</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; numbers (slots and CPU). This could be an improvement for future</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; OSG</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;  Until then, do we want to try to report #CPUs as defined in the</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; Glue</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; schema, or #batch slots which makes it more useful for resource</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; selection?</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;  I think that # of slots is easier to get and more meaningful</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; for</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; VOs.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; Cheers</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; Gabriele</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62; --Mike</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; &#62; &#62; &#62; &#62;</font>
</div><script type='text/javascript'>
        $('#show_375192077').click(function() {
            $('#detail_375192077').slideDown("normal");
            $('#show_375192077').hide();
            $('#hide_375192077').show();
        });
        $('#hide_375192077').click(function() {
            $('#detail_375192077').slideUp();
            $('#hide_375192077').hide();
            $('#show_375192077').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190217609'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T16:00:09+00:00">Sep 19, 2007 04:00 PM UTC</time> by <b>Anand Padmanabhan</b><a class="anchor" name="1190217609">&nbsp;</a></div><pre>Hi Gabriele and Frank,

As a first step I did look at the GIP information in the 0.7.0. As for
jobs in the &#34;owner&#34; state, by default they get counted in total CPUs but
they are NOT counted for the free CPUs or free slots. In case a site
does not want to count CPUs in &#34;owner&#34; state for the total CPU count,
they can add &#34;$OSG_GIP_SUBTRACT_OWNER=1&#34; into
$VDT_LOCATION/monitoring/gip-attributes.conf and that GIP should no
longer advertise these VMs. I remember this functionality was added for
the current release based on request from UCSD. Clearly it was not
properly documented on the twiki, so I have added the following entry
<a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Integration/ITB_0_7/GenericInformationProviders#Counting_VMs_in_Owner_State_in_C</a>
and I have also added a link to CE documentation of GIP, so it would be
more easier for site admins to find the information. If needed I could
help port this solution back to OSG 0.6.0.

Now regarding the discussion on the JobSlot variables, the
&#34;GlueCEStateFreeJobSlots&#34;, that should be correctly being advertised for
atleast the condor and pbs batch systems. As for the
&#34;GlueCEPolicyAssignedJobSlots&#34; it should be correctly published for the
condor batch system, for pbs batch system it is not possible for GIP
this information due to permission issues (GIP scripts run as daemon
users and on most pbs system they cannot gather monitoring jobs
belonging to other users).

Currently, I am not in the loop for the Condor-G/Gatekeeper status files
being out of sync as you suggested. Could you or someone help me get
upto date on this thread.

Thanks,
Anand

<font color='#7F7E6F'>&#62; Hi Frank,</font>
<font color='#7F7E6F'>&#62; I think there is some confusion here. Let me try to clarify.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_1499172438' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1499172438'><font color='#7F7E6F'>&#62; I have started the discussion on the accuracy of the parameters from the ITB</font>
<font color='#7F7E6F'>&#62; because it uses for the first time GIP v1.3. The current production deployment,</font>
<font color='#7F7E6F'>&#62; instead, uses GIP v1.2, where most of those &#34;state&#34; attributes are not very</font>
<font color='#7F7E6F'>&#62; reliable anyway. Because of this, SAM-Grid uses CEMon for its static information</font>
<font color='#7F7E6F'>&#62; (gram url, site name, etc.) and gets its dynamic information from its own</font>
<font color='#7F7E6F'>&#62; deployments of condor-g. My goal working with the ITB is fine tuning v1.3 before</font>
<font color='#7F7E6F'>&#62; it goes to production with OSG 0.8.0. With OSG 0.8.0 we can get big improvements</font>
<font color='#7F7E6F'>&#62; on our stakeholder&#39;s resource selection algorithms.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; In other words, CEMon, or better GIP, is NOT the reason for this problem, at</font>
<font color='#7F7E6F'>&#62; least for the fraction competing to SAM-Grid.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; For what concerns UCSD, the initial look at the problem seems related to</font>
<font color='#7F7E6F'>&#62; Condor-g / Gatekeeper status files being out of synch. Clearly, more</font>
<font color='#7F7E6F'>&#62; investigation needs to be done to identify a culprit for sure; however, Parag</font>
<font color='#7F7E6F'>&#62; and Jaime Frey have started talking and more will come in the next few days,</font>
<font color='#7F7E6F'>&#62; hopefully with the help of the troubleshooting team.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; In recent weeks, DZero MC production on OSG has ramped up&#58; I wonder if we start</font>
<font color='#7F7E6F'>&#62; seeing these problem because of this. Our resource selection algorithm tries to</font>
<font color='#7F7E6F'>&#62; maintain twice as many idle jobs, at the cluster queue, as running jobs. We can</font>
<font color='#7F7E6F'>&#62; discuss if you think this is too aggressive and tune it. For example, as I</font>
<font color='#7F7E6F'>&#62; mentioned in a separate email, we could try to keep 1 idle job per running job&#58;</font>
<font color='#7F7E6F'>&#62; this may reduce the number of grid contexts at your site of 1/3&#58; would that be</font>
<font color='#7F7E6F'>&#62; significant or not? At any rate, hopefully OSG 0.8.0 will advertise better</font>
<font color='#7F7E6F'>&#62; information and we can weight this ratio according to the number of slots</font>
<font color='#7F7E6F'>&#62; available at the cluster (...or available for our VO, if your cluster is</font>
<font color='#7F7E6F'>&#62; configured that way).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; UCSD is a precious resource on the OSG and I really hope we&#39;ll find a way of</font>
<font color='#7F7E6F'>&#62; keeping it open for opportunistic usage.</font>
<font color='#7F7E6F'>&#62; Cheers</font>
<font color='#7F7E6F'>&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; frank Wuerthwein wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; we need this fixed asap because we suspect it to be contributing to the CE</font>
<font color='#7F7E6F'>&#62;&#62; overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62;&#62; We now had two such overloads in three days on the production system osg-gw-2.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I fear the nonsense advertizing from CEMON leads to us getting pummeled by</font>
<font color='#7F7E6F'>&#62;&#62; samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62;&#62; Those are the sets of users who use CEMON info for scheduling decisions.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; This is particularly irritating because the treatment of &#34;owner&#34; slots had</font>
<font color='#7F7E6F'>&#62;&#62; previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62;&#62; on getting ML to report accurate info. The fact that OSG lost this knowledge</font>
<font color='#7F7E6F'>&#62;&#62; is very irritating.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time scale on</font>
<font color='#7F7E6F'>&#62;&#62; which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62;&#62; If we can&#39;t figure out a way to have non-CMS users coexist with cms users then</font>
<font color='#7F7E6F'>&#62;&#62; we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62;&#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; you have a good point&#58; we started focusing on number of CPU, but we have</font>
<font color='#7F7E6F'>&#62;&#62;&#62; agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; So you are right, for resource selection Free Job Slots and Assigned Job</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GlueCEStateFreeJobSlots is the number of currently available job slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots is the number of all available job slots.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62;&#62;&#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Below there is a summary of the information for each site. In general the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; two numbers are different.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Will, can do you the same exercise as for total number of cpu and look at</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the implementation? It would be useful to see what the difference is.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; In the case of Mike, there is no difference between the number of CPU and</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the number of slots (...we we discussed). For Xin, the infor is not</font>
<font color='#7F7E6F'>&#62;&#62;&#62; available now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Can administrators please give a look also at these parameters and see if</font>
<font color='#7F7E6F'>&#62;&#62;&#62; they make sense?</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Thanks!</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GlueSiteName    GlueSchema VersionMinor    GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GlueCEPolicyAssignedJobSlots    GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62;&#62;&#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62;&#62;&#62; BNL_ITB_Test1    3    gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; CIT_ITB_1    3    cithep201.ultralight.org&#58;2119/jobmanager-condor    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 45    1814</font>
<font color='#7F7E6F'>&#62;&#62;&#62; CLEMSON-ITB    2    osggate.clemson.edu&#58;2119/jobmanager-condor    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 1629    1789</font>
<font color='#7F7E6F'>&#62;&#62;&#62; CMS-BURT-ITB    3    cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62; CMS-QUIKTRIP-ITB    3    quiktrip.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 12</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_CDFOSG_TEST    2    fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 10    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    150</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 1    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    225</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    300</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_FERMIGRID_TEST    3    fgtest1.fnal.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    100</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 0    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    144</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    170</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    200</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    50</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    52</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    5    5</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    60</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    64</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 19    30</font>
<font color='#7F7E6F'>&#62;&#62;&#62; ITB_INSTALL_TEST_2    3    cms-xen1.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62; ITB_INSTALL_TEST_3    3    cms-xen9.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 2    2</font>
<font color='#7F7E6F'>&#62;&#62;&#62; ITB_INSTALL_TEST    3    cmssrv09.fnal.gov&#58;2119/jobmanager-condor    4    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 4</font>
<font color='#7F7E6F'>&#62;&#62;&#62; IUB_ITB_AG2    3    dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; LBNL_VTB    3    osp1.lbl.gov&#58;2119/jobmanager-pbs    0    40    40</font>
<font color='#7F7E6F'>&#62;&#62;&#62; LIGO-CIT-ITB    3    osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 10    11</font>
<font color='#7F7E6F'>&#62;&#62;&#62; NERSC-VM-VTB0    3    osp-vtb00.nersc.gov&#58;2119/jobmanager-sge    0    0    0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; OUHEP_ITB    3    osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor    8    0    8</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Purdue-ITB    3    itb.rcac.purdue.edu&#58;2119/jobmanager-condor    1047    1</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 1047</font>
<font color='#7F7E6F'>&#62;&#62;&#62; SBGrid-Harvard    2    hpc.sbgrid.org&#58;2119/jobmanager-condor    22    20</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 22</font>
<font color='#7F7E6F'>&#62;&#62;&#62; TTU-TESTWULF    3    testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs    0    4</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 8</font>
<font color='#7F7E6F'>&#62;&#62;&#62; UCSDT2-ITB1    3    osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor    1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62; 12    1741</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I agree, I think that batch slots are likely more generally useful.  From</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; reading through the schema spec, it sounds like for resource selection the</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; item that most people should use as of Glue 1.3 is FreeJobSlots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the table</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Gabriele created?  I am sure this still has issues with schedulers and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; queues we are already discussing, but it seems like that is what folks may</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; want to focus on for resource selection.  Does that sound reasonable?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I think it is important to get this straightened out and will work with</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Rob G,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; You proposed recreating the critical attributes committee on Thursday and</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; meeting in the VTB timeslot.  It seems like this discussion is right along</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; those lines.  Can we start this Tuesday?  I am not familiar with everyone</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; enough to know who exactly should come, but it seems like we have a good</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; start right now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;  Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; numbers (slots and CPU). This could be an improvement for future OSG</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;  Until then, do we want to try to report #CPUs as defined in the Glue</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; schema, or #batch slots which makes it more useful for resource</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; selection?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;  I think that # of slots is easier to get and more meaningful for VOs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62; --Mike</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
</div><script type='text/javascript'>
        $('#show_1499172438').click(function() {
            $('#detail_1499172438').slideDown("normal");
            $('#show_1499172438').hide();
            $('#hide_1499172438').show();
        });
        $('#hide_1499172438').click(function() {
            $('#detail_1499172438').slideUp();
            $('#hide_1499172438').hide();
            $('#show_1499172438').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190212426'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T14:33:46+00:00">Sep 19, 2007 02:33 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1190212426">&nbsp;</a></div><pre>Update from Gabriele ... on osg-int arvhices&#58;
<a href='http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp' target='_blank' rel='nofollow'>http&#58;//listserv.fnal.gov/scripts/wa.exe?A2=ind0709c&amp</a>;L=osg-int&amp;T=0&amp;P=8781</pre></div><div class='update_description'><i onclick="document.location='4124#1190211127'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-19T14:12:07+00:00">Sep 19, 2007 02:12 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1190211127">&nbsp;</a></div><pre>Shaowen, Frank, Gabriele, Anand .. and anyone else who works on this
ticket...

A GOC ticket has been created for this issue with an elevated priority.
Please respond to this email from now on (and its replies), so the ticket
can be used as a point of reference in the future if need for all activity
associated with this issue till it&#39;s resolved.

Or add&#58;
ISSUE=4124 PROJ=71 into your subject line
and CC
osg@....

Cheers,
Arvind

---------- Forwarded message ----------

Hi Frank,
I think there is some confusion here. Let me try to clarify.

I have started the discussion on the accuracy of the parameters from the ITB
because it uses for the first time GIP v1.3. The current production deployment,
instead, uses GIP v1.2, where most of those &#34;state&#34; attributes are not very
reliable anyway. Because of this, SAM-Grid uses CEMon for its static information
(gram url, site name, etc.) and gets its dynamic information from its own
deployments of condor-g. My goal working with the ITB is fine tuning v1.3 before
it goes to production with OSG 0.8.0. With OSG 0.8.0 we can get big improvements
on our stakeholder&#39;s resource selection algorithms.

In other words, CEMon, or better GIP, is NOT the reason for this problem, at
least for the fraction competing to SAM-Grid.

For what concerns UCSD, the initial look at the problem seems related to
Condor-g / Gatekeeper status files being out of synch. Clearly, more
<div id='show_590388295' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_590388295'>investigation needs to be done to identify a culprit for sure; however, Parag
and Jaime Frey have started talking and more will come in the next few days,
hopefully with the help of the troubleshooting team.

In recent weeks, DZero MC production on OSG has ramped up&#58; I wonder if we start
seeing these problem because of this. Our resource selection algorithm tries to
maintain twice as many idle jobs, at the cluster queue, as running jobs. We can
discuss if you think this is too aggressive and tune it. For example, as I
mentioned in a separate email, we could try to keep 1 idle job per running job&#58;
this may reduce the number of grid contexts at your site of 1/3&#58; would that be
significant or not? At any rate, hopefully OSG 0.8.0 will advertise better
information and we can weight this ratio according to the number of slots
available at the cluster (...or available for our VO, if your cluster is
configured that way).

UCSD is a precious resource on the OSG and I really hope we&#39;ll find a way of
keeping it open for opportunistic usage.
Cheers
Gabriele

frank Wuerthwein wrote&#58;
<font color='#7F7E6F'>&#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; we need this fixed asap because we suspect it to be contributing to the CE</font>
<font color='#7F7E6F'>&#62; overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62; We now had two such overloads in three days on the production system osg-gw-2.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I fear the nonsense advertizing from CEMON leads to us getting pummeled by</font>
<font color='#7F7E6F'>&#62; samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62; Those are the sets of users who use CEMON info for scheduling decisions.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; This is particularly irritating because the treatment of &#34;owner&#34; slots had</font>
<font color='#7F7E6F'>&#62; previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62; on getting ML to report accurate info. The fact that OSG lost this knowledge</font>
<font color='#7F7E6F'>&#62; is very irritating.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time scale on</font>
<font color='#7F7E6F'>&#62; which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62; If we can&#39;t figure out a way to have non-CMS users coexist with cms users then</font>
<font color='#7F7E6F'>&#62; we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Hi,</font>
<font color='#7F7E6F'>&#62; &#62; you have a good point&#58; we started focusing on number of CPU, but we have</font>
<font color='#7F7E6F'>&#62; &#62; agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; So you are right, for resource selection Free Job Slots and Assigned Job</font>
<font color='#7F7E6F'>&#62; &#62; Slots is what we want.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; GlueCEStateFreeJobSlots is the number of currently available job slots.</font>
<font color='#7F7E6F'>&#62; &#62; GlueCEPolicyAssignedJobSlots is the number of all available job slots.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62; &#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Below there is a summary of the information for each site. In general the</font>
<font color='#7F7E6F'>&#62; &#62; two numbers are different.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Will, can do you the same exercise as for total number of cpu and look at</font>
<font color='#7F7E6F'>&#62; &#62; the implementation? It would be useful to see what the difference is.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; In the case of Mike, there is no difference between the number of CPU and</font>
<font color='#7F7E6F'>&#62; &#62; the number of slots (...we we discussed). For Xin, the infor is not</font>
<font color='#7F7E6F'>&#62; &#62; available now.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Can administrators please give a look also at these parameters and see if</font>
<font color='#7F7E6F'>&#62; &#62; they make sense?</font>
<font color='#7F7E6F'>&#62; &#62; Thanks!</font>
<font color='#7F7E6F'>&#62; &#62; Gabriele</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; GlueSiteName    GlueSchema VersionMinor    GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62; &#62; GlueCEPolicyAssignedJobSlots    GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62; &#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62; &#62; BNL_ITB_Test1    3    gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62; &#62; 0    0</font>
<font color='#7F7E6F'>&#62; &#62; CIT_ITB_1    3    cithep201.ultralight.org&#58;2119/jobmanager-condor    1814</font>
<font color='#7F7E6F'>&#62; &#62; 45    1814</font>
<font color='#7F7E6F'>&#62; &#62; CLEMSON-ITB    2    osggate.clemson.edu&#58;2119/jobmanager-condor    1789</font>
<font color='#7F7E6F'>&#62; &#62; 1629    1789</font>
<font color='#7F7E6F'>&#62; &#62; CMS-BURT-ITB    3    cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62; &#62; 12</font>
<font color='#7F7E6F'>&#62; &#62; CMS-QUIKTRIP-ITB    3    quiktrip.fnal.gov&#58;2119/jobmanager-condor    12    8</font>
<font color='#7F7E6F'>&#62; &#62; 12</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_CDFOSG_TEST    2    fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62; &#62; 10    10</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62; &#62; 0    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    150</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    1</font>
<font color='#7F7E6F'>&#62; &#62; 1    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    225</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    300</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_ITB    3    fgitb-gk.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_FERMIGRID_TEST    3    fgtest1.fnal.gov&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62; &#62; 0    0</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    100</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    10</font>
<font color='#7F7E6F'>&#62; &#62; 0    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    144</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    170</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    0</font>
<font color='#7F7E6F'>&#62; &#62; 30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    1    1</font>
<font color='#7F7E6F'>&#62; &#62; 30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    200</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    20</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    25</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    30</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    40</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    50</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    52</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    5    5</font>
<font color='#7F7E6F'>&#62; &#62; 30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    60</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; FNAL_JUNKSITE_ITB    3    fgitb002.fnal.gov&#58;2119/jobmanager-condor    64</font>
<font color='#7F7E6F'>&#62; &#62; 19    30</font>
<font color='#7F7E6F'>&#62; &#62; ITB_INSTALL_TEST_2    3    cms-xen1.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62; &#62; 2    2</font>
<font color='#7F7E6F'>&#62; &#62; ITB_INSTALL_TEST_3    3    cms-xen9.fnal.gov&#58;2119/jobmanager-condor    2</font>
<font color='#7F7E6F'>&#62; &#62; 2    2</font>
<font color='#7F7E6F'>&#62; &#62; ITB_INSTALL_TEST    3    cmssrv09.fnal.gov&#58;2119/jobmanager-condor    4    4</font>
<font color='#7F7E6F'>&#62; &#62; 4</font>
<font color='#7F7E6F'>&#62; &#62; IUB_ITB_AG2    3    dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor    0</font>
<font color='#7F7E6F'>&#62; &#62; 0    0</font>
<font color='#7F7E6F'>&#62; &#62; LBNL_VTB    3    osp1.lbl.gov&#58;2119/jobmanager-pbs    0    40    40</font>
<font color='#7F7E6F'>&#62; &#62; LIGO-CIT-ITB    3    osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor    11</font>
<font color='#7F7E6F'>&#62; &#62; 10    11</font>
<font color='#7F7E6F'>&#62; &#62; NERSC-VM-VTB0    3    osp-vtb00.nersc.gov&#58;2119/jobmanager-sge    0    0    0</font>
<font color='#7F7E6F'>&#62; &#62; OUHEP_ITB    3    osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor    8    0    8</font>
<font color='#7F7E6F'>&#62; &#62; Purdue-ITB    3    itb.rcac.purdue.edu&#58;2119/jobmanager-condor    1047    1</font>
<font color='#7F7E6F'>&#62; &#62; 1047</font>
<font color='#7F7E6F'>&#62; &#62; SBGrid-Harvard    2    hpc.sbgrid.org&#58;2119/jobmanager-condor    22    20</font>
<font color='#7F7E6F'>&#62; &#62; 22</font>
<font color='#7F7E6F'>&#62; &#62; TTU-TESTWULF    3    testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs    0    4</font>
<font color='#7F7E6F'>&#62; &#62; 8</font>
<font color='#7F7E6F'>&#62; &#62; UCSDT2-ITB1    3    osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor    1741</font>
<font color='#7F7E6F'>&#62; &#62; 12    1741</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; I agree, I think that batch slots are likely more generally useful.  From</font>
<font color='#7F7E6F'>&#62; &#62; &#62; reading through the schema spec, it sounds like for resource selection the</font>
<font color='#7F7E6F'>&#62; &#62; &#62; item that most people should use as of Glue 1.3 is FreeJobSlots and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the table</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Gabriele created?  I am sure this still has issues with schedulers and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; queues we are already discussing, but it seems like that is what folks may</font>
<font color='#7F7E6F'>&#62; &#62; &#62; want to focus on for resource selection.  Does that sound reasonable?</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; I think it is important to get this straightened out and will work with</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62; &#62; &#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Rob G,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; You proposed recreating the critical attributes committee on Thursday and</font>
<font color='#7F7E6F'>&#62; &#62; &#62; meeting in the VTB timeslot.  It seems like this discussion is right along</font>
<font color='#7F7E6F'>&#62; &#62; &#62; those lines.  Can we start this Tuesday?  I am not familiar with everyone</font>
<font color='#7F7E6F'>&#62; &#62; &#62; enough to know who exactly should come, but it seems like we have a good</font>
<font color='#7F7E6F'>&#62; &#62; &#62; start right now.</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; Will</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;  Hi,</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; [snip]</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; numbers (slots and CPU). This could be an improvement for future OSG</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;  Until then, do we want to try to report #CPUs as defined in the Glue</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; schema, or #batch slots which makes it more useful for resource</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; selection?</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;  I think that # of slots is easier to get and more meaningful for VOs.</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Cheers</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; Gabriele</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62; --Mike</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_590388295').click(function() {
            $('#detail_590388295').slideDown("normal");
            $('#show_590388295').hide();
            $('#hide_590388295').show();
        });
        $('#hide_590388295').click(function() {
            $('#detail_590388295').slideUp();
            $('#hide_590388295').hide();
            $('#show_590388295').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4124#1190155549'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-09-18T22:45:49+00:00">Sep 18, 2007 10:45 PM UTC</time> by <b>James Dickerson</b><a class="anchor" name="1190155549">&nbsp;</a></div><pre>From&#58; Ruth &#60;ruth@....&#62;
To&#58; frank Wuerthwein &#60;fkw@....&#62;
cc&#58; Gabriele Garzoglio &#60;garzogli@....&#62;, William Law &#60;law@....&#62;,
Michael Thomas &#60;thomas@....&#62;, osg-int Mailing List
&#60;osg-int@....&#62;,
&#34;Nikolay P. Kuropatkin&#34; &#60;kuropat@....&#62;, Parag Mhashilkar &#60;parag@....&#62;,
Isabeau&#39;s mom &#60;berman@....&#62;,
Robert Gardner &#60;rwg@....&#62;, OSG Operations Center &#60;goc@....&#62;,
&#34;Wang, Shaowen&#34; &#60;shaowen-wang@....&#62;, osg-facility@....
Subject&#58; Re&#58; Checking a few parameters from ReSS on ITB&#58; PRODUCTION ISSUE
Date-Sent&#58; Tuesday, September 18, 2007 5&#58;03 PM -0500

Frank, Gabriele, all

Since this particular Report is a Production Issue it should be treated as such and
Shaowen and the Troubleshooting team will come in and help.

This becomes a high priority Trouble Ticket.

Shaowen owns the problem from the OSG perspective.

Ruth

frank Wuerthwein wrote&#58;
<font color='#7F7E6F'>&#62; Hi Gabriele et al.,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; we need this fixed asap because we suspect it to be contributing to</font>
<font color='#7F7E6F'>&#62; the CE overloads we are experiencing.</font>
<font color='#7F7E6F'>&#62; We now had two such overloads in three days on the production system</font>
<font color='#7F7E6F'>&#62; osg-gw-2.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I fear the nonsense advertizing from CEMON leads to us getting</font>
<font color='#7F7E6F'>&#62; pummeled by samgrid, engage and the European RBs.</font>
<font color='#7F7E6F'>&#62; Those are the sets of users who use CEMON info for scheduling decisions.</font>
<font color='#7F7E6F'>&#62;</font>
<div id='show_192902330' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_192902330'><font color='#7F7E6F'>&#62; This is particularly irritating because the treatment of &#34;owner&#34; slots</font>
<font color='#7F7E6F'>&#62; had previously been discussed, and fixed, when we worked</font>
<font color='#7F7E6F'>&#62; on getting ML to report accurate info. The fact that OSG lost this</font>
<font color='#7F7E6F'>&#62; knowledge is very irritating.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The CMS data challenge CSA07 starts next Monday. That&#39;s the time scale</font>
<font color='#7F7E6F'>&#62; on which we will take action one way or another.</font>
<font color='#7F7E6F'>&#62; If we can&#39;t figure out a way to have non-CMS users coexist with cms</font>
<font color='#7F7E6F'>&#62; users then we may have to turn non-cms users off.</font>
<font color='#7F7E6F'>&#62; I hope we can find less drastic measures.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Best wishes, Frank</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Sep 14, 2007, at 2&#58;42 PM, Gabriele Garzoglio wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62; you have a good point&#58; we started focusing on number of CPU, but we</font>
<font color='#7F7E6F'>&#62;&#62; have agreed that job slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; So you are right, for resource selection Free Job Slots and Assigned</font>
<font color='#7F7E6F'>&#62;&#62; Job Slots is what we want.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; GlueCEStateFreeJobSlots is the number of currently available job slots.</font>
<font color='#7F7E6F'>&#62;&#62; GlueCEPolicyAssignedJobSlots is the number of all available job slots.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I have update the full table at</font>
<font color='#7F7E6F'>&#62;&#62; <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~garzogli/ReSS/StaticParams-ITBv0.7.html</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Below there is a summary of the information for each site. In general</font>
<font color='#7F7E6F'>&#62;&#62; the two numbers are different.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Will, can do you the same exercise as for total number of cpu and</font>
<font color='#7F7E6F'>&#62;&#62; look at the implementation? It would be useful to see what the</font>
<font color='#7F7E6F'>&#62;&#62; difference is.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; In the case of Mike, there is no difference between the number of CPU</font>
<font color='#7F7E6F'>&#62;&#62; and the number of slots (...we we discussed). For Xin, the infor is</font>
<font color='#7F7E6F'>&#62;&#62; not available now.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Can administrators please give a look also at these parameters and</font>
<font color='#7F7E6F'>&#62;&#62; see if they make sense?</font>
<font color='#7F7E6F'>&#62;&#62; Thanks!</font>
<font color='#7F7E6F'>&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; GlueSiteName 	GlueSchema VersionMinor 	GlueCEInfoContactString</font>
<font color='#7F7E6F'>&#62;&#62; GlueCEPolicyAssignedJobSlots 	GlueCEStateFreeJobSlots</font>
<font color='#7F7E6F'>&#62;&#62; GlueCEInfoTotalCPUs (Depr.)</font>
<font color='#7F7E6F'>&#62;&#62; BNL_ITB_Test1 	3</font>
<font color='#7F7E6F'>&#62;&#62; gridtest01.racf.bnl.gov&#58;2119/jobmanager-condor 	0 	0 	0</font>
<font color='#7F7E6F'>&#62;&#62; CIT_ITB_1 	3 	cithep201.ultralight.org&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 1814 	45 	1814</font>
<font color='#7F7E6F'>&#62;&#62; CLEMSON-ITB 	2 	osggate.clemson.edu&#58;2119/jobmanager-condor 	1789</font>
<font color='#7F7E6F'>&#62;&#62; 1629 	1789</font>
<font color='#7F7E6F'>&#62;&#62; CMS-BURT-ITB 	3 	cmsitbsrv01.fnal.gov&#58;2119/jobmanager-condor 	12 	8 	12</font>
<font color='#7F7E6F'>&#62;&#62; CMS-QUIKTRIP-ITB 	3 	quiktrip.fnal.gov&#58;2119/jobmanager-condor 	12 	8 	12</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_CDFOSG_TEST 	2 	fcdfosgt1.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 10 	10 	10</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 10 	0 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 150 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 1 	1 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 225 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 25 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 300 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 30 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_ITB 	3 	fgitb-gk.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 40 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_FERMIGRID_TEST 	3 	fgtest1.fnal.gov&#58;2119/jobmanager-condor 	0 	0 	0</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 100 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 10 	0 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 144 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 170 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	1 	0 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	1 	1 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 200 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 20 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 25 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 30 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 40 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 50 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 52 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor 	5 	5 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 60 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; FNAL_JUNKSITE_ITB 	3 	fgitb002.fnal.gov&#58;2119/jobmanager-condor</font>
<font color='#7F7E6F'>&#62;&#62; 64 	19 	30</font>
<font color='#7F7E6F'>&#62;&#62; ITB_INSTALL_TEST_2 	3 	cms-xen1.fnal.gov&#58;2119/jobmanager-condor 	2 	2 	2</font>
<font color='#7F7E6F'>&#62;&#62; ITB_INSTALL_TEST_3 	3 	cms-xen9.fnal.gov&#58;2119/jobmanager-condor 	2 	2 	2</font>
<font color='#7F7E6F'>&#62;&#62; ITB_INSTALL_TEST 	3 	cmssrv09.fnal.gov&#58;2119/jobmanager-condor 	4 	4 	4</font>
<font color='#7F7E6F'>&#62;&#62; IUB_ITB_AG2 	3</font>
<font color='#7F7E6F'>&#62;&#62; dickinson.ucs.indiana.edu&#58;2119/jobmanager-condor 	0 	0 	0</font>
<font color='#7F7E6F'>&#62;&#62; LBNL_VTB 	3 	osp1.lbl.gov&#58;2119/jobmanager-pbs 	0 	40 	40</font>
<font color='#7F7E6F'>&#62;&#62; LIGO-CIT-ITB 	3</font>
<font color='#7F7E6F'>&#62;&#62; osg-itb.ligo.caltech.edu&#58;2119/jobmanager-condor 	11 	10 	11</font>
<font color='#7F7E6F'>&#62;&#62; NERSC-VM-VTB0 	3 	osp-vtb00.nersc.gov&#58;2119/jobmanager-sge 	0 	0 	0</font>
<font color='#7F7E6F'>&#62;&#62; OUHEP_ITB 	3 	osgitb1.nhn.ou.edu&#58;2119/jobmanager-condor 	8 	0 	8</font>
<font color='#7F7E6F'>&#62;&#62; Purdue-ITB 	3 	itb.rcac.purdue.edu&#58;2119/jobmanager-condor 	1047 	1 	1047</font>
<font color='#7F7E6F'>&#62;&#62; SBGrid-Harvard 	2 	hpc.sbgrid.org&#58;2119/jobmanager-condor 	22 	20 	22</font>
<font color='#7F7E6F'>&#62;&#62; TTU-TESTWULF 	3 	testwulf.hpcc.ttu.edu&#58;2119/jobmanager-pbs 	0 	4 	8</font>
<font color='#7F7E6F'>&#62;&#62; UCSDT2-ITB1 	3 	osg-gw-3.t2.ucsd.edu&#58;2119/jobmanager-condor 	1741</font>
<font color='#7F7E6F'>&#62;&#62; 12 	1741</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; William Law wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I agree, I think that batch slots are likely more generally useful.  From</font>
<font color='#7F7E6F'>&#62;&#62;&#62; reading through the schema spec, it sounds like for resource selection the</font>
<font color='#7F7E6F'>&#62;&#62;&#62; item that most people should use as of Glue 1.3 is FreeJobSlots and</font>
<font color='#7F7E6F'>&#62;&#62;&#62; AssignedJobSlots.  How do the FreeJobSlots look to sites in the table</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Gabriele created?  I am sure this still has issues with schedulers and</font>
<font color='#7F7E6F'>&#62;&#62;&#62; queues we are already discussing, but it seems like that is what folks may</font>
<font color='#7F7E6F'>&#62;&#62;&#62; want to focus on for resource selection.  Does that sound reasonable?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I think it is important to get this straightened out and will work with</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Gabriele and others to find a way to make information more easily</font>
<font color='#7F7E6F'>&#62;&#62;&#62; configurable (correctable?) in the GIP.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Rob G,</font>
<font color='#7F7E6F'>&#62;&#62;&#62; You proposed recreating the critical attributes committee on Thursday and</font>
<font color='#7F7E6F'>&#62;&#62;&#62; meeting in the VTB timeslot.  It seems like this discussion is right along</font>
<font color='#7F7E6F'>&#62;&#62;&#62; those lines.  Can we start this Tuesday?  I am not familiar with everyone</font>
<font color='#7F7E6F'>&#62;&#62;&#62; enough to know who exactly should come, but it seems like we have a good</font>
<font color='#7F7E6F'>&#62;&#62;&#62; start right now.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Will</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; On 9/14/07, Gabriele Garzoglio &#60;garzogli@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;  Hi,</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Michael Thomas wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; [snip]</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; So, in principle, one might want to know the two separate</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; numbers (slots and CPU). This could be an improvement for future OSG</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; releases... maybe.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;  Until then, do we want to try to report #CPUs as defined in the Glue</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; schema, or #batch slots which makes it more useful for resource selection?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;  I think that # of slots is easier to get and more meaningful for VOs.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; I hope that Will has some cycles to help us out with this...</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Cheers</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62; --Mike</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_192902330').click(function() {
            $('#detail_192902330').slideDown("normal");
            $('#show_192902330').hide();
            $('#hide_192902330').show();
        });
        $('#hide_192902330').click(function() {
            $('#detail_192902330').slideUp();
            $('#hide_192902330').hide();
            $('#show_192902330').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4124">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
