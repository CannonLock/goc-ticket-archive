<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9062] Gratia Issues / Requests</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9062" method="post">
<div class="page-header">
    <h3><span class="muted">9062</span> / Gratia Issues / Requests</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Iwona Sakrejda</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for any updates</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-10-18</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">GRATIA <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9062", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9062?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9062?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Gratia%20Issues%20%2F%20Requests%20ISSUE%3D9062%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9062#1305126372'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-11T15:06:12+00:00">May 11, 2011 03:06 PM UTC</time> by <b>Fermilab</b><a class="anchor" name="1305126372">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolving per Philippe.
Resolution Method                &#58;

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='9062#1305126369'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2011-05-11T15:06:09+00:00">May 11, 2011 03:06 PM UTC</time> by <b>USCMS</b><a class="anchor" name="1305126369">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been updated.

Work Info Type* &#58; Resolution Communications
Date+           &#58;
Source          &#58;
Summary*        &#58; Resolution Information
Notes           &#58; Resolving per Philippe.
Submitter*      &#58; brianmck

Fermi National Accelerator Laboratory Service DeskService Desk&#58; 630.840.2345</pre></div><div class='update_description'><i onclick="document.location='9062#1286808736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-11T14:52:16+00:00">Oct 11, 2010 02:52 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1286808736">&nbsp;</a></div><pre>Iwona,

We could just go ahead an close out this ticket and opening another one if need be in the future.  Let me know if this is what you&#39;d like to do?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9062#1286545709'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-08T13:48:29+00:00">Oct 8, 2010 01:48 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1286545709">&nbsp;</a></div><pre>Iwona,

We could just go ahead an close out this ticket and opening another one if need be in the future.  Let me know if this is what you&#39;d like to do?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9062#1285950384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-01T16:26:24+00:00">Oct 1, 2010 04:26 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1285950384">&nbsp;</a></div><pre>Iwona,

We could just go ahead an close out this ticket and opening another oneif need be in the future.  Let me know if this is what you&#39;d like to do?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9062#1285346106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-24T16:35:06+00:00">Sep 24, 2010 04:35 PM UTC</time> by <b>Iwona Sakrejda</b><a class="anchor" name="1285346106">&nbsp;</a></div><pre>Hi,

Sorry for not responding, we made progress towards resolution and the probe
has been modified to facilitate the fix, BUT the cron job now needs to
be fixed too and
there is no man power to work on it.
I guess we could look at it as the issue understood, but not
completely resolved.
I am not sure what you do with tickets like that.

Iwona

On Fri, Sep 24, 2010 at 9&#58;27 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9062#1285345676'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-24T16:27:56+00:00">Sep 24, 2010 04:27 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1285345676">&nbsp;</a></div><pre>Iwona,

Have you found a resolution to your issue?  Can this ticket be closed out?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9062#1284742947'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T17:02:27+00:00">Sep 17, 2010 05:02 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1284742947">&nbsp;</a></div><pre>Iwona,

Have you found a resolution to your issue?  Can this ticket be closed out?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9062#1283876737'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-07T16:25:37+00:00">Sep 7, 2010 04:25 PM UTC</time> by <b>OSG RA</b><a class="anchor" name="1283876737">&nbsp;</a></div><pre>Iwona,

Have you found a resolution to your issue?  Can this ticket be closed out?

Thanks,

-Alain Deximo</pre></div><div class='update_description'><i onclick="document.location='9062#1282358706'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-21T02:45:06+00:00">Aug 21, 2010 02:45 AM UTC</time> by <b>Philippe Canal</b><a class="anchor" name="1282358706">&nbsp;</a></div><pre>Hi,

If you are talking about the file sge_meter.cron.sh then Shreyas is the owner
and the Gratia subversion repository is the &#39;custodian&#39; (i.e. once you have all
the modification you need please upload them to the Gratia subversion
repository and/or send me the required modifications).

Cheers,
Philippe.

On 8/20/10 6&#58;00 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9062#1282345208'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-20T23:00:08+00:00">Aug 20, 2010 11:00 PM UTC</time> by <b>Iwona Sakrejda</b><a class="anchor" name="1282345208">&nbsp;</a></div><pre>I also sat down with Shreyas and he modified the sge probe to write out
not only the line number of the last processed line from the
accounting file, but
also the line itself.

Now the cron needs to be modified&#58;

1. Test whether the line indicated in the checkpoint file has content
as recorded.
2. If yes - proceed
If no - follow the recipe as outlined in&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Accounting/ProbeConfigSge' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Accounting/ProbeConfigSge</a>

Who is maintaining that cron? In principle I should be able to fix it,
but if the owner could taht would be much nicer...

Iwona

On Fri, Aug 20, 2010 at 10&#58;32 AM, Iwona Sakrejda &#60;isakrejda@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; I re-ran the gratia probe on an accounting file that has already been</font>
<font color='#7F7E6F'>&#62; processed, but this time I do not see any increase in number of jobs</font>
<font color='#7F7E6F'>&#62; which means that all went well?</font>
<font color='#7F7E6F'>&#62; I am not sure how long it takes for plots to be updated...</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Iwona</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Fri, Aug 20, 2010 at 9&#58;48 AM, Open Science Grid FootPrints</font>
<font color='#7F7E6F'>&#62; &#60;osg@....&#62; wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9062#1282328106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-20T18:15:06+00:00">Aug 20, 2010 06:15 PM UTC</time> by <b>Philippe Canal</b><a class="anchor" name="1282328106">&nbsp;</a></div><pre>Hi,

The Collector is pretty much up to date (i.e. its queue size is near zero), thus the
information should be up to date less than 5 minutes (for wiggle room) after your
probe is done executing.

Cheers,
Philippe.

On 8/20/10 12&#58;33 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9062#1282325588'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-20T17:33:08+00:00">Aug 20, 2010 05:33 PM UTC</time> by <b>Iwona Sakrejda</b><a class="anchor" name="1282325588">&nbsp;</a></div><pre>I re-ran the gratia probe on an accounting file that has already been
processed, but this time I do not see any increase in number of jobs
which means that all went well?
I am not sure how long it takes for plots to be updated...

Iwona

On Fri, Aug 20, 2010 at 9&#58;48 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9062#1282322886'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-20T16:48:06+00:00">Aug 20, 2010 04:48 PM UTC</time> by <b>Iwona Sakrejda</b><a class="anchor" name="1282322886">&nbsp;</a></div><pre>Hi,

Today I will run the probe twice (got permission from the groups) and
let&#39;s see how it works.
I&#39;ll let you know when I am done with my side of the experiment and
then let&#39;s see what
shows up in the collector.

iwona

On Fri, Aug 20, 2010 at 9&#58;23 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9062#1281637706'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-12T18:28:26+00:00">Aug 12, 2010 06:28 PM UTC</time><a class="anchor" name="1281637706">&nbsp;</a></div><pre>Hi Iwona,

Do you have any recent example of mis-assigned jobs?   I would like to (re)investigate
what is being seen on the Collector side (and thus the jobs needs to be less than 3 months old).
<font color='#7F7E6F'>&#62; The probe picks up a user&#39;s DN from the grid mapfile based on user name</font>
<font color='#7F7E6F'>&#62; and not based on the CERT the user submitting jobs used. So if a user has more than one cert in the mapfile, assignments are often wrong.</font>
Humm ... In normal operations, the probe should be extracting the DN from the
the certinfo file that is (supposed to be) created when the job is getting to the
grid gateway.   In addition if the certinfo does not contain a FQAN (i.e. when the
user use a grid-proxy rather than a voms-proxy) then the probe would need
to look up the VO information from the somewhere else (the reverse grid
map file usually).

Once the job is seen a first time and a certinfo file is found, this certinfo file
is deleted and thus if the job is seen a 2nd time, it would need to use the (unix)
user name to look up the user information, resulting indeed in identification
problem in your case.  If this is the problem there might be a problem in the
duplicate record  ranking system on the Collector side (hence my need for a
recent job with the problem).   If all was working properly the first upload should
be  ranked as better and the information in the collector should be accurate.

<font color='#7F7E6F'>&#62; 2. The probe is using a mark of how far it processed the accounting file</font>
<font color='#7F7E6F'>&#62; and if an accounting file gets rotated the probe is left at a wrong spot</font>
<font color='#7F7E6F'>&#62; and eventually stops working altogether. Also even if I reset the mark</font>
<font color='#7F7E6F'>&#62; externally the whole issue of handling the leftover accounting file is</font>
<font color='#7F7E6F'>&#62; not handled.</font>

This is a problem localized to the SGE probe itself.   If I remember
correctly Shreyas  and/or you (Iwona) are responsible for the support of
the Probe.    Maybe the Condor team or the VDT team have more
experience on how to deal with rotating logs on might be able to help
you out.   By far the easiest solution is for the Probe to take control
of the log rotation.   [Another, but not quite satisfactory solution is the
way the PBS probe ranks all the log files from most recent to oldest
and process them most recent first until it reach the last high watermark
<div id='show_1230091683' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1230091683'>it recorded ; this fails (as in all the work needs to be redone) if the run
is interrupted resulting in waste of resource both on the probe side and
the Collector side to deal with duplicate]

Cheers,
Philippe.
</div><script type='text/javascript'>
        $('#show_1230091683').click(function() {
            $('#detail_1230091683').slideDown("normal");
            $('#show_1230091683').hide();
            $('#hide_1230091683').show();
        });
        $('#hide_1230091683').click(function() {
            $('#detail_1230091683').slideUp();
            $('#hide_1230091683').hide();
            $('#show_1230091683').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='9062#1281468973'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-08-10T19:36:13+00:00">Aug 10, 2010 07:36 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1281468973">&nbsp;</a></div><pre>Hi,

The Gratia SGE probe is broken. There are two issues I am aware of.

1. The probe picks up a user&#39;s DN from the grid mapfile based on user name
and not based on the CERT the user submitting jobs used. So if a user has more than one cert in the mapfile, assignments are often wrong.

2. The probe is using a mark of how far it processed the accounting file
and if an accounting file gets rotated the probe is left at a wrong spot
and eventually stops working altogether. Also even if I reset the mark
externally the whole issue of handling the leftover accounting file is
not handled.

I patched my site so I run the probe only once a day just after rotation
on a file that has been just rotated out, but this is not often enough for STAR.

Thank You

Iwona Sakrejda</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9062">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 9062});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
