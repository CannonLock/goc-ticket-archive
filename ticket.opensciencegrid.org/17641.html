<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[17641] BeStMan2 and Java issue with RSV</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=17641" method="post">
<div class="page-header">
    <h3><span class="muted">17641</span> / BeStMan2 and Java issue with RSV</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Horst Severini</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Horst Severini</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-11-15</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Cartwright <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/17641", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/17641?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/17641?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20BeStMan2%20and%20Java%20issue%20with%20RSV%20ISSUE%3D17641%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='17641#1384291829'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T21:30:29+00:00">Nov 12, 2013 09:30 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1384291829">&nbsp;</a></div><pre>Closing the ticket, if anything else comes up, don&#39;t hesitate to submit another ticket.

- Brian</pre></div><div class='update_description'><i onclick="document.location='17641#1384291270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T21:21:10+00:00">Nov 12, 2013 09:21 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1384291270">&nbsp;</a></div><pre>Hi Tim,

no, I think we&#39;re all good!

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='17641#1384291028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T21:17:08+00:00">Nov 12, 2013 09:17 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1384291028">&nbsp;</a></div><pre>Horst&#58; The announcement email about modifying java.security should go out
tomorrow. Do you have any remaining concerns for this ticket?</pre></div><div class='update_description'><i onclick="document.location='17641#1384290373'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T21:06:13+00:00">Nov 12, 2013 09:06 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1384290373">&nbsp;</a></div><pre>Hi Tim,

oh, you&#39;re right! I thought I had tested &#39;grid-proxy-init&#39; and gotten a
1024 bit proxy, but when I just now tried it again, I got 512. I guess I
must&#39;ve typed &#39;voms-proxy-init&#39; instead, which gives you a 1024 bit
proxy by default (even a very old version).

But I guess what this means is that 99% of all submitted grid jobs
should have a 1024 bit proxy by now, since I doubt very many people are
still using grid-proxy-init, but rather voms-proxy-init. Can&#39;t be
positive about that, though ...

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='17641#1384289640'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T20:54:00+00:00">Nov 12, 2013 08:54 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1384289640">&nbsp;</a></div><pre>The current version of grid-proxy-init defaults to 512 bits.</pre></div><div class='update_description'><i onclick="document.location='17641#1384289473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-12T20:51:13+00:00">Nov 12, 2013 08:51 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1384289473">&nbsp;</a></div><pre>Hi Brian,

okay, I upgraded Java at OU_OCHEP_SWT2 on tier2-01 and tier2-02, and I
applied the keySize fix to both java.security, and restarted bestman2 on
tier2-02, and things still seem to be okay, so that&#39;s a good sign.

I still don&#39;t understand why the RSV proxy is by default only generated
with a keySize of 512, by the way. When I get myself a grid or voms
proxy, even with a VERY old version of globus_proxy_utils-0.18 or
voms-proxy-init Version&#58; 1.8.8 (from a very old version of the
wlcg-client I still have lying around here somewhere), I get a 1024 bit
proxy. What is RSV using to still get a 512 bit proxy?

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='17641#1384201689'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-11T20:28:09+00:00">Nov 11, 2013 08:28 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1384201689">&nbsp;</a></div><pre>Horst,

I don&#39;t think we&#39;re going to have a solution in the near future that doesn&#39;t require hacking java.security simply because RSV isn&#39;t the only component that&#39;s affected. Anyone trying to use srm-copy with a proxy with less than 1024 bits will fail (512 bit proxies are the default for grid-proxy-init) and the only real way around this is by easing the constraint in java.security. If you&#39;d like to keep this open, I&#39;d say it makes sense to keep it open until you&#39;ve successfully made the java.security changes.

- Brian</pre></div><div class='update_description'><i onclick="document.location='17641#1384199650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-11T19:54:10+00:00">Nov 11, 2013 07:54 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1384199650">&nbsp;</a></div><pre>Hi Brian,

sure, we can do that. Would you like to keep this ticket open till we
have a &#39;final&#39; solution which does not require hacking the java.security
file -- i.e., till we have a fix that we can verify on our ITB (which
isn&#39;t upgraded yet, we&#39;re still working on that) -- or just till I have
upgraded our production instance and successfully hacked java.security
there?

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='17641#1384188657'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-11T16:50:57+00:00">Nov 11, 2013 04:50 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1384188657">&nbsp;</a></div><pre>Horst, you&#39;re right that we need to fix more than RSV and we&#39;re in the process of penning a security announcement to address it. Our recommendation is to edit the java.security file (/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.45.x86_64/jre/lib/security/java.security) on your BeStMan server/client machines. To make this change, replace the following line&#58;

jdk.certpath.disabledAlgorithms=MD2, RSA keySize &#60; 1024

with

jdk.certpath.disabledAlgorithms=MD2, RSA keySize &#60; 512

You will need to restart the BeStMan server after this change.  As for the RSV specific issue, we&#39;ve created a JIRA ticket (<a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1281' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-1281</a>) to track it. Would you mind using the JIRA ticket to track the issue so that we could close this GOC ticket?</pre></div><div class='update_description'><i onclick="document.location='17641#1383968584'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-09T03:43:04+00:00">Nov 9, 2013 03:43 AM UTC</time> by <b>Marco Mambelli</b><a class="anchor" name="1383968584">&nbsp;</a></div><pre>There seem to be a problem with the grid-proxy generated by RSV (512bit) that is not deemed secure by the new java (requiring 1024bit)

RSV is generating the proxy used for the tests (including the BeStMan test) with grid-proxy-init that defaults to a key of 512bit.
The new java version in its configuration requires a key of at least 1024bits
So the proxy is not accepted and the SRM test again RSV is failing.

Modifying the command used by RSV will fix the problem.
In RSV.py (/usr/lib/python2.6/site-packages/rsv/RSV.py) the line
cmd = [&#34;grid-proxy-init&#34;, &#34;-cert&#34;, cert, &#34;-key&#34;, key, &#34;-valid&#34;, &#34;12&#58;00&#34;, &#34;-debug&#34;, &#34;-out&#34;, proxy]
could be&#58;
cmd = [&#34;voms-proxy-init&#34;, &#34;-cert&#34;, cert, &#34;-key&#34;, key, &#34;-valid&#34;, &#34;12&#58;00&#34;, &#34;-debug&#34;, &#34;-out&#34;, proxy]
or&#58;
cmd = [&#34;grid-proxy-init&#34;, &#34;-cert&#34;, cert, &#34;-key&#34;, key, &#34;-valid&#34;, &#34;12&#58;00&#34;, &#34;-bits&#34;, &#34;1024&#34;, &#34;-debug&#34;, &#34;-out&#34;, proxy]

Similar problems may happen in other scripts using grid-proxy-init.
Cheers,
Marco

Thanks to Marko Slyz and the site admin of the new site in Prague for highlighting the problem.

I think these other 2 tickets may be related&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/17802' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/17802</a>
<a href='https&#58;//ticket.grid.iu.edu/goc/16356' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/16356</a></pre></div><div class='update_description'><i onclick="document.location='17641#1383603133'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T22:12:13+00:00">Nov 4, 2013 10:12 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1383603133">&nbsp;</a></div><pre>Hi Tim,

ahh, I see.

Well, if it&#39;s really an issue with the bestman client, then it would be
good not just to tweak RSV, since otherwise the problem might re-appear
once other sites upgrade their Java as well and try to run against other
sites Bestman servers, right?

Thanks,

Horst

On 11/04/2013 04&#58;05 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='17641#1383602716'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T22:05:16+00:00">Nov 4, 2013 10:05 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1383602716">&nbsp;</a></div><pre>Most likely, the problem was due to a change in Java that affected the BeStMan
clients&#39; ability to communicate with the GridFTP server. We are still actively
investigating, and will issue a workaround or fix as soon as possible. While it
may be the case that we just tweak RSV, we are aiming to deal with the root
cause of the issue itself.</pre></div><div class='update_description'><i onclick="document.location='17641#1383601872'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T21:51:12+00:00">Nov 4, 2013 09:51 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1383601872">&nbsp;</a></div><pre>Hi Carl,

good point. I don&#39;t think it was a Bestman2 problem at any case, since
our SRM transfers were still runninng. I think it was an RSV issue,
since I believe it was the RSV client that threw the error. At least
that would be the only thing that makes sense considering that ATLAS
production SRM traffic wasn&#39;t affected, right?

Hopefully we&#39;ll have our new ITB operational later this week, and then
we can test this again.

Thanks,

Horst

On 11/04/2013 03&#58;45 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='17641#1383601499'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T21:44:59+00:00">Nov 4, 2013 09:44 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1383601499">&nbsp;</a></div><pre>Hi Chris & Horst,

I&#39;m thinking we can close this for now, and Horst when you guys have upgraded your ITB we can try to reproduce and look into it further, and make a jira ticket to track it then.  (Unless Horst, you&#39;d like to keep this one open.)  It&#39;s not obvious whether it was a transient bestman error that came up when upgrading or if there&#39;s a real incompatibility with the new .45 update ... I guess we&#39;ll see!

Carl</pre></div><div class='update_description'><i onclick="document.location='17641#1383599240'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T21:07:20+00:00">Nov 4, 2013 09:07 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1383599240">&nbsp;</a></div><pre>Hey Carl,

Is this something that you will have to make a jira ticket on to work out the bugs? If so what will you want to do with this ticket?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='17641#1383080413'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-29T21:00:13+00:00">Oct 29, 2013 09:00 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1383080413">&nbsp;</a></div><pre>By the way --

this does need to get fixed, since this Java update fixes a critical
vulnerability, see below, so people should upgrade as soon as possible.

Thanks,

Horst

----
The following ERRATA for SLF6 are now available from&#58;
<a href='ftp&#58;//linux.fnal.gov/linux/fermi/slf6rolling/i386/updates/security/' target='_blank' rel='nofollow'>ftp&#58;//linux.fnal.gov/linux/fermi/slf6rolling/i386/updates/security/</a>
<a href='ftp&#58;//linux.fnal.gov/linux/fermi/slf6rolling/x86_64/updates/security/' target='_blank' rel='nofollow'>ftp&#58;//linux.fnal.gov/linux/fermi/slf6rolling/x86_64/updates/security/</a>

These RPMs will go out into the autoyum area tomorrow.

Synopsis&#58;          Critical&#58; java-1.7.0-openjdk security update
Advisory ID&#58;       SLSA-2013&#58;1451-1
Issue Date&#58;        2013-10-22
CVE Numbers&#58;       CVE-2013-5803
CVE-2013-5772
CVE-2013-5797
CVE-2013-5784
CVE-2013-5790
CVE-2013-5849
CVE-2013-5800
CVE-2013-5780
CVE-2013-5840
CVE-2013-5820
CVE-2013-5851
CVE-2013-5778
CVE-2013-5782
CVE-2013-5830
CVE-2013-5809
CVE-2013-5829
<div id='show_447329425' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_447329425'>CVE-2013-5814
CVE-2013-5817
CVE-2013-5842
CVE-2013-5850
CVE-2013-5802
CVE-2013-5804
CVE-2013-3829
CVE-2013-5783
CVE-2013-5825
CVE-2013-5823
CVE-2013-5774
CVE-2013-4002
CVE-2013-5838
--

Multiple input checking flaws were found in the 2D component native image
parsing code. A specially crafted image file could trigger a Java Virtual
Machine memory corruption and, possibly, lead to arbitrary code execution
with the privileges of the user running the Java Virtual Machine.
(CVE-2013-5782)

The class loader did not properly check the package access for non-public
proxy classes. A remote attacker could possibly use this flaw to execute
arbitrary code with the privileges of the user running the Java Virtual
Machine. (CVE-2013-5830)

Multiple improper permission check issues were discovered in the 2D,
CORBA, JNDI, and Libraries components in OpenJDK. An untrusted Java
application or applet could use these flaws to bypass Java sandbox
restrictions. (CVE-2013-5829, CVE-2013-5814, CVE-2013-5817, CVE-2013-5842,
CVE-2013-5850, CVE-2013-5838)

Multiple input checking flaws were discovered in the JPEG image reading
and writing code in the 2D component. An untrusted Java application or
applet could use these flaws to corrupt the Java Virtual Machine memory
and bypass Java sandbox restrictions. (CVE-2013-5809)

The FEATURE_SECURE_PROCESSING setting was not properly honored by the
javax.xml.transform package transformers. A remote attacker could use this
flaw to supply a crafted XML that would be processed without the intended
security restrictions. (CVE-2013-5802)

Multiple errors were discovered in the way the JAXP and Security
components processes XML inputs. A remote attacker could create a crafted
XML that would cause a Java application to use an excessive amount of CPU
and memory when processed. (CVE-2013-5825, CVE-2013-4002, CVE-2013-5823)

Multiple improper permission check issues were discovered in the
Libraries, Swing, JAX-WS, JAXP, JGSS, AWT, Beans, and Scripting components
in OpenJDK. An untrusted Java application or applet could use these flaws
to bypass certain Java sandbox restrictions. (CVE-2013-3829,
CVE-2013-5840, CVE-2013-5774, CVE-2013-5783, CVE-2013-5820, CVE-2013-5851,
CVE-2013-5800, CVE-2013-5849, CVE-2013-5790, CVE-2013-5784)

It was discovered that the 2D component image library did not properly
check bounds when performing image conversions. An untrusted Java
application or applet could use this flaw to disclose portions of the Java
Virtual Machine memory. (CVE-2013-5778)

Multiple input sanitization flaws were discovered in javadoc. When javadoc
documentation was generated from an untrusted Java source code and hosted
on a domain not controlled by the code author, these issues could make it
easier to perform cross-site scripting attacks. (CVE-2013-5804,
CVE-2013-5797)

Various OpenJDK classes that represent cryptographic keys could leak
private key information by including sensitive data in strings returned by
toString() methods. These flaws could possibly lead to an unexpected
exposure of sensitive key data. (CVE-2013-5780)

The Java Heap Analysis Tool (jhat) failed to properly escape all data
added into the HTML pages it generated. Crafted content in the memory of a
Java program analyzed using jhat could possibly be used to conduct cross-
site scripting attacks. (CVE-2013-5772)

The Kerberos implementation in OpenJDK did not properly parse KDC
responses. A malformed packet could cause a Java application using JGSS to
exit. (CVE-2013-5803)

Note&#58; If the web browser plug-in provided by the icedtea-web package was
installed, the issues exposed via Java applets could have been exploited
without user interaction if a user visited a malicious website.

All running instances of OpenJDK Java must be restarted for the update to
take effect.
--

SLF6
x86_64
java-1.7.0-openjdk-1.7.0.45-2.4.3.2.el6_4.x86_64.rpm
java-1.7.0-openjdk-debuginfo-1.7.0.45-2.4.3.2.el6_4.x86_64.rpm
java-1.7.0-openjdk-demo-1.7.0.45-2.4.3.2.el6_4.x86_64.rpm
java-1.7.0-openjdk-devel-1.7.0.45-2.4.3.2.el6_4.x86_64.rpm
java-1.7.0-openjdk-src-1.7.0.45-2.4.3.2.el6_4.x86_64.rpm
i386
java-1.7.0-openjdk-1.7.0.45-2.4.3.2.el6_4.i686.rpm
java-1.7.0-openjdk-debuginfo-1.7.0.45-2.4.3.2.el6_4.i686.rpm
java-1.7.0-openjdk-demo-1.7.0.45-2.4.3.2.el6_4.i686.rpm
java-1.7.0-openjdk-devel-1.7.0.45-2.4.3.2.el6_4.i686.rpm
java-1.7.0-openjdk-src-1.7.0.45-2.4.3.2.el6_4.i686.rpm
noarch
java-1.7.0-openjdk-javadoc-1.7.0.45-2.4.3.2.el6_4.noarch.rpm

- Scientific Linux Development Team
</div><script type='text/javascript'>
        $('#show_447329425').click(function() {
            $('#detail_447329425').slideDown("normal");
            $('#show_447329425').hide();
            $('#hide_447329425').show();
        });
        $('#hide_447329425').click(function() {
            $('#detail_447329425').slideUp();
            $('#hide_447329425').hide();
            $('#show_447329425').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='17641#1383080048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-29T20:54:08+00:00">Oct 29, 2013 08:54 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1383080048">&nbsp;</a></div><pre>Hi Carl,

hey, thanks, I hadn&#39;t noticed yet! &#58;)

About an hour ago or so I tried downgrading to
java-1.7.0-openjdk-1.7.0.25 again (both on tier2-01 and tier2-02), just
because the problem happened to start right after the upgrade, so I
figured there MUST be a connection -- and this time I made sure to
restart both condor-cron and rsv on tier2-01, and bestman2 on tier2-02
-- and I guess that somehow did fix it eventually, since you&#39;re
absolutely right, we&#39;re all green again!

So I guess what this means is that there&#39;s SOMETHING in
java-1.7.0-openjdk-1.7.0.45 that RSV doesn&#39;t like, even though bestman2
itself seems perfectly happy with it? How can we track this further?
Obviously I&#39;m NOT interested in playing with this on our production
cluster right now. =)

We&#39;d be happy to test this on our ITB -- once we have upgraded that from
32-bit RHEL5 to 64-bit RHEL6, which we will hopefully do some time in
the next week or two.

So I guess we can close this ticket again, since we&#39;re green again --
even though it&#39;s not really resolved yet.

Thanks,

Horst

On 10/29/2013 03&#58;40 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='17641#1383079252'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-29T20:40:52+00:00">Oct 29, 2013 08:40 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1383079252">&nbsp;</a></div><pre>Hi Horst,

Did you happen to do something to get it working?  I am seeing all green now...

Carl</pre></div><div class='update_description'><i onclick="document.location='17641#1383075189'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-29T19:33:09+00:00">Oct 29, 2013 07:33 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1383075189">&nbsp;</a></div><pre>Hi Tim,

thanks -- here&#39;s the extra info I had sent to the list, but not the
ticket yet.

I just looked around some more, but I just can&#39;t find the problem.

I ran the srm commend from the RSV logs by hand as myself, and it works
just fine&#58;

----
[hs@tier2-01 ~]$ srm-copy
&#39;file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file&#39;
&#39;<a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/griddata/storage-probe-test-file.1383060480.2325711&#39' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/griddata/storage-probe-test-file.1383060480.2325711&#39</a>;
srm-copy   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012
[...]
SRM-CLIENT*EXPLANATION[0]=SRM-CLIENT&#58; PutDone is called successfully
[hs@tier2-01 ~]$
----

So the only difference would be the RSV proxy, but that&#39;s clearly okay,
otherwise all other RSV probes would turn red, too, right?

Just what java command is getting its connection reset, and why?

I verified that JAVA_HOME is still set to the right one
in /etc/sysconfig/bestman2, both on tier2-01 (for the RSV client)
and on tier2-02 (for the bestman2 server)&#58;

JAVA_HOME=/etc/alternatives/java_sdk_openjdk

What else could&#39;ve changed suddenly to mess this up?
We didn&#39;t change anything on our end, other than this java update.

Come to think of it, though, the first errors did start after this
<div id='show_18604175' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_18604175'>upgrade --
but a subsequent downgrade and restart didn&#39;t fix it, plus it&#39;s not
a REAL problem, since all transfers still succeed just fine!

It must be something in the RSV infrastructure, but what?
I already restarted both rsv and condor-cron many times, so you would think
that that would take care of all caching issues ...?

We really need to get this addressed quickly, since this is affecting
our production reliability numbers ...

Thanks a lot,

Horst

Horst Severini &#60;hs@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; Well,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I tried a few things, like restart bestman on tier2-02, and also</font>
<font color='#7F7E6F'>&#62; restart rsv and condor-cron on tier2-01. None of that seemed to help.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I had upgraded java at 8&#58;05, so that was before this time window,</font>
<font color='#7F7E6F'>&#62; and I didn&#39;t downgrade it again until 11&#58;08, and then I upgraded it again</font>
<font color='#7F7E6F'>&#62; and also upgraded bestman2 at 11&#58;13, so that was later.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So as far as I can tell, nothing changed in that time, other than a few</font>
<font color='#7F7E6F'>&#62; restart attempts.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 	Horst</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_18604175').click(function() {
            $('#detail_18604175').slideDown("normal");
            $('#show_18604175').hide();
            $('#hide_18604175').show();
        });
        $('#hide_18604175').click(function() {
            $('#detail_18604175').slideUp();
            $('#hide_18604175').hide();
            $('#show_18604175').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='17641#1383074135'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-29T19:15:35+00:00">Oct 29, 2013 07:15 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1383074135">&nbsp;</a></div><pre>Horst&#58;

We have a GOC ticket number for this issue now! Please use this ticket for
all communications about the issue. If you would like to add extra CCs, go
ahead.

Also, I have appointed Carl Edquist to lead the debugging effort from our
end. He has worked with RSV some, and can ask me, Mat, and other software
folks for help if and when needed. I expect Carl to jump in with questions
yet today.

— Tim</pre></div><div class='update_description'><i onclick="document.location='17641#1383073872'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-29T19:11:12+00:00">Oct 29, 2013 07:11 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1383073872">&nbsp;</a></div><pre>Hi all,

[sorry for the duplication, I had messed up some email addresses.]

hmm, looks like we have a problem with BeStMan2 and Java again in RSV now.
Since this morning, our RSV turns up CRITICAL&#58;

<a href='https&#58;//tier2-01.ochep.ou.edu/rsv/' target='_blank' rel='nofollow'>https&#58;//tier2-01.ochep.ou.edu/rsv/</a>

Which causes our hourly monitoring script to restart Bestman2.

The problem doesn&#39;t seem to be with Bestman2 itself, though,
since all my srm-ping, srm-copy, and srm-ls tests run fine,
and we&#39;re getting production data just fine as well.

I had upgraded java-1.7.0-openjdk to 1.7.0.45 this morning, since that&#39;s
apparently a critical fix, so I thought maybe that broke something,
so I downgraded it again, but that didn&#39;t fix the problem.

I also upgraded Bestman2 to the latest version, 2.3.0-16, and restarted,
but that didn&#39;t help, either.

So I don&#39;t think this upgrade had anything to do with this problem.
We had the org.osg.srm.srmcp-readwrite probe go critical a few times
in the last few weeks, which caused Bestman2 to be auto-restarted,
but I assumed that was caused by Bestman2 actually hanging up,
so I didn&#39;t spend much time tracking it down, since the restart fixed it.

But now the probe remains critical, which  is a problem, since we need
that probe to be green.

See below for the RSV error message. Please let me know what else
I can do to track this down.

Thanks a lot,
<div id='show_384598986' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_384598986'>
Horst

----
[root@tier2-01 hs]# rsv-control --run org.osg.srm.srmcp-readwrite -u tier2-02.ochep.ou.edu&#58;8443

Running metric org.osg.srm.srmcp-readwrite&#58;

metricName&#58; org.osg.srm.srmcp-readwrite
metricType&#58; status
timestamp&#58; 2013-10-29 11&#58;15&#58;55 CDT
metricStatus&#58; CRITICAL
serviceType&#58; OSG-SRM
serviceURI&#58; tier2-02.ochep.ou.edu&#58;8443
gatheredAt&#58; tier2-01.ochep.ou.edu
summaryData&#58; CRITICAL
detailsData&#58; Failed to transfer file to remote server.
Command&#58; srm-copy &#39;file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file&#39; &#39;<a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/griddata/storage-probe-test-file.1383063282.31479&#39' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/griddata/storage-probe-test-file.1383063282.31479&#39</a>; 2&#62;&1
Output from srm-copy&#58;
srm-copy   2.2.2.3.0  Wed Nov  7 16&#58;03&#58;09 CST 2012

BeStMan and SRM-Clients Copyright(c) 2007-2012,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@.... and documents at <a href='http&#58;//sdm.lbl.gov/bestman' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/bestman</a>
OSG Support at osg-software@.... and
documentation at <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/</a>

SRM-CLIENT&#58; Tue Oct 29 11&#58;14&#58;43 CDT 2013 Connecting to httpg&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server

SRM-CLIENT&#58; Tue Oct 29 11&#58;14&#58;44 CDT 2013 Calling SrmPrepareToPutRequest now ...
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SoapCallThread.Exception=; nested exception is&#58;
java.net.SocketException&#58; Connection reset
SRM-CLIENT&#58; printPutResult&#58;SRM returned null response

SRM-CLIENT&#58; Null response from SRM for this sub request

SRM-CLIENT&#58; Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=0
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=
SRM-CLIENT*REQUEST_STATUS=
SRM-CLIENT*SOURCEURL[0]=file&#58;///usr/share/rsv/probe-helper-files/storage-probe-test-file
SRM-CLIENT*TARGETURL[0]=<a href='srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/griddata/storage-probe-test-file.1383063282.31479' target='_blank' rel='nofollow'>srm&#58;//tier2-02.ochep.ou.edu&#58;8443/srm/v2/server?SFN=/storage/data/griddata/storage-probe-test-file.1383063282.31479</a>

EOT

</div><script type='text/javascript'>
        $('#show_384598986').click(function() {
            $('#detail_384598986').slideDown("normal");
            $('#show_384598986').hide();
            $('#hide_384598986').show();
        });
        $('#hide_384598986').click(function() {
            $('#detail_384598986').slideUp();
            $('#hide_384598986').hide();
            $('#show_384598986').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F17641">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 17641});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
