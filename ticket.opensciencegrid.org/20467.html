<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[20467] Inquiry - OSG Email gratia_certinfo files accumulating since upgrade to osg 3.2.6</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=20467" method="post">
<div class="page-header">
    <h3><span class="muted">20467</span> / Inquiry - OSG Email gratia_certinfo files accumulating since upgrade to osg 3.2.6</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bob Ball</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Assess ticket/Determine NAI</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-05-12</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Carl Edquist <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/20467", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='20467#1399906991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-12T15:03:11+00:00">May 12, 2014 03:03 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399906991">&nbsp;</a></div><pre>As this is now understood, and is affecting only our RSV probes and not
actual reporting, then, yes, please go ahead and close this.

Thanks, everyone, for you help on this.

bob

On 5/12/2014 10&#58;45 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399905926'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-12T14:45:26+00:00">May 12, 2014 02:45 PM UTC</time><a class="anchor" name="1399905926">&nbsp;</a></div><pre>Bob,
At this point, I don&#39;t see that we can do anything more on this ticket specifically.
The workaround of changing the housekeeping to 7 days has resolved the
immediate problem.

Long term resolution is being address in the GRATIA-140 JIRA ticket
<a href='https&#58;//jira.opensciencegrid.org/browse/GRATIA-140' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/GRATIA-140</a>
and should be released by 5/27/14 at the latest.

If you concur, can we close this ticket.
If you need to be added as a watcher on Gratia-140, please advise.

John Weigand

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144</pre></div><div class='update_description'><i onclick="document.location='20467#1399665433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T19:57:13+00:00">May 9, 2014 07:57 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399665433">&nbsp;</a></div><pre><a href='http&#58;//gate04.aglt2.org/rsv/gate02.grid.umich.edu.html#org.osg.gratia.condor' target='_blank' rel='nofollow'>http&#58;//gate04.aglt2.org/rsv/gate02.grid.umich.edu.html#org.osg.gratia.condor</a>

down from 120k to only 28k files with the change.

bob

On 5/9/2014 3&#58;49 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399664990'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T19:49:50+00:00">May 9, 2014 07:49 PM UTC</time><a class="anchor" name="1399664990">&nbsp;</a></div><pre>Hi Bob,

Let us know if changing the config to 7 days did indeed clear the old files.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='20467#1399642934'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T13:42:14+00:00">May 9, 2014 01:42 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399642934">&nbsp;</a></div><pre>Sorry, I was out yesterday helping my son find housing in Chicago
(successfully).

[root@gate02 ~]# grep PER_JOB /etc/condor/config.d/*
/etc/condor/config.d/50-host-defs_gatekeeper.conf&#58;PER_JOB_HISTORY_DIR =
/var/lib/gratia/data
[root@gate02 ~]# grep -i datafolder /etc/gratia/condor/ProbeConfig
DataFolder=&#34;/var/lib/gratia/data/&#34;

These settings have been in place through gate02 reboots.

bob

On 5/8/2014 9&#58;45 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399642877'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T13:41:17+00:00">May 9, 2014 01:41 PM UTC</time><a class="anchor" name="1399642877">&nbsp;</a></div><pre>Bob,
Forgot to answer the &#34;restarts&#34; question....
no... since the probe is not a daemon process, it is
naturally restarted each time.... has no memory just like me ;-)
John Weigand

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144</pre></div><div class='update_description'><i onclick="document.location='20467#1399642226'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T13:30:26+00:00">May 9, 2014 01:30 PM UTC</time><a class="anchor" name="1399642226">&nbsp;</a></div><pre>Bob,
What versions of the probe are you running on each?
Also, we have found that grid proxy jobs, like rsv normally, do get cleaned up.
it is voms proxy jobs that do not.
At least that is what we think is the culprit.
Let me know in the event we have found only 1 bug related to this.
John Weigand

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144</pre></div><div class='update_description'><i onclick="document.location='20467#1399641521'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T13:18:41+00:00">May 9, 2014 01:18 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399641521">&nbsp;</a></div><pre>If you look further back in the ticket history, you will see that the 31
day limit is indeed working.  We have about 100k files now, and I think
it is holding at about that level.

I will change this to 7 days.  We have a 3day walltime limit, so that
should be sufficient, and cut the file count down a lot.  Do I need to
do more than just change the limit in the file though? Restarts of anything?

I find it curious that this seems to work fine on our gate04.aglt2.org,
but not so well on gate02.grid.umich.edu?  Is this understood?

bob

On 5/9/2014 9&#58;01 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399640472'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T13:01:12+00:00">May 9, 2014 01:01 PM UTC</time><a class="anchor" name="1399640472">&nbsp;</a></div><pre>Bob,

This appears to be a bug introduced in v1.13.24.
It should be cleaning up the certinfo files when the probe processes the
corresponding condor history file.  As can be seen, it no longer does.

The initial thought was to just do a downgrade to the previous version but
that appears to be an issue too as it will remove more than you would like.
This is another. less damaging for now, issue.

In discussing this with Tony Tiradan, since you are on an sl6 platform you
should not have a problem with file system limits.  If you were on sl5, it
would be a serious problem.

On the bright side, there is another housekeeping function in the probes that
is working.  In the /etc/gratia/condor/ProbeConfig, there is this attribute
with a default value of 31...
DataFileExpiration=&#34;31&#34;
Comments34=&#34;The number of days quarantined and unusable data files are kept&#34;

You should not see any files in the /var/lib/gratia/data directory older
than 31 days.  If you can verfiy that it is working (it is on my test node), I
can sleep easier.

You can shorten that interval but give it careful thought if you make it too
short.  If you can live the 31 days worth of files, that woudl be good and when
the fix is in for the bug, all should go back to a normal level, after 31
days of course.

When I create the JIRA ticket to fix the bug, let me know if you want to be
a watcher on it.

Sound ok by you.

John Weigand
<div id='show_1444744292' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1444744292'>
by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144
</div><script type='text/javascript'>
        $('#show_1444744292').click(function() {
            $('#detail_1444744292').slideDown("normal");
            $('#show_1444744292').hide();
            $('#hide_1444744292').show();
        });
        $('#hide_1444744292').click(function() {
            $('#detail_1444744292').slideUp();
            $('#hide_1444744292').hide();
            $('#show_1444744292').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20467#1399640467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-09T13:01:07+00:00">May 9, 2014 01:01 PM UTC</time><a class="anchor" name="1399640467">&nbsp;</a></div><pre>Bob,

This appears to be a bug introduced in v1.13.24.
It should be cleaning up the certinfo files when the probe processes the
corresponding condor history file.  As can be seen, it no longer does.

The initial thought was to just do a downgrade to the previous version but
that appears to be an issue too as it will remove more than you would like.
This is another. less damaging for now, issue.

In discussing this with Tony Tiradan, since you are on an sl6 platform you
should not have a problem with file system limits.  If you were on sl5, it
would be a serious problem.

On the bright side, there is another housekeeping function in the probes that
is working.  In the /etc/gratia/condor/ProbeConfig, there is this attribute
with a default value of 31...
DataFileExpiration=&#34;31&#34;
Comments34=&#34;The number of days quarantined and unusable data files are kept&#34;

You should not see any files in the /var/lib/gratia/data directory older
than 31 days.  If you can verfiy that it is working (it is on my test node), I
can sleep easier.

You can shorten that interval but give it careful thought if you make it too
short.  If you can live the 31 days worth of files, that woudl be good and when
the fix is in for the bug, all should go back to a normal level, after 31
days of course.

When I create the JIRA ticket to fix the bug, let me know if you want to be
a watcher on it.

Sound ok by you.

John Weigand
<div id='show_1546826440' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1546826440'>
by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144
</div><script type='text/javascript'>
        $('#show_1546826440').click(function() {
            $('#detail_1546826440').slideDown("normal");
            $('#show_1546826440').hide();
            $('#hide_1546826440').show();
        });
        $('#hide_1546826440').click(function() {
            $('#detail_1546826440').slideUp();
            $('#hide_1546826440').hide();
            $('#show_1546826440').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20467#1399578755'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-08T19:52:35+00:00">May 8, 2014 07:52 PM UTC</time> by <b>Tanya Levshina</b><a class="anchor" name="1399578755">&nbsp;</a></div><pre>Hi,
I am looking just at AGLT2_CE_2 (is it the right site?)

<a href='http&#58;//gratiaweb.grid.iu.edu/gratia/byvo?starttime=&endtime=&span=86400&relativetime=absolute&facility=AGLT2_CE_2&exclude-facility=&vo=&exclude-vo=&user=&exclude-dn=' target='_blank' rel='nofollow'>http&#58;//gratiaweb.grid.iu.edu/gratia/byvo?starttime=&endtime=&span=86400&relativetime=absolute&facility=AGLT2_CE_2&exclude-facility=&vo=&exclude-vo=&user=&exclude-dn=</a>

and I don&#39;t see nova.
Tanya</pre></div><div class='update_description'><i onclick="document.location='20467#1399557550'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-08T13:59:10+00:00">May 8, 2014 01:59 PM UTC</time> by <b>Tanya Levshina</b><a class="anchor" name="1399557550">&nbsp;</a></div><pre>John,

It looks like CMS Tier-1 (Tony) has a similar problem&#58; certinfo files are not being deleted . Marco is investigating.
Tanya</pre></div><div class='update_description'><i onclick="document.location='20467#1399557255'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-08T13:54:15+00:00">May 8, 2014 01:54 PM UTC</time><a class="anchor" name="1399557255">&nbsp;</a></div><pre>Bob,
I may take back all I just said.
There could be another problem in the housekeeping.
I just looked on an sl5 and sl6 test CE I have and appear to be
having the same issues with the certinfo files.
Maybe another new feature ;-)
I need to investigate.
I have 1.13.25 of the condor probe.
John Weigand

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144</pre></div><div class='update_description'><i onclick="document.location='20467#1399556741'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-08T13:45:41+00:00">May 8, 2014 01:45 PM UTC</time><a class="anchor" name="1399556741">&nbsp;</a></div><pre>Bob,
Take a look at the explanation here&#58;
<a href='https&#58;//jira.opensciencegrid.org/browse/GRATIA-126' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/GRATIA-126</a>

Then look at the comment of mine (near the bottom) dated 24/Jan/14 5&#58;10pm.
It has a fallacy in it. Subsequently, we have found out that doing a condor_reconfig
does not really affect the PER_JOB_HISTORY_DIR attribute in Condor (a feature I guess).
Even if you do a &#39;condor_config_val -schedd PER_JOB_HISTORY_DIR&#39;, Condor lies.
It may have re-read the configs but it does not use that one.  You have to do a restart.
This may have been the initial cause of the problem.
or
Also look at the 14/Oct/13 3&#58;53pm comment which could have been the culprit.
or
we have another problem.

I am not sure where things went amuck though from reading this ticket.

Anyway, with that out of the picture, what we want to determine is that housekeeping on
the certinfo files is being performed and we are just talking about a clean up on the rest
the ones that weren&#39;t.

Am I correct?

John Weigand

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144</pre></div><div class='update_description'><i onclick="document.location='20467#1399516929'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-08T02:42:09+00:00">May 8, 2014 02:42 AM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399516929">&nbsp;</a></div><pre>-rw-r--r--  1 root   root    5463487 May  7 22&#58;36 2014-05-07.log

Head of the file&#58;
00&#58;00&#58;11 EDT Gratia&#58; Using config file&#58; /etc/gratia/condor/ProbeConfig
00&#58;00&#58;11 EDT Gratia&#58; Initializing Gratia with /etc/gratia/condor/ProbeConfig
00&#58;00&#58;11 EDT Gratia&#58; Creating a ProbeDetails record 2014-05-07T04&#58;00&#58;11Z
00&#58;00&#58;11 EDT Gratia&#58;
***********************************************************
00&#58;00&#58;11 EDT Gratia&#58; OK - Handshake added to bundle (1/100)
00&#58;00&#58;11 EDT Gratia&#58;
***********************************************************
00&#58;00&#58;11 EDT Gratia&#58; List of backup directories&#58; [u&#39;/var/lib/gratia/tmp&#39;]
00&#58;00&#58;11 EDT Gratia&#58; Reprocessing response&#58; OK - Reprocessing 0
record(s) uploaded, 0 bundled, 0 failed
00&#58;00&#58;11 EDT Gratia&#58; After reprocessing&#58; 0 in outbox 0 in staged outbox
0 tar files
00&#58;00&#58;11 EDT Gratia&#58; Creating a UsageRecord 2014-05-07T04&#58;00&#58;11Z
00&#58;00&#58;11 EDT Gratia&#58; Registering transient input file&#58;
/var/lib/gratia/data/history.744017.0
00&#58;00&#58;11 EDT Gratia&#58;
***********************************************************
00&#58;00&#58;11 EDT Gratia&#58; Saved record to
/var/lib/gratia/tmp/gratiafiles/subdir.condor_gate02.grid.umich.edu_gratia-osg-prod.opensciencegrid.org_80/outbox/r.2133520.gratia.xml__yfvk3uKce1
00&#58;00&#58;11 EDT Gratia&#58; Deleting transient input file&#58;
/var/lib/gratia/data/history.744017.0
00&#58;00&#58;11 EDT Gratia&#58; OK - Record added to bundle (2/100)
00&#58;00&#58;11 EDT Gratia&#58;
**********************************************************

Tail of the file&#58;
22&#58;36&#58;29 EDT Gratia&#58; Bundle response indicates success,
/var/lib/gratia/tmp/grat
iafiles/subdir.condor_gate02.grid.umich.edu_gratia-osg-prod.opensciencegrid.org_
80/outbox/r.2639486.gratia.xml__cMZ4VBXnRT will be deleted
22&#58;36&#58;29 EDT Gratia&#58; Bundle response indicates success,
<div id='show_2087731057' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2087731057'>/var/lib/gratia/tmp/grat
iafiles/subdir.condor_gate02.grid.umich.edu_gratia-osg-prod.opensciencegrid.org_
80/outbox/r.2639486.gratia.xml__VsktxWeIAW will be deleted
22&#58;36&#58;29 EDT Gratia&#58; OK - Processed bundle with 5 records&#58;  OK
22&#58;36&#58;29 EDT Gratia&#58;
***********************************************************
22&#58;36&#58;29 EDT Gratia&#58; Removing log files older than 31 days from
/var/log/gratia
22&#58;36&#58;29 EDT Gratia&#58; /var/log/gratia uses 0.461% and there is 86% free
22&#58;36&#58;29 EDT Gratia&#58; Removing incomplete data files older than 31 days
from /var
/lib/gratia/data/
22&#58;36&#58;31 EDT Gratia&#58; /var/lib/gratia/data uses 0.134% and there is 86% free
22&#58;36&#58;32 EDT Gratia&#58; Removing quarantines data files older than 31 days
from /va
r/lib/gratia/data/quarantine
22&#58;36&#58;32 EDT Gratia&#58; /var/lib/gratia/data/quarantine uses 0% and there
is 86% free

bob

On 5/7/2014 5&#58;02 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_2087731057').click(function() {
            $('#detail_2087731057').slideDown("normal");
            $('#show_2087731057').hide();
            $('#hide_2087731057').show();
        });
        $('#hide_2087731057').click(function() {
            $('#detail_2087731057').slideUp();
            $('#hide_2087731057').hide();
            $('#show_2087731057').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20467#1399496543'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T21:02:23+00:00">May 7, 2014 09:02 PM UTC</time> by <b>Tanya Levshina</b><a class="anchor" name="1399496543">&nbsp;</a></div><pre>I see records from condor&#58;gate02.grid.umich.edu  in gratia database  so it looks like probe is reporting. Do you see anything in the gratia log for today (/var/log/gratia/)?</pre></div><div class='update_description'><i onclick="document.location='20467#1399496539'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T21:02:19+00:00">May 7, 2014 09:02 PM UTC</time> by <b>Tanya Levshina</b><a class="anchor" name="1399496539">&nbsp;</a></div><pre>I see records from condor&#58;gate02.grid.umich.edu  in gratia database  so it looks like probe is reporting. Do you see anything in the gratia log for today (/var/log/gratia/)?</pre></div><div class='update_description'><i onclick="document.location='20467#1399494624'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T20:30:24+00:00">May 7, 2014 08:30 PM UTC</time><a class="anchor" name="1399494624">&nbsp;</a></div><pre>added myself to ticket.
john weigand

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=John Weigand 144</pre></div><div class='update_description'><i onclick="document.location='20467#1399489581'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T19:06:21+00:00">May 7, 2014 07:06 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399489581">&nbsp;</a></div><pre>I should note that ALL of our gatekeepers went from the OSG 3.1 series,
to OSG 3.2, if that matters at all.

bob

On 5/7/2014 2&#58;59 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399489177'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T18:59:37+00:00">May 7, 2014 06:59 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1399489177">&nbsp;</a></div><pre>Just a note on the versions in question here --
OSG 3.2.5 had gratia-probe-1.13.18-1, and 3.2.6 had 1.13.24-1

I&#39;ll try to see what all changed between the gratia probe versions that may have caused this.  (Off hand I have no idea)

Another question is whether some other software changed in the 3.2.6 update that may have affected things.  I&#39;m guessing no?</pre></div><div class='update_description'><i onclick="document.location='20467#1399486152'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T18:09:12+00:00">May 7, 2014 06:09 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399486152">&nbsp;</a></div><pre>They should not be accumulating like this, period.  On gate02 right now
I see this.

[root@gate02 ~]# ls -lrt /var/lib/gratia/data/|grep gratia_certinfo_|wc -l
114935

On our primary gatekeeper, gate04.aglt2.org, I instead see this, and
other than a few very old, most are from today.

[root@gate04 ~]# ls -lrt /var/lib/gratia/data/|grep gratia_certinfo_|wc -l
1778
[root@gate04 ~]# ls -lrt /var/lib/gratia/data/|grep gratia_certinfo_|less
-rw-r--r-- 1 usatlas1 usatlas     366 Apr  9 22&#58;02
gratia_certinfo_condor_6171232
-rw-r--r-- 1 usatlas1 usatlas     366 Apr 10 02&#58;54
gratia_certinfo_condor_6173910
-rw-r--r-- 1 usatlas1 usatlas     366 Apr 10 08&#58;48
gratia_certinfo_condor_6179128
-rw-r--r-- 1 usatlas1 usatlas     366 Apr 10 10&#58;47
gratia_certinfo_condor_6179954
-rw-r--r-- 1 usatlas1 usatlas     366 May  5 16&#58;39
gratia_certinfo_condor_6620706
-rw-r--r-- 1 usatlas1 usatlas     366 May  5 17&#58;44
gratia_certinfo_condor_6622056
-rw-r--r-- 1 usatlas1 usatlas     379 May  6 21&#58;25
gratia_certinfo_condor_6637383
-rw-r--r-- 1 usatlas2 usatlas     382 May  7 00&#58;15
gratia_certinfo_condor_6637596
-rw-r--r-- 1 usatlas1 usatlas     366 May  7 02&#58;46
gratia_certinfo_condor_6637804
-rw-r--r-- 1 usatlas1 usatlas     366 May  7 02&#58;47
gratia_certinfo_condor_6637805

And, that is more consistent with the number of currently running jobs.
So, big question is, what&#39;s up?  Why?  How to properly fix?
<div id='show_1876811781' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1876811781'>
bob

On 5/7/2014 1&#58;42 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1876811781').click(function() {
            $('#detail_1876811781').slideDown("normal");
            $('#show_1876811781').hide();
            $('#hide_1876811781').show();
        });
        $('#hide_1876811781').click(function() {
            $('#detail_1876811781').slideUp();
            $('#hide_1876811781').hide();
            $('#show_1876811781').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20467#1399484709'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T17:45:09+00:00">May 7, 2014 05:45 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1399484709">&nbsp;</a></div><pre>Well, I&#39;m happy to see that the files are getting cleaned up after 31 days, but I think the question is still why they only started accumulating after updating to osg 3.2.6, and why only on one gate02...</pre></div><div class='update_description'><i onclick="document.location='20467#1399484538'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T17:42:18+00:00">May 7, 2014 05:42 PM UTC</time><a class="anchor" name="1399484538">&nbsp;</a></div><pre>Hi Bob, Carl,

So I guess if you change this ProbeConfig to something like 15 your problems should go away?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='20467#1399476435'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-07T15:27:15+00:00">May 7, 2014 03:27 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399476435">&nbsp;</a></div><pre>Looks like the 31 days is in effect.  BUT, these did not begin to
accumulate until the day of the osg 3.2.6 update.  And, they are only
accumulating on gate02, which is our &#34;other VO&#34; gate keeper.

bob

[root@gate02 ~]# ls -lrt /var/lib/gratia/data|less
total 459896
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;23
gratia_certinfo_condor_632120
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;23
gratia_certinfo_condor_632121
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;23
gratia_certinfo_condor_632122
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;23
gratia_certinfo_condor_632123
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;23
gratia_certinfo_condor_632124
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;23
gratia_certinfo_condor_632125
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;26
gratia_certinfo_condor_632126
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;26
gratia_certinfo_condor_632127
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;26
gratia_certinfo_condor_632128
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;26
gratia_certinfo_condor_632129
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;26
gratia_certinfo_condor_632130
-rw-r--r-- 1 osg      osg       365 Apr  6 11&#58;26
gratia_certinfo_condor_632131

On 5/6/2014 4&#58;56 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399409761'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T20:56:01+00:00">May 6, 2014 08:56 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1399409761">&nbsp;</a></div><pre>I looked a little more into the gratia_certinfo_* files, and I see there is a &#34;DataFileExpiration&#34; ProbeConfig option which defaults to 31 that appears to get used for deleting gratia_certinfo_* (and some other patterns) that are more than that number of days old.  So, maybe that needs to be adjusted to prune more recent files?  (Also, now I suspect that this is unrelated to the fix in gratia-probe 1.13.25-1)

I guess the way to check whether they are being pruned correctly right now is to see what the oldest ones are -- if it&#39;s more than 31 days old, then maybe they aren&#39;t getting pruned.

Can you send the output of &#34;ls -lrt /var/lib/gratia/data/ | grep ^gratia_certinfo_ | head&#34; ?

Thanks!
Carl</pre></div><div class='update_description'><i onclick="document.location='20467#1399404975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T19:36:15+00:00">May 6, 2014 07:36 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399404975">&nbsp;</a></div><pre>[ball@gate02&#58;~]$ rpm -qa|grep ^gratia-probe
gratia-probe-gram-1.13.24-1.osg32.el6.noarch
gratia-probe-condor-1.13.24-1.osg32.el6.noarch
gratia-probe-common-1.13.24-1.osg32.el6.noarch
gratia-probe-gridftp-transfer-1.13.24-1.osg32.el6.noarch

Looks like those did not update on March 11 when I went to OSG 3.2.6 on
the path I took.

yum --enablerepo=osg update

bob

On 5/6/2014 3&#58;25 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399404307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T19:25:07+00:00">May 6, 2014 07:25 PM UTC</time> by <b>Carl Edquist</b><a class="anchor" name="1399404307">&nbsp;</a></div><pre>Hi Bob,

What version of the gratia probes do you have installed?  Can you give the output of &#34;rpm -qa | grep ^gratia-probe&#34;  ?

In version 1.13.25-1, we fixed a problem with the condor probe not deleting dagman jobs history files under /var/lib/gratia/data/
(<a href='https&#58;//jira.opensciencegrid.org/browse/GRATIA-130' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/GRATIA-130</a> has the details)

Of course, the files there were named &#34;history.N.0&#34;, not &#34;gratia_certinfo_condor_XXXXX&#34;, so it may be a different problem, unless the two are related somehow.  I&#39;ll have to take a look and see if I can find out what the &#34;gratia_certinfo_condor_XXXXX&#34; files are all about...

Also adding Marco as a CC on this ticket since he&#39;s worked on the gratia condor probe recently.

Thanks,
Carl</pre></div><div class='update_description'><i onclick="document.location='20467#1399396329'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T17:12:09+00:00">May 6, 2014 05:12 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399396329">&nbsp;</a></div><pre>ht-condor.

bob

On 5/6/2014 12&#58;53 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399395233'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T16:53:53+00:00">May 6, 2014 04:53 PM UTC</time><a class="anchor" name="1399395233">&nbsp;</a></div><pre>Hi Bob,

What kind of CE is this an HT-Condor Ce or a gram CE? .

Carl,

Since you have lately been working into Gratia Probes, do you have any idea on what maybe going on?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='20467#1399384092'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-06T13:48:12+00:00">May 6, 2014 01:48 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1399384092">&nbsp;</a></div><pre>Hi, Kyle.  Looking forward to some help in diagnosing this.

bob

On 5/5/2014 8&#58;07 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1399291645'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-05-05T12:07:25+00:00">May 5, 2014 12:07 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1399291645">&nbsp;</a></div><pre>Bob.  I greatly apologize.  Something went wrong with the assignment to this ticket.  (THere are some other assignment oddities with regards to my user that i&#34;m noticing too)

Regardless, I apologize again and have passed this to the software team.  Hopefully they can shed some light on this.

Sorry again.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='20467#1398693970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-28T14:06:10+00:00">Apr 28, 2014 02:06 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1398693970">&nbsp;</a></div><pre>OK, once more.  Is anyone looking at this?  &#62;95000 gratia_certinfo files
now.

bob

On 4/17/2014 2&#58;24 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1397759051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-17T18:24:11+00:00">Apr 17, 2014 06:24 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1397759051">&nbsp;</a></div><pre>Is anyone actually assigned to this ticket?  I have heard nothing at all
since it was filed.  The current situation&#58;

summaryData&#58; WARNING
detailsData&#58; 1
0 records waiting to be re-sent to gratia-osg-prod.opensciencegrid.org&#58;80 in 0 files (including 0 archive files).
WARNING&#58; 66997 total gratia files found&#58;
66943 gratia_certinfo files under /var/lib/gratia/data/
50 classad records under /var/lib/gratia/data/
3 quarantine files under /var/lib/gratia/data/quarantine/
1 unsent collector records under /var/lib/gratia/tmp/gratiafiles
Probe condor&#58;gate02.grid.umich.edu has sent data to Gratia collector within the last hour.
Configured site name (AGLT2_CE_2) for probe condor&#58;gate02.grid.umich.edu matches Gratia translation.

bob

On 4/14/2014 10&#58;15 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1397484909'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-14T14:15:09+00:00">Apr 14, 2014 02:15 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1397484909">&nbsp;</a></div><pre>The number of such files on our gate02 gatekeeper (non-ATLAS) continues
to grow, whereas it is staying pretty stable on gate04, pretty much
corresponding to the number of running jobs.  We would like to clear up
this problem.  Is this rpm comparison helpful?

gate04 is the machine here that fetches certificates, and then they flow
out locally to all other machines here.

gate04 is the master rsv machine, probing gate02 and head01.

bob

[ball@umt3int01&#58;~]$ diff gate04_rpms.txt gate02_rpms.txt
61d60
&#60; condor-cron-1.0.9-2.osg.el6.noarch
131a131
<font color='#7F7E6F'>&#62; empty-ca-certs-1.0-1.osg.el6.noarch</font>
204c204
&#60; globus-gram-job-manager-13.53-1.3.osg32.el6.x86_64
---
<font color='#7F7E6F'>&#62; globus-gram-job-manager-13.45-1.6.osg.el6.x86_64</font>
254d253
&#60; gratia-probe-metric-1.13.24-1.osg32.el6.noarch
378d376
&#60; libconfig-1.3.2-1.1.el6.x86_64
562,563d559
&#60; osg-ca-certs-1.38-1.osg32.el6.noarch
&#60; osg-ca-certs-updater-0.5-1.osg.el6.noarch
579d574
&#60; osg-configure-rsv-1.0.51-1.osg32.el6.noarch
613a609,610
<font color='#7F7E6F'>&#62; perl-DBD-Pg-2.15.1-4.el6_3.x86_64</font>
<font color='#7F7E6F'>&#62; perl-DBI-1.609-4.el6.x86_64</font>
677a675
<font color='#7F7E6F'>&#62; postgresql-libs-8.4.20-1.el6_5.x86_64</font>
<div id='show_770414111' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_770414111'>728,731d725
&#60; rsv-3.7.14-1.osg32.el6.noarch
&#60; rsv-consumers-3.7.13-2.osg31.el6.noarch
&#60; rsv-core-3.7.14-1.osg32.el6.noarch
&#60; rsv-metrics-3.7.14-1.osg32.el6.noarch
844a839
<font color='#7F7E6F'>&#62; xfsprogs-3.1.1-14.el6.x86_64</font>

On 4/8/2014 9&#58;05 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_770414111').click(function() {
            $('#detail_770414111').slideDown("normal");
            $('#show_770414111').hide();
            $('#hide_770414111').show();
        });
        $('#hide_770414111').click(function() {
            $('#detail_770414111').slideUp();
            $('#hide_770414111').hide();
            $('#show_770414111').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='20467#1396962314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-08T13:05:14+00:00">Apr 8, 2014 01:05 PM UTC</time> by <b>Bobby Ball</b><a class="anchor" name="1396962314">&nbsp;</a></div><pre>Hi.  Is there any speculation on what to do with this?

bob

On 4/7/2014 2&#58;26 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='20467#1396895173'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-04-07T18:26:13+00:00">Apr 7, 2014 06:26 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1396895173">&nbsp;</a></div><pre>The /var/lib/gratia/data directory has been accumulating &#34;gratia_certinfo_condor_XXXXX&#34; files since early March when we upgraded to osg 3.2.6
(CE).  We observe this on both our ATLAS gatekeeper gate04.aglt2.org and our &#34;other VO&#34; gatekeeper, gate02.grid.umich.edu.

Has this been observed elsewhere?  What can/should we do about this?

Thanks,
bob</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F20467">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
