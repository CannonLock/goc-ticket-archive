<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[7637] Problem with new DOEGrids host certs</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=7637" method="post">
<div class="page-header">
    <h3><span class="muted">7637</span> / Problem with new DOEGrids host certs</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Steve Timm</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">High</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">followup</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-10-23</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Security Team <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/7637", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7637?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7637?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Problem%20with%20new%20DOEGrids%20host%20certs%20ISSUE%3D7637%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='7637#1256154321'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-21T19:45:21+00:00">Oct 21, 2009 07:45 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1256154321">&nbsp;</a></div><pre>Closing this ticket, as Steve says the immediate crisis has past. The OSG Security Team along with the Technical Director will address this with DOEGrid Management.

Rob</pre></div><div class='update_description'><i onclick="document.location='7637#1256138286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-21T15:18:06+00:00">Oct 21, 2009 03:18 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1256138286">&nbsp;</a></div><pre>Hi Elizabeth--
We were able to get a cert yesterday from doegrids which allowed our
gatekeeper to operate successfully again.  The immediate crisis is past
however there will have to be an extensive program of testing
since DOEGrids says they eventually want to make this change again,
supposedly to come into compliance with an OGF certificate profile.
Various people in Grid Services will be checking codes to see why
they broke on a certificate of this format, which was unexpected.
We also have yet to hear from DOEGrids why it was that they made
the initial change to the cert format on Oct. 12 without notifying anyone
that they were doing so, or updating their own posted documentation
on their web site.

Steve Timm

On Wed, 21 Oct 2009, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1256128473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-21T12:34:33+00:00">Oct 21, 2009 12:34 PM UTC</time> by <b>echism</b><a class="anchor" name="1256128473">&nbsp;</a></div><pre>Steve,

We never heard back from you. Can you confirm that this fix has remedied fermilab&#39;s woes as well?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='7637#1256059265'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-20T17:21:05+00:00">Oct 20, 2009 05:21 PM UTC</time> by <b>sfiligoi@....</b><a class="anchor" name="1256059265">&nbsp;</a></div><pre>Hi all.

UCSD just renewed the GUMS host cert, and now everything works again.

Thanks,
Igor

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255995546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T23:39:06+00:00">Oct 19, 2009 11:39 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1255995546">&nbsp;</a></div><pre>Dhiva has updated the DOEGrids CA to stop including the extended key
usage extension.
Please try getting new certificate and verify if the problem is solved.
Below is the message from Dhiva.
Thanks.
Doug

-------- Original Message --------
Subject&#58; 	PKI19146 Re&#58; [Fwd&#58; Re&#58; [Fwd&#58; Re&#58; Changes to DOEGrids
Certificate profile (cert attributes)] (fwd)]
Date&#58; 	Mon, 19 Oct 2009 16&#58;25&#58;48 -0700
From&#58; 	Dhiva &#60;dhiva@....&#62;
To&#58; 	Dhiva &#60;dhiva@....&#62;, Mike Helm &#60;helm@....&#62;, garzogli@....,
Ted Hesselroth &#60;tdh@....&#62;, Tanya Levshina &#60;tlevshin@....&#62;, keith
chadwick &#60;chadwick@....&#62;, Mine Altunay &#60;maltunay@....&#62;,
neha@...., Doug Olson &#60;DLOlson@....&#62;
CC&#58; 	trouble@....
References&#58; 	&#60;20091019221915.GA9464@....&#62;
&#60;59377D06-DE7F-4DF4-B708-73939227A7D1@....&#62;

The DOEGrids CA configuration has been changed to drop the &#39;Extended Key
Usage&#39; from the certificate.
Please issue a new certificate for the machine/service causing the
problem, and let us know.

For both personal certificates and service certificates.

thanks
dhiva
DOEGrids CA Operations

On 10/19/2009 4&#58;26 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255994798'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T23:26:38+00:00">Oct 19, 2009 11:26 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1255994798">&nbsp;</a></div><pre>Dhiva,

I have CC you on this ticket. I hope the information in this is helpful.</pre></div><div class='update_description'><i onclick="document.location='7637#1255994762'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T23:26:02+00:00">Oct 19, 2009 11:26 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1255994762">&nbsp;</a></div><pre>From&#58; Ruth &#60;ruth@....&#62;
To&#58; Grid Operations &#60;goc@....&#62;
Subject&#58; [Fwd&#58; Re&#58; PKI19146  Re&#58; [trouble] [Fwd&#58; Re&#58; [Fwd&#58; Re&#58; Changes to DOEGrids Certificate profile (cert attributes)] (fwd)]]
Date-Sent&#58; Monday, October 19, 2009 4&#58;56 PM -0500

it is esnet ticket PKI19146

-------- Original Message --------
Subject&#58; Re&#58; PKI19146 Re&#58; [trouble] [Fwd&#58; Re&#58; [Fwd&#58; Re&#58; Changes to DOEGrids Certificate profile (cert attributes)] (fwd)]
Date&#58; Mon, 19 Oct 2009 16&#58;56&#58;10 -0500
From&#58; Ruth &#60;ruth@....&#62;
To&#58; Dhiva &#60;dhiva@....&#62;
References&#58; &#60;4ADCDBAC.10803@....&#62; &#60;76B73371-F22B-4169-AA67-2593295854E8@....&#62;

It is OSG GOC ticket

<a href='7637.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=7637</a>

PDF attached

Dhiva wrote&#58;

Could some one explain what is causing the problem and what is that required in the certificate is missing?

Recently changes are
- removed the &#39;Netscape Cert Type&#39; Extension from the certificate.
- added Enhanced Key Usage Extension to the certificate

thanks
dhiva
DOEGrids CA Operations

On Oct 19, 2009, at 2&#58;35 PM, Ruth wrote&#58;

-------- Original Message --------
<div id='show_550092348' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_550092348'>Subject&#58; Re&#58; [Fwd&#58; Re&#58; Changes to DOEGrids Certificate profile (cert attributes)] (fwd)
Date&#58; Mon, 19 Oct 2009 16&#58;13&#58;48 -0500 (CDT)
From&#58; Steven Timm &#60;timm@....&#62;
To&#58; Gabriele Garzoglio &#60;garzogli@....&#62;
CC&#58; Dave Dykstra &#60;dwd@....&#62;, Ted Hesselroth &#60;tdh@....&#62;, chadwick@...., Tanya Levshina &#60;tlevshin@....&#62;, Ruth Pordes &#60;ruth@....&#62;, Mine Altunay &#60;maltunay@....&#62;
References&#58; &#60;Pine.LNX.4.64.0910191414160.12498@....&#62; &#60;4ADCC8D3.60902@....&#62;

Myself and Keith are at CCA09 tomorrow down at UIC.

Thus far we have not heard back from anyone at doegrids or anyone
in the OSG security team to whom the GOC ticket is assigned.
It&#39;s clear that DOEGrids is not publishing a cert that matches their
CPCPS.

Steve Timm

On Mon, 19 Oct 2009, Gabriele Garzoglio wrote&#58;

<font color='#7F7E6F'>&#62; Dave, Ted,</font>
<font color='#7F7E6F'>&#62; our authz infrastructure has an issue handling the new format of the DOEGrid</font>
<font color='#7F7E6F'>&#62; CA.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I know that Dave is already getting up to speed with this.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Tanya is contacting Doug.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Ted,</font>
<font color='#7F7E6F'>&#62; this might also affect gPlazma&#58; can you please look into that aspect.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I propose that we (Dave, Tanya, Ted, Steve, Gabriele et al) touch base on</font>
<font color='#7F7E6F'>&#62; what we&#39;ve found tomorrow morning. Should we say 11 am in my office?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Steven Timm wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Gabriele--I have googled for a OGF document such as Mike mentioned</font>
<font color='#7F7E6F'>&#62;&#62; in the E-mail and I can&#39;t find it.  If you&#39;ve got some time could</font>
<font color='#7F7E6F'>&#62;&#62; you check it out.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Igor Sfiligoi mentioned on the ticket that GUMS is also affected</font>
<font color='#7F7E6F'>&#62;&#62; if the GUMS server has a new-format host cert.  A ticket out</font>
<font color='#7F7E6F'>&#62;&#62; there in osg-storage last week leads me to believe that Bestman</font>
<font color='#7F7E6F'>&#62;&#62; and possibly gPlazma may be affected as well.  All have in common</font>
<font color='#7F7E6F'>&#62;&#62; the cryptix.jar.  We may have to declare an all hands on deck situation</font>
<font color='#7F7E6F'>&#62;&#62; on this one.  Several CMS and FErmiGrid gatekeeper certs expire</font>
<font color='#7F7E6F'>&#62;&#62; within the next month.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Steve Timm</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ------------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Subject&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Re&#58; Changes to DOEGrids Certificate profile (cert attributes)</font>
<font color='#7F7E6F'>&#62;&#62; From&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Gabriele Garzoglio &#60;garzogli@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Date&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Tue, 31 Mar 2009 10&#58;57&#58;19 -0500</font>
<font color='#7F7E6F'>&#62;&#62; To&#58;</font>
<font color='#7F7E6F'>&#62;&#62; helm@....</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; To&#58;</font>
<font color='#7F7E6F'>&#62;&#62; helm@....</font>
<font color='#7F7E6F'>&#62;&#62; CC&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Eileen Berman &#60;berman@....&#62;, keith chadwick &#60;chadwick@....&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Mike,</font>
<font color='#7F7E6F'>&#62;&#62; thanks for the heads up. I think that it is important to test the new</font>
<font color='#7F7E6F'>&#62;&#62; profile thoroughly. I&#39;d like to see the details.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; As you might know, the current OSG authorization projects are going to be</font>
<font color='#7F7E6F'>&#62;&#62; closed in a few weeks&#58; doing more work within that scope is difficult at</font>
<font color='#7F7E6F'>&#62;&#62; this point. However, we want to have the flexibility to open ad-hoc</font>
<font color='#7F7E6F'>&#62;&#62; projects when necessary, so I wonder if these tests could fit this new</font>
<font color='#7F7E6F'>&#62;&#62; model.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Irrespectively of how the activity will be organized, we&#39;ll talk internally</font>
<font color='#7F7E6F'>&#62;&#62; about your request.</font>
<font color='#7F7E6F'>&#62;&#62; Best,</font>
<font color='#7F7E6F'>&#62;&#62; Gabriele</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Mike Helm wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; We are making some changes to DOEGrids CA and certificates, &</font>
<font color='#7F7E6F'>&#62;&#62;&#62; among some other things we plan to change the cert profile</font>
<font color='#7F7E6F'>&#62;&#62;&#62; so it matches the OGF document GCD.125.   We should be changing</font>
<font color='#7F7E6F'>&#62;&#62;&#62; some of the KeyUsage and extendedKeyUsage attributes to match</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the recommendations in that document.  We are also going to add a few</font>
<font color='#7F7E6F'>&#62;&#62;&#62; other attributes.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; (I can post the table of proposed changes & notes ... will</font>
<font color='#7F7E6F'>&#62;&#62;&#62; do that anyway shortly somewhere on the web.)</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Do you know if the authz-interested WG&#39;s in OSG are interested</font>
<font color='#7F7E6F'>&#62;&#62;&#62; in this, and would be motivated to test our proposed</font>
<font color='#7F7E6F'>&#62;&#62;&#62; cert configurations?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I believe these changes are not controversial, altho there are</font>
<font color='#7F7E6F'>&#62;&#62;&#62; some opportunities to make mistakes.  The new profile has been well</font>
<font color='#7F7E6F'>&#62;&#62;&#62; verified (better in the EU than in the US however).  In particular</font>
<font color='#7F7E6F'>&#62;&#62;&#62; we will have to live with a mixture of both old and new certificate</font>
<font color='#7F7E6F'>&#62;&#62;&#62; profiles for a year as old certificates are gradually replaced, so</font>
<font color='#7F7E6F'>&#62;&#62;&#62; the profiles will have to interoperate.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Thanks, ==mwh</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Michael Helm</font>
<font color='#7F7E6F'>&#62;&#62;&#62; ESnet/LBNL</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
------------------------------------------------------------------
Steven C. Timm, Ph.D  (630) 840-8525
timm@....  <a href='http&#58;//home.fnal.gov/' target='_blank' rel='nofollow'>http&#58;//home.fnal.gov/</a>~timm/
Fermilab Computing Division, Scientific Computing Facilities,
Grid Facilities Department, FermiGrid Services Group, Assistant Group Leader.
</div><script type='text/javascript'>
        $('#show_550092348').click(function() {
            $('#detail_550092348').slideDown("normal");
            $('#show_550092348').hide();
            $('#hide_550092348').show();
        });
        $('#hide_550092348').click(function() {
            $('#detail_550092348').slideUp();
            $('#hide_550092348').hide();
            $('#show_550092348').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7637#1255994138'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T23:15:38+00:00">Oct 19, 2009 11:15 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1255994138">&nbsp;</a></div><pre>Called Doug Olson&#39;s numbers and left a message on both.</pre></div><div class='update_description'><i onclick="document.location='7637#1255990866'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T22:21:06+00:00">Oct 19, 2009 10:21 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1255990866">&nbsp;</a></div><pre>Dhiva is reverting the DOEGrids CA to it&#39;s previous behavior.
He will send a note when that is ready (soon).
Doug

On 10/19/2009 2&#58;51 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255989069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T21:51:09+00:00">Oct 19, 2009 09:51 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1255989069">&nbsp;</a></div><pre>I sent Ruth email updating her on the situation.</pre></div><div class='update_description'><i onclick="document.location='7637#1255989048'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T21:50:48+00:00">Oct 19, 2009 09:50 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1255989048">&nbsp;</a></div><pre>From&#58; Ruth &#60;ruth@....&#62;
To&#58; Grid Operations &#60;goc@....&#62;
Subject&#58; [Fwd&#58; Re&#58; [Fwd&#58; Re&#58; Changes to DOEGrids Certificate profile (cert attributes)] (fwd)]
Date-Sent&#58; Monday, October 19, 2009 4&#58;27 PM -0500

I assume the GOC has tickets on this and someone has phoned ESNET since people and hosts are dead in the water

-------- Original Message --------
Subject&#58; Re&#58; [Fwd&#58; Re&#58; Changes to DOEGrids Certificate profile (cert attributes)] (fwd)
Date&#58; Mon, 19 Oct 2009 16&#58;20&#58;35 -0500 (CDT)
From&#58; Steven Timm &#60;timm@....&#62;
To&#58; Gabriele Garzoglio &#60;garzogli@....&#62;
CC&#58; Dave Dykstra &#60;dwd@....&#62;, Ted Hesselroth &#60;tdh@....&#62;, chadwick@...., Tanya Levshina &#60;tlevshin@....&#62;, Ruth Pordes &#60;ruth@....&#62;, Mine Altunay &#60;maltunay@....&#62;
References&#58; &#60;Pine.LNX.4.64.0910191414160.12498@....&#62; &#60;4ADCC8D3.60902@....&#62; &#60;20091019202319.GD8505@....&#62; &#60;4ADCCDE5.2030500@....&#62;</pre></div><div class='update_description'><i onclick="document.location='7637#1255988887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T21:48:07+00:00">Oct 19, 2009 09:48 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1255988887">&nbsp;</a></div><pre>Forgot to send this to the ticket...

Begin forwarded message&#58;

<font color='#7F7E6F'>&#62; From&#58; Robert Quick &#60;rquick@....&#62;</font>
<font color='#7F7E6F'>&#62; Date&#58; October 19, 2009 3&#58;24&#58;44 PM GMT-04&#58;00</font>
<font color='#7F7E6F'>&#62; To&#58; Doug Olson &#60;dlolson@....&#62;, Mine Altunay &#60;maltunay@....&#62;</font>
<font color='#7F7E6F'>&#62; Cc&#58; Dan Fraser &#60;fraser@....&#62;</font>
<font color='#7F7E6F'>&#62; Subject&#58; Problem with DOEGrid Certs -- ISSUE=7637</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Doug and Mine,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; We&#39;ve gotten no response to this ticket (<a href='7637.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=7637</a></font>
<font color='#7F7E6F'>&#62; ) and Steve Timm is calling it urgent for SAZ and FNAL. From Igor&#39;s</font>
<font color='#7F7E6F'>&#62; comments about an hour ago, it may have much larger consequences as it</font>
<font color='#7F7E6F'>&#62; looks like it breaks PRIMA/GUMS communication. Please investigate and</font>
<font color='#7F7E6F'>&#62; reply ASAP.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Rob</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; PS. I tried to get Mine on her cell about this without luck. So Mine,</font>
<font color='#7F7E6F'>&#62; you can ignore that message if you get this first.</font>
<font color='#7F7E6F'>&#62;</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255980425'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T19:27:05+00:00">Oct 19, 2009 07:27 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1255980425">&nbsp;</a></div><pre>More information--one of my colleagues at Fermilab
got E-mail from Mike Helm at DOEGrids a while ago stating
that they were planning to come in compliance with the following
Open Grid Forum document

<a href='http&#58;//www.ogf.org/documents/GFD.125.pdf' target='_blank' rel='nofollow'>http&#58;//www.ogf.org/documents/GFD.125.pdf</a>

That document does mandate extendedKeyUsage field.
The DOEGrids CPCPS says that this field is unused.
One of these two documents is wrong.

I am not aware of any grid-wide announcements that were
made of when the field would be added.

Steve Timm

On Mon, 19 Oct 2009, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255977546'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T18:39:06+00:00">Oct 19, 2009 06:39 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1255977546">&nbsp;</a></div><pre>DOEGrids&#39;s current CPCPS says that the &#34;Extended Key Usage&#34;
attribute is ommitted from the cert.  But it is sure there now.
They are not conforming to their own CPCPS.  This needs to get fixed.

Steve Timm

On Mon, 19 Oct 2009, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255975207'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T18:00:07+00:00">Oct 19, 2009 06:00 PM UTC</time> by <b>sfiligoi@....</b><a class="anchor" name="1255975207">&nbsp;</a></div><pre>Hi all.

It seems the same problem affects PRIMA-GUMS communication.
We just renewed out GUMS host cert, and now PRIMA is refusing to talk to it.

Igor

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7637#1255970882'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T16:48:02+00:00">Oct 19, 2009 04:48 PM UTC</time> by <b>echism</b><a class="anchor" name="1255970882">&nbsp;</a></div><pre>Security team,

The original post read as follows&#58;

This is an issue that should be brought to the attention
of the OSG Security team and DOE Grids.

On Friday we renewed two host certs on two different
machines at Fermilab.  Both of these machines now are no longer
able to make a GSI handshake to our local SAZ server, saz.fnal.gov.

The one difference we can see between the new cert and the old cert
is the following&#58;

Show More

The new cert contains the field&#58;

X509v3 Extended Key Usage&#58; critical
TLS Web Server Authentication, TLS Web Client Authentication

-------
The previous certs did not.

Please pass this ticket on to DOEGrids at the highest priority.
We need to understand why the format of host certs has changed.
In less than a month, if not corrected, gatekeepers at Fermilab,
both CMS Tier 1 and FermiGrid, will not be able to function.

Steve Timm</pre></div><div class='update_description'><i onclick="document.location='7637#1255958148'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T13:15:48+00:00">Oct 19, 2009 01:15 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1255958148">&nbsp;</a></div><pre>Assigning to the security team.</pre></div><div class='update_description'><i onclick="document.location='7637#1255921433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-10-19T03:03:53+00:00">Oct 19, 2009 03:03 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1255921433">&nbsp;</a></div><pre>This is an issue that should be brought to the attention
of the OSG Security team and DOE Grids.

On Friday we renewed two host certs on two different
machines at Fermilab.  Both of these machines now are no longer
able to make a GSI handshake to our local SAZ server, saz.fnal.gov.

The one difference we can see between the new cert and the old cert
is the following&#58;

The new cert contains the field&#58;

X509v3 Extended Key Usage&#58; critical
TLS Web Server Authentication, TLS Web Client Authentication

-------
The previous certs did not.

Please pass this ticket on to DOEGrids at the highest priority.
We need to understand why the format of host certs has changed.
In less than a month, if not corrected, gatekeepers at Fermilab,
both CMS Tier 1 and FermiGrid, will not be able to function.

Steve Timm</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F7637">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 7637});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
