<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[7098] Security Notification Method</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=7098" method="post">
<div class="page-header">
    <h3><span class="muted">7098</span> / Security Notification Method</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jim Basney</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Waiting for customer response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-07-29</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">Security Team <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/7098", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7098?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7098?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Security%20Notification%20Method%20ISSUE%3D7098%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='7098#1248984892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-30T20:14:52+00:00">Jul 30, 2009 08:14 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1248984892">&nbsp;</a></div><pre>I&#39;ve documented the security team procedures for security announcements at&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Security/SecurityAnnouncements' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Security/SecurityAnnouncements</a>

Comments and edits are welcome.

Thanks,
Jim</pre></div><div class='update_description'><i onclick="document.location='7098#1248836905'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-29T03:08:25+00:00">Jul 29, 2009 03:08 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1248836905">&nbsp;</a></div><pre>Released the change to ticket.grid. Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='7098#1248805991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-28T18:33:11+00:00">Jul 28, 2009 06:33 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1248805991">&nbsp;</a></div><pre>I submitted another test notification. The form looks good to me.

Thanks,
Jim</pre></div><div class='update_description'><i onclick="document.location='7098#1248798688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-28T16:31:28+00:00">Jul 28, 2009 04:31 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1248798688">&nbsp;</a></div><pre>Jim,

Can you do one more test? I am guessing the updated form has all the changes you have requested in this ticket. If it works, then we can call it a done deal.

Link&#58; <a href='https&#58;//ticket-itb.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket-itb.grid.iu.edu/goc/open</a>

-ag</pre></div><div class='update_description'><i onclick="document.location='7098#1248727113'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-27T20:38:33+00:00">Jul 27, 2009 08:38 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1248727113">&nbsp;</a></div><pre>I performed the test. I created a ticket&#58;
<a href='7237.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=7237</a>
and submitted the notification (selecting only GOC as the recipient)
with Subject&#58; OSG-SEC-NOTIFY-TEST-2009-07-27.

My main feedback is that the notification form can be simplified.
Specifically, I think the &#34;Footprint Ticket ID&#34; and &#34;Email Signature&#34; input boxes can be removed,
since this information will be included in the PGP-signed message content,
and the &#34;Publish to RSS&#34; and &#34;Sign using GOC X509 certificate&#34; check boxes can be removed.
Also, I see no need for the other choices under &#34;Sender Address&#34;.
I think we&#39;ll always want the sender to be security@.....
Since we need to be very careful when submitting the notification, I prefer to have a minimal set of options on the form to consider.

Thanks,
Jim</pre></div><div class='update_description'><i onclick="document.location='7098#1248723481'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-27T19:38:01+00:00">Jul 27, 2009 07:38 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1248723481">&nbsp;</a></div><pre>Hi Jim.

Thanks for understanding. We will look into adding HTML content but I don&#39;t expect it to happen any time soon.

Can you please test the functionality available at <a href='https&#58;//ticket-itb.grid.iu.edu/goc/notify?security' target='_blank' rel='nofollow'>https&#58;//ticket-itb.grid.iu.edu/goc/notify?security</a> ... and let us know if this provides the exact functionality you are looking for?
- It assumes that you have already created a *non-critical* security ticket using <a href='https&#58;//ticket-itb.grid.iu.edu/goc/security' target='_blank' rel='nofollow'>https&#58;//ticket-itb.grid.iu.edu/goc/security</a> (or <a href='https&#58;//ticket.grid.iu.edu/goc/security' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/security</a>)
- Once you have the ticket, you can compose your message, include the ticket URL, do the GPG-stuff, and copy/paste the content into the content text area in the above notify?security link.

Once you do this test, I have instruction goc-staff to look for a test email from you, and to forward any such email to you and me so we can take a look at the content. Sound reasonable?

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='7098#1248722762'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-27T19:26:02+00:00">Jul 27, 2009 07:26 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1248722762">&nbsp;</a></div><pre>Thanks for the update. Regarding the whitespace issue, I guess we&#39;ll just need to be careful in how we format our messages.

-Jim</pre></div><div class='update_description'><i onclick="document.location='7098#1248718926'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-27T18:22:06+00:00">Jul 27, 2009 06:22 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1248718926">&nbsp;</a></div><pre>Soichi is still working on updating the form to do what the security team requested. The activity is being tracked independently on our internal tracker. Setting NAD to Friday this week.

Jim, we are having a hard time dealing with the white-space issue. The key problem is that we use text-only content within Footprints, and it is not possible for us to change it to HTML (or HTML *and* text) because we are worried it will break ticket exchange setups that have traditionally proven to be flimsy. Is it really that bad a problem? or can you live with not having leading spaces in the ticket&#39;s contents for the time being? [exploring addition of HTML content to FP tickets is in our long term to-do list]

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='7098#1247675145'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-15T16:25:45+00:00">Jul 15, 2009 04:25 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1247675145">&nbsp;</a></div><pre>Thanks Jim.

We will likely keep the notification form separate so security@ is selected by default, and also signing is turned off. We will let you know either way.

I expect this stuff to be implemented within a week .. possibly earlier.

-ag</pre></div><div class='update_description'><i onclick="document.location='7098#1247597825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-14T18:57:05+00:00">Jul 14, 2009 06:57 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1247597825">&nbsp;</a></div><pre>Mine, Doug, and I discussed this topic again today, and we agreed to my July 8 summary.

I don&#39;t think we need a new form for creating these security notification tickets. Can&#39;t we just use &#60;<a href='https&#58;//ticket.grid.iu.edu/goc/security&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/security&#62</a>; to create the security ticket?

Then once the ticket is created, we can use &#60;<a href='https&#58;//ticket.grid.iu.edu/goc/notify&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/notify&#62</a>; to send the notification message as before, with the message containing the ticket URL rather than a TWiki URL. So, I think there&#39;s no need for the new &#60;<a href='https&#58;//ticket.grid.iu.edu/goc/notify?security&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/notify?security&#62</a>; form.

Then I think we&#39;re left with the following wish list&#58;
* Ability to select security@.... as the From address at &#60;<a href='https&#58;//ticket.grid.iu.edu/goc/notify&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/notify&#62</a>;, in which case, the message would not be signed by the goc@.... certificate.
* Change the web formatting of the tickets so whitespace is respected.

Let&#39;s separately address the other issues (that are not directly related to security notification emails) outside of this ticket.

Thanks,
Jim</pre></div><div class='update_description'><i onclick="document.location='7098#1247258039'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-10T20:33:59+00:00">Jul 10, 2009 08:33 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1247258039">&nbsp;</a></div><pre>Removing myself from this ticket. I&#39;ll let Arvind and Soichi work out the details now that we&#39;ve talked directly with Jim.</pre></div><div class='update_description'><i onclick="document.location='7098#1247083571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-08T20:06:11+00:00">Jul 8, 2009 08:06 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1247083571">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; As far as I know, you can&#39;t delete entries in the ticket. You can only</font>
<font color='#7F7E6F'>&#62; append a new ones. This is something we lose in the move from the TWiki</font>
<font color='#7F7E6F'>&#62; to the ticketing system, but I&#39;m willing to let it go.</font>
<font color='#7F7E6F'>&#62;</font>

Correct. We do not allow deletes from tickets - it can be dangerous in
most contexts while being occasionally useful.

<font color='#7F7E6F'>&#62;&#62;&#62; 2. How do we ensure only security contacts see the ticket contents? is</font>
<font color='#7F7E6F'>&#62;&#62;&#62; this connected to OIM? does security contacts need to do anything to see</font>
<font color='#7F7E6F'>&#62;&#62;&#62; tickets?</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Yes, it&#39;s connected to OIM, but I&#39;m not clear on who exactly has access.</font>
<font color='#7F7E6F'>&#62; Is it only registered OIM security contacts, plus the security team?</font>
<font color='#7F7E6F'>&#62; Plus GOC staff? Anyone else?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I hope it doesn&#39;t mean that registered security contacts can view all</font>
<font color='#7F7E6F'>&#62; security tickets. I don&#39;t think that&#39;s what we want. A security contact</font>
<font color='#7F7E6F'>&#62; from one site shouldn&#39;t have access to security tickets involving</font>
<font color='#7F7E6F'>&#62; another site.</font>
<font color='#7F7E6F'>&#62;</font>

Doug told us that any registered OIM user can view all security tickets.
We (GOC) concurred. Is it really that dangerous for one security contact
to view a security ticket at another site? Do you expect the former to
hack into the latter site or something? We could attempt to do more
complex authorizations but note that such a move introduces more scope
for error (for example, a wrong assignment causes a person to be unable
to view a security ticket). I personally like Doug&#39;s recommendation that
if a person is good enough to be part of the OSG then they can also view
security tickets.

<font color='#7F7E6F'>&#62;&#62;&#62; 3. can security contacts update a ticket? say they have a question or</font>
<font color='#7F7E6F'>&#62;&#62;&#62; confirmation, how will they let us know?</font>
<div id='show_334886279' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_334886279'><font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I suspect we wouldn&#39;t want them to update the security announcement</font>
<font color='#7F7E6F'>&#62; ticket, but rather they should contact us at</font>
<font color='#7F7E6F'>&#62; security@.... or by submitting a separate security ticket.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; But my guess is they could submit a ticket update by emailing GOC or the</font>
<font color='#7F7E6F'>&#62; ticketing system.</font>
<font color='#7F7E6F'>&#62;</font>

Correct. Anyone who gets the ticket email, and knows how to send updates
to an OSG GOC ticket, can send updates to a security announcement.

-ag
</div><script type='text/javascript'>
        $('#show_334886279').click(function() {
            $('#detail_334886279').slideDown("normal");
            $('#show_334886279').hide();
            $('#hide_334886279').show();
        });
        $('#hide_334886279').click(function() {
            $('#detail_334886279').slideUp();
            $('#hide_334886279').hide();
            $('#show_334886279').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7098#1247083117'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-08T19:58:37+00:00">Jul 8, 2009 07:58 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1247083117">&nbsp;</a></div><pre>Copying and pasting Mine&#39;s question and Jim&#39;s response here&#58;

Mine Altunay wrote&#58;
<font color='#7F7E6F'>&#62; &#62; Hello</font>
<font color='#7F7E6F'>&#62; &#62; the summary below sounds good to me. A few questions&#58;</font>
<font color='#7F7E6F'>&#62; &#62; 1. on the ticket modify interface, I did nto see how we can modify the</font>
<font color='#7F7E6F'>&#62; &#62; contents of the ticket (the updated messages below the general ticket</font>
<font color='#7F7E6F'>&#62; &#62; info) if someone mistakenly put a wrong message or update, how do I</font>
<font color='#7F7E6F'>&#62; &#62; delete that?</font>

As far as I know, you can&#39;t delete entries in the ticket. You can only
append a new ones. This is something we lose in the move from the TWiki
to the ticketing system, but I&#39;m willing to let it go.

<font color='#7F7E6F'>&#62; &#62; 2. How do we ensure only security contacts see the ticket contents? is</font>
<font color='#7F7E6F'>&#62; &#62; this connected to OIM? does security contacts need to do anything to see</font>
<font color='#7F7E6F'>&#62; &#62; tickets?</font>

Yes, it&#39;s connected to OIM, but I&#39;m not clear on who exactly has access.
Is it only registered OIM security contacts, plus the security team?
Plus GOC staff? Anyone else?

I hope it doesn&#39;t mean that registered security contacts can view all
security tickets. I don&#39;t think that&#39;s what we want. A security contact
from one site shouldn&#39;t have access to security tickets involving
another site.

<font color='#7F7E6F'>&#62; &#62; 3. can security contacts update a ticket? say they have a question or</font>
<font color='#7F7E6F'>&#62; &#62; confirmation, how will they let us know?</font>

I suspect we wouldn&#39;t want them to update the security announcement
ticket, but rather they should contact us at
security@.... or by submitting a separate security ticket.

But my guess is they could submit a ticket update by emailing GOC or the
<div id='show_76163166' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_76163166'>ticketing system.

<font color='#7F7E6F'>&#62; &#62; 4. We need to move our incident and vulnerability reports to OIM server</font>
<font color='#7F7E6F'>&#62; &#62; from twiki, as agreed by GOC. The idea was security contacts will see</font>
<font color='#7F7E6F'>&#62; &#62; these reports, as they are authorized, and post questions and answers on</font>
<font color='#7F7E6F'>&#62; &#62; the web pages. Interaction with users in a secure controlled manner is</font>
<font color='#7F7E6F'>&#62; &#62; our goal. Are we going to have another internal area on OIM server to</font>
<font color='#7F7E6F'>&#62; &#62; keep our incident reports? are the tickets meant to serve as this</font>
<font color='#7F7E6F'>&#62; &#62; internal area ? would that work for our incident reports?</font>

I don&#39;t think this replaces our use of the TWiki for incidents. It only
replaces our use of the TWiki for announcements to security contacts.
</div><script type='text/javascript'>
        $('#show_76163166').click(function() {
            $('#detail_76163166').slideDown("normal");
            $('#show_76163166').hide();
            $('#hide_76163166').show();
        });
        $('#hide_76163166').click(function() {
            $('#detail_76163166').slideUp();
            $('#hide_76163166').hide();
            $('#show_76163166').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7098#1247082931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-08T19:55:31+00:00">Jul 8, 2009 07:55 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1247082931">&nbsp;</a></div><pre>Copying and pasting note from Jim and Doug into this ticket

Doug said&#58; Sounds good to me.
Doug

Jim said&#58;
Security Team,

Here&#39;s my summary from the call. Please review it and give your OK if
you agree. We need to give a consistent message to the GOC about our
requirements. Previously Doug, Mine, and I have each talked separately
with the GOC staff about this, and we haven&#39;t given them a consistent
message. (Sorry -- my fault.)

I think we should keep our procedure of PGP signing security
notifications, rather than switching to having our messages signed only
by the GOC&#39;s DOEGrids certificate. If you agree...

Then the GOC can modify the security notification form so&#58;
* the email comes from security@....
* we submit the PGP-signed email content
* no other signatures are added to the email

Recall the feedback we recently received from Alain that we should
tailor the email message content to give some indication of the urgency
of the message, rather than keeping our email notification content static.

So the security team workflow will be&#58;
1. We submit the sensitive content for the ticket on the form.
2. The form will return and tell us the URL for the ticket that is
created with the content we submitted.
3. We verify that the ticket content is what we want and make any needed
updates via the ticket modify interface.
4. We submit a second form with the email content that we want, which
includes the ticket URL and is signed by our PGP key.
<div id='show_1445721089' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1445721089'>5. The form sends the email message to the security contacts, who are
authorized to view the ticket.
6. We close the ticket.

We can update the ticket at any time. The latest update appears at the
top of the ticket in the GOC Ticket Viewer, so in case we need to make
an update, we should post a full, updated message, so our security
contacts just need to read the message at the top rather than reading
through all the prior updates. However, for a significant update, we
should send another email notification and start a new ticket.

I&#39;m responsible for documenting the Security Team procedure for this. It
has a lot of steps for us, but I think it&#39;s reasonable, given the care
we need to take with these messages.

Other issues the GOC staff will look into&#58;
* changing the web formatting of the tickets so PGP signatures aren&#39;t broken
* security tickets should be assigned to the Security Team Support
Center, not just Mine
* the security team should have permission to edit tickets via the GOC
Ticket interface (so we don&#39;t need to use the FootPrints interface). It
looks like this is already done.

If you have any questions or concerns about this, let me know and I&#39;ll
schedule a call so we can come to consensus and not send any more
inconsistent requirements to the GOC.

For your reference, the ticket we have open on this is&#58;
<a href='7098.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=7098</a>

Thanks,
Jim
</div><script type='text/javascript'>
        $('#show_1445721089').click(function() {
            $('#detail_1445721089').slideDown("normal");
            $('#show_1445721089').hide();
            $('#hide_1445721089').show();
        });
        $('#hide_1445721089').click(function() {
            $('#detail_1445721089').slideUp();
            $('#hide_1445721089').hide();
            $('#show_1445721089').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7098#1247072951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-08T17:09:11+00:00">Jul 8, 2009 05:09 PM UTC</time> by <b>Doug Olson</b><a class="anchor" name="1247072951">&nbsp;</a></div><pre>My apologies for some miscommunication along the way.
I&#39;m glad that Jim is clearing it up.
Doug

On 7/8/2009 8&#58;36 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='7098#1247067407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-08T15:36:47+00:00">Jul 8, 2009 03:36 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1247067407">&nbsp;</a></div><pre>The mechanism we currently have (the one that was ok&#39;ed end-to-end by Doug Olson)&#58; security announcement goes into a ticket, GOC-http-cert signed email contains link to aforementioned ticket -- is not ideal for the security team  according to Jim Basney.

Jim is going to summarize his updated requirements after confirming with the rest of the security team that they are ok with these updated requirements.

Security team (auth type in OIM) will also need to be able to edit security tickets.

Cheers,
-ag</pre></div><div class='update_description'><i onclick="document.location='7098#1246983875'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-07T16:24:35+00:00">Jul 7, 2009 04:24 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1246983875">&nbsp;</a></div><pre>I notice also that URLs are clickable when I view the ticket at
&#60;<a href='https&#58;//tick.globalnoc.iu.edu/&#62' target='_blank' rel='nofollow'>https&#58;//tick.globalnoc.iu.edu/&#62</a>; but not when I view it at
&#60;<a href='https&#58;//oim.grid.iu.edu/gocticket/viewer?id=7098&#62' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/viewer?id=7098&#62</a>;.</pre></div><div class='update_description'><i onclick="document.location='7098#1246983688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-07T16:21:28+00:00">Jul 7, 2009 04:21 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1246983688">&nbsp;</a></div><pre>Regarding the ticket whitespace issue, I notice that the message I just appended
contained&#58;

OSG-SEC-NOTIFY-03-18&#58; 2 revisions (edit Twiki permissions)
OSG-SEC-NOTIFY-2009-04-17&#58; 3 revisions
(edit Twiki permissions + added clarifying announcement)
OSG-SEC-NOTIFY-2009-04-30&#58; 1 revision
OSG-SEC-NOTIFY-2009-05-19&#58; 2 revisions (format adjustment)
OSG-SEC-NOTIFY-2009-06-05&#58; 1 revision

The above lines should be indented. And they appear indented in the FootPrints email
notification I received. But, when viewing the ticket at
&#60;<a href='https&#58;//oim.grid.iu.edu/gocticket/viewer?id=7098&#62' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/viewer?id=7098&#62</a>;, the leading whitespace is removed.</pre></div><div class='update_description'><i onclick="document.location='7098#1246983003'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-07T16:10:03+00:00">Jul 7, 2009 04:10 PM UTC</time> by <b>Jim Basney</b><a class="anchor" name="1246983003">&nbsp;</a></div><pre>Hi Arvind,

Here are my responses to your questions in advance of our meeting
tomorrow morning.

Regarding your issue #1&#58;

You say that we control the content of the email, but the form at
&#60;<a href='https&#58;//ticket.grid.iu.edu/goc/notify?security&#62' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/notify?security&#62</a>; does not give us the
ability to set the content of the email, just the content of the
ticket. This is in contrast to the form at
&#60;<a href='https&#58;//oim.grid.iu.edu/gocticket/notify&#62' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/gocticket/notify&#62</a>; where we can set the
content of the email message.

The form should allow us to paste in a PGP-signed email message from
security@..... Since there is no
security@.... certificate (and the DOEGrids CA does not
issue certificates to groups/teams), it&#39;s best if our security
announcement emails are simply not S/MIME signed. Then the message we
paste in each time can refer to our PGP email verification
instructions as before.

Note that I have no objection to GOC notifications continuing to be
S/MIME signed as is current practice.

We&#39;ve received feedback requesting that the email content should be
adjusted for each issue to indicate severity, i.e., it shouldn&#39;t be
the same boilerplate each time or people will start to ignore it. This
motivates my request that we be able to paste in a new PGP-signed
message to the form to go out in email.

Regarding your issue #2&#58;

Yes, the fact that we can only append to the ticket isn&#39;t ideal, but I
think the more important issue is that the formatting of the ticket
<div id='show_1141355981' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1141355981'>breaks our PGP signature and otherwise removes whitespace making our
message difficult to read.

Regarding your question #3.1&#58;

We&#39;ve made 5 security notifications via the twiki so far this year&#58;

OSG-SEC-NOTIFY-03-18&#58; 2 revisions (edit Twiki permissions)
OSG-SEC-NOTIFY-2009-04-17&#58; 3 revisions
(edit Twiki permissions + added clarifying announcement)
OSG-SEC-NOTIFY-2009-04-30&#58; 1 revision
OSG-SEC-NOTIFY-2009-05-19&#58; 2 revisions (format adjustment)
OSG-SEC-NOTIFY-2009-06-05&#58; 1 revision

So, for 3 of the 5 messages, we didn&#39;t modify the original Twiki
content. For one, we reformatted the message, and for the other, we
added some clarifying text (the email announcement) soon after the
message went out, based on feedback we received that we should include
the email message together with the additional content on the Twiki
page in case only the URL and not the full email message is forwarded.

Regarding your question #3.2&#58;

If the message content has changed significantly, we make a new
security announcement. We use the ability to edit the Twiki
announcement content to fix formatting, add clarifying text, and fix
typos based on the feedback we receive.

Talk to you tomorrow morning.

Thanks,
Jim
</div><script type='text/javascript'>
        $('#show_1141355981').click(function() {
            $('#detail_1141355981').slideDown("normal");
            $('#show_1141355981').hide();
            $('#hide_1141355981').show();
        });
        $('#hide_1141355981').click(function() {
            $('#detail_1141355981').slideUp();
            $('#hide_1141355981').hide();
            $('#show_1141355981').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7098#1246465202'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T16:20:02+00:00">Jul 1, 2009 04:20 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1246465202">&nbsp;</a></div><pre>Jim, I am still waiting response(s) from you to my note sent on June 25th 2009.

Re point #2 in my note sent on June 25th 2009&#58; Discussed this with Rob. He is going to discuss with Mine/Jim on what the best way forward is.

I have another question ... let us call this item #3 to Jim&#58;
3.1 How often do you do this kind of a thing where in you go and edit a security announcement? 90% of the time or 10% of time? 50% of the time?
3.2 How do you let people know that the content of the announcement has changed? (I am guessing you do not let them know the content has changed) ...

-ag</pre></div><div class='update_description'><i onclick="document.location='7098#1246464601'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T16:10:01+00:00">Jul 1, 2009 04:10 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1246464601">&nbsp;</a></div><pre>Mine did not make the production meeting, I will take this up with her next week.</pre></div><div class='update_description'><i onclick="document.location='7098#1246462203'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-01T15:30:03+00:00">Jul 1, 2009 03:30 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1246462203">&nbsp;</a></div><pre>Did any information come out of this meeting?</pre></div><div class='update_description'><i onclick="document.location='7098#1246291790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-29T16:09:50+00:00">Jun 29, 2009 04:09 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1246291790">&nbsp;</a></div><pre>I&#39;ve added this to the Production meeting minutes and will discuss it with Mine tomorrow, afterward we can set up a meeting between the GOC and Security if necessary.</pre></div><div class='update_description'><i onclick="document.location='7098#1245934299'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-25T12:51:39+00:00">Jun 25, 2009 12:51 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1245934299">&nbsp;</a></div><pre>Jim,

I see two separate issues in your note&#58;

1) Email comes from goc@; Points to twiki link that explains verification of email against security group&#39;s PGP key which is misleading.

2) Editing ticket to add detail means separate entries, and not a single entry.

I am not sure how we would address entry #2 - I would like to talk to you to understand the requirement better before proceeding.

Regarding #1 above - we can easily fix the sender to be security@ (or whatever id the security group uses). I am guessing it is a bug that it claims to be from goc@.
The twiki link on the email exists because that is what Doug Olson wanted - you should perhaps check with him on its semantic correctness. We do not control the content of the email - your group does.
Given the email is signed a DOEGrids-issues X509 cert, do you really want the message itself to be still signed by a PGP key? Setting aside for a minute that the PGP sign got mangled, isn&#39;t that overkill in the first place to use two signatures?

If you agree we do not need the PGP signing, given the email is signed by an X509 cert, and the form itself is a secure URL, then we could just let you and the security team just figure out what the verification instructions should say.

Thanks.</pre></div><div class='update_description'><i onclick="document.location='7098#1245785279'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-23T19:27:59+00:00">Jun 23, 2009 07:27 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1245785279">&nbsp;</a></div><pre>Just adding Arvind, Rob and myself to this so we can discuss it.</pre></div><div class='update_description'><i onclick="document.location='7098#1245785232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-23T19:27:12+00:00">Jun 23, 2009 07:27 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1245785232">&nbsp;</a></div><pre>Hi Kyle,

I think Mine used the tool to send the OSG-SEC-NOTIFY-2009-06-20 message
(<a href='7077.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=7077</a>), and I have some
concerns about how it worked.

First, the email I received was From&#58; goc@.... (even
though the form says the sender address will be
security@....) and signed by the goc@....
(http/oim.grid.iu.edu) DOEGrids certificate. However, the email contained&#58;

This message is digitally signed. We encourage you to verify the
digital signatures on OSG security announcements according to&#58;
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Security/SecureEmail' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Security/SecureEmail</a>

That twiki page is about verifying messages signed with the
security@.... PGP key, so it does not help to verify the
goc@.... signature on the email message.

The ticket contains the PGP signed message from
security@..... I assume Mine pasted that into the
&#34;Content that will be used in security ticket that is generated&#34; box on
the web form. However, it appears that leading whitespace was stripped
from the message, so the PGP signature verification fails&#58;

gpg&#58; Signature made Fri Jun 19 20&#58;20&#58;07 2009 EDT using DSA key ID 9189F2C2
gpg&#58; BAD signature from &#34;Open Science Grid Security
&#60;security@....&#62;&#34;

When I view the ticket at &#60;<a href='https&#58;//tick.globalnoc.iu.edu&#62' target='_blank' rel='nofollow'>https&#58;//tick.globalnoc.iu.edu&#62</a>; or
&#60;<a href='7077.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=7077&#62</a>; (i.e., via FootPrints or
the GOC Ticket Viewer), the PGP signature is invalid and I can see in
the code listing that the code is not properly indented (i.e., the
leading whitespace has been removed).

<div id='show_138929611' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_138929611'>In our old twiki-based approach, if we had a problem with the
notification content, we could edit it in the twiki, but now with this
ticket-based approach, we can only append to the message. I&#39;m concerned
about this loss of functionality. On the twiki, we could maintain a
nicely formatted page with the latest information about a security issue
(for example, a list of IP addresses). With the ticket-based approach,
our security contacts will need to scroll down and read all the appended
ticket entries to get the full story.

When we discussed this on Jan 9, what I understood was that you were
going to provide us a protected web space on the OIM server where we
could put resources (html, text, tar.gz, etc.) to be shared with
security contacts. I don&#39;t remember discussing using the ticketing
system for this. The ticketing system doesn&#39;t seem like the right
solution to me.

In summary, I request the following changes&#58;
* The email notification should be From&#58; security@.....
* We should provide (via the web form) the PGP-signed message to go in
the email notification. We need the ability to adjust the email message
according to the urgency of the notification.
* If we continue using the ticketing system, then we need our PGP signed
messages to be presented without modification by the ticketing system.
* Could we have a protected OIM web space as originally discussed?

Thanks,
Jim

[META Information for OSG ITB Support Staff]
Submitter doesn&#39;t know his/her SC.
</div><script type='text/javascript'>
        $('#show_138929611').click(function() {
            $('#detail_138929611').slideDown("normal");
            $('#show_138929611').hide();
            $('#hide_138929611').show();
        });
        $('#hide_138929611').click(function() {
            $('#detail_138929611').slideUp();
            $('#hide_138929611').hide();
            $('#show_138929611').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F7098">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
