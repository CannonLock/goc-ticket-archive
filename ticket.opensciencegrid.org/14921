<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[14921] NWICG_NDCMS nd.edu sending malformed ReSS classads</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=14921" method="post">
<div class="page-header">
    <h3><span class="muted">14921</span> / NWICG_NDCMS nd.edu sending malformed ReSS classads</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Steve Timm</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">NWICG_NDCMS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">NWICG</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Steve Timm</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">NWICG</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-05-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">NWICG <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/14921", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/14921?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/14921?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20NWICG_NDCMS%20nd.edu%20sending%20malformed%20ReSS%20classads%20ISSUE%3D14921%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='14921#1369318594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-23T14:16:34+00:00">May 23, 2013 02:16 PM UTC</time><a class="anchor" name="1369318594">&nbsp;</a></div><pre>This problem has been fixed.  this ticket can be closed.  thanks for your help.

Steve Timm

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183</pre></div><div class='update_description'><i onclick="document.location='14921#1368544452'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-14T15:14:12+00:00">May 14, 2013 03:14 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1368544452">&nbsp;</a></div><pre>Thanks Serguei... now we wait 30 minutes for the revised output to
get to is1.grid.iu.edu and see if it was fixed.

Steve Timm

On Tue, 14 May 2013, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14921#1368541570'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-14T14:26:10+00:00">May 14, 2013 02:26 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1368541570">&nbsp;</a></div><pre>Steve,

You are right there is one leading space in the line allowed_vos

I have removed one and  issued&#58;  osg-configure –c

If there is anything else you want me to do ?

Thanks

-Serguei</pre></div><div class='update_description'><i onclick="document.location='14921#1368540384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-14T14:06:24+00:00">May 14, 2013 02:06 PM UTC</time><a class="anchor" name="1368540384">&nbsp;</a></div><pre>Serguei, could you please look once again at your 30-gip.ini
and make sure there is not a leading white space in front of the
allowed_vos line.
univ. of maryland had a similar problem which was fixed by doing that.

Steve Timm

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183</pre></div><div class='update_description'><i onclick="document.location='14921#1368121715'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-09T17:48:35+00:00">May 9, 2013 05:48 PM UTC</time><a class="anchor" name="1368121715">&nbsp;</a></div><pre>I am not sure why it is happening, but I have looked at the GIP output of your site as it is sent to the BDII
and in that output, the following line appears several times&#58;

allowed_vos = mis,nwicg,osg,cdf,fermilab,nanohub,cms,dzero&#58;

The colon shouldn&#39;t be at the end of that line.
There is nothing wrong with your 30-gip.ini, the syntax of the allowed_vos statement is fine.
But there is something wrong with the way the GIP is processing it. It is putting a trailing colon on that statement
and thus making the classad be bad with an extra equal sign in the text.
Adding osg-gip to the watch list of the ticket.&#39;

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183</pre></div><div class='update_description'><i onclick="document.location='14921#1367958250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T20:24:10+00:00">May 7, 2013 08:24 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1367958250">&nbsp;</a></div><pre>Steve,

We do not have /etc/gip/gip.conf file

This is contents of /etc/osg/config.d/30-gip.ini

;===================================================================

;                              GIP

;===================================================================

[GIP]

; ========= These settings must be changed ==============

;; This setting indicates the batch system that GIP should query

;; and advertise

;; This should be the name of the batch system in lowercase

batch = condor

;; Options include&#58; pbs, lsf, sge, or condor

; ========= These settings can be left as is for the standard install ========

;; This setting indicates whether GIP should advertise a gsiftp server

;; in addition to a srm server, if you don&#39;t have a srm server, this should

;; be enabled

;; Valid options are True or False
<div id='show_1133463794' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1133463794'>
advertise_gsiftp = TRUE

;; This should be the hostname of the gsiftp server that gip will advertise

gsiftp_host = DEFAULT

;; This setting indicates whether GIP should query the gums server.

;; Valid options are True or False

advertise_gums = FALSE

;===================================================================

;                          Subclusters

;===================================================================

; For each subcluster, add a new subcluster section.

; Each subcluster name must be unique for the entire grid, so make sure to not

; pick anything generic like &#34;MAIN&#34;.  Each subcluster section must start with

; the words &#34;Subcluster&#34;, and cannot be named &#34;CHANGEME&#34;.

; There should be one subcluster section per set of homogeneous nodes in the

; cluster.

; This data is used for our statistics collections in the OSG, so it&#39;s
important

; to keep it up to date.  This is important for WLCG sites as it will be used

; to determine your progress toward your MoU commitments!

; If you have many similar subclusters, then feel free to collapse them into

; larger, approximately-correct groups.

; See example below&#58;

[Subcluster Main]

; should be the name of the subcluster

name = ndcms.crc.nd.edu

; number of homogeneous nodes in the subcluster

node_count = 72

; Megabytes of RAM per node.

ram_mb = 12096

; CPU model, as taken from /proc/cpuinfo.  Please, no abbreviations!

cpu_model = Six-Core AMD Opteron(tm) Processor 2431

; Should be something like&#58;

; cpu_model = Dual-Core AMD Opteron(tm) Processor 2216

; Vendor&#39;s name -- AMD or Intel?

cpu_vendor = AMD

; Approximate speed, in MHZ, of the chips

cpu_speed_mhz = 2400.055

; Must be an integer.  Example&#58; cpu_speed_mhz = 2400

; Platform; x86_64 or i686

cpu_platform = x86_64

; Number of CPUs (physical chips) per node

cpus_per_node = 2

; Number of cores per node.

cores_per_node = 12

; For a dual-socket quad-core, you would put cpus_per_node=2 and

; cores_per_node=8

; Set to true or false depending on inbound connectivity.  That is, external

; hosts can contact the worker nodes in this subcluster based on their
hostname.

inbound_network = TRUE

; Set to true or false depending on outbound connectivity.  Set to true if the

; worker nodes in this subcluster can communicate with the external internet.

outbound_network = TRUE

; Non-mandatory attributes

; The amount of swap per host in MB

;  swap_mb = 4000

; The per-core SpecInt 2000 score.  This is usually computed for you.

;  SI00 = 2000

; The per-core SpecFloat 2000 score.  This is usually computed for you

;  SF00 = 2000

; Mandatory for WLCG reporting

; The per-core HEPSPEC score.  See your VO representative for more
information.

;  HEPSPEC = 8

; The conversion factor from HEPSPEC to SI2K is accepted to be 250.

; Here&#39;s a full example.  Remember, globally unique names!

; [Subcluster Dell Nodes UNL]

; name = Dell Nodes UNL

; node_count = 53

; ram_mb = 4110

; swap_mb = 4000

; cpu_model = Dual-Core AMD Opteron(tm) Processor 2216

; cpu_vendor = AMD

; cpu_speed_mhz = 2400

; cpus_per_node = 2

; cores_per_node = 4

; inbound_network = FALSE

; outbound_network = TRUE

;===================================================================

;                             SE

;===================================================================

; For each storage element, add a new SE section.

; Each SE name must be unique for the entire grid, so make sure to not

; pick anything generic like &#34;MAIN&#34;.  Each SE section must start with

; the words &#34;SE&#34;, and cannot be named &#34;CHANGEME&#34;.

; There are two main configuration types; one for dCache, one for BestMan

; Don&#39;t forget to change the section name!  One section per SE at the site.

[SE NWICG_NDCMS]

; The first part of this section shows options which are mandatory for all
SEs.

; dCache and BestMan-specific portions are shown afterward.

; Set to False to turn off this SE

enabled = True

; Name of the SE; set to be the same as the OIM registered name

name = NWICG_NDCMS

; The endpoint of the SE.  It MUST have the hostname, port, and the server

; location (/srm/v2/server in this case).  It MUST NOT have the ?SFN= string.

srm_endpoint = httpg&#58;//ndcms.crc.nd.edu&#58;8443/srm/v2/server

; dCache endpoint template&#58; httpg&#58;//srm.example.com&#58;8443/srm/managerv2

; How to collect data; the most generic implementation is called &#34;static&#34;

provider_implementation = static

; WLCG sites with a SE *must* use bestman, dcache, or dcache19

; Implementation and version of your SRM SE; usually dcache or bestman

implementation = bestman

; Version refers to the SE version, not the SRM version.

version = 2.2.1.foo

; dCache example&#58; version = 1.9.1

; Default paths for all of your VOs; VONAME is replaced with the VO&#39;s name.

default_path = /pscratch/osg/bestman

; Set a specific path for VOs which don&#39;t use the default path.

; Comma-separated list of VO&#58;PATH pairs.  Not required.

; vo_dirs=cms&#58;/mnt/bestman/cms, dzero&#58;/mnt/bestman2/atlas

; If your SE provides a POSIX-like mount on your worker nodes, uncomment

; the following line&#58;

; mount_point = /,/

; POSIX-like file systems include Lustre, NFS, HDFS, xrootdfs

; dCache site should not uncomment the line

; The value of &#96;mount_point&#96; should be two paths; first, the path where the

; file system is mounted on the worker nodes, followed by the exported
directory

; of the file system.  If you mount your file system on the worker nodes with

; the following command&#58;

;    mount -t nfs nfs.example.com&#58;/exported/dir /mnt/nfs

; then mount_point should look like this&#58;

;    mount_point = /mnt/nfs,/exported/dir

; By default, all VOs are advertised as having access to your SE. If you want
only a subset of

; VOs to be advertised, list them as a comma separated list in the allowed_vos
setting

allowed_vos = mis,nwicg,cdf,fermilab,nanohub,cms,dzero

; For BestMan-based SEs, uncomment and fill in the following.

;  provider_implementation = bestman

;  implementation = bestman

; Set to TRUE if the bestman provide can use &#39;df&#39; on the directory referenced

; above to get the freespace information.  If set to false, it probably won&#39;t

; detect the correct info.

;  use_df = True

; For dCache-based SEs, uncomment and fill in the following

; How to collect data; set to &#39;dcache&#39; for dcache 1.8 (additional config req&#39;d

; for this case), &#39;dcache19&#39; for dcache 1.9, or &#39;static&#39; for default values.

; provider_implementation = dcache19

;  implementation = dcache

;  If you use the dcache provider, see

; <a href='http&#58;//twiki.grid.iu.edu/bin/view/InformationServices/DcacheGip' target='_blank' rel='nofollow'>http&#58;//twiki.grid.iu.edu/bin/view/InformationServices/DcacheGip</a>

; If you use the dcache19 provider, you must fill in the location of your

; dCache&#39;s information provider&#58;

;  infoprovider_endpoint = <a href='http&#58;//dcache.example.com&#58;2288/info' target='_blank' rel='nofollow'>http&#58;//dcache.example.com&#58;2288/info</a>

; SE implementation name; leave as &#39;dcache&#39;

; Here are working configs for BestMan and dCache

; [SE dCache]

; name = T2_Nebraska_Storage

; srm_endpoint = httpg&#58;//srm.unl.edu&#58;8443/srm/managerv2

; provider_implementation = static

; implementation = dcache

; version = 1.8.0-15p6

; default_path = /pnfs/unl.edu/data4/VONAME

; [SE Hadoop]

; name = T2_Nebraska_Hadoop

; srm_endpoint = httpg&#58;//dcache07.unl.edu&#58;8443/srm/v2/server

; provider_implementation = bestman

; implementation = bestman

; version = 2.2.1.2.e1

; default_path = /user/VONAME

From&#58; Open Science Grid FootPrints [mailto&#58;osg@....]
Sent&#58; Tuesday, May 07, 2013 4&#58;09 PM
To&#58; Serguei Fedorov
Subject&#58; Open Science Grid&#58; NWICG_NDCMS nd.edu sending malformed ReSS classads
ISSUE=14921 PROJ=71

[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_1133463794').click(function() {
            $('#detail_1133463794').slideDown("normal");
            $('#show_1133463794').hide();
            $('#hide_1133463794').show();
        });
        $('#hide_1133463794').click(function() {
            $('#detail_1133463794').slideUp();
            $('#hide_1133463794').hide();
            $('#show_1133463794').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='14921#1367957349'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T20:09:09+00:00">May 7, 2013 08:09 PM UTC</time> by <b>Steven Timm</b><a class="anchor" name="1367957349">&nbsp;</a></div><pre>Serguei,
Can you please send the contents of /etc/osg/config.d/30-gip.ini
and /etc/gip/gip.conf?

There is something wrong with your GIP output and it
has been wrong for a long time, it&#39;s just recently that
I was able to trace the bad output to your site.
It may have nothing to do with the osg-info-services script
that I mentioned earlier.

Steve Timm

On Tue, 7 May 2013, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='14921#1367956992'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T20:03:12+00:00">May 7, 2013 08:03 PM UTC</time> by <b>serguei.fedorov.1@....</b><a class="anchor" name="1367956992">&nbsp;</a></div><pre>Elizabeth,

There is nothing to say from my side.

It was Steve who saw the problem in his logs.

The line allowed_vos has following syntax&#58;

allowed_vos = mis,nwicg,cdf,fermilab,nanohub,cms,dzero

and never was changed.

I have checked /var/lib/osg/supported-vo-list and it has following contents&#58;

# List of VOs this site claims to support

cdf

cms

fermilab

mis

nwicg

If you want me to change/check something, please let me know

-Serguei

From&#58; Open Science Grid FootPrints [mailto&#58;osg@....]
Sent&#58; Tuesday, May 07, 2013 3&#58;30 PM
To&#58; Serguei Fedorov
Subject&#58; Open Science Grid&#58; NWICG_NDCMS nd.edu sending malformed ReSS classads
ISSUE=14921 PROJ=71
<div id='show_1428915315' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1428915315'>
[Duplicate message snipped]
</div><script type='text/javascript'>
        $('#show_1428915315').click(function() {
            $('#detail_1428915315').slideDown("normal");
            $('#show_1428915315').hide();
            $('#hide_1428915315').show();
        });
        $('#hide_1428915315').click(function() {
            $('#detail_1428915315').slideUp();
            $('#hide_1428915315').hide();
            $('#show_1428915315').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='14921#1367955027'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-05-07T19:30:27+00:00">May 7, 2013 07:30 PM UTC</time> by <b>echism</b><a class="anchor" name="1367955027">&nbsp;</a></div><pre>Serguei,

Please respond.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='14921#1367244274'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-29T14:04:34+00:00">Apr 29, 2013 02:04 PM UTC</time><a class="anchor" name="1367244274">&nbsp;</a></div><pre>Note this line in the classad below

Expecting &#39;;&#39;, or &#39;]&#39;, but found &#39;,&#39;
syntax error at line 66 column 18&#58;
allowed_vos = mis,nwicg,osg,cdf,fermilab,nanohub,cms,dzero = &#34;&#34;;

There are two equal signs, that can&#39;t be right.  This might be the problem or there might be something
else wrong too.

Steve timm

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183</pre></div><div class='update_description'><i onclick="document.location='14921#1367243936'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-04-29T13:58:56+00:00">Apr 29, 2013 01:58 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1367243936">&nbsp;</a></div><pre>We are seeing the following malformed classads come from ndcms.crc.nd.edu
04/29/13 08&#58;37&#58;12,585 &#58;ERROR&#58;TP-Processor6&#58;fnal.ress.condor.Formatter.format&#58; Fa
iled to format&#58;Failed to parse provided classad [
GlueSEAccessProtocolVersion = &#34;1.0.0&#34;;
GlueSESizeTotal = 225898;
GlueSiteEmailContact = &#34;mailto&#58; sfedorov@....&#34;;
GlueSEAccessProtocolCapability = &#34;file transfer&#34;;
GlueCEStateTotalJobsOriginal = 2;
GlueSAReservedNearlineSize = 0;
GlueSAUsedNearlineSize = 0;
GlueCEStateFreeCPUs = 516;
GlueCESEBindWeight = 0;
GlueCEAccessControlBaseRuleOriginal = &#34;VO&#58;fermilab&#34;;
GlueSALocalID = &#34;default&#34;;
GlueSETotalNearlineSize = 0;
GlueSAExpirationMode = &#34;neverExpire&#34;;
GlueSEImplementationName = &#34;bestman&#34;;
GlueCEPolicyAssignedJobSlots = 516;
GlueSiteLongitude = &#34;-86.10&#34;;
GlueCECapability = &#34;CPUScalingReferenceSI00=2000&#34;;
GlueSAPath = &#34;/pscratch/osg/bestman&#34;;
GlueSAStateAvailableSpace = 86417882136;
GlueSAType = &#34;permanent&#34;;
GlueClusterName = &#34;ndcms.crc.nd.edu&#34;;
GlueCEStateStatus = &#34;Production&#34;;
GlueSAPolicyFileLifeTime = &#34;permanent&#34;;
allowed_vos = mis,nwicg,cdf,fermilab,nanohub,cms,dzero = &#34;&#34;;
GlueCEStateWaitingJobsOriginal = 2;
GlueSARetentionPolicy = &#34;replica&#34;;
GlueHostProcessorVendor = &#34;AMD&#34;;
GlueClusterWNTmpDir = &#34;/pscratch/osg/wn_tmp&#34;;
GlueCEInfoLRMSVersion = &#34;7.8.7 Dec 12 2012 BuildID&#58; 86173 $&#34;;
GlueSEPort = 8443;
GlueHostOperatingSystemVersion = &#34;Tikanga&#34;;
GlueSchemaVersionMajor = 1;
<div id='show_1322153329' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1322153329'>GlueSAReservedOnlineSize = 0;
GlueCEInfoApplicationDir = &#34;/pscratch/osg/app&#34;;
GlueSAName = &#34;Default Storage Area&#34;;
GlueSiteUserSupportContact = &#34;mailto&#58; sfedorov@....&#34;;
GlueCEImplementationName = &#34;Globus&#34;;
GlueSEAccessProtocolSupportedSecurity = &#34;GSI&#34;;
GlueCEInfoHostName = &#34;ndcms.crc.nd.edu&#34;;
GlueSiteUniqueID = &#34;NWICG_NDCMS&#34;;
GlueSATotalOnlineSize = 225898;
GlueCEInfoJobManager = &#34;condor&#34;;
GlueSchemaVersionMinor = 3;
GlueCEPolicyPreemption = 0;
GlueClusterTmpDir = &#34;/pscratch/osg/data&#34;;
GlueSAStateUsedSpace = 139480967675;
GlueInformationServiceURL = &#34;ldap&#58;//is.grid.iu.edu&#58;2170&#34;;
GlueHostMainMemoryRAMSize = 12096;
GlueSubClusterUniqueID = &#34;ndcms.crc.nd.edu-NWICG_NDCMS&#34;;
GlueSEArchitecture = &#34;disk&#34;;
GlueCEPolicyPriority = 999999;
GlueSEUsedNearlineSize = 0;
GlueHostProcessorClockSpeed = 999999999;
GlueHostOperatingSystemRelease = &#34;5.9&#34;;
GlueCEPolicyMaxObtainableCPUTime = 1440;
GlueSAFreeOnlineSize = 86417;
GlueHostArchitectureSMPSize = 2;
GlueSACapability = &#34;InstalledNearlineCapacity=0&#34;;
GlueSAFreeNearlineSize = 0;
GlueHostProcessorModel = &#34;Six-Core AMD Opteron(tm) Processor 2431&#34;;
GlueCEAccessControlBaseRule = &#34;VO&#58;nwicg&#34;;
GlueHostProcessorOtherDescription = &#34;Cores=864&#34;;
GlueCEHostingCluster = &#34;ndcms.crc.nd.edu&#34;;
GlueSAAccessControlBaseRule = &#34;VO&#58;cdf,VO&#58;cms,VO&#58;fermilab,VO&#58;mis,VO&#58;nwicg
,cdf,cms,fermilab,mis,nwicg&#34;;
GlueSATotalNearlineSize = 0;
GlueSiteLatitude = &#34;41.85&#34;;
GlueSEName = &#34;NWICG_NDCMS&#34;;
GlueSARoot = &#34;/&#34;;
GlueSEImplementationVersion = &#34;2.2.1.foo&#34;;
GlueCEInfoLRMSType = &#34;condor&#34;;
GlueCEPolicyMaxWaitingJobs = 99999;
GlueSubClusterTmpDir = &#34;/pscratch/osg/data&#34;;
GlueCEStateWorstResponseTime = 86400;
GlueCEStateTotalJobs = 0;
GlueSESizeFree = 86417;
GlueSiteSysAdminContact = &#34;mailto&#58; sfedorov@....&#34;;
GlueCEUniqueID = &#34;ndcms.crc.nd.edu&#58;2119/jobmanager-condor-default&#34;;
GlueClusterUniqueID = &#34;ndcms.crc.nd.edu&#34;;
GlueCEInfoDataDir = &#34;/pscratch/osg/data&#34;;
GlueCEInfoContactString = &#34;ndcms.crc.nd.edu/jobmanager-condor-default&#34;;
GlueVOInfoPath = &#34;/pscratch/osg/bestman&#34;;
GlueVOInfoAccessControlBaseRule = &#34;nwicg&#34;;
GlueSETotalOnlineSize = 225898;
GlueSEStatus = &#34;Production&#34;;
GlueCEInfoTotalCPUs = 516;
GlueHostApplicationSoftwareRunTimeEnvironment = &#34;VO-cms-CMSSW_5_2_6_hltp
atch4,VO-cms-CMSSW_5_2_6_hltpatch1,VO-cms-CMSSW_5_2_6_hltpatch2,VO-cms-CMSSW_4_2
_2,VO-cms-CMSSW_4_2_3,VO-cms-CMSSW_4_2_0,VO-cms-CMSSW_4_2_1,VO-cms-CMSSW_5_3_8_H
I_patch2,VO-cms-CMSSW_5_3_8_HI_patch1,VO-cms-CMSSW_5_3_2,VO-cms-CMSSW_5_3_3,VO-c
ms-CMSSW_5_3_0,VO-cms-CMSSW_5_3_1,VO-cms-CMSSW_4_1_8_patch9,VO-cms-CMSSW_4_2_8_S
LHCtk3_patch1,VO-cms-CMSSW_5_3_4,VO-cms-CMSSW_5_3_5,VO-cms-CMSSW_5_3_8,VO-cms-CM
SSW_5_3_9,VO-cms-CMSSW_4_4_4,VO-cms-CMSSW_4_4_5,VO-cms-CMSSW_4_2_2_patch1,VO-cms
-CMSSW_5_0_1_patch2,VO-cms-CMSSW_5_0_1_patch3,VO-cms-CMSSW_5_1_1_patch1,VO-cms-C
MSSW_5_1_1_patch3,VO-cms-CMSSW_5_1_1_patch2,VO-cms-CMSSW_3_6_3_SLHC3,VO-cms-CMSS
W_3_6_3_SLHC2,VO-cms-CMSSW_3_6_3_SLHC1,VO-cms-CMSSW_5_2_4,VO-cms-CMSSW_5_1_1,VO-
cms-CMSSW_5_1_2,VO-cms-CMSSW_5_1_3,VO-cms-CMSSW_6_1_0_pre2,VO-cms-CMSSW_4_1_8_pa
tch8,VO-cms-CMSSW_5_3_7_25nspatch1,VO-cms-CMSSW_6_0_1_PostLS1v1,VO-cms-CMSSW_5_3
_7_patch5,VO-cms-CMSSW_5_3_7_patch4,VO-cms-CMSSW_6_0_0_patch1,VO-cms-CMSSW_3_11_
1_hclpatch1,VO-cms-CMSSW_5_3_4_patch1,VO-cms-CMSSW_5_3_4_patch2,VO-cms-CMSSW_6_0
_1_PostLS1v2_patch4,VO-cms-CMSSW_5_3_7_patch1,VO-cms-CMSSW_5_2_4_patch4,VO-cms-C
MSSW_5_2_4_patch3,VO-cms-CMSSW_5_2_4_patch2,VO-cms-CMSSW_5_2_4_patch1,VO-cms-CMS
SW_6_0_1_PostLS1v2_patch3,VO-cms-COMP-Python2.6,VO-cms-CMSSW_3_9_8_patch2,VO-cms
-slc5_amd64_gcc434,VO-cms-CMSSW_5_3_7_patch3,VO-cms-CMSSW_5_3_6,VO-cms-CMSSW_4_2
_8_SLHChcal4_patch4,VO-cms-CMSSW_3_8_5_patch1,VO-cms-CMSSW_3_8_5_patch2,VO-cms-C
MSSW_3_8_5_patch3,VO-cms-CMSSW_3_6_3_SLHC1_patch3,VO-cms-CMSSW_6_0_1,VO-cms-CMSS
W_6_0_1_PostLS1v2_patch1,VO-cms-CMSSW_3_6_3_SLHC3_patch1,VO-cms-CMSSW_6_0_1_Post
LS1v2_patch2,VO-cms-CMSSW_5_2_7_hltpatch2,VO-cms-CMSSW_6_1_2,VO-cms-CMSSW_6_1_1,
VO-cms-CMSSW_6_1_0,VO-cms-CMSSW_4_2_9_HLT1_bphpatch4,VO-cms-CMSSW_5_3_8_patch2,V
O-cms-CMSSW_5_3_8_patch1,VO-cms-CMSSW_4_2_9_HLT1_bphpatch1,VO-cms-CMSSW_4_2_9_HL
T1_bphpatch3,VO-cms-CMSSW_4_2_9_HLT1_bphpatch2,VO-cms-CMSSW_4_2_8_SLHCtk3_patch2
,VO-cms-CMSSW_4_2_8_SLHCtk2,VO-cms-CMSSW_4_2_8_SLHCtk3,VO-cms-CMSSW_3_9_9_patch1
,VO-cms-CMSSW_6_1_1_SLHCphase1tk1,VO-cms-CMSSW_4_2_8_SLHChcal4_patch3,VO-cms-CMS
SW_4_2_8_SLHChcal4_patch2,VO-cms-CMSSW_4_2_8_SLHChcal4_patch1,VO-cms-CMSSW_5_3_7
_patch6,VO-cms-CMSSW_4_2_8_SLHChcal2_patch1,VO-cms-CMSSW_4_1_4_patch3,VO-cms-CMS
SW_4_2_8_SLHChcal2_patch3,VO-cms-CMSSW_4_2_8_SLHChcal2_patch2,VO-cms-CMSSW_3_6_1
_patch5,VO-cms-CMSSW_3_6_1_patch3,VO-cms-CMSSW_3_8_7,VO-cms-CMSSW_4_1_2_patch1,V
O-cms-slc5_amd64_gcc472,VO-cms-CMSSW_5_3_9_patch3,VO-cms-CMSSW_5_3_9_patch2,VO-c
ms-CMSSW_4_4_3_patch1,VO-cms-cic_cron_status_no+new+release+announcement&#58;13&#58;27&#58;0
1&#58;29&#58;Apr&#58;2013,VO-cms-CMSSW_4_2_1_patch2,VO-cms-CMSSW_4_2_1_patch1,VO-cms-CMSSW_4
_2_8_SLHCstd,OSG 3.1.16,VO-cms-slc5_ia32_gcc434,VO-cms-CMSSW_5_1_2_patch1,VO-cms
-CMSSW_6_0_1_PostLS1v2,VO-cms-CMSSW_5_3_1_TS121128,VO-cms-CMSSW_3_9_2_patch4,VO-
cms-CMSSW_3_9_2_patch5,VO-cms-CMSSW_3_9_2_patch2,VO-cms-CMSSW_3_9_2_patch3,VO-cm
s-CMSSW_6_0_0,VO-cms-CMSSW_3_9_2_patch1,VO-cms-CMSSW_5_3_7_alcapatch1,VO-cms-CMS
SW_5_3_7_patch2,VO-cms-CMSSW_3_5_8_patch3,VO-cms-CMSSW_5_2_5_patch1,VO-cms-CMSSW
_5_2_5_patch2,VO-cms-CMSSW_5_2_5_patch3,VO-cms-slc5_amd64_gcc462,VO-cms-CMSSW_5_
2_4_hltpatch2,VO-cms-CMSSW_5_2_4_hltpatch3,VO-cms-CMSSW_4_2_8_SLHC2_patch2,VO-cm
s-CMSSW_4_4_5_patch1,VO-cms-CMSSW_3_9_7,VO-cms-CMSSW_5_2_4_hltpatch4,VO-cms-CMSS
W_4_4_5_patch2,VO-cms-CMSSW_5_2_3_patch4,VO-cms-CMSSW_5_2_3_patch2,VO-cms-CMSSW_
5_2_3_patch3,VO-cms-CMSSW_5_2_3_patch1,VO-cms-slc4_ia32_gcc345,VO-cms-CMSSW_5_2_
8_patch1,VO-cms-CMSSW_3_3_6,VO-cms-CMSSW_4_1_8_patch10,VO-cms-CMSSW_6_1_2_SLHC1,
VO-cms-CMSSW_6_1_2_SLHC2,VO-cms-CMSSW_5_2_7_hltpatch1,SAMPLE_SCRATCH,VO-cms-CMSS
W_5_3_6_patch1,VO-cms-CMSSW_3_9_5_patch2,VO-cms-CMSSW_3_9_5_patch1,VO-cms-CMSSW_
4_2_8_SLHChcal3,VO-cms-CMSSW_4_2_8_SLHChcal2,VO-cms-CMSSW_5_3_2_metpatch1,VO-cms
-slc5_amd64_gcc470,VO-cms-CMSSW_5_3_7,VO-cms-CMSSW_4_2_8_SLHChcal6,VO-cms-CMSSW_
4_2_8_SLHChcal5,VO-cms-CMSSW_4_2_8_SLHChcal4,VO-cms-CMSSW_4_2_8_SLHC2_patch1,VO-
cms-CMSSW_5_3_2_patch4,VO-cms-CMSSW_5_3_2_patch5,VO-cms-CMSSW_5_3_2_patch2,VO-cm
s-CMSSW_5_3_2_patch3,VO-cms-CMSSW_5_3_2_patch1,VO-cms-CMSSW_5_3_8_HI,VO-cms-CMSS
W_5_3_9_sherpa2beta2,VO-cms-CMSSW_5_2_9,VO-cms-CMSSW_5_2_8,VO-cms-CMSSW_5_2_2,VO
-cms-CMSSW_5_2_3,VO-cms-CMSSW_5_3_0_patch1,VO-cms-CMSSW_5_2_1,VO-cms-CMSSW_5_2_0
,VO-cms-CMSSW_5_2_7,VO-cms-CMSSW_5_2_6,VO-cms-CMSSW_5_2_5,SAMPLE_LOCATION,VO-cms
-CMSSW_3_9_1_patch1,VO-cms-CMSSW_5_3_1_TS120913,VO-cms-CMSSW_4_1_5,VO-cms-CMSSW_
4_2_8_lowpupatch1,VO-cms-CMSSW_4_2_8_SLHCtk_patch2,VO-cms-CMSSW_4_2_8_SLHCtk_pat
ch1,VO-cms-CMSSW_6_1_1_SLHCphase2tk1,VO-cms-CMSSW_5_2_6_patch1,VO-cms-CMSSW_5_2_
6_patch2,VO-cms-CMSSW_3_8_7_patch2,VO-cms-CMSSW_5_2_5_ecalpatch1,VO-cms-CMSSW_4_
1_4_patch2,VO-cms-CMSSW_4_1_4_patch4,VO-cms-CMSSW_3_6_1,VO-cms-CMSSW_3_6_3,VO-cm
s-CMSSW_5_3_8_patch3,VO-cms-CMSSW_3_8_6_patch1,VO-cms-CMSSW_3_8_6_patch2,VO-cms-
CMSSW_5_3_3_patch1,VO-cms-CMSSW_5_3_3_patch3,VO-cms-CMSSW_5_3_3_patch2,VO-cms-CM
SSW_3_11_1,OSG_VERSION,VO-cms-CMSSW_4_2_8_SLHCstd2,VO-cms-CMSSW_4_2_8_SLHCstd2_p
atch1,VO-cms-CMSSW_5_3_9_patch1,VO-cms-CMSSW_4_2_8_SLHCstd2_patch2&#34;;
GlueCEStateWaitingJobs = 0;
GlueHostNetworkAdapterInboundIP = true;
GlueVOViewLocalID = &#34;nwicg&#34;;
GlueSiteName = &#34;NWICG_NDCMS&#34;;
GlueSubClusterLogicalCPUs = 864;
GlueHostArchitecturePlatformType = &#34;x86_64&#34;;
GlueCEPolicyMaxTotalJobs = 99999;
GlueSubClusterName = &#34;ndcms.crc.nd.edu&#34;;
GlueCEPolicyMaxSlotsPerJob = 1;
GlueCEPolicyMaxObtainableWallClockTime = 1440;
GlueCEPolicyMaxRunningJobs = 516;
GlueVOInfoName = &#34;nwicg&#58;default&#34;;
GlueCEStateFreeJobSlots = 516;
GlueCEInfoGRAMVersion = &#34;5.0&#34;;
GlueHostMainMemoryVirtualSize = 12096;
GlueSAUsedOnlineSize = 139480;
GlueHostNetworkAdapterOutboundIP = true;
GlueSEUsedOnlineSize = 139480;
GlueHostBenchmarkSI00 = 2000;
GlueSAPolicyQuota = 0;
GlueCEStateRunningJobs = 0;
GlueCEPolicyMaxWallClockTime = 1440;
GlueSEAccessProtocolType = &#34;file&#34;;
GlueCEInfoDefaultSE = &#34;ndcms.crc.nd.edu&#34;;
GlueSAAccessLatency = &#34;online&#34;;
GlueCEPolicyMaxCPUTime = 1440;
GlueSAPolicyMaxNumFiles = 0;
GlueHostBenchmarkSF00 = 2000;
GlueSEAccessProtocolEndpoint = &#34;file&#58;//POSIX.example.com&#58;1234&#34;;
GlueSEAccessProtocolMaxStreams = 1;
GlueHostOperatingSystemName = &#34;RedHatEnterpriseServer&#34;;
GlueCEImplementationVersion = &#34;4.0.6&#34;;
GlueVOInfoLocalID = &#34;nwicg&#58;default&#34;;
GlueSubClusterPhysicalCPUs = 144;
GlueSubClusterWNTmpDir = &#34;/pscratch/osg/wn_tmp&#34;;
GlueCEName = &#34;default&#34;;
GlueSEUniqueID = &#34;ndcms.crc.nd.edu&#34;;
GlueCEInfoGatekeeperPort = 2119;
GlueCEStateEstimatedResponseTime = 60;
GlueSEAccessProtocolLocalID = &#34;FILE_POSIX.example.com_1234&#34;;

TTLCEinfo = 0;
]
-----------------------------------------------------------------

A bug was recently discovered in the osg-info-services script which runs on many CMS sites.
A patch will eventually be available for it via normal osg software channels, or you
can contact bbockelm@.... for the patch in advance.

Steve Timm

by /DC=org/DC=doegrids/OU=People/CN=Steven Timm 74183

</div><script type='text/javascript'>
        $('#show_1322153329').click(function() {
            $('#detail_1322153329').slideDown("normal");
            $('#show_1322153329').hide();
            $('#hide_1322153329').show();
        });
        $('#hide_1322153329').click(function() {
            $('#detail_1322153329').slideUp();
            $('#hide_1322153329').hide();
            $('#show_1322153329').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F14921">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 14921});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
