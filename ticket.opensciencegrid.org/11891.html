<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[11891] voms-admin fails to deploy, intermittent</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=11891" method="post">
<div class="page-header">
    <h3><span class="muted">11891</span> / voms-admin fails to deploy, intermittent</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Dan Yocum</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Dan Yocum</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-05-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=80811">80811</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/11891", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/11891?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/11891?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20voms-admin%20fails%20to%20deploy%2C%20intermittent%20ISSUE%3D11891%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='11891#1337271956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-17T16:25:56+00:00">May 17, 2012 04:25 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1337271956">&nbsp;</a></div><pre>VOMS Admin can&#39;t be informative  on such errors since that errors often arise when loading the voms admin web application and before its start! That&#39;s a Tomcat issue.

-- by Andrea Ceccanti at Thu May 17 16&#58;24&#58;50 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1337271611'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-17T16:20:11+00:00">May 17, 2012 04:20 PM UTC</time> by <b>Dan Yocum</b><a class="anchor" name="1337271611">&nbsp;</a></div><pre>The error messages in the voms-admin.vo.log files as well as
catalina.out weren&#39;t very informative.  Only once did I see something
like &#34;could not open file. too many open filedescriptors&#34; which tripped
my memory and made me realize that the tomcat user isn&#39;t allowed to open
more than 1024 FDs.  This isn&#39;t an issue with the daemon user.

In any case, as long as you&#39;re updating the documentation, then I&#39;m
satisfied.

Thanks,
Dan

On 05/15/2012 04&#58;00 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11891#1337112589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-15T20:09:49+00:00">May 15, 2012 08:09 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1337112589">&nbsp;</a></div><pre>Great, I understand now. Thanks!

I added this to our documentation as well, and I&#39;m going to resolve this issue.
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallVoms#Allow_Tomcat_to_have_more_open_f' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallVoms#Allow_Tomcat_to_have_more_open_f</a>

-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='11891#1337072430'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-15T09:00:30+00:00">May 15, 2012 09:00 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1337072430">&nbsp;</a></div><pre>Hi Alain,

that&#39;s needed when you host large number of VOs on Tomcat.
It&#39;s needed to let tomcat open enough files to load all the stuff needed and have room also for the sockets.
Typing &#34;too many open files tomcat&#34; in Google will yield several results.

Of course this is being added to the VOMS system administrator guide.

-- by Andrea Ceccanti at Tue May 15 08&#58;59&#58;26 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1337022439'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-14T19:07:19+00:00">May 14, 2012 07:07 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1337022439">&nbsp;</a></div><pre>That&#39;s the first I heard of it. Can you explain the fix a bit more? I&#39;d like to document it, if appropriate, in our OSG VOMS documentation. But I don&#39;t understand if this is something we should always do, or why we&#39;re doing it.

Thanks!
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='11891#1337019600'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-14T18:20:00+00:00">May 14, 2012 06:20 PM UTC</time><a class="anchor" name="1337019600">&nbsp;</a></div><pre>The solution is the same as in another ticket, which I can&#39;t recall off the top of my head.  Regardless, adding the following lines to /etc/secure/limits.conf resolved the issue&#58;

tomcat          soft    nofile  63536
tomcat          hard    nofile  63536

tomcat          soft    nproc   16384
tomcat          hard    nproc   16384

Then restart the tomcat server.

This fix must be documented in the voms-admin installation guide - Andrea or Alessandro needs to do that - then this ticket can be closed.

Thanks,
Dan

-- by Dan Yocum</pre></div><div class='update_description'><i onclick="document.location='11891#1337018828'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-14T18:07:08+00:00">May 14, 2012 06:07 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1337018828">&nbsp;</a></div><pre>Hello Alain and Dan,

I haven&#39;t heard back from either of you on this issue? Could someone please verify if this is still an ongoing problem and that the documentation has been updated?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='11891#1336068952'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-05-03T18:15:52+00:00">May 3, 2012 06:15 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1336068952">&nbsp;</a></div><pre>Alain and Dan,

Has the documentation been updated to clarify when you do run the voms-admin init script? Can either of you tell me if this problem has been resolved?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='11891#1334948665'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T19:04:25+00:00">Apr 20, 2012 07:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1334948665">&nbsp;</a></div><pre>I have chkconfig&#39;d voms-admin off on our servers, but that hasn&#39;t fixed the problem when tomcat is restarted.

-- by Dan Yocum 346615 at Fri Apr 20 19&#58;03&#58;19 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1334947268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T18:41:08+00:00">Apr 20, 2012 06:41 PM UTC</time> by <b>VDT</b><a class="anchor" name="1334947268">&nbsp;</a></div><pre>On Apr 20, 2012, at 11&#58;42 AM, Andrea Ceccanti wrote&#58;
<font color='#7F7E6F'>&#62; Il 20/04/12 18.36, Dan Yocum ha scritto&#58;</font>
<font color='#7F7E6F'>&#62;&#62; So, should I &#39;chkconfig voms-admin off&#39; after the containers are deployed and the system is running in a stable state?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Yes, you just need tomcat to be chkconfig-ed.</font>

That&#39;s our fault, sorry Dan. I&#39;ve updated our documentation to note this. It needs a bit more detail to clarify when you do run the voms-admin init script, but it will be next week before I have a chance to clarify that.

-alain</pre></div><div class='update_description'><i onclick="document.location='11891#1334944927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T18:02:07+00:00">Apr 20, 2012 06:02 PM UTC</time> by <b>Dan Yocum</b><a class="anchor" name="1334944927">&nbsp;</a></div><pre>Yes, I understand all of that.  I can&#39;t imagine why it would make any
difference to deploy the webapps after tomcat5 is already started.

In fact, I have verified that after the webapps are deployed, stopping
and starting tomcat yields the same problem as before - they won&#39;t start
without doing &#39;service voms-admin stop/start VO&#39;...

Just to refresh your memory, here are the errors&#58;

voms-admin-dzero.log&#58;

2012-04-20 17&#58;42&#58;46.251Z - INFO [VOMSService] - VOMS-Admin starting for
VO&#58; dzero
2012-04-20 17&#58;42&#58;50.294Z - INFO [VOMSExecutorService] - Scheduling task
UpdateCATask with period&#58; 1800 seconds
2012-04-20 17&#58;42&#58;50.298Z - INFO [VOMSExecutorService] - Scheduling task
TaskStatusUpdater with period&#58; 30 seconds
2012-04-20 17&#58;42&#58;50.300Z - INFO [VOMSExecutorService] - Scheduling task
ExpiredRequestsPurgerTask with period&#58; 300 seconds
2012-04-20 17&#58;42&#58;52.600Z - INFO [VOMSExecutorService] - Scheduling task
MembershipCheckerTask with period&#58; 300 seconds
2012-04-20 17&#58;42&#58;52.600Z - INFO [VOMSService] - VOMS-Admin started
succesfully.
2012-04-20 17&#58;42&#58;52.840Z - ERROR [Dispatcher] - Dispatcher
initialization failed
com.opensymphony.xwork2.config.ConfigurationException&#58; Unable to load
configuration.
at
com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java&#58;69)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java&#58;371)
[struts2-core-2.2.1.jar&#58;2.2.1]
at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java&#58;415)
[struts2-core-2.2.1.jar&#58;2.2.1]
<div id='show_1421669193' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1421669193'>at
org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java&#58;69)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java&#58;51)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java&#58;221)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java&#58;302)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterConfig.&#60;init&#62;(ApplicationFilterConfig.java&#58;78)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardContext.filterStart(StandardContext.java&#58;3635)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardContext.start(StandardContext.java&#58;4218) [catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java&#58;760)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java&#58;740)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardHost.addChild(StandardHost.java&#58;544)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java&#58;634)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java&#58;561)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java&#58;496)
[catalina-5.5.23.jar&#58;na]
at org.apache.catalina.startup.HostConfig.start(HostConfig.java&#58;1193)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java&#58;319)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java&#58;120)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java&#58;1022)
[catalina-5.5.23.jar&#58;na]
at org.apache.catalina.core.StandardHost.start(StandardHost.java&#58;736)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java&#58;1014)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardEngine.start(StandardEngine.java&#58;443)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardService.start(StandardService.java&#58;448)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardServer.start(StandardServer.java&#58;700)
[catalina-5.5.23.jar&#58;na]
at org.apache.catalina.startup.Catalina.start(Catalina.java&#58;552)
[catalina-5.5.23.jar&#58;na]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[na&#58;1.6.0_31]
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;39)
[na&#58;1.6.0_31]
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;25)
[na&#58;1.6.0_31]
at java.lang.reflect.Method.invoke(Method.java&#58;597) [na&#58;1.6.0_31]
at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java&#58;295)
[bootstrap.jar&#58;na]
at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java&#58;433)
[bootstrap.jar&#58;na]
Caused by&#58; com.opensymphony.xwork2.config.ConfigurationException&#58; Caught
exception while loading file struts.xml
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java&#58;913)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java&#58;154)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java&#58;121)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java&#58;179)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java&#58;66)
[xwork-core-2.2.1.jar&#58;2.2.1]
... 31 common frames omitted
Caused by&#58; java.lang.IllegalArgumentException&#58; No file
&#39;file&#58;/usr/share/tomcat5/work/Catalina/localhost/voms_dzero/WEB-INF/classes/struts.xml&#39;
found as a resource
at
com.opensymphony.xwork2.util.FileManager.loadFile(FileManager.java&#58;132)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.util.FileManager.loadFile(FileManager.java&#58;105)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java&#58;898)
[xwork-core-2.2.1.jar&#58;2.2.1]
... 35 common frames omitted
2012-04-20 17&#58;42&#58;52.843Z - ERROR [[/voms/dzero]] - Exception starting
filter struts2
org.apache.struts2.StrutsException&#58; null
at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java&#58;428)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java&#58;69)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java&#58;51)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java&#58;221)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java&#58;302)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterConfig.&#60;init&#62;(ApplicationFilterConfig.java&#58;78)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardContext.filterStart(StandardContext.java&#58;3635)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardContext.start(StandardContext.java&#58;4218) [catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java&#58;760)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java&#58;740)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardHost.addChild(StandardHost.java&#58;544)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java&#58;634)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java&#58;561)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java&#58;496)
[catalina-5.5.23.jar&#58;na]
at org.apache.catalina.startup.HostConfig.start(HostConfig.java&#58;1193)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java&#58;319)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java&#58;120)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java&#58;1022)
[catalina-5.5.23.jar&#58;na]
at org.apache.catalina.core.StandardHost.start(StandardHost.java&#58;736)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java&#58;1014)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardEngine.start(StandardEngine.java&#58;443)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardService.start(StandardService.java&#58;448)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardServer.start(StandardServer.java&#58;700)
[catalina-5.5.23.jar&#58;na]
at org.apache.catalina.startup.Catalina.start(Catalina.java&#58;552)
[catalina-5.5.23.jar&#58;na]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[na&#58;1.6.0_31]
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java&#58;39)
[na&#58;1.6.0_31]
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java&#58;25)
[na&#58;1.6.0_31]
at java.lang.reflect.Method.invoke(Method.java&#58;597) [na&#58;1.6.0_31]
at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java&#58;295)
[bootstrap.jar&#58;na]
at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java&#58;433)
[bootstrap.jar&#58;na]
Caused by&#58; com.opensymphony.xwork2.config.ConfigurationException&#58; Unable
to load configuration.
at
com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java&#58;69)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java&#58;371)
[struts2-core-2.2.1.jar&#58;2.2.1]
at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java&#58;415)
[struts2-core-2.2.1.jar&#58;2.2.1]
... 29 common frames omitted
Caused by&#58; com.opensymphony.xwork2.config.ConfigurationException&#58; Caught
exception while loading file struts.xml
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java&#58;913)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java&#58;154)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java&#58;121)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java&#58;179)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java&#58;66)
[xwork-core-2.2.1.jar&#58;2.2.1]
... 31 common frames omitted
Caused by&#58; java.lang.IllegalArgumentException&#58; No file
&#39;file&#58;/usr/share/tomcat5/work/Catalina/localhost/voms_dzero/WEB-INF/classes/struts.xml&#39;
found as a resource
at
com.opensymphony.xwork2.util.FileManager.loadFile(FileManager.java&#58;132)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.util.FileManager.loadFile(FileManager.java&#58;105)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java&#58;898)
[xwork-core-2.2.1.jar&#58;2.2.1]
... 35 common frames omitted

and for voms-admin-nanohub.log&#58;

2012-04-20 17&#58;42&#58;36.330Z - INFO [VOMSService] - VOMS-Admin starting for
VO&#58; nanohub
2012-04-20 17&#58;42&#58;40.442Z - INFO [VOMSExecutorService] - Scheduling task
UpdateCATask with period&#58; 1800 seconds
2012-04-20 17&#58;42&#58;40.445Z - INFO [VOMSExecutorService] - Scheduling task
TaskStatusUpdater with period&#58; 30 seconds
2012-04-20 17&#58;42&#58;40.446Z - INFO [VOMSExecutorService] - Scheduling task
ExpiredRequestsPurgerTask with period&#58; 300 seconds
2012-04-20 17&#58;42&#58;42.918Z - INFO [VOMSExecutorService] - Scheduling task
MembershipCheckerTask with period&#58; 300 seconds
2012-04-20 17&#58;42&#58;42.918Z - INFO [VOMSService] - VOMS-Admin started
succesfully.
2012-04-20 17&#58;42&#58;50.453Z - ERROR [DatabaseTransactionTaskWrapper] - An
unexpected exception was caught while executing task UpdateCATask
2012-04-20 17&#58;42&#58;50.453Z - ERROR [DatabaseTransactionTaskWrapper] - An
unexpected exception was caught while executing task TaskStatusUpdater
2012-04-20 17&#58;42&#58;50.453Z - ERROR [DatabaseTransactionTaskWrapper] - An
unexpected exception was caught while executing task
ExpiredRequestsPurgerTask
2012-04-20 17&#58;42&#58;52.929Z - ERROR [DatabaseTransactionTaskWrapper] - An
unexpected exception was caught while executing task MembershipCheckerTask
2012-04-20 17&#58;52&#58;35.541Z - INFO [InitSecurityContext] - Connection from
&#34;131.225.82.104&#34; by /DC=org/DC=doegrids/OU=People/CN=Dan Yocum 346615
(issued by &#34;/DC=org/DC=DOEGrids/OU=Certificate)
2012-04-20 17&#58;52&#58;35.552Z - ERROR [[default]] - Servlet.service() for
servlet default threw exception
java.lang.NoClassDefFoundError&#58; org/hibernate/transaction/JDBCTransaction
at
org.hibernate.transaction.JDBCTransactionFactory.createTransaction(JDBCTransactionFactory.java&#58;24)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at org.hibernate.jdbc.JDBCContext.getTransaction(JDBCContext.java&#58;197)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at org.hibernate.impl.SessionImpl.getTransaction(SessionImpl.java&#58;1315)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at
org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java&#58;1325)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at
org.glite.security.voms.admin.persistence.HibernateFactory.beginTransaction(HibernateFactory.java&#58;134)
[HibernateFactory.class&#58;na]
at
org.glite.security.voms.admin.persistence.dao.VOMSAdminDAO.&#60;init&#62;(VOMSAdminDAO.java&#58;51)
[VOMSAdminDAO.class&#58;na]
at
org.glite.security.voms.admin.persistence.dao.VOMSAdminDAO.instance(VOMSAdminDAO.java&#58;57)
[VOMSAdminDAO.class&#58;na]
at
org.glite.security.voms.admin.operations.CurrentAdmin.instance(CurrentAdmin.java&#58;61)
[CurrentAdmin.class&#58;na]
at
org.glite.security.voms.admin.view.interceptors.AuthenticatedAccessInterceptor.intercept(AuthenticatedAccessInterceptor.java&#58;75)
[AuthenticatedAccessInterceptor.class&#58;na]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.interceptor.LoggingInterceptor.intercept(LoggingInterceptor.java&#58;67)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.glite.security.voms.admin.view.interceptors.SearchAwareInterceptor.intercept(SearchAwareInterceptor.java&#58;54)
[SearchAwareInterceptor.class&#58;na]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.glite.security.voms.admin.view.interceptors.AuthzExceptionInterceptor.intercept(AuthzExceptionInterceptor.java&#58;48)
[AuthzExceptionInterceptor.class&#58;na]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java&#58;187)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java&#58;164)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.interceptor.CreateSessionInterceptor.intercept(CreateSessionInterceptor.java&#58;93)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java&#58;52)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java&#58;485)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java&#58;77)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java&#58;91)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java&#58;215)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java&#58;188)
[catalina-5.5.23.jar&#58;na]
at
org.glite.security.voms.admin.servlets.HibernateSessionFilter.doFilter(HibernateSessionFilter.java&#58;47)
[HibernateSessionFilter.class&#58;na]
at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java&#58;215)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java&#58;188)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java&#58;210)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java&#58;172)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java&#58;127)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java&#58;117)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java&#58;108)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java&#58;151)
[catalina-5.5.23.jar&#58;na]
at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java&#58;875)
[tomcat-http-5.5.23.jar&#58;na]
at
org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java&#58;665)
[tomcat-http-5.5.23.jar&#58;na]
at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java&#58;528)
[tomcat-util-5.5.23.jar&#58;5.1]
at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java&#58;81)
[tomcat-util-5.5.23.jar&#58;5.1]
at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java&#58;685)
[tomcat-util-5.5.23.jar&#58;5.1]
at java.lang.Thread.run(Thread.java&#58;662) [na&#58;1.6.0_31]
2012-04-20 17&#58;52&#58;43.177Z - INFO [InitSecurityContext] - Connection from
&#34;131.225.82.104&#34; by /DC=org/DC=doegrids/OU=People/CN=Dan Yocum 346615
(issued by &#34;/DC=org/DC=DOEGrids/OU=Certificate)
2012-04-20 17&#58;52&#58;43.183Z - ERROR [[default]] - Servlet.service() for
servlet default threw exception
java.lang.NoClassDefFoundError&#58; org/hibernate/transaction/JDBCTransaction
at
org.hibernate.transaction.JDBCTransactionFactory.createTransaction(JDBCTransactionFactory.java&#58;24)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at org.hibernate.jdbc.JDBCContext.getTransaction(JDBCContext.java&#58;197)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at org.hibernate.impl.SessionImpl.getTransaction(SessionImpl.java&#58;1315)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at
org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java&#58;1325)
[hibernate-3.2.6.ga.jar&#58;3.2.6.ga]
at
org.glite.security.voms.admin.persistence.HibernateFactory.beginTransaction(HibernateFactory.java&#58;134)
[HibernateFactory.class&#58;na]
at
org.glite.security.voms.admin.persistence.dao.VOMSAdminDAO.&#60;init&#62;(VOMSAdminDAO.java&#58;51)
[VOMSAdminDAO.class&#58;na]
at
org.glite.security.voms.admin.persistence.dao.VOMSAdminDAO.instance(VOMSAdminDAO.java&#58;57)
[VOMSAdminDAO.class&#58;na]
at
org.glite.security.voms.admin.operations.CurrentAdmin.instance(CurrentAdmin.java&#58;61)
[CurrentAdmin.class&#58;na]
at
org.glite.security.voms.admin.view.interceptors.AuthenticatedAccessInterceptor.intercept(AuthenticatedAccessInterceptor.java&#58;75)
[AuthenticatedAccessInterceptor.class&#58;na]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.interceptor.LoggingInterceptor.intercept(LoggingInterceptor.java&#58;67)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.glite.security.voms.admin.view.interceptors.SearchAwareInterceptor.intercept(SearchAwareInterceptor.java&#58;54)
[SearchAwareInterceptor.class&#58;na]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.glite.security.voms.admin.view.interceptors.AuthzExceptionInterceptor.intercept(AuthzExceptionInterceptor.java&#58;48)
[AuthzExceptionInterceptor.class&#58;na]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java&#58;187)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java&#58;164)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.interceptor.CreateSessionInterceptor.intercept(CreateSessionInterceptor.java&#58;93)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java&#58;248)
[xwork-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java&#58;52)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java&#58;485)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java&#58;77)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java&#58;91)
[struts2-core-2.2.1.jar&#58;2.2.1]
at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java&#58;215)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java&#58;188)
[catalina-5.5.23.jar&#58;na]
at
org.glite.security.voms.admin.servlets.HibernateSessionFilter.doFilter(HibernateSessionFilter.java&#58;47)
[HibernateSessionFilter.class&#58;na]
at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java&#58;215)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java&#58;188)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java&#58;210)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java&#58;172)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java&#58;127)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java&#58;117)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java&#58;108)
[catalina-5.5.23.jar&#58;na]
at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java&#58;151)
[catalina-5.5.23.jar&#58;na]
at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java&#58;875)
[tomcat-http-5.5.23.jar&#58;na]
at
org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java&#58;665)
[tomcat-http-5.5.23.jar&#58;na]
at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java&#58;528)
[tomcat-util-5.5.23.jar&#58;5.1]
at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java&#58;81)
[tomcat-util-5.5.23.jar&#58;5.1]
at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java&#58;685)
[tomcat-util-5.5.23.jar&#58;5.1]
at java.lang.Thread.run(Thread.java&#58;662) [na&#58;1.6.0_31]

Thanks,
Dan

On 04/20/2012 11&#58;44 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1421669193').click(function() {
            $('#detail_1421669193').slideDown("normal");
            $('#show_1421669193').hide();
            $('#hide_1421669193').show();
        });
        $('#hide_1421669193').click(function() {
            $('#detail_1421669193').slideUp();
            $('#hide_1421669193').hide();
            $('#show_1421669193').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='11891#1334940247'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T16:44:07+00:00">Apr 20, 2012 04:44 PM UTC</time> by <b>andrea.ceccanti@....</b><a class="anchor" name="1334940247">&nbsp;</a></div><pre>Il 20/04/12 18.36, Dan Yocum ha scritto&#58;
<font color='#7F7E6F'>&#62; So, should I &#39;chkconfig voms-admin off&#39; after the containers are</font>
<font color='#7F7E6F'>&#62; deployed and the system is running in a stable state?</font>

Yes, you just need tomcat to be chkconfig-ed.

Tomcat is an application server. The VOMS admin startup script just puts
a configuration file in the Tomcaf conf directory.
When Tomcat sees this file it deploys a the web application for a given
VO. You can see these files in

$CATALINA_HOME/conf/Catalina/localhost/

You should have there one vomses.xml and several voms#VO_NAME.xml files.

Once these files are there the VOs will always be active in the tomcat
application server. The only thing that you need to ensure
is that Tomcat is started whenever the machine is rebooted.

Cheers,
Andrea

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Dan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 04/20/2012 10&#58;43 AM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11891#1334939887'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T16:38:07+00:00">Apr 20, 2012 04:38 PM UTC</time> by <b>Dan Yocum</b><a class="anchor" name="1334939887">&nbsp;</a></div><pre>So, should I &#39;chkconfig voms-admin off&#39; after the containers are
deployed and the system is running in a stable state?

Thanks,
Dan

On 04/20/2012 10&#58;43 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11891#1334937852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T16:04:12+00:00">Apr 20, 2012 04:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1334937852">&nbsp;</a></div><pre>-- by Andrea Ceccanti at Fri Apr 20 16&#58;03&#58;06 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1334936826'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T15:47:06+00:00">Apr 20, 2012 03:47 PM UTC</time> by <b>andrea.ceccanti@....</b><a class="anchor" name="1334936826">&nbsp;</a></div><pre>Il 20/04/12 17.34, Dan Yocum ha scritto&#58;
<font color='#7F7E6F'>&#62; Yes, I&#39;ve tried this method.  It doesn&#39;t work.  Every time I do this,</font>
<font color='#7F7E6F'>&#62; 2 VOs don&#39;t correctly deploy on each real server.  I have to manually</font>
<font color='#7F7E6F'>&#62; &#39;service voms-admin stop lsst; service voms-admin start lsst&#39; to get</font>
<font color='#7F7E6F'>&#62; them to deploy correctly.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; And, as of yesterday, it&#39;s 2 1/2 VOs don&#39;t deploy - the osg VO looks</font>
<font color='#7F7E6F'>&#62; like it deploys, the web UI looks like it&#39;s responding, but when I use</font>
<font color='#7F7E6F'>&#62; &#39;voms-admin --vo=osg --host=voms.fnal.gov list-cas&#39; I get the java</font>
<font color='#7F7E6F'>&#62; error I reported.  Then I do &#39;service stop/service start&#39; and it</font>
<font color='#7F7E6F'>&#62; works.  &#58;-(</font>

I highly doubt this. Vos don&#39;t need to be redeployed each and every
time. You just need to deploy them once and then when you want
to restart the service you should just restart TOMCAT and *not* the
individual VOs, otherwise you&#39;re causing unnecessary load on the tomcat
server.

A.

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Dan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 04/20/2012 10&#58;08 AM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11891#1334936591'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T15:43:11+00:00">Apr 20, 2012 03:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1334936591">&nbsp;</a></div><pre>-- by Andrea Ceccanti at Fri Apr 20 15&#58;42&#58;59 UTC 2012

I&#39;d like to stress again that if you manage to reach a stable state where all the VOs are active
then the right way of stopping and starting VOMS admin is by starting and stopping TOMCAT
and *not* redeploying individual VOs. Is this the way you use to manage the deployment ?

-- by Andrea Ceccanti at Fri Apr 20 15&#58;42&#58;50 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1334936107'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T15:35:07+00:00">Apr 20, 2012 03:35 PM UTC</time> by <b>Dan Yocum</b><a class="anchor" name="1334936107">&nbsp;</a></div><pre>Yes, I&#39;ve tried this method.  It doesn&#39;t work.  Every time I do this, 2
VOs don&#39;t correctly deploy on each real server.  I have to manually
&#39;service voms-admin stop lsst; service voms-admin start lsst&#39; to get
them to deploy correctly.

And, as of yesterday, it&#39;s 2 1/2 VOs don&#39;t deploy - the osg VO looks
like it deploys, the web UI looks like it&#39;s responding, but when I use
&#39;voms-admin --vo=osg --host=voms.fnal.gov list-cas&#39; I get the java error
I reported.  Then I do &#39;service stop/service start&#39; and it works.  &#58;-(

Thanks,
Dan

On 04/20/2012 10&#58;08 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='11891#1334934487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-20T15:08:07+00:00">Apr 20, 2012 03:08 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1334934487">&nbsp;</a></div><pre>-- by Andrea Ceccanti at Fri Apr 20 15&#58;07&#58;16 UTC 2012

Dan,

I&#39;d like to understand how you manage the deployment of voms-admin.
The right way of doing the deployment is&#58;

*) start clean tomcat (i.e. with no VOS deployed).
*) deploy VOs with service voms-admin start

If you start from a clean tomcat you shouldn&#39;t have issues.
To go back to a clean tomcat, while tomcat is RUNNING do

service voms-admin stop

and then restart tomcat. This will give a clean tomcat environment. You can then type

service voms-admin start

-- by Andrea Ceccanti at Fri Apr 20 15&#58;07&#58;08 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1334860948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-19T18:42:28+00:00">Apr 19, 2012 06:42 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1334860948">&nbsp;</a></div><pre>This is now high priority - the voms-admin container for the nanohub VO will not deploy on one half of our VOMS HA systems.  Here&#39;s the error in the voms-admin-nanohub.log file&#58;

2012-04-19 15&#58;35&#58;25.145Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task UpdateCATask
2012-04-19 15&#58;35&#58;25.146Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task TaskStatusUpdater
2012-04-19 15&#58;35&#58;25.146Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task ExpiredRequestsPurgerTask
2012-04-19 15&#58;35&#58;27.303Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task MembershipCheckerTask
2012-04-19 16&#58;25&#58;12.251Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!
2012-04-19 16&#58;25&#58;12.253Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Complete Status&#58;
Managed Threads&#58; 3
Active Threads&#58; 0
Active Tasks&#58;
Pending Tasks&#58;
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@49f5ed44
Pool thread stack traces&#58;
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,]

2012-04-19 17&#58;15&#58;12.266Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!
2012-04-19 17&#58;15&#58;12.266Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Complete Status&#58;
Managed Threads&#58; 3
Active Threads&#58; 0
Active Tasks&#58;
Pending Tasks&#58;
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@43f69638
Pool thread stack traces&#58;
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,]

2012-04-19 18&#58;05&#58;12.274Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!
2012-04-19 18&#58;05&#58;12.275Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Complete Status&#58;
Managed Threads&#58; 3
Active Threads&#58; 0

<div id='show_246372773' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_246372773'>-- by Dan Yocum 346615 at Thu Apr 19 18&#58;41&#58;28 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a>
</div><script type='text/javascript'>
        $('#show_246372773').click(function() {
            $('#detail_246372773').slideDown("normal");
            $('#show_246372773').hide();
            $('#hide_246372773').show();
        });
        $('#hide_246372773').click(function() {
            $('#detail_246372773').slideUp();
            $('#hide_246372773').hide();
            $('#show_246372773').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='11891#1334860743'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-19T18:39:03+00:00">Apr 19, 2012 06:39 PM UTC</time><a class="anchor" name="1334860743">&nbsp;</a></div><pre>This is now high priority - the voms-admin container for the nanohub VO will not deploy on one half of our VOMS HA systems.  Here&#39;s the error in the voms-admin-nanohub.log file&#58;

2012-04-19 15&#58;35&#58;25.145Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task UpdateCATask
2012-04-19 15&#58;35&#58;25.146Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task TaskStatusUpdater
2012-04-19 15&#58;35&#58;25.146Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task ExpiredRequestsPurgerTask
2012-04-19 15&#58;35&#58;27.303Z - ERROR [DatabaseTransactionTaskWrapper] - An unexpected exception was caught while executing task MembershipCheckerTask
2012-04-19 16&#58;25&#58;12.251Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!
2012-04-19 16&#58;25&#58;12.253Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Complete Status&#58;
Managed Threads&#58; 3
Active Threads&#58; 0
Active Tasks&#58;
Pending Tasks&#58;
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@49f5ed44
Pool thread stack traces&#58;
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,]

2012-04-19 17&#58;15&#58;12.266Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!
2012-04-19 17&#58;15&#58;12.266Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Complete Status&#58;
Managed Threads&#58; 3
Active Threads&#58; 0
Active Tasks&#58;
Pending Tasks&#58;
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@43f69638
Pool thread stack traces&#58;
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,]

2012-04-19 18&#58;05&#58;12.274Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!
2012-04-19 18&#58;05&#58;12.275Z - WARN [ThreadPoolAsynchronousRunner] - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@62dc046 -- APPARENT DEADLOCK!!! Complete Status&#58;
Managed Threads&#58; 3
Active Threads&#58; 0
Active Tasks&#58;
<div id='show_1619629268' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1619629268'>Pending Tasks&#58;
com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@5902f760
Pool thread stack traces&#58;
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,]
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,]

-- by Dan Yocum

</div><script type='text/javascript'>
        $('#show_1619629268').click(function() {
            $('#detail_1619629268').slideDown("normal");
            $('#show_1619629268').hide();
            $('#hide_1619629268').show();
        });
        $('#hide_1619629268').click(function() {
            $('#detail_1619629268').slideUp();
            $('#hide_1619629268').hide();
            $('#show_1619629268').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='11891#1334765397'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-18T16:09:57+00:00">Apr 18, 2012 04:09 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1334765397">&nbsp;</a></div><pre>Hi
I just want to make sure we don&#39;t drop the ball on this one. Can someone follow up with Dan please?
Thanks
-Neha</pre></div><div class='update_description'><i onclick="document.location='11891#1334172672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-11T19:31:12+00:00">Apr 11, 2012 07:31 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1334172672">&nbsp;</a></div><pre>Are there any updates on this issue?

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a>

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the Open Science Grid Operations Page&#58;
<a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333898360'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-08T15:19:20+00:00">Apr 8, 2012 03:19 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333898360">&nbsp;</a></div><pre>-- by Cristina Aiftimiei at Sun Apr 08 15&#58;18&#58;45 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333726602'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-06T15:36:42+00:00">Apr 6, 2012 03:36 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333726602">&nbsp;</a></div><pre>This is the only change I&#39;ve made to the tomcat5.conf file, based on conversations with Tanya and Steve Traylen at CERN&#58;

JAVA_OPTS=&#34;-Xmx1979M -server -Dsun.net.client.defaultReadTimeout=240000 -XX&#58;MaxP
ermSize=600m&#34;

The rest of the file is the same.

-- by Dan Yocum 346615 at Fri Apr 06 15&#58;36&#58;30 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333701728'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-06T08:42:08+00:00">Apr 6, 2012 08:42 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333701728">&nbsp;</a></div><pre>Dan,

how&#39;s the memory configured for tomcat? What&#39;s the content of /etc/tomcat5/tomcat5.conf?

A.

-- by Andrea Ceccanti at Fri Apr 06 08&#58;41&#58;00 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333701010'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-06T08:30:10+00:00">Apr 6, 2012 08:30 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333701010">&nbsp;</a></div><pre>I&#39;m involving the developers

-- by Alessandro Paolini at Fri Apr 06 08&#58;29&#58;13 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333637249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-05T14:47:29+00:00">Apr 5, 2012 02:47 PM UTC</time><a class="anchor" name="1333637249">&nbsp;</a></div><pre>Yes, restarting tomcat has a similar effect.  One or two of the VOMS-Admin interfaces won&#39;t come up.  They are different every time - it&#39;s not the same ones each time.

-- by Dan Yocum</pre></div><div class='update_description'><i onclick="document.location='11891#1333622011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-05T10:33:31+00:00">Apr 5, 2012 10:33 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333622011">&nbsp;</a></div><pre>Hi Dan,
and what about the stop/start of tomcat?

cheers,
Alessandro

-- by Alessandro Paolini at Thu Apr 05 10&#58;33&#58;01 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333557492'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-04T16:38:12+00:00">Apr 4, 2012 04:38 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333557492">&nbsp;</a></div><pre>Alessandro,

We have 13 VOs on the same server.

Thanks,
Dan

-- by Dan Yocum 346615 at Wed Apr 04 16&#58;37&#58;08 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333440382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-03T08:06:22+00:00">Apr 3, 2012 08:06 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333440382">&nbsp;</a></div><pre>Hi Dan,
it isn&#39;t well clear to me the problem. How many VOs are running on your voms server?
if you do stop/start of tomcat, do all the VO start correctly (it requires some minutes depending on the VOs number)

cheers,
Alessandro

-- by Alessandro Paolini at Tue Apr 03 08&#58;05&#58;45 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333435216'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-03T06:40:16+00:00">Apr 3, 2012 06:40 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1333435216">&nbsp;</a></div><pre>-- by Helmut Dres at Tue Apr 03 06&#58;39&#58;57 UTC 2012

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=80811</a></pre></div><div class='update_description'><i onclick="document.location='11891#1333378245'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-04-02T14:50:45+00:00">Apr 2, 2012 02:50 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1333378245">&nbsp;</a></div><pre>I&#39;m going to add GGUS to this ticket, so we can get the VOMS developers directly involved. GGUS folks--can you please add them? Thanks!
-alain
--------------------------------------
Alain Roy
Open Science Grid Software Coordinator
roy@....
<a href='http&#58;//opensciencegrid.org' target='_blank' rel='nofollow'>http&#58;//opensciencegrid.org</a></pre></div><div class='update_description'><i onclick="document.location='11891#1332956586'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-03-28T17:43:06+00:00">Mar 28, 2012 05:43 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1332956586">&nbsp;</a></div><pre>[by Dan Yocum]

Hi,

I&#39;ve completed our upgrade of the VOMS servers today and one of the problems I&#39;ve encountered is that seemingly random VOM-Admin servlets are not coming online during the initial startup.  To bring the servlet up, the voms-admin interface for the failed VO has to be explicitly restarted&#58;

service voms-admin stop dzero
service voms-admin start dzero

I&#39;ve attached a log file from the dzero voms-admin that shows the types of errors that I&#39;m seeing.

Thanks,
Dan</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F11891">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 11891});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
