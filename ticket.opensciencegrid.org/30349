<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30349] Held DES jobs at MIT</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30349" method="post">
<div class="page-header">
    <h3><span class="muted">30349</span> / Held DES jobs at MIT</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Kenneth Herner</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">MIT_CMS</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Kenneth Herner</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier2</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-10-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">USCMS Tier 2 <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30349", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30349?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/30349?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Held%20DES%20jobs%20at%20MIT%20ISSUE%3D30349%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30349#1476391607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-13T20:46:47+00:00">Oct 13, 2016 08:46 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1476391607">&nbsp;</a></div><pre>Closing as the last message says it works and I&#39;ve heard nothing to the contrary in the last week.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1475703417'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T21:36:57+00:00">Oct 5, 2016 09:36 PM UTC</time><a class="anchor" name="1475703417">&nbsp;</a></div><pre>No, I didn&#39;t see anything on the ticket recently. My last round of test jobs succeed, and in any event I can also implement a workaround via CVMFS if I end up on a node that doesn&#39;t have ubertftp installed. As long as there&#39;s been no change on the GUMS issues I think we can close the ticket.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1475700014'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T20:40:14+00:00">Oct 5, 2016 08:40 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1475700014">&nbsp;</a></div><pre>Ken,

Have you received an answer to your question about  worker node setup and uberftp?  Has anything been cleared up?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1474921503'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-26T20:25:03+00:00">Sep 26, 2016 08:25 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1474921503">&nbsp;</a></div><pre>Ken,

Have you received an answer to your question about  worker node setup and uberftp?  Has anything been cleared up?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1474345531'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-20T04:25:31+00:00">Sep 20, 2016 04:25 AM UTC</time><a class="anchor" name="1474345531">&nbsp;</a></div><pre>Hi,

Yes, I did get some tests through, and it looks like uberftp is indeed installed on the worker nodes, or at least on some of them. In my last couple of jobs I did not see the problems I was seeing earlier. I run a series of commands such as

echo &#34;uberftp is at &#96;which uberftp&#96;&#34;
uberftp -v
ifdh ls (which is the FNAL data transfer tool that is calling ubertftp -ls behind the scenes)

At least on t2bat0009.cmsaf.mit.edu those commands result in

uberftp is at /usr/bin/uberftp
uberftp-client 2.8
/pnfs/fnal.gov/usr/des/scratch/kherner/
/pnfs/fnal.gov/usr/des/scratch/kherner/job_output_10555373.0.log
(many other files I expect to see)

So that all looks great to me. I guess the only remaining question is whether all worker nodes have the same setup. Could some of them possible have an older version of uberftp installed (we need at least 2.8) on them? That would also explain some of the earlier jobs hanging.

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1474314905'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:55:05+00:00">Sep 19, 2016 07:55 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1474314905">&nbsp;</a></div><pre>Ken,

Were you able to send some test jobs?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1473708722'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T19:32:02+00:00">Sep 12, 2016 07:32 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1473708722">&nbsp;</a></div><pre>Ken,

Were you able to send some test jobs?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1473701802'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T17:36:42+00:00">Sep 12, 2016 05:36 PM UTC</time><a class="anchor" name="1473701802">&nbsp;</a></div><pre>No, we do not install uberftp on WNs. srmls, however, is available on all worker nodes.

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1473697421'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T16:23:41+00:00">Sep 12, 2016 04:23 PM UTC</time><a class="anchor" name="1473697421">&nbsp;</a></div><pre>Indeed there is some good news now. My simple probe jobs with copyback are now succeeding both with a Role=Analysis proxy and a Role=DESGW proxy, so that&#39;s great. There seems to be but one remaining issue, and that is &#34;ifdh ls&#34; commands seem to be getting hung up and/or timing out on the worker nodes. ifdh is a Fermilab UPS product, and the ls option either calls uberftp -ls or srmls depending on what software is available on the worker nodes. Unfortunately when I insert the ifdh ls command (the same job succeeds without it) something is timing out, and then the job eventually goes held, so I don&#39;t get any output back. Max, is ubertftp available on your worker nodes, and if so, what version is it?

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1473258895'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-07T14:34:55+00:00">Sep 7, 2016 02:34 PM UTC</time><a class="anchor" name="1473258895">&nbsp;</a></div><pre>Looks like it did.

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1473189099'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-06T19:11:39+00:00">Sep 6, 2016 07:11 PM UTC</time><a class="anchor" name="1473189099">&nbsp;</a></div><pre>Hi Max,

Were you able to update the member list now? Let me know either way. If it now works, I&#39;ll send some new test jobs.

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1473188774'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-06T19:06:14+00:00">Sep 6, 2016 07:06 PM UTC</time><a class="anchor" name="1473188774">&nbsp;</a></div><pre>Yes, I changed the voms server to the specified one

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1473188290'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-06T18:58:10+00:00">Sep 6, 2016 06:58 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1473188290">&nbsp;</a></div><pre>Max,

Do you have an update for Ken?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1472667729'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T18:22:09+00:00">Aug 31, 2016 06:22 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1472667729">&nbsp;</a></div><pre>Max,

Do you have an update for Ken?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1471980984'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-23T19:36:24+00:00">Aug 23, 2016 07:36 PM UTC</time><a class="anchor" name="1471980984">&nbsp;</a></div><pre>Hi Max,

Any luck with just using the base URL?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1471616081'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T14:14:41+00:00">Aug 19, 2016 02:14 PM UTC</time><a class="anchor" name="1471616081">&nbsp;</a></div><pre>Hmm, maybe just the base URL is the right thing&#58;

<a href='https&#58;//voms.fnal.gov&#58;8443/voms/des' target='_blank' rel='nofollow'>https&#58;//voms.fnal.gov&#58;8443/voms/des</a>

Can you try that instead?

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1471613270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T13:27:50+00:00">Aug 19, 2016 01:27 PM UTC</time><a class="anchor" name="1471613270">&nbsp;</a></div><pre><a href='https&#58;//voms.fnal.gov&#58;8443/voms/des/services/VOMSAdmin' target='_blank' rel='nofollow'>https&#58;//voms.fnal.gov&#58;8443/voms/des/services/VOMSAdmin</a>

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1471294839'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T21:00:39+00:00">Aug 15, 2016 09:00 PM UTC</time><a class="anchor" name="1471294839">&nbsp;</a></div><pre>Hi Max,

Can you remind me what URL you&#39;re using for the DES VOMS server? in your gums.config file? Maybe I sent you the wrong one...

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1471284401'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-15T18:06:41+00:00">Aug 15, 2016 06:06 PM UTC</time><a class="anchor" name="1471284401">&nbsp;</a></div><pre>I do it from GUMs web interface.

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1471013848'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T14:57:28+00:00">Aug 12, 2016 02:57 PM UTC</time><a class="anchor" name="1471013848">&nbsp;</a></div><pre>Hi Max,

I ran an manual update on one of the FNAL GUMS servers yesterday and it seemed OK. Can you remind me how you&#39;re doing the update? Is it via script, command line, web interface...? Maybe there&#39;s some difference between what I was doing and what you&#39;re doing.

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1470950096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T21:14:56+00:00">Aug 11, 2016 09:14 PM UTC</time><a class="anchor" name="1470950096">&nbsp;</a></div><pre>Thanks Max,

I will see what our people have to say about this error. Does the same command work for say the Fermilab or DUNE VOs?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1470927238'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T14:53:58+00:00">Aug 11, 2016 02:53 PM UTC</time><a class="anchor" name="1470927238">&nbsp;</a></div><pre>I can&#39;t update des VO members, GUMs tells me this when I try to do it&#58;
des - Couldn&#39;t retrieve users&#58; The AXIS engine could not find a target service to invoke!  targetService is VOMSAdmin/services/VOMSCompatibility

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1470855685'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T19:01:25+00:00">Aug 10, 2016 07:01 PM UTC</time><a class="anchor" name="1470855685">&nbsp;</a></div><pre>Sure, these jobs should be using this DN&#58;

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=desgw/des41.fnal.gov

with FQAN /des/Role=DESGW

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1470855310'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T18:55:10+00:00">Aug 10, 2016 06:55 PM UTC</time><a class="anchor" name="1470855310">&nbsp;</a></div><pre>Well, what you posted as an error does not help much. Please give me a DN under which glexec command is executed.

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1470789538'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-10T00:38:58+00:00">Aug 10, 2016 12:38 AM UTC</time><a class="anchor" name="1470789538">&nbsp;</a></div><pre>Thanks Max,

Looks like we&#39;re still missing something&#58;

Error from slot1@glidein_27133_648075395@....&#58; error changing sandbox ownership to the user&#58; condor_glexec_setup exited with status 768 and the following output&#58; [gLExec]&#58;  LCMAPS failed.;            The reason can be found in the logfile.; Glexec exited with status 203; retrying in 5 seconds.; [gLExec]&#58;  LCMAPS failed.;            The reason can be found in the logfile.; Glexec exited with status 203; retrying in 10 seconds.; [gLExec]&#58;  LCMAPS failed.;            The reason can be found in the logfile.; Glexec exited with status 203; retrying in 15 seconds.; [gLExec]&#58;  LCMAPS failed.;            The reason can be found in the logfile.

That was from about 10 minutes ago, so something still isn&#39;t mapping properly.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1470751616'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T14:06:56+00:00">Aug 9, 2016 02:06 PM UTC</time><a class="anchor" name="1470751616">&nbsp;</a></div><pre>Hi, I did all the changes asked and restarted GUMs.

The fact that they go idle might have to do with the fact that there is always pressure from CMS, all others would wait till there is
no pressure from CMS, and that does not happen often these days.

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1470687268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T20:14:28+00:00">Aug 8, 2016 08:14 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1470687268">&nbsp;</a></div><pre>Max,

Have you been able to look into this at all?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1470674704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T16:45:04+00:00">Aug 8, 2016 04:45 PM UTC</time><a class="anchor" name="1470674704">&nbsp;</a></div><pre>Hi,

Yes, the last time I sent jobs to MIT for DES (roughly 10 days ago), they still went held immediately.  Since then I&#39;ve haven&#39;t seen any updates to this ticket, so unless something was changed and not logged here, the problem is still present.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1470429783'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-05T20:43:03+00:00">Aug 5, 2016 08:43 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1470429783">&nbsp;</a></div><pre>Ken,

is your issue still ongoing?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1469623016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T12:36:56+00:00">Jul 27, 2016 12:36 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1469623016">&nbsp;</a></div><pre>Max,

Have you had a chance to look into Ken&#39;s request?

Thanks,
Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1469139151'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-21T22:12:31+00:00">Jul 21, 2016 10:12 PM UTC</time><a class="anchor" name="1469139151">&nbsp;</a></div><pre>Hi Max,

Did you have a chance to make those changes yet? We are still seeing jobs held due to LCMAPS failures during glexec_setup.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1469025314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-20T14:35:14+00:00">Jul 20, 2016 02:35 PM UTC</time><a class="anchor" name="1469025314">&nbsp;</a></div><pre>Hi Max,

It is <a href='https&#58;//voms.fnal.gov&#58;8443/voms/des/services/VOMSAdmin' target='_blank' rel='nofollow'>https&#58;//voms.fnal.gov&#58;8443/voms/des/services/VOMSAdmin</a>

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1469021777'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-20T13:36:17+00:00">Jul 20, 2016 01:36 PM UTC</time><a class="anchor" name="1469021777">&nbsp;</a></div><pre>What is the baseUrl for the vomsServer?

-Max

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1468952091'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-19T18:14:51+00:00">Jul 19, 2016 06:14 PM UTC</time><a class="anchor" name="1468952091">&nbsp;</a></div><pre>Hi,

Sorry for the delay&#58; do you don&#39;t have either of the vomsUserGroup sections? If not, can you add the following section to your config&#58;

&#60;vomsUserGroup
name=&#39;des&#39;
access=&#39;read self&#39;
description=&#39;&#39;
vomsServer=&#39;des&#39;
matchFQAN=&#39;vo&#39;
acceptProxyWithoutFQAN=&#39;true&#39;
voGroup=&#39;/des&#39;/&#62;

And then in the groupToAccountMapping section, change name=&#39;des-production&#39; to name=&#39;des&#39;. I think it should work at that point.

Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385</pre></div><div class='update_description'><i onclick="document.location='30349#1468876221'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-18T21:10:21+00:00">Jul 18, 2016 09:10 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1468876221">&nbsp;</a></div><pre>Ken,

Have you seen Max&#39;s reply?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1468242653'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-11T13:10:53+00:00">Jul 11, 2016 01:10 PM UTC</time><a class="anchor" name="1468242653">&nbsp;</a></div><pre>Actually, we only have this in GUMs config&#58;

&#60;groupToAccountMapping
name=&#39;des-production&#39;
description=&#39;&#39;
accountingVoSubgroup=&#39;des&#39;
accountingVo=&#39;DES&#39;
userGroups=&#39;des&#39;
accountMappers=&#39;des&#39;/&#62;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=maxi/CN=682514/CN=Maxim Goncharov</pre></div><div class='update_description'><i onclick="document.location='30349#1468001141'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-08T18:05:41+00:00">Jul 8, 2016 06:05 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1468001141">&nbsp;</a></div><pre>Has there been any progress made on this issue?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1467318846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T20:34:06+00:00">Jun 30, 2016 08:34 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1467318846">&nbsp;</a></div><pre>Has there been any progress made on this issue?

-Kyle</pre></div><div class='update_description'><i onclick="document.location='30349#1466711826'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-23T19:57:06+00:00">Jun 23, 2016 07:57 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1466711826">&nbsp;</a></div><pre>Awaiting MIT response.</pre></div><div class='update_description'><i onclick="document.location='30349#1466700866'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-23T16:54:26+00:00">Jun 23, 2016 04:54 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1466700866">&nbsp;</a></div><pre>Hi,

Some opportunistic DES jobs are going held at MIT with LCMAPS failures (probably a glexec issue.) We have seen this at some other sites in the past and it was a gums configuration issue. Can you check your gums config and see if you have the following entries for DES?

&#60;vomsUserGroup
name=&#39;des&#39;
access=&#39;read self&#39;
description=&#39;&#39;
vomsServer=&#39;des&#39;
matchFQAN=&#39;vo&#39;
acceptProxyWithoutFQAN=&#39;true&#39;
voGroup=&#39;/des/production&#39;/&#62;

&#60;vomsUserGroup
name=&#39;des-production&#39;
access=&#39;read self&#39;
description=&#39;&#39;
vomsServer=&#39;des&#39;
matchFQAN=&#39;exact&#39;
acceptProxyWithoutFQAN=&#39;true&#39;
voGroup=&#39;/des/production&#39;/&#62;

If you have this setup, then can you change the first entry to be

&#60;vomsUserGroup
name=&#39;des&#39;
access=&#39;read self&#39;
description=&#39;&#39;
vomsServer=&#39;des&#39;
matchFQAN=&#39;vo&#39;
acceptProxyWithoutFQAN=&#39;true&#39;
voGroup=&#39;/des&#39;/&#62;

That is, just change the voGroup in the first entry. If you have some other setup for DES, it should probably be changed to what&#39;s above. We have a ticket in to get the gums template file changed but it&#39;s not going to be ready until the July software release at the earliest.

<div id='show_1150538766' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1150538766'>Thanks,

Ken

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Kenneth Herner 1385

</div><script type='text/javascript'>
        $('#show_1150538766').click(function() {
            $('#detail_1150538766').slideDown("normal");
            $('#show_1150538766').hide();
            $('#hide_1150538766').show();
        });
        $('#hide_1150538766').click(function() {
            $('#detail_1150538766').slideUp();
            $('#hide_1150538766').hide();
            $('#show_1150538766').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30349">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 30349});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
