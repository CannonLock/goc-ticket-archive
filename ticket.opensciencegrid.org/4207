<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4207] dCache Client unable to retrieve files (from certain pools NOT all) which have replicas</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4207" method="post">
<div class="page-header">
    <h3><span class="muted">4207</span> / dCache Client unable to retrieve files (from certain pools NOT all) which have replicas</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Neha Sharma</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">closing</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-03-05</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div><div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=4207", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4207?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/4207?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20dCache%20Client%20unable%20to%20retrieve%20files%20%28from%20certain%20pools%20NOT%20all%29%20which%20have%20replicas%20ISSUE%3D4207%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4207#1204733478'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-05T16:11:18+00:00">Mar 5, 2008 04:11 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1204733478">&nbsp;</a></div><pre>Was fixed in release 1.8.0-8</pre></div><div class='update_description'><i onclick="document.location='4207#1202837559'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-02-12T17:32:39+00:00">Feb 12, 2008 05:32 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1202837559">&nbsp;</a></div><pre>Still no update.

DESY dCache ticket number  2144. No update.</pre></div><div class='update_description'><i onclick="document.location='4207#1201128473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-23T22:47:53+00:00">Jan 23, 2008 10:47 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1201128473">&nbsp;</a></div><pre>DESY dCache ticket number  2144. No update.</pre></div><div class='update_description'><i onclick="document.location='4207#1201031407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-22T19:50:07+00:00">Jan 22, 2008 07:50 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1201031407">&nbsp;</a></div><pre>No.
This ticket has to be kept open until it is resolved.

-Neha
On Jan 22, 2008, at 9&#58;13 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4207#1201014787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-22T15:13:07+00:00">Jan 22, 2008 03:13 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1201014787">&nbsp;</a></div><pre>Neha,

If this ticket has been moved to DESY for tracking, can it be closed here? If not
please send us an update.

Thanks,
Rob</pre></div><div class='update_description'><i onclick="document.location='4207#1200498918'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-16T15:55:18+00:00">Jan 16, 2008 03:55 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1200498918">&nbsp;</a></div><pre>DESY dCache ticket number  2144. No update.</pre></div><div class='update_description'><i onclick="document.location='4207#1199389081'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-01-03T19:38:01+00:00">Jan 3, 2008 07:38 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1199389081">&nbsp;</a></div><pre>Neha,

This ticket has been languishing since October. Does it need to stay open, or can we
close the issue as abandoned by the user?

Thanks,
Rob</pre></div><div class='update_description'><i onclick="document.location='4207#1198863552'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-28T17:39:12+00:00">Dec 28, 2007 05:39 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1198863552">&nbsp;</a></div><pre>Still no update in DESY ticketing system</pre></div><div class='update_description'><i onclick="document.location='4207#1198091903'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-19T19:18:23+00:00">Dec 19, 2007 07:18 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1198091903">&nbsp;</a></div><pre>Still no update in DESY ticketing system</pre></div><div class='update_description'><i onclick="document.location='4207#1197478980'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-12T17:03:00+00:00">Dec 12, 2007 05:03 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1197478980">&nbsp;</a></div><pre>Still no update in DESY ticketing system</pre></div><div class='update_description'><i onclick="document.location='4207#1196874709'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-12-05T17:11:49+00:00">Dec 5, 2007 05:11 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1196874709">&nbsp;</a></div><pre>Still no update in DESY ticketing system</pre></div><div class='update_description'><i onclick="document.location='4207#1196095388'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-11-26T16:43:08+00:00">Nov 26, 2007 04:43 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1196095388">&nbsp;</a></div><pre>Still no update in DESY ticketing system</pre></div><div class='update_description'><i onclick="document.location='4207#1193075421'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-10-22T17:50:21+00:00">Oct 22, 2007 05:50 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1193075421">&nbsp;</a></div><pre>this ticket was reopened by neha, but the GOC assignee was removed..
as discussed on the Ops call.  a GOC team members should be assigned to every ticket so that the ticket will not
become stale or forgotten.

reassigning Ops Workgroup (original person that was RR&#39;d to the ticket)
--tom</pre></div><div class='update_description'><i onclick="document.location='4207#1192819624'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-10-19T18:47:04+00:00">Oct 19, 2007 06:47 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1192819624">&nbsp;</a></div><pre>I think I may have an important additional piece of information that
relates to this problem. We periodically run &#39;pnfs register&#39; on all
pools in our dCache installation (because we have had problems in the
past with inconsistent information in the pnfs db).

In a quick test that I just did by hand, it appears that &#39;pnfs register&#39;
may be triggering the problem. I initiated a pp transfer and observed
that the file showed up in the destination pool with the &#39;S&#39; flag set.
I then tried to access the file with dccp numerous times, and all of
these attempts succeeded. I then issued the command &#39;pnfs register&#39; on
the destination pool in the pp transfer. My next attempt to access the
file with dccp failed with the error, &#34;File is still transient&#34;.

Is it a bug that &#39;pnfs register&#39; is registering the locations of files
that are in a transient state?

Thanks,
--Dan</pre></div><div class='update_description'><i onclick="document.location='4207#1192733287'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-10-18T18:48:07+00:00">Oct 18, 2007 06:48 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1192733287">&nbsp;</a></div><pre>Rob

No problem. I am now in charge of maintaining all of the VDT-dCache
related GOC tickets. This particular one resulted in creating a new
ticket (#2144) with the dCache  ticketing system at desy. I have
requested an account there, so I can track its status and update this
in footprints accordingly.

-Neha

On Oct 18, 2007, at 11&#58;58 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4207#1192726694'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-10-18T16:58:14+00:00">Oct 18, 2007 04:58 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1192726694">&nbsp;</a></div><pre>Neha,

I&#39;m sorry, this ticket slipped by me last week. It looks as if Alex was working on
the issue. Has it been resolved? If not where should this go, the storage group?

Thanks,
Rob</pre></div><div class='update_description'><i onclick="document.location='4207#1192034917'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-10-10T16:48:37+00:00">Oct 10, 2007 04:48 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1192034917">&nbsp;</a></div><pre>We just discovered that some files (~2900) in our dCache have replicas that cause the
following sort of error when a client tries to read them&#58;

Command failed!
Server error message for [1]&#58; &#34;File is still transient &#58; 0007000000000000009D4D10&#34;
(errno 301).
Failed open file in the dCache.
Can&#39;t open source file &#58; &#34;File is still transient &#58; 0007000000000000009D4D10&#34;
System error&#58; Input/output error

Depending on which pool dCache happens to choose to deliver the file, the operation
either succeeds or fails with the above message.  We found that the pool inventory
entry on the failing node has an &#34;S&#34; in its status bits, whereas it does not have an
&#34;S&#34; on the pool where the file can be successfully retrieved&#58;

(local) admin &#62; cd g8n04_0
(g8n04_0) admin &#62; rep ls 0007000000000000009D4D10
0007000000000000009D4D10 &#60;---S-------(0)[0]&#62; 0 si={&#60;unknown&#62;}
(g8n04_0) admin &#62; ..
(local) admin &#62; cd g9n40_1
(g9n40_1) admin &#62; rep ls 0007000000000000009D4D10
0007000000000000009D4D10 &#60;-P---------(0)[2]&#62; 61879 si={myStore&#58;STRING}

The S status bit, according to
<a href='http&#58;//trac.dcache.org/trac.cgi/wiki/manuals/RepLsOutput' target='_blank' rel='nofollow'>http&#58;//trac.dcache.org/trac.cgi/wiki/manuals/RepLsOutput</a> means this&#58; &#34;File sends data
to back end store&#34;.  I find this very mysterious, because we have no &#34;back end
store&#34;.  Ours is a purely disk-based dCache installation.

Searching through all of our pool inventories, I find that a majority of the pools
have at least one S file, and 12 pools have more than 50 such files.  Some of the
status bits also include &#39;E&#39;.

000600000000000001FA9360 &#60;---S-----E-(0)[0]&#62; 1005044760 si={&#60;unknown&#62;}
0006000000000000021C9D98 &#60;---S-------(0)[0]&#62; 1006093320 si={&#60;unknown&#62;}
000600000000000002270870 &#60;---S-------(0)[0]&#62; 0 si={&#60;unknown&#62;}
<div id='show_1657276390' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1657276390'>
I have not been able to find anything in the pool log file that indicates why files
are being put into this state.  Does anybody know what might be causing this?  Until
we find a solution, we are planning to regularly search for and remove such files.

We are running dcache-server-1.7.0-38.

Thanks in advance,
--Dan

I think I have figured out a likely cause for the problem I reported in which files
are marked with &#34;S&#34; in the status bits.

When our replica manager is restarted, I see a number of log messages like this&#58;

10/07 09&#58;02&#58;00 Cell(replicaManager@replicaDomain) &#58; Replicator for
pnfsId=0007000000000000009D4D10 got exception java.lang.InterruptedException

All pnfs ids mentioned in these log messages have an &#34;S&#34; in their status bits.

Why does the replica manager leave behind files in this state?  Is there a safe way
to shut down the replica manager so that it does not do this?

Thanks,
--Dan

Response from Alex
================
Hi, Dan,
I believe there is a bug in scheduling of dcap transfer from the pool s5n03_0. I&#39;m
filing the error report.

My understanding scenario is as the following&#58;
1) replica of the file 0007000000000000009D8730 is created in the pool g12n25_3

2) replica manager defines replication is needed and sends message to the destination
pool s5n03_0 to initiate the replication.

3) destination pool s5n03_0  (client) sends command to the source pool g12n25_3
(server) to start p2p transfer

4) destination pool has low p2p queue width=2 and it has two p2p transfers to other
pools stuck, so these transfers hold the p2p queue and the queue grows to ~1000 jobs.
We addressed this issue by increasing of p2p queue width to 10 ( p2p set max active
10) and by activating Job transfer Manager for p2p transfers on the pool by setting
in the pool setup file &#34;jtm set timeout -queue=p2p -lastAccess=43200 -total=86400 &#34;
to expire inactive transfers.

5) While file is waiting for p2p transaction to start, the destination pool creates
zero length file and sets it&#39;s status to &#39;receiving from store&#39;.
It is seen as &#34;S&#34; bit set on &#39;rep ls&#39; command, and/or directly in the unix control
file in the pool
$ cat control/0007000000000000009D8730
receiving.store

6) User requests dccp of the file 0007000000000000009D8730 .
The file 0007000000000000009D8730 has actual replica in the pool g12n25_3 and the
other replica in &#34;receiving.store&#34; state on pool s5n03_0 .

Finally,  the problem &#58;
Pool manager schedulers mover to get data from pool s5n03_0 and user gets error .

Can&#39;t open source file &#58; &#34;File is still transient &#58; 0007000000000000009D8730&#34;
System error&#58; Input/output error

Best regards, Alex.
</div><script type='text/javascript'>
        $('#show_1657276390').click(function() {
            $('#detail_1657276390').slideDown("normal");
            $('#show_1657276390').hide();
            $('#hide_1657276390').show();
        });
        $('#hide_1657276390').click(function() {
            $('#detail_1657276390').slideUp();
            $('#hide_1657276390').hide();
            $('#show_1657276390').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4207">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 4207});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
