<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[31165] rsv and xrootd</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=31165" method="post">
<div class="page-header">
    <h3><span class="muted">31165</span> / rsv and xrootd</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Joel Snow</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Joel Snow</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-09-28</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Edgar Fajardo <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/31165", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31165?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31165?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20rsv%20and%20xrootd%20ISSUE%3D31165%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='31165#1475092477'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T19:54:37+00:00">Sep 28, 2016 07:54 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1475092477">&nbsp;</a></div><pre>Thank you for informing us that this issue has been resolved. I will close this ticket.  Please submit problems, requests, and questions at&#58; <a href='https&#58;//ticket.grid.iu.edu/goc/open' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/open</a> OSG Grid Operations Center goc@...., 317-278-9699 Visit the OSG Operations Page&#58; <a href='http&#58;//osggoc.blogspot.com/' target='_blank' rel='nofollow'>http&#58;//osggoc.blogspot.com/</a></pre></div><div class='update_description'><i onclick="document.location='31165#1475081292'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T16:48:12+00:00">Sep 28, 2016 04:48 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1475081292">&nbsp;</a></div><pre>Ok.  Thanks for the info.  The ticket can be closed.

joel

On Wed, 28 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1475076462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T15:27:42+00:00">Sep 28, 2016 03:27 PM UTC</time><a class="anchor" name="1475076462">&nbsp;</a></div><pre>I think you need someone in the Atlas experiment VOMS to go here&#58;

<a href='https&#58;//lcg-voms2.cern.ch&#58;8443/voms/atlas/' target='_blank' rel='nofollow'>https&#58;//lcg-voms2.cern.ch&#58;8443/voms/atlas/</a>

ANd register the DN&#58;

/DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=rsv/lutgw1.lunet.edu

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31165#1475015591'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T22:33:11+00:00">Sep 27, 2016 10:33 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1475015591">&nbsp;</a></div><pre>Hi,

That line is in
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/AtlasComputing/XrootdVOMSsecPlugin' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/AtlasComputing/XrootdVOMSsecPlugin</a>
because I followed the instructions at&#58;

<a href='https&#58;//twiki.cern.ch/twiki/bin/view/AtlasComputing/XrootdVOMSsecPlugin' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/AtlasComputing/XrootdVOMSsecPlugin</a>

So answer to your question #1 is yes.  I&#39;ll work on #2.  thanks,

joel

On Tue, 27 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1475010368'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T21:06:08+00:00">Sep 27, 2016 09:06 PM UTC</time><a class="anchor" name="1475010368">&nbsp;</a></div><pre>Hi Joel,

This is interesting. And the answer is I do no know. So here is what is going on&#58;

In your xrootd config&#58;

you have theis line

sec.protparm gsi -vomsfun&#58;/usr/lib64/libXrdSecgsiVOMS-4.so -vomsfunparms&#58;certfmt=raw|vos=atlas|grps=/atlas

So you are only authorizing proxies with an atlas voms extension and in the group /atlas. The first question would be&#58;

1. Is that what you want?

2. If yes, then you need to change the configs of rsv to use a proxy. And have the rsvcerts registered in the Atlas VO

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31165#1475009650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T20:54:10+00:00">Sep 27, 2016 08:54 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1475009650">&nbsp;</a></div><pre>Hi,

No.  I did&#58;

[root@lutgw1 ~]# su rsv
sh-4.1$ grid-proxy-init -cert /etc/grid-security/rsv/rsvcert.pem -key
/etc/grid-security/rsv/rsvkey.pem
Your identity&#58; /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=rsv/lutgw1.lunet.edu
Creating proxy
................................................................. Done
Your proxy is valid until&#58; Thu Sep 22 00&#58;28&#58;24 2016

How do I get a proxy with atlas voms extension?  thanks,

joel

On Tue, 27 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1475005670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T19:47:50+00:00">Sep 27, 2016 07:47 PM UTC</time><a class="anchor" name="1475005670">&nbsp;</a></div><pre>I am sorry. Using gfal-copy would not have worked sorry for that lapsus.

I think I know the problem. The error was showing this&#58;

160921 12&#58;27&#58;01 1922509 XrootdXeq&#58; rsv.4136757&#58;7@....et disc 0&#58;00&#58;00
160921 12&#58;28&#58;32 1922539 rsv.4137030&#58;28@....et XrootdProtocol&#58; more auth requested; sz=2395
160921 12&#58;28&#58;32 1922539 secgsiVOMS_Fun&#58; retrieval FAILED&#58; VOMS extension not found!
160921 12&#58;28&#58;32 1922539 XrootdXeq&#58; rsv.4137030&#58;28@....et pvt IPv4 login as 2e5eb4da.0

Joel, did you have a proxy with atlas voms extension when you did the xrdcp, can you do one with it?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31165#1474999103'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-27T17:58:23+00:00">Sep 27, 2016 05:58 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1474999103">&nbsp;</a></div><pre>Hello All,

Is there anything new on this? Please let me know if I can help with anything?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31165#1474550950'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T13:29:10+00:00">Sep 22, 2016 01:29 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474550950">&nbsp;</a></div><pre>I get this&#58;

sh-4.1$ gfal-copy -vvv file&#58;///rocks_dump.out
root&#58;//lutse1.lunet.edu//atlas/test/
DEBUG     no GFAL_CONFIG_DIR env var found, try to load configuration from
default directory /etc/gfal2.d/
DEBUG     try to load configuration file /etc/gfal2.d//gfal2_core.conf ...
DEBUG     try to load configuration file /etc/gfal2.d//xrootd_plugin.conf
...
DEBUG     try to load configuration file /etc/gfal2.d//bdii.conf ...
DEBUG     try to load configuration file /etc/gfal2.d//gsiftp_plugin.conf
...
DEBUG     try to load configuration file /etc/gfal2.d//srm_plugin.conf ...
DEBUG    ... no GFAL_PLUGIN_DIR environment variable specified, try to
load plugins in the default directory &#58; /usr/lib64/gfal2-plugins/
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_srm.so
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_file.so
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_xrootd.so
DEBUG     [gfal_list_directory_plugins] add plugin to list to load
/usr/lib64/gfal2-plugins//libgfal_plugin_gridftp.so
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_srm.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_srm.so
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_file.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_file.so
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_xrootd.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_xrootd.so
<div id='show_638524963' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_638524963'>DEBUG     -&#62; [gridftp_plugin] try to load ..
DEBUG     define GSIFTP session re-use to TRUE
DEBUG     -&#62; [gridftp_plugin] loaded ..
INFO     [gfal_module_load] plugin
/usr/lib64/gfal2-plugins//libgfal_plugin_gridftp.so loaded with success
DEBUG     gfal_plugin loaded succesfully &#58;
/usr/lib64/gfal2-plugins//libgfal_plugin_gridftp.so
DEBUG     plugin priority order&#58; srm-2.11.1 -&#62; file-2.11.1 -&#62;
xrootd-2.11.1 -&#62; gridftp-2.11.1 -&#62;
sec_Client&#58; protocol request for host lutse1.lunet.edu
token=&#39;&P=gsi,v&#58;10300,c&#58;ssl,ca&#58;82c2b224.0|c7a717ce.0&#39;
sec_PM&#58; Loaded gsi protocol object from libXrdSecgsi.so
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; option CACheck&#58; 1
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; using CA dir(s)&#58;
/etc/grid-security/certificates/
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; option CRLCheck&#58; 1
(&#39;use-if-available&#39;; download? no)
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; using CRL dir(s)&#58;
/etc/grid-security/certificates/
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; CRL information refreshed every 86400
secs
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Init&#58; cache allocated for 100 entries
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0
active entries)
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Init&#58; cache allocated for 2 entries
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0
active entries)
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; using certificate file&#58;
/var/rsv/.globus/usercert.pem
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; using private key file&#58;
/var/rsv/.globus/userkey.pem
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; proxy&#58; file&#58;
/tmp/x509up_u397
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; proxy&#58; validity&#58;                12&#58;00
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; proxy&#58; depth of signature path&#58; 0
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; proxy&#58; bits in key&#58;             512
160922 08&#58;06&#58;59 318817 secgsi_Init&#58; server cert&#58; allowed names&#58;
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58; ***
------------------------------------------------------------ ***
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Mode&#58; client
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Debug&#58; 3
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  CA dir&#58;
/etc/grid-security/certificates/
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  CA verification level&#58; 1
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  CRL dir&#58;
/etc/grid-security/certificates/
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  CRL extension&#58; .r0
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  CRL check level&#58; 1
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  CRL refresh time&#58; 86400
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Certificate&#58;
/var/rsv/.globus/usercert.pem
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Key&#58; /var/rsv/.globus/userkey.pem
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Proxy file&#58; /tmp/x509up_u397
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Proxy validity&#58; 12&#58;00
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Proxy dep length&#58; 0
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Proxy bits&#58; 512
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Proxy sign option&#58; 1
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Proxy delegation option&#58; 0
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Allowed server names&#58; [*/]&#60;target
host name&#62;[/*]
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Crypto modules&#58; ssl
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  Ciphers&#58;
aes-128-cbc&#58;bf-cbc&#58;des-ede3-cbc
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58;  MDigests&#58; sha1&#58;md5
160922 08&#58;06&#58;59 318817 secgsi_InitOpts&#58; ***
------------------------------------------------------------ ***
sec_PM&#58; Using gsi protocol, args=&#39;v&#58;10300,c&#58;ssl,ca&#58;82c2b224.0|c7a717ce.0&#39;
160922 08&#58;06&#58;59 318817 secgsi_XrdSecProtocolgsi&#58; constructing&#58;
0x7f7590005f30
160922 08&#58;06&#58;59 318817 secgsi_XrdSecProtocolgsi&#58; constructing&#58; host&#58;
lutse1.lunet.edu
160922 08&#58;06&#58;59 318817 secgsi_XrdSecProtocolgsi&#58; p&#58; gsi, plen&#58; 4
160922 08&#58;06&#58;59 318817 secgsi_XrdSecProtocolgsi&#58; mode&#58; client
160922 08&#58;06&#58;59 318817 secgsi_XrdSecProtocolgsi&#58; object created&#58; v..
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58;
//-----------------------------------------------------//
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //
//
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //            XrdSutBuffer DUMP
//
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //
//
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //  Buffer        &#58;
0x7f75900060e0
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //  Proto         &#58; gsi
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //  Options       &#58;
v&#58;10300,c&#58;ssl,ca&#58;82c2b224.0|c7a717ce.0
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //  Step          &#58; IN&#58; kXGS_init
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //  # of buckets  &#58; 0
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58; //
//
160922 08&#58;06&#58;59 318817 sut_Buffer&#58;&#58;Dump&#58;
//-----------------------------------------------------//
160922 08&#58;06&#58;59 318817 secgsi_ParseCrypto&#58; parsing list&#58; ssl
160922 08&#58;06&#58;59 318817 secgsi_ParseCrypto&#58; found module&#58; ssl
160922 08&#58;06&#58;59 318817 crypto_Factory&#58;&#58;GetCryptoFactory&#58; shared library
&#39;libXrdCryptossl.so&#39; loaded
160922 08&#58;06&#58;59 318817 sut_Rndm&#58;&#58;GetBuffer&#58; enter&#58; len&#58; 32
160922 08&#58;06&#58;59 318817 sut_Rndm&#58;&#58;Init&#58; taking seed from /dev/urandom
160922 08&#58;06&#58;59 318817 secgsi_ParseCAlist&#58; parsing list&#58;
82c2b224.0|c7a717ce.0
160922 08&#58;06&#58;59 318817 secgsi_GetCA&#58; Querying cache for tag&#58; 82c2b224.0&#58;1
(timestamp&#58;1474549619, refresh fq&#58;86400)
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58; 82c2b224.0&#58;1
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 secgsi_GetCA&#58; trying to load CA certificate from
/etc/grid-security/certificates/82c2b224.0
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 6 extensions
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;IsCA&#58; CA certificate
160922 08&#58;06&#58;59 318817 cryptossl_X509ParseFile&#58; certificate for
&#39;/DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid CA-1&#39;added to
the chain - ord&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_X509ParseFile&#58; no RSA private key found
in file /etc/grid-security/certificates/82c2b224.0
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1323280860  isdst&#58; 0
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1796666460  isdst&#58; 0
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;Verify&#58; signature not OK
160922 08&#58;06&#58;59 318817 secgsi_VerifyCA&#58; Warning&#58; CA certificate not
self-signed and integrity not checked&#58; assuming OK (82c2b224.0)
160922 08&#58;06&#58;59 318817 secgsi_LoadCRL&#58; target file&#58;
/etc/grid-security/certificates/82c2b224.r0
160922 08&#58;06&#58;59 318817 cryptossl_X509Crl&#58;&#58;Init&#58; CRL successfully loaded
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; 16certificates have been
revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Init&#58; cache allocated for 16 entries
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 0
active entries)
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 07A0B4F4E6ACF5D5D10DC46E28FC4631  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
07A0B4F4E6ACF5D5D10DC46E28FC4631
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1442886813  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 072090954F50174D34787420F86C701D  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
072090954F50174D34787420F86C701D
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1443049924  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 04BFD52D7A15851ACFA78497B3A3BE06  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
04BFD52D7A15851ACFA78497B3A3BE06
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1443050904  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 01BFF149ADBB50E8CB5B996AF3C8DCAE  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
01BFF149ADBB50E8CB5B996AF3C8DCAE
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1443559704  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 054DBA0AA2827724D5BE974E7035FFD6  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
054DBA0AA2827724D5BE974E7035FFD6
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1443560538  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 04723C8CD45B2CF54AE80F7DBC7660B7  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
04723C8CD45B2CF54AE80F7DBC7660B7
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1443675388  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0AFC8348279735E6F86ED260360D7574  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0AFC8348279735E6F86ED260360D7574
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1444255423  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 021AFA62820CC8D57CDFDC247FF63792  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
021AFA62820CC8D57CDFDC247FF63792
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1444813613  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 034AF55CAD6B1E6913A2098AF15438D5  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
034AF55CAD6B1E6913A2098AF15438D5
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1444848025  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0C08E0E229D3948DF23942275B0AA387  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0C08E0E229D3948DF23942275B0AA387
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1444934275  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0F60EA25040829EBF8B31722A404D12E  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0F60EA25040829EBF8B31722A404D12E
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1446584392  isdst&#58; 0
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0A875D477904135A2B7047A31B1C7627  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0A875D477904135A2B7047A31B1C7627
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1447992643  isdst&#58; 0
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 07C44152A6C9AF1C8A0D03D994EF1F95  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
07C44152A6C9AF1C8A0D03D994EF1F95
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1456269241  isdst&#58; 0
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0B12CA951FD833F90C11724D762001B8  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0B12CA951FD833F90C11724D762001B8
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1462412956  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0A4F9819633A052880DC884D19181F34  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0A4F9819633A052880DC884D19181F34
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1465433912  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_LoadCache&#58; certificate with serial
number&#58; 0AE1AA2A93BD7984385E4EB5DD2C5F2C  has been revoked
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58;
0AE1AA2A93BD7984385E4EB5DD2C5F2C
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1471467627  isdst&#58; 1
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
07A0B4F4E6ACF5D5D10DC46E28FC4631; key&#58; 0
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
072090954F50174D34787420F86C701D; key&#58; 1
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
04BFD52D7A15851ACFA78497B3A3BE06; key&#58; 2
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
01BFF149ADBB50E8CB5B996AF3C8DCAE; key&#58; 3
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
054DBA0AA2827724D5BE974E7035FFD6; key&#58; 4
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
04723C8CD45B2CF54AE80F7DBC7660B7; key&#58; 5
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0AFC8348279735E6F86ED260360D7574; key&#58; 6
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
021AFA62820CC8D57CDFDC247FF63792; key&#58; 7
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
034AF55CAD6B1E6913A2098AF15438D5; key&#58; 8
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0C08E0E229D3948DF23942275B0AA387; key&#58; 9
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0F60EA25040829EBF8B31722A404D12E; key&#58; 10
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0A875D477904135A2B7047A31B1C7627; key&#58; 11
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
07C44152A6C9AF1C8A0D03D994EF1F95; key&#58; 12
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0B12CA951FD833F90C11724D762001B8; key&#58; 13
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0A4F9819633A052880DC884D19181F34; key&#58; 14
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58;
0AE1AA2A93BD7984385E4EB5DD2C5F2C; key&#58; 15
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 16
active entries)
160922 08&#58;06&#58;59 318817 secgsi_LoadCRL&#58; CA signing certificate file =
/etc/grid-security/certificates/82c2b224.0
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;XrdCryptosslX509_file&#58; certificate
successfully loaded
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 6 extensions
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;IsCA&#58; CA certificate
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58; 82c2b224.0&#58;1
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Adding ID&#58; 82c2b224.0&#58;1; key&#58; 0
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; Hash table updated (found 1
active entries)
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Get&#58; locating entry for ID&#58; Proxy&#58;0
160922 08&#58;06&#58;59 318817 sut_Cache&#58;&#58;Rehash&#58; hash table is up-to-date
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 3 extensions
160922 08&#58;06&#58;59 318817 cryptossl_X509ParseFile&#58; certificate for
&#39;/DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=rsv/lutgw1.lunet.edu/CN=512744073&#39;added to the chain -
ord&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_X509&#58;&#58;IsCA&#58; certificate has 6 extensions
160922 08&#58;06&#58;59 318817 cryptossl_X509ParseFile&#58; certificate for
&#39;/DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=rsv/lutgw1.lunet.edu&#39;added to the chain - ord&#58; 2
160922 08&#58;06&#58;59 318817 cryptossl_X509ParseFile&#58; found a RSA private key in
file /tmp/x509up_u397
160922 08&#58;06&#58;59 318817 cryptossl_X509ParseFile&#58; RSA key completed for
&#39;/DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=rsv/lutgw1.lunet.edu/CN=512744073&#39;
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1474500204  isdst&#58; 1
160922 08&#58;06&#58;59 318817 cryptossl_ASN1toUTC&#58;  UTC&#58; 1474543704  isdst&#58; 1
160922 08&#58;06&#58;59 318817 crypto_X509Chain&#58;&#58;CheckValidity&#58; invalid
certificate found
160922 08&#58;06&#58;59 318817 secgsi_QueryProxy&#58; proxy files contains expired
certificates
160922 08&#58;06&#58;59 318817 secgsi_InitProxy&#58; cannot access private key file&#58;
/var/rsv/.globus/userkey.pem
160922 08&#58;06&#58;59 318817 secgsi_QueryProxy&#58; problems initializing proxy via
external shell
160922 08&#58;06&#58;59 318817 secgsi_getCredentials&#58; error getting user proxies
CF&#58; 0x7f7599ba9fc0
160922 08&#58;06&#58;59 318817 secgsi_ErrF&#58; kXGS_init
sec_Client&#58; protocol request for host lutse1.lunet.edu token=&#39; &#39;
gfal-copy error&#58; 2 (No such file or directory) - Could not stat the
source&#58; [gfal2_stat][gfal_plugin_statG][gfal_plugin_file_stat] errno
reported by local system call No such file or directory
DEBUG    gridftp session cache garbage collection ...
sh-4.1$ ls -l /var/rsv/.globus/userkey.pem
ls&#58; cannot access /var/rsv/.globus/userkey.pem&#58; No such file or directory
sh-4.1$

On Wed, 21 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_638524963').click(function() {
            $('#detail_638524963').slideDown("normal");
            $('#show_638524963').hide();
            $('#hide_638524963').show();
        });
        $('#hide_638524963').click(function() {
            $('#detail_638524963').slideUp();
            $('#hide_638524963').hide();
            $('#show_638524963').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31165#1474492029'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T21:07:09+00:00">Sep 21, 2016 09:07 PM UTC</time><a class="anchor" name="1474492029">&nbsp;</a></div><pre>Hi Joel,

What does it show up in the xrootd log?

Can you run this as rsv&#58;

export XrdSecDEBUG=3
gfal-copy -vvv file&#58;///rocks_dump.out root&#58;//lutse1.lunet.edu//atlas/test/

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31165#1474488852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T20:14:12+00:00">Sep 21, 2016 08:14 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474488852">&nbsp;</a></div><pre>I added &#34;all.export /atlas/test r/o&#34; to xrootd-clustered.cfg on the xrootd
server and restarted xrootd.  Now I get&#58;

[root@lutgw1 ~]# su rsv
sh-4.1$ xrdcp -v rocks_dump.out root&#58;//lutse1.lunet.edu//atlas/test/
[0B/0B][100%][==================================================][0B/s]
Run&#58; [ERROR] Server responded with an error&#58; [3010] Unable to create
/atlas/test/; permission denied

The exports are
all.export /atlas/rucio r/o
all.export /data/osg/cache r/o
all.export /atlas/test r/o

auth_file has&#58;
g /atlas /atlas rl /data/osg/cache rl
u rsv /atlas/test/ a

I placed the test directory at /data/osg/cache/atlas/test and confirmed
that user rsv can read and write to that test directory.  Is this a
correct location for test?  thanks,

joel

On Wed, 21 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1474482615'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T18:30:15+00:00">Sep 21, 2016 06:30 PM UTC</time><a class="anchor" name="1474482615">&nbsp;</a></div><pre>Joel,

I think you need to add&#58;

all.export /atlas/test r/o

And restart xrootd

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31165#1474482334'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T18:25:34+00:00">Sep 21, 2016 06:25 PM UTC</time><a class="anchor" name="1474482334">&nbsp;</a></div><pre>I&#39;ve uploaded xrootd.log and xrootd-clusterd.cfg.  thanks,
j

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Joel Snow 36</pre></div><div class='update_description'><i onclick="document.location='31165#1474481647'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T18:14:07+00:00">Sep 21, 2016 06:14 PM UTC</time><a class="anchor" name="1474481647">&nbsp;</a></div><pre>Hi Joel,

Could you upload your xrootd-clustered.cfg and your /var/log/xrootd/xrootd.log specially after you do the xrdcp so we can see what xrootd does not like.

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='31165#1474481171'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T18:06:11+00:00">Sep 21, 2016 06:06 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1474481171">&nbsp;</a></div><pre>(adding Edgar)
Edgar, you know more about xrootd. Do you know why this might be failing?

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='31165#1474479852'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T17:44:12+00:00">Sep 21, 2016 05:44 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474479852">&nbsp;</a></div><pre>Hi,

I get this&#58;

[root@lutgw1 ~]# su rsv
sh-4.1$ grid-proxy-init -cert /etc/grid-security/rsv/rsvcert.pem -key
/etc/grid-security/rsv/rsvkey.pem
Your identity&#58; /DC=org/DC=opensciencegrid/O=Open Science
Grid/OU=Services/CN=rsv/lutgw1.lunet.edu
Creating proxy
................................................................. Done
Your proxy is valid until&#58; Thu Sep 22 00&#58;28&#58;24 2016
sh-4.1$ xrdcp -v rocks_dump.out root&#58;//lutse1.lunet.edu//atlas/test/
[0B/0B][100%][==================================================][0B/s]
Run&#58; [ERROR] Server responded with an error&#58; [3010] Opening path
&#39;/atlas/test/&#39; is disallowed.

sh-4.1$ ls -ld /data/osg/cache/test
drwxrwsr-x 2 usatlas1 grid 40 Sep  6 15&#58;11 /data/osg/cache/test
sh-4.1$ id
uid=397(rsv) gid=396(rsv) groups=396(rsv),4000(grid)
sh-4.1$ exit
[root@lutgw1 ~]# ssh -x lutse1 cat /etc/xrootd/auth_file
g /atlas /atlas rl /data/osg/cache rl
u rsv /atlas/test/ a

thanks,

joel

On Wed, 21 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1474474721'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T16:18:41+00:00">Sep 21, 2016 04:18 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1474474721">&nbsp;</a></div><pre>Try this line&#58;
u rsv /atlas/test/ a
to give the user (u) rsv all privileges (a) to paths starting with /atlas/test/
Or see section 4 of <a href='http&#58;//xrootd.org/doc/dev41/sec_config.htm' target='_blank' rel='nofollow'>http&#58;//xrootd.org/doc/dev41/sec_config.htm</a>

Let me know your results.

Thanks,
-Mat</pre></div><div class='update_description'><i onclick="document.location='31165#1474410131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-20T22:22:11+00:00">Sep 20, 2016 10:22 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474410131">&nbsp;</a></div><pre>[snow@lutgw1 ~]$ xrdcp rocks_dump.out root&#58;//lutse1.lunet.edu//atlas/test/
[0B/0B][100%][==================================================][0B/s]
Run&#58; [ERROR] Server responded with an error&#58; [3010] Opening path
&#39;/atlas/test/&#39; is disallowed.

My auth_file does not have an entry for rsv and /atlas/test/.  Can you
tell me the syntax in the auth_file to allow access if this is the
problem.  thanks,

joel

On Tue, 20 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1474405568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-20T21:06:08+00:00">Sep 20, 2016 09:06 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1474405568">&nbsp;</a></div><pre>Are you able to manually copy files via xrdcp to and from root&#58;//lutse1.lunet.edu//atlas/test/ ?
How about when logged in as the rsv user? (Log in as root and do &#34;su - rsv&#34;. To get a cert for the rsv user, you&#39;ll need to do &#34;grid-proxy-init -cert /etc/grid-security/rsv/rsvcert.pem -key /etc/grid-security/rsv/rsvkey.pem&#34;).

-Mat</pre></div><div class='update_description'><i onclick="document.location='31165#1474317885'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T20:44:45+00:00">Sep 19, 2016 08:44 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1474317885">&nbsp;</a></div><pre>Yeah, you have to rename it to rsv-profiler.tar.gz.txt or something. Thanks for the files; I&#39;ll take a look.</pre></div><div class='update_description'><i onclick="document.location='31165#1474317011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T20:30:11+00:00">Sep 19, 2016 08:30 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474317011">&nbsp;</a></div><pre><a href='31165.html' target='_blank' rel='nofollow'>https&#58;//ticket.opensciencegrid.org/31165</a>

won&#39;t let me upload rsv-profiler.tar.gz.  I get &#34;File type not allowed&#34;
message.  When I reply by email the attachments appear to get stripped.

You can get the files like this&#58;
wget <a href='http&#58;//lutgw1.lunet.edu/pub/osg-profile.txt' target='_blank' rel='nofollow'>http&#58;//lutgw1.lunet.edu/pub/osg-profile.txt</a>
wget <a href='http&#58;//lutgw1.lunet.edu/pub/rsv-profiler.tar.gz' target='_blank' rel='nofollow'>http&#58;//lutgw1.lunet.edu/pub/rsv-profiler.tar.gz</a>

thanks,
joel

On Mon, 19 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1474316471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T20:21:11+00:00">Sep 19, 2016 08:21 PM UTC</time> by <b>jmsnow@....</b><a class="anchor" name="1474316471">&nbsp;</a></div><pre>retry</pre></div><div class='update_description'><i onclick="document.location='31165#1474316115'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T20:15:15+00:00">Sep 19, 2016 08:15 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474316115">&nbsp;</a></div><pre>retry
-j</pre></div><div class='update_description'><i onclick="document.location='31165#1474314673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:51:13+00:00">Sep 19, 2016 07:51 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1474314673">&nbsp;</a></div><pre>Hi,

I have attached both files.  Thanks.

joel

On Mon, 19 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1474312383'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:13:03+00:00">Sep 19, 2016 07:13 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1474312383">&nbsp;</a></div><pre>Yes to both, please.
-Mat</pre></div><div class='update_description'><i onclick="document.location='31165#1474311917'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T19:05:17+00:00">Sep 19, 2016 07:05 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1474311917">&nbsp;</a></div><pre>Hi Mat,

Have you had time to review this? Would it be help for Joel to run the rsv-control --profile and attach that here or the osg-system-profiler?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31165#1473887650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-14T21:14:10+00:00">Sep 14, 2016 09:14 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1473887650">&nbsp;</a></div><pre>Hi,

AFAIK xrootd is working for ATLAS, but it fails the RSV tests that I
mentioned.

joel

On Wed, 14 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='31165#1473880221'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-14T19:10:21+00:00">Sep 14, 2016 07:10 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1473880221">&nbsp;</a></div><pre>If it&#39;s an XRootD issue should I or do you want me to add Wei Yang ?</pre></div><div class='update_description'><i onclick="document.location='31165#1473796068'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T19:47:48+00:00">Sep 13, 2016 07:47 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1473796068">&nbsp;</a></div><pre>Mat, will you please get this ticket rolling again? It looks to be a combination of RSV and XRootD, maybe some XRootD misconfiguration. Anyway, you are the owner, but that does not mean that you have to do all the work.</pre></div><div class='update_description'><i onclick="document.location='31165#1473708710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T19:31:50+00:00">Sep 12, 2016 07:31 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1473708710">&nbsp;</a></div><pre>Software Folks,

Can you assist on this ticket? I&#39;d be glad to help but I&#39;m not sure what needs to happen here.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31165#1473697839'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-12T16:30:39+00:00">Sep 12, 2016 04:30 PM UTC</time> by <b>Tim Theisen</b><a class="anchor" name="1473697839">&nbsp;</a></div><pre>Assigning to Suchandra.</pre></div><div class='update_description'><i onclick="document.location='31165#1473449962'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-09T19:39:22+00:00">Sep 9, 2016 07:39 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1473449962">&nbsp;</a></div><pre>Joel,

I&#39;m not sure about the doc page. It&#39;s probably out of date. I can ask Marco the author about the page or if the software team knows what needs updated I can make the changes.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='31165#1473356649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T17:44:09+00:00">Sep 8, 2016 05:44 PM UTC</time> by <b>Joel Snow</b><a class="anchor" name="1473356649">&nbsp;</a></div><pre>Hi Chris,

Thanks for the doc reference. I hadn&#39;t seen it before.  It looks like the
doc page has some problems.  In the box below &#34;To invoke manually&#58;&#34; is an
example of running a test.  However that test is not available.  The
available probes are&#58;
[root@lutgw1 config.d]# /usr/libexec/rsv/probes/xroot-multi-probe --list
serviceType&#58;    xroot
metricName&#58; org.osg.xroot.ping
metricType&#58; status
serviceType&#58;    xroot
metricName&#58; org.atlas.xroot.xrdcp-direct
metricType&#58; status
serviceType&#58;    xroot
metricName&#58; org.atlas.xroot.xrdcp-fxr
metricType&#58; status
serviceType&#58;    xroot
metricName&#58; org.atlas.xroot.xrdcp-compare
metricType&#58; status
serviceType&#58;    xroot
metricName&#58; org.osg.xroot.grid-xrdcp-direct
metricType&#58; status
serviceType&#58;    xroot
metricName&#58; org.osg.xroot.grid-xrdcp-fxr
metricType&#58; status
serviceType&#58;    xroot
metricName&#58; org.osg.xroot.grid-xrdcp-compare
metricType&#58; status
EOT

The example probe is org.usatlas.xrootd.xrdcp-compare.

[root@lutgw1 config.d]# /usr/libexec/rsv/probes/xroot-multi-probe -m
org.usatlas.xrootd.xrdcp-compare -u lutse1.lunet.edu --output-type wlcg
RSV BRIEF RESULTS&#58;
<div id='show_1531726579' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1531726579'>UNKNOWN
UNKNOWN&#58; Unsupported metric org.usatlas.xrootd.xrdcp-compare. Use --list
to list supported metrics. Aborting probe
2016-09-08T16&#58;38&#58;53Z

If I try with one of the supported listed probes I get&#58;

[root@lutgw1 config.d]# /usr/libexec/rsv/probes/xroot-multi-probe -m
org.atlas.xroot.xrdcp-compare -u lutse1.lunet.edu --output-type wlcg
metricName&#58; org.atlas.xroot.xrdcp-compare
metricType&#58; status
timestamp&#58; 2016-09-08T16&#58;48&#58;03Z
serviceURI&#58; root&#58;//lutse1.lunet.edu/
gatheredAt&#58; lutgw1.lunet.edu
siteName&#58; lutse1.lunet.edu
metricStatus&#58; CRITICAL
serviceType&#58; xroot
summaryData&#58; CRITICAL&#58; ERROR&#58; Cannot copy file&#58;
root&#58;//lutse1.lunet.edu//atlas/test/lutse1.lunet.edu-1M to
/var/tmp/osgrsv/xroot-probe-test-dirWG0vSu/xrdcpdirect ... Bailing now.
detailsData&#58; CRITICAL&#58; xrdcp failed (13312)&#58; /usr/bin/xrdcp
&#39;root&#58;//lutse1.lunet.edu//atlas/test/lutse1.lunet.edu-1M&#39;
/var/tmp/osgrsv/xroot-probe-test-dirWG0vSu/xrdcpdirect
[0B/0B][100%][==================================================][0B/s]
Run&#58; [FATAL] Auth failed

EOT

Which is the same error that rsv gets.

If I try to specify an input file and a destination directory, they appear
to be ignored.  My auth_file for xrootd is&#58;
[snow@lutse1 xrootd]$ cat auth_file
g /atlas /atlas rl /data/osg/cache rl

I made this file because it didn&#39;t exist&#58;
[snow@lutse1 cache]$ ls -l /data/osg/cache/test/lutse1.lunet.edu-1M
-rw-r--r-- 1 usatlas1 grid 1048576 Sep  8 12&#58;12
/data/osg/cache/test/lutse1.lunet.edu-1M

I thought the auth_file would map to it.  Am I wrong?

[2016-09-08 12&#58;31&#58;13.114461 -0500][Debug  ][File              ]
[0xc3d2d0@root&#58;//lutse1.lunet.edu&#58;1094//atlas/test/lutse1.lunet.edu-1M]
Error while opening at lutse1.lunet.edu&#58;1094&#58; [ERROR] Server responded
with an error&#58; [3010] Opening path &#39;/atlas/test/lutse1.lunet.edu-1M&#39; is
disallowed.

How do I allow it?  thanks,

joel

On Thu, 8 Sep 2016, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1531726579').click(function() {
            $('#detail_1531726579').slideDown("normal");
            $('#show_1531726579').hide();
            $('#hide_1531726579').show();
        });
        $('#hide_1531726579').click(function() {
            $('#detail_1531726579').slideUp();
            $('#hide_1531726579').hide();
            $('#show_1531726579').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31165#1473351500'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T16:18:20+00:00">Sep 8, 2016 04:18 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1473351500">&nbsp;</a></div><pre>Hi Joel,

You&#39;ve probably seen this before but there is this, <a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/RsvProbeXrootMultiProbe.' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/RsvProbeXrootMultiProbe.</a> I&#39;ve also added software support to this ticket for assistance.

Regards,
Chris</pre></div><div class='update_description'><i onclick="document.location='31165#1473271431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-07T18:03:51+00:00">Sep 7, 2016 06:03 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1473271431">&nbsp;</a></div><pre>From&#58; joel snow &#60;snow@....&#62;
To&#58; goc@....
cc&#58; snow@....
Subject&#58; rsv and xrootd
Date-Sent&#58; Wednesday, September 7, 2016 12&#58;17 PM -0500

Hello,

I have an xrootd server installed on my SE for use by ATLAS.  I want to run the rsv tests for the xrootd server.  The org.osg.xroot.ping rsv probe works fine, but the other 3 I&#39;ve tried
fail.  I used this command to test the probes&#58;

# rsv-control -u lutse1.lunet.edu&#58;1094  --test org.atlas.xroot.xrdcp-compare
org.atlas.xroot.xrdcp-direct org.atlas.xroot.xrdcp-fxr

They all fail the same way.  Here is an example&#58;
[root@lutgw1 config.d]# rsv-control -u lutse1.lunet.edu&#58;1094 --verbose 2
--test org.atlas.xroot.xrdcp-compare
INFO&#58; Reading configuration file /etc/rsv/rsv.conf
INFO&#58; Reading configuration file /etc/rsv/consumers.conf
NOTE&#58; Records will not be generated because you specified --test.
If you want record generation, use --run instead of --test.
INFO&#58; Validating configuration&#58;
INFO&#58; Validating user&#58;
INFO&#58;     Invoked as root.  Switching to &#39;rsv&#39; user (uid&#58; 397 - gid&#58; 396)
INFO&#58; Registered consumers&#58; html-consumer, gratia-consumer
INFO&#58; Loading config file
&#39;/etc/rsv/meta/metrics/org.atlas.xroot.xrdcp-compare.meta&#39;
INFO&#58; Loading config file
&#39;/etc/rsv/metrics/org.atlas.xroot.xrdcp-compare.conf&#39;
INFO&#58; Optional config file
&#39;/etc/rsv/metrics/lutse1.lunet.edu&#58;1094/org.atlas.xroot.xrdcp-compare.conf&#39;
does not exist
INFO&#58; Checking proxy&#58;
INFO&#58;     Using service certificate proxy
INFO&#58; Running command with timeout (1200 seconds)&#58;
<div id='show_1097351598' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1097351598'>/usr/bin/openssl x509 -in /tmp/rsvproxy -noout -enddate -checkend
21600
INFO&#58; Exit code of job&#58; 0
INFO&#58;     Service certificate valid for at least 6 hours.
INFO&#58; Pinging host lutse1.lunet.edu&#58;
INFO&#58; Running command with timeout (1200 seconds)&#58;
/bin/ping -W 3 -c 1 lutse1.lunet.edu
INFO&#58; Exit code of job&#58; 0
INFO&#58;     Ping successful

Running metric org.atlas.xroot.xrdcp-compare&#58;

INFO&#58; Executing job locally
INFO&#58; Forming arguments&#58;
INFO&#58;     Arguments&#58; &#39;[]&#39;
INFO&#58; Setting up job environment&#58;
INFO&#58;     No environment setup declared
INFO&#58; Running command with timeout (1200 seconds)&#58;
/usr/libexec/rsv/metrics/org.atlas.xroot.xrdcp-compare -m
org.atlas.xroot.xrdcp-compare -u lutse1.lunet.edu&#58;1094
INFO&#58; Exit code of job&#58; 0
INFO&#58; Trimming data to 10000 bytes because details-data-trim-length is set
INFO&#58; Result&#58;

metricName&#58; org.atlas.xroot.xrdcp-compare
metricType&#58; status
timestamp&#58; 2016-09-07 11&#58;47&#58;11 CDT
metricStatus&#58; CRITICAL
serviceType&#58; xroot
serviceURI&#58; lutse1.lunet.edu&#58;1094
gatheredAt&#58; lutgw1.lunet.edu
summaryData&#58; CRITICAL
detailsData&#58; CRITICAL&#58; ERROR&#58; Cannot copy file&#58;
root&#58;//lutse1.lunet.edu&#58;1094//atlas/test/lutse1.lunet.edu-1M to
/var/tmp/osgrsv/xroot-probe-test-dirS1VAuu/xrdcpdirect ... Bailing now.
2016-09-07T16&#58;47&#58;11Z
CRITICAL&#58; xrdcp failed (13312)&#58; /usr/bin/xrdcp
&#39;root&#58;//lutse1.lunet.edu&#58;1094//atlas/test/lutse1.lunet.edu-1M&#39;
/var/tmp/osgrsv/xroot-probe-test-dirS1VAuu/xrdcpdirect
[0B/0B][100%][==================================================][0B/s]
Run&#58; [FATAL] Auth failed

EOT

No records have been generated because --test was used.
[root@lutgw1 config.d]# rsv-control -u lutse1.lunet.edu&#58;1094  --test
org.atlas.xroot.xrdcp-compare org.atlas.xroot.xrdcp-direct
org.atlas.xroot.xrdcp-fxr^C
[root@lutgw1 config.d]# rsv-control -u lutse1.lunet.edu&#58;1094 --verbose 2
--test org.atlas.xroot.xrdcp-compare
INFO&#58; Reading configuration file /etc/rsv/rsv.conf
INFO&#58; Reading configuration file /etc/rsv/consumers.conf
NOTE&#58; Records will not be generated because you specified --test.
If you want record generation, use --run instead of --test.
INFO&#58; Validating configuration&#58;
INFO&#58; Validating user&#58;
INFO&#58;     Invoked as root.  Switching to &#39;rsv&#39; user (uid&#58; 397 - gid&#58; 396)
INFO&#58; Registered consumers&#58; html-consumer, gratia-consumer
INFO&#58; Loading config file
&#39;/etc/rsv/meta/metrics/org.atlas.xroot.xrdcp-compare.meta&#39;
INFO&#58; Loading config file
&#39;/etc/rsv/metrics/org.atlas.xroot.xrdcp-compare.conf&#39;
INFO&#58; Optional config file
&#39;/etc/rsv/metrics/lutse1.lunet.edu&#58;1094/org.atlas.xroot.xrdcp-compare.conf&#39;
does not exist
INFO&#58; Checking proxy&#58;
INFO&#58;     Using service certificate proxy
INFO&#58; Running command with timeout (1200 seconds)&#58;
/usr/bin/openssl x509 -in /tmp/rsvproxy -noout -enddate -checkend
21600
INFO&#58; Exit code of job&#58; 0
INFO&#58;     Service certificate valid for at least 6 hours.
INFO&#58; Pinging host lutse1.lunet.edu&#58;
INFO&#58; Running command with timeout (1200 seconds)&#58;
/bin/ping -W 3 -c 1 lutse1.lunet.edu
INFO&#58; Exit code of job&#58; 0
INFO&#58;     Ping successful

Running metric org.atlas.xroot.xrdcp-compare&#58;

INFO&#58; Executing job locally
INFO&#58; Forming arguments&#58;
INFO&#58;     Arguments&#58; &#39;[]&#39;
INFO&#58; Setting up job environment&#58;
INFO&#58;     Arguments&#58; &#39;[]&#39;
INFO&#58; Setting up job environment&#58;
INFO&#58;     No environment setup declared
INFO&#58; Running command with timeout (1200 seconds)&#58;
/usr/libexec/rsv/metrics/org.atlas.xroot.xrdcp-compare -m
org.atlas.xroot.xrdcp-compare -u lutse1.lunet.edu&#58;1094
INFO&#58; Exit code of job&#58; 0
INFO&#58; Trimming data to 10000 bytes because details-data-trim-length is set
INFO&#58; Result&#58;

metricName&#58; org.atlas.xroot.xrdcp-compare
metricType&#58; status
timestamp&#58; 2016-09-07 11&#58;51&#58;42 CDT
metricStatus&#58; CRITICAL
serviceType&#58; xroot
serviceURI&#58; lutse1.lunet.edu&#58;1094
gatheredAt&#58; lutgw1.lunet.edu
summaryData&#58; CRITICAL
detailsData&#58; CRITICAL&#58; ERROR&#58; Cannot copy file&#58;
root&#58;//lutse1.lunet.edu&#58;1094//atlas/test/lutse1.lunet.edu-1M to
/var/tmp/osgrsv/xroot-probe-test-dirHdLieX/xrdcpdirect ... Bailing now.
2016-09-07T16&#58;51&#58;42Z
CRITICAL&#58; xrdcp failed (13312)&#58; /usr/bin/xrdcp
&#39;root&#58;//lutse1.lunet.edu&#58;1094//atlas/test/lutse1.lunet.edu-1M&#39;
/var/tmp/osgrsv/xroot-probe-test-dirHdLieX/xrdcpdirect
[0B/0B][100%][==================================================][0B/s]
Run&#58; [FATAL] Auth failed

EOT

No records have been generated because --test was used.
[root@lutgw1 config.d]# osg-version
OSG 3.3.15

I can&#39;t find any documentation on configuring rsv for these probes.  I don&#39;t known what auth is failing.  With a voms-proxy for usatlas I have no problem using xrootd.  Is there some documentation for configuring these xrootd probes?  Any idea why the failure complains &#34;auth failed&#34;?  Am I trying to do something which can&#39;t be done? Any advice is appreciated. thanks,

joel snow
</div><script type='text/javascript'>
        $('#show_1097351598').click(function() {
            $('#detail_1097351598').slideDown("normal");
            $('#show_1097351598').hide();
            $('#hide_1097351598').show();
        });
        $('#hide_1097351598').click(function() {
            $('#detail_1097351598').slideUp();
            $('#hide_1097351598').hide();
            $('#show_1097351598').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F31165">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 31165});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
