<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[25976] Please send Glidein pilots to UCSB_CE</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=25976" method="post">
<div class="page-header">
    <h3><span class="muted">25976</span> / Please send Glidein pilots to UCSB_CE</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Christopher West</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Christopher West</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2015-07-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=25976", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/25976?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/25976?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Please%20send%20Glidein%20pilots%20to%20UCSB_CE%20ISSUE%3D25976%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='25976#1435684746'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-30T17:19:06+00:00">Jun 30, 2015 05:19 PM UTC</time><a class="anchor" name="1435684746">&nbsp;</a></div><pre>Chris,

Everything looks good from out end. I&#39;m going to go ahead and close out this ticket. If you need further help from us when you expand the site, you can open another ticket then and/or contact us at osg-gfactory-support@.....

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='25976#1435684611'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-30T17:16:51+00:00">Jun 30, 2015 05:16 PM UTC</time><a class="anchor" name="1435684611">&nbsp;</a></div><pre>Hi Elizabeth,

&#39;Running&#39; is the number of running glideins; &#39;user running&#39; is the number of user jobs being run by the glideins --- I think.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='25976#1435597638'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-29T17:07:18+00:00">Jun 29, 2015 05:07 PM UTC</time><a class="anchor" name="1435597638">&nbsp;</a></div><pre>From the factory side of things, it looks like the site was running fine over the weekend. Glideins have been starting up and running user jobs to completion. I think the fact it&#39;s only two worker nodes doing all the work may be causing some numbers to appear exaggerated on the monitoring graphs (like the amount of glideins going unmatched). We&#39;ll keep an eye on it, and let us know when more nodes get added so that we can see how they fare.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='25976#1435349418'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-26T20:10:18+00:00">Jun 26, 2015 08:10 PM UTC</time><a class="anchor" name="1435349418">&nbsp;</a></div><pre>Hi Elizabeth,

As far as I can tell, everything is working correctly, but monitoring information may look strange. I submitted actual analysis jobs as a test and because they were all started simultaneously and use all available cores for several hours, there are no free slots for long periods. Of course, this wouldn&#39;t happen once we start adding worker nodes and the jobs aren&#39;t accidentally all the same length.

Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25976#1435346460'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-26T19:21:00+00:00">Jun 26, 2015 07:21 PM UTC</time> by <b>echism</b><a class="anchor" name="1435346460">&nbsp;</a></div><pre>Marty,

I think the format has changed since the last time I looked at this, so I&#39;m a little confused. What&#39;s the difference between running and user running? I can&#39;t tell if glideins are working or not.

Thank you</pre></div><div class='update_description'><i onclick="document.location='25976#1435264167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-25T20:29:27+00:00">Jun 25, 2015 08:29 PM UTC</time><a class="anchor" name="1435264167">&nbsp;</a></div><pre>Hi Chris,

I&#39;ve pushed your UCSB entry out to the CERN (vocms0305.cern.ch), GOC (glidein.grid.iu.edu), and SDSC (gfactory-1.t2.ucsd.edu) production factories. You should now begin to see glideins run regularly at the site. We&#39;ll monitor their progress over the next few days to see if we encounter any issues. If early next week, there hasn&#39;t been any issue, we can close this ticket out then. For your own reference, you can monitor glideins at UCSB from the factory monitoring pages [1] [2] [3].

Marty Kandes
UCSD Glidein Factory Operations

[1]

<a href='http&#58;//vocms0305.cern.ch/monitor/factoryEntryStatusNow.html?entry=CMS_T3_US_UCSB' target='_blank' rel='nofollow'>http&#58;//vocms0305.cern.ch/monitor/factoryEntryStatusNow.html?entry=CMS_T3_US_UCSB</a>

[2]

<a href='http&#58;//glidein.grid.iu.edu/factory/monitor/factoryEntryStatusNow.html?entry=CMS_T3_US_UCSB' target='_blank' rel='nofollow'>http&#58;//glidein.grid.iu.edu/factory/monitor/factoryEntryStatusNow.html?entry=CMS_T3_US_UCSB</a>

[3]

<a href='http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryEntryStatusNow.html?entry=CMS_T3_US_UCSB' target='_blank' rel='nofollow'>http&#58;//gfactory-1.t2.ucsd.edu/factory/monitor/factoryEntryStatusNow.html?entry=CMS_T3_US_UCSB</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='25976#1435257124'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-25T18:32:04+00:00">Jun 25, 2015 06:32 PM UTC</time><a class="anchor" name="1435257124">&nbsp;</a></div><pre>Hi Brendan,

I have run analysis jobs successfully at my site using the ITB. Also, could you increase the maximum wall time to 48 hours when moving to the production factories?

Thanks,
Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25976#1435209918'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-25T05:25:18+00:00">Jun 25, 2015 05:25 AM UTC</time><a class="anchor" name="1435209918">&nbsp;</a></div><pre>Hi Brendan,

Could you move the site to the production factories? I think that would be easier.

Thanks,
Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25976#1435206538'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-25T04:28:58+00:00">Jun 25, 2015 04:28 AM UTC</time><a class="anchor" name="1435206538">&nbsp;</a></div><pre>Hey Chris,

If the test jobs we send are running fine (which it looks like they are), then that&#39;s pretty much all that needs to be done before we&#39;re ready to move it on to the production factories. We could do it now with just the two nodes, or we can wait until you expand the site, whatever works best for your tests.

Brendan Dennis
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Brendan Dennis 2659</pre></div><div class='update_description'><i onclick="document.location='25976#1435191213'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-25T00:13:33+00:00">Jun 25, 2015 12:13 AM UTC</time><a class="anchor" name="1435191213">&nbsp;</a></div><pre>Hi Marty,

Thanks for your help. What is needed to move from the ITB to the production instance? Are there requirements that need to be met or can we move whenever we think that we&#39;re ready?

Chris

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=cawest/CN=709677/CN=Christopher West</pre></div><div class='update_description'><i onclick="document.location='25976#1435098665'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-23T22:31:05+00:00">Jun 23, 2015 10:31 PM UTC</time><a class="anchor" name="1435098665">&nbsp;</a></div><pre>Hi Chris,

I&#39;ve created an entry for UCSB on the GOC-ITB factory for you to use while you&#39;re still in the testing phase. I was able to successfully run some test jobs through the ITB factory to UCSB from our test frontend. Please let us know if you need any further assistance from us during your tests.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='25976#1435082302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-23T17:58:22+00:00">Jun 23, 2015 05:58 PM UTC</time> by <b>echism</b><a class="anchor" name="1435082302">&nbsp;</a></div><pre>I&#39;m adding glidein support to this ticket.

Thank you</pre></div><div class='update_description'><i onclick="document.location='25976#1435081636'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-06-23T17:47:16+00:00">Jun 23, 2015 05:47 PM UTC</time> by <b>echism</b><a class="anchor" name="1435081636">&nbsp;</a></div><pre>Hi,

Could you start sending glidein pilots to UCSB_CE? Until the site is essentially fully functional, we will only be running a test setup with two worker nodes so could you only send individual pilots? Here is the information that is requested on the installation twiki (<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOverview' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOverview</a>)&#58;

• The type of CE (GRAM vs HTCondor CE)&#58; HTCondor
• The CE&#39;s hostname&#58; cms25.physics.ucsb.edu
• Resource/WLCG name&#58; UCSB_CE
• Distro version of your worker nodes i.e., EL5, EL6, or a mix of both? EL6
• Do your worker nodes use glexec? yes
• Do you accept multicore jobs? no
• Maximum job walltime&#58; 24 hours
• Maximum job memory usage&#58; 2000 MB

Thanks,
Chris</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F25976">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 25976});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
