<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9208] GOC Ticket Bugs / Requests</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9208" method="post">
<div class="page-header">
    <h3><span class="muted">9208</span> / GOC Ticket Bugs / Requests</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Terrence Martin</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-09-17</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9208", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9208?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/9208?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20GOC%20Ticket%20Bugs%20%2F%20Requests%20ISSUE%3D9208%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9208#1288286592'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-28T17:23:12+00:00">Oct 28, 2010 05:23 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1288286592">&nbsp;</a></div><pre>All RSV stuff is being turned over to VDT</pre></div><div class='update_description'><i onclick="document.location='9208#1285083128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-21T15:32:08+00:00">Sep 21, 2010 03:32 PM UTC</time> by <b>Scott Kronenfeld</b><a class="anchor" name="1285083128">&nbsp;</a></div><pre>Those states are specific to the HTML consumer.  A metric itself will
only produce the first 4 states, never &#34;old&#34; or &#34;no data&#34;.

I&#39;ll clarify the language on that twiki page.

On Tue, Sep 21, 2010 at 10&#58;08 AM, Open Science Grid FootPrints
&#60;osg@....&#62; wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9208#1285081709'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-21T15:08:29+00:00">Sep 21, 2010 03:08 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1285081709">&nbsp;</a></div><pre>FYI

I was reading some documentation and accidentally stumbled across following doc
<font color='#7F7E6F'>&#62; <a href='https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/RSVArchitecture' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/MonitoringInformation/RSVArchitecture</a></font>

Metrics can produce six states&#58;

Success&#58; The metric ran successfully
Warning&#58; The metric produced one or more some warnings
Critical&#58; The metric failed
Unknown&#58; The metric produced an unknown result. This usually means that the metric can&#39;t determine what happened.
Old&#58; The metric is enabled, but it has not run for more than 24 hours
No data&#58; The metric is enabled, but there is no data available yet. It probably has never run.

I am not sure how accurate this information is, but this is the first time I have ever seen such definitions. I am also surprised to see status such as &#34;Old&#34; or &#34;No data&#34;. We don&#39;t handle such status at all at GOC, and if RSV metric ever produce such status it will be a problem.</pre></div><div class='update_description'><i onclick="document.location='9208#1284747279'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-17T18:14:39+00:00">Sep 17, 2010 06:14 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284747279">&nbsp;</a></div><pre>Removing me from this ticket.</pre></div><div class='update_description'><i onclick="document.location='9208#1284641214'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-16T12:46:54+00:00">Sep 16, 2010 12:46 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1284641214">&nbsp;</a></div><pre>This ticket has raised larger issues, we need a precise definition as to the meaning of the various return values and then need to apply that consistently across all metrics. I (Scott) will look into obtaining such a definition and how to approach the problem of standardization.
SWT</pre></div><div class='update_description'><i onclick="document.location='9208#1284498906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-14T21:15:06+00:00">Sep 14, 2010 09:15 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1284498906">&nbsp;</a></div><pre>That is an example of absolutely where the status should not be UNKNOWN. It
should be WARNING&#58; Could not connect to the gratia collector. UNKNOWN is when
something is UNKNOWN, not when the actual problem is KNOWN. If it is KNOWN it
should be a) WARNING, b) ERROR, c) OK.

As for that example a site should not be held responsible for the OSG gratia
collector being down which it will be if this test comes up UNKNOWN. In that
specific case that WARNING status should trigger something at the OSG so they
known to open a ticket on the target GRATIA server.

It seems to me that currently UNKNOWN is massively overused, while WARNING is
very much underutilized. The fact that UNKNOWN is gray in color, somewhat
appropriate for a gray area of status, is itself a problem. Even visually
UNKNOWN is a problematic status at best.

Terrence

On Tuesday, September 14, 2010 01&#58;33&#58;00 pm you wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9208#1284498728'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-14T21:12:08+00:00">Sep 14, 2010 09:12 PM UTC</time><a class="anchor" name="1284498728">&nbsp;</a></div><pre>Hi Soichi,

Yes, the last comment was Brian.  I&#39;m logged in from the web interface, so I don&#39;t know why it didn&#39;t identify me...

While there&#39;s no benefit for RSV process, this is what the WLCG requires.  If they didn&#39;t, we&#39;d be free to adjust things according to a set of rules we find more reasonable.

Brian</pre></div><div class='update_description'><i onclick="document.location='9208#1284496814'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-14T20:40:14+00:00">Sep 14, 2010 08:40 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284496814">&nbsp;</a></div><pre>I wonder who made the last comment? Maybe Brian?

Well, what I am saying is, if probe cannot determine the status of the service, it shouldn&#39;t output anything; it shouldn&#39;t send us &#34;UNKNOWN&#34; as status. For RSV Process, it can correctly treat the resource status as &#34;UNKNOWN&#34; if no data has been received for certain amount of time. So there is no benefit of probe sending us &#34;UNKNOWN&#34; explicitly.</pre></div><div class='update_description'><i onclick="document.location='9208#1284496418'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-14T20:33:38+00:00">Sep 14, 2010 08:33 PM UTC</time><a class="anchor" name="1284496418">&nbsp;</a></div><pre>Hi,

UNKNOWN status is reserved for when the probe cannot determine the status of the service.

For an example of a time where UNKNOWN should be reported but the probe doesn&#39;t need a change&#58; if a probe is checking the health of the CE&#39;s gratia install, it will contact the OSG Gratia collector to see the last time the CE checked in.  If the Gratia collector is down, there&#39;s no way to determine the output and the probe should go UNKNOWN.

The WLCG&#39;s rules are that after 24hours of UNKNOWN on a critical probe that the site is considered down.  OSG has no control over these rules.

It&#39;s in OSG interest to reduce the number of UNKNOWNs as much as possible, but there are legit cases for this status code and the site admin needs to watch for them also or the WLCG will penalize you.</pre></div><div class='update_description'><i onclick="document.location='9208#1284403949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-13T18:52:29+00:00">Sep 13, 2010 06:52 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284403949">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; UNKNOWN is reflecting internal probe problems and should generate OSG action when they occur.</font>
I *always* thought of this.. what the heck is &#34;UNKNOWN&#34; status anyway!? If probe fails to gather information, it shouldn&#39;t report anything - it should just keep it quiet (I guess someone wanted to differentiate sites where no RSV is running, and RSV is running is but failing to compute the status -- if it&#39;s later, someone just needs to fix it.. UNKNOWN shouldn&#39;t be a legitimate &#34;status&#34; in this case).

I am not even sure if there is a clear definition of what each state means and when they should be used or not used in RSV.

I believe our action items are.

1) Update directory permission prove so that it will skip tests for directories set to &#34;UNAVAILABLE&#34;.
2) Add more sub testings inside SRM copy probe so that it can diagnose the exact cause of error.
3) On all RSV probes, if it generates &#34;UNKNOWN&#34; status, it should print the debug output & owner who might be interested in that log (most likely a probe owner).

Scott,

Who should we assign these action items?

Soichi</pre></div><div class='update_description'><i onclick="document.location='9208#1284145521'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-10T19:05:21+00:00">Sep 10, 2010 07:05 PM UTC</time><a class="anchor" name="1284145521">&nbsp;</a></div><pre>Actually I am not saying &#34;innocent until proven guilty&#34; for the site. I am saying that UNKNOWN is OSG == guilty.

If it was just the initial SRM tests inability to interpret even the most basic srmcp error I would not have had an issue. In fact I mostly ignored the problem at the OSG.  The probe problems did result in several days of erroneous reports at the site while we ran literally 10s of thousands of jobs successfully at the site.

However this OSG_DATA probe problem is entirely the result of the probe both returning an UNKNOWN, when it should be returning green, and the MyOSG reporting this UNKNOWN state as a defacto error because the MyOSG is lumping UNKNOWNs together as if all are equal.

The responsibility in this case lies with the OSG, the probe, and the interpretation of the results. This is most definitely not what I want to deal with as a site administrator, and I suspect most site administrators would agree.

What I am suggesting is that based on what I am seeing with the current state of the probes is that UNKNOWN is reflecting internal probe problems and should generate OSG action when they occur.

What we really do not want to happen is for site administrators to be hacking the probes to get them green.</pre></div><div class='update_description'><i onclick="document.location='9208#1284143370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-10T18:29:30+00:00">Sep 10, 2010 06:29 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284143370">&nbsp;</a></div><pre>CC-ing Scot K on this one as well.. (I just want to keep him in the loop as much as possible)</pre></div><div class='update_description'><i onclick="document.location='9208#1284143302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-10T18:28:22+00:00">Sep 10, 2010 06:28 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1284143302">&nbsp;</a></div><pre>As I said on the <a href='9207.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=9207</a>, I believe we need to fix OSG_DATA issue, and I agree that we should make SRM copy test probe more intelligent.

There are 2 different purposes for any monitoring system.

Purpose 1) Run the probe to prove that the site is up and running - innocent until proven guilty (this is what you are suggesting)
Purpose 2) Run the probe to find any issues or potential issues - guilty until proven innocent (this is what most sys. admins want)

From my experience, these 2 purposes can not be served simultaneously by the same set of probes. So, modifying our RSV probes goes only so far, and I believe we need to separate our probes into 2 groups based on their intended purposes. GOC has concept of &#34;critical&#34; and &#34;non-critical&#34; probes (as you might be familiar via MyOSG), I believe all &#34;critical&#34; probes needs to be implemented with Purpose 1 in mind, and &#34;non-critical&#34; purpose 2.

MyOSG uses an algorithm where, if UNKNOWN status is reported, it will use last-Non-UNKNOWN status within configured threshold. This allows UNKNOWN status to be *ignored* for certain amount of time which accomplishes part of what you are suggesting. I am pointing this out to you, because we can change the logic at probe level as well as at the reporting level.. If we can use different logics for different consumers, then it might be possible to use the same set of probes for both purposes, yet interpret them differently for each consumers.

What are your thoughts?</pre></div><div class='update_description'><i onclick="document.location='9208#1284140776'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-10T17:46:16+00:00">Sep 10, 2010 05:46 PM UTC</time> by <b>Terrence Martin</b><a class="anchor" name="1284140776">&nbsp;</a></div><pre>This is a ticket to bring up the issue of Unknown state RSV probes resulting in RSV reports with N/A results.

RSV reports of site N/A for Unknown probe results reflects not on the site, but on the probe not interpreting results, or an internal probe error. If a probe is certain of an error it should result in a red or error state, if it is unsure it can show unknown, but that uncertainty should give the benefit of the doubt to the site, rather than assuming that the site is down which is the current state.

In two cases now I have seen internal problems with RSV probes either mis-interpreting the results of an SRM test, or in the case of OSG_DATA testing return an Unknown state, and therefore an error state to the report when not only is OSG_DATA optional, but set to UNAVAILABLE.

A correct rule in the latter case of the OSG_DATA test would be to note it is not there, and ignore it since the area is optional. The test should only error if the path exists and has bad permissions. There should be no UNKNOWN.

In the case of the SRM copy test the problem was easily found to be a permission problem with a manual SRM copy, but the probe returned an UNKNOWN state after a 300s timeout error. If the probe doesn&#39;t really know it should be ignored, if it does know, in this case there was a permission failed to write error, it should report that as an error and show red.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9208">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 9208});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
