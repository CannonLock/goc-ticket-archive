<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[4785] Gratia reporting errors with LIGO</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=4785" method="post">
<div class="page-header">
    <h3><span class="muted">4785</span> / Gratia reporting errors with LIGO</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brian Moe</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closing this ticket - SC reported the issue is/will be resolved with future s/w update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-04-23</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/4785", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='4785#1209128918'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-25T13:08:38+00:00">Apr 25, 2008 01:08 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1209128918">&nbsp;</a></div><pre>Hi Brian &amp; Chris,

Ok, I am closing out this GOC ticket. Once 1.0 / the Gratia update comes out, if you
still see this problem, drop us a line, and we can re-open the ticket or open a new one.

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='4785#1209006429'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-24T03:07:09+00:00">Apr 24, 2008 03:07 AM UTC</time> by <b>Brian Moe</b><a class="anchor" name="1209006429">&nbsp;</a></div><pre>Hi Arvind, Chris,

I don&#39;t have a problem with closing this ticket.

It seems the problem is understood and will likely be resolved
when we do an upgrade (and maybe follow some extra instructions).
Until that time I see no need to have an open ticket hanging around.

Thanks,

Brian

On Wed, Apr 23, 2008 at 03&#58;52&#58;00PM +0000, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4785#1208965920'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-23T15:52:00+00:00">Apr 23, 2008 03:52 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1208965920">&nbsp;</a></div><pre>Chris and Brian,

It sounds to me that this issue can be fixed only with the release of OSG 1.0 (and
when that&#39;s installed on this resource).

Is it reasonable to close this ticket, and revisit this issue at a later stage?

Is there an upgrade that Brian will be able to do around this time so he does not
have to upgrade to 1.0 just to fix this issue?

Let me know if you&#39;d like to keep this ticket open. And when a resolution can be
expected.

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='4785#1208809508'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-21T20:25:08+00:00">Apr 21, 2008 08:25 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1208809508">&nbsp;</a></div><pre>-------- Original Message --------
Subject&#58; 	Re&#58; University of Milwaukee and Gratia reporting
Date&#58; 	Tue, 08 Apr 2008 16&#58;50&#58;35 -0500
From&#58; 	Chris Green &#60;greenc@....&#62;
To&#58; 	Scott Koranda &#60;skoranda@....&#62;
CC&#58; 	Ruth &#60;ruth@....&#62;, Philippe Canal &#60;pcanal@....&#62;, &#34;Warren G.
Anderson&#34; &#60;warren@....&#62;, Kent Blackburn
&#60;kent@....&#62;, Patrick Brady &#60;patrick@....&#62;,
Britta Daudert &#60;bdaudert@....&#62;, Miron Livny
&#60;miron@....&#62;, Thomas Radke &#60;tradke@....&#62;
References&#58; 	&#60;47FA7C8C.60501@....&#62; &#60;47FBA1AA.1080805@....&#62;
&#60;20080408184301.GV9859@....&#62; &#60;47FBC42F.1070309@....&#62;
&#60;20080408195021.GX9859@....&#62;

Scott Koranda wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; (I am copying Warren Anderson and Kent Blackburn since they</font>
<font color='#7F7E6F'>&#62; have been involved with the E@H effort on OSG, and Patrick</font>
<font color='#7F7E6F'>&#62; Brady since he was the one looking for the jobs on Gratia.)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
... and I&#39;m copying Britta, Miron, Thomas Radke and the User Support
Group -- time for a merging of (three? four?) threads, I think.
<font color='#7F7E6F'>&#62;&#62; The first thing to mention is that Gratia never gets to hear about jobs</font>
<font color='#7F7E6F'>&#62;&#62; until they are complete (but usually within 15 minutes of that).</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62; Aha. That makes sense then.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Unfortunately for this context, the jobs will rarely (if ever)</font>
<font color='#7F7E6F'>&#62; &#34;complete&#34;. These are Einstein@Home jobs and they will just</font>
<font color='#7F7E6F'>&#62; keep running forever.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; As I understand it, if they are forced to quit they checkpoint</font>
<font color='#7F7E6F'>&#62; and when started again later they pick up from where they left</font>
<div id='show_963040832' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_963040832'><font color='#7F7E6F'>&#62; off.</font>
<font color='#7F7E6F'>&#62;</font>
This is OK for a given definition of, &#34;complete.&#34; Gratia hears about the
Condor job after it ends, so regardless of whether any check-pointing
occurs the (large) WallDuration of the job after it dies will be accounted.

However, this may explain not only why LIGO reporting in OSG is sparse;
but why so many of these jobs are categorized as failures by the Gratia
system -- if the most likely scenario is that the job &#34;dies&#34;, then
Condor will record a non-zero exit value for the job.
<font color='#7F7E6F'>&#62; So it is unlikely they are going to show up in Gratia any time</font>
<font color='#7F7E6F'>&#62; soon. I will bring this up with Miron and others and see how</font>
<font color='#7F7E6F'>&#62; best to move this issue forward.</font>
<font color='#7F7E6F'>&#62;</font>
&#60;snip&#62;
<font color='#7F7E6F'>&#62;&#62; Note also that whether WS (GT4) jobs are reported depends on what</font>
<font color='#7F7E6F'>&#62;&#62; version of Condor is running and how it is configured. If you are</font>
<font color='#7F7E6F'>&#62;&#62; missing WS GRAM jobs, then we can try to work something out with a</font>
<font color='#7F7E6F'>&#62;&#62; pre-release version of the probe.&#60;br&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62; These are submitted via WS-GRAM.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Can you provide details on what I need to check with the</font>
<font color='#7F7E6F'>&#62; WS-GRAM/Condor configuration?</font>
<font color='#7F7E6F'>&#62;</font>
It is my understanding that, in order to be able to report WS-GRAM jobs
properly as site must&#58;

1. Be running condor version &#62;6.9.0 on their gatekeeper.
2. Have their Condor configuration variable PER_JOB_HISTORY_DIR set
to $VDT_LOCATION/Gratia/var/data.
3. Be running (I think) OSG 0.6.0 or better.

Unfortunately, we have been unable to find a way of automatically
setting (2) since typically we cannot guarantee that a site is using the
bundled condor; or that any configuration change we might make will not
conflict with something the sysAdmin has done. This therefore is a
manual step and thus far very few administrators have done this. Of
course, Condor 6.9.0 as a batch manager has not up to now been bundled
with the OSG stack (coming with OSG 1.0) anyway.

So as an executive summary, this post touches on&#58;

1. Reported under-logging of LIGO jobs specifically at UWM.
2. Gratia reporting of WS-GRAM jobs.
3. LIGO jobs reported by Gratia as failed.

In addition, with relevance to LIGO&#58;

* Gratia has a VO translation table&#58; the information Gratia receives
has the, &#34;voi&#34; and &#34;VOc&#34; information from the osg-user-vo-map.txt
file (which will eventually become FQAN and VO from the delegated
proxy where it exists, respectively). Different combinations of
these values are mapped as intuitively as possible to a particular
name for the VO. This mapping can be changed administratively but
is usually pretty good. As of right now, anything LIGO-like gets
mapped to lower-case, &#34;ligo.&#34; This includes (based on information
received) the somewhat unlikely name, &#34;ux001.&#34; I do not know
whether Brian&#39;s reporting tool does this operation or not.

Please let me know if you (or anyone) has further questions or problems.

Thanks,
Chris.

<font color='#7F7E6F'>&#62; Thanks much,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Scott</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
Chris Green &#60;greenc@....&#62;, FNAL CD/SCF/GRID; &#39;phone (630) 840-2167.
IRC&#58; greenc@...., ChrisGreen@....;
chissgreen (AIM, Yahoo); chissg@.... (MSNM);
chris.h.green (Google Talk).
</div><script type='text/javascript'>
        $('#show_963040832').click(function() {
            $('#detail_963040832').slideDown("normal");
            $('#show_963040832').hide();
            $('#hide_963040832').show();
        });
        $('#hide_963040832').click(function() {
            $('#detail_963040832').slideUp();
            $('#hide_963040832').hide();
            $('#show_963040832').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4785#1208808069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-21T20:01:09+00:00">Apr 21, 2008 08:01 PM UTC</time> by <b>Chris Green</b><a class="anchor" name="1208808069">&nbsp;</a></div><pre>Hi,

There has been correspondence on this matter outside the ticketing system&#58; I include the summary email as an attachment. If there are remaining questions or the email does not appear to be applicable in some way, please let me know and I will try to tie up remaining issues. Basically, there are a multitude of reasons why LIGO reporting is inadequate on this site&#58;
They could be (are, I believe) WS-GRAM jobs and you are not running a properly configured condor &gt;=6.9.0. They could be mis-mapped in osg-user-vo-map.txt CPU time might be underreported due to the exact nature of the applications being run (subshells, etc, etc).
I think in this case you are dealing with (1). OSG 1.0 will contain updates that should alleviate this problem.

Thanks,
Chris.

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='4785#1208790481'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-21T15:08:01+00:00">Apr 21, 2008 03:08 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1208790481">&nbsp;</a></div><pre>Ticket update&#58; Spoke to Chris this morning about this stale ticket. He&#39;s promised to
look into it today .... --Arvind</pre></div><div class='update_description'><i onclick="document.location='4785#1208201985'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-14T19:39:45+00:00">Apr 14, 2008 07:39 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1208201985">&nbsp;</a></div><pre>Hi Chris,

Amidst your falling sick, and losing your workstation, this ticket has been open for
almost 4 weeks now. Can you look into this, ASAP? Thanks!

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='4785#1207654157'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-08T11:29:17+00:00">Apr 8, 2008 11:29 AM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1207654157">&nbsp;</a></div><pre>Hi Brian,

I spoke to Chris yesterday. He had just come back to work after recovering from the
flu, and on top of that he said his computer crashed. So you might not yet hear from
him today ... but I will remind him if he does not get back by coming Monday.

Cheers,
Arvind</pre></div><div class='update_description'><i onclick="document.location='4785#1207588384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-04-07T17:13:04+00:00">Apr 7, 2008 05:13 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1207588384">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62;</font></pre></div><div class='update_description'><i onclick="document.location='4785#1206975703'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-31T15:01:43+00:00">Mar 31, 2008 03:01 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1206975703">&nbsp;</a></div><pre>Setting NAD ... -AG</pre></div><div class='update_description'><i onclick="document.location='4785#1206739868'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-28T21:31:08+00:00">Mar 28, 2008 09:31 PM UTC</time> by <b>Chris Green</b><a class="anchor" name="1206739868">&nbsp;</a></div><pre>I haven&#39;t had time to look at this -- I will try to investigate and
report Monday.

Thanks,
Chris.

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4785#1206738792'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-28T21:13:12+00:00">Mar 28, 2008 09:13 PM UTC</time> by <b>Chris Green</b><a class="anchor" name="1206738792">&nbsp;</a></div><pre>Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='4785#1206735351'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-28T20:15:51+00:00">Mar 28, 2008 08:15 PM UTC</time> by <b>echism</b><a class="anchor" name="1206735351">&nbsp;</a></div><pre>Hello Gratia-ops,

Do you have any updates on this issue?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='4785#1206374775'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-24T16:06:15+00:00">Mar 24, 2008 04:06 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1206374775">&nbsp;</a></div><pre>Hi Brian,

This is mainly in Gratia-ops&#39; court but I&#39;ll pitch in with a couple of points since
you&#39;ve referred to the RSV collector.

<font color='#7F7E6F'>&#62; I follow the ValidateGratia page at&#58;</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/ValidateGratia' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/ValidateGratia</a></font>
<font color='#7F7E6F'>&#62; Apparently, we are reporting&#58;</font>

Or so it appears to me &#58;-)

<font color='#7F7E6F'>&#62; It tells me to run gratia-site-diag, which I do. It complains that the &#34;metric&#34;</font>
<font color='#7F7E6F'>&#62; probe is reporting to rsv.grid.iu.edu&#58;8880 -- but I think that that is correct, no?</font>

Yes, that&#39;s correct - the metric probe reports RSV results to the GOC RSV collector.

<font color='#7F7E6F'>&#62; Continuing with the ValidateGratia page, I come to be confused. It tells me to</font>
<font color='#7F7E6F'>&#62; check that reporting is operational by going to&#58;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//mygratiahost.example.com&#58' target='_blank' rel='nofollow'>http&#58;//mygratiahost.example.com&#58</a>;port/gratia-reporting/</font>
<font color='#7F7E6F'>&#62; which I&#39;m assuming would be <a href='http&#58;//nest.phys.uwm.edu&#58;8080/gratia-reporting/' target='_blank' rel='nofollow'>http&#58;//nest.phys.uwm.edu&#58;8080/gratia-reporting/</a></font>
<font color='#7F7E6F'>&#62; or <a href='https&#58;//nest.phys.uwm.edu&#58;8443/gratia-reporting/.' target='_blank' rel='nofollow'>https&#58;//nest.phys.uwm.edu&#58;8443/gratia-reporting/.</a> Neither work. (URL not found)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It then tells me to look under $VDT_LOCATION/tomcat for log files. There is</font>
<font color='#7F7E6F'>&#62; nothing under tomcat that looks anything like gratia. Also, under some other</font>
<font color='#7F7E6F'>&#62; Gratia guides, it mentions MySQL -- there is no MySQL database with anything</font>
<font color='#7F7E6F'>&#62; like Gratia data in it running on our site.</font>
<font color='#7F7E6F'>&#62; Is Gratia even installed here?! *Something* is reporting nanohub and engage</font>
<font color='#7F7E6F'>&#62; jobs to the collector. Why not LIGO jobs?</font>

Chris et al. can confirm this but I suspect the instructions are confusing and that
mislead you. The above stuff, you&#39;re talking about, all appear to be related to a
Gratia collector (i.e gratia.opensciencegrid.org for accounting, rsv.grid.iu.edu for
RSV) ... and not related to a site-level gratia-reporter interface. I have no idea
why those instructions are part of the reporting documentation though - I&#39;ve not
looked at it to confirm...
<div id='show_1440778074' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1440778074'>
Chris, Gratia team, can you please respond to Brian&#39;s questions about accounting data
re&#58; LIGO jobs?

Thanks,
Arvind
</div><script type='text/javascript'>
        $('#show_1440778074').click(function() {
            $('#detail_1440778074').slideDown("normal");
            $('#show_1440778074').hide();
            $('#hide_1440778074').show();
        });
        $('#hide_1440778074').click(function() {
            $('#detail_1440778074').slideUp();
            $('#hide_1440778074').hide();
            $('#show_1440778074').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4785#1206041929'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-03-20T19:38:49+00:00">Mar 20, 2008 07:38 PM UTC</time> by <b>echism</b><a class="anchor" name="1206041929">&nbsp;</a></div><pre>I&#39;m having trouble with Gratia.  It appears to be reporting *something*,
but not everything it should.

When I go to the Gratia report page, I see activity for nanohub and engage,
but not for ligo, which has been running a lot of jobs recently.  In fact,
I don&#39;t see *any* LIGO jobs in the Gratia reports for any time period.

I follow the ValidateGratia page at&#58;

<a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/ValidateGratia' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/ValidateGratia</a>

Apparently, we are reporting&#58;

<a href='http&#58;//gratia.opensciencegrid.org&#58;8880/gratia-administration/monitor-status.html?sitename=UWMilwaukee' target='_blank' rel='nofollow'>http&#58;//gratia.opensciencegrid.org&#58;8880/gratia-administration/monitor-status.html?sitename=UWMilwaukee</a>
gives&#58;
condor&#58;nest.phys.uwm.edu&#58; last-contact=2008-03-20 18&#58;37&#58;13

It tells me to run gratia-site-diag, which I do.  It complains that the &#34;metric&#34;
probe is reporting to rsv.grid.iu.edu&#58;8880 -- but I think that that is correct, no?
It says the &#34;condor&#34; probe is fine -- this is the one I think is faulty.

It also tells me that there are &#34;9 unsent XML files in
/opt/osg/grid/gratia/var/tmp/gratiafiles&#34;
I follow the instructions on&#58;
<a href='https&#58;//twiki.grid.iu.edu/twiki/bin/view/Accounting/TroubleShootingInstructions' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/twiki/bin/view/Accounting/TroubleShootingInstructions</a>
and run &#34;gratia-repair-tmpfiles&#34;.  It appears to rename the xml files in
/opt/osg/grid/gratia/var/tmp/gratiafiles.
(They remain after the next run of the gratia probes)

Continuing with the ValidateGratia page, I come to be confused.  It tells me to
check that reporting is operational by going to&#58;

<a href='http&#58;//mygratiahost.example.com&#58' target='_blank' rel='nofollow'>http&#58;//mygratiahost.example.com&#58</a>;port/gratia-reporting/

which I&#39;m assuming would be <a href='http&#58;//nest.phys.uwm.edu&#58;8080/gratia-reporting/' target='_blank' rel='nofollow'>http&#58;//nest.phys.uwm.edu&#58;8080/gratia-reporting/</a>
<div id='show_2066208862' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2066208862'>or <a href='https&#58;//nest.phys.uwm.edu&#58;8443/gratia-reporting/.' target='_blank' rel='nofollow'>https&#58;//nest.phys.uwm.edu&#58;8443/gratia-reporting/.</a>  Neither work. (URL not found)

It then tells me to look under $VDT_LOCATION/tomcat for log files.  There is
nothing under tomcat that looks anything like gratia.  Also, under some other
Gratia guides, it mentions MySQL -- there is no MySQL database with anything
like Gratia data in it running on our site.

Is Gratia even installed here?!  *Something* is reporting nanohub and engage
jobs to the collector.  Why not LIGO jobs?

Anyway.  Thanks for any help.

Brian
</div><script type='text/javascript'>
        $('#show_2066208862').click(function() {
            $('#detail_2066208862').slideDown("normal");
            $('#show_2066208862').hide();
            $('#hide_2066208862').show();
        });
        $('#hide_2066208862').click(function() {
            $('#detail_2066208862').slideUp();
            $('#hide_2066208862').hide();
            $('#show_2066208862').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='4785#0'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="1970-01-01T00:00:00+00:00">Jan 1, 1970 12:00 AM UTC</time> by <b>Chris Green&#58;</b><a class="anchor" name="0">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; I haven&#39;t had time to look at this -- I will try to investigate and report Monday.</font>

Hi Chris,

I hope you have recovered from your flu. Have you had a chance to look at this
ticket? Please let us know if you have any updates. Thanks.

Cheers,
Arvind</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F4785">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
