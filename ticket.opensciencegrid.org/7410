<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[7410] Xrootd - Designing Site layout with xrootd</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=7410" method="post">
<div class="page-header">
    <h3><span class="muted">7410</span> / Xrootd - Designing Site layout with xrootd</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">neha sharma</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-09-23</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Neha Sharma <span class="muted"> / OSG Storage Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=7410", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7410?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/7410?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Xrootd%20-%20Designing%20Site%20layout%20with%20xrootd%20ISSUE%3D7410%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='7410#1253198549'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-17T14:42:29+00:00">Sep 17, 2009 02:42 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1253198549">&nbsp;</a></div><pre>Hi Neha,

As always, thanks for the reminder. &#58;)  It does answer my questions, so
I&#39;m set for the moment.

- --Sarah</pre></div><div class='update_description'><i onclick="document.location='7410#1253127262'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-16T18:54:22+00:00">Sep 16, 2009 06:54 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1253127262">&nbsp;</a></div><pre>Hi Sarah,

Xrootd will not stop working if CNS is down (well it will stop working
because normally the host also runs redirector). XrootdFS will hang unless
you remove XROOTD_CNSURL in xrootdfs startup script. Doing that means your
&#39;ls&#39; on directories will not return a list of files. There is also some
small penalty on mkdir() and stat() (and srmMkdir and srmLs) performance.

Running xrootfs without using CNS is always supported in the xrootdfs code,
but never got extensive usage.

If CNS is down, you can recover the missing entries from the data servers&#39;
cnsd.log. It CNS is lost, you will have to recover its content from data
servers. These are relatively manual process now (and that is way we want
SSI) and if you are interested, I can send you some scripts I am using to
handle some of the those cases.

The xrootd release you need for the new SSI feature is available at
<a href='http&#58;//xrootd.slac.stanford.edu' target='_blank' rel='nofollow'>http&#58;//xrootd.slac.stanford.edu</a> under &#39;development versions&#39; (20090904-0700)

Regards,
Wei Yang  |  yangw@....  |  650-926-3338(O)</pre></div><div class='update_description'><i onclick="document.location='7410#1252004698'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-03T19:04:58+00:00">Sep 3, 2009 07:04 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1252004698">&nbsp;</a></div><pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

Hi Andrew,

There&#39;s a point I failed to bring up in this discussion, and that&#39;s
become a snag.  In my previous setup the manager node was redirecting
certain requests to another xrootd process named xrootd_cnd - for
composite namespace daemon, I think?  The forwarding command looks like
this&#58;
ofs.forward 3way $(xrdr)&#58;2094 mv rm rmdir trunc

I guess in my setup I&#39;d have one cnd on each management server.  Would
the manager forward to it&#39;s local cnd, to both somehow, or ...?

I&#39;ve put the previous config files up here, as manager, cnd and server&#58;
<a href='http&#58;//www.mwt2.org/' target='_blank' rel='nofollow'>http&#58;//www.mwt2.org/</a>~sarah/xrootd/
master_xrootd.cfg is the file I&#39;m working with to create the combined
config file.

- --Sarah</pre></div><div class='update_description'><i onclick="document.location='7410#1252002785'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-09-03T18:33:05+00:00">Sep 3, 2009 06:33 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1252002785">&nbsp;</a></div><pre>Hi Sarah,

I think it is very useful. I think that attachments with xrootd/cnd/cmsd  configuration files for server and data
node would be also very helpful.

Thanks,
Tanya

----- Original Message -----
From&#58; Sarah Williams &#60;saewill@....&#62;
Date&#58; Tuesday, August 25, 2009 2&#58;40 pm
Subject&#58; Re&#58; Site layout with Xrootd
To&#58; Tanya Levshina &#60;tlevshin@....&#62;
Cc&#58; &#39;Brian Bockelman&#39; &#60;bbockelm@....&#62;, &#39;Andrew Hanushevsky&#39; &#60;abh@....&#62;, &#39;OSG STORAGE&#39;
&#60;osg-storage@....&#62;

-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

Hi Tanya,

This is basically my slides from the atlas t2/t3 meeting, with a few
details added.  Let me know if that&#39;s what you had in mind.
<a href='https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/BestmanGatewayXrootdUseCases' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/ReleaseDocumentation/BestmanGatewayXrootdUseCases</a>
I linked it under &#39;More Information&#39; on the BestmanGatewayXrootd topic.

- --Sarah

Tanya Levshina wrote&#58;
Hi,

I&#39;m enjoying watching your project from the sidelines.  Are you
keeping a twiki site where I can follow along?
I agree.
I have proposed to Sarah to create documentation on OSG twiki and
<div id='show_876438088' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_876438088'>link to it
from the Bestman/Xrootd Installation Documentation. Sarah, let us
know if
you need any help with that.

Thanks,
Tanya

-----Original Message-----
From&#58; owner-osg-storage@....
[mailto&#58;owner-osg-storage@....] On Behalf Of Brian Bockelman
Sent&#58; Tuesday, August 25, 2009 12&#58;26 PM
To&#58; Sarah Williams
Cc&#58; Andrew Hanushevsky; OSG STORAGE
Subject&#58; Re&#58; Site layout with Xrootd

Sarah,

I&#39;m enjoying watching your project from the sidelines.  Are you
keeping a twiki site where I can follow along?

I&#39;d also appreciate diagrams following your proposed layout once you

start to firm up plans - it&#39;d be nice to see a setup with no SPOF.

Brian

PS - Yes, I know I&#39;m basically just piling unnecessary work on you.

That&#39;s your punishment for tickling my curiosity.

On Aug 25, 2009, at 12&#58;21 PM, Sarah Williams wrote&#58;

Hi all,

Now that I&#39;ve got the network details (ports, tcp tunings) figured

out,
I&#39;m taking a stab at a layout for our site.  I&#39;ve read over the CMS
config document, which goes over several designs&#58;
<a href='http&#58;//xrootd.slac.stanford.edu/doc/dev/cms_config.htm' target='_blank' rel='nofollow'>http&#58;//xrootd.slac.stanford.edu/doc/dev/cms_config.htm</a>

I&#39;d like to have the system set up no single point of failure.  In the
document, I see that you can have managers set as load-balancing or
fail-over, but either gives you the fail-over capability.   Is there

an
advantage to fail-over mode?

- From our previous conversation, I think we need peered managers,

not a
tiered arrangement, since we&#39;re getting good wan performance and don&#39;t
want to keep duplicate copies of files.

We have &#62;64 data servers, so we&#39;ll need a supervisor in our layout.
I
guess our layout is closest to the &#39;99 Data Server Cluster&#39; layout,

but
I&#39;m not sure how to add fail-over to that.

At IU we have 44 regular data servers, and 3 high performance.  At

UC we
have 37 regular, 3 high performance.  Regular servers are 4-core, 8GB
mem, ~3TB storage with 1 core reserved for the storage service.  High
performance nodes are 8-core, 32GB mem, 48TB storage.

I would guess that what we need is to have a manager and supervisor
at
each site, and have the managers peered.  And that the managers and
supervisors would run on the high-performance nodes.

Does that make sense?

--Sarah

- --
Sarah Williams
saewill@....
(317) 274-0595
<a href='http&#58;//pgp.mit.edu&#58;11371/pks/lookup?op=get&amp' target='_blank' rel='nofollow'>http&#58;//pgp.mit.edu&#58;11371/pks/lookup?op=get&amp</a>;search=0x3E6F7BBA
-----BEGIN PGP SIGNATURE-----
Version&#58; GnuPG v1.4.7 (Darwin)
Comment&#58; Using GnuPG with Mozilla - <a href='http&#58;//enigmail.mozdev.org/' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org/</a>

iD8DBQFKlD432j+lnz5ve7oRAtxpAKCQ1O02Lt244/KiUav8/E6nrwhRawCdFfuf
SEbomJwpkR4tJo+iZ+Cuw7k=
=3S0Q
-----END PGP SIGNATURE-----
</div><script type='text/javascript'>
        $('#show_876438088').click(function() {
            $('#detail_876438088').slideDown("normal");
            $('#show_876438088').hide();
            $('#hide_876438088').show();
        });
        $('#hide_876438088').click(function() {
            $('#detail_876438088').slideUp();
            $('#hide_876438088').hide();
            $('#show_876438088').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='7410#1251315618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-26T19:40:18+00:00">Aug 26, 2009 07:40 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1251315618">&nbsp;</a></div><pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

Andrew Hanushevsky wrote&#58;
Hi Sarah,

We have &#62;64 data servers, so we&#39;ll need a supervisor in our layout. I
guess our layout is closest to the &#39;99 Data Server Cluster&#39; layout, but
I&#39;m not sure how to add fail-over to that.
Failover here means that you have enough extra supervisors to take over
connections from failing supervisors. I&#39;ll show you the calculation
based on what you said below.

At IU we have 44 regular data servers, and 3 high performance.  At UC we
have 37 regular, 3 high performance.  Regular servers are 4-core, 8GB
mem, ~3TB storage with 1 core reserved for the storage service.  High
performance nodes are 8-core, 32GB mem, 48TB storage.
IU has 47 data servers.
UC has 40 data servers.

Since you want a peered arrangement you will have a total of 87 servers.
That means a minimum of one supervisor. Why?
Each Manager has 64 slots less those taken up by supervisors (i.e., it
has 63) Each supervisor has 64 slots. So, 1 Manager plus one supervisor
= 127 available data server slots. You have 87 servers so, without
redundancy, no need to have more than one supervisor.

But, you don&#39;t want a single point of failure. If a supervisor dies you
wind up with 64 available slots. Recall, peered managers don&#39;t add extra
slots. So, you need at least one extra supervisor that way you&#39;ll have
enough slots even if one of the supervisor dies. It really doesn&#39;t
matter where the extra supervisor lives but to keep things symetric you
set up&#58;

1 Manager + 1 Supervisor at IU
<div id='show_1595936287' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1595936287'>1 Manager + 1 Supervisor at UC.

This way any two can fail and you&#39;ll still be able to get to every data
server. Adding more supervisors simply allows you to withstand
additional machine failures which doesn&#39;t make sense because you&#39;re
limited to two managers anyway,

I would guess that what we need is to have a manager and supervisor at
each site, and have the managers peered.
Precisely. Which is much shorter than all the previous verbiage &#58;-)

But now I feel like I understand why I should make that choice!  It
wasn&#39;t clear to me before that peered managers didn&#39;t add extra slots.

And that the managers and
supervisors would run on the high-performance nodes.
That is open. We usually do not recommend that you co-locate
managers/supervisors with data servers. We&#39;ve found that it&#39;s to easy to
overload a data server and crowd out the manager/supervisor on it.
Handling overload conditions requires tuning various parameters to avoid
look-up failures. At the very least, nice the manager/supervisor
xrootd/cmsd to ensure that they get CPU when they need it. Though, even
that is problematic if the machine is maxed out on the I/O bus.
Generally, we just recommend getting a cheap old box and using that for
managers and supervisors to simply avoid any potential headaches.

Does that make sense?
Yep. Interestingly, in your setup there is no reason not to run a
manager/supervisor pair on the same node.

Ok, I can allocate an extra box at each site, especially if the manager
&amp; supervisor can share.  I&#39;ll need to push through a new switch acl, to
allow those boxes to contact the dataservers at IU.

I&#39;ll start setting it up and let you know how it goes.

- --Sarah

- --
Sarah Williams
saewill@....
(317) 274-0595
<a href='http&#58;//pgp.mit.edu&#58;11371/pks/lookup?op=get&amp' target='_blank' rel='nofollow'>http&#58;//pgp.mit.edu&#58;11371/pks/lookup?op=get&amp</a>;search=0x3E6F7BBA
-----BEGIN PGP SIGNATURE-----
Version&#58; GnuPG v1.4.7 (Darwin)
Comment&#58; Using GnuPG with Mozilla - <a href='http&#58;//enigmail.mozdev.org/' target='_blank' rel='nofollow'>http&#58;//enigmail.mozdev.org/</a>

iD8DBQFKlE4r2j+lnz5ve7oRAvszAKC1wxefgS6VzB+fVvrHkgfyNj8lqwCfdWkK
hbLOE2MpXIX4coGHlEfi/i8=
=h5HW
-----END PGP SIGNATURE-----
</div><script type='text/javascript'>
        $('#show_1595936287').click(function() {
            $('#detail_1595936287').slideDown("normal");
            $('#show_1595936287').hide();
            $('#hide_1595936287').show();
        });
        $('#hide_1595936287').click(function() {
            $('#detail_1595936287').slideUp();
            $('#hide_1595936287').hide();
            $('#show_1595936287').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F7410">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 7410});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
