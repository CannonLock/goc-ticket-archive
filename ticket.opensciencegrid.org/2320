<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[2320] [hs@nhn.ou.edu&#58; Re&#58; USATLAS VOMS/GUMS config]</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2320" method="post">
<div class="page-header">
    <h3><span class="muted">2320</span> / [hs@nhn.ou.edu&#58; Re&#58; USATLAS VOMS/GUMS config]</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Horst Severini</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Package Released</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2006-08-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=2320", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/2320?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/2320?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20%5Bhs%40nhn.ou.edu%26%2358%3B%20Re%26%2358%3B%20USATLAS%20VOMS%2FGUMS%20config%5D%20ISSUE%3D2320%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2320#1156265095'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-22T16:44:55+00:00">Aug 22, 2006 04:44 PM UTC</time> by <b>leighg</b><a class="anchor" name="1156265095">&nbsp;</a></div><pre>package released...</pre></div><div class='update_description'><i onclick="document.location='2320#1155911358'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-18T14:29:18+00:00">Aug 18, 2006 02:29 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1155911358">&nbsp;</a></div><pre>Begin forwarded message&#58;

<font color='#7F7E6F'>&#62; From&#58; &#34;John R. Hover&#34; &#60;jhover@....&#62;</font>
<font color='#7F7E6F'>&#62; Date&#58; August 17, 2006 12&#58;39&#58;36 PM EDT</font>
<font color='#7F7E6F'>&#62; To&#58; Horst Severini &#60;hs@....&#62;</font>
<font color='#7F7E6F'>&#62; Cc&#58; rquick@...., dtyu@...., leighg@....,</font>
<font color='#7F7E6F'>&#62; mcguigan@....</font>
<font color='#7F7E6F'>&#62; Subject&#58; Re&#58; USATLAS VOMS/GUMS config -- ISSUE=2320</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hi all,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; usatlas1-4 were definitely the product of many meetings and</font>
<font color='#7F7E6F'>&#62; discussions with OSG and other parties.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The purposes are&#58;</font>
<font color='#7F7E6F'>&#62; usatlas1 - USATLAS production</font>
<font color='#7F7E6F'>&#62; usatlas2 - USATLAS software manager</font>
<font color='#7F7E6F'>&#62; usatlas3 - USATLAS users</font>
<font color='#7F7E6F'>&#62; usatlas4 - non-USATLAS ATLAS users</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; You definitely don&#39;t want to map everybody to usatlas1, since that</font>
<font color='#7F7E6F'>&#62; would  presumably allow any ATLAS VO member to delete production</font>
<font color='#7F7E6F'>&#62; data in storage, right? Or have I misunderstood?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; As for the VOMSes, the situation is this&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; There is an old CERN ATLAS VOMS server at voms.cern.ch. It is</font>
<font color='#7F7E6F'>&#62; synced from a really old LDAP VO server at grid-vo.nikhef.nl</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; There is a BNL ATLAS VOMS server at vo.racf.bnl.gov. It is also</font>
<font color='#7F7E6F'>&#62; synced periodically to grid-vo.nikhef.nl</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; My understanding is that neither grid-vo.nikhef.nl nor voms.cern.ch</font>
<font color='#7F7E6F'>&#62; are updated or maintainted, i.e. one can no longer add/delete users</font>
<div id='show_373241369' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_373241369'><font color='#7F7E6F'>&#62; there or add or remove groups/roles. So basically these three</font>
<font color='#7F7E6F'>&#62; (nikhef.nl, vo.racf.bnl.gov, and voms.cern.ch ) all contain the</font>
<font color='#7F7E6F'>&#62; same static membership information.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Now there is a new ATLAS VOMS/VOMRS server at lcg-voms.cern.ch</font>
<font color='#7F7E6F'>&#62; where everything is handled and administered from now. Someday this</font>
<font color='#7F7E6F'>&#62; will be the single, canonical source of ATLAS VO information.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The problem is that there are a lot of people not in the new system</font>
<font color='#7F7E6F'>&#62; yet, so it is not possible to turn off/stop using the old ones.</font>
<font color='#7F7E6F'>&#62; There are also cases where group/role information for users in both</font>
<font color='#7F7E6F'>&#62; systems is inconsistent.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; So for the moment we are running a hybrid system. ( This is also</font>
<font color='#7F7E6F'>&#62; what LCG is doing--the LCG tools search a list of VOMSes for a</font>
<font color='#7F7E6F'>&#62; particular VO&#39;s membership. ) I am trying to get things sorted out</font>
<font color='#7F7E6F'>&#62; in hopes of discontinuing the use of both voms.cern.ch and</font>
<font color='#7F7E6F'>&#62; vo.racf.bnl.gov, but we&#39;re not there quite yet.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --john</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Horst Severini wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi Rob and all,</font>
<font color='#7F7E6F'>&#62;&#62; as Patrick said, right now the OSG installation guide only</font>
<font color='#7F7E6F'>&#62;&#62; mentions the</font>
<font color='#7F7E6F'>&#62;&#62; usatlas1 account, not 2,3,4. So how&#39;bout what I proposed in my</font>
<font color='#7F7E6F'>&#62;&#62; last email&#58;</font>
<font color='#7F7E6F'>&#62;&#62; group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/</font>
<font color='#7F7E6F'>&#62;&#62; usatlas usatlas1</font>
<font color='#7F7E6F'>&#62;&#62; group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/?/atlas/usatlas</font>
<font color='#7F7E6F'>&#62;&#62; usatlas1</font>
<font color='#7F7E6F'>&#62;&#62; group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/ usatlas1</font>
<font color='#7F7E6F'>&#62;&#62; That should at least get both the VOMS server contents mapped to</font>
<font color='#7F7E6F'>&#62;&#62; usatlas1,</font>
<font color='#7F7E6F'>&#62;&#62; so at least we&#39;re not missing anyone. Or do we also need</font>
<font color='#7F7E6F'>&#62;&#62; group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/</font>
<font color='#7F7E6F'>&#62;&#62; usatlas1</font>
<font color='#7F7E6F'>&#62;&#62; ? Or is that not necessary, and we should also get rid of</font>
<font color='#7F7E6F'>&#62;&#62; group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/ usatlas1</font>
<font color='#7F7E6F'>&#62;&#62; ? I don&#39;t really understand the hierarchy of these directory trees</font>
<font color='#7F7E6F'>&#62;&#62; very well, sorry.</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; 	Horst</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --</font>
<font color='#7F7E6F'>&#62; John R. Hover</font>
<font color='#7F7E6F'>&#62; RHIC/Atlas Computing Facility, Bldg. 510M</font>
<font color='#7F7E6F'>&#62; Physics Department</font>
<font color='#7F7E6F'>&#62; Brookhaven National Laboratory</font>
<font color='#7F7E6F'>&#62; Upton, NY 11793</font>
<font color='#7F7E6F'>&#62; email&#58; jhover@....</font>
<font color='#7F7E6F'>&#62; tel&#58; 631-344-5828</font>

Rob Quick
Senior Analyst/Programmer - Grid Technologies
Indiana University
rquick@....
(317) 274-5260
Fax&#58; (317) 278-3659
</div><script type='text/javascript'>
        $('#show_373241369').click(function() {
            $('#detail_373241369').slideDown("normal");
            $('#show_373241369').hide();
            $('#hide_373241369').show();
        });
        $('#hide_373241369').click(function() {
            $('#detail_373241369').slideUp();
            $('#hide_373241369').hide();
            $('#show_373241369').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2320#1155675924'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-15T21:05:24+00:00">Aug 15, 2006 09:05 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1155675924">&nbsp;</a></div><pre>Hi Patrick,

<font color='#7F7E6F'>&#62;There are some issues with distributing my changes with the OSG default</font>
<font color='#7F7E6F'>&#62;installation.  I believe that the default installation only creates</font>
<font color='#7F7E6F'>&#62;usatlas1 and hence the mappings to usatlas2-4 are not useful and would</font>
<font color='#7F7E6F'>&#62;only allow US Production users to have access to OSG sites.</font>

Good point. Maybe only include the CERN and the BNL server with no roles
then, both mapped to usatlas1? At least that way we&#39;ll get everyone
mapped to SOME account, which is better than currently, when people
who&#39;re in the CERN server don&#39;t get mapped at all on OSG sites.

<font color='#7F7E6F'>&#62;I did not include the Production and Software mappings from the CERN</font>
<font color='#7F7E6F'>&#62;VOMS server intentionally.  Our (USATLAS) production will work with the</font>
<font color='#7F7E6F'>&#62;mappings from the BNL VOMS and there is no reason to map anyone else to</font>
<font color='#7F7E6F'>&#62;the usatlas1 and usatlas2 accounts.</font>

Yeah, that makes sense for production sites.

So how&#39;bout this&#58;

group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/usatlas usatlas1
group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/?/atlas/usatlas usatlas1
group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/ usatlas1

Would that work as an alternative until we all move to GUMS?
Or maybe a different order?

Thanks,

Horst</pre></div><div class='update_description'><i onclick="document.location='2320#1155675015'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-15T20:50:15+00:00">Aug 15, 2006 08:50 PM UTC</time> by <b>mcguigan@....</b><a class="anchor" name="1155675015">&nbsp;</a></div><pre>Hi Horst,

There are some issues with distributing my changes with the OSG default
installation.  I believe that the default installation only creates
usatlas1 and hence the mappings to usatlas2-4 are not useful and would
only allow US Production users to have access to OSG sites.

I did not include the Production and Software mappings from the CERN
VOMS server intentionally.  Our (USATLAS) production will work with the
mappings from the BNL VOMS and there is no reason to map anyone else to
the usatlas1 and usatlas2 accounts.

Patrick

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # 10 USAtlas -- (carcassi@....)</font>
<font color='#7F7E6F'>&#62; group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/usatlas usatlas1</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; but doesn&#39;t mention the CERN VOMS server at all.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Patrick McGuigan came up with a good interim solution, until we finally</font>
<font color='#7F7E6F'>&#62; migrate away from edg-mkgridmap&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; # 10 USAtlas -- (carcassi@....)</font>
<font color='#7F7E6F'>&#62; group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/Role=production</font>
<font color='#7F7E6F'>&#62; usatlas1</font>
<font color='#7F7E6F'>&#62; group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/Role=software</font>
<font color='#7F7E6F'>&#62; usatlas1</font>
<font color='#7F7E6F'>&#62; group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/usatlas usatlas3</font>
<font color='#7F7E6F'>&#62; # 10a USAtlas -- (carcassi@....)</font>
<font color='#7F7E6F'>&#62; group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/?/atlas/usatlas usatlas3</font>
<font color='#7F7E6F'>&#62; group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/ usatlas4</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I haven&#39;t tried it yet, but it looks good to me.</font>
<font color='#7F7E6F'>&#62; Can we include this in the OSG templates from now on?</font>
<div id='show_1046630842' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1046630842'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Oh -- I just noticed that it doesn&#39;t seem to include the CERN VOMS server</font>
<font color='#7F7E6F'>&#62; for usatlas1/2 accounts, like the full ATLAS section of the gums.template</font>
<font color='#7F7E6F'>&#62; does, see below.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Patrick, would it make sense to include that, too, or is that not</font>
<font color='#7F7E6F'>&#62; possible with the current way of edg-mkgridmap ignoring roles?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks a lot,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 	Horst</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1046630842').click(function() {
            $('#detail_1046630842').slideDown("normal");
            $('#show_1046630842').hide();
            $('#hide_1046630842').show();
        });
        $('#hide_1046630842').click(function() {
            $('#detail_1046630842').slideUp();
            $('#hide_1046630842').hide();
            $('#show_1046630842').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2320#1155656838'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-15T15:47:18+00:00">Aug 15, 2006 03:47 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1155656838">&nbsp;</a></div><pre>Hi Rob and Leigh and Patrick and all,

<font color='#7F7E6F'>&#62; I see that ATLAS would like a change in the gums.template for the</font>
<font color='#7F7E6F'>&#62; next OSG VO Package to fix some issues with the defined groups.</font>
<font color='#7F7E6F'>&#62; However, I do not see where these changes are recorded. Can you point</font>
<font color='#7F7E6F'>&#62; me, or tell me what changes you need so I can add them to the new</font>
<font color='#7F7E6F'>&#62; package.</font>

actually, I think it&#39;s not the gums.template file that needs to be updated,
since the latest seems to be fully up-to-date -- both in the OSG installation
and the links at the bottom of the TWiki page,

<a href='http&#58;//osg.ivdgl.org/twiki/bin/view/Integration/GumsAdmins' target='_blank' rel='nofollow'>http&#58;//osg.ivdgl.org/twiki/bin/view/Integration/GumsAdmins</a>

-- but rather the edg/etc/edg-mkgridmap.conf file, which still only
contains the very old single line

# 10 USAtlas -- (carcassi@....)
group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/usatlas usatlas1

but doesn&#39;t mention the CERN VOMS server at all.

Patrick McGuigan came up with a good interim solution, until we finally
migrate away from edg-mkgridmap&#58;

# 10 USAtlas -- (carcassi@....)
group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/Role=production
usatlas1
group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/Role=software
usatlas1
group vomss&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas?/atlas/usatlas usatlas3
# 10a USAtlas -- (carcassi@....)
group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/?/atlas/usatlas usatlas3
group vomss&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/ usatlas4

<div id='show_938672079' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_938672079'>I haven&#39;t tried it yet, but it looks good to me.
Can we include this in the OSG templates from now on?

Oh -- I just noticed that it doesn&#39;t seem to include the CERN VOMS server
for usatlas1/2 accounts, like the full ATLAS section of the gums.template
does, see below.

Patrick, would it make sense to include that, too, or is that not
possible with the current way of edg-mkgridmap ignoring roles?

Thanks a lot,

Horst

----------
&#60;!-- 10  USAtlas --&#62;
&#60;groupMapping name=&#34;newUsatlasProd&#34; accountingVo=&#34;usatlas&#34;
accountingDesc=&#34;ATLAS&#34;&#62;
&#60;userGroup className=&#34;gov.bnl.gums.VOMSGroup&#34;
url=&#34;<a href='https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#34' target='_blank' rel='nofollow'>https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#34</a>;
persistenceFactory=&#34;bnl&#34;
name=&#34;newUsatlasProd&#34;
voGroup=&#34;/atlas/usatlas&#34;
voRole=&#34;production&#34;
sslCertfile=&#34;/etc/grid-security/http/httpcert.pem&#34;
sslKey=&#34;/etc/grid-security/http/httpkey.pem&#34;
matchFQAN=&#34;exact&#34;/&#62;
&#60;accountMapping className=&#34;gov.bnl.gums.GroupAccountMapper&#34;
groupName=&#34;usatlas1&#34;/&#62;
&#60;/groupMapping&#62;

&#60;!-- USATLAS production role - People coming in as
/atlas/usatlas/Role=production will be mapped to usatlas1 --&#62;
&#60;groupMapping name=&#34;oldUsatlasProd&#34; accountingVo=&#34;usatlas&#34;
accountingDesc=&#34;ATLAS&#34;&#62;
&#60;userGroup className=&#34;gov.bnl.gums.VOMSGroup&#34;
url=&#34;<a href='https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#34' target='_blank' rel='nofollow'>https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#34</a>;
persistenceFactory=&#34;bnl&#34;
name=&#34;oldUsatlasProd&#34;
voGroup=&#34;/atlas/usatlas&#34;
voRole=&#34;production&#34;
sslCertfile=&#34;/etc/grid-security/http/httpcert.pem&#34;
sslKey=&#34;/etc/grid-security/http/httpkey.pem&#34;
matchFQAN=&#34;exact&#34;/&#62;
&#60;accountMapping className=&#34;gov.bnl.gums.GroupAccountMapper&#34;
groupName=&#34;usatlas1&#34;/&#62;
&#60;/groupMapping&#62;

&#60;!-- LCG VOMS USATLAS software role - People coming in as
/atlas/usatlas/Role=software will be mapped to usatlas2 --&#62;
&#60;groupMapping name=&#34;newUsatlasSoft&#34; accountingVo=&#34;usatlas&#34;
accountingDesc=&#34;ATLAS&#34;&#62;
&#60;userGroup className=&#34;gov.bnl.gums.VOMSGroup&#34;
url=&#34;<a href='https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#34' target='_blank' rel='nofollow'>https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#34</a>;
persistenceFactory=&#34;bnl&#34;
name=&#34;newUsatlasSoft&#34;
voGroup=&#34;/atlas/usatlas&#34;
voRole=&#34;software&#34;
sslCertfile=&#34;/etc/grid-security/http/httpcert.pem&#34;
sslKey=&#34;/etc/grid-security/http/httpkey.pem&#34;
matchFQAN=&#34;exact&#34;/&#62;
&#60;accountMapping className=&#34;gov.bnl.gums.GroupAccountMapper&#34;
groupName=&#34;usatlas2&#34;/&#62;
&#60;/groupMapping&#62;

&#60;!-- USATLAS software role - People coming in as /atlas/usatlas/Role=software
will be mapped to usatlas2 --&#62;
&#60;groupMapping name=&#34;oldUsatlasSoft&#34; accountingVo=&#34;usatlas&#34;
accountingDesc=&#34;ATLAS&#34;&#62;
&#60;userGroup className=&#34;gov.bnl.gums.VOMSGroup&#34;
url=&#34;<a href='https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#34' target='_blank' rel='nofollow'>https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#34</a>;
persistenceFactory=&#34;bnl&#34;
name=&#34;oldusatlasSoft&#34;
voGroup=&#34;/atlas/usatlas&#34;
voRole=&#34;software&#34;
sslCertfile=&#34;/etc/grid-security/http/httpcert.pem&#34;
sslKey=&#34;/etc/grid-security/http/httpkey.pem&#34;
matchFQAN=&#34;exact&#34;/&#62;
&#60;accountMapping className=&#34;gov.bnl.gums.GroupAccountMapper&#34;
groupName=&#34;usatlas2&#34;/&#62;
&#60;/groupMapping&#62;

&#60;!-- 10a CERN VOMS (new) USATLAS members mapped to usatlas3 group account --&#62;
&#60;groupMapping name=&#39;newUsatlas&#39; accountingVo=&#39;usatlas&#39; accountingDesc=&#39;ATLAS&#39;&#62;
&#60;userGroup className=&#39;gov.bnl.gums.VOMSGroup&#39;
url=&#39;<a href='https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#39' target='_blank' rel='nofollow'>https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#39</a>;
persistenceFactory=&#39;mysql&#39;
name=&#39;newusatlas&#39;
voGroup=&#34;/atlas/usatlas&#34;
sslCertfile=&#39;/etc/grid-security/http/httpcert.pem&#39;
sslKey=&#39;/etc/grid-security/http/httpkey.pem&#39;
matchFQAN=&#34;vo&#34; acceptProxyWithoutFQAN=&#39;true&#39; /&#62;
&#60;accountMapping className=&#39;gov.bnl.gums.GroupAccountMapper&#39;
groupName=&#39;usatlas3&#39; /&#62;
&#60;/groupMapping&#62;

&#60;!-- 10b  BNL VOMS (old) USATLAS members mapped to usatlas3 group account --&#62;
&#60;groupMapping name=&#39;oldUsatlas&#39; accountingVo=&#39;usatlas&#39; accountingDesc=&#39;ATLAS&#39;&#62;
&#60;userGroup className=&#39;gov.bnl.gums.VOMSGroup&#39;
url=&#39;<a href='https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#39' target='_blank' rel='nofollow'>https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#39</a>;
persistenceFactory=&#39;mysql&#39;
name=&#39;bnlusatlas&#39;
voGroup=&#34;/atlas/usatlas&#34;
sslCertfile=&#39;/etc/grid-security/http/httpcert.pem&#39;
sslKey=&#39;/etc/grid-security/http/httpkey.pem&#39;
matchFQAN=&#34;vo&#34; acceptProxyWithoutFQAN=&#39;true&#39; /&#62;
&#60;accountMapping className=&#39;gov.bnl.gums.GroupAccountMapper&#39;
groupName=&#39;usatlas3&#39; /&#62;
&#60;/groupMapping&#62;

&#60;!-- 10c  CERN VOMS (new) ATLAS members mapped to usatlas4 group account --&#62;
&#60;groupMapping name=&#39;newAtlas&#39; accountingVo=&#39;usatlas&#39; accountingDesc=&#39;ATLAS&#39;&#62;
&#60;userGroup className=&#39;gov.bnl.gums.VOMSGroup&#39;
url=&#39;<a href='https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#39' target='_blank' rel='nofollow'>https&#58;//lcg-voms.cern.ch&#58;8443/voms/atlas/services/VOMSAdmin&#39</a>;
persistenceFactory=&#39;mysql&#39;
name=&#39;newatlas&#39;
voGroup=&#34;/atlas&#34;
sslCertfile=&#39;/etc/grid-security/http/httpcert.pem&#39;
sslKey=&#39;/etc/grid-security/http/httpkey.pem&#39;
matchFQAN=&#34;vo&#34; acceptProxyWithoutFQAN=&#39;true&#39; /&#62;
&#60;accountMapping className=&#39;gov.bnl.gums.GroupAccountMapper&#39;
groupName=&#39;usatlas4&#39; /&#62;
&#60;/groupMapping&#62;

&#60;!-- 10d  BNL VOMS (old) ATLAS members mapped to usatlas4 group account --&#62;
&#60;groupMapping name=&#39;oldAtlas&#39; accountingVo=&#39;usatlas&#39; accountingDesc=&#39;ATLAS&#39;&#62;
&#60;userGroup className=&#39;gov.bnl.gums.VOMSGroup&#39;
url=&#39;<a href='https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#39' target='_blank' rel='nofollow'>https&#58;//vo.racf.bnl.gov&#58;8443/edg-voms-admin/atlas/services/VOMSAdmin&#39</a>;
persistenceFactory=&#39;mysql&#39;
name=&#39;oldatlas&#39;
voGroup=&#34;/atlas&#34;
sslCertfile=&#39;/etc/grid-security/http/httpcert.pem&#39;
sslKey=&#39;/etc/grid-security/http/httpkey.pem&#39;
matchFQAN=&#34;vo&#34;
acceptProxyWithoutFQAN=&#39;true&#39; /&#62;
&#60;accountMapping className=&#39;gov.bnl.gums.GroupAccountMapper&#39;
groupName=&#39;usatlas4&#39; /&#62;
&#60;/groupMapping&#62;
</div><script type='text/javascript'>
        $('#show_938672079').click(function() {
            $('#detail_938672079').slideDown("normal");
            $('#show_938672079').hide();
            $('#hide_938672079').show();
        });
        $('#hide_938672079').click(function() {
            $('#detail_938672079').slideUp();
            $('#hide_938672079').hide();
            $('#show_938672079').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2320#1155645493'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-15T12:38:13+00:00">Aug 15, 2006 12:38 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1155645493">&nbsp;</a></div><pre>Horst,

I see that ATLAS would like a change in the gums.template for the
next OSG VO Package to fix some issues with the defined groups.
However, I do not see where these changes are recorded. Can you point
me, or tell me what changes you need so I can add them to the new
package.

Thanks,
Rob

Date&#58; Tue, 25 Jul 2006 19&#58;53&#58;51 -0500 (CDT)
From&#58; Horst Severini &#60;hs@....&#62;
Reply-To&#58; Horst Severini &#60;hs@....&#62;
Subject&#58; Re&#58; USATLAS VOMS/GUMS config
To&#58; leighg@....
X-Mailer&#58; dtmail 1.3.0 @(#)CDE Version 1.4.8 SunOS 5.8 sun4u sparc
X-Virus-Scanned&#58; ClamAV version 0.88.3, clamav-milter version 0.88.3
on phyast.nhn.ou.edu
X-Virus-Status&#58; Clean

Hi Leigh,

<font color='#7F7E6F'>&#62; Are you using Safari? I had the problem with it but not Firefox.</font>

no, Netscape 7.0 on our Suns. But you&#39;re right, Mozilla 1.7.13 can
display it, too, so this is an XML display issue in the browser.

<font color='#7F7E6F'>&#62; Ok, we distribute a gums.template not gums.config and it is linked</font>
<font color='#7F7E6F'>&#62; in the GumsAdmins twiki page and seems to work.</font>

Yeah, it works since I fixed the TWiki yesterday. &#58;)

The gums.config is linked a little further down on that page --
well, at the very end, really.
<div id='show_266646114' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_266646114'>
<font color='#7F7E6F'>&#62; Perhaps we could take this discussion to the vo-</font>
admins@....
<font color='#7F7E6F'>&#62; list?</font>

Sure -- as soon as ATLAS is actually moving away from the BNL VOMS
server
and uses only the CERN server.

By the way, the CERN server is still not mentioned at all in the
edg-mkgridmap file; there&#39;s only the BNL one mentioned. Can we add it
there, too, or does that not make any sense because the edg-mkgridmap
daemon maybe can&#39;t handle two VOMS servers in order of preference like
that?

Thanks a lot,

Horst
</div><script type='text/javascript'>
        $('#show_266646114').click(function() {
            $('#detail_266646114').slideDown("normal");
            $('#show_266646114').hide();
            $('#hide_266646114').show();
        });
        $('#hide_266646114').click(function() {
            $('#detail_266646114').slideUp();
            $('#hide_266646114').hide();
            $('#show_266646114').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2320#1155484020'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-13T15:47:00+00:00">Aug 13, 2006 03:47 PM UTC</time> by <b>leighg</b><a class="anchor" name="1155484020">&nbsp;</a></div><pre>need to update edg-gridmap.conf file for atlas to pull from the defined groups to
local account.
Patrick, Horst on behalf of altas have requseted this update in the new VO package.</pre></div><div class='update_description'><i onclick="document.location='2320#1155049394'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-08T15:03:14+00:00">Aug 8, 2006 03:03 PM UTC</time> by <b>Horst Severini</b><a class="anchor" name="1155049394">&nbsp;</a></div><pre>Hi Tim,

what&#39;s this one about again? I can&#39;t remember. I don&#39;t remember creating
or requesting a ticket on Saturday evening at all, actually.

Was it related to Patrick McGuigan&#39;s edg-gridmap workaround for GUMS-less
USATLAS sites?

Is there a way to add a link to the actual ticket information into
these FootPrints emails? Or tack the most recent info to the end?

By the way, there&#39;s a typo in the ticket mail&#58;

Destination Tikcet Number&#58;

=)

Thanks,

Horst

---------
From root@....  Tue Aug  8 08&#58;18&#58;12 2006
From&#58; Open Science Grid FootPrints &#60;osg@....&#62;
To&#58; hs@....
Date&#58; Tue, 8 Aug 2006 13&#58;17 +0000
Subject&#58; Open Science Grid&#58; [hs@....&#58; Re&#58; USATLAS VOMS/GUMS config] ISSUE=2320 PROJ=71

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='2320#1155043041'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-08T13:17:21+00:00">Aug 8, 2006 01:17 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1155043041">&nbsp;</a></div><pre>I made Leigh the Assignee. Changed the contact from the NOC employee who created the ticket to
Horst and set the Next Action Date to Friday, Aug 11 for Leigh to review when she returns. --Tim</pre></div><div class='update_description'><i onclick="document.location='2320#1154805045'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-08-05T19:10:45+00:00">Aug 5, 2006 07:10 PM UTC</time> by <b>Juliean Bennett</b><a class="anchor" name="1154805045">&nbsp;</a></div><pre>From&#58; leighg@....
To&#58; goc@....
Subject&#58; [hs@....&#58; Re&#58; USATLAS VOMS/GUMS config]
Date-Sent&#58; Saturday, August 05, 2006 2&#58;53 PM -0400

Please make a ticket &#34;USATLAS VO update&#34;

htanks
leigh
----- Forwarded message from Horst Severini &#60;hs@....&#62; -----

Date&#58; Tue, 25 Jul 2006 19&#58;53&#58;51 -0500 (CDT)
From&#58; Horst Severini &#60;hs@....&#62;
Reply-To&#58; Horst Severini &#60;hs@....&#62;
Subject&#58; Re&#58; USATLAS VOMS/GUMS config
To&#58; leighg@....
X-Mailer&#58; dtmail 1.3.0 @(#)CDE Version 1.4.8 SunOS 5.8 sun4u sparc
X-Virus-Scanned&#58; ClamAV version 0.88.3, clamav-milter version 0.88.3 on phyast.nhn.ou.edu
X-Virus-Status&#58; Clean

Hi Leigh,

<font color='#7F7E6F'>&#62;  Are you using Safari? I had the problem with it but not Firefox.</font>

no, Netscape 7.0 on our Suns. But you&#39;re right, Mozilla 1.7.13 can
display it, too, so this is an XML display issue in the browser.

<font color='#7F7E6F'>&#62;   Ok, we distribute a gums.template not gums.config and it is linked</font>
<font color='#7F7E6F'>&#62;   in the GumsAdmins twiki page and seems to work.</font>

Yeah, it works since I fixed the TWiki yesterday. &#58;)

The gums.config is linked a little further down on that page --
well, at the very end, really.

<div id='show_471830326' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_471830326'><font color='#7F7E6F'>&#62; Perhaps we could take this discussion to the vo-admins@....</font>
<font color='#7F7E6F'>&#62; list?</font>

Sure -- as soon as ATLAS is actually moving away from the BNL VOMS server
and uses only the CERN server.

By the way, the CERN server is still not mentioned at all in the
edg-mkgridmap file; there&#39;s only the BNL one mentioned. Can we add it
there, too, or does that not make any sense because the edg-mkgridmap
daemon maybe can&#39;t handle two VOMS servers in order of preference like
that?

Thanks a lot,

Horst

----- End forwarded message -----
</div><script type='text/javascript'>
        $('#show_471830326').click(function() {
            $('#detail_471830326').slideDown("normal");
            $('#show_471830326').hide();
            $('#hide_471830326').show();
        });
        $('#hide_471830326').click(function() {
            $('#detail_471830326').slideUp();
            $('#hide_471830326').hide();
            $('#show_471830326').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2320">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2320});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
