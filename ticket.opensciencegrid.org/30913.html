<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30913] Transfers failing in post-processing</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30913" method="post">
<div class="page-header">
    <h3><span class="muted">30913</span> / Transfers failing in post-processing</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alexey Kurov</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Alexey Kurov</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">TX Incoming</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-08-17</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">FNAL (Prod)&nbsp;<a target="_blank" href="https://fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767">INC000000744767</a> <span class="muted"> / Ticket Exchange</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=123372">123372</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30913", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30913#1471620496'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T15:28:16+00:00">Aug 19, 2016 03:28 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471620496">&nbsp;</a></div><pre>What PhEDEx parameters we should check?

If this is our site problem why transfer rate from T2_UA_KIPT to T2_US_Wisconsin 5-35 MB/s?
<a href='https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/jobs?source_se=srm&#58' target='_blank' rel='nofollow'>https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/jobs?source_se=srm&#58</a>;%2F%2Fcms-se0.kipt.kharkov.ua&dest_se=srm&#58;%2F%2Fcmssrm.hep.wisc.edu&vo=cms&with_file=FINISHED&time_window=168

Why transfers with transfer rate 0.5 MB/s to T2_US_Vanderbilt succeed but to T1_US_FNAL_Disk don&#39;t?
<a href='https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/jobs?source_se=srm&#58' target='_blank' rel='nofollow'>https&#58;//cmsfts3.fnal.gov&#58;8449/fts3/ftsmon/#/jobs?source_se=srm&#58</a>;%2F%2Fcms-se0.kipt.kharkov.ua&dest_se=srm&#58;%2F%2Fse1.accre.vanderbilt.edu&vo=cms&with_file=FINISHED&time_window=168

What we can do for increasing transfer rate to FNAL?

Is there reason why FNAL prefer to send outgoing traffic to us through commercial network instead of LHCONE? Maybe preferring LHCONE can improve network performance?

[GOC-TX Warning]
Source GGUS Ticket ID&#58; 123372 specifies affected site name of  Kharkov-KIPT-LCG2 which does not exist in OIM(resource/name) and it is ignored.
-- by Alexey Kurov at Tue Aug 16 17&#58;02&#58;16 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471620423'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-19T15:27:03+00:00">Aug 19, 2016 03:27 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471620423">&nbsp;</a></div><pre>[Permanent Solution]
There is nothing that we can do here. Reassign this ticket to to the source site.
-- by  at Fri Aug 19 15&#58;26&#58;16 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471365556'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-16T16:39:16+00:00">Aug 16, 2016 04:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471365556">&nbsp;</a></div><pre>There is nothing that we can do here. Reassign this ticket to to the source site.
-- by huangch at Tue Aug 16 16&#58;39&#58;02 UTC 2016

[Permanent Solution]
There is nothing that we can do here. Reassign this ticket to to the source site.
-- by  at Tue Aug 16 16&#58;39&#58;02 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471365525'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-16T16:38:45+00:00">Aug 16, 2016 04:38 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471365525">&nbsp;</a></div><pre>Hi all,

This looks like a issue at the source site. Alexey, transfer rate is too low from your site. Something you can do about it? Maybe we can check the parameters of your PhEDEx agents

Regards,
Jorge.
Transfer TeamChanged CC to ;cms-comp-ops-transfer-team@....;

[GOC-TX Warning]
Source GGUS Ticket ID&#58; 123372 specifies affected site name of  Kharkov-KIPT-LCG2 which does not exist in OIM(resource/name) and it is ignored.
-- by dc.jorge10 at Tue Aug 16 16&#58;38&#58;26 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471076948'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-13T08:29:08+00:00">Aug 13, 2016 08:29 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471076948">&nbsp;</a></div><pre>Even with low transfer rate transfers on FNAL FTS succeed to T2_U_Vanderbilt.
For example this transfer of 2.50 GiB file with speed 0.45 MB/s took 5635.475 seconds that less than timeout 8720
<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449/fts3/ftsmon/#/job/7354d4db-7545-4190-a0c8-cdd0f211e53b' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449/fts3/ftsmon/#/job/7354d4db-7545-4190-a0c8-cdd0f211e53b</a>

But transfer to T1_US_FNAL_Disk of file with comparable size 2.33 GiB with wpeed 0.5 MB/s (with such speed transfer should take 4700 sec) and timeout 8369 fails
<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449/fts3/ftsmon/#/job/77fc73f5-7334-4f36-9c13-4b4ba3c8920a' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449/fts3/ftsmon/#/job/77fc73f5-7334-4f36-9c13-4b4ba3c8920a</a>

So maybe this can be fixed somewhere outside FTS server?

-- by Alexey Kurov at Sat Aug 13 08&#58;28&#58;22 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471042858'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T23:00:58+00:00">Aug 12, 2016 11:00 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471042858">&nbsp;</a></div><pre>Looks like my assumption about difference in transfer rate between T1_US_FNAL_Buffer and T1_US_FNAL_Disk is wrong.

Here examples of successful transfers to T1_US_FNAL_Disk with transfer rate 18 MB/s&#58;

<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-2130__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29919733__046d4cc3-6a33-43a8-ae2b-f2a79459b18a' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-2130__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29919733__046d4cc3-6a33-43a8-ae2b-f2a79459b18a</a>

<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-1457__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29895784__24b4c14e-0952-4882-913c-022a88e3e52b' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-1457__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29895784__24b4c14e-0952-4882-913c-022a88e3e52b</a>

But other transfers to T1_US_FNAL_Disk with transfer rate 500 KB/s&#58;

<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-2043__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29916382__25f3d561-a0e3-48a9-86a2-bb6b3165f510' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-2043__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29916382__25f3d561-a0e3-48a9-86a2-bb6b3165f510</a>

<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-2044__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29916383__25f3d561-a0e3-48a9-86a2-bb6b3165f510' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-2044__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29916383__25f3d561-a0e3-48a9-86a2-bb6b3165f510</a>

All transfers here from the same disk servers at our side ds20 and ds21.
All of files downloaded on lxplus.cern.ch from ds20 and ds21 with speed much more than 500 KB/s.
So, I don&#39;t know why such difference in transfer rates to T1_US_FNAL_Disk.

-- by Alexey Kurov at Fri Aug 12 23&#58;00&#58;08 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471038086'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T21:41:26+00:00">Aug 12, 2016 09:41 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471038086">&nbsp;</a></div><pre>Do you have a current rate to show the transfer to T1_US_FNAL_Buffer is faster than to T1_US_FNAL_Disk?
We did a srmcp directly from T2_UA_KIPT and it timed out. Such test does not involve any of the storage system here. That&#39;s why we suspected the problem might be at the source site. We will continue looking into this. If you find something, please let us know.

Cheers,

-- Chih-Hao
-- by huangch at Fri Aug 12 21&#58;40&#58;57 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471025393'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T18:09:53+00:00">Aug 12, 2016 06:09 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471025393">&nbsp;</a></div><pre>There was successful transfers to T1_US_FNAL_Buffer with larger transfer rate a week ago
<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-05/cms-se0.kipt.kharkov.ua__cmssrm.fnal.gov/2016-08-05-1754__cms-se0.kipt.kharkov.ua__cmssrm.fnal.gov__29279988__797fa682-6b69-422b-bc3b-956a0b0a1ed4' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-05/cms-se0.kipt.kharkov.ua__cmssrm.fnal.gov/2016-08-05-1754__cms-se0.kipt.kharkov.ua__cmssrm.fnal.gov__29279988__797fa682-6b69-422b-bc3b-956a0b0a1ed4</a>

What can be a reason of lower transfer rate to T1_US_FNAL_Disk than to T1_US_FNAL_Buffer?

Problems with transfers to T1_US_FNAL_Disk appeared after May 2016, we had more successful transfers to T1_US_FNAL_Disk before
<a href='https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58' target='_blank' rel='nofollow'>https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58</a>;&#58;QualityPlots?graph=quality_all&entity=dest&src_filter=T2_UA_KIPT&dest_filter=T1_US_FNAL_Disk&no_mss=true&period=l26w&upto=

I tried to change route of outgoing traffic to FNAL through commercial network and through LHCONE but transfer rate remain the same for both routes.
Incoming traffic from FNAL we always revive  through commercial network despite the fact that prefixes of our AS35296 present in LHCONE
<a href='http&#58;//calendar.es.net/lhcone/lhconedata/lhcone-routes.json' target='_blank' rel='nofollow'>http&#58;//calendar.es.net/lhcone/lhconedata/lhcone-routes.json</a>

Also we have enough free bandwidth for these transfers, so this is not bandwidth issue.

-- by Alexey Kurov at Fri Aug 12 18&#58;09&#58;10 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1471003880'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T12:11:20+00:00">Aug 12, 2016 12:11 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1471003880">&nbsp;</a></div><pre>The remaining error is due to (very) slow (0.5 MB/s?) transfers. The problem does not seems to be at FNAL since other links have reasonable rates. We did an srmcp manually to read a file from T2_UA_KIPT. It eventually timed out. The FTS3 running at FNAL is an older version that does not have the timeout control. Upgrade is in the plan but we just do not have enough manpower for now.
-- by huangch at Fri Aug 12 12&#58;10&#58;59 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470996215'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T10:03:35+00:00">Aug 12, 2016 10:03 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470996215">&nbsp;</a></div><pre>Sorry for wrong link in previous message. Here right log from FTS server

<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-0838__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29863669__50c48f26-62d5-4cd8-b59b-4a7cc019676f' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-0838__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29863669__50c48f26-62d5-4cd8-b59b-4a7cc019676f</a>

-- by Alexey Kurov at Fri Aug 12 10&#58;03&#58;08 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470996095'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T10:01:35+00:00">Aug 12, 2016 10:01 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470996095">&nbsp;</a></div><pre>Only such recent errors fixed
TRANSFER globus_ftp_client&#58; the server responded with an error 535 Authentication failed&#58; Path validation failed&#58; No trusted path can be constructed

But old errors remain
Fri Aug 12 03&#58;57&#58;20 2016 ERROR    TRANSFER  globus_ftp_client&#58; the server responded with an error 451 Post-processing failed&#58; No such file or directory&#58; 0000861D1BEE9C9A4041BF59BB00830D0A54

<a href='https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-0751__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29856788__8cdd52f4-e670-4a3d-a41a-db913bccb70f' target='_blank' rel='nofollow'>https&#58;//cmsftssrv2.fnal.gov&#58;8449///var/log/fts3//2016-08-12/cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov/2016-08-12-0751__cms-se0.kipt.kharkov.ua__cmsdcadisk01.fnal.gov__29856788__8cdd52f4-e670-4a3d-a41a-db913bccb70f</a>

-- by Alexey Kurov at Fri Aug 12 10&#58;00&#58;27 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470979637'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T05:27:17+00:00">Aug 12, 2016 05:27 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470979637">&nbsp;</a></div><pre>We had a few pool nodes that were misbehaving -- a restart a few hours ago seems to have fixed this on our side, and we see most transfers and SAM SRM tests now green.

-- by David Mason at Fri Aug 12 03&#58;49&#58;40 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a>
-- by OSG-GOC at Fri Aug 12 03&#58;50&#58;22 UTC 2016
-- by cd-srv-goc-ops at Fri Aug 12 03&#58;51&#58;12 UTC 2016

Hi, Alexey,

A problem at T1_US_FNAL_Disk was identified and fixed around 18&#58;00 CDT. Most transfers to T1_US_FNAL_Disk have succeeded since then. If you confirm, we can close this ticket. Thanks.

-- Chih-Hao
-- by huangch at Fri Aug 12 05&#58;26&#58;45 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470973822'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T03:50:22+00:00">Aug 12, 2016 03:50 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470973822">&nbsp;</a></div><pre>We had a few pool nodes that were misbehaving -- a restart a few hours ago seems to have fixed this on our side, and we see most transfers and SAM SRM tests now green.

-- by David Mason at Fri Aug 12 03&#58;49&#58;40 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470950714'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T21:25:14+00:00">Aug 11, 2016 09:25 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470950714">&nbsp;</a></div><pre>There are a lot errors  &#34;TRANSFER  globus_ftp_client&#58; the server responded with an error 535 Authentication failed&#58; Path validation failed&#58; No trusted path can be constructed&#34; in transfers between T1_US_FNAL_Disk and many other sites but these errors appeared today and not related with error &#34;TRANSFER globus_ftp_client&#58; the server responded with an error 451 Post-processing failed&#58; No such file or directory&#34; that appears about 4 month.

-- by Alexey Kurov at Thu Aug 11 21&#58;24&#58;51 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470949704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T21:08:24+00:00">Aug 11, 2016 09:08 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470949704">&nbsp;</a></div><pre>I have checked one failed transfer for

Error 1
To Node&#58;
T1_US_FNAL_Disk
From Node&#58;
T2_UA_KIPT
Time Assigned&#58;
2016-08-11 19&#58;53&#58;01 UTC (0m00 since assigned) (-31m10 from now)
....
To PFN&#58;
<a href='srm&#58;//cmsdcadisk01.fnal.gov&#58;8443/srm/managerv2?SFN=/dcache/uscmsdisk/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root' target='_blank' rel='nofollow'>srm&#58;//cmsdcadisk01.fnal.gov&#58;8443/srm/managerv2?SFN=/dcache/uscmsdisk/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root</a>
From PFN&#58;
<a href='srm&#58;//cms-se0.kipt.kharkov.ua&#58;8446/srm/managerv2?SFN=/dpm/kipt.kharkov.ua/home/cms/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root' target='_blank' rel='nofollow'>srm&#58;//cms-se0.kipt.kharkov.ua&#58;8446/srm/managerv2?SFN=/dpm/kipt.kharkov.ua/home/cms/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root</a>
Space Token&#58;

The problem seems to be at source.

Manually ran srmcp from cmslpc-sl6 (this does not involve storage system at T1_US_FNAL_Disk) and it has been stuck for more than half an hour. It&#39;s a 14GB file, not very big.

3&#58;25pm cmslpc28.fnal.gov&#58;~&#62; srmcp -2 -debug <a href='srm&#58;//cms-se0.kipt.kharkov.ua&#58;8446/srm/managerv2&#92' target='_blank' rel='nofollow'>srm&#58;//cms-se0.kipt.kharkov.ua&#58;8446/srm/managerv2&#92</a>;?SFN=/dpm/kipt.kharkov.ua/home/cms/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root file&#58;////dev/null
Storage Resource Manager (SRM) Client version 2.2
Copyright (c) 2002-2009 SRM Working Group <a href='http&#58;//sdm.lbl.gov/srm-wg' target='_blank' rel='nofollow'>http&#58;//sdm.lbl.gov/srm-wg</a>

SRM Configuration&#58;
default_port=8443
debug=true
srmcphome=..
urlcopy=sbin/urlcopy.sh
gsiftpclient=globus-url-copy
help=false
h=false
mapfile=conf/SRMServerV1.map
webservice_path=null
use_proxy=true
<div id='show_995048361' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_995048361'>x509_user_proxy=/tmp/x509up_u2105
x509_user_cert=
x509_user_key=
x509_user_trusted_certificates=/etc/grid-security/certificates
globus_tcp_port_range=null
gss_expected_name=null
protocols=gsiftp,dcap,http
pushmode=false
buffer_size=131072
tcp_buffer_size=0
streams_num=1
conf=/etc/dcache-srmclient-config.xml
save_conf=null
do_remove=false
copy=true
bringOnline=false
ping=false
reserveSpace=false
array_of_client_networks=null
retention_policy=null
space_desc=null
access_latency=null
access_pattern=null
connection_type=null
desired_size=null
guaranteed_size=null
lifetime=null
releaseSpace=false
space_token=null
force=false
getSpaceMetaData=false
space_tokens=null
copyjobfile=null
wsdl_url=null
use_urlcopy_script=false
getFileMetaData=false
ls=false
getSpaceTokens=false
rm=false
rmdir=false
mv=false
mkdir=false
getPermissions=false
checkPermissions=false
setPermissions=false
getRequestSummary=false
getRequestTokens=false
abortFiles=false
releaseFiles=false
request_desc=null
type=null
owner=null
group=null
other=null
request_tokens=null
request_token=null
file_lifetime=null
pin_lifetime=null
extendFileLifetime=false
advisoryDelete=false
getRequestStatus=false
request_id=0
retry_timeout=10000
retry_num=20
connect_to_wsdl=false
transport=GSI
delegate=true
full_delegation=true
version=false
report=null
server_mode=null
storagetype=null
stage=false
l=false
recursive=false
offset=0
count=null
srm_protocol_version=2
request_lifetime=86400
priority=0
overwrite_mode=null
send_cksm=true
cksm_type=null
cksm_value=null
abortRequest=false
print_performance=false
performance_test_name=null
repeat=1
dryrun=false
from[0]=<a href='srm&#58;//cms-se0.kipt.kharkov.ua&#58;8446/srm/managerv2?SFN=/dpm/kipt.kharkov.ua/home/cms/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root' target='_blank' rel='nofollow'>srm&#58;//cms-se0.kipt.kharkov.ua&#58;8446/srm/managerv2?SFN=/dpm/kipt.kharkov.ua/home/cms/store/mc/RunIISummer15GS/QCD_Pt_300to470_TuneCUETP8M1_13TeV_pythia8/GEN-SIM/MCRUN2_71_V1_ext2-v1/10093/7A7C41EC-3851-E611-98DE-001E6734B629.root</a>
to=file&#58;////dev/null

Thu Aug 11 15&#58;25&#58;59 CDT 2016&#58; starting SRMGetClient
Thu Aug 11 15&#58;25&#58;59 CDT 2016&#58; In SRMClient ExpectedName&#58; host
Thu Aug 11 15&#58;25&#58;59 CDT 2016&#58; SRMClient(httpg,srm/managerv2,GSI)
copy_jobs is empty
Thu Aug 11 15&#58;26&#58;01 CDT 2016&#58; calling srmPrepareToGet
Thu Aug 11 15&#58;26&#58;05 CDT 2016&#58; received response
Thu Aug 11 15&#58;26&#58;05 CDT 2016&#58;  srm returned requestToken = 8c90633e-7e56-40dd-9f33-5f79914acfdf
Thu Aug 11 15&#58;26&#58;05 CDT 2016&#58; sleeping 5 seconds ...
Thu Aug 11 15&#58;26&#58;12 CDT 2016&#58; no more pending transfers, breaking the loop
copy_jobs is not empty
copying CopyJob, source = <a href='gsiftp&#58;//ds34.kipt.kharkov.ua/ds34.kipt.kharkov.ua&#58' target='_blank' rel='nofollow'>gsiftp&#58;//ds34.kipt.kharkov.ua/ds34.kipt.kharkov.ua&#58</a>;/storage/cms/2016-07-24/7A7C41EC-3851-E611-98DE-001E6734B629.root.16180936.0 destination = file&#58;////dev/null

(It still hung at this moment)

The error message (in PhEDEx Data Transfer Error) is &#34;TRANSFER  globus_ftp_client&#58; the server responded with an error 535 Authentication failed&#58; Path validation failed&#58; No trusted path can be constructed&#34;. The &#34;server&#34; seems to be in the source site.

Could T2_UA_KIPT check this?
-- by huangch at Thu Aug 11 21&#58;07&#58;44 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a>
</div><script type='text/javascript'>
        $('#show_995048361').click(function() {
            $('#detail_995048361').slideDown("normal");
            $('#show_995048361').hide();
            $('#hide_995048361').show();
        });
        $('#hide_995048361').click(function() {
            $('#detail_995048361').slideUp();
            $('#hide_995048361').hide();
            $('#show_995048361').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='30913#1470934213'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T16:50:13+00:00">Aug 11, 2016 04:50 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470934213">&nbsp;</a></div><pre>Hi Alexey,

It is truth that the issue could be solved with higher timeouts. However, files failing from your site to FNAL_Disk are not that &#34;big&#34;, just few GB. In addition, transfer rate from your site to FNAL_Disk is quite low, ~2MB/s

<a href='https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58' target='_blank' rel='nofollow'>https&#58;//cmsweb.cern.ch/phedex/prod/Activity&#58</a>;&#58;RatePlots?graph=quantity_rates&entity=link&src_filter=T2_UA_KIPT&dest_filter=T1_US_FNAL_Disk&no_mss=true&period=l132h&upto=&.submit=Update

It would be better if you can do something to increase this transfer rate.

Regards,
Jorge.
Transfer Team

-- by dc.jorge10 at Thu Aug 11 16&#58;33&#58;21 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470934177'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T16:49:37+00:00">Aug 11, 2016 04:49 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470934177">&nbsp;</a></div><pre>We are looking at this problem.
-- by huangch at Thu Aug 11 16&#58;48&#58;32 UTC 2016

GOCTX Source&#58; <a href='https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767' target='_blank' rel='nofollow'>https&#58;//fermi.service-now.com/nav_to.do?uri=incident.do?sys_id=INC000000744767</a></pre></div><div class='update_description'><i onclick="document.location='30913#1470916378'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T11:52:58+00:00">Aug 11, 2016 11:52 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1470916378">&nbsp;</a></div><pre>Dear Colleagues,

A lot of PhEDEx data transfers (in both the &#39;Prod&#39; and &#39;Debug&#39; modes) from T2_UA_KIPT to T1_US_FNAL_Disk fail with typical error

TRANSFER  globus_ftp_client&#58; the server responded with an error 451 Post-processing failed&#58; No such file or directory&#58; ......

At first sight, it looks like the problem could be resolved by setting higher global time-outs for SRM in the FNAL FTS service (cf. discussion in GGUS ticket #122548).
Could you please take a look at this?

Cheers,
Alexey Kurov

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=123372</a>

[Ticket History]
Subject&#58; Transfers failing in post-processing
Ticket Type&#58; USER
CC&#58; ;cms-comp-ops-transfer-team@....
-- by Alexey Kurov at Thu Aug 11 11&#58;51&#58;56 UTC 2016</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30913">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
