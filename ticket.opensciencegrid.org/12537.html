<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12537] D0 samgrid jobs go held on my end</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12537" method="post">
<div class="page-header">
    <h3><span class="muted">12537</span> / D0 samgrid jobs go held on my end</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Joe Boyd</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">MWT2</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">MWT2</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Joe Boyd</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USATLAS</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-08-31</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USATLAS (BNL Prod)&nbsp;<a target="_blank" href="https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=22393">22393</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12537", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12537?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12537?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20D0%20samgrid%20jobs%20go%20held%20on%20my%20end%20ISSUE%3D12537%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12537#1346761782'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-04T12:29:42+00:00">Sep 4, 2012 12:29 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346761782">&nbsp;</a></div><pre>All the jobs I see on the site today contain timeout/retry logic. I&#39;ll open
another ticket if I see globus-url-copy hanging for dzero jobs again.
-- by saewill@.... at Tue Sep 04 12&#58;29&#58;31 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=MWTier2 ID=22393</pre></div><div class='update_description'><i onclick="document.location='12537#1346337311'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T14:35:11+00:00">Aug 30, 2012 02:35 PM UTC</time> by <b>Sarah Williams</b><a class="anchor" name="1346337311">&nbsp;</a></div><pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash&#58; SHA1

The dzero job I inspected on the site did not have any retry logic.
I&#39;ll try to grab a copy next time I see one.

On 8/30/12 10&#58;31 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='12537#1346337075'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T14:31:15+00:00">Aug 30, 2012 02:31 PM UTC</time><a class="anchor" name="1346337075">&nbsp;</a></div><pre>I believe there is retry logic in the data handling portion of the D0 jobs already.  I think 10 minutes just wasn&#39;t long enough to get the files there in the incorrect way the data handling config was setup.  It&#39;s working now that the config has been fixed I&#39;m told.

-- by Joe Boyd</pre></div><div class='update_description'><i onclick="document.location='12537#1346328355'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-30T12:05:55+00:00">Aug 30, 2012 12:05 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346328355">&nbsp;</a></div><pre>Hi Joe,

Sorry you&#39;ve been having trouble getting these emails. Do you think dZero jobs
could start using the timeout/retry logic I described above in the ticket? It
seems like 80% of the time I see a stalled engage job on the site, it is on
these processes.

--Sarah
-- by saewill@.... at Thu Aug 30 12&#58;05&#58;46 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=MWTier2 ID=22393</pre></div><div class='update_description'><i onclick="document.location='12537#1346261910'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T17:38:30+00:00">Aug 29, 2012 05:38 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1346261910">&nbsp;</a></div><pre>Hi Joe,

Are there any updates on this issue?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='12537#1346261665'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T17:34:25+00:00">Aug 29, 2012 05:34 PM UTC</time><a class="anchor" name="1346261665">&nbsp;</a></div><pre>PS&#58; Feel free to close this ticket and thanks.

-- by Joe Boyd</pre></div><div class='update_description'><i onclick="document.location='12537#1346261645'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T17:34:05+00:00">Aug 29, 2012 05:34 PM UTC</time><a class="anchor" name="1346261645">&nbsp;</a></div><pre>Hi Sarah,

Apologies for not adding anything to this ticket before now.  I really thought I did but I guess I only added info to the ticket I had open for the end user locally here at Fermilab.  I also don&#39;t believe I got what you added to this ticket on the 24th that I see here.  We did just implement a new spam service maybe I should check my junk mail...

We did figure out why the users jobs were pausing.  The file delivery wasn&#39;t configured correctly (I&#39;m not an expert on the path it should take) and they were trying to pull files from the wrong place that may or may not have ever even worked.  When the data handling folks fixed those configs the D0 jobs ran successfully.

Thanks so much for your help and quick responses.  Again sorry I neglected to close the loop.

-- by Joe Boyd</pre></div><div class='update_description'><i onclick="document.location='12537#1346242384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-29T12:13:04+00:00">Aug 29, 2012 12:13 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1346242384">&nbsp;</a></div><pre>Hello,

Did the user in question have any more info about why his jobs are stalling?
Also, any chance of implementing timeout/retry logic on g-u-c attempts?

--Sarah
-- by saewill@.... at Wed Aug 29 12&#58;12&#58;56 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=MWTier2 ID=22393</pre></div><div class='update_description'><i onclick="document.location='12537#1345813498'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-24T13:04:58+00:00">Aug 24, 2012 01:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1345813498">&nbsp;</a></div><pre>Hi Joe,

No changes on our end that should affect outgoing TCP connections. We&#39;ve
relaxed

I found an engage job stuck for 16 hours, with this process tree&#58;
engage 15514 10503 0 Aug23 ? 00&#58;00&#58;00 | &#92;_ /bin/bash
/var/lib/condor/execute/dir_10499/glide_Q10560/main/condor_startup.sh
glidein_config
engage 16220 15514 0 Aug23 ? 00&#58;00&#58;25 | &#92;_
/var/lib/condor/execute/dir_10499/glide_Q10560/main/condor/sbin/condor_master
-f -pidfile /var/lib/condor/execute/dir_10499/glide_Q10560/condor_master2.pid
engage 16222 16220 0 Aug23 ? 00&#58;00&#58;25 | &#92;_ condor_startd -f
engage 23527 16222 0 Aug23 ? 00&#58;01&#58;17 | &#92;_ condor_procd -A
/var/lib/condor/execute/dir_10499/glide_Q10560/log/procd_address.STARTD -L
/var/lib/condor/execute/dir_10499/glide_Q10560/log/ProcLog.STARTD -R 10000000
-S 60 -C 21034
engage 29223 16222 0 Aug23 ? 00&#58;00&#58;01 | &#92;_ condor_starter -f
engage-submit3.renci.org
engage 29225 29223 0 Aug23 ? 00&#58;00&#58;00 | &#92;_ /bin/bash
/var/lib/condor/execute/dir_10499/glide_Q10560/execute/dir_29223/condor_exec.exe
2012-08-22_165514_vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5
88 400
<a href='gsiftp&#58;//engage-submit3.renci.org/home/cec24/vni-mc-brick/qhat-ehat/job-folder-mscale-0.5-alpha-0.5/vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5/runs/2012-08-22_165514_vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5' target='_blank' rel='nofollow'>gsiftp&#58;//engage-submit3.renci.org/home/cec24/vni-mc-brick/qhat-ehat/job-folder-mscale-0.5-alpha-0.5/vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5/runs/2012-08-22_165514_vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5</a>
<a href='gsiftp&#58;//engage-submit3.renci.org/scratch/cec24/osgruns/vni-mc-brick' target='_blank' rel='nofollow'>gsiftp&#58;//engage-submit3.renci.org/scratch/cec24/osgruns/vni-mc-brick</a>
engage 30188 29225 0 Aug23 ? 00&#58;00&#58;00 | &#92;_ globus-url-copy -v -cd -notpt
-nodcau file&#58;///scratch/job.RqNzY29265/app.stdouterr
<a href='gsiftp&#58;//engage-submit3.renci.org/home/cec24/vni-mc-brick/qhat-ehat/job-folder-mscale-0.5-alpha-0.5/vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5/runs/2012-08-22_165514_vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5/logs/88/app.stdouterr' target='_blank' rel='nofollow'>gsiftp&#58;//engage-submit3.renci.org/home/cec24/vni-mc-brick/qhat-ehat/job-folder-mscale-0.5-alpha-0.5/vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5/runs/2012-08-22_165514_vni-jet-mc-thermalFull-E100.0-temp0.35-tstop4.0-p1-elas-k1.0-A0.5-MS0.5/logs/88/app.stdouterr</a>

It would be good if this g-u-c were wrapped in some timeout/retry logic. I&#39;ve
got some code around that you&#39;re welcome to &#39;borrow&#39;. Here&#39;s a simple
timed_command.sh bash wrapper that takes a command and timelimit as arguments&#58;
<a href='http&#58;//repo.mwt2.org/viewvc/util/timed_command.sh?revision=1.10&view=markup' target='_blank' rel='nofollow'>http&#58;//repo.mwt2.org/viewvc/util/timed_command.sh?revision=1.10&view=markup</a>
This lsm-put script is used by atlas jobs to write their outputs. Much of it is
specific to our site, but the timeout and retry logic starting on line 148
<div id='show_626072117' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_626072117'>should be generally applicable&#58;
<a href='http&#58;//repo.mwt2.org/viewvc/lsm/lsm-put?revision=1.21' target='_blank' rel='nofollow'>http&#58;//repo.mwt2.org/viewvc/lsm/lsm-put?revision=1.21</a>
<a href='http&#58;//repo.mwt2.org/viewvc/Python/timed_command.py?revision=1.13&view=markup' target='_blank' rel='nofollow'>http&#58;//repo.mwt2.org/viewvc/Python/timed_command.py?revision=1.13&view=markup</a>

Hope that helps!
--Sarah
-- by saewill@.... at Fri Aug 24 13&#58;04&#58;49 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=MWTier2 ID=22393
</div><script type='text/javascript'>
        $('#show_626072117').click(function() {
            $('#detail_626072117').slideDown("normal");
            $('#show_626072117').hide();
            $('#hide_626072117').show();
        });
        $('#hide_626072117').click(function() {
            $('#detail_626072117').slideUp();
            $('#hide_626072117').hide();
            $('#show_626072117').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='12537#1345648302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-22T15:11:42+00:00">Aug 22, 2012 03:11 PM UTC</time><a class="anchor" name="1345648302">&nbsp;</a></div><pre>Thanks for the info.  I&#39;m querying the end user that is running the jobs for D0.  I got the impression that he has been using this site successfully for a while.  Are there any changes on your end that might keep a job from connecting to an outside resource like a database back at fnal.gov?  These jobs should start using resources right away I believe but they might be sitting retrying to make connections to a database if they can&#39;t make tcp connections outbound.  Thanks!!

-- by Joe Boyd</pre></div><div class='update_description'><i onclick="document.location='12537#1345576660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-21T19:17:40+00:00">Aug 21, 2012 07:17 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1345576660">&nbsp;</a></div><pre>We use system_periodic_remove to remove jobs that run for more than 10
minutes, with less than a minute of cpu time.   We consider 10 minutes
long enough for a job to get started.  If you have files that take
more
than 10 minutes to stage lets talk about storing them locally
somewhere.

*** RT-Note&#58; Stripped 110 quoted lines from message body!

-- by saewill@.... at Tue Aug 21 19&#58;17&#58;32 UTC 2012

GOCTX Source&#58; BNL Ticket&#58; Queue=MWTier2 ID=22393</pre></div><div class='update_description'><i onclick="document.location='12537#1345576455'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-21T19:14:15+00:00">Aug 21, 2012 07:14 PM UTC</time><a class="anchor" name="1345576455">&nbsp;</a></div><pre>So, I guess I see the issue.  I see this in your config config&#58;

MWT2_INEFFICIENTJOB = ( (User =!= &#34;usatlas1@....&#34;) && (JobStatus == 2) && ((CurrentTime - EnteredCurrentStatus) &#62; 600) && ((RemoteSysCpu + RemoteUserCpu) &#60; 61) )

does that mean that if a job doesn&#39;t start consuming a bunch of cpu within 10 minutes it is going to get removed?  It&#39;s possible the D0 jobs are waiting for a file or something from a database and don&#39;t get started quickly enough.

-- by Joe Boyd</pre></div><div class='update_description'><i onclick="document.location='12537#1345576246'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-21T19:10:46+00:00">Aug 21, 2012 07:10 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1345576246">&nbsp;</a></div><pre>[by Joe Boyd]

This is related to GOC ticket 12502.

D0 samgrid jobs sent to the mwt2 resource are being killed after 10 minutes.  Below I show the output from the mwt2 condor system noting the job number and that it was &#34;aborted&#34;.  Are the D0 samgrid jobs getting pre-empted after 10 minutes or something?  It&#39;s always right at 10 minutes.  The job below was just doing a &#34;sleep 1200&#34;.

-- Submitter&#58; osg-gk.mwt2.org &#58; &#60;128.135.158.146&#58;37759?PrivNet=uchicago.edu&#62; &#58; osg-gk.mwt2.org
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
458987.0   samgrid         8/21 13&#58;43   0+00&#58;10&#58;02 R  0   0.0  data
&#60;c&#62;
&#60;a n=&#34;MyType&#34;&#62;&#60;s&#62;SubmitEvent&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;SubmitHost&#34;&#62;&#60;s&#62;&lt;128.135.158.146&#58;37759&gt;&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Cluster&#34;&#62;&#60;i&#62;458987&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTypeNumber&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTime&#34;&#62;&#60;s&#62;2012-08-21T13&#58;43&#58;07&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Proc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Subproc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;CurrentTime&#34;&#62;&#60;e&#62;time()&#60;/e&#62;&#60;/a&#62;
&#60;/c&#62;
&#60;c&#62;
&#60;a n=&#34;MyType&#34;&#62;&#60;s&#62;ExecuteEvent&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Cluster&#34;&#62;&#60;i&#62;458987&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTypeNumber&#34;&#62;&#60;i&#62;1&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;ExecuteHost&#34;&#62;&#60;s&#62;&lt;10.1.4.1&#58;48312?PrivNet=uchicago.edu&gt;&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;EventTime&#34;&#62;&#60;s&#62;2012-08-21T13&#58;54&#58;22&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Proc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Subproc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;CurrentTime&#34;&#62;&#60;e&#62;time()&#60;/e&#62;&#60;/a&#62;
&#60;/c&#62;
&#60;c&#62;
&#60;a n=&#34;MyType&#34;&#62;&#60;s&#62;JobImageSizeEvent&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Cluster&#34;&#62;&#60;i&#62;458987&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTypeNumber&#34;&#62;&#60;i&#62;6&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;MemoryUsage&#34;&#62;&#60;i&#62;3&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTime&#34;&#62;&#60;s&#62;2012-08-21T13&#58;54&#58;30&#60;/s&#62;&#60;/a&#62;
<div id='show_601745457' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_601745457'>&#60;a n=&#34;ResidentSetSize&#34;&#62;&#60;i&#62;2312&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Proc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Subproc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Size&#34;&#62;&#60;i&#62;1&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;CurrentTime&#34;&#62;&#60;e&#62;time()&#60;/e&#62;&#60;/a&#62;
&#60;/c&#62;
&#60;c&#62;
&#60;a n=&#34;MyType&#34;&#62;&#60;s&#62;JobImageSizeEvent&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Cluster&#34;&#62;&#60;i&#62;458987&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTypeNumber&#34;&#62;&#60;i&#62;6&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;MemoryUsage&#34;&#62;&#60;i&#62;3&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTime&#34;&#62;&#60;s&#62;2012-08-21T13&#58;59&#58;30&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;ResidentSetSize&#34;&#62;&#60;i&#62;2312&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Proc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Subproc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Size&#34;&#62;&#60;i&#62;14672&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;CurrentTime&#34;&#62;&#60;e&#62;time()&#60;/e&#62;&#60;/a&#62;
&#60;/c&#62;
&#60;c&#62;
&#60;a n=&#34;MyType&#34;&#62;&#60;s&#62;JobAbortedEvent&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Cluster&#34;&#62;&#60;i&#62;458987&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTypeNumber&#34;&#62;&#60;i&#62;9&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;EventTime&#34;&#62;&#60;s&#62;2012-08-21T14&#58;04&#58;23&#60;/s&#62;&#60;/a&#62;
&#60;a n=&#34;Proc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;Subproc&#34;&#62;&#60;i&#62;0&#60;/i&#62;&#60;/a&#62;
&#60;a n=&#34;CurrentTime&#34;&#62;&#60;e&#62;time()&#60;/e&#62;&#60;/a&#62;
&#60;/c&#62;

</div><script type='text/javascript'>
        $('#show_601745457').click(function() {
            $('#detail_601745457').slideDown("normal");
            $('#show_601745457').hide();
            $('#hide_601745457').show();
        });
        $('#hide_601745457').click(function() {
            $('#detail_601745457').slideUp();
            $('#hide_601745457').hide();
            $('#show_601745457').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12537">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
