<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="/">
    <title>[13587] OSG&#58;SURAgrid User Certificate Request for Rodica Gelca</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="https://ticket.opensciencegrid.org/images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="https://ticket.opensciencegrid.org/lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=13587" method="post">
<div class="page-header">
    <h3><span class="muted">13587</span> / OSG&#58;SURAgrid User Certificate Request for Rodica Gelca</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Rodica Gelca</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">SURAgrid</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">OIM/CertManager(user)</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Rodica Gelca</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">SURAgrid GOC</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">SURAgrid RA to process</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-10-29</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG RA <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">SURAgrid <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=13587", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="/13587?sort=up&"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="/13587?expandall=true&">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%26%2358%3BSURAgrid%20User%20Certificate%20Request%20for%20Rodica%20Gelca%20ISSUE%3D13587%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='13587#1477713604'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-29T04:00:04+00:00">Oct 29, 2016 04:00 AM UTC</time><a class="anchor" name="1477713604">&nbsp;</a></div><pre>Dear Rodica Gelca,

You did not issue your user certificate (/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Rodica Gelca 1014) within 30 days from the approval. In compliance with OSG PKI policy, the request was canceled. You are welcome to re-request if necessary at <a href='https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167&t=re_request.' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167&t=re_request.</a></pre></div><div class='update_description'><i onclick="document.location='13587#1476417606'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-14T04:00:06+00:00">Oct 14, 2016 04:00 AM UTC</time><a class="anchor" name="1476417606">&nbsp;</a></div><pre>Dear Rodica Gelca,

Your user certificate (/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Rodica Gelca 1014) was approved 15 days ago. The request is scheduled to be automatically canceled within another 15 days. Please take this opportunity to download your approved certificate at your earliest convenience. If you are experiencing any trouble with the issuance of your certificate, please feel free to contact the GOC for further assistance. Please visit <a href='https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167&t=issue' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167&t=issue</a> to issue your user certificate.</pre></div><div class='update_description'><i onclick="document.location='13587#1363901293'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T21:28:13+00:00">Mar 21, 2013 09:28 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1363901293">&nbsp;</a></div><pre>Great. Closing the ticket as all issues have been resolved and questions answered.</pre></div><div class='update_description'><i onclick="document.location='13587#1363900963'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T21:22:43+00:00">Mar 21, 2013 09:22 PM UTC</time><a class="anchor" name="1363900963">&nbsp;</a></div><pre>Hi Neha,

No any problem found since the changes were made. We&#39;ll keep our current settings. Thank you for checking on it.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1363899550'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T20:59:10+00:00">Mar 21, 2013 08:59 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1363899550">&nbsp;</a></div><pre>Hi,

I have been receiving these messages for several weeks. It looks they are
communications between staff from Open Sciece Grid and not addressed to me.
Could you please remove me from the e-mail list?

Thank you,
Rodica Gelca</pre></div><div class='update_description'><i onclick="document.location='13587#1363898648'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T20:44:08+00:00">Mar 21, 2013 08:44 PM UTC</time><a class="anchor" name="1363898648">&nbsp;</a></div><pre>Can we please move this to a different ticket and drop Rodica?  It is no longer about her certificate request or usage, which are now solved problems.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1363898506'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T20:41:46+00:00">Mar 21, 2013 08:41 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1363898506">&nbsp;</a></div><pre>So, from the output you sent, looks like you have it configured right.
The cert presented by the VOMS server /etc/grid-security/voms/vomscert.pem, has the CN as voms/voms.hpcc.ttu.edu and this is what you have in the vomses file.

So you have it right. Is there a problem you see with this setup ?</pre></div><div class='update_description'><i onclick="document.location='13587#1363897755'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T20:29:15+00:00">Mar 21, 2013 08:29 PM UTC</time><a class="anchor" name="1363897755">&nbsp;</a></div><pre>They are not the same.
[root@voms]# openssl x509 -noout -subject -in /etc/grid-security/http/httpcert.pem
subject= /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=http/voms.hpcc.ttu.edu
[root@voms]# openssl x509 -noout -subject -in /etc/grid-security/voms/vomscert.pem
subject= /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=voms/voms.hpcc.ttu.edu

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1363897381'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T20:23:01+00:00">Mar 21, 2013 08:23 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1363897381">&nbsp;</a></div><pre>Is your VOMS service certificate (/etc/grid-security/voms/vomscert.pem) and tomcat service certificate (/etc/grid-security/http/httpcert.pem) the same?
Can you post the output of
openssl x509 -noout -subject -in /etc/grid-security/http/httpcert.pem
and
openssl x509 -noout -subject -in /etc/grid-security/voms/vomscert.pem</pre></div><div class='update_description'><i onclick="document.location='13587#1363892911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T19:08:31+00:00">Mar 21, 2013 07:08 PM UTC</time><a class="anchor" name="1363892911">&nbsp;</a></div><pre>Hi Neha,

On our VOMS server, The vomses files were updated with the &#34;DigiCert-Grid&#34; role to replace the old &#34;doegrids&#34; role, and the CN was changed from &#34;CN=http/voms.hpcc.ttu.edu&#34; to &#34;CN=voms/voms.hpcc.ttu.edu&#34;.
In the voms.conf file, the entries are &#34;--x509_user_cert=/etc/grid-security/voms/vomscert.pem&#34; and &#34;--x509_user_key=/etc/grid-security/voms/vomskey.pem&#34;. Do we need to change them to point to the http cert and key? Then modify the vomses files to reflect the change?

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1363888555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-21T17:55:55+00:00">Mar 21, 2013 05:55 PM UTC</time> by <b>Neha Sharma</b><a class="anchor" name="1363888555">&nbsp;</a></div><pre>Hi Amy
I have read this exchange and would like to confirm exactly what help you seek from the OSG Software group? Is it

1) update to the entries for suragrid/dream VOs in the vomses file
&#34;suragrid&#34; &#34;voms.hpcc.ttu.edu&#34; &#34;15003&#34; &#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=voms/voms.hpcc.ttu.edu&#34; &#34;suragrid&#34;
&#34;dream&#34; &#34;voms.hpcc.ttu.edu&#34; &#34;15004&#34; &#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=voms/voms.hpcc.ttu.edu&#34; &#34;dream&#34;

2) question on which file contains the VOMS server configuration settings

This, I believe is  /etc/voms/[VO-NAME]/voms.conf
In particular, the entries
--x509_user_cert=/etc/grid-security/...
--x509_user_key=/etc/grid-security/...
determine which certificate the server will present to the client.

Did I miss out anything?
-Neha</pre></div><div class='update_description'><i onclick="document.location='13587#1363724319'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-19T20:18:39+00:00">Mar 19, 2013 08:18 PM UTC</time><a class="anchor" name="1363724319">&nbsp;</a></div><pre>I modified the .lsc files on Tinge. The &#34;cannot verify AC signature&#34; message is gone.

tinge&#58;$ voms-proxy-init --voms suragrid&#58;/suragrid
Enter GRID pass phrase for this identity&#58;
Your identity&#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8
Creating temporary proxy ........................................................................... Done
Contacting  voms.hpcc.ttu.edu&#58;15003 [/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=voms/voms.hpcc.ttu.edu] &#34;suragrid&#34; Done
Creating proxy .................................... Done

Your proxy is valid until Wed Mar 20 03&#58;18&#58;06 2013

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1363722799'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-19T19:53:19+00:00">Mar 19, 2013 07:53 PM UTC</time><a class="anchor" name="1363722799">&nbsp;</a></div><pre>This appears to be due to a combination of two problems.  One is easy to fix, but needs to be propagated once the other is figured out. The second, which should be resolved before we take action beyond TTU on the first, is why the new VOMS server setup at TTU is presenting the voms/voms.hpcc.ttu.edu instead of the http/voms.hpcc.ttu.edu certificate to users of voms-proxy-init.

The first problem -- sorry to list these in this order but I think you will see why -- is that the entry for the dream and also for the suragrid VOs needs to be updated in the vomses file to reflect the fact that we have changed from DOEGrids to DigiCert for the server (host, http and voms) certificates used by this VOMS server, as Amy indicated in the previous update. Thus, as she suggests, the entries for the affected VO&#39;s (dream and suragrid) need to be updated to match in the vomses files for all installations, both local and throughout the grid, that support these VOs.

The format that seems to be expected by the client in each case is&#58;

&#34;suragrid&#34; &#34;voms.hpcc.ttu.edu&#34; &#34;15003&#34; &#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=voms/voms.hpcc.ttu.edu&#34; &#34;suragrid&#34;
&#34;dream&#34; &#34;voms.hpcc.ttu.edu&#34; &#34;15004&#34; &#34;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=voms/voms.hpcc.ttu.edu&#34; &#34;dream&#34;

The mystery here is why the voms/ service is being expected, instead of the http/ service certificate, by the voms-proxy-init client.

We have verified this by Amy updating our local vomses files as above. Users are able to generate proxies both on the old and new installations of OSG. Note that this update did not seem to be needed on Tinge, using a new OSG 1.3 installation, according to the information in the previous update, but that the &#34;cannot verify AC signature&#34; message remains.  It is probably the case that the .lsc file on Tinge needs to be updated to use voms/voms.hpcc.ttu.edu instead of http/voms.hpcc.ttu.edu as its certificate subject name also.

The remaining question is &#34;why is the VOMS server presenting the voms/ service certificate instead of the http/ service certificate to clients?&#34; If we look through the other VOs listed in the OSG vomses file, it looks like almost all of them use http/ service certificates and none of them use voms/ ones. We did recently update both the VOMS server and (even more recently) replace its certificates with DigiCert ones. What controls which of these certificates is presented to clients via voms-proxy-init?

As a short-term measure, I suggest that the .lsc file be updated with the same certificate changes as above on Tinge. Once we figure this out, we should ask the GOC to distribute an updated VO package that has the right certificates for the dream and suragrid VO entries in the vomses file.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1363019386'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-11T16:29:46+00:00">Mar 11, 2013 04:29 PM UTC</time><a class="anchor" name="1363019386">&nbsp;</a></div><pre>Thanks Soichi for your instruction. When I run the first step, it creates a proxy but it also shows an error.

tinge&#58;/.globus$ voms-proxy-init -voms suragrid
Enter GRID pass phrase for this identity&#58;
Your identity&#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8
Creating temporary proxy ......................... Done
Contacting  voms.hpcc.ttu.edu&#58;15003 [/DC=org/DC=doegrids/OU=Services/CN=http/voms.hpcc.ttu.edu] &#34;suragrid&#34; Done
Creating proxy ...................... Done
Your proxy is valid until Mon Mar 11 23&#58;07&#58;55 2013
Error&#58; verify failed.
Cannot verify AC signature!

On the server Tinge, in the lsc file, &#34;DOEGrids&#34; is still in use instead of &#34;DigiCert Grid&#34;. This is wrong since we have erplaced all the DOEGrid certs to DigiCert certs on the server VOMS.

tinge&#58;/.globus$ cat /etc/grid-security/vomsdir/osg/voms.opensciencegrid.org.lsc
/DC=org/DC=doegrids/OU=Services/CN=http/voms.opensciencegrid.org
/DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1

Should we modify the file &#34;/etc/voms-admin/suragrid/vomses&#34; and restart the voms service for suragrid on the VOMS server to fix the issue? The current content of the file &#34;vomses&#34; is shown below.

[root@voms suragrid]# cat vomses
&#34;suragrid&#34; &#34;voms.hpcc.ttu.edu&#34; &#34;15003&#34; &#34;/DC=org/DC=doegrids/OU=Services/CN=http/voms.hpcc.ttu.edu&#34; &#34;suragrid&#34;

Or is there any other way to fix the issue? Thanks.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362679144'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-07T17:59:04+00:00">Mar 7, 2013 05:59 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362679144">&nbsp;</a></div><pre>I am not sure this is the instruction you are looking for, but I just did following

(I am using mis VO, because I don&#39;t have access to SURAgrid VO.. use &#34;-voms suragrid&#34; instead, in your case.

2013-03-07 17&#58;49&#58;26 UTC [hayashis@soichi&#58;~/test/ce]$ voms-proxy-init -voms mis
Your identity&#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Soichi Hayashi 238

2013-03-07 17&#58;53&#58;41 UTC [hayashis@soichi&#58;~/test/ce]$  globus-job-submit antaeus.hpcc.ttu.edu /bin/hostname
<a href='https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/' target='_blank' rel='nofollow'>https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/</a>

2013-03-07 17&#58;54&#58;17 UTC [hayashis@soichi&#58;~/test/ce]$ globus-job-status <a href='https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/' target='_blank' rel='nofollow'>https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/</a>
ACTIVE
2013-03-07 17&#58;54&#58;28 UTC [hayashis@soichi&#58;~/test/ce]$ globus-job-status <a href='https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/' target='_blank' rel='nofollow'>https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/</a>
DONE

2013-03-07 17&#58;54&#58;35 UTC [hayashis@soichi&#58;~/test/ce]$ globus-job-get-output <a href='https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/' target='_blank' rel='nofollow'>https&#58;//antaeus.hpcc.ttu.edu&#58;40887/21318/1362678855/</a>
antaeus.hpcc.ttu.edu

I am not sure if this is what you are looking for.. ??

Thanks,
Soichi</pre></div><div class='update_description'><i onclick="document.location='13587#1362670870'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-07T15:41:10+00:00">Mar 7, 2013 03:41 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1362670870">&nbsp;</a></div><pre>I got my VO membership! Thank you very much for your help!

Could you please give me some instructions about how to
submit jobs on SuraGrid?

Rodica</pre></div><div class='update_description'><i onclick="document.location='13587#1362587434'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-06T16:30:34+00:00">Mar 6, 2013 04:30 PM UTC</time><a class="anchor" name="1362587434">&nbsp;</a></div><pre>In my web browser, after the operation &#34;Edit Trust&#34; is done for the two DigiCert certs, the connection untrust message no longer exits for accessing voms.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362530784'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-06T00:46:24+00:00">Mar 6, 2013 12:46 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362530784">&nbsp;</a></div><pre>Sorry, I meant.. it is *now* setup properly.</pre></div><div class='update_description'><i onclick="document.location='13587#1362530741'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-06T00:45:41+00:00">Mar 6, 2013 12:45 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362530741">&nbsp;</a></div><pre>I can confirm that <a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/vomses' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/vomses</a> is not setup properly for all things DigiCert.</pre></div><div class='update_description'><i onclick="document.location='13587#1362527052'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T23:44:12+00:00">Mar 5, 2013 11:44 PM UTC</time><a class="anchor" name="1362527052">&nbsp;</a></div><pre>I just tried this in Firefox. (Correction&#58; in the &#34;Preferences&#34; steps entioned earlier, you have to import these under &#34;Advanced&#34; --&#62; &#34;Encryption&#34; --&#62; &#34;View Certificates&#34; tjen use the &#34;Authorities&#34; tab and the &#34;Import...&#34; button.

Then I had to click on each of the two imported DigiCert certificates and click the &#34;Edit Trust&#34; button and check all of the boxes to allow the certificate to identify web sites, mail users and software makers.

Then it started to work for me to access <a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/vomses' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/vomses</a> (and the VOs under that link) with the new DigiCert certificates.

This is a bug in Firefox, as you should not have to trust the root or intermediate CA cert itself in order to trust the server certificate for these purposes.  But it fixed the problem for me.  Can you try it too?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1362525915'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T23:25:15+00:00">Mar 5, 2013 11:25 PM UTC</time><a class="anchor" name="1362525915">&nbsp;</a></div><pre>All the host and service certs and keys are replaced with the new certs and keys from DigiCerts. The certs will expire in Apr. next year. I have tested, users can access to voms use their DigiCerts cert, they don&#39;t need to download the two certs &#34;DigiCertGridRootCA.pem&#34; and &#34;DigiCertGridCA-1.pem&#34;, when they import their personal DigiCert&#39;s cert, the two will be added in their browser.

One thing that I don&#39;t understand is, I see the warning &#34;This Connection is Untrusted&#34; message when I access to voms, I need to add the site to the exception list in my browser. This is strange as the setups on the server are not changed and ssl is still enabled.

Rodica, can you please check to see if you can access now?

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362522622'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T22:30:22+00:00">Mar 5, 2013 10:30 PM UTC</time><a class="anchor" name="1362522622">&nbsp;</a></div><pre>Ah - didn&#39;t realize that the voms.hpcc.ttu.edu server was still using DOEGrids certificates.

In that case, the user needs to install the CA certificates for DOEGrids and the ESNet root available at <a href='https&#58;//www.tacar.org' target='_blank' rel='nofollow'>https&#58;//www.tacar.org</a> --&#62; click on &#34;certificates&#34; and then scroll down to these two and install them into your browser.

For the newer DigiCert certificates to be trusted, the user would instead navigate to <a href='http&#58;//digicert-grid.com/' target='_blank' rel='nofollow'>http&#58;//digicert-grid.com/</a> and download the first two .pem files listed&#58;  DigiCert Grid Root CA.pem and  DigiCertGridCA-1.pem

For Firefox, these can be installed by opening the Preferences and navigating to Preferences --&#62; Advanced --&#62; Encryption --&#62; click on the &#34;View Certificates&#34; button --&#62; then on the &#34;Servers&#34; tab in the resulting &#34;Certificate Manager&#34; window and click the &#34;Import...&#34; button for each of the two certificates in each case above.

We should probably add this to the SURAgrid instructions, or update to DigiCert certificates for the voms.hpcc.ttu.edu server (so the DOEGrids and ESNet ones CA certs will no longer be needed by the user) and just add the DigiCert instructions as above.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1362520342'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T21:52:22+00:00">Mar 5, 2013 09:52 PM UTC</time><a class="anchor" name="1362520342">&nbsp;</a></div><pre>I just checked, voms uses the HTTP cert that will expire in Sep, 2013. The file /etc/tomcat6/server.xml, it has the setup that tomcat reads the certificate from /etc/grid-security/http, and tomcat has the right access permission to the cert,

In the browser(I use firefox), Click on the tab, Tools -&#62; Page Info -&#62; Security -&#62; View Certificate, than you&#39;ll see the detailed information about the certificate.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362518524'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T21:22:04+00:00">Mar 5, 2013 09:22 PM UTC</time><a class="anchor" name="1362518524">&nbsp;</a></div><pre>That is strange.  The /etc/grid-security/hostcert.pem /etc/grid-security/http/httpcert.pem and /etc/grid-security/voms/vomscert.pem are all DigiCert certificates and do not expire until Sept. 14 2013

Why is it presenting the old DOEGrids cert?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1362517260'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T21:01:00+00:00">Mar 5, 2013 09:01 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362517260">&nbsp;</a></div><pre>I just confirmed that I can now access SURAGrid VOMS
<font color='#7F7E6F'>&#62; <a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/voms/suragrid/register/start.action' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/voms/suragrid/register/start.action</a></font>

However, the DOEGrid CA used to sign the server certificate has expired on 1/25/2013 (this is happening on a lot of places now), and you might want to request new HTTP certificate. You can request for new certificate at
<font color='#7F7E6F'>&#62; <a href='https&#58;//oim.grid.iu.edu/oim/certificaterequesthost' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificaterequesthost</a></font>
or you can request it via OSG PKI command line tool
<font color='#7F7E6F'>&#62; <a href='https&#58;//twiki.grid.iu.edu/bin/view/Operations/OSGPKICommandlineClients' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Operations/OSGPKICommandlineClients</a></font>

Soichi</pre></div><div class='update_description'><i onclick="document.location='13587#1362516840'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T20:54:00+00:00">Mar 5, 2013 08:54 PM UTC</time><a class="anchor" name="1362516840">&nbsp;</a></div><pre>BTW, you don&#39;t have to add the line &#34;acl blocksites dstdomain &#34;/etc/squid/blockedsites.squid&#34; in squid.conf if you don&#39;t have the &#34;blockedsites.squid&#34; file or you don&#39;t need to block sites.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362516512'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T20:48:32+00:00">Mar 5, 2013 08:48 PM UTC</time><a class="anchor" name="1362516512">&nbsp;</a></div><pre>I think that I have finished setting up our server tinge as a squid proxy caching server. I did the fetch test on voms and on tinge, fetch-crl did update the CRLs successfully. The steps I went through on tinge are shown below.

# yum install squid
# service squid start
# chkconfig squid on
# vi /etc/squid/squid.conf           //add the first two lines at the end of the acl list, add the middle two lines at the beginning of the http section, and add the last two lines at the end of the http section.
# ACL blocksites
acl blocksites dstdomain &#34;/etc/squid/blockedsites.squid&#34;
... ...
# Deny access to blocksites ACL
http_access deny blocksites
... ...
#Restrict download size
reply_body_max_size 20 MB all

# vi /etc/squid/squid.conf        //add the first line in the acl list, add the middle two lines in the http section, and change the squid default port number to 8080
acl ttu_network src 129.118.0.0/16
... ...
#Allow access from ttu local network
http_access allow ttu_network
... ...
#http_port 3128
http_port 8080

# iptables -I INPUT 6 -m state --state NEW,ESTABLISHED,RELATED -m tcp -p tcp --dport 8080 -j ACCEPT        //insert a rule in the iptable before any reject rules
# service iptables status
# service iptables save
# service squid restart     //restart squid
# /usr/sbin/squid -v      //check for the installed squid version and the configure options
# vi /etc/fetch-crl         //add the following line before the line &#34;https_proxy=...&#34;
http_proxy=<a href='http&#58;//tinge.hpcc.ttu.edu&#58;8080/' target='_blank' rel='nofollow'>http&#58;//tinge.hpcc.ttu.edu&#58;8080/</a>

# fetch-crl
# ls -l /etc/grid-security/certificates/2694e4f2.r0        //check the update date for the CRL, it should be the time that you run fetch-crl

<div id='show_178740363' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_178740363'>Hope this helps for updating the online instruction guide.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8
</div><script type='text/javascript'>
        $('#show_178740363').click(function() {
            $('#detail_178740363').slideDown("normal");
            $('#show_178740363').hide();
            $('#hide_178740363').show();
        });
        $('#hide_178740363').click(function() {
            $('#detail_178740363').slideUp();
            $('#hide_178740363').hide();
            $('#show_178740363').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='13587#1362501504'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T16:38:24+00:00">Mar 5, 2013 04:38 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362501504">&nbsp;</a></div><pre>Brian pointed me to following documentation about fetch-crl
<font color='#7F7E6F'>&#62; <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/InstallCertAuth#Managing_Certificate_Revocation' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/Release3/InstallCertAuth#Managing_Certificate_Revocation</a></font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//www.opensciencegrid.org/bin/view/Documentation/UpgradeFetchCrl2to3_draft' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/Documentation/UpgradeFetchCrl2to3_draft</a></font>
(2nd link is a draft - as the title states)

CC-ing Marco.

Marco, can you add some instructions on how to configure squid just for fetch-crl? Or.. mabe we should update the Release3/InstallFrontierSquid document to contain information about fetch-crl? This doc currently is written in the context of hosting CVMFS.</pre></div><div class='update_description'><i onclick="document.location='13587#1362499493'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T16:04:53+00:00">Mar 5, 2013 04:04 PM UTC</time><a class="anchor" name="1362499493">&nbsp;</a></div><pre>It doesn&#39;t look like OSG has an installation guide for installing a caching service to correspond with the use of or needs of fetch-crl.  The closest they have is the installation guide for the frontier-squid package that supports the CMS and Atlas experiment VOs only.

That guide is here&#58; <a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallFrontierSquid' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallFrontierSquid</a>

GOC, it looks like we need a guide for setting up squid to support fetch-crl (or other caching service).

it makes no sense to point the proxy server back to the machine itself.  That basically would try to use the Apache web server as the caching server, which would not work.  It would be beter to leave the line completely out and not use any caching proxy until one is set up,

meanwhile, GOC, we could use some better OSG documentation on setting up a caching service for use with fetch-crl.

Amy, if you wanted to experiment n the meantime, you could install the frontier-squid service on tinge (to avoid messing up or disturbing the one on hugin, whcih is already in use byt he CMS VO for their database caching service), by perhaps following the frontier-squid rpm instructions at the link above and seeing if you can configure all of our new rpm-based services on the various new installations here to use the tinge caching service on whatever port you set it up to use for this purpose.

Again, OSG folks at the GOC, we need a better installation guide specifically for use with fetch-crl.

Thanks and hope this clear things up a bit in terms of what is needed.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1362494818'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T14:46:58+00:00">Mar 5, 2013 02:46 PM UTC</time><a class="anchor" name="1362494818">&nbsp;</a></div><pre>The OSG version frontier-squid has been installed on the server hugin. When I added &#34;<a href='http&#58;//hugin.hpcc.ttu.edu&#58;3128&#34' target='_blank' rel='nofollow'>http&#58;//hugin.hpcc.ttu.edu&#58;3128&#34</a>; in /etc/fetch-crl.conf and ran fetch-crl, it generated errors.
[root@voms]# fetch-crl
VERBOSE(0) Download error <a href='http&#58;//crl.cesnet-ca.cz/CESNET_CA_3.crl&#58' target='_blank' rel='nofollow'>http&#58;//crl.cesnet-ca.cz/CESNET_CA_3.crl&#58</a>; 504 Gateway Time-out
VERBOSE(0) Download error <a href='http&#58;//crl.cesnet-ca.cz/CESNET_CA_Root.crl&#58' target='_blank' rel='nofollow'>http&#58;//crl.cesnet-ca.cz/CESNET_CA_Root.crl&#58</a>; 504 Gateway Time-out
ERROR verify called on empty data blob
ERROR CRL verification failed for SWITCH-QuoVadis-Grid-ICA/0 (SWITCH-QuoVadis-Grid-ICA)
VERBOSE(0) SWITCH-QuoVadis-Grid-ICA/0&#58; 0
VERBOSE(0) SWITCH-QuoVadis-Grid-ICA/0&#58; downloaded CRL lastUpdate could not be derived

I then changed fetch-crl.conf back(only a https proxy left), fetch-crl worked fine without generating errors.

The squid version installed on Hugin is Version 2.7.STABLE7.
[root@hugin sbin]# ./squid -v
Squid Cache&#58; Version 2.7.STABLE7
configure options&#58;  &#39;--prefix=/state/partition1/frontier/frontier-cache/squid&#39; &#39;--disable-wccp&#39; &#39;--enable-snmp&#39; &#39;--disable-ident-lookups&#39; &#39;--enable-storeio=ufs aufs&#39; &#39;--with-large-files&#39;

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362448028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-05T01:47:08+00:00">Mar 5, 2013 01:47 AM UTC</time> by <b>TIGRE</b><a class="anchor" name="1362448028">&nbsp;</a></div><pre>The proxy line refers to an http caching service, like squid. To use this, you have to point to an existing squid server at your site.

I think we run one on hugin but do not run one on voms it any of our other grid machines.

I sent a separate message about this outside of the ticketing system - please check.

Alan

On Mar 4, 2013, at 4&#58;18 PM, &#34;Open Science Grid FootPrints&#34; &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='13587#1362436283'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T22:31:23+00:00">Mar 4, 2013 10:31 PM UTC</time><a class="anchor" name="1362436283">&nbsp;</a></div><pre>The port for tomcat is setup in /etc/tomcat6/server.xml,

[root@voms tomcat6]# cat server.xml | grep -B 2 8443
&#60;Service name=&#34;Catalina&#34;&#62;
&#60;Connector port=&#34;8443&#34; SSLEnabled=&#34;true&#34;

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362435993'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T22:26:33+00:00">Mar 4, 2013 10:26 PM UTC</time><a class="anchor" name="1362435993">&nbsp;</a></div><pre>No, I didn&#39;t. The port is 8443. The current fetch-crl looks like the following.

[root@voms ~]# cat /etc/fetch-crl.conf
#
# Default configuration file for fetch-crl3
# @(#)$Id$
#
infodir = /etc/grid-security/certificates
agingtolerance = 24
nosymlinks
nowarnings
https_proxy=<a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/</a>

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362435522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T22:18:42+00:00">Mar 4, 2013 10:18 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362435522">&nbsp;</a></div><pre>I believe you need to update from
<font color='#7F7E6F'>&#62; http_proxy=<a href='http&#58;//voms.hpcc.ttu.edu&#58;8443/' target='_blank' rel='nofollow'>http&#58;//voms.hpcc.ttu.edu&#58;8443/</a></font>
to something like
<font color='#7F7E6F'>&#62; http_proxy=<a href='http&#58;//voms.hpcc.ttu.edu&#58;8080/' target='_blank' rel='nofollow'>http&#58;//voms.hpcc.ttu.edu&#58;8080/</a></font>
(I am guessing on the port number.) The number 443 hints that it is for HTTPS not HTTP.</pre></div><div class='update_description'><i onclick="document.location='13587#1362435360'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T22:16:00+00:00">Mar 4, 2013 10:16 PM UTC</time><a class="anchor" name="1362435360">&nbsp;</a></div><pre>As Dr. Alan Sill suggested, I tried to modify the file fetch-crl.conf. When the line &#34;https_proxy=<a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/&#34' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/&#34</a>; is removed, fetch-crl doesn&#39;t work. But when the line &#34;http_proxy=<a href='http&#58;//voms.hpcc.ttu.edu&#58;8443/&#34' target='_blank' rel='nofollow'>http&#58;//voms.hpcc.ttu.edu&#58;8443/&#34</a>; is removed and the other line is kept, fetch-crl is able to fetch the CRLs.

[root@voms ~]# ls -l /etc/grid-security/certificates/2694e4f2.r0
-rw-r--r-- 1 root root 784 Mar  4 15&#58;54 /etc/grid-security/certificates/2694e4f2.r0
[root@voms ~]# openssl crl -in /etc/grid-security/certificates/2694e4f2.r0 -noout -text
Certificate Revocation List (CRL)&#58;
Version 2 (0x1)
Signature Algorithm&#58; sha1WithRSAEncryption
Issuer&#58; /DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid Root CA
Last Update&#58; Feb 26 17&#58;00&#58;00 2013 GMT
Next Update&#58; Mar 19 17&#58;00&#58;00 2013 GMT

After a reboot, I was able to access to voms <a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/vomses/' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/vomses/</a> using my DigiCert certificate.

Rodica, can you please try now to see if you can access to it?

Thanks Soichi for your assistance on this.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362426987'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T19:56:27+00:00">Mar 4, 2013 07:56 PM UTC</time><a class="anchor" name="1362426987">&nbsp;</a></div><pre>[root@voms ~]# cat /etc/fetch-crl.conf
#
# Default configuration file for fetch-crl3
# @(#)$Id$
#
infodir = /etc/grid-security/certificates
agingtolerance = 24
nosymlinks
nowarnings
http_proxy=<a href='http&#58;//voms.hpcc.ttu.edu&#58;8443/' target='_blank' rel='nofollow'>http&#58;//voms.hpcc.ttu.edu&#58;8443/</a>
https_proxy=<a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/</a>

Thanks,
Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362426636'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T19:50:36+00:00">Mar 4, 2013 07:50 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362426636">&nbsp;</a></div><pre>Amy,

Can you attach the content for /etc/fetch-crl.conf ?</pre></div><div class='update_description'><i onclick="document.location='13587#1362424418'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T19:13:38+00:00">Mar 4, 2013 07:13 PM UTC</time><a class="anchor" name="1362424418">&nbsp;</a></div><pre>The variable was set up but it didn&#39;t make fetch-crl work this time. The log file /var/log/cron shows the following messages.

Mar  4 13&#58;01&#58;01 voms CROND[2419]&#58; (root) CMD ([ ! -f /var/lock/subsys/fetch-crl-cron ] || ( [ -f /etc/sysconfig/fetch-crl ] && . /etc/sysconfig/fetch-crl ; /usr/sbin/fetch-crl -q -r 360 ))
Mar  4 13&#58;01&#58;01 voms CROND[2420]&#58; (root) CMD (run-parts /etc/cron.hourly)
Mar  4 13&#58;01&#58;01 voms run-parts(/etc/cron.hourly)[2420]&#58; starting 0anacron
Mar  4 13&#58;01&#58;01 voms run-parts(/etc/cron.hourly)[2431]&#58; finished 0anacron
Mar  4 13&#58;10&#58;01 voms CROND[2502]&#58; (root) CMD (   [ ! -f /var/lock/subsys/osg-update-certs-cron ] || /usr/sbin/osg-update-certs --random-sleep 2700 --called-from-cron)

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362420870'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T18:14:30+00:00">Mar 4, 2013 06:14 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362420870">&nbsp;</a></div><pre>Amy,

Per this report &#62; <a href='http&#58;//ticket.grid.iu.edu/goc/12820#1350931418' target='_blank' rel='nofollow'>http&#58;//ticket.grid.iu.edu/goc/12820#1350931418</a>

Can you try running it after you run
<font color='#7F7E6F'>&#62; export X509_CERT_DIR=/etc/grid-security/certificates</font>
?

I am not sure how you are running fetch-crl via cron (if you have X509_CERT_DIR configured via cron, or have a wrapper script setup to set it, etc..) but you might want to check /var/log/cron to see if you are seeing similar issue (if that *is* the issue)</pre></div><div class='update_description'><i onclick="document.location='13587#1362409522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T15:05:22+00:00">Mar 4, 2013 03:05 PM UTC</time><a class="anchor" name="1362409522">&nbsp;</a></div><pre>Thank you Soichi. Yes, fetch-crl doesn&#39;t work as before.

[root@voms grid-security]# fetch-crl
ERROR verify called on empty data blob
ERROR CRL verification failed for AAACertificateServices/0 (AAACertificateServices)
VERBOSE(0) AAACertificateServices/0&#58; 0
VERBOSE(0) AAACertificateServices/0&#58; downloaded CRL lastUpdate could not be derived
ERROR verify called on empty data blob
ERROR CRL verification failed for AddTrust-External-CA-Root/0 (AddTrust-External-CA-Root)
VERBOSE(0) AddTrust-External-CA-Root/0&#58; 0
VERBOSE(0) AddTrust-External-CA-Root/0&#58; downloaded CRL lastUpdate could not be derived
ERROR verify called on empty data blob
ERROR CRL verification failed for AEGIS/0 (AEGIS)
VERBOSE(0) AEGIS/0&#58; 0
....

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362409183'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T14:59:43+00:00">Mar 4, 2013 02:59 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362409183">&nbsp;</a></div><pre>When you run fetch-crl, does it update the timestamp?

2013-03-04 14&#58;54&#58;22 UTC [hayashis@soichi&#58;~]$ ls -la /etc/grid-security/certificates/2694e4f2.r0
-rw-r--r-- 1 root root 784 Mar  4 12&#58;27 /etc/grid-security/certificates/2694e4f2.r0
2013-03-04 14&#58;55&#58;03 UTC [root@soichi&#58;~]# fetch-crl
2013-03-04 14&#58;56&#58;54 UTC [root@soichi&#58;~]# ls -la /etc/grid-security/certificates/2694e4f2.r0
-rw-r--r-- 1 root root 784 Mar  4 14&#58;55 /etc/grid-security/certificates/2694e4f2.r0

I am not an expert on fetch-crl, but it looks like your fetch-crl is not doing its job.

Software Team,

Is there someone who could help us with troubleshooting fetch-crl issue on SURAGrid?

Thanks,</pre></div><div class='update_description'><i onclick="document.location='13587#1362408509'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T14:48:29+00:00">Mar 4, 2013 02:48 PM UTC</time><a class="anchor" name="1362408509">&nbsp;</a></div><pre>[root@voms tomcat6]# openssl crl -in /etc/grid-security/certificates/2694e4f2.r0 -noout -text
Certificate Revocation List (CRL)&#58;
Version 2 (0x1)
Signature Algorithm&#58; sha1WithRSAEncryption
Issuer&#58; /DC=com/DC=DigiCert-Grid/O=DigiCert Grid/CN=DigiCert Grid Root CA
Last Update&#58; Jan 29 17&#58;00&#58;00 2013 GMT
Next Update&#58; Feb 19 17&#58;00&#58;00 2013 GMT
CRL extensions&#58;
X509v3 Authority Key Identifier&#58;
keyid&#58;3D&#58;C8&#58;D4&#58;B3&#58;B9&#58;A1&#58;77&#58;50&#58;97&#58;50&#58;11&#58;50&#58;A8&#58;39&#58;E5&#58;1C&#58;53&#58;63&#58;C6&#58;70

X509v3 CRL Number&#58;
58
Revoked Certificates&#58;
..........

Thanks.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362407809'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T14:36:49+00:00">Mar 4, 2013 02:36 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362407809">&nbsp;</a></div><pre>Can you send me the output from following command line?

<font color='#7F7E6F'>&#62; openssl crl -in /etc/grid-security/certificates/2694e4f2.r0 -noout -text</font></pre></div><div class='update_description'><i onclick="document.location='13587#1362407271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T14:27:51+00:00">Mar 4, 2013 02:27 PM UTC</time><a class="anchor" name="1362407271">&nbsp;</a></div><pre>Yes. The server was rebooted and all the services were restarted at the boot time. In /etc/grid-security/certificates, all of the DigiCert CAs are valid. But in tomcat&#39;s log file, when I try to access voms using my DigiCert&#39;s certificate, it shows a message of &#34;The certificate validation for [CN=Amy Wang 8, OU=People, O=Open Science Grid, DC=DigiCert-Grid, DC=com] failed&#58; Certificate checking for DC=com,DC=DigiCert-Grid,O=DigiCert Grid,CN=DigiCert Grid CA-1 failed, rejecting it. Error was&#58; The certificate CN=DigiCert Grid CA-1,O=DigiCert Grid,DC=DigiCert-Grid,DC=com revocation checking failed&#58; The certificate DC=com,DC=DigiCert-Grid,O=DigiCert Grid,CN=DigiCert Grid CA-1 is not in the CRL of DC=com,DC=DigiCert-Grid,O=DigiCert Grid,CN=DigiCert Grid Root CA, but the CRL has expired on Tue Feb 19 11&#58;00&#58;00 CST 2013, so rejecting this certificate.&#34;

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362405896'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-04T14:04:56+00:00">Mar 4, 2013 02:04 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362405896">&nbsp;</a></div><pre>Amy,

Have you restarted the tomcat container?</pre></div><div class='update_description'><i onclick="document.location='13587#1362181232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T23:40:32+00:00">Mar 1, 2013 11:40 PM UTC</time><a class="anchor" name="1362181232">&nbsp;</a></div><pre>I tried to make fetch-crl work but failed. So I installed osg-ca-certs-updater for updating CAs, and it did update the CAs on the voms server. I tried to access to its web interface using my two user certs, the DOEGrid&#39;s cert works, but I see the ssl connection error when I tried access to voms using my DigiCert&#39;s cert.

Amy

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Amy Wang 8</pre></div><div class='update_description'><i onclick="document.location='13587#1362167705'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T19:55:05+00:00">Mar 1, 2013 07:55 PM UTC</time><a class="anchor" name="1362167705">&nbsp;</a></div><pre>Looks like that the service fetch-crl-cron doesn&#39;t work even it&#39;s been enabled. The CRL is not updating by fetch-crl-cron, that caused the problem.

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362166970'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T19:42:50+00:00">Mar 1, 2013 07:42 PM UTC</time><a class="anchor" name="1362166970">&nbsp;</a></div><pre>Thanks. There are error messages in the tomcat log file,
&#34;tomcat [http-8443-2]&#58; 2013-03-01T11&#58;26&#58;09.666-0600 INFO  trustmanager.OpensslCertPathValidator  - The certificate CN=DigiCert Grid CA-1,O=DigiCert Grid,DC=DigiCert-Grid,DC=com is revoked by CN=DigiCert Grid Root CA,O=DigiCert Grid,DC=DigiCert-Grid,DC=com.&#34;
&#34;tomcat [http-8443-2]&#58; 2013-03-01T11&#58;26&#58;09.666-0600 INFO  trustmanager.OpensslTrustmanager  - The certificate validation for [CN=Soichi Hayashi 238, OU=People, O=Open Science Grid, DC=DigiCert-Grid, DC=com] failed&#58; Certificate checking for DC=com,DC=DigiCert-Grid,O=DigiCert Grid,CN=DigiCert Grid CA-1 failed, rejecting it. Error was&#58; The certificate CN=DigiCert Grid CA-1,O=DigiCert Grid,DC=DigiCert-Grid,DC=com revocation checking failed&#58; The certificate DC=com,DC=DigiCert-Grid,O=DigiCert Grid,CN=DigiCert Grid CA-1 is not in the CRL of DC=com,DC=DigiCert-Grid,O=DigiCert Grid,CN=DigiCert Grid Root CA, but the CRL has expired on Tue Feb 19 11&#58;00&#58;00 CST 2013, so rejecting this certificate.&#34;

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362166607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T19:36:47+00:00">Mar 1, 2013 07:36 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362166607">&nbsp;</a></div><pre>OK Thanks.

Just to help with your troubleshooting, I am accessing following URL (advertised in OIM)
<font color='#7F7E6F'>&#62; <a href='https&#58;//voms.hpcc.ttu.edu&#58;8443/vomrs/suragrid/vomrs' target='_blank' rel='nofollow'>https&#58;//voms.hpcc.ttu.edu&#58;8443/vomrs/suragrid/vomrs</a></font>

When I visit this website, I am prompted to provide my user certificate, and I provide following DN
<font color='#7F7E6F'>&#62; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Soichi Hayashi 238</font>

When I click OK, I then see following message on Chrome

<font color='#7F7E6F'>&#62; Certificate-based authentication failed</font>
<font color='#7F7E6F'>&#62; This server requires a certificate for authentication, and didn&#39;t accept the one sent by the browser. Your certificate may have expired, or the server may not trust its issuer. You can try again with a different certificate, if you have one, or you may have to obtain a valid certificate from elsewhere.</font>
<font color='#7F7E6F'>&#62; Error 117 (net&#58;&#58;ERR_BAD_SSL_CLIENT_AUTH_CERT)&#58; Bad SSL client authentication certificate.</font>

I have attached the screenshot with this ticket.

Thanks</pre></div><div class='update_description'><i onclick="document.location='13587#1362166270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T19:31:10+00:00">Mar 1, 2013 07:31 PM UTC</time><a class="anchor" name="1362166270">&nbsp;</a></div><pre>Yes, we have DigiCertGrid CA and DigiCertGridRoot CA. So some users can join the VO using their DigiCert certificate. We have an user here at TTU joined the VO SURAgrid about a month ago using her DigiCert certificate. Everything on VOMS worked well before. I don&#39;t know what caused this problem. I&#39;ll try to look at the log files to see if I can find anything odd.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362162234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T18:23:54+00:00">Mar 1, 2013 06:23 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362162234">&nbsp;</a></div><pre>Do you have DigiCert-Grid CA (not the commercial DigiCert CA)?</pre></div><div class='update_description'><i onclick="document.location='13587#1362159644'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T17:40:44+00:00">Mar 1, 2013 05:40 PM UTC</time><a class="anchor" name="1362159644">&nbsp;</a></div><pre>That&#39;s strange. We have the DigiCert CAs in /etc/grid-security/certificates. And some of the users on voms are using DigiCert user certificates.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362157770'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T17:09:30+00:00">Mar 1, 2013 05:09 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362157770">&nbsp;</a></div><pre>I am seeing the same issue Rodica is reporting.

I am guessing that the SURAGrid VOMS doesn&#39;t have DigiCert Root CA installed in /etc/grid-security... (just guessing).

SURAgrid SC,

Can you check and see why we are having issue accessing your VOMS using DigiCert user certificate?</pre></div><div class='update_description'><i onclick="document.location='13587#1362157557'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T17:05:57+00:00">Mar 1, 2013 05:05 PM UTC</time><a class="anchor" name="1362157557">&nbsp;</a></div><pre>Can you try it again? If you still see the message, please come to my office.

Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362157210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T17:00:10+00:00">Mar 1, 2013 05:00 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1362157210">&nbsp;</a></div><pre>I added the page to the exception list but I get
the error message &#34;Secure connection failed&#34;. I do not have
any option here.

Rodica</pre></div><div class='update_description'><i onclick="document.location='13587#1362156576'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T16:49:36+00:00">Mar 1, 2013 04:49 PM UTC</time><a class="anchor" name="1362156576">&nbsp;</a></div><pre>Hi Rodica,

Please don&#39;t worry. Just add it to the exception list in your browser when you see the warning page. Then you&#39;ll see a webpage that has a form for you to fill out for your membership request.

We have the issue that we see the connection untrusted warning page when we access to the voms server, and that happened to other servers too. We use the HTTP service certificates that were issued from DOEGrid and from DigiCert, the SSL proxy should be secure, but it&#39;s actually not. Anyone has an idea?

Thanks,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362155596'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-03-01T16:33:16+00:00">Mar 1, 2013 04:33 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1362155596">&nbsp;</a></div><pre>I was finally able to download and import the certificate. Now I am trying to
register on VO SuraGrid but after I select the certificate I get the error message &#34;This connection is untrusted&#34;. How should I proceed from here?

Thank you,
Rodica Gelca</pre></div><div class='update_description'><i onclick="document.location='13587#1362081295'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-28T19:54:55+00:00">Feb 28, 2013 07:54 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362081295">&nbsp;</a></div><pre>Rodica,

There is an OSG jira ticket to update the captcha used in OIM to a different implementation that allows user to change the captcha (<a href='http&#58;//jira.opensciencegrid.org/browse/OSGPKI-337' target='_blank' rel='nofollow'>http&#58;//jira.opensciencegrid.org/browse/OSGPKI-337</a>). For now, can you restart your browser and visit the request page again to try different captcha?

Thank you,</pre></div><div class='update_description'><i onclick="document.location='13587#1362079089'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-28T19:18:09+00:00">Feb 28, 2013 07:18 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1362079089">&nbsp;</a></div><pre>Hi,

I am trying to apply for a new certificate and it is impossible, the &#34;Captcha&#34; I
introduce is not recognized. This is the first time when I am not able to introduce the correct
capthca. It must be a system problem again similar with what I had before.

Rodica Gelca</pre></div><div class='update_description'><i onclick="document.location='13587#1362076829'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-28T18:40:29+00:00">Feb 28, 2013 06:40 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1362076829">&nbsp;</a></div><pre>Rodica,

I have release the password field patch during our last release, and you should no longer have the issue you have experienced while entering your new password.

I have also disabled your DN currently requested (Request ID 167) so that you can issue another user certificate request.

Please visit <a href='https&#58;//oim.grid.iu.edu/oim/certificaterequestuser' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificaterequestuser</a> and make a new request.

Sorry for the trouble.

Alain,

Please cancel this request &#62; <a href='https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167</a>

Thanks,
Soichi</pre></div><div class='update_description'><i onclick="document.location='13587#1362075128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-28T18:12:08+00:00">Feb 28, 2013 06:12 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1362075128">&nbsp;</a></div><pre>Hi Amy,

It is ok. I hope that I will be able to get the certificate
at one point.

Thank you,
Rodica</pre></div><div class='update_description'><i onclick="document.location='13587#1362068722'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-28T16:25:22+00:00">Feb 28, 2013 04:25 PM UTC</time><a class="anchor" name="1362068722">&nbsp;</a></div><pre>Hi Rodica,

I&#39;m not added as a SURAgrid RA. I&#39;m sorry that I couldn&#39;t help you at the moment.

Regards,
Amy

by /DC=org/DC=doegrids/OU=People/CN=Hui Wang 753262</pre></div><div class='update_description'><i onclick="document.location='13587#1362068141'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-28T16:15:41+00:00">Feb 28, 2013 04:15 PM UTC</time><a class="anchor" name="1362068141">&nbsp;</a></div><pre>Rodica is still unable to enter her password to retrieve this certificate.

GOC, can you please respond to the question about whether the password service is working properly?

Alan

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1361479779'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-21T20:49:39+00:00">Feb 21, 2013 08:49 PM UTC</time><a class="anchor" name="1361479779">&nbsp;</a></div><pre>Note ping, traceroute, etc. are blocked at the university firewall, so Rodica will be unlikely to be able to send you the output of this command.

What issues are there with the password editor?  What else can this user try?

Also, Amy Wang here at TTU has just sent in a request to be added as a SURAgrid RA so that she can more easily work with users here.  Can you look for that and process it, please?  Thanks.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Alan Sill 4</pre></div><div class='update_description'><i onclick="document.location='13587#1361472857'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-21T18:54:17+00:00">Feb 21, 2013 06:54 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1361472857">&nbsp;</a></div><pre>Rodica,

Someone else was having a similar issue with our password editor, and we have an internal Jira ticket for this issue
<font color='#7F7E6F'>&#62; <a href='https&#58;//jira.opensciencegrid.org/browse/OSGPKI-338' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/OSGPKI-338</a></font>

When you were having this issue, how were you connected to the internet? LAN? DSL? Also, can you post the result from following command?
$ ping oim.grid.iu.edu
(please run this on the same machine that you were having this issue).</pre></div><div class='update_description'><i onclick="document.location='13587#1361468710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-21T17:45:10+00:00">Feb 21, 2013 05:45 PM UTC</time> by <b>rodica.gelca@....</b><a class="anchor" name="1361468710">&nbsp;</a></div><pre>I am trying to retrieve my certificate and when I enter the password I get
the error message &#34;password does not match&#34;. The password that I enter is the one I used
when I applied for certificate.
I had hard time matching the password that time and it was
not because I typed it wrong. There were two places where I had to enter the password and even
if I copy paste it I got the message &#34;password does not match&#34;. After I typed it repeatedly I was
able to apply for certificate.
Now I am not able to retrieve the certificate even if  I keep typing the password.
It must be a problem with the system.

Thank you,
Rodica Gelca</pre></div><div class='update_description'><i onclick="document.location='13587#1361391787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-20T20:23:07+00:00">Feb 20, 2013 08:23 PM UTC</time><a class="anchor" name="1361391787">&nbsp;</a></div><pre>Dear Rodica Gelca,

Your user certificate request has been approved.

<font color='#7F7E6F'>&#62; Confirmed with Rodica</font>

To retrieve your certificate please visit <a href='https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167</a> and click on Issue Certificate button.</pre></div><div class='update_description'><i onclick="document.location='13587#1360001797'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-04T18:16:37+00:00">Feb 4, 2013 06:16 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1360001797">&nbsp;</a></div><pre>Dear James A. Lupo, Alan Sill, Alain Deximo, Steve Johnson (SURAgrid VO RA/Sponsors),

An unauthenticated user; Rodica Gelca &#60;rodica.gelca@....&#62; has requested a user certificate. Please determine this request&#39;s authenticity, and approve / disapprove at <a href='https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/certificateuser?id=167</a>

NOTE&#58; User is registering OIM contact & requesting new certificate&#58; contact id&#58;1014
NOTE&#58; Requested DN&#58; /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Rodica Gelca 1014</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F13587">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="/images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 13587});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
