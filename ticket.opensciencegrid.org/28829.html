<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[28829] Moving T2_US_Caltech to multicore</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=28829" method="post">
<div class="page-header">
    <h3><span class="muted">28829</span> / Moving T2_US_Caltech to multicore</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Antonio Perez-Calero</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Antonio Perez-Calero Yzquierdo</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier2</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Ask at ops</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-04-28</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS Tier 2 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=120098">120098</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/28829", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='28829#1461852284'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-28T14:04:44+00:00">Apr 28, 2016 02:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461852284">&nbsp;</a></div><pre>-- by Antonio Perez-Calero Yzquierdo at Thu Apr 28 14&#58;04&#58;27 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1461807666'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-28T01:41:06+00:00">Apr 28, 2016 01:41 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461807666">&nbsp;</a></div><pre>Site is now multicore and single core entry added for older machines.

-- by Thomas Wayne Hendricks at Thu Apr 28 01&#58;40&#58;52 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1461755918'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-27T11:18:38+00:00">Apr 27, 2016 11:18 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461755918">&nbsp;</a></div><pre>-- by Antonio Perez-Calero Yzquierdo at Wed Apr 27 11&#58;18&#58;04 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1461683267'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-26T15:07:47+00:00">Apr 26, 2016 03:07 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461683267">&nbsp;</a></div><pre>Hi everybody,

Anything else to discuss on this ticket? if not, should we close it?

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Tue Apr 26 15&#58;06&#58;55 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1461259753'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-21T17:29:13+00:00">Apr 21, 2016 05:29 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461259753">&nbsp;</a></div><pre>Thanks Wayne and Jeff. Anything else remaining to be done for this ticket?

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Thu Apr 21 11&#58;28&#58;58 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1461000949'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-18T17:35:49+00:00">Apr 18, 2016 05:35 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461000949">&nbsp;</a></div><pre>Hi Wayne,

I agree this is a reasonable way forward. To simplify things I have only enabled one single core entry for each factory, CMS_T2_US_Caltech_cit. I have set max pilots on each to 196, 196 * 3 = 588.

Jeff Dost
OSG Glidein Factory Operations

-- by Jeffrey Dost at Sat Apr 16 00&#58;01&#58;54 UTC 2016

I think we can just limit the single core slots to 588 total at the factories in the mean time.  Since all of these slots can be eliminated fairly easily with new hardware, I will draw up what our 2016 hardware purchase plan will look like so that all of these can be retired.  Hopefully we will get our funds shortly and all of these can go away at the very least by the end of the year.  If this is acceptable, we should put this limit in place and close the ticket.  I will follow up with Marty in a separate ticket about the new opportunistic CE.

-- by Thomas Wayne Hendricks at Fri Apr 15 22&#58;32&#58;46 UTC 2016

Marty, thanks for the suggestion, I know we could adopt more sophisticated solutions. But I don&#39;t want to open that possibility at this moment, as that would imply an evolution of the current CMS multicore model, which I am not saying we should not do, but not now when the resources are most needed for scientific production.

That&#39;s why I&#39;d keep the factories in the most simple, standard way across all sites&#58; multicore preferentially and single core if needed, but provided that they don&#39;t conflict with the main interest, which is multicore.

Cheers,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Fri Apr 15 09&#58;20&#58;02 UTC 2016

Hi,

The point is the following. CMS requires the resources in multicore mode, so any remaining single core, if any, should not compete for resources with multicore. Of those 716 cores, we can really use 588, due to the 2 GB/core requirement. Therefore, I would say the simplest way is for the site to adapt its configuration in order to&#58;

-identify those old nodes at scheduling time

-avoid any multicore being routed there

-redirect single core to those nodes

-avoid single core from being routed to the other machines, those which can run multicore.

<div id='show_1730662603' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1730662603'>If that requires a different queue, CE, partition of the farm or else, I don&#39;t know, as that&#39;s internal to the site. All I see is that, being a site case as the site is still employing these old machines still, I propose the solution be found and implemented at the site level.

Thanks,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Fri Apr 15 09&#58;15&#58;32 UTC 2016

Antonio, Thomas,

Let us know how you would like to proceed. If you&#39;re open to it, we could also provide &#34;auto&#34; glideins, which will detect the number of cores, memory, etc automatically when they start up on any given node. We&#39;ve been using this option at a few OSG sites for the last year or so with success. But I know CMS has more restrictions on what they want. Just wanted to let you know about this option as well.

Marty Kandes
UCSD Glidein Factory Operations

-- by Marty Kandes at Thu Apr 14 18&#58;08&#58;38 UTC 2016

Also, the total count is 7152, so 588 is 8.22% of total.

-- by Thomas Wayne Hendricks at Thu Apr 14 04&#58;52&#58;22 UTC 2016

The 716 cores we have on older machines will not match multicore pilots.  Most of them are 4 or 8 cores, with just under the RAM limits (most are 15948MB).  When taking into account the RAM deficiencies on these hosts, a total of 588 total single core 2GB slots can be matched.  I have attached a file for review with the specific information.  Is the single core factory limit the best solution?  If no, how should we limit the single core pilots at our site, new CE?

-- by Thomas Wayne Hendricks at Thu Apr 14 04&#58;43&#58;23 UTC 2016

Added attachment Single-Cores.xlsx
<a href='https&#58;//ggus.eu/index.php?mode=download&attid=ATT106431' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=download&attid=ATT106431</a>

-- by Thomas Wayne Hendricks at Thu Apr 14 04&#58;43&#58;22 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a>
</div><script type='text/javascript'>
        $('#show_1730662603').click(function() {
            $('#detail_1730662603').slideDown("normal");
            $('#show_1730662603').hide();
            $('#hide_1730662603').show();
        });
        $('#hide_1730662603').click(function() {
            $('#detail_1730662603').slideUp();
            $('#hide_1730662603').hide();
            $('#show_1730662603').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='28829#1460556250'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-13T14:04:10+00:00">Apr 13, 2016 02:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1460556250">&nbsp;</a></div><pre>Hi Marty, Wayne

First a question&#58; how many machines, cores in total and cores per machine can&#39;t support 8-core pilots? what fraction of the total are we talking about? We needed that information on update#8.

Then, the single core entries are not desired by CMS in terms of taking a substantial amount of resources at the site, as we need most of it as multicore. Bottom line, we should avoid single core competing with multicore. So either

a) we limit single core for CMS to those machines that can&#39;t provide multicore at the site

b) we limit the max number of single core glideins at the factory side to never exceed the amount of resources represented by those machines,

So please, choose and implement either solution to satisfy CMS request.

Thanks,

Antonio
CMS Submission Infrastructure.

-- by Antonio Perez-Calero Yzquierdo at Wed Apr 13 08&#58;13&#58;29 UTC 2016

Thomas,

I&#39;ve reverted the GLIDEIN_Max_Walltime back to 48 hrs for all enabled entries and gatekeepers at Caltech. In addition, I&#39;ve re-enabled the single core entries [1] [2] on the GOC and SDSC glidein factories to restart single-core glidein submission as requested. And finally, I&#39;ve added OSGVO_MULTICORE, glowVO, and Fermilab to the GLIDEIN_Supported_VOs list for the new multicore entry [3], which was the only Caltech factory entry that did not have them listed.

Where do we stand on the entry / gatekeeper [4]? Is it up and running at Caltech? It looks to be down from the factory perspective.

Marty Kandes
UCSD Glidein Factory Operations

[1]

CMS_T2_US_Caltech_cit - cit-gatekeeper.ultralight.org

[2]

CMS_T2_US_Caltech_cit2 - cit-gatekeeper2.ultralight.org
<div id='show_1408719736' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1408719736'>
[3]

CMSHTPC_T2_US_Caltech_cit2 - cit-gatekeeper2.ultralight.org

[4]

CMSHTPC_T2_US_Caltech_xeon_hep - xeon.hep.caltech.edu

-- by Marty Kandes at Tue Apr 12 21&#58;49&#58;34 UTC 2016

We can keep the walltime at 48h unless there is any reason to change it.  There are some issues with our site after multicore was rolled out&#58;

1) Our older machines that do not match the 8/16 pilots are not getting any jobs.  The single core entries were removed from the factory, but should not have been.  Since there are still a number of jobs with a single core configuration, we need to have these entries added back asap.

2) We no longer are running jobs from other VOs.  OSG, GLOW, fermilab, etc jobs have not been coming in since the move to multicore.  We would like this put back in place.

-- by Thomas Wayne Hendricks at Tue Apr 12 18&#58;06&#58;36 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a>
</div><script type='text/javascript'>
        $('#show_1408719736').click(function() {
            $('#detail_1408719736').slideDown("normal");
            $('#show_1408719736').hide();
            $('#hide_1408719736').show();
        });
        $('#hide_1408719736').click(function() {
            $('#detail_1408719736').slideUp();
            $('#hide_1408719736').hide();
            $('#show_1408719736').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='28829#1460556221'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-13T14:03:41+00:00">Apr 13, 2016 02:03 PM UTC</time> by <b>Anthony Tiradani</b><a class="anchor" name="1460556221">&nbsp;</a></div><pre>@GOC Staff&#58;  Please check the state of this ticket.  I&#39;ve been bouncing between GGUS and this GOC Ticket and it appears that things are completely out of sync.</pre></div><div class='update_description'><i onclick="document.location='28829#1460390586'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-11T16:03:06+00:00">Apr 11, 2016 04:03 PM UTC</time> by <b>echism</b><a class="anchor" name="1460390586">&nbsp;</a></div><pre>Wayne,

Have you made any decisions about walltime?</pre></div><div class='update_description'><i onclick="document.location='28829#1460146449'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T20:14:09+00:00">Apr 8, 2016 08:14 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1460146449">&nbsp;</a></div><pre>The situation we want to avoid is where pilots are killed by the site for going over a maximum wall clock time required by the site, ever. So in principle the max life of the glidein should be less than the maximum wall clock time of any process on your batch system.

James

<font color='#7F7E6F'>&#62; On Apr 7, 2016, at 6&#58;59 AM, helpdesk@.... wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hello,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; GGUS Ticket #120098 was updated.</font>
<font color='#7F7E6F'>&#62; You are asked for contributing to this ticket if possible.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; REFERENCE LINK&#58; <a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=120098</a></font>
<font color='#7F7E6F'>&#62; SUBJECT&#58; Moving T2_US_Caltech to multicore</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; =====================</font>
<font color='#7F7E6F'>&#62; LATEST MODIFICATIONS&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; LAST MODIFIER -&#62; Antonio Perez-Calero Yzquierdo</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; PUBLIC DIARY -&#62;</font>
<font color='#7F7E6F'>&#62; Hi Wayne,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; For multicore pilots, the current standard across sites is to run for 30h, then start draining the pilots so that they end in a clean way. The max walltime limit value that Jeff was referring to (60h) is only a concern if any particular job running inside the pilot is still running 30h after the pilot was put to drain, highly unlikely. The actual pilot runtime would be 30h plus that required for the internal running jobs to end. So it&#39;s not that CMS is requesting to run our pilots for 60h, even if that value appears in the pilot configuration..</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 60h or 48h, the pilot will start to drain at 30h anyways, so since Jeff prefers you explicitly pick a value, your call.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Antonio.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; *********************************************************************************</font>
<font color='#7F7E6F'>&#62; This is an automated mail. When replying don&#39;t change the subject line!</font>
<font color='#7F7E6F'>&#62; S T R I P  P R E V I O U S  M A I L S please!!</font>
<font color='#7F7E6F'>&#62; *********************************************************************************</font>
<div id='show_1263664012' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1263664012'>
-- by JAMES LETTS at Thu Apr 07 13&#58;57&#58;01 UTC 2016

By the way, what about the extra CE mentioned in update#27? is it ready to be moved to production?

Can we close this ticket asap, please?

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Thu Apr 07 11&#58;00&#58;24 UTC 2016

Hi Wayne,

For multicore pilots, the current standard across sites is to run for 30h, then start draining the pilots so that they end in a clean way. The max walltime limit value that Jeff was referring to (60h) is only a concern if any particular job running inside the pilot is still running 30h after the pilot was put to drain, highly unlikely. The actual pilot runtime would be 30h plus that required for the internal running jobs to end. So it&#39;s not that CMS is requesting to run our pilots for 60h, even if that value appears in the pilot configuration..

60h or 48h, the pilot will start to drain at 30h anyways, so since Jeff prefers you explicitly pick a value, your call.

Thanks,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Thu Apr 07 10&#58;58&#58;48 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a>
</div><script type='text/javascript'>
        $('#show_1263664012').click(function() {
            $('#detail_1263664012').slideDown("normal");
            $('#show_1263664012').hide();
            $('#hide_1263664012').show();
        });
        $('#hide_1263664012').click(function() {
            $('#detail_1263664012').slideUp();
            $('#hide_1263664012').hide();
            $('#show_1263664012').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='28829#1460146383'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-08T20:13:03+00:00">Apr 8, 2016 08:13 PM UTC</time> by <b>echism</b><a class="anchor" name="1460146383">&nbsp;</a></div><pre>I thought it was 48h. I&#39;ll see if I can find out.</pre></div><div class='update_description'><i onclick="document.location='28829#1459975444'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-06T20:44:04+00:00">Apr 6, 2016 08:44 PM UTC</time><a class="anchor" name="1459975444">&nbsp;</a></div><pre>Is this the standard for CMS sites?  We will adjust the walltime for whatever is required for CMS.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=thendric/CN=781001/CN=Thomas Wayne Hendricks</pre></div><div class='update_description'><i onclick="document.location='28829#1459784176'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-04T15:36:16+00:00">Apr 4, 2016 03:36 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1459784176">&nbsp;</a></div><pre>Hi Wayne,

A separate issue caught my attention. It appears that CMS increased the max walltime of the glideins at Caltech to 216000 (60h) without first communicating it to you. The single core entries were set to 48h. Which would you prefer for the new multicore entries?

Thanks,
Jeff Dost
OSG Glidein Factory Operations

-- by Jeffrey Dost at Mon Apr 04 03&#58;04&#58;14 UTC 2016

As an update, it looks like our factory thinks the resource is down&#58;

026 (235792.000.000) 04/01 23&#58;50&#58;50 Detected Down Grid Resource
GridResource&#58; condor xeon.hep.caltech.edu xeon.hep.caltech.edu&#58;9619

-- by Jeffrey Dost at Sat Apr 02 00&#58;53&#58;49 UTC 2016

Hi,

I just added CMSHTPC_T2_US_Caltech_xeon_hep to the GOC ITB and CERN ITB factories, and submitted some test jobs. Wayne, does this CE also accept pilots from the same opportunistic VOs as the cit CEs?

HCC,NEBioGrid,SBGrid,glowVO,NWICG,OSGVO,CIGI,Fermilab

I left them off temporarily while testing but will add them if you give the OK.

Thanks,
Jeff Dost
OSG Glidein Factory Operations

-- by Jeffrey Dost at Fri Apr 01 23&#58;49&#58;18 UTC 2016

Notified CMS Glidein Factory team of this ticket.Dear Factory Ops team,

Could you please setup a test entry for the gatekeeper indicated by Wayne?

<div id='show_1449070704' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1449070704'>xeon.hep.caltech.edu

We can use as a template one of the Caltech multicore entries currently in production, like CMSHTPC_T2_US_Caltech_cit, as apparently there are no significant differences in configuration.

Could you please also try to run some test jobs there, then move it to the production factories?

Thanks a lot,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Thu Mar 31 23&#58;35&#58;14 UTC 2016

Ok, thanks for the details, we&#39;ll do.

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Thu Mar 31 23&#58;29&#58;31 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a>
</div><script type='text/javascript'>
        $('#show_1449070704').click(function() {
            $('#detail_1449070704').slideDown("normal");
            $('#show_1449070704').hide();
            $('#hide_1449070704').show();
        });
        $('#hide_1449070704').click(function() {
            $('#detail_1449070704').slideUp();
            $('#hide_1449070704').hide();
            $('#show_1449070704').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='28829#1459784167'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-04T15:36:07+00:00">Apr 4, 2016 03:36 PM UTC</time> by <b>echism</b><a class="anchor" name="1459784167">&nbsp;</a></div><pre>There is more on this in the GGUS ticket.</pre></div><div class='update_description'><i onclick="document.location='28829#1459446207'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-31T17:43:27+00:00">Mar 31, 2016 05:43 PM UTC</time><a class="anchor" name="1459446207">&nbsp;</a></div><pre>It&#39;s a condor 8.3 cluster with dynamic slots, CVMFS, etc very much like our cluster.  I don&#39;t think there are any significant differences, but the admin is very flexible and open to changing things to fit our needs.  Let me know if the tests are successful.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=thendric/CN=781001/CN=Thomas Wayne Hendricks</pre></div><div class='update_description'><i onclick="document.location='28829#1459443402'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-31T16:56:42+00:00">Mar 31, 2016 04:56 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1459443402">&nbsp;</a></div><pre>Hi Wayne,

We&#39;ll do. Should we use an identical entry configuration to the ones already in production for this new gatekeeper? Any significant difference we should take into account?

Cheers,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Wed Mar 30 23&#58;49&#58;01 UTC 2016

Also, I have worked with our local department admin to enable CMS opportunistic usage on the physics general purpose cluster.  Please test and add an entry for xeon.hep.caltech.edu in the factories.

-- by Thomas Wayne Hendricks at Wed Mar 30 20&#58;04&#58;19 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1459363944'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-30T18:52:24+00:00">Mar 30, 2016 06:52 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1459363944">&nbsp;</a></div><pre>Sounds good. Thanks for solving this asap ;)

-- by Justas Balcas at Wed Mar 30 09&#58;19&#58;29 UTC 2016

Hi Justas,

Apparently we were missing the submit xcount attribute, so we were running multicore inside single core slots at the WNs. We are on it.

Also, single core entries have already been disabled.

Cheers,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Wed Mar 30 09&#58;16&#58;29 UTC 2016

Caltech does not have 14k cores! It is almost double what you can get. Something is strange starting from yesterday and switch to multicore. Now the question is how this affects all running jobs...

-- by Justas Balcas at Wed Mar 30 07&#58;36&#58;53 UTC 2016

Hi Wayne, Vassil,

Multicore at Caltech has been growing fast over the last 24h, see

<a href='http&#58;//submit-3.t2.ucsd.edu/CSstoragePath/aperez/T2s/multicore_usage_t2s_24h.html' target='_blank' rel='nofollow'>http&#58;//submit-3.t2.ucsd.edu/CSstoragePath/aperez/T2s/multicore_usage_t2s_24h.html</a>

We are currently at about 8k cores!

This is working great, but I still see about 5k cores being used as single core. So I&#39;d propose we go ahead and start disabling single core, so that we switch to multicore pilots completely.

Vassil, could you please disable the following entries across production factories?

CMS_T2_US_Caltech_cit
CMS_T2_US_Caltech_cit2

<div id='show_1566931126' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1566931126'>Thanks,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Wed Mar 30 04&#58;58&#58;50 UTC 2016

Thanks Vassil,

The tests went fine indeed, so as Vassil reports, we have moved ahead with the plan and added the new entries to the production factories. Some pilots are already running. Let&#39;s keep them running for a while together with single core. If they continue running fine, we&#39;ll then disable single core pilot submission.

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Tue Mar 29 14&#58;26&#58;27 UTC 2016

Hi Wayne,

The tests ran fine so I added the entries to CERN, GOC and SDSC factories.

Regards,
Vassil

-- by Vassil Verguilov at Tue Mar 29 14&#58;23&#58;38 UTC 2016

Thanks Vassil, Wayne, I have started submitting some test jobs, see if they run fine.

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Tue Mar 29 13&#58;14&#58;56 UTC 2016

Hi Antonio,

I added 2 test multicore entreis - CMSHTPC_T2_US_Caltech_cit [1] and CMSHTPC_T2_US_Caltech_cit2 [2] to CERN ITB factory.

Cheers,
Vassil

[1] <a href='http&#58;//cmsgwms-factory-itb.cern.ch/monitor/factoryEntryStatusNow.html?entry=CMSHTPC_T2_US_Caltech_cit' target='_blank' rel='nofollow'>http&#58;//cmsgwms-factory-itb.cern.ch/monitor/factoryEntryStatusNow.html?entry=CMSHTPC_T2_US_Caltech_cit</a>
[2] <a href='http&#58;//cmsgwms-factory-itb.cern.ch/monitor/factoryEntryStatusNow.html?entry=CMSHTPC_T2_US_Caltech_cit2' target='_blank' rel='nofollow'>http&#58;//cmsgwms-factory-itb.cern.ch/monitor/factoryEntryStatusNow.html?entry=CMSHTPC_T2_US_Caltech_cit2</a>

-- by Vassil Verguilov at Tue Mar 29 13&#58;10&#58;01 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a>
</div><script type='text/javascript'>
        $('#show_1566931126').click(function() {
            $('#detail_1566931126').slideDown("normal");
            $('#show_1566931126').hide();
            $('#hide_1566931126').show();
        });
        $('#hide_1566931126').click(function() {
            $('#detail_1566931126').slideUp();
            $('#hide_1566931126').hide();
            $('#show_1566931126').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='28829#1459214921'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-29T01:28:41+00:00">Mar 29, 2016 01:28 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1459214921">&nbsp;</a></div><pre>Notified CMS Submission Infrastructure team of this ticket.Yes, please go ahead with the tests.  Let us know if we should make any changes.
Flushed field &#39;Notify Site&#39;

-- by Thomas Wayne Hendricks at Tue Mar 29 01&#58;27&#58;54 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1459214742'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-29T01:25:42+00:00">Mar 29, 2016 01:25 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1459214742">&nbsp;</a></div><pre>Thanks for all the details, Wayne. We should start the tests immediately, will be using 8-core pilots, as the standard in CMS.

With respect to the gatekeeper, yes, eventually all of them will be used for multicore pilot submission, hence all of them should be configured to accept them. We simply ask for one just to start test with that one. From the ones in used in production, I guess we can use both

cit-gatekeeper.ultralight.org
cit-gatekeeper2.ultralight.org

Could you please confirm so that we can setup the new entries?

Cheers,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Tue Mar 29 01&#58;24&#58;45 UTC 2016

Hi factory ops,

Any progress here?

Brian

-- by Brian Bockelman at Tue Mar 29 01&#58;12&#58;27 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1459153941'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-28T08:32:21+00:00">Mar 28, 2016 08:32 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1459153941">&nbsp;</a></div><pre>Notified CMS Submission Infrastructure team of this ticket.All WNs at Caltech were patched this weekend in rolling cycles and the partitionable/multicore configs were distributed.  I have verified that the defrag process is now running on the condor manager.  Please run the test pilots/jobs to verify that our site is ready.
Flushed field &#39;Notify Site&#39;

-- by Thomas Wayne Hendricks at Mon Mar 28 08&#58;31&#58;23 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1458876771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-25T03:32:51+00:00">Mar 25, 2016 03:32 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458876771">&nbsp;</a></div><pre>BTW, I have discussed this with Brian Bockelman today.  I plan to do a rolling update of the nodes in our cluster tomorrow to add this to our configuration, and then add the config on our condor manager.

-- by Thomas Wayne Hendricks at Fri Mar 25 03&#58;32&#58;03 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1458843011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T18:10:11+00:00">Mar 24, 2016 06:10 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458843011">&nbsp;</a></div><pre>James Letts has subscribed to this ticket.

-- by James Letts at Thu Mar 24 17&#58;51&#58;33 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1458842956'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T18:09:16+00:00">Mar 24, 2016 06:09 PM UTC</time><a class="anchor" name="1458842956">&nbsp;</a></div><pre>-Batch system and CE technologies
We are fully HTCondor, CE and batch, currently about 7200 slots

-Cores per node in your cluster
Is there an easy way to get this from condor?  We have a variety of WNs.

-Memory per core in your cluster
We have generally purchased at least 2GB per core per CMS requirements.  Some nodes may have a bit more.

-Gatekeeper to be used for multicore pilot submission
Should only one be used for this?  Should we add the config to all of them after it is verified?

-

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=thendric/CN=781001/CN=Thomas Wayne Hendricks</pre></div><div class='update_description'><i onclick="document.location='28829#1458841232'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-24T17:40:32+00:00">Mar 24, 2016 05:40 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458841232">&nbsp;</a></div><pre>Ticket has been tagged &#34;VO specific&#34;.

-- by Antonio Perez-Calero Yzquierdo at Thu Mar 24 17&#58;39&#58;47 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1458732271'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-23T11:24:31+00:00">Mar 23, 2016 11:24 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458732271">&nbsp;</a></div><pre>Hi Wayne,

Any news?

Thanks,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Wed Mar 23 11&#58;24&#58;15 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1458286928'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-18T07:42:08+00:00">Mar 18, 2016 07:42 AM UTC</time> by <b>twh@....</b><a class="anchor" name="1458286928">&nbsp;</a></div><pre>--I am out of the office and out of town until Tuesday 3/22.  For any issues with the Tier2, please contact Dorian Kcira.--

===============
Wayne Hendricks
Research Engineer
Caltech HEP/CMS
1-310-494-6359
===============</pre></div><div class='update_description'><i onclick="document.location='28829#1458286758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-18T07:39:18+00:00">Mar 18, 2016 07:39 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458286758">&nbsp;</a></div><pre>Dear admins,

Any news? Could you please provide the information first requested in the ticket?

Thanks,

Antonio.

-- by Antonio Perez-Calero Yzquierdo at Fri Mar 18 07&#58;38&#58;14 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1458136680'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-16T13:58:00+00:00">Mar 16, 2016 01:58 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1458136680">&nbsp;</a></div><pre>We are investigating this.

-- by Thomas Wayne Hendricks at Wed Mar 16 13&#58;57&#58;44 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a></pre></div><div class='update_description'><i onclick="document.location='28829#1457988622'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-14T20:50:22+00:00">Mar 14, 2016 08:50 PM UTC</time> by <b>echism</b><a class="anchor" name="1457988622">&nbsp;</a></div><pre>Hi Wayne,

Can you answer those questions?

Thank you</pre></div><div class='update_description'><i onclick="document.location='28829#1457568472'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-03-10T00:07:52+00:00">Mar 10, 2016 12:07 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1457568472">&nbsp;</a></div><pre>Dear site admins,

As you may know, CMS requires the deployment of multicore CPU resources at their supporting T2 sites for the upcoming Spring and Summer MC production campaigns. For that, CMS will switch to submitting multi-core pilots to your site, instead of the current single-core.

You can find more information about the project at&#58;
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/CMSMulticoreSchedulingProject' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/CMSMulticoreSchedulingProject</a>

with specific details to the deployment at T2s at&#58;
<a href='https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/MulticoreDeploymentToT2s' target='_blank' rel='nofollow'>https&#58;//twiki.cern.ch/twiki/bin/view/CMSPublic/MulticoreDeploymentToT2s</a>

The proposed plan is to first setup a test multicore entry for your site in the testbed (ITB) glideinWMS pilot factories, submitting a few pilots to verify that the request is correctly passed to the local CE and batch systems. For that, we need that you provide the following information&#58;

-Batch system and CE technologies

-Cores per node in your cluster

-Memory per core in your cluster

-Gatekeeper to be used for multicore pilot submission

Thank you,

Antonio,
CMS Submission Infrastructure team.

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=120098</a>

[Ticket History]
Subject&#58; Moving T2_US_Caltech to multicore
Ticket Type&#58; USER
CC&#58; cms-submission-infrastructure@....
-- by Antonio Perez-Calero Yzquierdo at Thu Mar 10 00&#58;07&#58;38 UTC 2016</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F28829">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
