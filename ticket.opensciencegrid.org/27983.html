<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[27983] 421 Service busy&#58; Connection limit exceeded</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=27983" method="post">
<div class="page-header">
    <h3><span class="muted">27983</span> / 421 Service busy&#58; Connection limit exceeded</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Justas Balcas</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GGUS</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Justas Balcas</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier3</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Elevated</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">WIP</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-02-10</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">GGUS (Prod)&nbsp;<a target="_blank" href="https://ggus.eu/ws/ticket_info.php?ticket=118376">118376</a> <span class="muted"> / Ticket Exchange</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/27983", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/27983?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/27983?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20421%20Service%20busy%26%2358%3B%20Connection%20limit%20exceeded%20ISSUE%3D27983%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='27983#1456531181'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-26T23:59:41+00:00">Feb 26, 2016 11:59 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1456531181">&nbsp;</a></div><pre>This ticket was closed automatically. If this issue has not been resolved according your expectations or if you need further information, please submit a new ticket referencing this one.

-- by GGUS SYSTEM at Fri Feb 26 23&#58;59&#58;06 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376</a></pre></div><div class='update_description'><i onclick="document.location='27983#1455225131'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-11T21:12:11+00:00">Feb 11, 2016 09:12 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1455225131">&nbsp;</a></div><pre>Hi All,

Looks like the issue is solved. Closing the ticket.

Regards,
Jorge.
Transfer TeamSite is now off the blacklist and transfers are going well.

-- by dc.jorge10 at Thu Feb 11 21&#58;11&#58;30 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376</a></pre></div><div class='update_description'><i onclick="document.location='27983#1454683989'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-05T14:53:09+00:00">Feb 5, 2016 02:53 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1454683989">&nbsp;</a></div><pre>I see that we are now off the blacklist and transfers are going well so
far. Thank you!

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1454600470'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-04T15:41:10+00:00">Feb 4, 2016 03:41 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1454600470">&nbsp;</a></div><pre>This is becoming somewhat urgent, as we have users that need to stageout
to our site. Could you let us know what action we need to take to get
off the blacklist as soon as possible?

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1454512269'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-03T15:11:09+00:00">Feb 3, 2016 03:11 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1454512269">&nbsp;</a></div><pre>It would really help us if we could be removed from the blacklist. Could
you please let us know what further action we need to take to make this
happen?

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1454436489'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-02-02T18:08:09+00:00">Feb 2, 2016 06:08 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1454436489">&nbsp;</a></div><pre>Hi,

Could we be removed from the blacklist now? Or please let us know what
further action we must take.

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1454097618'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-29T20:00:18+00:00">Jan 29, 2016 08:00 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1454097618">&nbsp;</a></div><pre>OK, it looks like there are no longer any transfers pending to
T3_US_OSU. Actually most of those transfers were coming from my CRAB
jobs, and I have since had to kill them (with all the transfer problems,
they took so long that their output is now obsolete).

Could we please be removed from the blacklist now?

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1453368525'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-21T09:28:45+00:00">Jan 21, 2016 09:28 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1453368525">&nbsp;</a></div><pre>Hello,

Great. I was looking at transfers last few days. It is progressing much better, but, there is still a lot of transfers to be done more than 280k FTS docs, which can have multiple files in one fts document. If I will unblock site and anyone will use this site as stageout location, all new docs will be added to the end. What will happen, that it will reach timeout in CRAB3 and it will mark jobs as failed, but will not remove FTS job. From next ASO/CRAB release if job stays too long in the queue, it will be removed also from FTS and in that case it will not have so big backlog.

Personally, I would prefer to wait until all queues (source/dest) are empty or less than 1k fts documents and only in that case to remove it from blacklist.  If you do resubmit in CRAB, it does not check if site is blacklisted, so you end up with more files to transfer.

It  also could be considered to abort all transfers to your SE from FTS, but I am not FTS dev/ops and this would require RAL help and check if it is possible. This would make draining full queue much faster and site could be unblocked faster.

Regards,
Justas

-- by Justas Balcas at Thu Jan 21 09&#58;28&#58;00 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376</a></pre></div><div class='update_description'><i onclick="document.location='27983#1452888309'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-15T20:05:09+00:00">Jan 15, 2016 08:05 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1452888309">&nbsp;</a></div><pre>We finally tracked down our networking problem to a network card using
the wrong driver. This has been fixed and our success rates are getting
much better (they almost literally could not have gotten worse)&#58;
<a href='https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?vo=&source_se=&dest_se=srm&#58' target='_blank' rel='nofollow'>https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?vo=&source_se=&dest_se=srm&#58</a>;%2F%2Fcms-0.mps.ohio-state.edu&time_window=1

As of when I checked, the success rate for most of the sources had
gotten over 50%. I hope that now our site can be removed from the blacklist?

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1452783013'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-14T14:50:13+00:00">Jan 14, 2016 02:50 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1452783013">&nbsp;</a></div><pre>Hi Justas,

Thanks for the information. I suspect we have an issue with the
university network here. Like I said, I&#39;m working with the IT staff to
understand what&#39;s going on.

Hopefully, we will be able to resolve issue soon... I will keep you posted.

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1452632532'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-12T21:02:12+00:00">Jan 12, 2016 09:02 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1452632532">&nbsp;</a></div><pre>Hello Andrew,

Yes, it is blacklisted because of that. Not sure what you fixed, but before that it was in better shape (it was 20% success rate). So far for last 1h, 12h, 24h, 48h success rate is lower than 3%. As there are still plenty of transfers to be done, I think you can try to improve that.

Even if I will unblock, your transfers will not progress from SEs which are full of pending transfers. FTS sees that it is site related issue and it is lowering number of transfers. All your new transfers from that SEs will be put in the back and this will lead that your jobs will time out... So I would leave it blocked until all FTS queue for your site becomes empty or success rate would improve, lets say min 50%.

I think these two [1] [2] links will give better view what is going on.

[1]
<a href='https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?vo=&source_se=&dest_se=srm&#58' target='_blank' rel='nofollow'>https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?vo=&source_se=&dest_se=srm&#58</a>;%2F%2Fcms-0.mps.ohio-state.edu&time_window=1
[2]
<a href='http&#58;//dashb-fts-transfers.cern.ch/ui/#activity=%28ASO%29&d.dst.host=%22cms-0.mps.ohio-state.edu%22&grouping.dst=%28host%29&m.content=%28efficiency' target='_blank' rel='nofollow'>http&#58;//dashb-fts-transfers.cern.ch/ui/#activity=%28ASO%29&d.dst.host=%22cms-0.mps.ohio-state.edu%22&grouping.dst=%28host%29&m.content=%28efficiency</a>,errors%29&p.grouping=server&samples=true&server=%28bnl,cmsfts3.fnal.gov,fts.hep.pnnl.gov,fts3-pilot.cern.ch,fts3.cern.ch,lcgfts3.gridpp.rl.ac.uk%29

-- by Justas Balcas at Tue Jan 12 20&#58;59&#58;26 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376</a></pre></div><div class='update_description'><i onclick="document.location='27983#1452631091'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-12T20:38:11+00:00">Jan 12, 2016 08:38 PM UTC</time> by <b>ahart@....</b><a class="anchor" name="1452631091">&nbsp;</a></div><pre>It&#39;s actually been OK so far. The server crashed once within minutes of
removing the limit on the number of connections, but since then it has
been well-behaved. We did remove a limit on the number of processes for
all users on that server as well, since gridftp connections seemed to be
hitting that limit for some users.

The university network is still not great, so we still have quite a few
dropped packets and poor throughput, but transfers are coming through
nonetheless. We&#39;re working with the IT group here to see if they can
improve the performance of the network for us.

Now, we noticed our site has been added to the global storage site
blacklist&#58;
Failed submitting task&#58; {&#39;Content-Length&#39;&#58; &#39;714&#39;, &#39;X-Error-Http&#39;&#58; &#39;400&#39;,
&#39;X-Rest-Time&#39;&#58; &#39;389070.988 us&#39;, &#39;Server&#39;&#58; &#39;CherryPy/3.2.2&#39;,
&#39;Connection&#39;&#58; &#39;close&#39;, &#39;X-Error-Detail&#39;&#58; &#39;Invalid input parameter&#39;,
&#39;CMS-Server-Time&#39;&#58; &#39;D=394206 t=1452630752590513&#39;, &#39;X-Rest-Status&#39;&#58;
&#39;302&#39;, &#39;Date&#39;&#58; &#39;Tue, 12 Jan 2016 20&#58;32&#58;32 GMT&#39;, &#39;Content-Type&#39;&#58;
&#39;text/html;charset=utf-8&#39;, &#39;X-Error-Info&#39;&#58; &#34;The output site you
specified in the Site.storageSite parameter (T3_US_OSU) is blacklisted
(banned sites&#58; [&#39;T1_*&#39;, &#39;T3_US_OSU&#39;])&#34;, &#39;X-Error-Id&#39;&#58;
&#39;080da6bd230430d7011ed505844833bf&#39;}
Is that related to this issue? If so, what can we do to remove it from
the blacklist?

Cheers,
Andrew</pre></div><div class='update_description'><i onclick="document.location='27983#1452524893'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-11T15:08:13+00:00">Jan 11, 2016 03:08 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1452524893">&nbsp;</a></div><pre>Hi Andrew,

How has gridftp performance been since your updates/changes?

Thank you,</pre></div><div class='update_description'><i onclick="document.location='27983#1452194357'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-01-07T19:19:17+00:00">Jan 7, 2016 07:19 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1452194357">&nbsp;</a></div><pre>Hi,

Sorry for the delay.

We have been experiencing stability issues with our gridftp server (we
have only one) when there are many incoming connections. To get around
this, we added &#34;connections_max 64&#34; to /etc/gridftp.conf, which I think
explains the &#34;Connection limit exceeded&#34; message you reported.

Perhaps this is not an acceptable solution though. I&#39;ve just now removed
the connection limit, and will do more investigating if the server
crashes again. But maybe we simply need to upgrade the server&#39;s hardware
and/or add additional servers to handle the incoming connections.

Any suggestions would be appreciated.

Cheers,
Andrew

On 12/16/2015 03&#58;44 AM, helpdesk@.... wrote&#58;
<font color='#7F7E6F'>&#62; Dear support staff,</font>
<font color='#7F7E6F'>&#62; ticket #118376 for site &#34;osu-cms&#34; is ASSIGNED to you.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; REFERENCE LINK&#58; <a href='https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/index.php?mode=ticket_info&ticket_id=118376</a></font>
<font color='#7F7E6F'>&#62; SUBJECT&#58; 421 Service busy&#58; Connection limit exceeded</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; -----------------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62; TICKET INFORMATION&#58;</font>
<font color='#7F7E6F'>&#62; -----------------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62; DESCRIPTION -&#62;</font>
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Seems all transfers are failing, for example you cant take a look at these pages&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?source_se=&dest_se=srm&#58' target='_blank' rel='nofollow'>https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?source_se=&dest_se=srm&#58</a>;%2F%2Fcms-0.mps.ohio-state.edu&vo=&time_window=1</font>
<div id='show_787583121' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_787583121'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//lcgfts02.gridpp.rl.ac.uk&#58;8449/var/log/fts3/2015-12-16/srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu/2015-12-16-0747__srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu__494118718__95c35166-a085-11e5-b530-001dd8b71d1a' target='_blank' rel='nofollow'>https&#58;//lcgfts02.gridpp.rl.ac.uk&#58;8449/var/log/fts3/2015-12-16/srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu/2015-12-16-0747__srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu__494118718__95c35166-a085-11e5-b530-001dd8b71d1a</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; LAST MODIFIER -&#62; Justas Balcas</font>
<font color='#7F7E6F'>&#62; NOTIFIED SITE -&#62; osu-cms</font>
<font color='#7F7E6F'>&#62; CONCERNED VO -&#62; cms</font>
<font color='#7F7E6F'>&#62; PRIORITY -&#62; urgent</font>
<font color='#7F7E6F'>&#62; TYPE OF ISSUE -&#62; CMS_Data Transfers</font>
<font color='#7F7E6F'>&#62; SUBMITTER -&#62; Justas Balcas</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; *********************************************************************************</font>
<font color='#7F7E6F'>&#62;   This is an automated mail. When replying don&#39;t change the subject line!</font>
<font color='#7F7E6F'>&#62;   Type your text above this box and S T R I P  P R E V I O U S  M A I L S please!!</font>
<font color='#7F7E6F'>&#62; *********************************************************************************</font>

-- by Andrew Hart at Thu Jan 07 19&#58;18&#58;33 UTC 2016

GOCTX Source&#58; <a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376</a>
</div><script type='text/javascript'>
        $('#show_787583121').click(function() {
            $('#detail_787583121').slideDown("normal");
            $('#show_787583121').hide();
            $('#hide_787583121').show();
        });
        $('#hide_787583121').click(function() {
            $('#detail_787583121').slideUp();
            $('#hide_787583121').hide();
            $('#show_787583121').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='27983#1450255451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2015-12-16T08:44:11+00:00">Dec 16, 2015 08:44 AM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1450255451">&nbsp;</a></div><pre>Hi,

Seems all transfers are failing, for example you cant take a look at these pages&#58;

<a href='https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?source_se=&dest_se=srm&#58' target='_blank' rel='nofollow'>https&#58;//lcgfts3.gridpp.rl.ac.uk&#58;8449/fts3/ftsmon/#/?source_se=&dest_se=srm&#58</a>;%2F%2Fcms-0.mps.ohio-state.edu&vo=&time_window=1

<a href='https&#58;//lcgfts02.gridpp.rl.ac.uk&#58;8449/var/log/fts3/2015-12-16/srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu/2015-12-16-0747__srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu__494118718__95c35166-a085-11e5-b530-001dd8b71d1a' target='_blank' rel='nofollow'>https&#58;//lcgfts02.gridpp.rl.ac.uk&#58;8449/var/log/fts3/2015-12-16/srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu/2015-12-16-0747__srm.rcac.purdue.edu__cms-0.mps.ohio-state.edu__494118718__95c35166-a085-11e5-b530-001dd8b71d1a</a>

[Ticket Origin]
<a href='https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376' target='_blank' rel='nofollow'>https&#58;//ggus.eu/ws/ticket_info.php?ticket=118376</a>

[Ticket History]
Subject&#58; 421 Service busy&#58; Connection limit exceeded
Ticket Type&#58; USER
CC&#58; ;cms-comp-ops-transfer-team@....
-- by Justas Balcas at Wed Dec 16 08&#58;43&#58;41 UTC 2015</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F27983">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 27983});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
