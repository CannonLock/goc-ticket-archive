<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[22148] Question about updating oasis</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=22148" method="post">
<div class="page-header">
    <h3><span class="muted">22148</span> / Question about updating oasis</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Kevin Labe</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">Oasis</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">snoplus.snolab.ca</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Kevin Labe</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">OSG-GOC</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Resolved</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2014-09-26</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG-GOC <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/22148", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22148?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/22148?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Question%20about%20updating%20oasis%20ISSUE%3D22148%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='22148#1411673006'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-25T19:23:26+00:00">Sep 25, 2014 07:23 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1411673006">&nbsp;</a></div><pre>Kevin,

Thank you for the update.  If we can assist please let us know.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22148#1411672812'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-25T19:20:12+00:00">Sep 25, 2014 07:20 PM UTC</time><a class="anchor" name="1411672812">&nbsp;</a></div><pre>I am happy to report that I have been able to access a cvmfs-enabled worker node through my institution&#39;s Tier3 cluster, and to view the software that I installed.  I will still need to do some more work to get my software installation working, and will submit a new ticket if I hit any serious problems, but I think that the particular issue at hand here can be considered resolved.

Kevin

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div><div class='update_description'><i onclick="document.location='22148#1411433847'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-23T00:57:27+00:00">Sep 23, 2014 12:57 AM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1411433847">&nbsp;</a></div><pre>Thanks, Kevin

I&#39;ll check back in on Friday.

Vince</pre></div><div class='update_description'><i onclick="document.location='22148#1411404295'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-22T16:44:55+00:00">Sep 22, 2014 04:44 PM UTC</time><a class="anchor" name="1411404295">&nbsp;</a></div><pre>Hi Vince,

My sys admin is working on setting up a squid server to enable installation of a local cvmfs client.  I will be sure to let you know when I have successfully accessed the system.

Kevin

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div><div class='update_description'><i onclick="document.location='22148#1411397370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-22T14:49:30+00:00">Sep 22, 2014 02:49 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1411397370">&nbsp;</a></div><pre>Morning Kevin,

Checking in to see if I can provide any assistance and to see if you might have a status update.
Please let me know if I can assist.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22148#1410966795'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-17T15:13:15+00:00">Sep 17, 2014 03:13 PM UTC</time><a class="anchor" name="1410966795">&nbsp;</a></div><pre>Hi,

Thanks for getting back to me.  I am working on getting the CVMFS client installed locally.  I will let you know if I have any questions about that.

Kevin

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div><div class='update_description'><i onclick="document.location='22148#1410966481'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-17T15:08:01+00:00">Sep 17, 2014 03:08 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1410966481">&nbsp;</a></div><pre>Morning Kevin,

Checking in to see if I can assist with this ticket.  If I can provide any assistance with the OSG CVMFS client please let me know.

Thank you,
Vince</pre></div><div class='update_description'><i onclick="document.location='22148#1410881032'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-16T15:23:52+00:00">Sep 16, 2014 03:23 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1410881032">&nbsp;</a></div><pre>Hello Kevin,

The path you should start with on a worker node would be&#58;
/cvmfs/oasis.opensciencegrid.org/snoplussnolabca/
An example of what is there is given below. It should start to look familiar at that point, I&#39;m assuming you would know what is under &#34;gridrat&#34; for example.
If you don&#39;t have a machine that can mount the repository, you can run a batch job on and simply execute &#34;ls&#34; commands starting
at /cvmfs/oasis.opensciencegrid.org/snoplussnolabca/

Installing your own worker node, even if it isn&#39;t useful for production should be reasonably lightweight. Once you have that you can login to it and poke around,
like I did with one of mine below (wn2)

Hope this helps,
Scott</pre></div><div class='update_description'><i onclick="document.location='22148#1409846230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-04T15:57:10+00:00">Sep 4, 2014 03:57 PM UTC</time><a class="anchor" name="1409846230">&nbsp;</a></div><pre>Hi Vince,

Apologies for the delay, I have been out of the office.

I&#39;m afraid I still don&#39;t know quite how to proceed.  I still see nothing from the login node, which I guess is to be expected for some reason.  I don&#39;t know where else I can log in to look for these files, since as far as I know, my VO does not have direct permissions at grid sites, and is instead planning to run using OSG Connect.  How should I go about exploring what I have installed, finding its path, etc?

Thank you,
Kevin

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div><div class='update_description'><i onclick="document.location='22148#1409755642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-09-03T14:47:22+00:00">Sep 3, 2014 02:47 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1409755642">&nbsp;</a></div><pre>Hi Kevin,

Have you been able to verify if your files are present?

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='22148#1409164749'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-27T18:39:09+00:00">Aug 27, 2014 06:39 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1409164749">&nbsp;</a></div><pre>Hi Kevin, I&#39;m extending the next action date to 17/sep. I&#39;ll assume you are satisfied after that.</pre></div><div class='update_description'><i onclick="document.location='22148#1408722209'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-22T15:43:29+00:00">Aug 22, 2014 03:43 PM UTC</time> by <b>Vince Neal</b><a class="anchor" name="1408722209">&nbsp;</a></div><pre>Morning, Kevin

Have you had a chance to verify that your files are available?
Please let me know if I can assist.

Thanks!
Vince</pre></div><div class='update_description'><i onclick="document.location='22148#1408624161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-21T12:29:21+00:00">Aug 21, 2014 12:29 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1408624161">&nbsp;</a></div><pre>Hello,

oasis-login does not mount the oasis repository, it&#39;s only purpose is to provide a staging area where you can deposit your code and a mechanism to invoke an update on the stratum0 machine. Once updated, the content propagates from the stratum0 to several replica located at IU, BNL and FNAL and from there to worker nodes. This is the process that can take an hour or more. So, short answer, yes it is different on oasis-login and a worker node.

I have changed the permissions on the files to make them world readable and pushed an update. I believe your files are now visible everywhere. Please let me know if you encounter difficulties.</pre></div><div class='update_description'><i onclick="document.location='22148#1408548307'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-20T15:25:07+00:00">Aug 20, 2014 03:25 PM UTC</time><a class="anchor" name="1408548307">&nbsp;</a></div><pre>This is not what I see from the oasis log-in node.  (I still see an empty directory).  Should it look different there than on a worker node?

Also, those files are from my first attempt at an installation on Friday.  There should be an additional file from an update I issued on Tuesday.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div><div class='update_description'><i onclick="document.location='22148#1408545293'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-20T14:34:53+00:00">Aug 20, 2014 02:34 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1408545293">&nbsp;</a></div><pre>Hello,

I&#39;m seeing content on one of our worker nodes&#58; (no special privledges, etc)

2014-08-20 14&#58;32&#58;46 UTC [steige@wn2&#58;/cvmfs/oasis.opensciencegrid.org/snoplussnolabca/gridrat]$ pwd
/cvmfs/oasis.opensciencegrid.org/snoplussnolabca/gridrat
2014-08-20 14&#58;33&#58;10 UTC [steige@wn2&#58;/cvmfs/oasis.opensciencegrid.org/snoplussnolabca/gridrat]$ ls -la
total 23
drwxr-xr-x 1 cvmfs cvmfs 4096 Aug 18 14&#58;19 .
drwxrwxr-x 1 cvmfs cvmfs 4096 Aug 19 13&#58;53 ..
drwxr-xr-x 1 cvmfs cvmfs 4096 Aug 15 21&#58;47 geant4.9.5.p01
drwxr-xr-x 1 cvmfs cvmfs 4096 Aug 15 21&#58;57 rat
drwxr-xr-x 1 cvmfs cvmfs 4096 Aug 15 21&#58;56 root-5.34.01

Is this not what you are expecting?

S</pre></div><div class='update_description'><i onclick="document.location='22148#1408474880'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-19T19:01:20+00:00">Aug 19, 2014 07:01 PM UTC</time><a class="anchor" name="1408474880">&nbsp;</a></div><pre>I still don&#39;t see anything in the snoplus directory.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div><div class='update_description'><i onclick="document.location='22148#1408460286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-19T14:58:06+00:00">Aug 19, 2014 02:58 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1408460286">&nbsp;</a></div><pre>It can take over 1 hour to propagate through the stratum0, stratum1. There is additional delay at the worker node level that depends on the configuration there. Chck back after a bit and let me know what you see.
S</pre></div><div class='update_description'><i onclick="document.location='22148#1408460050'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2014-08-19T14:54:10+00:00">Aug 19, 2014 02:54 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1408460050">&nbsp;</a></div><pre>Hello,

I&#39;m trying to install some software on oasis.  When I issue the osg-oasis-update command, the update appears to go through, however, I cannot find where the software is installed.  The snoplus directory in /cvmfs/oasis.opensciencegrid.org is still empty after my update.  Am I looking in the wrong place?  Or is something going wrong with the update?  Thanks,

Kevin

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Kevin Labe 1781</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F22148">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
