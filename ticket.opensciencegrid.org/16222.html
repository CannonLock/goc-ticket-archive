<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[16222] OSG Production Resource Group FLTECH Failing Critical Metrics</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=16222" method="post">
<div class="page-header">
    <h3><span class="muted">16222</span> / OSG Production Resource Group FLTECH Failing Critical Metrics</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Christopher Pipes</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">FLTECH</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">CMS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Christopher Pipes</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">USCMS_Tier3</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Check for update</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-11-11</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">USCMS_Tier3 <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Cartwright <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Brian Lin <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/16222", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/16222?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/16222?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20OSG%20Production%20Resource%20Group%20FLTECH%20Failing%20Critical%20Metrics%20ISSUE%3D16222%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='16222#1383938230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-08T19:17:10+00:00">Nov 8, 2013 07:17 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1383938230">&nbsp;</a></div><pre>Way to go, Brian!

And many thanks to you, Jordan, for sticking with the process and answering all
of our queries, etc. Debugging is a two-way process, and you very much held up
your end.

Closing the ticket now.</pre></div><div class='update_description'><i onclick="document.location='16222#1383933982'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-08T18:06:22+00:00">Nov 8, 2013 06:06 PM UTC</time><a class="anchor" name="1383933982">&nbsp;</a></div><pre>You, sir, have my utmost gratitude.  In one line, you just resolved an issue I&#39;ve been dealing with for many months.

Our GUMS now works perfectly, on to the next hurdle.  Chris, you&#39;re more than welcome to close this ticket, I should be set for now.  Thank you for bearing with me on this.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383933409'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-08T17:56:49+00:00">Nov 8, 2013 05:56 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1383933409">&nbsp;</a></div><pre>Jordan,

It looks like you&#39;ve got a newer version of antlr (3.0.0) installed on your box than what gums was built with (2.7.7). I think downgrading it will fix your issue.

- Brian</pre></div><div class='update_description'><i onclick="document.location='16222#1383843599'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-07T16:59:59+00:00">Nov 7, 2013 04:59 PM UTC</time><a class="anchor" name="1383843599">&nbsp;</a></div><pre>Thank you Tim, I&#39;m attaching the profile for our management node now.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383842779'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-07T16:46:19+00:00">Nov 7, 2013 04:46 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1383842779">&nbsp;</a></div><pre>Jordan&#58;

The OSG 3.1 Software stack still includes the old Oracle JDK 1.6, but we
strongly recommend that all sites switch to OpenJDK 1.7, available from OS
repositories. And yes, it is best to follow our update instructions when
upgrading from Java 6 to 7.

However, I think all of this upgrade business may be a red herring. I have added
Brian Lin to this ticket, because he has recent experience debugging complex
GUMS issues. But at very least, let’s start by getting a osg-system-profiler
output attached to this ticket. That will give us a better sense of the
environment on the machine.

— Tim</pre></div><div class='update_description'><i onclick="document.location='16222#1383841707'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-07T16:28:27+00:00">Nov 7, 2013 04:28 PM UTC</time><a class="anchor" name="1383841707">&nbsp;</a></div><pre>Yes, I believe so -- however, I think you still have to perform all the steps listed at that URL.
-rob

by /DC=org/DC=doegrids/OU=People/CN=Robert Snihur 365033</pre></div><div class='update_description'><i onclick="document.location='16222#1383839584'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-07T15:53:04+00:00">Nov 7, 2013 03:53 PM UTC</time><a class="anchor" name="1383839584">&nbsp;</a></div><pre>I have, in fact when I was still having this error on our SE rather than our management node, I attempted that solution.  However, we still got the exact same error, so I&#39;m inclined to think this won&#39;t resolve it.

Also, didn&#39;t OSG push a java update recently, in which jdk 7 is now automatically pushed?

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383839353'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-07T15:49:13+00:00">Nov 7, 2013 03:49 PM UTC</time><a class="anchor" name="1383839353">&nbsp;</a></div><pre>Hi Jordan,
Have you seen this page about java versions for OSG, perhaps it&#39;s useful?
<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallSoftwareWithOpenJDK7' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallSoftwareWithOpenJDK7</a>

-rob snihur

by /DC=org/DC=doegrids/OU=People/CN=Robert Snihur 365033</pre></div><div class='update_description'><i onclick="document.location='16222#1383685923'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-05T21:12:03+00:00">Nov 5, 2013 09:12 PM UTC</time><a class="anchor" name="1383685923">&nbsp;</a></div><pre>Apologies, that first error line should read&#58; &#34;...servlet jsp threw exception java.lang.....&#34;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383685869'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-05T21:11:09+00:00">Nov 5, 2013 09:11 PM UTC</time><a class="anchor" name="1383685869">&nbsp;</a></div><pre>Our gums-service-admin.log looks clean, no warnings/etc.

Catalina.out is still kicking out a java error, it is slightly different than the other one it has been saying for months, but still concerns jsp&#58;

&#34;16195 [http-8443-Processor25] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/gums].[jsp] - Servlet.service() for servlet $
java.lang.ClassNotFoundException&#58; antlr.ANTLRException&#34;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383685169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-05T20:59:29+00:00">Nov 5, 2013 08:59 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1383685169">&nbsp;</a></div><pre>Hi,

Do you see any errors in the GUMS logs( /var/log/tomcat5/catalina.out or  /var/log/tomcat5/gums-service-admin.log) ?

Suchandra</pre></div><div class='update_description'><i onclick="document.location='16222#1383671952'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-05T17:19:12+00:00">Nov 5, 2013 05:19 PM UTC</time><a class="anchor" name="1383671952">&nbsp;</a></div><pre>Yes I renewed our RSV cert yesterday, it would be expiring within an hour otherwise.  It is good through december 2014.  The cert and key are also both in the default locations, and the default is set in our rsv config file as well.

However, to my knowledge, this won&#39;t rectify the GUMS issue, that seems to be a java issue more than anything.  Any ideas on that one?

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383671616'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-05T17:13:36+00:00">Nov 5, 2013 05:13 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1383671616">&nbsp;</a></div><pre>Hi,

RSV uses a separate service cert located at /etc/grid-security/rsvcert.pem .  Did you renew that?  The current rsv errors indicate that the cert may be expired.  If you run openssl x509 -in /etc/grid-security/rsvcert.pem -noout -enddate , do you get an expiration date in the future?  If not you&#39;ll need to request a service cert, this is exactly like requesting a host cert but with &#39;service/&#39; prepended to the hostname in the cert request.  E.g. rsv/grid-0.hep.brown.edu ..

Suchandra Thapa
OSG Software Team</pre></div><div class='update_description'><i onclick="document.location='16222#1383603138'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T22:12:18+00:00">Nov 4, 2013 10:12 PM UTC</time><a class="anchor" name="1383603138">&nbsp;</a></div><pre>Yes, that necessity was apparent.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383602782'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T22:06:22+00:00">Nov 4, 2013 10:06 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1383602782">&nbsp;</a></div><pre>Did you restart your GUMS instance after installing the new certificates?</pre></div><div class='update_description'><i onclick="document.location='16222#1383602130'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T21:55:30+00:00">Nov 4, 2013 09:55 PM UTC</time><a class="anchor" name="1383602130">&nbsp;</a></div><pre>Well, this is disappointing.  I have successfully requested new certs for our site, which went smoothly.  However, this still does not seem to have resolved our GUMS issue, I still end up with the same error.

Is there some alternative diagnostic I can run, and send you folks the output, so someone on your team might be able to spot the issue?

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1383597244'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T20:34:04+00:00">Nov 4, 2013 08:34 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1383597244">&nbsp;</a></div><pre>Thanks for the update Jordan. Let us know if you need help with the host certs.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1383582614'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-11-04T16:30:14+00:00">Nov 4, 2013 04:30 PM UTC</time><a class="anchor" name="1383582614">&nbsp;</a></div><pre>My grid admin request ticket has finally been resolved, I have been added as an admin for the FLTECH resource.  I will get to work on the host certs asap.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1382564132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-23T21:35:32+00:00">Oct 23, 2013 09:35 PM UTC</time><a class="anchor" name="1382564132">&nbsp;</a></div><pre>As I mentioned an hour ago, I am re-registering to be the grid admin, I already have a ticket open.

Concerning the error, it is exactly what is expected given that nobody is techincally a grid admin yet&#58;

&#34;The request has failed for the following reason&#58; The hostname you have
provided in the CSR/CN=uscms1-mgmt.fltech-grid3.fit.edu does not match
any domain OIM is currently configured to issue certificates for...&#34;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1382563825'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-23T21:30:25+00:00">Oct 23, 2013 09:30 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1382563825">&nbsp;</a></div><pre>fit.edu hasn&#39;t been registered in GridAdmin page
<font color='#7F7E6F'>&#62; <a href='https&#58;//oim.grid.iu.edu/oim/gridadmin' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu/oim/gridadmin</a></font>

Someone needs to register to become a GridAdmin for fit.edu before anyone can submit request for hosts under fit.edu.

Jordan,
<font color='#7F7E6F'>&#62; ... got the same error (OIM hasn&#39;t authorized the resource for host certs).</font>
Where are you seeing this error message? I couldn&#39;t find it in any of the osg-cert-scripts.</pre></div><div class='update_description'><i onclick="document.location='16222#1382560493'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-23T20:34:53+00:00">Oct 23, 2013 08:34 PM UTC</time><a class="anchor" name="1382560493">&nbsp;</a></div><pre>It seems I have also lost my grid admin status for our resource, I have submitted that ticket and am awaiting a response.  Sorry for the delay, hopefully my status is re-enstated quickly.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1382552918'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-23T18:28:38+00:00">Oct 23, 2013 06:28 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1382552918">&nbsp;</a></div><pre>Jordan,
I had Kyle enable your resource I think that was the problem. If you retry to obtain certs I think it should work now. Let me know if it does not.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1382468038'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-22T18:53:58+00:00">Oct 22, 2013 06:53 PM UTC</time><a class="anchor" name="1382468038">&nbsp;</a></div><pre>Unfortunately I have not yet, I attempted after being notified, but got the same error (OIM hasn&#39;t authorized the resource for host certs).  I asked whether the grid needed a few days to have the resource propagate through, but have yet to receive a response.  I will re-attempt to obtain a host cert later today.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1382467431'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-22T18:43:51+00:00">Oct 22, 2013 06:43 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1382467431">&nbsp;</a></div><pre>Hey Jordan,

It looks like you were able to add your gums server to OIM. Were you able to obtain the host cert for that device as well?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1381953830'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-16T20:03:50+00:00">Oct 16, 2013 08:03 PM UTC</time><a class="anchor" name="1381953830">&nbsp;</a></div><pre>As this was originally opened in order to assist with getting our GUMS server back up and running, I would prefer to keep this open until that time.  Ideally (fingers crossed) it will be a quick/simple process once our resource is added, and I can get a host certificate, after which we can close this.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1381953555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-16T19:59:15+00:00">Oct 16, 2013 07:59 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1381953555">&nbsp;</a></div><pre>Jordan&#58; Because you have a ticket for the host certificate request, what do you want to do with this original ticket?</pre></div><div class='update_description'><i onclick="document.location='16222#1381951103'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-16T19:18:23+00:00">Oct 16, 2013 07:18 PM UTC</time><a class="anchor" name="1381951103">&nbsp;</a></div><pre>Thank you for that, I didn&#39;t realize it was through OIM, that was quite simple.  The ticket has been created, now we&#39;re just waiting for approval.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1381945503'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-16T17:45:03+00:00">Oct 16, 2013 05:45 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1381945503">&nbsp;</a></div><pre>Sorry Jordan, I was out yesterday. I think this can be solved by having you register uscms1-mgmt.fltech-grid3.fit.edu in OIM.
I can walk you through that.

If you would please go to <a href='https&#58;//oim.grid.iu.edu' target='_blank' rel='nofollow'>https&#58;//oim.grid.iu.edu</a> from there go to Topology -&#62; search for &#34;FLTECH&#34; -&#62; Select &#34;Add Resource.&#34;
This should open up a window where you can fill out the info about uscms1-mgmt.fltech-grid3.fit.edu . The important part would be the Resource Services section. There you will want to select GUMS Server from the drop down menu. Once you are done just hit submit.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1381936420'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-16T15:13:40+00:00">Oct 16, 2013 03:13 PM UTC</time><a class="anchor" name="1381936420">&nbsp;</a></div><pre>If I do not see any action by end of day, should I simply open another ticket for the sole purpose of adding uscms1-mgmt as a new resourse to our site?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1381330252'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-09T14:50:52+00:00">Oct 9, 2013 02:50 PM UTC</time> by <b>Brian Lin</b><a class="anchor" name="1381330252">&nbsp;</a></div><pre>Updating Next Action and Next Action Deadline.</pre></div><div class='update_description'><i onclick="document.location='16222#1381155460'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-07T14:17:40+00:00">Oct 7, 2013 02:17 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1381155460">&nbsp;</a></div><pre>Chris&#58; I do not know much about the process for registering a machine or getting a host certificate. Can you please help Jordan with this aspect of the ticket?</pre></div><div class='update_description'><i onclick="document.location='16222#1381107901'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-07T01:05:01+00:00">Oct 7, 2013 01:05 AM UTC</time><a class="anchor" name="1381107901">&nbsp;</a></div><pre>Also, assuming you&#39;re able to add that from your end, the domain of the new management node is as was stated below&#58; uscms1-mgmt.fltech-grid3.fit.edu

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1381107652'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-07T01:00:52+00:00">Oct 7, 2013 01:00 AM UTC</time><a class="anchor" name="1381107652">&nbsp;</a></div><pre>It seems the new management node needs to be added to the grid before I can request a host cert for it, I didn&#39;t even think about that.  Pardon my lack of knowledge, but how would I go about doing that?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1380954169'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-05T06:22:49+00:00">Oct 5, 2013 06:22 AM UTC</time><a class="anchor" name="1380954169">&nbsp;</a></div><pre>I suspected that might be included in the encoding, just wanted confirmation from your end, thanks Tim!  The cp did not work, as expected.  Although the updater is active, all CRLS are throwing errors, which is was made me suspect the host cert in the first place.  Let me grab a new host cert for our management node and see how everything behaves.

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1380917863'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-04T20:17:43+00:00">Oct 4, 2013 08:17 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1380917863">&nbsp;</a></div><pre>Jordan&#58;

A host certificate encodes the hostname of the machine on which it is valid. Thus, copying a host certificate from one machine to another is almost certainly guaranteed to fail. If it worked, in what way would a host certificate identify a host? So it sounds like you need to request a new host certificate for your management node.

How are your CRLs, now that you have the updater active?</pre></div><div class='update_description'><i onclick="document.location='16222#1380653273'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-10-01T18:47:53+00:00">Oct 1, 2013 06:47 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1380653273">&nbsp;</a></div><pre>Hi Software Team,

I am to a point where I need to ask for assistance in resolving this. Could you please review this and provide feedback?

Jordan,

If I had to guess, I would say yes it would need its own cert but I would hold off until someone from software responds.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1380559030'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-30T16:37:10+00:00">Sep 30, 2013 04:37 PM UTC</time><a class="anchor" name="1380559030">&nbsp;</a></div><pre>Hey Chris, just checking in, any word on if the management node requires its own hostcert and hostkey?  Thanks!

-Jordan

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1380036186'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-24T15:23:06+00:00">Sep 24, 2013 03:23 PM UTC</time><a class="anchor" name="1380036186">&nbsp;</a></div><pre>Apologies, forgot to check the trustmanager log.  All our CRL&#39;s were failing, I realized I never pushed osg-ca-certs-updater onto the node.  That has been installed, now we just have to wait for it to run.

Also, during the GUMS install, I did make the broad assumption that the host cert/host key from our CE was applicable to the management node, so I did a simple scp of the hostcert.pem and hostkey.pem, and then performed the mv so they became httpcert.pem and httpkey.pem.  Was that assumption incorrect?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jordan/CN=746428/CN=Jordan Alexander Robertson</pre></div><div class='update_description'><i onclick="document.location='16222#1379994669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-24T03:51:09+00:00">Sep 24, 2013 03:51 AM UTC</time> by <b>robertsonj2012@....</b><a class="anchor" name="1379994669">&nbsp;</a></div><pre>Alright, so we converted a worker node into a management node, obtained an
external IP, and have installed mysql/tomcat5/gums on the machine.  Upon
startup of tomcat5, no complaints/errors were seen, but gums isn&#39;t coming
up quite properly, as you can see from where it should come up&#58;

<a href='http&#58;//uscms1-mgmt.fltech-grid3.fit.edu&#58;8443/gums' target='_blank' rel='nofollow'>http&#58;//uscms1-mgmt.fltech-grid3.fit.edu&#58;8443/gums</a>

It isn&#39;t contained in the GUMS install instructions on your site, but is
there any chance I need to modify the httpd config files, such as we have
to do for rsv?  Or is this due to something else?  Thanks!

-Jordan

On Thu, Sep 19, 2013 at 4&#58;23 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='16222#1379622217'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-19T20:23:37+00:00">Sep 19, 2013 08:23 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1379622217">&nbsp;</a></div><pre>Hi Jordan,

Its no problem. I will check back next week to see if there are any updates. In the mean time feel free to ping me if you need any assistance.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1379385758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-17T02:42:38+00:00">Sep 17, 2013 02:42 AM UTC</time><a class="anchor" name="1379385758">&nbsp;</a></div><pre>Hey Chris, no I did not hear back yet.  However, as per a discussion in a research meeting today, Dr. Hohlman (cluster director) has decided (and I concur) that we will just convert a compute node to a management node and run GUMS off it.

On our end, this means we need to request another external IP from the school, so this process may take a few days.  Once we get that up and running, I will attempt to install GUMS and notify you of the results asap.

Thanks for your patience, sorry about all this.

-Jordan

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='16222#1379357838'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-16T18:57:18+00:00">Sep 16, 2013 06:57 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1379357838">&nbsp;</a></div><pre>Hello Jordan,

Did you hear back from Rob as to which machine you were going to convert to a service machine?

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1378401193'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-05T17:13:13+00:00">Sep 5, 2013 05:13 PM UTC</time><a class="anchor" name="1378401193">&nbsp;</a></div><pre>Perhaps I should rephrase; as our system consists of a CE, an SE, and 20 worker nodes (not including some storage), which machine do you recommend converting over to be the service machine?  As in, should we convert a worker node?  Or do we run it on one of our storage units?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='16222#1378395281'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-05T15:34:41+00:00">Sep 5, 2013 03:34 PM UTC</time><a class="anchor" name="1378395281">&nbsp;</a></div><pre>Yes, it is recommended to run GUMS on a &#34;service&#34; machine that is is not the CE or SE.
-rob snihur

by /DC=org/DC=doegrids/OU=People/CN=Robert Snihur 365033</pre></div><div class='update_description'><i onclick="document.location='16222#1378333090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-04T22:18:10+00:00">Sep 4, 2013 10:18 PM UTC</time> by <b>USCMS_Tier3</b><a class="anchor" name="1378333090">&nbsp;</a></div><pre>I am offline until September 5 and will reply then.</pre></div><div class='update_description'><i onclick="document.location='16222#1378332951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-09-04T22:15:51+00:00">Sep 4, 2013 10:15 PM UTC</time><a class="anchor" name="1378332951">&nbsp;</a></div><pre>No worries on the delay, hopefully all is going well.

A quick question for you though; I was just digging through the OSG site planning page, and saw a recommendation to run GUMS separately from both the CE and the SE.  I&#39;m curious as to where OSG officially recommends running GUMS then?  If it isn&#39;t on the CE, or SE, or (I&#39;m assuming) the worker nodes, where else can it possibly go?  I&#39;m curious because it would be very useful if we could do a &#34;clean slate&#34; install of GUMS on a separate machine, to see if the problem persists.  Thoughts?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='16222#1377821697'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-30T00:14:57+00:00">Aug 30, 2013 12:14 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1377821697">&nbsp;</a></div><pre>Jordan,

Thanks for the update I will look into your inquiry tomorrow. Sorry for the delay, I have been terribly busy this week.
Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1377289289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-23T20:21:29+00:00">Aug 23, 2013 08:21 PM UTC</time><a class="anchor" name="1377289289">&nbsp;</a></div><pre>A quick update&#58; although the osg-configure didn&#39;t push correctly, apparently the rsv update still registered, so the java probe is running.  Unfortunately though, we still get an error of&#58;

&#34;detailsData&#58; Condor-G submission failed because the remote side is down.
Make sure that the resource you are trying to monitor is online.&#34;

As we do with many other probes.  Pardon my ignorance, but is this due to GUMS still being down, or is this a different parameter in a config file I need to switch?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='16222#1377109410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-21T18:23:30+00:00">Aug 21, 2013 06:23 PM UTC</time><a class="anchor" name="1377109410">&nbsp;</a></div><pre>I have, in fact I am working on it as we speak.

Conveniently, I saw that OSG pushed the RSV java probe recently, so I intend to install that to (hopefully) diagnose the issue that GUMS is having (which is clearly java-based).  Unfortunately however, in order to run osg-configure, I need GUMS to kick out a user-vo-map, which is currently cannot do, so I seem stuck in a bit of a loop.  Any suggestions?

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='16222#1377107014'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-21T17:43:34+00:00">Aug 21, 2013 05:43 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1377107014">&nbsp;</a></div><pre>Hi Jordan,

Have you had a chance to review this ticket? Please let us know when you have any information.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1375489633'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-08-03T00:27:13+00:00">Aug 3, 2013 12:27 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1375489633">&nbsp;</a></div><pre>Hi Jordan,

As mentioned previously, I will check back with you on the 19th and if you can&#39;t find the information on the twiki, please by all means send a ticket our way if the GOC can&#39;t answer your questions I&#39;m sure someone with the software team can assists. There is also an osg-sites list that you can email for assistance as well though I am not sure what the address is for that. So there are many avenues in OSG to pursue for help should you need it.

Good Luck,
Chris</pre></div><div class='update_description'><i onclick="document.location='16222#1375212095'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-30T19:21:35+00:00">Jul 30, 2013 07:21 PM UTC</time><a class="anchor" name="1375212095">&nbsp;</a></div><pre>Apologies Chris, with respect to the OSG grid, our site has been down for about a year.  Between the time that Patrick Ford ceased being primary admin, and the time I took over, the site was essentially not managed and fell into disrepair.  I will be returning on-site in two weeks, at which point in time I will hopefully get it back up and running.

As a heads up, you may see a large number of tickets heading your way, I&#39;m working alone and in semi-unfamiliar territory concerning software.

by /DC=org/DC=doegrids/OU=People/CN=Jordan Robertson 530934</pre></div><div class='update_description'><i onclick="document.location='16222#1375211516'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-07-30T19:11:56+00:00">Jul 30, 2013 07:11 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1375211516">&nbsp;</a></div><pre>Greetings,

The OSG resource FLTECH  is failing one or more critical metrics as noted on the following page&#58;

<a href='http&#58;//tinyurl.com/Failing-Metrics' target='_blank' rel='nofollow'>http&#58;//tinyurl.com/Failing-Metrics</a>

Please go to this page and find your Resource listing to see the failure(s). Please attempt to let us know the status of these issues or correct the issues as soon as possible.

Thank you,
Christopher P.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F16222">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 16222});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
