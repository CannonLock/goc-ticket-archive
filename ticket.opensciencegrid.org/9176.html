<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9176] Registration service and admin service for OSGEDU not working fine</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9176" method="post">
<div class="page-header">
    <h3><span class="muted">9176</span> / Registration service and admin service for OSGEDU not working fine</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jose Caballero</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-09-02</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9176", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9176#1283525599'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-03T14:53:19+00:00">Sep 3, 2010 02:53 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1283525599">&nbsp;</a></div><pre>Thanks, Jose.

Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='9176#1283463187'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:33:07+00:00">Sep 2, 2010 09:33 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1283463187">&nbsp;</a></div><pre>well, it is me who must apologize for the confusion. My fault.
You can close the ticket.

Jose

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9176#1283463004'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:30:04+00:00">Sep 2, 2010 09:30 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1283463004">&nbsp;</a></div><pre>Ohhhhhh
I think I get it. I was not using the same certificate I used to
register the VO OSGEDU (which is /DC=org/DC=doegrids/OU=People/CN=Jose
Caballero (Education) 687454/CN=proxy  )
and the server thought I was a new user trying to register at first time.

Makes sense?

Jose

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9176#1283462906'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:28:26+00:00">Sep 2, 2010 09:28 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1283462906">&nbsp;</a></div><pre>Ahh, sorry for the double update.  I didn&#39;t see Elizabeth&#39;s update.

Apologies,

Kyle</pre></div><div class='update_description'><i onclick="document.location='9176#1283462842'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:27:22+00:00">Sep 2, 2010 09:27 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1283462842">&nbsp;</a></div><pre>Jose,

Your DN for the OSGEDU VO is&#58; Jose Caballero (Education) 687454.

It appears you&#39;re using the wrong certificate.

Kyle</pre></div><div class='update_description'><i onclick="document.location='9176#1283462827'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:27:07+00:00">Sep 2, 2010 09:27 PM UTC</time> by <b>echism</b><a class="anchor" name="1283462827">&nbsp;</a></div><pre>You are registered with this one /DC=org/DC=doegrids/OU=People/CN=Jose
Caballero (Education) 687454

The VOMS is working.

Thank you,
Elizabeth
On Sep 2, 2010, at 5&#58;24 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9176#1283462649'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:24:09+00:00">Sep 2, 2010 09:24 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1283462649">&nbsp;</a></div><pre>My DN
Jose Caballero (OSG) 547093

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9176#1283462467'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:21:07+00:00">Sep 2, 2010 09:21 PM UTC</time> by <b>echism</b><a class="anchor" name="1283462467">&nbsp;</a></div><pre>What is the DN that&#39;s showing on the form?

Thank you,
Elizabeth
On Sep 2, 2010, at 5&#58;18 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='9176#1283462294'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-02T21:18:14+00:00">Sep 2, 2010 09:18 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1283462294">&nbsp;</a></div><pre>Hi,

one user (Diego Rincon) has request to join VO OSGEDU.
He has filled the form in this url&#58;
<a href='https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/' target='_blank' rel='nofollow'>https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/</a>

As admin, I have received an email [1]
When I clicked in the link to approve the request, I got a
form I should fill.
After filling it (I think that is wrong), I see this [2]
I have received another email [3]

No. I am not trying to register. I am already member of the VO.
I am also admin of the VO.
Why I am getting an email with instructions to complete &#34;my&#34; registration process?

Seems like the server is mixing actions for new users and actions for admins.

------------------------------
[1]
Dear VO Admin,

as VO administrator of VO osgedu, your authorization is requested for the
VO membership request issued by the following user&#58;

DN&#58; /DC=org/DC=doegrids/OU=People/CN=Diego Alberto Rincon 12214
CA&#58; /DC=org/DC=DOEGrids/OU=Certificate Authorities/CN=DOEGrids CA 1
Email&#58; diego-rincon@....

In order to handle this membership request, point your browser
to the following URL&#58;

<a href='https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/PendingRequests.do' target='_blank' rel='nofollow'>https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/PendingRequests.do</a>

Your sincerely,
<div id='show_756642274' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_756642274'>Voms-Admin registration service for VO osgedu

---------------------------
[2]

Confirmation required.

An email has been sent to you with instructions on how to proceed with the registration for the osgedu VO.

Please follow the instructions withing 24 hours or your request will be ignored by voms-admin.

---------------------------
[3]
Dear jcaballero@...., you have requested to be a member of VO osgedu.

In order for the registration to proceed, you should confirm this
request by going to the following url&#58;

<a href='https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/ConfirmVOMembershipRequest.do?requestId=39&confirmId=3091b638-225e-45fc-97ee-a9a375da761c' target='_blank' rel='nofollow'>https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/ConfirmVOMembershipRequest.do?requestId=39&confirmId=3091b638-225e-45fc-97ee-a9a375da761c</a>

In case you never requested to be a member of VO osgedu, please
let us know by going to the following url&#58;

<a href='https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/CancelVOMembershipRequest.do?requestId=39&confirmId=3091b638-225e-45fc-97ee-a9a375da761c' target='_blank' rel='nofollow'>https&#58;//voms.grid.iu.edu&#58;8443/voms/osgedu/CancelVOMembershipRequest.do?requestId=39&confirmId=3091b638-225e-45fc-97ee-a9a375da761c</a>

Your sincerely,
Voms-Admin registration service for VO osgedu

</div><script type='text/javascript'>
        $('#show_756642274').click(function() {
            $('#detail_756642274').slideDown("normal");
            $('#show_756642274').hide();
            $('#hide_756642274').show();
        });
        $('#hide_756642274').click(function() {
            $('#detail_756642274').slideUp();
            $('#hide_756642274').hide();
            $('#show_756642274').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9176">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
