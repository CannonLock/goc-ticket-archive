<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[3775] Query IGTF Distribution Status At All OSG Sites Inquiry</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=3775" method="post">
<div class="page-header">
    <h3><span class="muted">3775</span> / Query IGTF Distribution Status At All OSG Sites Inquiry</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Alan Sill</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Rob to review</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2007-08-21</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/3775", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/3775?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/3775?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Query%20IGTF%20Distribution%20Status%20At%20All%20OSG%20Sites%20Inquiry%20ISSUE%3D3775%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='3775#1187723939'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-08-21T19:18:59+00:00">Aug 21, 2007 07:18 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1187723939">&nbsp;</a></div><pre>Rob,

Do you consider this resolved? Is it okay to close?

Thank you,
Tim
OSG Grid Operations Center</pre></div><div class='update_description'><i onclick="document.location='3775#1185569761'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-07-27T20:56:01+00:00">Jul 27, 2007 08:56 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1185569761">&nbsp;</a></div><pre>Removing John Rosheck from this ticket. Adding another GOC engineer from RR.</pre></div><div class='update_description'><i onclick="document.location='3775#1184869028'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-07-19T18:17:08+00:00">Jul 19, 2007 06:17 PM UTC</time> by <b>TIGRE</b><a class="anchor" name="1184869028">&nbsp;</a></div><pre>On Jul 19, 2007, at 12&#58;49 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; John wrote a script to pull the site name and IGTF data as you</font>
<font color='#7F7E6F'>&#62; requested. The data is also captured</font>
<font color='#7F7E6F'>&#62; by site_verify and output to VORS (you&#39;ll need to look at the full</font>
<font color='#7F7E6F'>&#62; scan).</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I ran the script against the production sites and here&#39;s what I got...</font>

Thanks for the response and for the output.  In terms of the script,
that is a great help and I will pass the output to the Security
technical group for their information.

I would not be surprised to see a request that sites be polled on a
regular basis and non-compliant sites (i.e., those not running the
most recent version by a couple of weeks after it is announced, for
example) be marked something like the LCG does (i.e., DOWN - CRITICAL
in their case), with tickets opened and follow-up done by the GOC.

As a preliminary step in that direction, let me suggest that you
consider reminding all sites of the current release and requesting
their immediate attention to upgrade.

Thanks,
Alan

Alan Sill, Ph.D
TIGRE Senior Scientist, High Performance Computing Center
Adjunct Professor of Physics
TTU

====================================================================
&#58;  Alan Sill, Texas Tech University  Office&#58; Admin 233, MS 4-1167  &#58;
&#58;  e-mail&#58; Alan.Sill@....   ph. 806-742-4350  fax 806-742-4358  &#58;
====================================================================</pre></div><div class='update_description'><i onclick="document.location='3775#1184867380'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-07-19T17:49:40+00:00">Jul 19, 2007 05:49 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1184867380">&nbsp;</a></div><pre>Alan,

John wrote a script to pull the site name and IGTF data as you requested. The data is also captured
by site_verify and output to VORS (you&#39;ll need to look at the full scan).

I ran the script against the production sites and here&#39;s what I got...

AGLT2, v26 (includes IGTF 1.14 CAs)
ASGC_OSG, v23 (includes IGTF 1.13 CAs)
ASGC_OSG, v23 (includes IGTF 1.13 CAs)
BNL_ATLAS_1, v26 (includes IGTF 1.14 CAs)
BNL_ATLAS_2, v26 (includes IGTF 1.14 CAs)
BNL_ATLAS_SE, not found
BU_ATLAS_Tier2, v19 (includes IGTF 1.9 CAs)
cinvestav, v24 (includes IGTF 1.13 CAs)
CIT_CMS_T2, v27 (includes IGTF 1.15 CAs)
CIT_CMS_T2&#58;srm_v1, not found
DARTMOUTH, not found
FIU-PG, v17 (includes IGTF 1.7 CAs)
FNAL_FERMIGRID, v26 (includes IGTF 1.14 CAs)
FNAL_GPFARM, v27 (includes IGTF 1.15 CAs)
FSU-HEP, v21 (includes IGTF 1.11 CAs)
GLOW, v26 (includes IGTF 1.14 CAs)
GLOW-CMS, v26 (includes IGTF 1.14 CAs)
GLOW-CMS-SE, not found
gpnjayhawk, v25 (includes IGTF 1.13 CAs)
GRASE-ALBANY-NYS, v26 (includes IGTF 1.14 CAs)
GRASE-BINGHAMTON, not found
GRASE-CCR-U2, v25 (includes IGTF 1.13 CAs)
GRASE-CORNELL-CTCNYSGRID, v24 (includes IGTF 1.13 CAs)
GRASE-GENESEO-ROCKS, v26 (includes IGTF 1.14 CAs)
GRASE-MARIST-nysgrid11, v21 (includes IGTF 1.11 CAs)
GRASE-NU-CARTMAN, v26 (includes IGTF 1.14 CAs)
GRASE-NYU-BENCH, v24 (includes IGTF 1.13 CAs)
GRASE-RIT-GCLUSTER, v25 (includes IGTF 1.13 CAs)
<div id='show_1472245802' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1472245802'>GRASE-SB-SBNYSGRID, v19 (includes IGTF 1.9 CAs)
GRASE-SU-CLUSTER04, v26 (includes IGTF 1.14 CAs)
GRASE-UR-NEBULA, v26 (includes IGTF 1.14 CAs)
GROW-PROD, v21 (includes IGTF 1.11 CAs)
GROW-UNI-P, v15 (includes IGTF 1.4 CAs)
HAMPTONU, v23 (includes IGTF 1.13 CAs)
HEPGRID_UERJ, not found
isuhep, not found
IU_ATLAS_Tier2, v17 (includes IGTF 1.7 CAs)
Lehigh_coral, v23 (includes IGTF 1.13 CAs)
LTU_CCT, not found
LTU_OSG, not found
MCGILL_HEP, not found
MIT_CMS, v23 (includes IGTF 1.13 CAs)
MIT_CMS&#58;srm_v1, not found
MWT2_IU, v26 (includes IGTF 1.14 CAs)
MWT2_UC, v26 (includes IGTF 1.14 CAs)
Nebraska, v24 (includes IGTF 1.13 CAs)
NERSC-Davinci, v27 (includes IGTF 1.15 CAs)
NERSC-PDSF, v23 (includes IGTF 1.13 CAs)
NWICG_NotreDame, v27 (includes IGTF 1.15 CAs)
ORNL_NSTG, not found
OSG_INSTALL_TEST_2, v27 (includes IGTF 1.15 CAs)
OSG_LIGO_MIT, v26 (includes IGTF 1.14 CAs)
OSG_LIGO_PSU, not found
OU_OCHEP_SWT2, v17 (includes IGTF 1.7 CAs)
OUHEP_OSG, v16 (includes IGTF 1.6 CAs)
PROD_SLAC, v26 (includes IGTF 1.14 CAs)
Purdue-Caesar, not found
Purdue-Lear, v26 (includes IGTF 1.14 CAs)
Purdue-Physics, not found
Purdue-RCAC, v26 (includes IGTF 1.14 CAs)
Rice, v15 (includes IGTF 1.4 CAs)
SMU_PHY, v20 (includes IGTF 1.10 CAs)
SPRACE, v26 (includes IGTF 1.14 CAs)
SPRACE-SE, not found
STAR-Bham, not found
STAR-BNL, not found
STAR-SAO_PAULO, not found
STAR-WSU, v26 (includes IGTF 1.14 CAs)
T2_Nebraska_Storage, not found
TTU-ANTAEUS, v23 (includes IGTF 1.13 CAs)
UARK_ACE, v23 (includes IGTF 1.13 CAs)
UC_ATLAS_MWT2, v26 (includes IGTF 1.14 CAs)
UC_Teraport, v27 (includes IGTF 1.15 CAs)
UCR-HEP, v25 (includes IGTF 1.13 CAs)
UCSandiegoOSG-Prod-SE, not found
UCSDT2, v26 (includes IGTF 1.14 CAs)
UFlorida-HPC, v25 (includes IGTF 1.13 CAs)
UFlorida-IHEPA, v26 (includes IGTF 1.14 CAs)
UFlorida-PG, v26 (includes IGTF 1.14 CAs)
UFlorida-PG&#58;srm_v1, not found
UIC_PHYSICS, v26 (includes IGTF 1.14 CAs)
UNM_HPC, not found
USCMS-FNAL-WC1-CE, v26 (includes IGTF 1.14 CAs)
USCMS-FNAL-WC1-CE2, v26 (includes IGTF 1.14 CAs)
USCMS-FNAL-WC1-SE, v26 (includes IGTF 1.14 CAs)
UTA-DPCC, v26 (includes IGTF 1.14 CAs)
UVA-HEP, not found
UVA-sunfire, v14 (includes IGTF 1.2 CAs)
UWMilwaukee, v26 (includes IGTF 1.14 CAs)
Vanderbilt, v27 (includes IGTF 1.15 CAs)

Is this what you were requesting?

Thank You,
Tim Silvers
OSG Grid Operations Center
goc@...., 317-278-9699
Web&#58; <a href='http&#58;//www.opensciencegrid.edu/' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.edu/</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a>
</div><script type='text/javascript'>
        $('#show_1472245802').click(function() {
            $('#detail_1472245802').slideDown("normal");
            $('#show_1472245802').hide();
            $('#hide_1472245802').show();
        });
        $('#hide_1472245802').click(function() {
            $('#detail_1472245802').slideUp();
            $('#hide_1472245802').hide();
            $('#show_1472245802').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='3775#1184764235'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-07-18T13:10:35+00:00">Jul 18, 2007 01:10 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1184764235">&nbsp;</a></div><pre>John,

Could you and I discuss this later today?

Thanks,

Tim

At the TAGPMA meeting we are curious about the status of IGTF distribution updates at
the OSG production sites.

Is it possible to include somethign like the following in the regular site-verify
that is run automatically on all OSG sites and monitor the results?

vdt-version | grep &#34;CA Certificates&#34;

Or is this already done and can be mined somehow?

Thanks,
Alan</pre></div><div class='update_description'><i onclick="document.location='3775#1184716961'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2007-07-18T00:02:41+00:00">Jul 18, 2007 12:02 AM UTC</time> by <b>swenz</b><a class="anchor" name="1184716961">&nbsp;</a></div><pre>From&#58; Alan Sill &#60;Alan.Sill@....&#62;
To&#58; &#34;goc@.... Operations&#34; &#60;goc@....&#62;
cc&#58; Alan Sill &#60;Alan.Sill@....&#62;, &#34;Robert D. Cowles&#34; &#60;rdc@....&#62;
Subject&#58; GOC&#58; Is it possible to query IGTF distribution status at all OSG sites?
Date-Sent&#58; Tuesday, July 17, 2007 6&#58;10 PM -0500

At the TAGPMA meeting we are curious about the status of IGTF distribution updates at
the OSG production sites.

Is it possible to include somethign like the following in the regular site-verify
that is run automatically on all OSG sites and monitor the results?

vdt-version | grep &#34;CA Certificates&#34;

Or is this already done and can be mined somehow?

Thanks,
Alan

Alan Sill, Ph.D
TIGRE Senior Scientist, High Performance Computing Center
Adjunct Professor of Physics
TTU

====================================================================
&#58;  Alan Sill, Texas Tech University  Office&#58; Admin 233, MS 4-1167  &#58;
&#58;  e-mail&#58; Alan.Sill@....   ph. 806-742-4350  fax 806-742-4358  &#58;
====================================================================</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F3775">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 3775});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
