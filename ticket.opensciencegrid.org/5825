<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5825] RSV marked critical on BNL_ATLAS_1 and BNL_ATLAS_2 (one metric is not being uploaded)</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5825" method="post">
<div class="page-header">
    <h3><span class="muted">5825</span> / RSV marked critical on BNL_ATLAS_1 and BNL_ATLAS_2 (one metric is not being uploaded)</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Xin Zhao</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closing ticket - issue resolved.</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">1970-01-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("https://ticket.opensciencegrid.org/attachment/list?id=5825", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5825?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5825?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20RSV%20marked%20critical%20on%20BNL_ATLAS_1%20and%20BNL_ATLAS_2%20%28one%20metric%20is%20not%20being%20uploaded%29%20ISSUE%3D5825%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5825#1225192570'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-28T11:16:10+00:00">Oct 28, 2008 11:16 AM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1225192570">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62;&#62; <a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html</a></font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62; That&#39;s the update. But there have been RSV updates in version i, j, and</font>
<font color='#7F7E6F'>&#62; 1) Create the following file,</font>
<font color='#7F7E6F'>&#62; . . .</font>
<font color='#7F7E6F'>&#62; 2) Run the following</font>
<font color='#7F7E6F'>&#62; . . .</font>
<font color='#7F7E6F'>&#62; Hopefully the new probe/metric we&#39;re proposing will be a lot more</font>
<font color='#7F7E6F'>&#62; robust, and won&#39;t require hacks like this.</font>
<font color='#7F7E6F'>&#62;</font>

<font color='#7F7E6F'>&#62;  . . .</font>

Xin.

Are you all set on this one for now?

Arvind</pre></div><div class='update_description'><i onclick="document.location='5825#1224798790'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T21:53:10+00:00">Oct 23, 2008 09:53 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1224798790">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Hi Arvind,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Restarting osg-rsv fixes the held job issue for the time being. In order</font>
<font color='#7F7E6F'>&#62; to completely fix the bug, I would like to upgrade to the latest RSV.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; We are running OSG 1.0/VDT 1.10.1d gatekeeper. Is the following</font>
<font color='#7F7E6F'>&#62; instruction still good for the upgrade of RSV ( there has been already</font>
<font color='#7F7E6F'>&#62; several newer VDT versions coming out so far) ?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Also please note that our CE have vdt-update-certs disabled, since we</font>
<font color='#7F7E6F'>&#62; use another mechanism for updating it.</font>
<font color='#7F7E6F'>&#62;</font>

Hi Xin,

That&#39;s the update. But there have been RSV updates in version i, j, and
k as well. And I think if you upgrade the osg-rsv package now, per
instructions in the above link, I think it&#39;ll pull the other updates as
well (Scot can correct me if I am wrong).

Once you&#39;re done with the update, do the following to make the CA metric
work. A more robust probe is in the works for release this winter.

1) Create the following file,

$VDT_LOCATION/vdt/etc/vdt-update-certs.conf

... and add the line shown below in it with a new line after it&#58;

cacerts_url=&#60;URL&#62;

where URL is
<a href='http&#58;//vdt.cs.wisc.edu/software/certificates/ca-certs-version' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/software/certificates/ca-certs-version</a> if you got
<div id='show_1640878580' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1640878580'>your RPM from VDT
URL is
<a href='http&#58;//software.grid.iu.edu/pacman/cadist/ca-certs-version' target='_blank' rel='nofollow'>http&#58;//software.grid.iu.edu/pacman/cadist/ca-certs-version</a> if you got
your RPM from the GOC.

2) Run the following

If you got your RPM from VDT

$VDT_LOCATION/vdt/bin/vdt-version  -add CERTS -version &#34;CA Certificates v41 (includes IGTF 1.25 CAs)

if you got your RPM from the GOC

$VDT_LOCATION/vdt/bin/vdt-version  -add CERTS -version &#34;CA Certificates 1.1 (includes IGTF 1.25 CAs)

Hopefully the new probe/metric we&#39;re proposing will be a lot more
robust, and won&#39;t require hacks like this.

Arvind
</div><script type='text/javascript'>
        $('#show_1640878580').click(function() {
            $('#detail_1640878580').slideDown("normal");
            $('#show_1640878580').hide();
            $('#hide_1640878580').show();
        });
        $('#hide_1640878580').click(function() {
            $('#detail_1640878580').slideUp();
            $('#hide_1640878580').hide();
            $('#show_1640878580').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5825#1224778270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-23T16:11:10+00:00">Oct 23, 2008 04:11 PM UTC</time> by <b>Xin zhao</b><a class="anchor" name="1224778270">&nbsp;</a></div><pre>Hi Arvind,

Restarting osg-rsv fixes the held job issue for the time being. In order
to completely fix the bug, I would like to upgrade to the latest RSV.

We are running OSG 1.0/VDT 1.10.1d gatekeeper. Is the following
instruction still good for the upgrade of RSV ( there has been already
several newer VDT versions coming out so far) ?

<a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html</a>

Also please note that our CE have vdt-update-certs disabled, since we
use another mechanism for updating it.

Thanks,
Xin

On Tue, 2008-10-21 at 16&#58;53, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5825#1224625270'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-21T21:41:10+00:00">Oct 21, 2008 09:41 PM UTC</time> by <b>bbockelm</b><a class="anchor" name="1224625270">&nbsp;</a></div><pre>Hey Arvind,

Sorry, I missed your last email.

To respond, if a probe stops reporting on 10/14, it keeps its last
status until 24 later when the test expires (10/15), and you will
notice the drop in availability on the report for 10/15, which comes
out 10/16.

Brian

On Oct 21, 2008, at 3&#58;53 PM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5825#1224622389'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-21T20:53:09+00:00">Oct 21, 2008 08:53 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1224622389">&nbsp;</a></div><pre>Xin,

I think this issue is resolved now. I am closing this ticket. If Brian happens to
respond with any corrections to my email yesterday, those notes should still make it
to you via the ticket.

Let me know if you have any questions.

Thanks,
Arvind</pre></div><div class='update_description'><i onclick="document.location='5825#1224540669'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T22:11:09+00:00">Oct 20, 2008 10:11 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1224540669">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Hi Arvind,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; About the upgrade, I noticed there are a couple coming up. But I thought</font>
<font color='#7F7E6F'>&#62; they are mainly for the CACert migration, where we don&#39;t care much</font>
<font color='#7F7E6F'>&#62; because we use our own rpm based CAcert package. That&#39;s why I didn&#39;t</font>
<font color='#7F7E6F'>&#62; update RSV.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I just do a vdt-control off/on the RSV probes, looks like the jobs are</font>
<font color='#7F7E6F'>&#62; rerunning now&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; [root@gridgk01 logs]# tail -2</font>
<font color='#7F7E6F'>&#62; /opt/OSG-1.0.0/osg-rsv/logs/probes/gridgk01.racf.bnl.gov__osg-version-probe@....</font>
<font color='#7F7E6F'>&#62; 000 (222.000.000) 10/20 16&#58;07&#58;17 Job submitted from host&#58;</font>
<font color='#7F7E6F'>&#62; &#60;130.199.185.6&#58;33424&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Hopefully this will fix the problem.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; One more question&#58; osg-version probe stopped reporting since 10/14, why</font>
<font color='#7F7E6F'>&#62; it didn&#39;t affect the report till 10/16?</font>
<font color='#7F7E6F'>&#62;</font>

Hi Xin,

You&#39;re back in business now (as the following not-released-yet page shows)

<a href='http&#58;//rsv.grid.iu.edu/history?resource_id=3' target='_blank' rel='nofollow'>http&#58;//rsv.grid.iu.edu/history?resource_id=3</a>

The VDT page for release 1.10.1g explains the changes made to RSV to
prevent the jobs going on permanent hold problem.

<a href='http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.10.1/release-g.html</a>

There&#39;s an allowed length of time before an old metric is considered
unusable for availability calculations. In your case I am guessing the
old result was valid till 10/15 ... the date for which you got numbers
<div id='show_1312924211' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1312924211'>on 10/16. I&#39;ve cc&#39;ed Brian so he can explain .... especially if I mis-spoke.

Cheers,
Arvind
</div><script type='text/javascript'>
        $('#show_1312924211').click(function() {
            $('#detail_1312924211').slideDown("normal");
            $('#show_1312924211').hide();
            $('#hide_1312924211').show();
        });
        $('#hide_1312924211').click(function() {
            $('#detail_1312924211').slideUp();
            $('#hide_1312924211').hide();
            $('#show_1312924211').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5825#1224534010'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T20:20:10+00:00">Oct 20, 2008 08:20 PM UTC</time> by <b>Xin zhao</b><a class="anchor" name="1224534010">&nbsp;</a></div><pre>Hi Arvind,

About the upgrade, I noticed there are a couple coming up. But I thought
they are mainly for the CACert migration, where we don&#39;t care much
because we use our own rpm based CAcert package. That&#39;s why I didn&#39;t
update RSV.

I just do a vdt-control off/on the RSV probes, looks like the jobs are
rerunning now&#58;

[root@gridgk01 logs]# tail -2
/opt/OSG-1.0.0/osg-rsv/logs/probes/gridgk01.racf.bnl.gov__osg-version-probe@....
000 (222.000.000) 10/20 16&#58;07&#58;17 Job submitted from host&#58;
&#60;130.199.185.6&#58;33424&#62;

Hopefully this will fix the problem.

One more question&#58; osg-version probe stopped reporting since 10/14, why
it didn&#39;t affect the report till 10/16?

Thanks,
Xin

On Mon, 2008-10-20 at 16&#58;05, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5825#1224533289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T20:08:09+00:00">Oct 20, 2008 08:08 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1224533289">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; By the way, Arvind, to quickly get our site back, will restart osg-rsv</font>
<font color='#7F7E6F'>&#62; get the osg-version probe going again?</font>
<font color='#7F7E6F'>&#62;</font>

I&#39;ve never dealt with these held jobs myself, Xin. I think the safest
thing to do would be to condor_cron_rm the job that&#39;s in held state,
then restart osg-rsv.</pre></div><div class='update_description'><i onclick="document.location='5825#1224533111'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T20:05:11+00:00">Oct 20, 2008 08:05 PM UTC</time> by <b>Xin zhao</b><a class="anchor" name="1224533111">&nbsp;</a></div><pre>By the way, Arvind, to quickly get our site back, will restart osg-rsv
get the osg-version probe going again?

Thanks,
Xin

On Mon, 2008-10-20 at 15&#58;50, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5825#1224533109'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T20:05:09+00:00">Oct 20, 2008 08:05 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1224533109">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Hi Arvind,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; The osg-version probe condor job is held on condor queue, the lastest</font>
<font color='#7F7E6F'>&#62; message from condor log shows&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 004 (202.000.000) 10/14 08&#58;01&#58;30 Job was evicted.</font>
<font color='#7F7E6F'>&#62;         (0) Job terminated and was requeued</font>
<font color='#7F7E6F'>&#62;                 Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Remote Usage</font>
<font color='#7F7E6F'>&#62;                 Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Local Usage</font>
<font color='#7F7E6F'>&#62;         0  -  Run Bytes Sent By Job</font>
<font color='#7F7E6F'>&#62;         0  -  Run Bytes Received By Job</font>
<font color='#7F7E6F'>&#62;         (1) Normal termination (return value 0)</font>
<font color='#7F7E6F'>&#62;         The job attribute OnExitRemove expression &#39;FALSE&#39; evaluated to</font>
<font color='#7F7E6F'>&#62; FALSE</font>
<font color='#7F7E6F'>&#62; ...</font>
<font color='#7F7E6F'>&#62; 004 (202.000.000) 10/14 08&#58;34&#58;55 Job was evicted.</font>
<font color='#7F7E6F'>&#62;         (0) Job was not checkpointed.</font>
<font color='#7F7E6F'>&#62;                 Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Remote Usage</font>
<font color='#7F7E6F'>&#62;                 Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Local Usage</font>
<font color='#7F7E6F'>&#62;         0  -  Run Bytes Sent By Job</font>
<font color='#7F7E6F'>&#62;         0  -  Run Bytes Received By Job</font>
<font color='#7F7E6F'>&#62; ...</font>
<font color='#7F7E6F'>&#62; 012 (202.000.000) 10/14 08&#58;34&#58;56 Job was held.</font>
<font color='#7F7E6F'>&#62;         Job missed deferred execution time</font>
<font color='#7F7E6F'>&#62;         Code 0 Subcode 0</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Looks like on 10/14, it was put on hold for reason of &#34;Job missed</font>
<font color='#7F7E6F'>&#62; deferred execution time&#34;. I am still trying to understand why it&#39;s put</font>
<font color='#7F7E6F'>&#62; in hold at that time. Meanwhile, I have the following questions&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) It looks like once RSV job is put in hold, it can&#39;t restart/resubmit</font>
<font color='#7F7E6F'>&#62; any more? That may explain why no updates since 10/14.</font>
<font color='#7F7E6F'>&#62;</font>

Hi Xin,
<div id='show_906617633' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_906617633'>
I notice you&#39;re on VDT 1.10.1d. We put a fix in for the &#39;job being put
on indefinite hold&#39; problem in one of the VDT updates that came out
since (right now we&#39;re on 1.10.1j, I believe). If you had upgraded RSV,
you&#39;d not have hit this problem. If you&#39;d like, you could do that. Or,
as a temporary measure, you could condor_cron_rm that job, and then
restart osg-rsv. Let me know if you need help either way.

<font color='#7F7E6F'>&#62; 2) On our current RSV web interface,</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/' target='_blank' rel='nofollow'>https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/</a>, the osg-version probe shows</font>
<font color='#7F7E6F'>&#62; green, although the date is back to 10/14. If I look back to the</font>
<font color='#7F7E6F'>&#62; archived RSV report</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/gridgk01.racf.bnl.gov/index.4.html' target='_blank' rel='nofollow'>https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/gridgk01.racf.bnl.gov/index.4.html</a>, it shows all green, but missing the osg-version probe result. Why the osg-version item reappear after a while? And could it be changed to mark it red when it&#39;s missing? Because an all-green screen will easily fool people to think all is going well, and overlook some critical issues.</font>
<font color='#7F7E6F'>&#62;</font>

Agreed (that it&#39;s not intuitive that the front page showed green when it
ideally should have grey (unknown)). The HTML web interface, at least
when we released it last year, was meant to be a basic interface to help
admins keep track of their rsv status ... it was never meant to be an
extensive interface, so we did not put too much time into it. But we&#39;re
seeing more and more admins use it extensively, so I will propose to the
rsv-dev team that we revamp it a bit.

Cheers,
Arvind
</div><script type='text/javascript'>
        $('#show_906617633').click(function() {
            $('#detail_906617633').slideDown("normal");
            $('#show_906617633').hide();
            $('#hide_906617633').show();
        });
        $('#hide_906617633').click(function() {
            $('#detail_906617633').slideUp();
            $('#hide_906617633').hide();
            $('#show_906617633').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5825#1224532210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T19:50:10+00:00">Oct 20, 2008 07:50 PM UTC</time> by <b>Xin zhao</b><a class="anchor" name="1224532210">&nbsp;</a></div><pre>Hi Arvind,

The osg-version probe condor job is held on condor queue, the lastest
message from condor log shows&#58;

004 (202.000.000) 10/14 08&#58;01&#58;30 Job was evicted.
(0) Job terminated and was requeued
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Remote Usage
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Local Usage
0  -  Run Bytes Sent By Job
0  -  Run Bytes Received By Job
(1) Normal termination (return value 0)
The job attribute OnExitRemove expression &#39;FALSE&#39; evaluated to
FALSE
...
004 (202.000.000) 10/14 08&#58;34&#58;55 Job was evicted.
(0) Job was not checkpointed.
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Remote Usage
Usr 0 00&#58;00&#58;00, Sys 0 00&#58;00&#58;00  -  Run Local Usage
0  -  Run Bytes Sent By Job
0  -  Run Bytes Received By Job
...
012 (202.000.000) 10/14 08&#58;34&#58;56 Job was held.
Job missed deferred execution time
Code 0 Subcode 0

Looks like on 10/14, it was put on hold for reason of &#34;Job missed
deferred execution time&#34;. I am still trying to understand why it&#39;s put
in hold at that time. Meanwhile, I have the following questions&#58;

1) It looks like once RSV job is put in hold, it can&#39;t restart/resubmit
any more? That may explain why no updates since 10/14.

2) On our current RSV web interface,
<a href='https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/' target='_blank' rel='nofollow'>https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/</a>, the osg-version probe shows
<div id='show_321073640' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_321073640'>green, although the date is back to 10/14. If I look back to the
archived RSV report
<a href='https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/gridgk01.racf.bnl.gov/index.4.html' target='_blank' rel='nofollow'>https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/gridgk01.racf.bnl.gov/index.4.html</a>, it shows all green, but missing the osg-version probe result. Why the osg-version item reappear after a while? And could it be changed to mark it red when it&#39;s missing? Because an all-green screen will easily fool people to think all is going well, and overlook some critical issues.

Thanks,
Xin

On Mon, 2008-10-20 at 15&#58;07, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_321073640').click(function() {
            $('#detail_321073640').slideDown("normal");
            $('#show_321073640').hide();
            $('#hide_321073640').show();
        });
        $('#hide_321073640').click(function() {
            $('#detail_321073640').slideUp();
            $('#hide_321073640').hide();
            $('#show_321073640').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5825#1224529645'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-10-20T19:07:25+00:00">Oct 20, 2008 07:07 PM UTC</time> by <b>Arvind Gopu</b><a class="anchor" name="1224529645">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Hi Arvind,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; RSV reports 0 availability of BNL for 10/16 as shown in the attached</font>
<font color='#7F7E6F'>&#62; report. Do you know why? I check the log from</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/index.html' target='_blank' rel='nofollow'>https&#58;//gridgk01.racf.bnl.gov&#58;8443/rsv/index.html</a>, and don&#39;t see</font>
<font color='#7F7E6F'>&#62; anything wrong.</font>

Hi Xin,

For strange reason, your RSV client is not uploading the osg-version metric (which is
one of the availability metrics).

Can you look in $VDT_LOCATION/osg-rsv/logs/consumers/gratia*. for errors?

We last received that metric 6 days ago!

Cheers,
Arvind</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5825">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 5825});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
