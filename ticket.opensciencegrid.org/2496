<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2496] GRASE sites failing fermilab VO acceptance tests</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2496" method="post">
<div class="page-header">
    <h3><span class="muted">2496</span> / GRASE sites failing fermilab VO acceptance tests</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Keith Chadwick</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls"></div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">1970-01-01</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">GRASE <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2496", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2496?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2496?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20GRASE%20sites%20failing%20fermilab%20VO%20acceptance%20tests%20ISSUE%3D2496%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2496#1158852101'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-21T15:21:41+00:00">Sep 21, 2006 03:21 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1158852101">&nbsp;</a></div><pre>The previous update from the customer indicated that this issue is resolved. Closing ticket.

Tim
OSG GOC</pre></div><div class='update_description'><i onclick="document.location='2496#1158776353'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-20T18:19:13+00:00">Sep 20, 2006 06:19 PM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1158776353">&nbsp;</a></div><pre>According to the latest test (run at ~12 noon today), GRASE-CCR-U2
passes all fermilab VO acceptance tests.  The log file is available
here&#58;

<a href='http&#58;//fermigrid.fnal.gov/monitor/tmp/u2-grid-ccr-buffalo-edu.log' target='_blank' rel='nofollow'>http&#58;//fermigrid.fnal.gov/monitor/tmp/u2-grid-ccr-buffalo-edu.log</a>

-Keith.

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158770231'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-20T16:37:11+00:00">Sep 20, 2006 04:37 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1158770231">&nbsp;</a></div><pre>Hi,

GRASE sites in general _are_ supporting all VOs, with the exception of
Binghamton (who is too slow to respond to administrative changes).
The NYS Grid sites are a subset of GRASE sites and are only supporting
GRASE and MIS for now until they are online and tested.

We will remove support for VOs other than GRASE and MIS from the NYS
Grid sites.

Can you re-run the tests for fermilab VO on GRASE-CCR-U2?

Thanks,
Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158769695'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-20T16:28:15+00:00">Sep 20, 2006 04:28 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1158769695">&nbsp;</a></div><pre>Keith,

GRASE-CCR-U2 is supporting the fermilab VO.  GRASE-BINGHAMTON is not
and should not still be pulling fermilab entries for it&#39;s grid-mapfile.

What is the procedure for removing support for a VO other than
commenting that VO out of edg-mkgridmap.conf ?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158769642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-20T16:27:22+00:00">Sep 20, 2006 04:27 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1158769642">&nbsp;</a></div><pre>Keith, you&#39;re right. If they&#39;re supporting only GRASE and MIS VOs then you&#39;re not going to be
supported from Fermilab sites.

GRASE, VORS uses the information that GridScan acquires via the site_verify.pl script.  The VOs
supported is extracted from the listing you can find on the output from site_verify just under

&#34;Checking for Grid3 grid3-user-vo-map.txt&#58; YES&#34;

That file should only specify support for GRASE and MIS VOs, which will be picked up and reported
by VORS. Please make the appropriate change.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Web&#58; <a href='http&#58;//www.grid.iu.edu/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='2496#1158768976'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-20T16:16:16+00:00">Sep 20, 2006 04:16 PM UTC</time> by <b>Keith Chadwick</b><a class="anchor" name="1158768976">&nbsp;</a></div><pre>Since the GRASE sites are not supporting the fermilab VO, I&#39;m
not sure why running the test again would produce anything
of value.

Please note that as of 11&#58;00 AM Central on Wednesday September
20, 2006, vors still shows that the following GRASE sites&#58;

GRASE-BINGHAMTON
GRASE-CCR-U2
GROW-UNI-P

Still claim to support the fermilab VO...

-Keith.

<font color='#7F7E6F'>&#62;[Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158694333'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-19T19:32:13+00:00">Sep 19, 2006 07:32 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1158694333">&nbsp;</a></div><pre>Keith,

Could you please run the test from GRASE-BINGHAMTON again? The VO is providing support only to
GRASE and MIS resources, as you saw from the previous ticket updates.

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Web&#58; <a href='http&#58;//www.grid.iu.edu/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/</a>
RSS&#58; <a href='http&#58;//www.grid.iu.edu/news' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news</a></pre></div><div class='update_description'><i onclick="document.location='2496#1158604575'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-18T18:36:15+00:00">Sep 18, 2006 06:36 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1158604575">&nbsp;</a></div><pre>The OSG vo user has been created on u2-grid and rommel has been
reduced to supporting only GRASE and MIS.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158345862'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-15T18:44:22+00:00">Sep 15, 2006 06:44 PM UTC</time> by <b>GRASE</b><a class="anchor" name="1158345862">&nbsp;</a></div><pre>Hi,

We are changing Binghamton to support only GRASE sites
for now.  I&#39;m assuming that in order to stop it&#39;s advertising
that we simply need to stop pulling the users from the
other VOs? or is there something else?

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158334872'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-15T15:41:12+00:00">Sep 15, 2006 03:41 PM UTC</time> by <b>Steve Gallo</b><a class="anchor" name="1158334872">&nbsp;</a></div><pre>We are working with Binghamton on fixing the problem, as well as
support for the OSG VO.  I will let you know once the problem is
resolved.

Steve

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2496#1158330213'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-09-15T14:23:33+00:00">Sep 15, 2006 02:23 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1158330213">&nbsp;</a></div><pre>GRASE Support,

The OSG Resource Selector (<a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi</a>) indicates that the fGOC
supported OSG resource, FIU-PG, lists the fermilab VO as a supported VO, but GRASE-
BINGHAMTON fails the fermilab VO acceptance tests in the globus-job-run phase.

Details about the tests performed in the fermilab VO acceptance tests can be found at&#58;

<a href='http&#58;//fermigrid.fnal.gov/monitor/vo-monitor-probe-key.html' target='_blank' rel='nofollow'>http&#58;//fermigrid.fnal.gov/monitor/vo-monitor-probe-key.html</a>

The log file of the latest fermilab VO probe of GRASE-BINGHAMTON is attached below&#58;

$0=/home/chadwick/monitor/scripts/gatekeeper_probe.sh
gatekeeper_ip_name=rommel.cs.binghamton.edu
gatekeeper_directory=/opt/grid3_share/scratch/fermilab
Timestamp Wed Sep 13 12&#58;07&#58;07 CDT 2006
gatekeeper_time_start=1158167227

ping -c 1 rommel.cs.binghamton.edu
gatekeeper_ping_status=0

globus-job-run rommel.cs.binghamton.edu /usr/bin/printenv
GRAM Job submission failed because the gatekeeper failed to run the job manager (error code 47)
gatekeeper_run_status=47
gatekeeper_copyput_status=-1
gatekeeper_copyget_status=-1
gatekeeper_time_final=1158167228
Timestamp Wed Sep 13 12&#58;07&#58;08 CDT 2006
gatekeeper_time_elapsed=1

Please look into this. If you are supporting the VO these issues need to be addressed. If you&#39;re not
supporting the VO, then modifications should be made to stop advertising its support.

Thank You,
OSG Grid Operations Center
<div id='show_1108143333' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1108143333'>goc@...., 317-278-9699
rss&#58; <a href='http&#58;//www.grid.iu.edu/news/' target='_blank' rel='nofollow'>http&#58;//www.grid.iu.edu/news/</a>
</div><script type='text/javascript'>
        $('#show_1108143333').click(function() {
            $('#detail_1108143333').slideDown("normal");
            $('#show_1108143333').hide();
            $('#hide_1108143333').show();
        });
        $('#hide_1108143333').click(function() {
            $('#detail_1108143333').slideUp();
            $('#hide_1108143333').hide();
            $('#show_1108143333').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2496">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2496});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
