<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[9299] MyOSG Bugs / Requests</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=9299" method="post">
<div class="page-header">
    <h3><span class="muted">9299</span> / MyOSG Bugs / Requests</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Suchandra Thapa</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/myosg</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Suchandra Thapa</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2010-10-18</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Scott Teige <span class="muted"> / OSG Operations Infrastructure</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/9299", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='9299#1287460297'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-19T03:51:37+00:00">Oct 19, 2010 03:51 AM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1287460297">&nbsp;</a></div><pre>We&#39;ve proposed a solution to this to Suchandra and the ITB. Sending ITB RSV records to rsv.grid.iu.edu rather than rsv-itb.grid.iu.edu. It has been accepted, it will be in a upcoming ITB release. Closing this ticket.</pre></div><div class='update_description'><i onclick="document.location='9299#1287156892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-15T15:34:52+00:00">Oct 15, 2010 03:34 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1287156892">&nbsp;</a></div><pre>Can we close this ticket?</pre></div><div class='update_description'><i onclick="document.location='9299#1286474098'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-07T17:54:58+00:00">Oct 7, 2010 05:54 PM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286474098">&nbsp;</a></div><pre>FYI.

I have figured out a way to forward Gratia records from rsv-itb.grid to rsv.grid. However, I am not planning to do this - and instead suggest ITB group to send to rsv.grid directly.

rsv-itb.grid will be used by GOC to test new version of Gratia DB. When this happens, we might ask ITB team to send data to rsv-itb.grid *temporarily* and *to test service at GOC*, but we will never ask ITB team to use rsv-itb.grid to conduct testing that happens at ITB group.</pre></div><div class='update_description'><i onclick="document.location='9299#1286245236'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-05T02:20:36+00:00">Oct 5, 2010 02:20 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286245236">&nbsp;</a></div><pre>Sorry, I didn&#39;t answer this question

<font color='#7F7E6F'>&#62; How long is Arvind on vacation?  E.g. if we were to go the second route, what would the eta to restoring the functionality be?</font>
I think he is coming back some time between 14th and 21st of this month.. I don&#39;t remember the exact date. If forwarding is some kind of built-in capability of Gratia, then it shouldn&#39;t take very long.. if not, it might take longer. I will contact Gratia developer and ask - while Arvind is still on vacation.</pre></div><div class='update_description'><i onclick="document.location='9299#1286243059'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-05T01:44:19+00:00">Oct 5, 2010 01:44 AM UTC</time> by <b>Soichi Hayashi</b><a class="anchor" name="1286243059">&nbsp;</a></div><pre><font color='#7F7E6F'>&#62; Tell all of admins who are currently sending RSV metrics to rsv-itb.grid.iu.edu for their ITB resources to start sending metrics to rsv.grid.iu.edu instead.</font>

<font color='#7F7E6F'>&#62; This would potentially cause confusion and make it a bit more difficult to assess the status of the itb reporting.</font>

If you are running your test on ITB resource, it is very easy to display only those test on MyOSG, or any services that we provide (as long at their FQDN / resource name, etc are unique). If you are running your test on production resources and if that is the cause of confusion (since the same FQDN produces both production and test data), then you should probably start testing things on ITB resources instead.

From the enterprise design perspective, I believe it was a mistake to create a holistic &#34;OSG ITB&#34; environment - since any one party&#39;s testing could break other party&#39;s ability to conduct their testing. It will be a better approach if each party regarded other party&#39;s test systems as if it is a production system. So, from GOC&#39;s perspective, when you conduct your testing, the generated data should be regarded as if it is a production data, and processed by GOC&#39;s production system - when it is possible to do so.</pre></div><div class='update_description'><i onclick="document.location='9299#1285965168'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-01T20:32:48+00:00">Oct 1, 2010 08:32 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1285965168">&nbsp;</a></div><pre>I checked on the rsv-itb machine and successful records seem to be flowing. I&#39;ve sent these to Suchandra to review. We&#39;ll work on the MyOSG presentation layer on Monday.</pre></div><div class='update_description'><i onclick="document.location='9299#1285953786'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-01T17:23:06+00:00">Oct 1, 2010 05:23 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1285953786">&nbsp;</a></div><pre>On Oct 1, 2010, at 8&#58;44 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; From Soichi&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; What seems to be happening is that, previously the data sent to</font>
<font color='#7F7E6F'>&#62; rsv-itb.grid.iu.edu Gratia DB from our ITB resources were somehow</font>
<font color='#7F7E6F'>&#62; *forwarded* to rsv.grid.iu.edu Gratia DB. I am guessing that this was some</font>
<font color='#7F7E6F'>&#62; kind of Arvind&#39;s ad-hoc script that was not part of the install script, and</font>
<font color='#7F7E6F'>&#62; when we rebuilt it the script was lost (along with other similar scripts</font>
<font color='#7F7E6F'>&#62; that I have managed to recreate / fix already..)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; In order to fix this, we have following options.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 1) Tell all of admins who are currently sending RSV metrics to</font>
<font color='#7F7E6F'>&#62; rsv-itb.grid.iu.edu for their ITB resources to start sending metrics to</font>
<font color='#7F7E6F'>&#62; rsv.grid.iu.edu instead.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; * This is what I *strongly* recommend since rsv-itb.grid.iu shouldn&#39;t be</font>
<font color='#7F7E6F'>&#62; part of production infrastructure.</font>
<font color='#7F7E6F'>&#62;</font>

The sites that are reporting to rsv-itb.grid.iu.edu aren&#39;t production sites, they are sites that are running the latest ITB test release and evaluating it before it goes into the production cache and is released to production. Reporting to the rsv.grid.iu.edu server would defeat the purpose somewhat since you would no longer have a somewhat isolated service to test collector updates and the itb site information would be reported along with the production sites.  This would potentially cause confusion and make it a bit more difficult to assess the status of the itb reporting.

How long is Arvind on vacation?  E.g. if we were to go the second route, what would the eta to restoring the functionality be?

Suchandra

---
Suchandra Thapa
sthapa@....
Computation Institute
Searle Chemistry Laboratory #201A
5735 South Ellis Avenue
Chicago, IL 60637</pre></div><div class='update_description'><i onclick="document.location='9299#1285940670'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-10-01T13:44:30+00:00">Oct 1, 2010 01:44 PM UTC</time> by <b>Scott Teige</b><a class="anchor" name="1285940670">&nbsp;</a></div><pre>From Soichi&#58;

What seems to be happening is that, previously the data sent to
rsv-itb.grid.iu.edu Gratia DB from our ITB resources were somehow
*forwarded* to rsv.grid.iu.edu Gratia DB. I am guessing that this was some
kind of Arvind&#39;s ad-hoc script that was not part of the install script, and
when we rebuilt it the script was lost (along with other similar scripts
that I have managed to recreate / fix already..)

In order to fix this, we have following options.

1) Tell all of admins who are currently sending RSV metrics to
rsv-itb.grid.iu.edu for their ITB resources to start sending metrics to
rsv.grid.iu.edu instead.

* This is what I *strongly* recommend since rsv-itb.grid.iu shouldn&#39;t be
part of production infrastructure.

2) Re-instate rsv-itb.grid.iu.edu to rsv.grid.iu.edu forwarding.

I am guessing that, Gratia DB has the forwarding capability built in,
however I don&#39;t know how to do that. I believe Arvind can tell you this in
microseconds, but he is currently on vacation. We should probably ask Gratia
developer about this - and maybe they know how Arvind used to forward
metrics from rsv-itb.grid to rsv.grid.

If Gratia DB doesn&#39;t have this, I know that the Gratia DB&#39;s incoming data
goes to following directory

/usr/local/rsv-gratia-collector/tomcat/v55/gratia/data

It could be, that the Arvind&#39;s forwarding script consisted of some kind of
rsync-ish approach on this directory between rsv-itb.grid and rsv.grid - I
will need to confirm with Gratia developer how to do this.</pre></div><div class='update_description'><i onclick="document.location='9299#1285790311'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2010-09-29T19:58:31+00:00">Sep 29, 2010 07:58 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1285790311">&nbsp;</a></div><pre>All the rsv probe entries for ITB resources show up as being 8 days old or older.  Can you check the server to see why the information isn&#39;t being updated?</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F9299">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
