<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[13366] Star Transfers to Nebraska overloading gridftp servers</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=13366" method="post">
<div class="page-header">
    <h3><span class="muted">13366</span> / Star Transfers to Nebraska overloading gridftp servers</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Derek Weitzel</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Associated VO</label><div class="controls">STAR</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Derek Weitzel</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">STAR</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2013-02-22</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">STAR <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/13366", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13366?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/13366?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Star%20Transfers%20to%20Nebraska%20overloading%20gridftp%20servers%20ISSUE%3D13366%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='13366#1361823163'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-25T20:12:43+00:00">Feb 25, 2013 08:12 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1361823163">&nbsp;</a></div><pre>Hello All,

I&#39;m going to close this ticket, if the problem still exists let me know and I can reopen it.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='13366#1361377455'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-20T16:24:15+00:00">Feb 20, 2013 04:24 PM UTC</time><a class="anchor" name="1361377455">&nbsp;</a></div><pre>I haven&#39;t heard anything from LBL on this either, and can confirm the temporary blocking we put in place was (and is) removed. My vote would be to close unless LBL has something more to add.

- Garhan Attebury

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='13366#1361325161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-20T01:52:41+00:00">Feb 20, 2013 01:52 AM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1361325161">&nbsp;</a></div><pre>Hi,

I haven&#39;t heard back on this issue from anyone. Does anyone have any new information on this issue?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='13366#1360613199'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-02-11T20:06:39+00:00">Feb 11, 2013 08:06 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1360613199">&nbsp;</a></div><pre>Hello All,

Are there any updates on this issue?

Thanks,

Chris</pre></div><div class='update_description'><i onclick="document.location='13366#1358548389'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-18T22:33:09+00:00">Jan 18, 2013 10:33 PM UTC</time> by <b>jgu@....</b><a class="anchor" name="1358548389">&nbsp;</a></div><pre>Hi, Garhan,

I am using globus-url-copy on a console. Tried twice on 128.55* when I
wrote to you earlier, and both failed. i.e.  no bytes transferred after
a few minutes.  Tried once on 128.3* and it worked.

Just now I tried 3 times on 128.55*, and the third time it worked. then
I tried 3 more times, and no bytes was transferred.
It is a bit worry some as this is something new. The past few months the
g-u-c worked fine on 128.55*.

- Junmin

---------------
I&#39;ve double checked, and there should be no reason for 128.55 to be
blocked -- out of curiosity, did you try more than a few transfers?
red-gridftp.unl.edu is actually a load balanced address across 12
physical servers. From time to time one goes belly up or has other
issues, and single transfer attempts can fail if they hit the bad one.
Perhaps your 128.55 test hit a bad one but the other network hit an
available one.

Let me know if there are still problems, and I&#39;ll dig further on our end.

by /DC=org/DC=doegrids/OU=People/CN=Garhan Attebury 254255

On 1/18/13 11&#58;31 AM, Junmin Gu wrote&#58;
<font color='#7F7E6F'>&#62; Hi, Garhan,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; 128.55 is allowed to connect but no bytes were able to be transferred.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I tried to transfer the same file on a machine (from a different</font>
<font color='#7F7E6F'>&#62; network), and it went successfully.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; - Junmin</font>
<div id='show_255242801' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_255242801'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 1/17/13 12&#58;01 PM, Junmin Gu wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; It so turns out 128.55* is still blocked from red-gridftp.unl.edu still,</font>
<font color='#7F7E6F'>&#62;&#62; Would you please allow access?</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; - Junmin</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; On 1/15/13 2&#58;53 PM, Junmin Gu wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; -------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Up to 20 transfers at a time is perfectly reasonable -- was it</font>
<font color='#7F7E6F'>&#62;&#62;&#62; unexpected that we were seeing hundreds at a time? Or were there no</font>
<font color='#7F7E6F'>&#62;&#62;&#62; limits previously?</font>
<font color='#7F7E6F'>&#62;&#62;&#62; As for number of parallel streams per transfer, I don&#39;t have a good</font>
<font color='#7F7E6F'>&#62;&#62;&#62; rule of thumb but 10 always seems nice to me.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; I&#39;ll remove our rate limit later today so it won&#39;t interfere.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; - Garhan Attebury</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan</font>
<font color='#7F7E6F'>&#62;&#62;&#62; Attebury 280</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_255242801').click(function() {
            $('#detail_255242801').slideDown("normal");
            $('#show_255242801').hide();
            $('#hide_255242801').show();
        });
        $('#hide_255242801').click(function() {
            $('#detail_255242801').slideUp();
            $('#hide_255242801').hide();
            $('#show_255242801').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='13366#1358540414'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-18T20:20:14+00:00">Jan 18, 2013 08:20 PM UTC</time><a class="anchor" name="1358540414">&nbsp;</a></div><pre>I&#39;ve double checked, and there should be no reason for 128.55 to be blocked -- out of curiosity, did you try more than a few transfers? red-gridftp.unl.edu is actually a load balanced address across 12 physical servers. From time to time one goes belly up or has other issues, and single transfer attempts can fail if they hit the bad one. Perhaps your 128.55 test hit a bad one but the other network hit an available one.

Let me know if there are still problems, and I&#39;ll dig further on our end.

by /DC=org/DC=doegrids/OU=People/CN=Garhan Attebury 254255</pre></div><div class='update_description'><i onclick="document.location='13366#1358537589'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-18T19:33:09+00:00">Jan 18, 2013 07:33 PM UTC</time> by <b>jgu@....</b><a class="anchor" name="1358537589">&nbsp;</a></div><pre>Hi, Garhan,

128.55 is allowed to connect but no bytes were able to be transferred.

I tried to transfer the same file on a machine (from a different
network), and it went successfully.

- Junmin

On 1/17/13 12&#58;01 PM, Junmin Gu wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; It so turns out 128.55* is still blocked from red-gridftp.unl.edu still,</font>
<font color='#7F7E6F'>&#62; Would you please allow access?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; - Junmin</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On 1/15/13 2&#58;53 PM, Junmin Gu wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; -------------------</font>
<font color='#7F7E6F'>&#62;&#62; Up to 20 transfers at a time is perfectly reasonable -- was it</font>
<font color='#7F7E6F'>&#62;&#62; unexpected that we were seeing hundreds at a time? Or were there no</font>
<font color='#7F7E6F'>&#62;&#62; limits previously?</font>
<font color='#7F7E6F'>&#62;&#62; As for number of parallel streams per transfer, I don&#39;t have a good</font>
<font color='#7F7E6F'>&#62;&#62; rule of thumb but 10 always seems nice to me.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; I&#39;ll remove our rate limit later today so it won&#39;t interfere.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; - Garhan Attebury</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan</font>
<font color='#7F7E6F'>&#62;&#62; Attebury 280</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font></pre></div><div class='update_description'><i onclick="document.location='13366#1358453473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T20:11:13+00:00">Jan 17, 2013 08:11 PM UTC</time><a class="anchor" name="1358453473">&nbsp;</a></div><pre>Ahh, a case of me forgetting to actually restore our previous iptables correctly. Please try again and let us know if there are problems.

- Garhan Attebury

by /DC=org/DC=doegrids/OU=People/CN=Garhan Attebury 254255</pre></div><div class='update_description'><i onclick="document.location='13366#1358452994'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-17T20:03:14+00:00">Jan 17, 2013 08:03 PM UTC</time> by <b>jgu@....</b><a class="anchor" name="1358452994">&nbsp;</a></div><pre>Hi,

It so turns out 128.55* is still blocked from red-gridftp.unl.edu still,
Would you please allow access?

Thanks,
- Junmin

On 1/15/13 2&#58;53 PM, Junmin Gu wrote&#58;
<font color='#7F7E6F'>&#62; -------------------</font>
<font color='#7F7E6F'>&#62; Up to 20 transfers at a time is perfectly reasonable -- was it</font>
<font color='#7F7E6F'>&#62; unexpected that we were seeing hundreds at a time? Or were there no</font>
<font color='#7F7E6F'>&#62; limits previously?</font>
<font color='#7F7E6F'>&#62; As for number of parallel streams per transfer, I don&#39;t have a good</font>
<font color='#7F7E6F'>&#62; rule of thumb but 10 always seems nice to me.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I&#39;ll remove our rate limit later today so it won&#39;t interfere.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; - Garhan Attebury</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan</font>
<font color='#7F7E6F'>&#62; Attebury 280</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font></pre></div><div class='update_description'><i onclick="document.location='13366#1358290450'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T22:54:10+00:00">Jan 15, 2013 10:54 PM UTC</time> by <b>jgu@....</b><a class="anchor" name="1358290450">&nbsp;</a></div><pre>Hi,

Many sets of tests were running on cluster nodes when you saw hundreds
of connections.
We will limit the test scale from now on.

Thanks,

- Junmin

-------------------
Up to 20 transfers at a time is perfectly reasonable -- was it
unexpected that we were seeing hundreds at a time? Or were there no
limits previously?
As for number of parallel streams per transfer, I don&#39;t have a good rule
of thumb but 10 always seems nice to me.

I&#39;ll remove our rate limit later today so it won&#39;t interfere.

- Garhan Attebury

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan
Attebury 280</pre></div><div class='update_description'><i onclick="document.location='13366#1358273140'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T18:05:40+00:00">Jan 15, 2013 06:05 PM UTC</time><a class="anchor" name="1358273140">&nbsp;</a></div><pre>Up to 20 transfers at a time is perfectly reasonable -- was it unexpected that we were seeing hundreds at a time? Or were there no limits previously?
As for number of parallel streams per transfer, I don&#39;t have a good rule of thumb but 10 always seems nice to me.

I&#39;ll remove our rate limit later today so it won&#39;t interfere.

- Garhan Attebury

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='13366#1358272812'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T18:00:12+00:00">Jan 15, 2013 06:00 PM UTC</time> by <b>jgu@....</b><a class="anchor" name="1358272812">&nbsp;</a></div><pre>Right,  the test contains 500 files, and they are usually requested via
up to 20 gsiftp transfers at a time. Please let me know if it works at
your end.

The test is for a software that tunes the performance of transferring
sets of files.  We don&#39;t need special tuning on your end, as long as
file transfers go through.

Thanks,
- Junmin

On 1/15/13 9&#58;45 AM, Alex Sim wrote&#58;
<font color='#7F7E6F'>&#62; She meant all together 500 files, not all at the same time.</font>
<font color='#7F7E6F'>&#62; For performance wise, please let her know what would be the number of streams (parallel as well as concurrent) that she can use.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; --</font>
<font color='#7F7E6F'>&#62; -- Alex</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; On Jan 15, 2013, at 9&#58;31 AM, Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13366#1358272089'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T17:48:09+00:00">Jan 15, 2013 05:48 PM UTC</time> by <b>Alex Sim</b><a class="anchor" name="1358272089">&nbsp;</a></div><pre>She meant all together 500 files, not all at the same time.
For performance wise, please let her know what would be the number of streams (parallel as well as concurrent) that she can use.

--
-- Alex

On Jan 15, 2013, at 9&#58;31 AM, Open Science Grid FootPrints wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='13366#1358271110'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T17:31:50+00:00">Jan 15, 2013 05:31 PM UTC</time><a class="anchor" name="1358271110">&nbsp;</a></div><pre>What do you mean by &#39;500 files&#39;?  Do you mean 500 connections to the storage element?  That seems large.  Do you mean an agrigate transfer of 500 files serially?  That should be easy.

What is the &#39;perfomance&#39; you are trying to test?  It seems that there&#39;s a large number of unknowns on our end that would affect any confidence in the test.

We aren&#39;t opposed to such things, but we&#39;d like to understand what you&#39;re doing.

Carl Lundstedt
UNL

by /DC=org/DC=doegrids/OU=People/CN=Carl Lundstedt 229191</pre></div><div class='update_description'><i onclick="document.location='13366#1358231230'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-15T06:27:10+00:00">Jan 15, 2013 06:27 AM UTC</time> by <b>jgu@....</b><a class="anchor" name="1358231230">&nbsp;</a></div><pre>Hi, all,

I was doing tests with nersc cluster nodes to collect the performance
numbers between nersc and nebraska.
Sorry for any trouble it might have caused, and I didn&#39;t meant to
disturb your normal work load. Be able to test
between nersc and nebraska has been really helpful for us. Current tests
are all stopped now. And if I reduce the test scale to up to 500 files
in one batch,
and leave some time between batches, would it be ok for me to continue
testing?

Thanks,

- Junmin

On 1/14/13 1&#58;04 PM, Alex Sim wrote&#58;
<font color='#7F7E6F'>&#62; Junmin,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Respond to him and the ticket accordingly.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; __</font>
<font color='#7F7E6F'>&#62; --Alex</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Begin forwarded message&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; *From&#58;* Open Science Grid FootPrints &#60;osg@....</font>
<font color='#7F7E6F'>&#62;&#62; &#60;mailto&#58;osg@....&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; *Date&#58;* January 14, 2013, 12&#58;57&#58;00 PM PST</font>
<font color='#7F7E6F'>&#62;&#62; *To&#58;* &#60;stargrid-l@.... &#60;mailto&#58;stargrid-l@....&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; *Subject&#58;* *Open Science Grid&#58; Star Transfers to Nebraska overloading</font>
<font color='#7F7E6F'>&#62;&#62; gridftp servers ISSUE=13366 PROJ=71*</font>
<font color='#7F7E6F'>&#62;&#62; *Reply-To&#58;* STAR activities in the particle physics data grid</font>
<font color='#7F7E6F'>&#62;&#62; &#60;stargrid-l@.... &#60;mailto&#58;stargrid-l@....&#62;&#62;</font>
<div id='show_745589550' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_745589550'><font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_745589550').click(function() {
            $('#detail_745589550').slideDown("normal");
            $('#show_745589550').hide();
            $('#hide_745589550').show();
        });
        $('#hide_745589550').click(function() {
            $('#detail_745589550').slideUp();
            $('#hide_745589550').hide();
            $('#show_745589550').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='13366#1358198366'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-14T21:19:26+00:00">Jan 14, 2013 09:19 PM UTC</time><a class="anchor" name="1358198366">&nbsp;</a></div><pre>Alex Sim answered on our list that Jummin was informed/notified.
She is apparently using a STAR CERT but not doing those transfers for STAR per say but  &#34;testing new capabilities in the data transfers&#34;. Probably best to use a non-STAR CERT next time to avoid confusion.

by /DC=org/DC=doegrids/OU=People/CN=Jerome LAURET 694693</pre></div><div class='update_description'><i onclick="document.location='13366#1358197642'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-14T21:07:22+00:00">Jan 14, 2013 09:07 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1358197642">&nbsp;</a></div><pre>Hi Derek,

I just wanted to follow up on a phone call that Wayne Betts made to you earlier today. He was requesting more information about the START cert used to initiate the transfers. If you could please update the ticket once you speak to Wayne I would appreciate it.
<a href='https&#58;//ticket.grid.iu.edu/goc/13366' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/13366</a>
Regards,

Chris P.</pre></div><div class='update_description'><i onclick="document.location='13366#1358197056'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-14T20:57:36+00:00">Jan 14, 2013 08:57 PM UTC</time><a class="anchor" name="1358197056">&nbsp;</a></div><pre>Looks like the cert being used was&#58; /DC=org/DC=doegrids/OU=People/CN=Junmin Gu 111597.

The files being accessed were in paths similar to the following&#58; /mnt/hadoop/dropfiles/nersc/s14/26-amip.cam2.h3.1979-10-29-00000.nc
(ignore the /mnt/hadoop, and to be honest I&#39;ve no idea what purpose the &#39;dropfiles&#39; area on our SE is supposed to be for)

Our outright blocking of 128.55/16 let us recover our gridftp/xrootd (they&#39;re shared) servers quickly and I believe I&#39;ve correctly reconfigured to allow connections on the order of 1/second at this point. At some points we were seeing 10+ connections/second and hundreds overall. Unfortunately as these build up more memory gets used per transfer and the servers in question were simply running out of memory.

I haven&#39;t seen any connection attempts in the past few minutes, but will leave it open (with rate limiting) for now and keep an eye on it. I&#39;d love to know if this user can rate/concurrency limit on their end of course. Thanks for the responses!

- Garhan Attebury

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Garhan Attebury 280</pre></div><div class='update_description'><i onclick="document.location='13366#1358195826'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-14T20:37:06+00:00">Jan 14, 2013 08:37 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1358195826">&nbsp;</a></div><pre>Wayne Betts called to into the NOC wanting to know more information about the STAR cert that was being used in the transfer. I patched Wayne into Derek&#39;s number and he left a voice mail. I am going to follow up with an email to Derek as well.

Cheers,
~Chris</pre></div><div class='update_description'><i onclick="document.location='13366#1358194213'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2013-01-14T20:10:13+00:00">Jan 14, 2013 08:10 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1358194213">&nbsp;</a></div><pre>The Nebraska CMS Tier 2 is seeing transfers from the NERSC domain with a STAR certificate.  They are overwhelming the gridftp servers here at Nebraska.  Please throttle back the transfers an order of magnitude.

The behavior we are seeing is hundreds concurrent of transfers for each of our 12 gridftp servers.  Please use less simultaneous transfers.

For the time being, we have stopped all new transfers from the NERSC domain, 128.55/16.

Thank you,
-Derek

by /DC=org/DC=doegrids/OU=People/CN=Derek Weitzel 285345</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F13366">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 13366});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
