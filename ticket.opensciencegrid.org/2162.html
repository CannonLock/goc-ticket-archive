<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[2162] FNAL_FERMIGRID_SE addition to Gridcat</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=2162" method="post">
<div class="page-header">
    <h3><span class="muted">2162</span> / FNAL_FERMIGRID_SE addition to Gridcat</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Dan Yocum</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2006-07-14</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/2162", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2162?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/2162?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20FNAL_FERMIGRID_SE%20addition%20to%20Gridcat%20ISSUE%3D2162%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='2162#1153505736'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-21T18:15:36+00:00">Jul 21, 2006 06:15 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1153505736">&nbsp;</a></div><pre>---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 16&#58;35&#58;26 -0500
From&#58; Neha Sharma &#60;neha@....&#62;
To&#58; jrosheck@....
Cc&#58; Bockjoo Kim &#60;bockjoo@....&#62;
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi John

FYI - with current configuration, I see that the inbound gsiftp test
succeeded. However the outbound test still fails.
I have generated a helpdesk ticket at my end to look into this problem.
But it does seem that path is now resolved properly.

Thanks
Neha

---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 17&#58;25&#58;17 -0400 (EDT)
From&#58; jrosheck@....
To&#58; Neha Sharma &#60;neha@....&#62;
Cc&#58; Bockjoo Kim &#60;bockjoo@....&#62;
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi Neha,

I&#39;m cc&#39;ing Bockjoo since he should know better than I but I think that
gridcat gets the path from the GIP information.  Bockjoo - could you
please let me know from which Glue parameter you get the path information
from?

John

On Tue, 18 Jul 2006, Neha Sharma wrote&#58;

<div id='show_473629360' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_473629360'>Hi John

Actually the problem is that on fermilab dcache, the path resolution
takes place by itself.
For example, if a copy job gets submitted by a user &#34;mis&#34;, then user
only needs to specify the path relative to location
&#34;/pnfs/fnal.gov/usr/fermigrid/volatile/mis&#34;

example command is &#58; globus-url-copy file&#58;///blah/blah
<a href='gsiftp&#58;//fndca1.fnal.gov&#58;2811/file1' target='_blank' rel='nofollow'>gsiftp&#58;//fndca1.fnal.gov&#58;2811/file1</a>

the way tests are performed right now is that it appends the individual
user access root (in this case &#34;mis&#34;) , so that url becomes

globus-url-copy file&#58;///blah/blah <a href='gsiftp&#58;//fndca1.fnal.gov&#58;2811/mis/file1' target='_blank' rel='nofollow'>gsiftp&#58;//fndca1.fnal.gov&#58;2811/mis/file1</a>

which gets resolved to
globus-url-copy file&#58;///blah/blah
<a href='gsiftp&#58;//fndca1.fnal.gov&#58;2811/pnfs/fnal.gov/usr/fermigrid/volatile/mis/mis/file1' target='_blank' rel='nofollow'>gsiftp&#58;//fndca1.fnal.gov&#58;2811/pnfs/fnal.gov/usr/fermigrid/volatile/mis/mis/file1</a>

which ofcourse diesnot exist .

Could the tests be modified so that the user access root does not get
appended to the transfer url?

Neha

jrosheck@.... wrote&#58;
Hi again,

Here are the parameter I&#39;m feeding to gridcat for the FNAL_FERMIGRID SE -

SE = fndca1.fnal.gov
GIP = fermigrid1.fnal.gov&#58;2135
ldapsearch string = mds-vo-name=local,o=grid

When I look at the GIP information from an ldap search everything looks
good for a gsiftp test.

Please let me know if any of the specifics are wrong.

John

On Tue, 18 Jul 2006, Neha Sharma wrote&#58;

Thankyou John . I saw that the changes were reflected in gridcat.
To remove the errors , I made some further changes. Would you mind
removing and adding it again in gridcat.

Thanks
Neha

From&#58; 	  jrosheck@....
Subject&#58; 	Re&#58; TestsFNAL_FERMIGRID&#58;srmv1 (fwd) ISSUE=2162 PROJ=71
Date&#58; 	July 21, 2006 1&#58;48&#58;02 PM EDT
To&#58; 	  goc@....

---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 13&#58;18&#58;10 -0400 (EDT)
From&#58; jrosheck@....
To&#58; Neha Sharma &#60;neha@....&#62;
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi Neha,

I didn&#39;t get done before - one of those mornings&#58;) - but its done now.

I removed it and readded it and it looked like it loaded ok.  It will take
a while for it to test it.

John

On Tue, 18 Jul 2006, Neha Sharma wrote&#58;

Hi John

Would you mind doing it one more time please.
Actually I am new person working on this , and it is taking me while to
figure out how the access root path for various grid users is getting
resolved on our dcache here.
I know the storage element is set correctly, just some problem with
configuration.

Thanks
Neha

Neha Sharma wrote&#58;
Thankyou John . I saw that the changes were reflected in gridcat.
To remove the errors , I made some further changes. Would you mind
removing and adding it again in gridcat.

Thanks
Neha

Neha Sharma wrote&#58;
Hi John
I have made some changes to FNAL_FERMIGRID&#58;srmv1
Can you please remove and add it again in gridcat.

Thanks
*********************************
Neha Sharma
630-840-6791
SDSS - Fermilab
*********************************

----- Original Message -----
From&#58; Bockjoo Kim &#60;bockjoo@....&#62;
Date&#58; Friday, July 14, 2006 4&#58;14 pm
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi Neha,
You need to reconfigure GIP &#58;
configure_gip --batch condor --srm
and enter correct answer for all the storage element.
I also suggest you to remove gsiftp support if it is not necessary
because it is known anyway.
Then, ask John to readd (remove and add) your SE to gridcat freshly.
Cheers,
Bockjoo
Neha Sharma wrote&#58;

Hi Bockjoo

I am troubleshooting why FNAL_*FERMIGRID&#58;srmv1 (fermigrid storage
element ) is showing up red in gridcat.

Can you give me some information about how you are creating the
urls
that you use for gsiftp test transfer . In this I see it is of
form
&#34;*<a href='gsiftp&#58;//fermigrid1.fnal.gov&#58;2811/mis/gridcat.ss.test._user_*&#34' target='_blank' rel='nofollow'>gsiftp&#58;//fermigrid1.fnal.gov&#58;2811/mis/gridcat.ss.test._user_*&#34</a>;

If I am thinking right, this url is incorrect . The hostname
should be
&#39;fndca1.fnal.gov&#39; instead of &#39;fermigrid1.fnal.gov&#39;

Thankyou for your time.
Neha
*
</div><script type='text/javascript'>
        $('#show_473629360').click(function() {
            $('#detail_473629360').slideDown("normal");
            $('#show_473629360').hide();
            $('#hide_473629360').show();
        });
        $('#hide_473629360').click(function() {
            $('#detail_473629360').slideUp();
            $('#hide_473629360').hide();
            $('#show_473629360').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2162#1153504373'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-21T17:52:53+00:00">Jul 21, 2006 05:52 PM UTC</time> by <b>ttwang-admin</b><a class="anchor" name="1153504373">&nbsp;</a></div><pre>---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 13&#58;39&#58;53 -0500
From&#58; Neha Sharma &#60;neha@....&#62;
To&#58; jrosheck@....
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi John

Actually the problem is that on fermilab dcache, the path resolution
takes place by itself.
For example, if a copy job gets submitted by a user &#34;mis&#34;, then user
only needs to specify the path relative to location
&#34;/pnfs/fnal.gov/usr/fermigrid/volatile/mis&#34;

example command is &#58; globus-url-copy file&#58;///blah/blah
<a href='gsiftp&#58;//fndca1.fnal.gov&#58;2811/file1' target='_blank' rel='nofollow'>gsiftp&#58;//fndca1.fnal.gov&#58;2811/file1</a>

the way tests are performed right now is that it appends the individual
user access root (in this case &#34;mis&#34;) , so that url becomes

globus-url-copy file&#58;///blah/blah <a href='gsiftp&#58;//fndca1.fnal.gov&#58;2811/mis/file1' target='_blank' rel='nofollow'>gsiftp&#58;//fndca1.fnal.gov&#58;2811/mis/file1</a>

which gets resolved to
globus-url-copy file&#58;///blah/blah
<a href='gsiftp&#58;//fndca1.fnal.gov&#58;2811/pnfs/fnal.gov/usr/fermigrid/volatile/mis/mis/f' target='_blank' rel='nofollow'>gsiftp&#58;//fndca1.fnal.gov&#58;2811/pnfs/fnal.gov/usr/fermigrid/volatile/mis/mis/f</a>
ile1

which ofcourse diesnot exist .

Could the tests be modified so that the user access root does not get
appended to the transfer url?

Neha</pre></div><div class='update_description'><i onclick="document.location='2162#1153504336'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-21T17:52:16+00:00">Jul 21, 2006 05:52 PM UTC</time> by <b>ttwang-admin</b><a class="anchor" name="1153504336">&nbsp;</a></div><pre>---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 14&#58;05&#58;14 -0400 (EDT)
From&#58; jrosheck@....
To&#58; Neha Sharma &#60;neha@....&#62;
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi again,

Here are the parameter I&#39;m feeding to gridcat for the FNAL_FERMIGRID SE -

SE = fndca1.fnal.gov
GIP = fermigrid1.fnal.gov&#58;2135
ldapsearch string = mds-vo-name=local,o=grid

When I look at the GIP information from an ldap search everything looks
good for a gsiftp test.

Please let me know if any of the specifics are wrong.

John</pre></div><div class='update_description'><i onclick="document.location='2162#1153504310'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-21T17:51:50+00:00">Jul 21, 2006 05:51 PM UTC</time> by <b>ttwang-admin</b><a class="anchor" name="1153504310">&nbsp;</a></div><pre>---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 10&#58;57&#58;01 -0500
From&#58; Neha Sharma &#60;neha@....&#62;
To&#58; jrosheck@....
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Thankyou John . I saw that the changes were reflected in gridcat.
To remove the errors , I made some further changes. Would you mind
removing and adding it again in gridcat.

Thanks
Neha</pre></div><div class='update_description'><i onclick="document.location='2162#1153504289'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-21T17:51:29+00:00">Jul 21, 2006 05:51 PM UTC</time> by <b>ttwang-admin</b><a class="anchor" name="1153504289">&nbsp;</a></div><pre>From&#58; jrosheck@....
To&#58; goc@....
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1 (fwd) ISSUE=2162 PROJ=71
Date-Sent&#58; Friday, July 21, 2006 1&#58;47 PM -0400

---------- Forwarded message ----------
Date&#58; Tue, 18 Jul 2006 11&#58;54&#58;27 -0500
From&#58; Neha Sharma &#60;neha@....&#62;
To&#58; jrosheck@....
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi John

Would you mind doing it one more time please.
Actually I am new person working on this , and it is taking me while to
figure out how the access root path for various grid users is getting
resolved on our dcache here.
I know the storage element is set correctly, just some problem with
configuration.

Thanks
Neha</pre></div><div class='update_description'><i onclick="document.location='2162#1153504186'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-21T17:49:46+00:00">Jul 21, 2006 05:49 PM UTC</time> by <b>ttwang-admin</b><a class="anchor" name="1153504186">&nbsp;</a></div><pre>From&#58; jrosheck@....
To&#58; goc@....
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1 (fwd) ISSUE=2162 PROJ=71
Date-Sent&#58; Friday, July 21, 2006 1&#58;46 PM -0400

Neha took over the correction of the site on gridcat and I didn&#39;t notice.
There are several more emails that need to be added to this ticket.

John

---------- Forwarded message ----------
Date&#58; Mon, 17 Jul 2006 16&#58;06&#58;05 -0500
From&#58; Neha Sharma &#60;neha@....&#62;
To&#58; jrosheck@....
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

Hi John
I have made some changes to FNAL_FERMIGRID&#58;srmv1
Can you please remove and add it again in gridcat.

Thanks

*********************************
Neha Sharma
630-840-6791
SDSS - Fermilab
*********************************

----- Original Message -----
From&#58; Bockjoo Kim &#60;bockjoo@....&#62;
Date&#58; Friday, July 14, 2006 4&#58;14 pm
Subject&#58; Re&#58; TestsFNAL_FERMIGRID&#58;srmv1

<font color='#7F7E6F'>&#62; Hi Neha,</font>
<font color='#7F7E6F'>&#62; You need to reconfigure GIP &#58;</font>
<div id='show_1585888314' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1585888314'><font color='#7F7E6F'>&#62; configure_gip --batch condor --srm</font>
<font color='#7F7E6F'>&#62; and enter correct answer for all the storage element.</font>
<font color='#7F7E6F'>&#62; I also suggest you to remove gsiftp support if it is not necessary</font>
<font color='#7F7E6F'>&#62; because it is known anyway.</font>
<font color='#7F7E6F'>&#62; Then, ask John to readd (remove and add) your SE to gridcat freshly.</font>
<font color='#7F7E6F'>&#62; Cheers,</font>
<font color='#7F7E6F'>&#62; Bockjoo</font>
<font color='#7F7E6F'>&#62; Neha Sharma wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; &#62; Hi Bockjoo</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; I am troubleshooting why FNAL_*FERMIGRID&#58;srmv1 (fermigrid storage</font>
<font color='#7F7E6F'>&#62; &#62; element ) is showing up red in gridcat.</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Can you give me some information about how you are creating the</font>
<font color='#7F7E6F'>&#62; urls</font>
<font color='#7F7E6F'>&#62; &#62; that you use for gsiftp test transfer . In this I see it is of</font>
<font color='#7F7E6F'>&#62; form</font>
<font color='#7F7E6F'>&#62; &#62; &#34;*<a href='gsiftp&#58;//fermigrid1.fnal.gov&#58;2811/mis/gridcat.ss.test._user_*&#34' target='_blank' rel='nofollow'>gsiftp&#58;//fermigrid1.fnal.gov&#58;2811/mis/gridcat.ss.test._user_*&#34</a>;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; If I am thinking right, this url is incorrect . The hostname</font>
<font color='#7F7E6F'>&#62; should be</font>
<font color='#7F7E6F'>&#62; &#62; &#39;fndca1.fnal.gov&#39; instead of &#39;fermigrid1.fnal.gov&#39;</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62; &#62; Thankyou for your time.</font>
<font color='#7F7E6F'>&#62; &#62; Neha</font>
<font color='#7F7E6F'>&#62; &#62; *</font>
<font color='#7F7E6F'>&#62; &#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
</div><script type='text/javascript'>
        $('#show_1585888314').click(function() {
            $('#detail_1585888314').slideDown("normal");
            $('#show_1585888314').hide();
            $('#hide_1585888314').show();
        });
        $('#hide_1585888314').click(function() {
            $('#detail_1585888314').slideUp();
            $('#hide_1585888314').hide();
            $('#show_1585888314').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2162#1152726059'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-12T17:40:59+00:00">Jul 12, 2006 05:40 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1152726059">&nbsp;</a></div><pre>From&#58; 	  tdh@....
Subject&#58; 	Re&#58; Open Science Grid&#58; FNAL_FERMIGRID_SE addition to Gridcat ISSUE=2162
PROJ=71
Date&#58; 	July 12, 2006 1&#58;08&#58;27 PM EDT
To&#58; 	  yocum@....
Cc&#58; 	  jrosheck@...., goc@...., tdh@....

I agree that it would be a good idea to also check the srm connection itself.

From&#58; 	  yocum@....
Subject&#58; 	Re&#58; Open Science Grid&#58; FNAL_FERMIGRID_SE addition to Gridcat ISSUE=2162
PROJ=71
Date&#58; 	July 12, 2006 12&#58;52&#58;34 PM EDT
To&#58; 	  jrosheck@....
Cc&#58; 	  goc@...., tdh@....

John,

Interesting.  The underlying access protocol is via gsiftp, even when using srm (srm just manages
the gsiftp connections, scheduling them, reserving space, etc.), so gridcat should also look at
GlueSEControlProtocolType, too.  At least, I think it should.  I&#39;m cc&#39;ing Ted Hesselroth on this to
see if what I&#39;m saying is true.

Dan

From&#58; 	  jrosheck@....
Subject&#58; 	Re&#58; Open Science Grid&#58; FNAL_FERMIGRID_SE addition to Gridcat ISSUE=2162
PROJ=71
Date&#58; 	July 12, 2006 11&#58;34&#58;23 AM EDT
To&#58; 	  yocum@....
Cc&#58; 	  goc@....

On Mon, 10 Jul 2006, Open Science Grid FootPrints wrote&#58;

John,
<div id='show_1425894253' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1425894253'>
Running &#39;ldapsearch -h fermigrid1.fnal.gov -p 2135 -x -b
mds-vo-name=local,o=grid&#39; gives the correct results, so I think whatever
is supposed to grab the correct info from our GIP isn&#39;t doing that.

Dan

Hello,

First, I have no idea why the BDII information does not match that
retrieved with a straight ldap search.  As far as I know it should and
I&#39;ll look into it more.

I ran the ldapsearch manually as you described and found the following
entries of interest &#58;

# gsiftp, fndca1.fnal.gov, local, grid
dn&#58; GlueSEAccessProtocolLocalID=gsiftp,GlueSEUniqueID=fndca1.fnal.gov,Mds-Vo-n
ame=local,o=grid
objectClass&#58; GlueSETop
objectClass&#58; GlueSEAccessProtocol
objectClass&#58; GlueKey
objectClass&#58; GlueSchemaVersion
GlueSEAccessProtocolLocalID&#58; gsiftp
GlueSEAccessProtocolType&#58; gsiftp
GlueSEAccessProtocolVersion&#58; 1.0.0
GlueSEAccessProtocolPort&#58; 2811
GlueSEAccessProtocolSupportedSecurity&#58; gsi
GlueChunkKey&#58; GlueSEUniqueID=fndca1.fnal.gov
GlueSchemaVersionMajor&#58; 1
GlueSchemaVersionMinor&#58; 2

# gsiftp, fermigrid1.fnal.gov, local, grid
dn&#58; GlueSEAccessProtocolLocalID=gsiftp,GlueSEUniqueID=fermigrid1.fnal.gov,Mds-
Vo-name=local,o=grid
objectClass&#58; GlueSETop
objectClass&#58; GlueSEAccessProtocol
objectClass&#58; GlueKey
objectClass&#58; GlueSchemaVersion
GlueSEAccessProtocolLocalID&#58; gsiftp
GlueSEAccessProtocolType&#58; gsiftp
GlueSEAccessProtocolVersion&#58; 1.0.0
GlueSEAccessProtocolPort&#58; 2811
GlueSEAccessProtocolSupportedSecurity&#58; gsi
GlueChunkKey&#58; GlueSEUniqueID=fermigrid1.fnal.gov
GlueSchemaVersionMajor&#58; 1
GlueSchemaVersionMinor&#58; 2

# srm_v1, fndca1.fnal.gov, local, grid
dn&#58; GlueSEControlProtocolLocalID=srm_v1,GlueSEUniqueID=fndca1.fnal.gov,Mds-Vo-
name=local,o=grid
objectClass&#58; GlueSETop
objectClass&#58; GlueSEControlProtocol
objectClass&#58; GlueKey
objectClass&#58; GlueSchemaVersion
GlueSEControlProtocolLocalID&#58; srm_v1
GlueSEControlProtocolType&#58; srm_v1
GlueSEControlProtocolEndpoint&#58; httpg&#58;//fndca1.fnal.gov
GlueSEControlProtocolCapability&#58; control
GlueSEControlProtocolVersion&#58; 1.0.0
GlueChunkKey&#58; GlueSEUniqueID=fndca1.fnal.gov
GlueSchemaVersionMajor&#58; 1
GlueSchemaVersionMinor&#58; 2

I checked the gridcat source code to find the specific tag that it is
using to determine the test type (srm or gsiftp) and it looks for the
tag &#34;GlueSEAccessProtocolType&#34; which is found only in the first two
dn&#39;s listed above.  Those are the part of the GIP setup that I think
need to be changed for gridcat to do its tests properly.

Or maybe I&#39;m confused - if so, please let me know&#58;)

Thanks,
John
</div><script type='text/javascript'>
        $('#show_1425894253').click(function() {
            $('#detail_1425894253').slideDown("normal");
            $('#show_1425894253').hide();
            $('#hide_1425894253').show();
        });
        $('#hide_1425894253').click(function() {
            $('#detail_1425894253').slideUp();
            $('#hide_1425894253').hide();
            $('#show_1425894253').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2162#1152560473'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-10T19:41:13+00:00">Jul 10, 2006 07:41 PM UTC</time> by <b>Dan Yocum</b><a class="anchor" name="1152560473">&nbsp;</a></div><pre>John,

Running &#39;ldapsearch -h fermigrid1.fnal.gov -p 2135 -x -b
mds-vo-name=local,o=grid&#39; gives the correct results, so I think whatever
is supposed to grab the correct info from our GIP isn&#39;t doing that.

Dan

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='2162#1152232624'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-07T00:37:04+00:00">Jul 7, 2006 12:37 AM UTC</time> by <b>Nizar Louly</b><a class="anchor" name="1152232624">&nbsp;</a></div><pre>From&#58; jrosheck@....
To&#58; Dan Yocum &#60;yocum@....&#62;
cc&#58; Bockjoo Kim &#60;bockjoo@....&#62;, goc@....
Subject&#58; Re&#58; please re-add FNAL_FERMIGRID_SE (fwd) - issue=2162
Date-Sent&#58; Thursday, July 06, 2006 8&#58;17 PM -0400

Hello,

Sorry for the delay.  The information I plugged into gridcat is as
follows&#58;

SE url &#58; fndca1.fnal.gov
CE url &#58; fermigrid1.fnal.gov (provides giis/gip info)
ldapsearch &#58; mds-vo-name=local,o=grid

Please let me know if I&#39;ve got any of this wrong.

Gridcat uses the gip information to find the path its supposed to use as
well as the protocol to use (gsiftp or srm) (Right Bockjoo?).  I looked at
the information provide from the gip using &#58;

<a href='http&#58;//scan.grid.iu.edu/cgi-bin/ldap/dump_bdii_prod_ldap.pl?host=fermigrid1.fnal.gov' target='_blank' rel='nofollow'>http&#58;//scan.grid.iu.edu/cgi-bin/ldap/dump_bdii_prod_ldap.pl?host=fermigrid1.fnal.gov</a>

The only access I see being advertised is&#58;
GlueSEAccessProtocolLocalID=gsiftp

I&#39;m pretty sure this is why it&#39;s not testing what you want it to.  Please
check your gip configuration and I think that will fix it.  If it doesn&#39;t,
I may need to reinstall the site on gridcat.

John

---------- Forwarded Message ----------
Date&#58; Thursday, July 06, 2006 3&#58;38 PM -0500
From&#58; Dan Yocum &#60;yocum@....&#62;
<div id='show_642335281' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_642335281'>To&#58; OSG - Grid Operations Center &#60;goc@....&#62;
Subject&#58; Re&#58; please re-add FNAL_FERMIGRID_SE

Has this issue been fixed, yet?

Thanks,
Dan

Dan Yocum wrote&#58;
<font color='#7F7E6F'>&#62; I see something in the production gridcat, but it&#39;s not correct&#58;</font>
<font color='#7F7E6F'>&#62; neither  the name nor the TURL.  Please see below for the correct</font>
<font color='#7F7E6F'>&#62; info.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Dan</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Dan Yocum wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Hi,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Please re-add the FNAL_FERMIGRID_SE storage element to the</font>
<font color='#7F7E6F'>&#62;&#62; production  gridcat.  The correct TURL for mis to check is this&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; <a href='srm&#58;//fndca1.fnal.gov&#58;8443/pnfs/fnal.gov/usr/fermigrid/volatile/mis/' target='_blank' rel='nofollow'>srm&#58;//fndca1.fnal.gov&#58;8443/pnfs/fnal.gov/usr/fermigrid/volatile/mis/</a></font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Thanks,</font>
<font color='#7F7E6F'>&#62;&#62; Dan</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;</font>

--
Dan Yocum
Fermilab  630.840.6509
yocum@...., <a href='http&#58;//computing.fnal.gov/ccf/ftp.html' target='_blank' rel='nofollow'>http&#58;//computing.fnal.gov/ccf/ftp.html</a>
Fermilab.  Computing the quantum universe.

---------- End Forwarded Message ----------

Please submit problems, requests, and questions at&#58;
<a href='https&#58;//www.iupui.edu/' target='_blank' rel='nofollow'>https&#58;//www.iupui.edu/</a>~nocweb/problem/osg_trouble_ticket.html

Thank You,
OSG Grid Operations Center
goc@...., 317-278-9699
Visit the OSG Support Page&#58;
<a href='http&#58;//www.opensciencegrid.org/ops' target='_blank' rel='nofollow'>http&#58;//www.opensciencegrid.org/ops</a>
</div><script type='text/javascript'>
        $('#show_642335281').click(function() {
            $('#detail_642335281').slideDown("normal");
            $('#show_642335281').hide();
            $('#hide_642335281').show();
        });
        $('#hide_642335281').click(function() {
            $('#detail_642335281').slideUp();
            $('#hide_642335281').hide();
            $('#show_642335281').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='2162#1152219396'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-07-06T20:56:36+00:00">Jul 6, 2006 08:56 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1152219396">&nbsp;</a></div><pre>From&#58; OSG- Grid Operations Center &#60;goc@....&#62;
To&#58; John Rosheck &#60;jrosheck@....&#62;
Subject&#58; Re&#58; please re-add FNAL_FERMIGRID_SE (fwd) - issue=2162
Date-Sent&#58; Thursday, July 06, 2006 8&#58;55 PM +0000

John,

Dan is asking if the corrections he request had been made yet.
Please let us know.  Thanks.

regards,
Tom

---------- Forwarded Message ----------
Date&#58; Thursday, July 06, 2006 3&#58;38 PM -0500
From&#58; Dan Yocum &#60;yocum@....&#62;
To&#58; OSG - Grid Operations Center &#60;goc@....&#62;
Subject&#58; Re&#58; please re-add FNAL_FERMIGRID_SE

Has this issue been fixed, yet?

Thanks,
Dan

Dan Yocum wrote&#58;
<font color='#7F7E6F'>&#62; I see something in the production gridcat, but it&#39;s not correct&#58;</font>
<font color='#7F7E6F'>&#62; neither  the name nor the TURL.  Please see below for the correct</font>
<font color='#7F7E6F'>&#62; info.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Dan</font>
<font color='#7F7E6F'>&#62;</font></pre></div><div class='update_description'><i onclick="document.location='2162#1151701376'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-06-30T21:02:56+00:00">Jun 30, 2006 09:02 PM UTC</time> by <b>Thomas Wang</b><a class="anchor" name="1151701376">&nbsp;</a></div><pre>From&#58; Dan Yocum &#60;yocum@....&#62;
To&#58; OSG - Grid Operations Center &#60;goc@....&#62;
Subject&#58; Re&#58; please re-add FNAL_FERMIGRID_SE
Date-Sent&#58; Friday, June 30, 2006 3&#58;38 PM -0500

I see something in the production gridcat, but it&#39;s not correct&#58; neither the
name nor the TURL.  Please see below for the correct info.

Thanks,
Dan

Dan Yocum wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Please re-add the FNAL_FERMIGRID_SE storage element to the</font>
production
<font color='#7F7E6F'>&#62; gridcat.  The correct TURL for mis to check is this&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; <a href='srm&#58;//fndca1.fnal.gov&#58;8443/pnfs/fnal.gov/usr/fermigrid/volatile/mis/' target='_blank' rel='nofollow'>srm&#58;//fndca1.fnal.gov&#58;8443/pnfs/fnal.gov/usr/fermigrid/volatile/mis/</a></font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Dan</font>
<font color='#7F7E6F'>&#62;</font>

--
Dan Yocum
Fermilab  630.840.6509
yocum@...., <a href='http&#58;//computing.fnal.gov/ccf/ftp.html' target='_blank' rel='nofollow'>http&#58;//computing.fnal.gov/ccf/ftp.html</a>
Fermilab.  Computing the quantum universe.</pre></div><div class='update_description'><i onclick="document.location='2162#1151079479'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2006-06-23T16:17:59+00:00">Jun 23, 2006 04:17 PM UTC</time> by <b>Tim Silvers</b><a class="anchor" name="1151079479">&nbsp;</a></div><pre>John,

Please update GridCat...  --Tim

From&#58; 	  yocum@....
Subject&#58; 	please re-add FNAL_FERMIGRID_SE
Date&#58; 	June 23, 2006 11&#58;54&#58;37 AM EDT
To&#58; 	  goc@....

Hi,

Please re-add the FNAL_FERMIGRID_SE storage element to the production gridcat.  The correct TURL
for mis to check is this&#58;

<a href='srm&#58;//fndca1.fnal.gov&#58;8443/pnfs/fnal.gov/usr/fermigrid/volatile/mis/' target='_blank' rel='nofollow'>srm&#58;//fndca1.fnal.gov&#58;8443/pnfs/fnal.gov/usr/fermigrid/volatile/mis/</a>

Thanks,
Dan

--
Dan Yocum
Fermilab  630.840.6509
yocum@...., <a href='http&#58;//computing.fnal.gov/ccf/ftp.html' target='_blank' rel='nofollow'>http&#58;//computing.fnal.gov/ccf/ftp.html</a>
Fermilab.  Computing the quantum universe.</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F2162">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 2162});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
