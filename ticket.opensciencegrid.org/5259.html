<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[5259] Gratia reporting incorrectly for renamed SLAC resources</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=5259" method="post">
<div class="page-header">
    <h3><span class="muted">5259</span> / Gratia reporting incorrectly for renamed SLAC resources</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Frederick Luehring</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">followup</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2008-07-30</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
        <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/5259", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5259?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/5259?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Gratia%20reporting%20incorrectly%20for%20renamed%20SLAC%20resources%20ISSUE%3D5259%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='5259#1216924210'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-24T18:30:10+00:00">Jul 24, 2008 06:30 PM UTC</time> by <b>Chris Green</b><a class="anchor" name="1216924210">&nbsp;</a></div><pre>Wei Yang wrote&#58;
<font color='#7F7E6F'>&#62; Hi John,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks so much for the help.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; BTW, I also found a bug in Gratia.py. Should I open another ticket</font>
<font color='#7F7E6F'>&#62; with GOC to report this, or is there another channel I should use.</font>
<font color='#7F7E6F'>&#62;</font>
We have a release upcoming -- please send details to
gratia-operation@.....

Thanks,
Chris.
<font color='#7F7E6F'>&#62; regards,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Wei Yang  |  yangw@....  |  650-926-3338(O)</font>

--
Chris Green &#60;greenc@....&#62;, FNAL CD/SCF/GRID; &#39;phone (630) 840-2167.
IRC&#58; greenc@...., ChrisGreen@....;
chissgreen (AIM, Yahoo); chissg@.... (MSNM);
chris.h.green (Google Talk).</pre></div><div class='update_description'><i onclick="document.location='5259#1216920609'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-24T17:30:09+00:00">Jul 24, 2008 05:30 PM UTC</time> by <b>yangw@....</b><a class="anchor" name="1216920609">&nbsp;</a></div><pre>Hi John,

Thanks so much for the help.

BTW, I also found a bug in Gratia.py. Should I open another ticket with
GOC to report this, or is there another channel I should use.

regards,

Wei Yang  |  yangw@....  |  650-926-3338(O)</pre></div><div class='update_description'><i onclick="document.location='5259#1216910349'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-24T14:39:09+00:00">Jul 24, 2008 02:39 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1216910349">&nbsp;</a></div><pre>The WT2 name is now in VORS.

<a href='http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi' target='_blank' rel='nofollow'>http&#58;//vors.grid.iu.edu/cgi-bin/index.cgi</a>

It appears the proper procedure is to contact the GOC and request the
change after first having registered with OIM (which you had already
done).

The request for the changes on the wlcg side will be coming shortly.

John Weigand

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5259#1216907648'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-24T13:54:08+00:00">Jul 24, 2008 01:54 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1216907648">&nbsp;</a></div><pre>Wei,

I talked to Rob Quick this morning via IM about the process for getting
the change into VORS.  It appears that during the transition from VORS
to OIM, it will be fairly informal.

The WT2 name is in OIM and Rob will fix it in VORS.

So that part is done (or will be shortly).

We will address the other pieces of the puzzle with WLCG shortly keeping
you in the loop via cc on the request.

John Weigand

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5259#1216868410'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-24T03:00:10+00:00">Jul 24, 2008 03:00 AM UTC</time> by <b>John Weigand</b><a class="anchor" name="1216868410">&nbsp;</a></div><pre>This is question to the OSG GOC....

with OIM being in play now and VORS in a deprecated (?) state. Not totally sure how this is working. I believe WLCG is still using VORS as the basis for validating OSG sites (I will query tomorrow to find out if this is still true).

How does one changed a site name in VORS?

If the APEL-EGEE interface no longer requires this and is using OIM, then this is a mute point. But as far as I know, it is still a requirement.

Thanks
John Weigand

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5259#1216859769'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-24T00:36:09+00:00">Jul 24, 2008 12:36 AM UTC</time> by <b>yangw@....</b><a class="anchor" name="1216859769">&nbsp;</a></div><pre>Hi John, Karthik, Fred and Chris

Thanks for the help.

We want Gratia to show WT2 instead of PROD_SLAC. Historical PROD_SLAC
data verywhere can be ported under WT2.

How do I change the name with VORS. I totally forgot about how to do that...

Wei Yang  |  yangw@....  |  650-926-3338(O)

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5259#1216852568'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-23T22:36:08+00:00">Jul 23, 2008 10:36 PM UTC</time> by <b>Fred Luehring</b><a class="anchor" name="1216852568">&nbsp;</a></div><pre>Hi Everyone,

Wei is going to have to answer the detailed questions that John Weigand
asks below. I do know that name change from SLAC to WT2 was required meet some
bureaucratic requirement.  However, how deal with the name associated with
this site&#39;s history, I leave up to Wei. It is my belief that it probably would
be simplest if the entire history reflected the WT2/WT2_SE names but there may
very well be implications to that which I do not understand.

Fred
Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='5259#1216851488'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-23T22:18:08+00:00">Jul 23, 2008 10:18 PM UTC</time> by <b>Karthik Arunachalam</b><a class="anchor" name="1216851488">&nbsp;</a></div><pre>Thanks John. Reading into your questions, this certainly seems to be more
complicated and having many implications on the accounting side than I had
thought of. It is a good learning exercise!

-Karthik

On Wed, 23 Jul 2008, John Weigand wrote&#58;

<font color='#7F7E6F'>&#62; All,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Here are my questions....</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Do you want Gratia changed to show WT2 instead of PROD_SLAC as the site name?</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     - if so, that change was effected a short time ago as noted by Chris in the previous thread.  Note that this means all</font>
<font color='#7F7E6F'>&#62; data back through the beginning of time will be reflected in Gratia as WT2.</font>
<font color='#7F7E6F'>&#62;      if not, then the change done in Gratia is not correct.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     - WT2 has to be in VORS or it will not be passed from the APEL database to the EGEE portal.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;     - we also have to request of the lcg accounting office a change to the org_Tier2 table that is used in mapping sites to</font>
<font color='#7F7E6F'>&#62; Tier 2 name (in this case the Tier 2 name is US-WT2).  We would be replacing PROD_SLAC with WT2 as the only site in that</font>
<font color='#7F7E6F'>&#62; Tier2 name.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;    - we have to change the Gratia-APEL interface lcg-reportableSites configuration file, replacing PROD_SLAC with WT2. </font>
<font color='#7F7E6F'>&#62; This is so we will extract the data for the new site name.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Now, as for historical data (meaning prior to July),  how do you want that data reflected on the EGEE portal?.... as</font>
<font color='#7F7E6F'>&#62; PROD_SLAC or as WT2.  </font>
<font color='#7F7E6F'>&#62; If PROD_SLAC, we have to explicitly let the lcg office know so they can update another table/file that will retain that old</font>
<font color='#7F7E6F'>&#62; site name for previous periods.</font>
<font color='#7F7E6F'>&#62; If as WT2, we have to do a manual update to the OSG_DATA table of the APEL database to reflect this.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; I think I covered it all and I think I got it right.</font>
<div id='show_1262308904' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1262308904'><font color='#7F7E6F'>&#62; Please advise</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; John Weigand</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Chris Green wrote&#58;</font>
<font color='#7F7E6F'>&#62;       Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       Site translation has been updated in Gratia. Note that site translation updates in Gratia are manual because</font>
<font color='#7F7E6F'>&#62;       they preserve continuity by probe name -- ie all entries uploaded from probe N back to time immemorial now look</font>
<font color='#7F7E6F'>&#62;       like they came from the new site. In these case, all reports for probes  lsf&#58;osgserv01.slac.stanford.edu</font>
<font color='#7F7E6F'>&#62;       (active) and pbs-lsf&#58;osgserv01.slac.stanford.edu (old) now translate to site name WT2. If this is not what was</font>
<font color='#7F7E6F'>&#62;       wanted, please let us know soonest.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       Ticket info has been forwarded to the current maintainer of the Gratia -&#62; APEL interface (Karthik) in case</font>
<font color='#7F7E6F'>&#62;       anything needs to be done there.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       Thanks,</font>
<font color='#7F7E6F'>&#62;       Chris.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;       Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;  [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_1262308904').click(function() {
            $('#detail_1262308904').slideDown("normal");
            $('#show_1262308904').hide();
            $('#hide_1262308904').show();
        });
        $('#hide_1262308904').click(function() {
            $('#detail_1262308904').slideUp();
            $('#hide_1262308904').hide();
            $('#show_1262308904').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='5259#1216851128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-23T22:12:08+00:00">Jul 23, 2008 10:12 PM UTC</time> by <b>John Weigand</b><a class="anchor" name="1216851128">&nbsp;</a></div><pre>All,

Here are my questions....

Do you want Gratia changed to show WT2 instead of PROD_SLAC as the site name?

- if so, that change was effected a short time ago as noted by Chris in the previous thread. Note that this means all data back through the beginning of time will be reflected in Gratia as WT2.
if not, then the change done in Gratia is not correct.

- WT2 has to be in VORS or it will not be passed from the APEL database to the EGEE portal.

- we also have to request of the lcg accounting office a change to the org_Tier2 table that is used in mapping sites to Tier 2 name (in this case the Tier 2 name is US-WT2). We would be replacing PROD_SLAC with WT2 as the only site in that Tier2 name.

- we have to change the Gratia-APEL interface lcg-reportableSites configuration file, replacing PROD_SLAC with WT2. This is so we will extract the data for the new site name.

Now, as for historical data (meaning prior to July), how do you want that data reflected on the EGEE portal?.... as PROD_SLAC or as WT2.
If PROD_SLAC, we have to explicitly let the lcg office know so they can update another table/file that will retain that old site name for previous periods.
If as WT2, we have to do a manual update to the OSG_DATA table of the APEL database to reflect this.

I think I covered it all and I think I got it right.
Please advise

John Weigand

Chris Green wrote&#58;   Hi,

Site translation has been updated in Gratia. Note that site translation updates in Gratia are manual because they preserve continuity by probe name -- ie all entries uploaded from probe N back to time immemorial now look like they came from the new site. In these case, all reports for probes lsf&#58;osgserv01.slac.stanford.edu (active) and pbs-lsf&#58;osgserv01.slac.stanford.edu (old) now translate to site name WT2. If this is not what was wanted, please let us know soonest.

Ticket info has been forwarded to the current maintainer of the Gratia -&gt; APEL interface (Karthik) in case anything needs to be done there.

Thanks,
Chris.

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5259#1216849508'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-23T21:45:08+00:00">Jul 23, 2008 09:45 PM UTC</time> by <b>Chris Green</b><a class="anchor" name="1216849508">&nbsp;</a></div><pre>Hi,

Site translation has been updated in Gratia. Note that site translation updates in Gratia are manual because they preserve continuity by probe name -- ie all entries uploaded from probe N back to time immemorial now look like they came from the new site. In these case, all reports for probes lsf&#58;osgserv01.slac.stanford.edu (active) and pbs-lsf&#58;osgserv01.slac.stanford.edu (old) now translate to site name WT2. If this is not what was wanted, please let us know soonest.

Ticket info has been forwarded to the current maintainer of the Gratia -&gt; APEL interface (Karthik) in case anything needs to be done there.

Thanks,
Chris.

Open Science Grid FootPrints wrote&#58;  [Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='5259#1216837672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2008-07-23T18:27:52+00:00">Jul 23, 2008 06:27 PM UTC</time> by <b>echism</b><a class="anchor" name="1216837672">&nbsp;</a></div><pre>Hi Wei,

I am adding the GOC to this thread so that they can open a ticket about your
difficulty with Gratia. Could the GOC look at Wei Yang&#39;s email directly beneath my
signature for a description of the problem.

Fred

Yang, Wei wrote&#58;
<font color='#7F7E6F'>&#62; Hi Brian</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; In your Daily report to WLCG about CPU usage</font>
(<a href='https&#58;//t2.unl.edu/gratia/wlcg_reporting' target='_blank' rel='nofollow'>https&#58;//t2.unl.edu/gratia/wlcg_reporting</a>), where did you get data from? I don&#39;t see
WT2 show up in Gratia so if you pull data from Gratia, then there maybe a problem
about ATLAS usage at WT2. I also don&#39;t know why Gratia is still showing PROD_SLAC but
not SLAC.
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Regards,</font>
<font color='#7F7E6F'>&#62; --</font>
<font color='#7F7E6F'>&#62; Wei Yang  |  yangw@....  |  650-926-3338(O)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62; -----Original Message-----</font>
<font color='#7F7E6F'>&#62;&#62; From&#58; usatlas-grid-l-bounces@....</font>
<font color='#7F7E6F'>&#62;&#62; [mailto&#58;usatlas-grid-l-bounces@....] On Behalf Of</font>
<font color='#7F7E6F'>&#62;&#62; Brian Bockelman</font>
<font color='#7F7E6F'>&#62;&#62; Sent&#58; Wednesday, July 23, 2008 12&#58;33 AM</font>
<font color='#7F7E6F'>&#62;&#62; To&#58; Brian Bockelman</font>
<font color='#7F7E6F'>&#62;&#62; Cc&#58; USATLAS Computing</font>
<font color='#7F7E6F'>&#62;&#62; Subject&#58; Re&#58; [Usatlas-grid-l] ATLAS RSV vs WLCG Daily report</font>
<font color='#7F7E6F'>&#62;&#62; for 07/22/08.</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Hey folks,</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; It appears that the PROD_SLAC -&#62; WT2 renaming has gone</font>
<font color='#7F7E6F'>&#62;&#62; through.  I also see the SE named &#34;WT2_SE&#34;.</font>
<div id='show_623404811' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_623404811'><font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Is everything all set?  I&#39;m happy if you&#39;re happy...</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Brian</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; On Jul 23, 2008, at 8&#58;26 AM, Brian Bockelman wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; ATLAS RSV vs WLCG Daily report for 07/22/08.</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; This report compares the OSG calculation of resource availability</font>
<font color='#7F7E6F'>&#62;&#62;&#62; against the WLCG calculation of resource availability.  The</font>
<font color='#7F7E6F'>&#62;&#62;&#62; availability algorithm is the one documented at&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//twiki.grid.iu.edu/pub/Operations/RSVPeriodicReporting/Gridview' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/pub/Operations/RSVPeriodicReporting/Gridview</a></font>
<font color='#7F7E6F'>&#62;&#62;&#62; _Service_Availability_Computation-1.pdf</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; RSV versus WLCG values for WLCG sites</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ----------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; --------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |      Site      | RSV Availability | WLCG Availability |</font>
<font color='#7F7E6F'>&#62;&#62; Difference</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | RSV Reliability | WLCG Reliability | Difference |</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ----------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; --------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | AGLT2          |               97 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;       -3</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |              97 |              100 |         -3 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | BNL_ATLAS_1    |                0 |                 0 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |               0 |                0 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | BU_ATLAS_Tier2 |              100 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | IU_OSG         |               53 |                92 |</font>
<font color='#7F7E6F'>&#62;&#62;      -39</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | MWT2_IU        |              100 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | MWT2_UC        |               99 |                99 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |              99 |               99 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | OUHEP_OSG      |                0 |                 0 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |         Unknown |          Unknown |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | OU_OCHEP_SWT2  |              100 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | OU_OSCER_ATLAS |                0 |                 0 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |         Unknown |          Unknown |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | SWT2_CPB       |                0 |                 0 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |         Unknown |          Unknown |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | UC_ATLAS_MWT2  |              100 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | UTA_DPCC       |              100 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | UTA_SWT2       |              100 |               100 |</font>
<font color='#7F7E6F'>&#62;&#62;        0</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62; | WT2            |              100 |                99 |</font>
<font color='#7F7E6F'>&#62;&#62;        1</font>
<font color='#7F7E6F'>&#62;&#62;&#62; |             100 |              100 |          0 |</font>
<font color='#7F7E6F'>&#62;&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; ----------------------------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; --------------------------------------------------</font>
<font color='#7F7E6F'>&#62;&#62;&#62; &#60;rsv_report.html&#62;</font>
<font color='#7F7E6F'>&#62;&#62; _______________________________________________</font>
<font color='#7F7E6F'>&#62;&#62; Usatlas-grid-l mailing list</font>
<font color='#7F7E6F'>&#62;&#62; Usatlas-grid-l@....</font>
<font color='#7F7E6F'>&#62;&#62; <a href='https&#58;//lists.bnl.gov/mailman/listinfo/usatlas-grid-l' target='_blank' rel='nofollow'>https&#58;//lists.bnl.gov/mailman/listinfo/usatlas-grid-l</a></font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62; _______________________________________________</font>
<font color='#7F7E6F'>&#62; Usatlas-grid-l mailing list</font>
<font color='#7F7E6F'>&#62; Usatlas-grid-l@....</font>
<font color='#7F7E6F'>&#62; <a href='https&#58;//lists.bnl.gov/mailman/listinfo/usatlas-grid-l' target='_blank' rel='nofollow'>https&#58;//lists.bnl.gov/mailman/listinfo/usatlas-grid-l</a></font>

--
Fred Luehring Indiana U. HEP mailto&#58;luehring@....  1-812-855-1025 IU
<a href='http&#58;//cern.ch/Fred.Luehring' target='_blank' rel='nofollow'>http&#58;//cern.ch/Fred.Luehring</a> mailto&#58;Fred.Luehring@.... 41-22-767-1172 CERN
</div><script type='text/javascript'>
        $('#show_623404811').click(function() {
            $('#detail_623404811').slideDown("normal");
            $('#show_623404811').hide();
            $('#hide_623404811').show();
        });
        $('#hide_623404811').click(function() {
            $('#detail_623404811').slideUp();
            $('#hide_623404811').hide();
            $('#show_623404811').show();
        });
        </script></pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F5259">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
