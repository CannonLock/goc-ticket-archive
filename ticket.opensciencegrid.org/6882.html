<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[6882] Resource Specific Issue on Gridplexus</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=6882" method="post">
<div class="page-header">
    <h3><span class="muted">6882</span> / Resource Specific Issue on Gridplexus</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Rob Quick</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">review on ops</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2009-07-13</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">CSC <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">GRATIA <span class="muted"> / OSG Support Centers</span></div><div class="assignee" style="width: 60%">Rob Quick <span class="muted"> / OSG GOC Management</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/6882", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='6882#1249402153'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-04T16:09:13+00:00">Aug 4, 2009 04:09 PM UTC</time> by <b>USCMS</b><a class="anchor" name="1249402153">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been resolved with the following solution.  Please resolve your ticket.

Resolution Categorization Tier 1 &#58;
Resolution Categorization Tier 2 &#58;
Resolution Categorization Tier 3 &#58;
Resolution                       &#58; Resolved by GOC
Resolution Method                &#58;</pre></div><div class='update_description'><i onclick="document.location='6882#1249401849'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-08-04T16:04:09+00:00">Aug 4, 2009 04:04 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1249401849">&nbsp;</a></div><pre>Robert,

I&#39;ve removed you from active status in OIM. If the funding changes and you would like to come onto OGS in the future, please contact the GOC.

Thanks,
Rob</pre></div><div class='update_description'><i onclick="document.location='6882#1248709511'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-27T15:45:11+00:00">Jul 27, 2009 03:45 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1248709511">&nbsp;</a></div><pre>In troubleshooting the Gratia problem, a decision was made to do a
bare-metal reinstall of the CE/GUMS servers (notice was posted in OIM)
and perform other related updates.  After updating to the current VDT,
unresolved questions/issues were emailed in and are still unanswered.
Several attempts to bring the updated CE up were unproductive, so the CE
was stopped on Sat. morning.

Suggestion for process improvement, the usage reports do not seem to
replay the OIM notices on site status, a footnote could help resolve
ambiguity in status.   Also, your suggestion of the IBT would be good
for new sites to do a pre-production burn-in (site verify does not
completely test the SGE job manager).

With the economy still very tight, funding for this project has been
withdrawn.  Please remove Gridplexus from the active sites.

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6882#1248448872'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-24T15:21:12+00:00">Jul 24, 2009 03:21 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1248448872">&nbsp;</a></div><pre>Robert,

We need to have a discussion about the GridPlexus resource and it&#39;s
participation in OSG. This was initiated by OSG ticket 6882 (<a href='6882.html' target='_blank' rel='nofollow'>https&#58;//ticket.grid.iu.edu/goc/viewer?id=6882</a>
).

Here is a quick recap, the GOC opened a ticket after reviewing a
Gratia weekly report that told us GridPlexus was not reporting Gratia
Accounting information. When we pulled in the Gratia Operations team
to find the issue, it was noticed that your GridPlexus resource was
blocking all connections from outside with exception of a few servers
(RSV). This does not seem to be acting in the spirit of the OSG and
supplying opportunistic usage to the community. The point of the
Gratia Accounting software is to report to OSG job information back to
us, so we can see who our VOs are using your resource. If you are not
accepting jobs from anyone but our monitoring machines the purpose of
using Gratia becomes moot. I&#39;d like to get a further understanding of
what you are trying to accomplish by having this resource in the OSG
before we continue troubleshooting your specific Gratia issue. I am
away in meetings today and next week, can we schedule a call sometime
the week of August 3rd to discuss this?

Until we have this discussion I&#39;m going to postpone action on this
ticket.

Rob</pre></div><div class='update_description'><i onclick="document.location='6882#1248445839'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-24T14:30:39+00:00">Jul 24, 2009 02:30 PM UTC</time> by <b>Nizar Louly</b><a class="anchor" name="1248445839">&nbsp;</a></div><pre>Robert called for an update, Elizabeth will check with Rob Q and call back Robert, he
called from 914-602-8944</pre></div><div class='update_description'><i onclick="document.location='6882#1247742912'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-16T11:15:12+00:00">Jul 16, 2009 11:15 AM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1247742912">&nbsp;</a></div><pre>Created a sge.pm, no change in errors.  Suggestions?

Robert.Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Hi,</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; In debugging Gratia on the CE,  the  gratia-probe-sge-log shows error</font>
<font color='#7F7E6F'>&#62; and a manual execution of jobmanager-sge also fails. Is this due to a</font>
<font color='#7F7E6F'>&#62; missing sge.pm?  Or do I neet to manually execute</font>
<font color='#7F7E6F'>&#62; setup-globus-job-manager-sge?</font>
<font color='#7F7E6F'>&#62; ls $VDT_LOCATION/globus/lib/perl/Globus/GRAM/JobManager</font>
<font color='#7F7E6F'>&#62; fork.pm</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; vdt-version</font>
<font color='#7F7E6F'>&#62; You have installed a subset of VDT version 1.10.1y&#58;</font>
<font color='#7F7E6F'>&#62; Gratia Metric Probe 1.02.1-5</font>
<font color='#7F7E6F'>&#62; OK                 Gratia SGE Probe</font>
<font color='#7F7E6F'>&#62; 1.02.1-5                                OK</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; tail /opt/osg-1.0.1/gratia/var/logs/gratia-probe-sge.log</font>
<font color='#7F7E6F'>&#62; 2009-07-14 10&#58;22&#58;01 EDT Gratia&#58; ALERT&#58;</font>
<font color='#7F7E6F'>&#62; /opt/osg-1.0.1/gratia/probe/sge/sge_meter.cron.sh exited abnormally</font>
<font color='#7F7E6F'>&#62; with [5]</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; globus-job-run localhost/jobmanager-sge /bin/hostname</font>
<font color='#7F7E6F'>&#62; GRAM Job submission failed because the gatekeeper failed to find the</font>
<font color='#7F7E6F'>&#62; requested service (error code 93)</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; gratia-site-diag reports ok, except the last line never prints &#39;OK&#39;.</font>
<font color='#7F7E6F'>&#62; Is this correct?</font>
<font color='#7F7E6F'>&#62;    &#62; /opt/osg-1.0.1/gratia/probe/metric/ProbeConfig OK</font>
<font color='#7F7E6F'>&#62;  &#62; Checking /opt/osg-1.0.1/gratia/probe/sge/sge_meter.py .</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; In gratia/probe/sge/ProbeConfig, the SGEAccountingFile is missing.</font>
<div id='show_501984006' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_501984006'><font color='#7F7E6F'>&#62; /opt/osg-1.0.1/vdt-app-data/gratia/probe/sge/ProbeConfig</font>
<font color='#7F7E6F'>&#62; SGEAccountingFile=&#34;/opt/gridengine/ge6.2u2_1//DEFAULT/common/accounting&#34;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; -Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;&#62;</font>
<font color='#7F7E6F'>&#62;&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_501984006').click(function() {
            $('#detail_501984006').slideDown("normal");
            $('#show_501984006').hide();
            $('#hide_501984006').show();
        });
        $('#hide_501984006').click(function() {
            $('#detail_501984006').slideUp();
            $('#hide_501984006').hide();
            $('#show_501984006').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6882#1247583613'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-14T15:00:13+00:00">Jul 14, 2009 03:00 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1247583613">&nbsp;</a></div><pre>Hi,

In debugging Gratia on the CE,  the  gratia-probe-sge-log shows error
and a manual execution of jobmanager-sge also fails. Is this due to a
missing sge.pm?  Or do I neet to manually execute
setup-globus-job-manager-sge?
ls $VDT_LOCATION/globus/lib/perl/Globus/GRAM/JobManager
fork.pm

vdt-version
You have installed a subset of VDT version 1.10.1y&#58;
Gratia Metric Probe 1.02.1-5
OK
Gratia SGE Probe 1.02.1-5                                OK

tail /opt/osg-1.0.1/gratia/var/logs/gratia-probe-sge.log
2009-07-14 10&#58;22&#58;01 EDT Gratia&#58; ALERT&#58;
/opt/osg-1.0.1/gratia/probe/sge/sge_meter.cron.sh exited abnormally with [5]

globus-job-run localhost/jobmanager-sge /bin/hostname
GRAM Job submission failed because the gatekeeper failed to find the
requested service (error code 93)

gratia-site-diag reports ok, except the last line never prints &#39;OK&#39;.  Is
this correct?
<font color='#7F7E6F'>&#62; /opt/osg-1.0.1/gratia/probe/metric/ProbeConfig OK</font>
<font color='#7F7E6F'>&#62; Checking /opt/osg-1.0.1/gratia/probe/sge/sge_meter.py .</font>

In gratia/probe/sge/ProbeConfig, the SGEAccountingFile is missing.
/opt/osg-1.0.1/vdt-app-data/gratia/probe/sge/ProbeConfig
SGEAccountingFile=&#34;/opt/gridengine/ge6.2u2_1//DEFAULT/common/accounting&#34;

Thanks,
-Robert

<div id='show_187556393' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_187556393'><font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_187556393').click(function() {
            $('#detail_187556393').slideDown("normal");
            $('#show_187556393').hide();
            $('#hide_187556393').show();
        });
        $('#hide_187556393').click(function() {
            $('#detail_187556393').slideUp();
            $('#hide_187556393').hide();
            $('#show_187556393').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6882#1247262312'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-10T21:45:12+00:00">Jul 10, 2009 09:45 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1247262312">&nbsp;</a></div><pre>Rob,

The site was placed under maintenance (see OIM notice) to allow for an
upgrade.  The CE has been updated to VDT version 1.10.1y.  However, as
of this time several applications are are still mis-configured (Gratia?)
and work continues.  Several hardware issues have caused delays.  I will
most likely need help on the fine tuning of the configurations.
Interesting suggestion, the ITB.

-Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6882#1247257774'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-10T20:29:34+00:00">Jul 10, 2009 08:29 PM UTC</time> by <b>Rob Quick</b><a class="anchor" name="1247257774">&nbsp;</a></div><pre>Robert you still do not seem to be reporting to Gratia. However, this ticket raises a question, if you are not allowing jobs from VOs (only RSV) is there any reason for you to be reporting accounting records to Gratia? In fact if you are not allowing opportunistic use, wouldn&#39;t this resource be better homed on the ITB? I&#39;ll bring this up on the next operations call and possibly we can work though the proper place for the grid-plexus in the OSG.

Thanks,
Rob</pre></div><div class='update_description'><i onclick="document.location='6882#1247099234'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-07-09T00:27:14+00:00">Jul 9, 2009 12:27 AM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1247099234">&nbsp;</a></div><pre>Hi,

The CE has been updated to VDT version 1.10.1y.

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6882#1245692466'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-22T17:41:06+00:00">Jun 22, 2009 05:41 PM UTC</time> by <b>echism</b><a class="anchor" name="1245692466">&nbsp;</a></div><pre>Rob Q,

Please look into this issue and assist. I am available to brief you when you are ready.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1245103090'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T21:58:10+00:00">Jun 15, 2009 09:58 PM UTC</time> by <b>GRATIA</b><a class="anchor" name="1245103090">&nbsp;</a></div><pre>The Fermi/Remedy ticket has been updated.

Work Info Type* &#58; Status Update
Date+           &#58;
Source          &#58;
Summary*        &#58; Need to open firewall to *ALL* internet for CE to work.
Notes           &#58; Hi,

This is Chris Green, Gratia Support.

Forgive me for being blunt, but having read the ticket work log so far it is far from obvious to me that the site admin understands that an OSG gatekeeper is a *server*. It is a server of computing resources to the *open* science grid and as such needs to have its firewall (any any associated network firewalls) opened as specified in the CE install guide and/or pre-install checklist in order to allow off-site resources to submit jobs to your gatekeeper and receive the results. You cannot satisfy the requirements of being an OSG gatekeeper just by allowing firewall access to a few select machines like the GOC and the Gratia server.

In short&#58; if you do not provide &#34;internet server&#34; status for your gatekeeper then you are not on the OSG; it&#39;s as simple as that. You don&#39;t have to open every port on your machine, but you *do* have to open a certain range of ports to every machine on the internet. Otherwise, any indication of good status from the GOC will be misleading.

GOC, if the site admin and his associated management are still interested in running an OSG gatekeeper, can you point them to the relevant parts of the documentation that deal with configuring properly firewall access to a CE, particularly GLOBUS_TCP_PORT_RANGE and associated configuration.

Thanks,
Chris.
Submitter*      &#58; greenc</pre></div><div class='update_description'><i onclick="document.location='6882#1245092727'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-15T19:05:27+00:00">Jun 15, 2009 07:05 PM UTC</time> by <b>echism</b><a class="anchor" name="1245092727">&nbsp;</a></div><pre>Rob,

Do you have an IMCP rule in your firewall? RSV looks better, but not totally fixed.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1244823547'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-12T16:19:07+00:00">Jun 12, 2009 04:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1244823547">&nbsp;</a></div><pre>Rob,

Please add the following to the host allow for myosg&#58;
rsv-client1.grid.iu.edu
rsv-client2.grid.iu.edu
rsv-client3.grid.iu.edu
rsv-client4.grid.iu.edu

I am still investigating Gratia.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1244822384'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-12T15:59:44+00:00">Jun 12, 2009 03:59 PM UTC</time> by <b>Nizar Louly</b><a class="anchor" name="1244822384">&nbsp;</a></div><pre>patched Elizabeth to Rob</pre></div><div class='update_description'><i onclick="document.location='6882#1244662812'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-10T19:40:12+00:00">Jun 10, 2009 07:40 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1244662812">&nbsp;</a></div><pre>Thanks for the feedback.  What are the ip/dn used in the gratia/myosg?

Thanks,
Robert

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='6882#1244582916'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-09T21:28:36+00:00">Jun 9, 2009 09:28 PM UTC</time> by <b>echism</b><a class="anchor" name="1244582916">&nbsp;</a></div><pre>Robert,

There appears to be a firewall problem. Gratia is unable to reach you for tests, site
verify is working fine, and myOSG also appears to be unable to reach you. Please look
into this.

Thank you.
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1244493099'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-08T20:31:39+00:00">Jun 8, 2009 08:31 PM UTC</time> by <b>echism</b><a class="anchor" name="1244493099">&nbsp;</a></div><pre>Robert,

Please be patient, as we are working out a ticket exchange problem. We appreciate your understanding.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1243868660'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-06-01T15:04:20+00:00">Jun 1, 2009 03:04 PM UTC</time> by <b>echism</b><a class="anchor" name="1243868660">&nbsp;</a></div><pre>Gratia,

Can you help Robert please? His script output looks okay and he&#39;s not sure where to go next.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1243357939'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-26T17:12:19+00:00">May 26, 2009 05:12 PM UTC</time> by <b>echism</b><a class="anchor" name="1243357939">&nbsp;</a></div><pre>Gratia,

Please assist Robert in his troubleshooting.

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='6882#1243003750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-22T14:49:10+00:00">May 22, 2009 02:49 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1243003750">&nbsp;</a></div><pre>bump.

Robert.Rusinko wrote&#58;
<font color='#7F7E6F'>&#62; Output from diagnostic script seems good.  Please advise.</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Thanks,</font>
<font color='#7F7E6F'>&#62; Robert</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; source /opt/osg/setup.sh; echo $VDT_LOCATION</font>
<font color='#7F7E6F'>&#62; /opt/osg-1.0.0</font>
<font color='#7F7E6F'>&#62; ./gratia-site-diag</font>
<font color='#7F7E6F'>&#62; gratia-site-diag version $Revision&#58; 1.9 $</font>
<font color='#7F7E6F'>&#62; SITE&#58; local</font>
<font color='#7F7E6F'>&#62;  Directory output&#58; listing.{out,err}</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/o..pacman..o/logs/commands&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/vdt-install.log&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/vdt/setup/configure_gratia&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/osg-version&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/gratia/var/logs/gratia-probe-sge.log&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/sge/ProbeConfig&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/sge/sge_meter.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/metric/ProbeConfig&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/metric/Metric.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/metric/samplemetric.py&#34;</font>
<font color='#7F7E6F'>&#62; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/DebugPrint.py&#34;</font>
<font color='#7F7E6F'>&#62; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/Gratia.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/gratia/probe/common/GetProbeConfigAttribute.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/samplemeter.py&#34;</font>
<font color='#7F7E6F'>&#62; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/gratia/probe/common/samplemeter_multi.py&#34; ... OK</font>
<div id='show_909036242' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_909036242'><font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/gratia/probe/common/RegisterProbe.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/monitoring/osg-supported-vo-list.txt&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/monitoring/osg-undefined-accounts.txt&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/monitoring/osg-attributes.conf&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file</font>
<font color='#7F7E6F'>&#62; &#34;/opt/osg-1.0.0/globus/lib/perl/Globus/GRAM/JobManager/fork.pm&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/var/logs/2009-05-18.log&#34; ... OK</font>
<font color='#7F7E6F'>&#62;  Diagnostics ...</font>
<font color='#7F7E6F'>&#62;  &#62; Found 0 unsent XML files in /opt/osg-1.0.0/gratia/var/tmp/gratiafiles</font>
<font color='#7F7E6F'>&#62;  &#62; Checking for existence and date of probe log file</font>
<font color='#7F7E6F'>&#62; gratia-probe-sge.log ... OK</font>
<font color='#7F7E6F'>&#62;  &#62; Checking gratia_probe_sge_ProbeConfig (verify INFO items manually)&#58;</font>
<font color='#7F7E6F'>&#62;    &#62; INFO&#58; MeterName set to sge&#58;CE01.OSG.gridplexus.net</font>
<font color='#7F7E6F'>&#62;    &#62; INFO&#58; SiteName set to OSG_GP_CE01</font>
<font color='#7F7E6F'>&#62;    &#62; INFO&#58; SOAPHost set to gratia.opensciencegrid.org&#58;8880</font>
<font color='#7F7E6F'>&#62;    &#62; /opt/osg-1.0.0/gratia/probe/sge/ProbeConfig OK</font>
<font color='#7F7E6F'>&#62;  &#62; Checking gratia_probe_metric_ProbeConfig (verify INFO items manually)&#58;</font>
<font color='#7F7E6F'>&#62;    &#62; INFO&#58; MeterName set to metric&#58;CE01.OSG.gridplexus.net</font>
<font color='#7F7E6F'>&#62;    &#62; INFO&#58; SiteName set to OSG_GP_CE01</font>
<font color='#7F7E6F'>&#62;    &#62; INFO&#58; SOAPHost set to rsv.grid.iu.edu&#58;8880</font>
<font color='#7F7E6F'>&#62;    &#62; /opt/osg-1.0.0/gratia/probe/metric/ProbeConfig OK</font>
<font color='#7F7E6F'>&#62;  &#62; Checking /opt/osg-1.0.0/gratia/probe/sge/sge_meter.py ...</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62;</font>
<font color='#7F7E6F'>&#62; Open Science Grid FootPrints wrote&#58;</font>
<font color='#7F7E6F'>&#62;&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_909036242').click(function() {
            $('#detail_909036242').slideDown("normal");
            $('#show_909036242').hide();
            $('#hide_909036242').show();
        });
        $('#hide_909036242').click(function() {
            $('#detail_909036242').slideUp();
            $('#hide_909036242').hide();
            $('#show_909036242').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6882#1242663732'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-18T16:22:12+00:00">May 18, 2009 04:22 PM UTC</time> by <b>Robert Rusinko</b><a class="anchor" name="1242663732">&nbsp;</a></div><pre>Output from diagnostic script seems good.  Please advise.

Thanks,
Robert

source /opt/osg/setup.sh; echo $VDT_LOCATION
/opt/osg-1.0.0
./gratia-site-diag
gratia-site-diag version $Revision&#58; 1.9 $
SITE&#58; local
Directory output&#58; listing.{out,err}
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/o..pacman..o/logs/commands&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/vdt-install.log&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/vdt/setup/configure_gratia&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/osg-version&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/var/logs/gratia-probe-sge.log&#34;</font>
... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/sge/ProbeConfig&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/sge/sge_meter.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/metric/ProbeConfig&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/metric/Metric.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/metric/samplemetric.py&#34;</font>
... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/DebugPrint.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/Gratia.py&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file</font>
&#34;/opt/osg-1.0.0/gratia/probe/common/GetProbeConfigAttribute.py&#34; ... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/samplemeter.py&#34;</font>
... OK
<font color='#7F7E6F'>&#62; Obtaining file</font>
&#34;/opt/osg-1.0.0/gratia/probe/common/samplemeter_multi.py&#34; ... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/probe/common/RegisterProbe.py&#34;</font>
... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/monitoring/osg-supported-vo-list.txt&#34;</font>
... OK
<div id='show_723216217' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_723216217'><font color='#7F7E6F'>&#62; Obtaining file</font>
&#34;/opt/osg-1.0.0/monitoring/osg-undefined-accounts.txt&#34; ... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/monitoring/osg-attributes.conf&#34; ... OK</font>
<font color='#7F7E6F'>&#62; Obtaining file</font>
&#34;/opt/osg-1.0.0/globus/lib/perl/Globus/GRAM/JobManager/fork.pm&#34; ... OK
<font color='#7F7E6F'>&#62; Obtaining file &#34;/opt/osg-1.0.0/gratia/var/logs/2009-05-18.log&#34; ... OK</font>
Diagnostics ...
<font color='#7F7E6F'>&#62; Found 0 unsent XML files in /opt/osg-1.0.0/gratia/var/tmp/gratiafiles</font>
<font color='#7F7E6F'>&#62; Checking for existence and date of probe log file</font>
gratia-probe-sge.log ... OK
<font color='#7F7E6F'>&#62; Checking gratia_probe_sge_ProbeConfig (verify INFO items manually)&#58;</font>
<font color='#7F7E6F'>&#62; INFO&#58; MeterName set to sge&#58;CE01.OSG.gridplexus.net</font>
<font color='#7F7E6F'>&#62; INFO&#58; SiteName set to OSG_GP_CE01</font>
<font color='#7F7E6F'>&#62; INFO&#58; SOAPHost set to gratia.opensciencegrid.org&#58;8880</font>
<font color='#7F7E6F'>&#62; /opt/osg-1.0.0/gratia/probe/sge/ProbeConfig OK</font>
<font color='#7F7E6F'>&#62; Checking gratia_probe_metric_ProbeConfig (verify INFO items manually)&#58;</font>
<font color='#7F7E6F'>&#62; INFO&#58; MeterName set to metric&#58;CE01.OSG.gridplexus.net</font>
<font color='#7F7E6F'>&#62; INFO&#58; SiteName set to OSG_GP_CE01</font>
<font color='#7F7E6F'>&#62; INFO&#58; SOAPHost set to rsv.grid.iu.edu&#58;8880</font>
<font color='#7F7E6F'>&#62; /opt/osg-1.0.0/gratia/probe/metric/ProbeConfig OK</font>
<font color='#7F7E6F'>&#62; Checking /opt/osg-1.0.0/gratia/probe/sge/sge_meter.py ...</font>

Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_723216217').click(function() {
            $('#detail_723216217').slideDown("normal");
            $('#show_723216217').hide();
            $('#hide_723216217').show();
        });
        $('#hide_723216217').click(function() {
            $('#detail_723216217').slideUp();
            $('#hide_723216217').hide();
            $('#show_723216217').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='6882#1242660771'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2009-05-18T15:32:51+00:00">May 18, 2009 03:32 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1242660771">&nbsp;</a></div><pre>Gridplexus is not reporting to Gratia for the period of Between 2009-05-10 - 2009-05-17 (midnight - midnight UTC)

The Gratia team has put together a troubleshooting guide at <a href='https&#58;//twiki.grid.iu.edu/bin/view/Accounting/TroubleShootingInstructions' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Accounting/TroubleShootingInstructions</a>

Please look into this issue as OSG jobs are not being counted for your resource.

Thanks,
Rob

[META Information for OSG GOC Support Staff]
Resource where user is having this issue&#58; Gridplexus(157)
Selecting OSG(FP name&#58; OSG) for Destination VO since it has the highest resource ownership.
Primary Admin for Gridplexus is Robert Rusinko and has been CC&#39;d.</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F6882">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
