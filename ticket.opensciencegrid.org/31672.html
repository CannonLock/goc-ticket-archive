<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[31672] Inquiry - OSG Email Inquiry Upcoming changes in the CERN/IT Messaging Service Date</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=31672" method="post">
<div class="page-header">
    <h3><span class="muted">31672</span> / Inquiry - OSG Email Inquiry Upcoming changes in the CERN/IT Messaging Service Date</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Lionel Cons</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Assess ticket/Determine NAI</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-10-27</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/31672", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31672?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/31672?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Inquiry%20-%20OSG%20Email%20Inquiry%20Upcoming%20changes%20in%20the%20CERN%2FIT%20Messaging%20Service%20Date%20ISSUE%3D31672%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='31672#1477559161'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T09:06:01+00:00">Oct 27, 2016 09:06 AM UTC</time> by <b>Sean Carver</b><a class="anchor" name="1477559161">&nbsp;</a></div><pre>From&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
To&#58; Marian Babik &#60;Marian.Babik@....&#62;
cc&#58; smckee@....,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;, Lionel Cons &#60;Lionel.Cons@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Wednesday, October 26, 2016 7&#58;55 AM -0700

Hi Marian,

From&#58; Lionel Cons &#60;lionel.cons@....&#62;
To&#58; Marian Babik &#60;Marian.Babik@....&#62;
cc&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;,
smckee@....,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Thursday, October 27, 2016 8&#58;03 AM +0200

Marian Babik writes&#58;
<font color='#7F7E6F'>&#62; I only tried from CERN and that worked, but I can confirm it doesn’t work from outside (tried from jump.grid.iu.edu).</font>

I confirm there was a firewall configuration problem on this machine. The fix
will take a few hours to get propagated.

Could you please try again later today?

Cheers,

LionelNO luck&#58;

From&#58; Marian Babik &#60;Marian.Babik@....&#62;
To&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
cc&#58; smckee@....,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
<div id='show_1689114293' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1689114293'>&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;, Lionel Cons &#60;Lionel.Cons@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Wednesday, October 26, 2016 3&#58;01 PM +0000

Hi Edgar,
thanks, I only tried from CERN and that worked, but I can confirm it doesn’t work from outside (tried from jump.grid.iu.edu). We will need to take a
look at it together with Lionel.

— M.

telnet netmon-test-mb.cern.ch 61523
Trying 188.184.80.122...
^C
2016-10-26 14&#58;52&#58;17 UTC [emfajard@psds-itb1&#58;~]$ sudo stompclt --outgoing-broker-uri stomp+ssl&#58;//netmon-test-mb.cern.ch&#58;61523 --conf
/etc/rsv/stompclt/default.conf --debug
# 2016/10/26-14&#58;52&#58;26 stompclt[1058940]&#58; main starting
# 2016/10/26-14&#58;52&#58;26 stompclt[1058940]&#58; incoming queue DQS /usr/local/rsv-perfsonar/

From&#58; Marian Babik &#60;Marian.Babik@....&#62;
To&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
cc&#58; smckee@....,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;, Lionel Cons &#60;Lionel.Cons@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Wednesday, October 26, 2016 6&#58;22 AM +0000

Hi Edgar,
could you please try with port 61523, i.e.
$ sudo stompclt --outgoing-broker-uri stomp+ssl&#58;//netmon-test-mb.cern.ch&#58;61523 --conf /etc/rsv/stompclt/default.conf —debug

I understand that the ports didn’t change in this update, could you please check what uri/port is configured in the /etc/rsv/stompclt/default.conf ?

Thanks,
Marian

On 26 Oct 2016, at 00&#58;56, Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62; wrote&#58;
</div><script type='text/javascript'>
        $('#show_1689114293').click(function() {
            $('#detail_1689114293').slideDown("normal");
            $('#show_1689114293').hide();
            $('#hide_1689114293').show();
        });
        $('#hide_1689114293').click(function() {
            $('#detail_1689114293').slideUp();
            $('#hide_1689114293').hide();
            $('#show_1689114293').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='31672#1477559022'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-27T09:03:42+00:00">Oct 27, 2016 09:03 AM UTC</time> by <b>Sean Carver</b><a class="anchor" name="1477559022">&nbsp;</a></div><pre>From&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
To&#58; Shawn McKee &#60;smckee@....&#62;
cc&#58; Marian Babik &#60;Marian.Babik@....&#62;,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Tuesday, October 25, 2016 3&#58;56 PM -0700

No problem the email did something when I copy/pasted the command but then I remember I had sudo, so I tried it. It looks like netmon-test-
mb.cern.ch is not reachable. Not even from CERN&#58;

[efajardo@lxplus011 ~]$ telnet netmon-test-mb.cern.ch 61123
Trying 188.184.80.122…

So the question is to Lionel and co

From&#58; Shawn McKee &#60;smckee@....&#62;
To&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
cc&#58; Marian Babik &#60;Marian.Babik@....&#62;,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Tuesday, October 25, 2016 5&#58;24 PM -0400

Hi Edgar,

Just after writing the last email I got a chance to try it&#58;&#58;

2016-10-25 21&#58;23&#58;06 UTC [root@psds-itb1&#58;~]#  stompclt —outgoing-broker-uri stom+ssl&#58;//netmon-test-mb.cern.ch&#58;61123 --conf
/etc/rsv/stompclt/default.conf --debg help
Usage&#58;
    stompclt [*OPTIONS*]

2016-10-25 21&#58;23&#58;00 UTC [root@psds-itb1&#58;~]# /usr/bin/stompclt —outgoing-broker-uri stomp+ssl&#58;//netmon-test-mb.cern.ch&#58;61123 --conf
/etc/rsv/stompclt/default.conf --debug
<div id='show_1694403068' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1694403068'>Usage&#58;
    stompclt [*OPTIONS*]

Must be something wrong with the syntax??!!

Shawn

From&#58; Shawn McKee &#60;smckee@....&#62;
To&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
cc&#58; Marian Babik &#60;Marian.Babik@....&#62;,
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Tuesday, October 25, 2016 5&#58;20 PM -0400

Hi  Edgar,

I will try to run this later tonight.  I am at an NSF panel review today and tomorrow.

More later.   Thanks,

Shawn

On Tue, Oct 25, 2016 at 9&#58;40 AM, Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62; wrote&#58;

From&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
To&#58; Marian Babik &#60;Marian.Babik@....&#62;
cc&#58;
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Tuesday, October 25, 2016 11&#58;24 AM -0700

Hi Lionel,

I will need your help here. I see we get an SSL error

2016-10-25 18&#58;06&#58;38 UTC [emfajard@psds-itb1&#58;/usr/local/rsv-perfsonar]$ sudo stompclt --outgoing-broker-uri stomp+ssl&#58;//netmon-test-
mb.cern.ch&#58;61123 --conf /etc/rsv/stompclt/default.conf --debug
# 2016/10/25-18&#58;06&#58;43 stompclt[143094]&#58; main starting
# 2016/10/25-18&#58;06&#58;43 stompclt[143094]&#58; incoming queue DQS /usr/local/rsv-perfsonar/
stompclt&#58; cannot SSL connect to netmon-test-mb.cern.ch&#58;61123&#58; IO&#58;&#58;Socket&#58;&#58;INET configuration failederror&#58;00000000&#58;lib(0)&#58;func(0)&#58;reason(0)
# 2016/10/25-18&#58;07&#58;46 stompclt[143094]&#58; cleanup

And I cannot even telnet it&#58;

telnet netmon-test-mb.cern.ch 61123
Trying 188.184.80.122...
telnet&#58; connect to address 188.184.80.122&#58; Connection timed out

From&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
To&#58; Marian Babik &#60;Marian.Babik@....&#62;
cc&#58;
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Tuesday, October 25, 2016 6&#58;40 AM -0700

Hi Shawn,

Can you run this as root on psds-itb, to see what the error is&#58;

2016-10-25 13&#58;38&#58;52 UTC [emfajard@psds-itb1&#58;~]$ stompclt —outgoing-broker-uri stomp+ssl&#58;//netmon-test-mb.cern.ch&#58;61123 --conf
/etc/rsv/stompclt/default.conf --debug

From&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
To&#58; Marian Babik &#60;Marian.Babik@....&#62;
cc&#58;
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Monday, October 24, 2016 8&#58;31 AM -0700

Well I guess it was not as transparent as I thought. I will have to check on what is going on with broker.

Cheers,

From&#58; Edgar M Fajardo Hernandez &#60;emfajardohernandez@....&#62;
To&#58; Marian Babik &#60;Marian.Babik@....&#62;
cc&#58;
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;,
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Re&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Thursday, October 20, 2016 9&#58;41 AM -0700

I saw that but I think this should be transparent. As in everything is behind an alias. I guess we will see when the upgrade the test bed first.

From&#58; Marian Babik &#60;Marian.Babik@....&#62;
To&#58;
&#34;perfsonar-esmond-mq (Support mailing list for esmond2mq interface)&#34; &#60;perfsonar-esmond-mq@....&#62;
cc&#58;
&#34;netmon-admins (Network Monitoring Broker Cluster Admins)&#34; &#60;netmon-admins@....&#62;
Subject&#58; Fwd&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Thursday, October 20, 2016 8&#58;03 AM +0000

Hi All,
just a reminder of an upcoming change in the CERN messaging - upgrade to CC7 and Java8. I have agreed with Lionel to do this for netmon-test
(ITB) broker on Monday 24th. There is currently no date set for production update, but we should plan to take a look at netmon-test and check that
all works fine in the coming weeks.

Let me know in case you have any comments or questions.

Thanks,
M.

From&#58; Lionel Cons &#60;lionel.cons@....&#62;
To&#58; CERN MIG &#60;mig@....&#62;
cc&#58; CERN MIG &#60;mig@....&#62;
Subject&#58; Upcoming changes in the CERN/IT Messaging Service
Date-Sent&#58; Tuesday, October 11, 2016 3&#58;06 PM +0200

Dear users of the IT Messaging Service,

In the coming weeks, the machines running your messaging brokers will be
upgraded from physical machines running Java 7 on SL6 to virtual machines
running Java 8 on CC7. The messaging software will however not change and
will continue to be Red Hat&#39;s A-MQ 6 (which is based on Apache ActiveMQ 5).
Therefore, this upgrade will be mostly transparent.

The first step of this migration is to extend your test cluster by adding a
second broker running with the target configuration. This will happen on
Monday October 24 at 12&#58;00. Please verify that your clients using the test
cluster will automatically use the new broker.

The second step will be for you to use the new test broker to verify that
your clients continue to work fine. There is no fixed timeframe yet for
this step as this will depend on the complexity of your messaging clients.

The third and final step will be to migrate your production cluster by adding
new brokers and removing old ones. This will take place after getting the
green light from you that all your tests are successful.

All the changes in your cluster members will appear as changes in the DNS
aliases that you use (like foo-mb.cern.ch and foo-test-mb.cern.ch).

Should you have any questions, feel free to contact us at mig@.....

Cheers,
__________________________________________________________
Lionel Cons        <a href='http&#58;//cern.ch/lionel.cons' target='_blank' rel='nofollow'>http&#58;//cern.ch/lionel.cons</a>
CERN               <a href='http&#58;//cern.ch' target='_blank' rel='nofollow'>http&#58;//cern.ch</a>
</div><script type='text/javascript'>
        $('#show_1694403068').click(function() {
            $('#detail_1694403068').slideDown("normal");
            $('#show_1694403068').hide();
            $('#hide_1694403068').show();
        });
        $('#hide_1694403068').click(function() {
            $('#detail_1694403068').slideUp();
            $('#hide_1694403068').hide();
            $('#show_1694403068').show();
        });
        </script></pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F31672">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 31672});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
