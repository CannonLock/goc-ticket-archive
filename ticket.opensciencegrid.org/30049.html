<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[30049] BDII reporting problems with OSG 3.3.12 and HTCondor 8.4.6</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="robots" content="noindex, nofollow" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=30049" method="post">
<div class="page-header">
    <h3><span class="muted">30049</span> / BDII reporting problems with OSG 3.3.12 and HTCondor 8.4.6</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">David Lesny</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">David Lesny</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">Wait for user response</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-06-10</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Matyas Selmeci <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Theisen <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/30049", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='30049#1465220890'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T13:48:10+00:00">Jun 6, 2016 01:48 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1465220890">&nbsp;</a></div><pre>Tim,

I am ok with closing this ticket

thanks, dave

On 6/6/2016 8&#58;33 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30049#1465219999'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T13:33:19+00:00">Jun 6, 2016 01:33 PM UTC</time> by <b>Tim Cartwright</b><a class="anchor" name="1465219999">&nbsp;</a></div><pre>I suggest that we close this (operational) ticket in favor of the (development) JIRA tickets that are expected to ship in a week. Is that OK?</pre></div><div class='update_description'><i onclick="document.location='30049#1465218061'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T13:01:01+00:00">Jun 6, 2016 01:01 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1465218061">&nbsp;</a></div><pre>Tim, Mat

Yesterday I installed the testing gip on two of our four gatekeepers.

I did not see any problems in this update.

This new release takes 1/3 to 1/2 the wall clock time to collect
the information for the BDII publishing.

This morning I installed the test release on our other two gatekeepers
and will keep an eye for any problems.

The gatekeepers updated are

MWT2
MWT2_CE_UC
MWT2_CE_IU
MWT2_CE_UIUC

dave

On 6/4/2016 10&#58;40 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30049#1465054846'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-04T15:40:46+00:00">Jun 4, 2016 03:40 PM UTC</time> by <b>Tim Theisen</b><a class="anchor" name="1465054846">&nbsp;</a></div><pre>Dave,

The updated gip package is in the osg-testing repository. We appreciate your testing effort.

...Tim</pre></div><div class='update_description'><i onclick="document.location='30049#1465042688'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-04T12:18:08+00:00">Jun 4, 2016 12:18 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1465042688">&nbsp;</a></div><pre>Mat

I would be willing to test a fixed gip on MWT2 when you have it ready.

Please let me know when its in the osg-testing repo and I can load it from there.

thanks, dave

On 6/3/2016 3&#58;58 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30049#1464987530'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-03T20:58:50+00:00">Jun 3, 2016 08:58 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1464987530">&nbsp;</a></div><pre>Hi Dave,

Yes, it&#39;s likely to make it into OSG 3.3.13. Would you be willing to help test? The change is to the gip package, so the new version to install is gip-1.3.11-9, soon to be in the osg-testing repositories.

-Mat</pre></div><div class='update_description'><i onclick="document.location='30049#1464967810'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-03T15:30:10+00:00">Jun 3, 2016 03:30 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1464967810">&nbsp;</a></div><pre>Mat

I removed the random value to make it fixed every 10 minutes, with a 5+90s timeout

*/10 * * * * root cronjob-wrapper -l &#34;$INFOSERVICES_LOCK&#34; -f &#34;$INFOSERVICES_LOG&#34; run-with-timeout 300&#58;90 osg-info-services || echo
&#34;osg-info-services cronjob exited with code $?; check $INFOSERVICES_LOG for details&#34;

that should prevent any overlap if something got wedged.

These values seem to work for us on the 3 gatekeepers I have upgraded.

Looking forward to the upgrade to fix the bottleneck.

Will it make it into OSG 3.3.13 ?

dave

On 6/3/2016 10&#58;17 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30049#1464967037'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-03T15:17:17+00:00">Jun 3, 2016 03:17 PM UTC</time> by <b>Matyas Selmeci</b><a class="anchor" name="1464967037">&nbsp;</a></div><pre>Hi Dave,

If you increase the timeout, you may want to decrease the cron job frequency -- there is a random wait of up to 300 seconds (the &#34;-d 300&#34; argument to cronjob-wrapper) before starting, so in the worst case, two runs would start up within 300 seconds of each other.

Thanks for figuring out the condor_config_val bottleneck. I believe I can fix it easily to improve the performance.

-Mat</pre></div><div class='update_description'><i onclick="document.location='30049#1464897249'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-02T19:54:09+00:00">Jun 2, 2016 07:54 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1464897249">&nbsp;</a></div><pre>Tim,

Thanks....I might change ours to 300&#58;90 as well just so we are not playing on the margins...

Suggestion&#58;

Please put a notice in the release notes for OSG 3.3.13 so others will know of the addition of the timeout
in case they also have an issue such as mine (maybe they need 360s). Also an entry in the twiki on Info Services.

dave

On 6/2/2016 2&#58;46 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='30049#1464896760'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-02T19:46:00+00:00">Jun 2, 2016 07:46 PM UTC</time> by <b>Tim Theisen</b><a class="anchor" name="1464896760">&nbsp;</a></div><pre>Thank you for doing the investigation. We have created a JIRA ticket to lengthen the timeout for the June release. <a href='https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-2349' target='_blank' rel='nofollow'>https&#58;//jira.opensciencegrid.org/browse/SOFTWARE-2349</a>

...Tim</pre></div><div class='update_description'><i onclick="document.location='30049#1464805302'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-01T18:21:42+00:00">Jun 1, 2016 06:21 PM UTC</time><a class="anchor" name="1464805302">&nbsp;</a></div><pre>Since I have not heard from anyone, I decided to do some investigation on my own and believe I have found the problem/solution/workaround

In OSG 3.3.12, the invocation of osg-info-services via cron (/etc/cron.d/osg-info-services) has been changed to use a run-time soft timeout after 180 seconds and a hard kill 90 seconds later.

*/10 * * * * root cronjob-wrapper -l &#34;$INFOSERVICES_LOCK&#34; -d 300 -f &#34;$INFOSERVICES_LOG&#34; run-with-timeout 180&#58;90 osg-info-services || echo &#34;osg-info-services cronjob exited with code $?; check $INFOSERVICES_LOG for details&#34;

In previous releases, such as OSG 3.3.11, there was no timeout

*/10 * * * * root [ ! -f /var/lock/subsys/osg-info-services ] || /bin/sh -c &#39;perl -e &#34;sleep rand 300&#34; && http_proxy= /usr/sbin/osg-info-services &#62;/dev/null 2&#62;&1&#39;

In our CEs and HTCondor configuration, there are a lot of group quota entries, etc

info services takes a very long time using condor_config_val -negotiator to read out the numerous GROUP_QUOTA_xxx entries, etc (several times each it appears)
as well as numerous calls to read out the HTCondor-CE entries. The condor_config_val calls to readout HTCondor-CE seem to be the slowest info gathering component.

As a result, the full readout takes more than the 180s soft + 90s hard limit

I changed the timeout to be a little longer (240s soft) and am now consistently having info services complete the readout and report to BDII

*/10 * * * * root cronjob-wrapper -l &#34;$INFOSERVICES_LOCK&#34; -d 300 -f &#34;$INFOSERVICES_LOG&#34; run-with-timeout 240&#58;90 osg-info-services || echo &#34;osg-info-services cronjob exited with code $?; check $INFOSERVICES_LOG for details&#34;

The information gathering using many invocations of condor_config_val seems to be very inefficient for large sites such as ours.

dave

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dlesny/CN=681464/CN=David Lesny</pre></div><div class='update_description'><i onclick="document.location='30049#1464702444'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-31T13:47:24+00:00">May 31, 2016 01:47 PM UTC</time><a class="anchor" name="1464702444">&nbsp;</a></div><pre>Attached is a dump of mwt2-gk using the osg-system-profiler.

dave

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dlesny/CN=681464/CN=David Lesny</pre></div><div class='update_description'><i onclick="document.location='30049#1464697064'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-31T12:17:44+00:00">May 31, 2016 12:17 PM UTC</time> by <b>Tim Theisen</b><a class="anchor" name="1464697064">&nbsp;</a></div><pre>Assigning to Mat</pre></div><div class='update_description'><i onclick="document.location='30049#1464375474'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-27T18:57:54+00:00">May 27, 2016 06:57 PM UTC</time> by <b>Christopher Pipes</b><a class="anchor" name="1464375474">&nbsp;</a></div><pre>Hi David,

I just saw this ticket and wanted to be sure the software team saw this as well. It might be helpful for you to run the osg-system-profiler and attach the osg-profile.txt to the ticket.

Thanks,
Chris</pre></div><div class='update_description'><i onclick="document.location='30049#1464362165'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-27T15:16:05+00:00">May 27, 2016 03:16 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1464362165">&nbsp;</a></div><pre>I recently upgraded on our our gatekeepers, MWT2_CE_UIUC (mwt2-gk.campuscluster.illinois.edu) to OSG 3.3.12 and HTCondor 8.4.6 (from OSG 3.3.11 and HTCondor 8.4.5)

Since then I have seen problems by this node properly reporting to the BDII

I noticed that looking in the gip log at /var/log/gip/gip.log that the collection of information by gip from condor is much slower now compared to our other gatekeepers
still running the previous release of OSG and HTCondor.

I also then see in /var/log/osg-information-servers.log a timeout. Here are the last view lines

CEMonUploader&#58;INFO osg-info-services&#58;980&#58;       SE adjacent to CE&#58; uct2-dc1.uchicago.edu
CEMonUploader&#58;INFO osg-info-services&#58;998&#58;               SA adjacent to SE&#58; reserved-link-group&#58;replica&#58;nearline
Timeout hit, sending signal 15

The gatekeeper had been working properly before the upgrade and only started having BDII issues after the upgrade
so there appears to be an issue with either with this release of HTCondor or some type of issue with the info service.

thanks, dave

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=dlesny/CN=681464/CN=David Lesny</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F30049">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
