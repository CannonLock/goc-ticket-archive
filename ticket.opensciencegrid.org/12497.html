<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[12497] Slurm Batch system backend</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=12497" method="post">
<div class="page-header">
    <h3><span class="muted">12497</span> / Slurm Batch system backend</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Brock Erwin</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Brock Erwin</div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2012-09-20</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Software Support (Triage) <span class="muted"> / OSG Software Team</span></div><div class="assignee" style="width: 60%">Tim Cartwright <span class="muted"> / OSG Software Team</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/12497", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12497?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/12497?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20Slurm%20Batch%20system%20backend%20ISSUE%3D12497%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='12497#1348498444'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-24T14:54:04+00:00">Sep 24, 2012 02:54 PM UTC</time><a class="anchor" name="1348498444">&nbsp;</a></div><pre>I&#39;m going to close this as a duplicate of <a href='http&#58;//jira.opensciencegrid.org/browse/SOFTWARE-744.' target='_blank' rel='nofollow'>http&#58;//jira.opensciencegrid.org/browse/SOFTWARE-744.</a>

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12497#1347897176'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-17T15:52:56+00:00">Sep 17, 2012 03:52 PM UTC</time> by <b>Suchandra Thapa</b><a class="anchor" name="1347897176">&nbsp;</a></div><pre>Hi Elizabeth, there&#39;s a JIRA ticket (SOFTWARE-744) regarding getting SLURM support into OSG.  I think that may be the place to track progress of SLURM support.

Suchandra Thapa
OSG Software Team</pre></div><div class='update_description'><i onclick="document.location='12497#1347544833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-13T14:00:33+00:00">Sep 13, 2012 02:00 PM UTC</time><a class="anchor" name="1347544833">&nbsp;</a></div><pre>Hello everyone,

This ticket has stalled. Should it remain open?

Thank you,
Elizabeth

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12497#1346959462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-09-06T19:24:22+00:00">Sep 6, 2012 07:24 PM UTC</time><a class="anchor" name="1346959462">&nbsp;</a></div><pre>Brock,

So far, as I have read it, we have a workaround (although we&#39;re unsure how well it works) and a longer term, but committed, development effort.

It seems like the next obvious steps would be to try the PBS emulation workaround and see how it goes, or to wait on the dev effort. Which way is this headed?

Thank you,
Elizabeth

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12497#1345641953'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-22T13:25:53+00:00">Aug 22, 2012 01:25 PM UTC</time><a class="anchor" name="1345641953">&nbsp;</a></div><pre>Hello all,

What remains to be done in this ticket? May I assist in any way?

Thank you,
Elizabeth

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12497#1345230145'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-17T19:02:25+00:00">Aug 17, 2012 07:02 PM UTC</time><a class="anchor" name="1345230145">&nbsp;</a></div><pre>Hi Brock,

Jobs will start without the worker-node client, but they won&#39;t have the expected environment.  Here&#39;s the worker node client documentation&#58;

<a href='https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallWNClient' target='_blank' rel='nofollow'>https&#58;//twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallWNClient</a>

For the most part, it&#39;s a pretty straightforward set of packages.  There&#39;s an additional component, glexec, that gets a bit ... stickier.  I&#39;d advise to wait until you&#39;ve confirmed you need it with the belle2 folks, and to focus on the CE + basic WN client for now.

Brian

-- by Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='12497#1345223449'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-17T17:10:49+00:00">Aug 17, 2012 05:10 PM UTC</time><a class="anchor" name="1345223449">&nbsp;</a></div><pre>I am CC&#39;ing the belle2 grid mailing list on this.  In summary, I am trying to setup a grid compute element at PNNL that utilizes one of our existing clusters that already runs SLURM.  This is a problem since the grid middleware does not support SLURM as a batch scheduling backend.  However, Brian enlightened me that since the OSG stack already supports PBS, I could simply install SLURM&#39;s Torque/PBS command wrappers and probably get it to work that way.

For the Belle people, does anyone know if the Belle VO uses GIP (Generic Information Providers)?

Brian&#58; what do you mean by &#34;deploying the worker node client on the cluster?&#34;  I have already installed a OSG-CE with Condor, and I even got jobs to run.  As far as I could tell, the worker nodes didn&#39;t need to have an OSG software installed on them.  The only thing they really needed was the Condor software so that they could launch jobs.  Did I miss something in the installation process?

Thanks for your time,
Brock Erwin

-- by Brock Erwin</pre></div><div class='update_description'><i onclick="document.location='12497#1345158051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-16T23:00:51+00:00">Aug 16, 2012 11:00 PM UTC</time><a class="anchor" name="1345158051">&nbsp;</a></div><pre>Oh - I forgot to link this ticket&#58; <a href='http&#58;//jira.opensciencegrid.org/browse/SOFTWARE-744' target='_blank' rel='nofollow'>http&#58;//jira.opensciencegrid.org/browse/SOFTWARE-744</a>

It&#39;ll record the official progress we&#39;re making on SLURM, although we&#39;ve done more experimentation than the age of the ticket indicates.

-- by Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='12497#1345157898'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-16T22:58:18+00:00">Aug 16, 2012 10:58 PM UTC</time><a class="anchor" name="1345157898">&nbsp;</a></div><pre>Hi Brock,

At our site, we&#39;ve been working to write the integration bits for the few OSG components which touch the batch system.  It basically boils down to&#58;
1) GIP (used mostly for compatibility with the European grids, but Belle II might use it.  Ask them when you get the chance, or CC them on the ticket).
2) Gratia. We wrote a new probe for this and are working to package it.
3) Globus.  We are hoping to use the PBS emulation layer, plus maybe a small homegrown script that parses the SLURM logs.

On top of that, we need to do integration and whatnot to make it admin-friendly.  I&#39;m thinking it&#39;ll be about a month.

If you&#39;re impatient (I&#39;m an impatient person myself), I guess you could take a stab at installing the OSG-CE with PBS support and see how far you get with SLURM&#39;s PBS emulation layer.  I don&#39;t think you will get all the bells and whistles going, but it&#39;ll get you experienced with the software.  If nothing else, you can try deploying the worker node client on the cluster.  You&#39;ll likely want to get it all integrated with your configuration management software, which will take some time too.

Brian

-- by Brian Bockelman</pre></div><div class='update_description'><i onclick="document.location='12497#1344969631'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-14T18:40:31+00:00">Aug 14, 2012 06:40 PM UTC</time><a class="anchor" name="1344969631">&nbsp;</a></div><pre>Alain,

Will this be continued out of band, or should I keep this ticket open?

Thank you,
Elizabeth

-- by Elizabeth Prout</pre></div><div class='update_description'><i onclick="document.location='12497#1344895177'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-13T21:59:37+00:00">Aug 13, 2012 09:59 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1344895177">&nbsp;</a></div><pre>Sure, but we don&#39;t yet have installation instructions--they should be ready in a few weeks. We&#39;ll let you know, thanks!
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12497#1344893821'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-13T21:37:01+00:00">Aug 13, 2012 09:37 PM UTC</time><a class="anchor" name="1344893821">&nbsp;</a></div><pre>Alain,

Thanks for the response.  We will definitely be willing to test out the software as soon as you can give it to us.  We have people over here that are very interested in getting &#34;On the Grid&#34; in order to enable physics simulation in coordination with the Belle/Belle2 KEK Physics experiment.  We have a sizable cluster (<a href='http&#58;//pic.pnnl.gov/resources.stm' target='_blank' rel='nofollow'>http&#58;//pic.pnnl.gov/resources.stm</a>) with 19328 cores and more hardware in the works.  Can you send me installation instructions?

Thanks,
Brock

-- by Brock Erwin</pre></div><div class='update_description'><i onclick="document.location='12497#1344888528'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-13T20:08:48+00:00">Aug 13, 2012 08:08 PM UTC</time> by <b>Alain Roy</b><a class="anchor" name="1344888528">&nbsp;</a></div><pre>Hello Brock,

As of right now, we have no support for SLURM in the OSG Software Stack. That said, it&#39;s coming and we hope to have support soon.

We have collaborators at the University of Nebraska-Lincoln (Brian Bockelman has been copied on this ticket) and I understand that they are deploying a new SLURM cluster soon. They are working to fully integrate it with the OSG Software Stack and have developed much of the software that is needed to integrate properly. It&#39;s currently in internal testing and may be ready for wider distribution within a month. Would you be willing to try out the software before it&#39;s been widely deployed?

Thanks,
-alain
------------------------------------
Alain Roy
OSG Software Support
vdt-support@....</pre></div><div class='update_description'><i onclick="document.location='12497#1344877042'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2012-08-13T16:57:22+00:00">Aug 13, 2012 04:57 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1344877042">&nbsp;</a></div><pre>[by Brock Erwin]

I am currently trying to set up a compute element at PNNL, and we have a sizable cluster already in place that uses the SLURM job scheduler.  I would like to be able to get grid jobs running on that cluster using SLURM as the corresponding backend job manager.  However, the install instructions on the OSG website for the compute element (<a href='https&#58;//www.opensciencegrid.org/bin/view/ReleaseDocumentation/ComputeElementInstall#Connect_GRAM_to_Managed_Fork_and' target='_blank' rel='nofollow'>https&#58;//www.opensciencegrid.org/bin/view/ReleaseDocumentation/ComputeElementInstall#Connect_GRAM_to_Managed_Fork_and</a>) don&#39;t claim to support slurm.  A quick google search found the wikipedia page here (<a href='http&#58;//en.wikipedia.org/wiki/Globus_Toolkit#Job_schedulers' target='_blank' rel='nofollow'>http&#58;//en.wikipedia.org/wiki/Globus_Toolkit#Job_schedulers</a>) which suggests that GRAM does indeed support SLURM using shell wrappers.  Is this possible to get working?

Thanks for your time,
Brock</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F12497">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>


</body>
